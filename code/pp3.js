(function() {
    function c$() {
        this.m_ = {};
        this.k4 = {}
    }
    c$.yX = [];
    c$.Ku = function(w) {
        var o = c$.yX;
        if (o.length != 0) {
            var Q = new Y(_.E.z5);
            for (var M = 0; M < o.length; M++) o[M].A(Q)
        }
        window.requestAnimationFrame(c$.Ku)
    };
    window.requestAnimationFrame(c$.Ku);
    c$.prototype.jn = function(w) {
        var o = this.m_[w];
        if (o == null) return !1;
        return o.length > 0
    };
    c$.prototype.addEventListener = function(w, o) {
        this.s(w, o, null)
    };
    c$.prototype.s = function(w, o, Q) {
        if (this.m_[w] == null) {
            this.m_[w] = [];
            this.k4[w] = []
        }
        this.m_[w].push(o);
        this.k4[w].push(Q);
        if (w == _.E.z5) {
            var K = c$.yX;
            if (K.indexOf(this) == -1) K.push(this)
        }
    };
    c$.prototype.removeEventListener = function(w, o) {
        var Q = this.m_[w];
        if (Q == null) return;
        var K = Q.indexOf(o);
        if (K < 0) return;
        var b = this.k4[w];
        Q.splice(K, 1);
        b.splice(K, 1);
        if (w == _.E.z5 && Q.length == 0) {
            var R = c$.yX;
            R.splice(R.indexOf(this), 1)
        }
    };
    c$.prototype.A = function(w) {
        w.currentTarget = this;
        if (w.target == null) w.target = this;
        var o = this.m_[w.type];
        if (o == null) return;
        var Q = this.k4[w.type];
        for (var M = 0; M < o.length; M++) {
            if (Q[M] == null) o[M](w);
            else o[M].call(Q[M], w)
        }
    };

    function E() {
        this.sr = {};
        this.LH = 0;
        this.bq()
    }
    E.oj = null;
    E.prototype.bq = function() {
        var w = navigator.keyboard;
        if (w && window.top == window.self) w.getLayoutMap().then(function(o) {
            E.oj = o
        })
    };
    E.prototype.reset = function() {
        this.sr = {};
        this.LH = 0
    };
    E.prototype.Am = function(w) {
        this.LH++;
        this.sr[w] = !0
    };
    E.prototype.O$ = function(w) {
        this.LH--;
        delete this.sr[w];
        if (this.LH <= 0 || E.Cn(w, E.Ik)) this.reset()
    };
    E.prototype.i = function(w) {
        for (var M = 0; M < w.XZ.length; M++)
            if (this.sr[w.XZ[M]]) return !0;
        return !1
    };
    E.prototype.Tg = function() {
        var w = this,
            o = w.i(E.lK) ? 10 : 1,
            Q = 0,
            K = 0;
        if (w.i(E._O)) Q = -o;
        if (w.i(E.hE)) Q = o;
        if (w.i(E.Vy)) K = -o;
        if (w.i(E.lW)) K = o;
        return new fB(Q, K)
    };
    E.prototype.I8 = function() {
        var w = this,
            o = E.bz;
        for (var M = 0; M < 10; M++)
            if (w.i(o[M])) return M;
        return -1
    };
    E.Cn = function(w, o) {
        return o.XZ.indexOf(w) != -1
    };
    E.Jp = function(w) {
        var o = w.code,
            b = !1;
        if (o == "") return !1;
        var Q = E.Cn,
            K = E.bz.concat([E.SO, E.oV, E.dr, E.OB]);
        for (var M = 0; M < K.length; M++)
            if (Q(o, K[M])) b = !0;
        if (w.altKey && !w.shiftKey && !w.ctrlKey && b) return !1;
        return E.up.indexOf(o) == -1 || w.shiftKey && (o == "F5" || o == "F6")
    };
    E.a9K = function(w) {
        var o = w.code;
        return o != "" && (E.up.indexOf(o) == -1 || w.shiftKey && (o == "F5" || o == "F6"))
    };
    E.p2 = function(w) {
        if (typeof w == "string") return w;
        var o = navigator.platform.toUpperCase().indexOf("MAC") >= 0;
        if (w == null) return "";
        var Q = [];
        for (var M = 0; M < w.length; M++) {
            var K = w[M].Y$ ? w[M].Y$ : w[M];
            if (o && w[M].rF) K = w[M].rF;
            Q.push(K)
        }
        if (o || Q.length == 1) return Q.join(" + ");
        else {
            var b = Q.pop();
            return Q.join("+") + " + " + b
        }
    };
    E.up = "ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
    E.gY = function(w) {
        var o = w.code,
            Q = E.oj;
        if (Q && Q.get(o)) {
            var K = {
                    "+": "NumpadAdd",
                    "-": "NumpadSubtract",
                    ".": "Period"
                },
                b = Q.get(o).toLowerCase(),
                R = b.charCodeAt(0);
            if (97 <= R && R <= 122) {
                var X = "Key" + b.toUpperCase();
                o = X
            } else if (K[b]) o = K[b];
            return o
        }
        var K = {
                "+": "NumpadAdd",
                "-": "NumpadSubtract",
                ".": "Period"
            },
            b = w.key.toLowerCase(),
            R = b.charCodeAt(0);
        if (b.length == 1) {
            if (97 <= R && R <= 122) {
                var X = "Key" + b.toUpperCase();
                o = X
            } else if (K[b]) o = K[b]
        }
        return o
    };
    E.$g = {
        Y$: "Enter",
        XZ: ["Enter", "NumpadEnter"]
    };
    E.lK = {
        Y$: "Shift",
        rF: "\u21E7",
        XZ: ["ShiftLeft", "ShiftRight"]
    };
    E.Ik = {
        Y$: "Meta",
        XZ: ["MetaLeft", "MetaRight", "OSLeft", "OSRight"]
    };
    E.HE = {
        Y$: "Ctrl",
        rF: "\u2318",
        XZ: "ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")
    };
    E.O4 = {
        Y$: "Alt",
        rF: "\u2325",
        XZ: ["AltLeft", "AltRight"]
    };
    E.alq = {
        Y$: "CtrlOrAlt",
        XZ: E.HE.XZ.concat(E.O4.XZ)
    };
    E.EI = {
        Y$: "Escape",
        XZ: ["Escape"]
    };
    E.$0 = {
        Y$: "Space",
        XZ: ["Space"]
    };
    E.YT = {
        Y$: "Tab",
        XZ: ["Tab"]
    };
    E.aky = {
        Y$: "Home",
        XZ: ["Home"]
    };
    E.ahA = {
        Y$: "End",
        XZ: ["End"]
    };
    E._O = {
        Y$: "Left",
        XZ: ["ArrowLeft"]
    };
    E.Vy = {
        Y$: "Up",
        XZ: ["ArrowUp"]
    };
    E.hE = {
        Y$: "Right",
        XZ: ["ArrowRight"]
    };
    E.lW = {
        Y$: "Down",
        XZ: ["ArrowDown"]
    };
    E.SO = {
        Y$: "+",
        XZ: ["NumpadAdd", "Equal"]
    };
    E.oV = {
        Y$: "-",
        XZ: ["NumpadSubtract", "Minus", "Slash"]
    };
    E.El = {
        Y$: ";",
        XZ: ["Semicolon"]
    };
    E.aaf = {
        Y$: "Dead",
        XZ: ["Dead"]
    };
    E.ahY = {
        Y$: "=",
        XZ: ["Equal"]
    };
    E.OW = {
        Y$: "Backspace",
        XZ: ["Backspace"]
    };
    E.U_ = {
        Y$: "Delete",
        XZ: ["Delete"]
    };
    E.abt = {
        Y$: "Backslash",
        XZ: ["Backslash", "IntlBackslash"]
    };
    E.agx = {
        Y$: "Backquote",
        XZ: ["Backquote"]
    };
    E.dr = {
        Y$: "[",
        XZ: ["BracketLeft"]
    };
    E.OB = {
        Y$: "]",
        XZ: ["BracketRight"]
    };
    E.JO = {
        Y$: ".",
        XZ: ["Period"]
    };
    E.amh = {
        Y$: ",",
        XZ: ["Comma"]
    };
    E.IZ = {
        Y$: "'",
        XZ: ["Quote"]
    };
    E.S = {
        Y$: "A",
        XZ: ["KeyA"]
    };
    E.so = {
        Y$: "B",
        XZ: ["KeyB"]
    };
    E.kS = {
        Y$: "C",
        XZ: ["KeyC"]
    };
    E.N4 = {
        Y$: "D",
        XZ: ["KeyD"]
    };
    E.E = {
        Y$: "E",
        XZ: ["KeyE"]
    };
    E.Jx = {
        Y$: "F",
        XZ: ["KeyF"]
    };
    E.PJ = {
        Y$: "G",
        XZ: ["KeyG"]
    };
    E.hy = {
        Y$: "H",
        XZ: ["KeyH"]
    };
    E.jr = {
        Y$: "I",
        XZ: ["KeyI"]
    };
    E.yb = {
        Y$: "J",
        XZ: ["KeyJ"]
    };
    E.tf = {
        Y$: "K",
        XZ: ["KeyK"]
    };
    E.hc = {
        Y$: "L",
        XZ: ["KeyL"]
    };
    E.pB = {
        Y$: "M",
        XZ: ["KeyM"]
    };
    E.f2 = {
        Y$: "N",
        XZ: ["KeyN"]
    };
    E.m$ = {
        Y$: "O",
        XZ: ["KeyO"]
    };
    E.Uc = {
        Y$: "P",
        XZ: ["KeyP"]
    };
    E.amu = {
        Y$: "Q",
        XZ: ["KeyQ"]
    };
    E.To = {
        Y$: "R",
        XZ: ["KeyR"]
    };
    E.rB = {
        Y$: "S",
        XZ: ["KeyS"]
    };
    E.R = {
        Y$: "T",
        XZ: ["KeyT"]
    };
    E.Zj = {
        Y$: "U",
        XZ: ["KeyU"]
    };
    E.fx = {
        Y$: "V",
        XZ: ["KeyV"]
    };
    E.CH = {
        Y$: "W",
        XZ: ["KeyW"]
    };
    E.C3 = {
        Y$: "X",
        XZ: ["KeyX"]
    };
    E.a72 = {
        Y$: "Y",
        XZ: ["KeyY"]
    };
    E.OS = {
        Y$: "Z",
        XZ: ["KeyZ"]
    };
    E.yI = {
        Y$: "0",
        XZ: ["Numpad0", "Digit0"]
    };
    E.oF = {
        Y$: "1",
        XZ: ["Numpad1", "Digit1"]
    };
    E.a0F = {
        Y$: "2",
        XZ: ["Numpad2", "Digit2"]
    };
    E.a7W = {
        Y$: "3",
        XZ: ["Numpad3", "Digit3"]
    };
    E.a3d = {
        Y$: "4",
        XZ: ["Numpad4", "Digit4"]
    };
    E.a6U = {
        Y$: "5",
        XZ: ["Numpad5", "Digit5"]
    };
    E.ab4 = {
        Y$: "6",
        XZ: ["Numpad6", "Digit6"]
    };
    E.afU = {
        Y$: "7",
        XZ: ["Numpad7", "Digit7"]
    };
    E.a8v = {
        Y$: "8",
        XZ: ["Numpad8", "Digit8"]
    };
    E.agR = {
        Y$: "9",
        XZ: ["Numpad9", "Digit9"]
    };
    E.bz = [E.yI, E.oF, E.a0F, E.a7W, E.a3d, E.a6U, E.ab4, E.afU, E.a8v, E.agR];
    E.agS = {
        Y$: "F1",
        XZ: ["F1"]
    };
    E.aa3 = {
        Y$: "F2",
        XZ: ["F2"]
    };
    E.ahj = {
        Y$: "F3",
        XZ: ["F3"]
    };
    E.amD = {
        Y$: "FF",
        XZ: ["F4"]
    };
    E.g5 = {
        Y$: "F5",
        XZ: ["F5"]
    };
    E.afi = {
        Y$: "F6",
        XZ: ["F6"]
    };
    E.af4 = {
        Y$: "F7",
        XZ: ["F7"]
    };
    E.adE = {
        Y$: "F8",
        XZ: ["F8"]
    };
    E.anr = {
        Y$: "F9",
        XZ: ["F9"]
    };
    E.a30 = {
        Y$: "F10",
        XZ: ["F10"]
    };
    E.a2b = {
        Y$: "F11",
        XZ: ["F11"]
    };
    E.a1f = {
        Y$: "F12",
        XZ: ["F12"]
    };

    function hm() {
        c$.call(this);
        this.OM = {};
        this.mi = {};
        this.MJ = 0;
        this.oW = {};
        this.yJ = 0;
        hm.zG = this
    }
    hm.prototype = new c$;
    hm.a00 = function(w, o) {
        var M = 0,
            Q = hm.t7;
        while (M < Q.length) {
            if ((o >>> M & 1) == 1) break;
            M++
        }
        if (o == 0 || Q[M][1] == "") {
            if ((o & 15) != 0 && hm.cF(w, [33, 126]) > .7) M = 0;
            else if (o == 0) M = 0;
            else {
                M = 0
            }
        }
        return Q[M][1]
    };
    hm.Rw = 120;
    hm.y2 = 20;
    hm.cols = 16;
    hm.Ql = function(w) {
        var o = w.name.postScriptName;
        if (o == null) return null;
        return o.replace(/ /g, "-")
    };
    hm.wk = function(w) {
        var o = w.name,
            Q = o.typoFamilyName ? o.typoFamilyName : o.fontFamily,
            K = o.typoSubfamilyName ? o.typoSubfamilyName : o.fontSubfamily,
            b = hm.ag$,
            R = Q.toLowerCase();
        for (var M = 0; M < b.length; M++) {
            if (b[M] == "roman") continue;
            if (R.endsWith(" " + b[M]) || R.endsWith("-" + b[M])) {
                var X = Q.length - b[M].length,
                    h = Q.slice(X);
                Q = Q.slice(0, X - 1);
                if (h != "") {
                    if (K == "Regular" || K == Q + " Regular") K = h;
                    else K = h + " " + K
                }
                break
            }
        }
        var e = "BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
        for (var M = 0; M < e.length; M++)
            if (Q.startsWith(e[M])) {
                var h = Q.slice(e[M].length);
                Q = e[M];
                if (h.startsWith(" ") || h.startsWith("-")) h = h.slice(1);
                if (h != "") {
                    if (K == "Regular") K = h;
                    else K = h + " " + K
                }
                break
            } var Z = {
                "Caudex-BoldItalic": "Bold Italic",
                "Comfortaa-Light": "Light",
                "Comfortaa-Medium": "Medium",
                "Comfortaa-SemiBold": "SemiBold",
                DevroyeSCOSF: "Regular SCOSF",
                DevroyeUnicode: "Regular Unicode",
                "LeagueScriptThin-Regular": "Regular",
                "Monda-Bold": "Bold",
                "Nobile-Bold": "Bold",
                "Oswald-BoldItalic": "Bold Italic",
                "Oswald-HeavyItalic": "Heavy Italic",
                "Oswald-LightItalic": "Light Italic",
                "Oswald-MediumItalic": "Medium Italic",
                "Oswald-RegularItalic": "Regular Italic",
                "PaloAlto-Italic": "Heavy Italic"
            },
            P = Z[hm.Ql(w)];
        if (P) K = P;
        return [Q, K]
    };
    hm.prototype.aS = function(w, o) {
        if (this.OM[w]) return this.OM[w];
        if (this.mi[w]) return null;
        var Q = null,
            K = this.j1();
        if (K[w] != null) Q = K[w][5];
        if (Q == null) {
            var b = hm.a4y[w];
            if (b == null) {
                var R = "DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),
                    X = w.toLowerCase(),
                    h = 0;
                if (X.indexOf("sans") != -1) h = 0;
                else if (X.indexOf("serif") != -1) h = 4;
                var e = X.indexOf("bold") != -1 || X.indexOf("-black") != -1,
                    Z = X.indexOf("italic") != -1 || X.indexOf("oblique") != -1 || X.endsWith("-it");
                if (e && Z) h += 3;
                else if (Z) h += 2;
                else if (e) h += 1;
                b = R[h]
            }
            if (o != null && o > 128) b = this.KV(o, b);
            if (this.oW[w] == null) {
                this.oW[w] = 1;
                var P = Date.now() - this.MJ > 2e3 ? 2e3 : 0;
                this.MJ = Date.now();
                alert(w + " \u27A1 " + b, P)
            }
            return this.aS(b, o)
        }
        this.mi[w] = "a";
        var J = new Y(_.E.N, !0);
        J.data = {
            e: _.S.YU,
            pO: {
                url: "rsrc/fonts/" + Q
            }
        };
        this.A(J)
    };
    hm.prototype.KV = function(w, o, Q) {
        var K = this.OM[o];
        if (K && Typr.U.codeToGlyph(K, w) != 0) return o;
        var b = this.j1(),
            R = hm.a9Z(w),
            X = R[0];
        if (b[o] && (b[o][3] & X) == 0) {
            if (Q)
                for (var M = 0; M < Q.length; M++) {
                    var h = Q[M].Name,
                        e = b[h];
                    if (e && (e[3] & X) != 0) return h
                }
            var h = hm.t7[R[1]][4];
            if (b[h]) return h
        }
        return o
    };
    hm.a9Z = function(w) {
        var o = hm.t7,
            Q = [0];
        for (var M = 0; M < o.length; M++) {
            var K = o[M][2];
            for (var b = 0; b < K.length; b += 2)
                if (K[b] <= w && w <= K[b + 1]) {
                    Q[0] += 1 << M;
                    Q.push(M)
                }
        }
        if (Q.length == 1) Q.push(0);
        return Q
    };
    hm.prototype.ahK = function(w, o) {
        if (o != !0) {
            var Q = Date.now() - this.yJ > 2e3 ? 2e3 : 0;
            this.yJ = Date.now();
            alert(b6.get([22, 6, 0]) + " " + w.name.fullName + " " + b6.get([23, 0]) + ".", Q)
        }
        var K = hm.Ql(w),
            b = this.j1(),
            R = b[K],
            X = hm.afc(w);
        if (R == null) {
            var h = document.createElement("canvas"),
                e = h.getContext("2d");
            h.width = hm.Rw;
            h.height = hm.y2;
            var Z = hm.y2 * 1.2 / w.head.unitsPerEm;
            e.translate(4, hm.y2 * .9);
            e.scale(Z, -Z);
            e.fillStyle = "#000000";
            var P = Typr.U.shape(w, hm.a00(w, X[3]), !0);
            Typr.U.pathToContext(Typr.U.shapeToPath(w, P), e);
            e.fill();
            X.jx = h.toDataURL();
            this.WA(X)
        }
        delete this.mi[K];
        this.OM[K] = w
    };
    hm.a79 = function() {
        var w = hm.t7,
            o = [];
        for (var M = 0; M < w.length; M++) o.push(w[M][0]);
        return o
    };
    hm.t7 = [
        ["Latin-1", "Preview", [161, 169, 192, 246, 248, 255], .7, "DejaVuSans"],
        ["Latin Ext. A", "", [256, 383], .7, "DejaVuSans"],
        ["Greek", "", [913, 929, 931, 969], .7, "DejaVuSans"],
        ["Cyrillic", "", [1040, 1119], .7, "DejaVuSans"],
        ["Hebrew", "", [1473, 1479, 1488, 1514, 1520, 1524], .7, "DejaVuSans"],
        ["Arabic", "", [1569, 1594, 1600, 1749], .4, "DejaVuSans"],
        ["Hangul", "\uC608\uACE0\uD3B8", [4352, 4607, 44032, 55203], .7, "NotoSansKR-Regular"],
        ["Chi-Jap-Kor", "\u9810\u7FD2", [12288, 12351, 12352, 12447, 12448, 12543, 19968, 40895], .05, "DroidSansFallback"],
        ["Tibetan", "\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D", [3840, 3948, 3953, 4044], .7, "NotoSansTibetan"],
        ["Devanagari", "\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928", [2304, 2431], .7, "Hind-Regular"],
        ["Thai", "\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07", [3585, 3642, 3647, 3675], .7, "K2D-Regular"],
        ["Khmer", "\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793", [6016, 6109, 6112, 6121, 6128, 6137], .7, "Battambang-Regular"],
        ["Vietnamese", "Xem tr\u01B0\u1EDBc", [192, 195, 200, 202, 204, 205, 210, 213, 217, 218, 221, 221, 224, 227, 232, 234, 236, 237, 242, 245, 249, 250, 253, 253, 258, 259, 272, 273, 296, 297, 360, 361, 416, 417, 431, 432, 7840, 7929], .95, "DejaVuSans"]
    ];
    hm.afc = function(w, o, Q) {
        var K = w.name,
            e = 0;
        if (hm.Ql(w) == null) {
            console.log(w);
            throw "No postScriptName!"
        }
        var b = hm.t7,
            R = [];
        for (var M = 0; M < b.length; M++) {
            var X = b[M][2],
                h = b[M][3];
            R[M] = hm.cF(w, X) > h ? 1 : 0
        }
        for (var M = 0; M < R.length; M++) e += R[M] << M;
        var Z = hm.wk(w);
        return [Z[0], Z[1], hm.Ql(w), e, Q, o]
    };
    hm.cF = function(w, o) {
        var Q = 0,
            K = 0;
        for (var b = 0; b < o.length; b += 2) {
            for (var R = o[b]; R <= o[b + 1]; R++) {
                var X = Typr.U.codeToGlyph(w, R);
                if (X == 0) K++;
                else Q++
            }
        }
        return Q / (Q + K)
    };
    hm.al1 = function(w, o) {
        if (w[2] < o[2]) return -1;
        if (w[2] > o[2]) return 1;
        return 0
    };
    hm.a0p = function(w, o) {
        if (w[5] == "fs/" + w[2] + ".otf") w[5] = "";
        else if (w[5] == "gf/" + w[2] + ".otf") w[5] = "a";
        if (w[2] == (w[0] + "-" + w[1]).replace(/\s/g, "")) {
            w[2] = ""
        } else if (w[2] == w[0].replace(/\s/g, "")) {
            w[2] = "a"
        }
        if (o) {
            if (w[0] == o[0]) w[0] = "";
            if (w[1] == o[1]) w[1] = "";
            if (w[3] == o[3]) w[3] = "";
            if (w[4] == o[4]) w[4] = ""
        }
        return w.join(",")
    };
    hm.afE = function(w, o) {
        w = w.split(",");
        if (w[0] == "") w[0] = o[0];
        if (w[1] == "") w[1] = o[1];
        if (w[3] == "") w[3] = o[3];
        else w[3] = parseInt(w[3]);
        if (w[4] == "") w[4] = o[4];
        else w[4] = parseInt(w[4]);
        if (w[2] == "") w[2] = (w[0] + "-" + w[1]).replace(/\s/g, "");
        else if (w[2] == "a") w[2] = w[0].replace(/\s/g, "");
        if (w[5] == "") w[5] = "fs/" + w[2] + ".otf";
        else if (w[5] == "a") w[5] = "gf/" + w[2] + ".otf";
        return w
    };
    hm.a4y = {
        ArialMT: "LiberationSans",
        "Arial-BoldMT": "LiberationSans-Bold",
        "Arial-ItalicMT": "LiberationSans-Italic",
        "Arial-BoldItalicMT": "LiberationSans-BoldItalic",
        TimesNewRomanPSMT: "LiberationSerif",
        "TimesNewRomanPS-BoldMT": "LiberationSerif-Bold",
        "TimesNewRomanPS-ItalicMT": "LiberationSerif-Italic",
        "TimesNewRomanPS-BoldItalicMT": "LiberationSerif-BoldItalic",
        CourierNewPSMT: "LiberationMono",
        "CourierNewPS-BoldMT": "LiberationMono-Bold",
        "CourierNewPS-ItalicMT": "LiberationMono-Italic",
        "CourierNewPS-BoldItalicMT": "LiberationMono-BoldItalic",
        Courier: "CourierPrime",
        TrebuchetMS: "SourceSansPro-Regular",
        "TrebuchetMS-Bold": "SourceSansPro-Semibold",
        "TrebuchetMS-Italic": "SourceSansPro-It",
        "TrebuchetMS-BoldItalic": "SourceSansPro-SemiboldIt",
        "Times-Roman": "LiberationSerif",
        Impact: "Anton-Regular",
        Calibri: "SourceSansPro-Regular",
        "Calibri-Italic": "SourceSansPro-It",
        "Calibri-Bold": "SourceSansPro-Bold",
        CalibriBold: "SourceSansPro-Bold",
        "Times-Roman": "LiberationSerif",
        "Times-Italic": "LiberationSerif-Italic",
        "Times-Bold": "LiberationSerif-Bold",
        "Helvetica-Bold": "LiberationSans-Bold",
        "HelveticaNeue-Thin": "Roboto-Thin",
        "HelveticaNeue-Light": "Roboto-Light",
        HelveticaNeue: "Roboto-Regular",
        "HelveticaNeue-Roman": "Roboto-Regular",
        "HelveticaNeue-Medium": "Roboto-Medium",
        "HelveticaNeue-Bold": "Roboto-Bold",
        "HelveticaNeue-BoldItalic": "Roboto-BoldItalic",
        "HelveticaNeue-Black": "Roboto-Black",
        "HelveticaNeue-Heavy": "Roboto-Black",
        "SFProText-Light": "Roboto-Light",
        "SFProText-Regular": "Roboto-Regular",
        "SFProText-Roman": "Roboto-Regular",
        "SFProText-Medium": "Roboto-Medium",
        "SFProText-Semibold": "Roboto-Medium",
        "SFProText-Bold": "Roboto-Bold",
        "SFProText-BoldItalic": "SFProText-BoldItalic",
        "SFProText-Black": "Roboto-Black",
        "SFProText-Heavy": "Roboto-Black",
        "SFProDisplay-Light": "Roboto-Light",
        "SFProDisplay-Regular": "Roboto-Regular",
        "SFProDisplay-Roman": "Roboto-Regular",
        "SFProDisplay-Medium": "Roboto-Medium",
        "SFProDisplay-Semibold": "Roboto-Medium",
        "SFProDisplay-Bold": "Roboto-Bold",
        "SFProDisplay-BoldItalic": "SFProDisplay-BoldItalic",
        "SFProDisplay-Black": "Roboto-Black",
        "SFProDisplay-Heavy": "Roboto-Black",
        "SFUIText-Light": "Roboto-Light",
        "SFUIText-Regular": "Roboto-Regular",
        "SFUIText-Roman": "Roboto-Regular",
        "SFUIText-Medium": "Roboto-Medium",
        "SFUIText-Semibold": "Roboto-Medium",
        "SFUIText-Bold": "Roboto-Bold",
        "SFUIText-BoldItalic": "SFUIText-BoldItalic",
        "SFUIText-Black": "Roboto-Black",
        "SFUIText-Heavy": "Roboto-Black",
        Verdana: "DejaVuSans",
        "Verdana-Bold": "DejaVuSans-Bold",
        "Verdana-Italic": "DejaVuSans-Oblique",
        "Verdana-BoldItalic": "DejaVuSans-BoldOblique",
        "MyriadPro-Regular": "PTSans-Regular",
        "MyriadPro-Bold": "PTSans-Bold",
        "MyriadPro-LightIt": "PTSans-Italic",
        "MyriadPro-Semibold": "PTSans-Bold",
        "MyriadPro-BlackCond": "PTSans-NarrowBold",
        Cambria: "Oranienbaum-Regular",
        Georgia: "CharisSIL",
        "Georgia-Bold": "CharisSIL-Bold",
        "Georgia-Italic": "CharisSIL-Italic",
        "Georgia-BoldItalic": "CharisSIL-BoldItalic",
        "AGaramondPro-Regular": "EBGaramond08-Regular",
        "AGaramondPro-Bold": "EBGaramond08-Bold",
        "AGaramondPro-Italic": "EBGaramond08-Italic",
        Garamond: "EBGaramond08-Regular",
        FontAwesome: "FontAwesome5FreeSolid",
        "ProximaNova-Regular": "Metropolis-Regular",
        "ProximaNova-Semibold": "Metropolis-SemiBold",
        "ProximaNova-Light": "Metropolis-Light",
        BellMT: "GalatiaSIL",
        PalatinoLinotype: "TeXGyrePagella-Regular",
        "PalatinoLinotype-Bold": "TeXGyrePagella-Bold",
        "PalatinoLinotype-Italic": "TeXGyrePagella-Italic",
        "PalatinoLinotype-BoldItalic": "TeXGyrePagella-BoldItalic",
        "": ""
    };
    hm.prototype.j1 = function() {
        if (FNTS.map == null) {
            var w = FNTS.list,
                o = [];
            for (var M = 0; M < w.length; M++) {
                o[M] = hm.afE(w[M], o[M - 1]);
                o[M].qX = M;
                this.WA(o[M])
            }
        }
        return FNTS.map
    };
    hm.prototype.WA = function(w) {
        var o = w[0],
            Q = w[1],
            K = w[5];
        if (FNTS.map == null) FNTS.map = {};
        FNTS.map[w[2]] = w;
        if (FNTS.mapFS == null) FNTS.mapFS = {};
        var b = FNTS.mapFS[o + "---" + Q];
        FNTS.mapFS[o + "---" + Q] = w;
        if (FNTS.mapSub == null) FNTS.mapSub = {};
        var R = FNTS.mapSub[o];
        if (R == null) R = FNTS.mapSub[o] = [];
        var X = R.indexOf(Q);
        if (X == -1) R.push(Q);
        else R[X] = Q
    };
    hm.acM = function(w, o) {
        return hm.iS(w) - hm.iS(o)
    };
    hm.iS = function(w) {
        w = w.toLowerCase();
        var o = hm.ajL(w) + (hm.ahn(w) << 1);
        if (w.indexOf("cond") == -1) o += 1 << 25;
        return o
    };
    hm.ajL = function(w) {
        return w.indexOf("italic") != -1 || w.indexOf("oblique") != -1 ? 1 : 0
    };
    hm.ag$ = "two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
    hm.anc = ["two", "four", "eight", "hair", "thin", "ultralight", "extralight", "light", ["regular", "roman", "book"], "medium", ["semibold", "demibold"], "bold", "extrabold", "heavy", "ultra", "black", "x black"];
    hm.ahn = function(w) {
        var o = hm.anc,
            Q = -1,
            K = -1;
        for (var M = 0; M < o.length; M++) {
            var b = o[M];
            if (b instanceof Array)
                for (var R = 0; R < b.length; R++) {
                    var X = b[R];
                    if (w.indexOf(X) != -1 && (Q == -1 || K < X.length)) {
                        Q = M;
                        K = X.length
                    }
                } else if (w.indexOf(b) != -1 && (Q == -1 || K < b.length)) {
                    Q = M;
                    K = b.length
                }
        }
        if (Q == -1) Q = 8;
        return Q
    };
    hm.on = function(w, o) {
        var Q = 1e9,
            K = null,
            b = hm.iS(o);
        for (var M = 0; M < w.length; M++) {
            var R = Math.abs(hm.iS(w[M]) - b);
            if (R < Q) {
                Q = R;
                K = w[M]
            }
        }
        return K
    };
    hm.prototype.M4 = function(w, o) {
        this.j1();
        return FNTS.mapFS[w + "---" + o]
    };
    hm.prototype.Qq = function(w) {
        this.j1();
        return FNTS.mapSub[w]
    };
    hm.prototype.ag8 = function() {
        this.j1();
        return FNTS.mapSub
    };
    var hi = {
            Ms: 0,
            z1: null,
            S1: null,
            cx: null,
            j4: null,
            zK: null,
            l3: !0,
            Jo: 0,
            Q7: !1
        },
        eh = 0;
    hi.t5 = function() {
        var w = _.LI(24) ? " " : "",
            o = _.m3[_.iZ("Uu," + w)];
        o = o[_.iZ(w + "$/")];
        return hi.wu() != null && hi.wu()[_.LY("!&|'&50")] * 50 > o() / 20
    };
    hi.cW = function() {
        return hi.ahO() != null
    };
    hi.wu = function() {
        return hi.zK
    };
    hi.c6 = function(w) {
        window.addEventListener("message", hi.alx, !1);
        setInterval(hi.ka, 5e3);
        if (hi.cW()) {
            hi.z1 = w;
            hi._$()
        } else setTimeout(w, 1)
    };
    hi.ka = function() {
        if (hi.cW() && hi.Q7) {
            hi.h3(hi.FQ());
            hi.Q7 = !1
        }
    };
    hi.gc = function(w) {
        hi.z1 = w;
        var o = "https://www.photopea.com/papi/login.php?redirect=" + encodeURIComponent(window.location.href);
        hi.cx = window.open(o, "_blank")
    };
    hi.akv = function() {
        localStorage.removeItem(hi.Ms + "_uid");
        localStorage.removeItem(hi.Ms + "_provider");
        localStorage.removeItem(hi.Ms + "_token");
        hi.zK = null
    };
    hi.alx = function(w) {
        if (w.data instanceof ArrayBuffer || w.data instanceof Object) return;
        if (w.data.charAt(0) != "{") return;
        var o = JSON.parse(w.data);
        if (o.prms == null) return;
        var Q = o.prms.split(",");
        if (Q[0] == "papi_logged_in") {
            localStorage[hi.Ms + "_uid"] = Q[1];
            hi.he(Q[2]);
            localStorage[hi.Ms + "_provider"] = Q[3];
            hi.cx.close();
            hi._$()
        }
        if (Q[0] == "payment_complete") {
            hi.j4.close();
            hi._$()
        }
    };
    hi.ahO = function() {
        var w = localStorage[hi.Ms + "_token"];
        if (w != null && Date.now() * .001 + 10 < parseInt(w.split("-")[0])) return w;
        return null
    };
    hi.he = function(w) {
        var o = localStorage[hi.Ms + "_token"];
        if (o != null && parseInt(w.split("-")[0]) < parseInt(o.split("-")[0])) return;
        localStorage[hi.Ms + "_token"] = w;
        clearTimeout(hi.Jo);
        hi.Jo = setTimeout(hi.acB, Math.min(1e9, parseInt(w.split("-")[0]) * 1e3 - Date.now() - 20 * 1e3))
    };
    hi.acB = function() {
        var w = new XMLHttpRequest;
        w.open("POST", "https://www.photopea.com/papi/record_new.php", !0);
        w.onload = hi.akR;
        var o = hi._2(0) + "&read=2";
        w.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        w.send(o)
    };
    hi._$ = function() {
        var w = new XMLHttpRequest;
        w.open("POST", "https://www.photopea.com/papi/record_new.php", !0);
        w.onload = hi.af7;
        var o = hi._2(0) + "&read=1";
        w.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        w.send(o)
    };
    hi.h3 = function(w) {
        var o = new XMLHttpRequest;
        o.open("POST", "https://www.photopea.com/papi/record_new.php", !0);
        o.onload = hi.a0H;
        var Q = hi._2(0) + "&read=0&score=" + (w.tpl ? 1 : 0) + "&spublic=" + hi.l3 + "&record=" + encodeURIComponent(JSON.stringify(w));
        o.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        o.send(Q)
    };
    hi.af7 = function(w) {
        var o = JSON.parse(w.target.response);
        if (o.error) {} else {
            hi.zK = o.user;
            var Q = hi.FQ(),
                K = o.record;
            if (o.record) {
                hi.l3 = o.spublic;
                hi.AY(K)
            } else if (Q) hi.h3(Q)
        }
        hi.he(o.token);
        if (hi.z1) {
            hi.z1();
            hi.z1 = null
        }
        if (hi.S1) {
            hi.S1();
            hi.S1 = null
        }
    };
    hi.akR = function(w) {
        var o = JSON.parse(w.target.response);
        hi.he(o.token)
    };
    hi.a0H = function(w) {
        var o = JSON.parse(w.target.response);
        hi.he(o.token);
        if (hi.S1) hi._$()
    };
    hi._2 = function(w) {
        return "app=" + w + "&uid=" + localStorage[hi.Ms + "_uid"] + "&token=" + localStorage[hi.Ms + "_token"]
    };
    hi.QI = function() {
        return hi.FQ()
    };
    hi.fK = function(w, o) {
        hi.AY(w);
        hi.Q7 = !0;
        if (o) {
            hi.S1 = o;
            hi.ka()
        }
    };
    hi.FQ = function() {
        var w = localStorage[hi.Ms + "_stateLocal"],
            o;
        if (w == null) return null;
        try {
            o = JSON.parse(w)
        } catch (b6) {
            return null
        }
        return o
    };
    hi.AY = function(w) {
        var o = JSON.stringify(w);
        localStorage[hi.Ms + "_stateLocal"] = o
    };
    hi.order = function(w, o, Q) {
        hi.z1 = Q;
        var K = "https://www.photopea.com/papi/order.php?ptype=" + o + "&param=" + w + "&uid=" + localStorage[hi.Ms + "_uid"] + "&token=" + localStorage[hi.Ms + "_token"];
        hi.j4 = window.open(K, "_blank")
    };
    var b6 = {};
    b6._E = 0;
    b6.Qi = {};
    b6.$o = function(w) {
        var o = LNG.tables,
            Q = o[w];
        if (typeof Q == "string") {
            Q = o[w] = b6.DH(Q)
        }
        return Q
    };
    b6.DH = function(w) {
        var o = [],
            Q = 0,
            K = 0,
            b = [],
            R = w.length;
        while (K != R) {
            var X = w[K];
            if (X == "[") {
                o.push(b);
                b = [];
                K = Q = K + 1
            } else if (X == "]") {
                b.push(Q == K ? null : w.substring(Q, K));
                var h = b;
                b = o.pop();
                b.push(h);
                K = Q = K + 1
            } else if (X == ";") {
                if (w[K - 1] != "]") b.push(Q == K ? null : w.substring(Q, K));
                K = Q = K + 1
            } else K++
        }
        return b
    };
    b6.get = function(w) {
        if (typeof w == "string") return w;
        var o = typeof w[0];
        if (o == "number") {
            for (var M = 1; M < w.length; M++)
                if (typeof w[M] != "number") {
                    console.log(w);
                    throw "e"
                } return b6.a1s(w)
        }
        var Q = b6.get(w[0]);
        for (var M = 1; M < w.length; M++) {
            var K = b6.get(w[M]),
                b = Q.indexOf("VAR" + (M - 1));
            Q = Q.slice(0, b) + K + Q.slice(b + 4)
        }
        return Q
    };
    b6.a1s = function(w) {
        var o = JSON.stringify(w);
        if (b6.Qi[o] != null) return b6.Qi[o];
        var Q = b6.$o(0),
            K = b6.$o(b6._E),
            b = b6.z8(w, K);
        if (b == null) b = b6.z8(w, Q);
        return b
    };
    b6.z8 = function(w, o) {
        for (var M = 0; M < w.length; M++) {
            o = o[w[M]];
            if (o == null) return null;
            else if (typeof o == "string") break
        }
        return o.split("::")[0]
    };
    b6.ahe = function() {
        var w = function(Q, K) {
                var b = Q.code,
                    R = K.code;
                if (b == "en") return -1;
                if (R == "en") return 1;
                var X = navigator.languages,
                    h = X.indexOf(b) != -1,
                    e = X.indexOf(R) != -1;
                if (h && e) return b > R ? 1 : -1;
                if (h) return -1;
                if (e) return 1;
                return b > R ? 1 : -1
            },
            o = LNG.langs.slice(0);
        o.sort(w);
        return o
    };
    b6.ab7 = function(w) {
        b6._E = w
    };
    b6.hl = function(w) {
        for (var M = 0; M < LNG.langs.length; M++)
            if (LNG.langs[M].code == w) b6._E = M
    };
    b6.vx = function() {
        return LNG.langs[b6._E].code
    };
    b6.a0W = function(w) {
        for (var M = 0; M < w.length; M += 2)
            if (w[M + 1].indexOf(">") == -1) b6.Qi[JSON.stringify(w[M])] = w[M + 1]
    };
    b6.Z$ = function(w) {
        var o = -1,
            Q = LNG.langs;
        for (var M = 0; M < Q.length; M++)
            if (Q[M].code == w) o = M;
        return o
    };
    var hj = {
        sx: !1,
        vL: !1,
        _8: !1
    };
    hj.fX = function() {
        return _.m3[_.cG("vrt", 2)] != _.m3[_.cG("xksn", 5)]
    };
    hj.Z1 = function() {
        var w = _.LY,
            o = _.m3[w("u#z/*%1:")],
            Q = o[w("s#{3")],
            K = w("t&|{1%h2.94@I"),
            b = w("xy+_)%0+7@qK~<"),
            R = w("r$'\x7F+$f.283"),
            X = w("#y$)3%f.283"),
            h = 0,
            e = w("$y+[145/+AC7"),
            Z = w("rx*\x7F+3("),
            P = _.Hw("Y_5UDDB>&\x7F");
        if (_.m3[P] != !0) {
            h = 1
        }
        var J = o[K](w("u}-"));
        J[e](w("zx"), Z);
        J[e](w("$(0&\""), w("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
        Q[R](J);
        J = o[b](Z);
        if (J == null) {
            h = 2
        } else {
            if (!Q[w("t#%.~)19")](J)) {
                h = 3
            } else if (Math.round(J[w("xy+\\,51*2:6uAA@LU6LMa")]()[w("(}{.%")] - 500) > 5) {
                h = 4
            }
            Q[X](J)
        }
        if (hj.vL) h = 5;
        if (hj._8) h = 6;
        return h
    };
    hj.anB = function(w) {
        var o = _.iZ("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),
            Q = {
                method: "HEAD",
                mode: "no-cors"
            },
            K = new Request(o, Q);
        fetch(K).then(function(b) {
            return b
        }).then(function(b) {
            w(!1)
        }).catch(function(b) {
            hj.vL = !0;
            console.clear();
            w(!0)
        })
    };
    hj.a68 = function() {
        var w = _.mj("UU[YW#ECC8"),
            o = _.mj("VQ](RUK>@B8p71*03m}x'"),
            Q = _.mj("WQRMKT"),
            K = this.a1B[w][o]();
        if (K[Q] < 4) {
            hj._8 = !0;
            this.aeS(!0)
        }
    };
    hj.a2x = function() {
        var w = _.m3._cwY,
            o = _.m3[_.LY("$y+n&-(5>@")],
            Q = "FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\",
            K = String.fromCharCode(32);
        w(_.Hw(Q) + K + K + hj.Z1());
        if (!hi.t5()) o(hj.a2x, Math.round(Math.PI * 1e4))
    };
    hj.adm = function(w, o, Q, K, b) {
        _.Tk(Q);
        var R = _.LY,
            X = R("r$'\x7F+$f.283"),
            h = R("$y+[145/+AC7"),
            e = R("rx{_3%1:u5BF:F@P"),
            Z = R("#y'&~#("),
            P = R("$(0&\""),
            J = R("$&z"),
            i = R("r'0( "),
            k = R("%y/.`/1:.:C"),
            $ = R("u}-"),
            n = _.iZ("zz*{+&"),
            j = _.m3[R("u#z/*%1:")],
            y = R("t&|{1%h2.94@I"),
            V = R("$w)#-4"),
            O = _.iZ("z#+ 05e,0<B8"),
            S = _.iZ("w}*.2c,061"),
            G = _.iZ(" u.$%\"86<"),
            D = _.iZ("!#c$,&"),
            q = _.m3[G][D];
        if (!hj.fX() && !hj.Z1() && q && w * o > 300 * 300) {
            var T = j[R("xy+_)%0+7@BtN,<E/ETO")](R("yyx~"))[0],
                L = JSON.parse(_.mj("JgjYUC^sX<EB;;^PM~|$@r{xqlei[n\"``RvHQMO>DG^]Z)\\#VMxAwG;:26``/#,!RMszDrpl:a3d**UNk.W)%|Lssdi)bhslwdgVR@[pU9B?88[MJ{y!=oxunibfXk~]]OsUBNBFGD2770\"2 +C!#^LPUsq[$]cnuhHBR<d9A<-24O3 , $%/D)52`4Z.%PxO~rqim88fZcX*%KR{JHDq9j<aa-xq|il\\]V`uZ<H>0>03/=i()r|zv\\t`li[ewuibc^_X5")),
                U = 0,
                p = "lor<%03.62D4=f?LFrX`aY{]okcwoxz7;54;&14/73E5>gAIVVUMhy{\\dt.kw~:qwC*%/759105DEmrtu~pu+rs\"7!.'lt%>{(/J\"(S:5?GEIA@ETU}#%&/{Z,^(p{~y\"}0 )R+82^DLMEgI[WOc[df#'! 'q| z#~1!*S-5BBA9TegHP`yWcj&]c/upz#!%|{!01Y^`ai\\av^_m#lyrX`p*gsz6ms?&!+315-,1@AinpqygFwJs\\gjemi{kt>v$}J0891S5GC;OGPRnrlkr]hkfnj|lu?x!..-%@QS4<LeCOVqIOza\\fnlphgl{|EJNPTHMbJKYnXe^DL\\uS_f\"Y_+qlv~|!xw|,-UZ^`dS2c6_HSVQYUgW`*boi6{$%|?!3/';3<>Z^XW^ITWRZVhXa+dlyyxp,=? (8Q/;B]5;fMHRZX\\TSXgh16:<A49N67EZDQJ08Ha?KRmEKv]XbjhldchwxAFJLQ?}O\"K4?B=EASCLuN[U\"goph+l~zr'~(*FJDCJ5@C>FBTDMvPXeed\\w)+ks$=z'.I!'R94>FDH@?DST|\"&). %:\"#1F0=6{$4M+7>Y17bIDNVTXPOTcd-269>+i;m7 +.)1-?/8a:GAmS[\\TvXjf^rjsu260/6!,/*2.@09b<DQQPHctvW_o)fry5lr>% *204,+0?@hmrorkp&mn|2{)\"go 9v#*E|#N50:B@D<;@OPx}# #vU'Y#kvyt|x+z$M&3-Y?GH@bDVRJ^V_a}\"{z\"lwzu}y,{%N(0==<4O`bCK[tR^e!X^*pku}{ wv{+,TY^[_W\\qYZh}gtmS[k%bnu1hn:!{&.,0(',;<dinkobArEnWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmXcfaiewgp:s{))( ;LN/7G`>JQlDJu\\Waigkcbgvw@EGNJCH]EFTiS`Y?GWpNZa|TZ&lgqyw{srw'(PUW^ZN-0aZjmFXP\"Yj+**5k7h7o{\"+|\"113<X<6HeJRBOO\\TTdh'kfpxvzrqv&'J-,4V6BS`YCRUTZ${~jmp*fqtows&u~.#3:0-2C`9HImVFOyXd#^jq.my+81)v+;&14/73E5>Yy_JUXS[WiYb}}!'&+K3}),'/+=-6_8E?]}cNY\\W_[m]f0huo..17uz[C=+?OC=,HNVw|~ ( gaPlrz<ACDMD,&t17?`egnjw_JUXS[WiYb,dqk8}&'~A#51)=5>@\\`ZY`TN=Y_g).01:%E+u!$~'#5%.W159?GA2NT\\rt ,'328768:AqVFNSUV_Xb0D?IQOSKJyRabWogfv8190nIKLKBE][,]T^?GWpNZa|TZ&lgqyw{srw'(PUWXaSX`7=@2GW^TQV{^ilgok}mv@&.} &8OSVkS>ILGOK]MV em]_ew/3;t|*z~,(n75C;6D'MBHnr(or]hkfnj|lu?y&{ -)y/?F<9>Ofj es)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgnb\\Kgmu7<>?G3S9$/2-51C3<e?CGMUO@\\bj!#.:5A@FEDFHO dT\\acdlfm>RMW_]aYX(`ope}ut%F?G>|U]ZYPifi:kblMUe~\\ho+bh4zu (&*\"!&56^cefnafnEKN@Uelb_d*lwzu}y,{%N4<,.4F]adyaLWZU]Yk[d.s{kms&=AI#+8)-:6|ECQIDR5[PV|!6}!kvyt|x+z$M(4*.;7(=MTJGL]tx.s\"7fqtows&u~H!.(T:BC;]?QMEYQZ\\x|vu|pjYu{$EJLSOAaG2=@;C?QAJsMQU[c]Njpx/1<HCONTSRTV].rbjoqxtt|L`[emkogf6n}~s,$#3TMUL+igpg^a}wHypz[cs-jv}9pvB)$.6480/4CDlqszvot|SY\\Ncszpmr8z&)$,(:*3\\BJ:<BTkor(oZehckgyir<v#x|*&v,<C96;Lcg|des)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgVad_gcuen8quy (\"r/5=SU`lgsrxwvxz\"R7'/48:>9Ep% *204,+Z3BC8PHGWxqypO**-,#<9<l>5? (8Q/;B]5;fMHRZX\\TSXgh16:<@49Aw}!r(8?527\\?JMHPL^NW!fn^`fx047L{'*%-);+4]7;?EMG8TZbxz&2-98>=<>@Gw\\LTY]_d^g6JEOWUYQP Xgh]uml|>7?6tOORQH]ca2cZdEM]vT`g#Z`,rmw }\"yx}-.V[_afY^f=CF8M]dZW\\\"dormuq$s|F,4$&,>UY\\qALOJRN`PY#\\`djrl]y (>@KWR^]cbacel=\"qy~#&+$-[ojt|z~vuE}-.#;32Bc\\d[:ttwvm#)'W) *jr#<y&-H &Q83=ECG?>CRS{!%(-~$,bhk]r#* |\"G*583;7I9BkQYIKQcz~\"7fqtows&u~H\"&*082#?EMcep|w$#)(')+2bG7?DIFIIR!50:B@D<;jCRSH`XWg)\"*!_::=<3HNL|NEO08Ha?KRmEKv]XbjhldchwxAFKHKDIQ(.1#8HOEBGlOZ]X`\\n^g1v~npv)@DG\\,7:5=9K;DmGKOU]WHdjr)+6B=IHNMLNPW(l\\dinkonwFZU_geia`0hwxm&}|-NGOF%__baXmsqBsjtU]m'dpw3jp<#}(0.2*).=>fkpmqinvMSVH]mtjgl2t #}&\"4$-V<D46<Neil\"Q\\_Zb^p`i3myos!|m#3:0-2CZ^s[^abp&oN";
            for (var M = 0; M < L.length; M++) {
                var N = j[y](V),
                    F = L[L.length - 1 - M];
                for (var I in F) {
                    if (I == "txt") N[k] = F[I];
                    else N[h](I, F[I])
                }
                T[O](N, T[S])
            }
            var s = j[y](_.iZ("r"));
            s[h](_.iZ("zx"), _.iZ("!)D.\",P)>;"));
            s[h](_.iZ("t!x.1"), _.iZ("!)D.\",P:2<G_I>PSKSO^"));
            var u = [.2, 0, .8],
                g = Math.random();
            while (u[U] < g && U < u.length - 1) {
                g -= u[U];
                U++
            }
            if (b == 1 && U == 0) {
                console.log(1);
                var r = j[y](n),
                    x = _.iZ("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE"),
                    C = x.split(",");
                for (var M = 0; M < C.length; M += 2) r[h](C[M + 0], C[M + 1]);
                r[h](P, R("~u)!&.P(8@CABrmnQ\\"));
                Q[X](r);
                if (!hj.sx) {
                    hj.sx = !0;
                    var p = _.iZ("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn"),
                        l = j[y](V);
                    l[k] = p;
                    T[X](l)
                }
                Q[X](s);
                return
            }
            if (b == 1 && U == 1) {
                console.log(2);
                var c = j[y](_.iZ("u}."));
                c[h](P, _.LY("~u)!&.P(8@CABrmnQ\\"));
                var t = j[y](_.iZ("u}."));
                c[X](t);
                t[h](_.iZ("zx"), _.iZ("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
                t[h](_.iZ("t!x.1"), _.iZ("pu(y~1)?).4"));
                var p = _.iZ("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),
                    l = j[y](V);
                l[k] = p;
                t[X](l);
                Q[X](c);
                if (!hj.sx) {
                    hj.sx = !0;
                    var p = _.iZ("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),
                        l = j[y](V);
                    l[h](_.iZ("uu,{J$*(=F>6"), _.iZ("wu$.#"));
                    l[k] = p;
                    T[X](l)
                }
                Q[X](s);
                return
            }
            var H = _.m3[R("[gfh")][R("!u)-\"")](_.iZ(p));
            if (!hj.sx) {
                hj.sx = !0;
                var l = j[y](V);
                l[h](J, H[1]);
                T[X](l);
                var l = j[y](V);
                l[h](i, i);
                l[h](J, H[2]);
                T[X](l);
                var l = j[y](V);
                l[k] = H[3];
                T[X](l)
            }
            var gl = H[0],
                ie = [gl[b]],
                fk = gl[5];
            if (b == 2) {
                ie = [gl[3], gl[4]];
                if (o >= 3 * 270 + 30) ie = [gl[3], gl[4], gl[5]];
                if (o >= 4 * 270 + 30) ie = [gl[3], gl[4], gl[5], gl[6]]
            }
            for (var M = 0; M < ie.length; M++) {
                var h5 = ie[M],
                    t = j[y]($);
                t[h](R("zx"), h5[1]);
                t[h](P, R("~u)!&.P(8@CABrmnQ\\"));
                Q[X](t);
                var l = j[y](V);
                l[k] = h5[0];
                t[X](l)
            }
            Q[X](s)
        } else {
            var cf = [R("z!~I-0\":*8;`EFB")];
            for (var M = 0; M < cf.length; M++) {
                var f = j[y](R("z!~"));
                f[h](P, R("t))-,2]685=F:Jv"));
                f[e](R("t  }("), K, !1);
                f[h](J, cf[M]);
                Q[X](f)
            }
        }
    };
    var ax = {
        Yn: 0,
        YM: {
            expires_at: 0
        },
        Lo: []
    };
    ax.EH = function(w) {
        if (w) ax.Lo.splice(0, 0, w);
        if (ax.Yn == 1) return;
        if (ax.YM.expires_at > Date.now() * .001 + 30) {
            while (ax.Lo.length > 0) ax.Lo.pop()()
        } else {
            if (ax.Yn == 0) ax.Yn = 1;
            gapi.auth.authorize({
                client_id: "463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",
                scope: ["https://www.googleapis.com/auth/drive.install", "https://www.googleapis.com/auth/drive.file"].join(" "),
                immediate: ax.Yn == 2 ? !1 : !0
            }, ax.amF)
        }
    };
    ax.amF = function(w) {
        if (w && !w.error) {
            ax.YM = w;
            ax.Yn = !1;
            ax.EH()
        } else if (ax.Yn == 1) {
            ax.Yn = 2;
            ax.EH()
        } else alert("Error: " + w.error)
    };
    ax._I = function() {
        return "access_token=" + ax.YM.access_token + "&token_type=" + ax.YM.token_type
    };
    ax.GX = function() {
        return ax.YM.token_type + " " + ax.YM.access_token
    };

    function ip() {}
    ip.tq = {
        a9g: ["PNG", "JPG", "SVG", "GIF", "PDF"],
        alG: "WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")
    };
    ip.jF = function(w) {
        if (!(w instanceof ArrayBuffer)) {
            console.log("Input is not ArrayBuffer")
        }
        var o = new Uint8Array(w),
            Q = ip.hL,
            K, b = 0,
            R = o.length - 1;
        if (Q(o, [239, 187, 191])) b = 3;
        while (b < o.length && (o[b] == 9 || o[b] == 10 || o[b] == 13 || o[b] == 32)) b++;
        while (R != 0 && (o[R] == 9 || o[R] == 10 || o[R] == 13 || o[R] == 32)) R--;
        if (Q(o, [56, 66, 80, 83])) K = "psd";
        if (Q(o, [120, 218, 236])) K = "pxd";
        if (Q(o, [120, 156, 220])) K = "pxd";
        if (Q(o, [103, 105, 109, 112, 32, 120, 99, 102, 32])) K = "xcf";
        if (Q(o, [102, 105, 103, 45, 107, 105, 119, 105])) K = "fig";
        if (Q(o, [137, 80, 78, 71, 13, 10, 26, 10])) K = "png";
        if (Q(o, [87, 76])) K = "cdr";
        if (Q(o, [82, 73, 70, 70])) {
            var X = ae.DG(o),
                h = X.xM;
            if (h == "WEBP") K = "webp";
            else if (h.slice(0, 3) == "CDR") K = "cdr";
            else K = h
        }
        if (Q(o, [70, 79, 82, 77]) || Q(o, [76, 73, 83, 84]) || Q(o, [67, 65, 84, 32])) {
            var X = b1.DG(o),
                h = X.xM;
            if (h == "ILBM") K = "ilbm";
            else K = h
        }
        if (Q(o, [255, 216, 255])) K = "jpg";
        if (Q(o, [0, 0, 0, 12, 106, 80, 32, 32])) K = "jpg";
        if (Q(o, [48, 0, 1, 0], 4)) K = "jpg";
        if (Q(o, [71, 73, 70, 56])) K = "gif";
        if (Q(o, [0, 0, 0, 2, 121, 102, 113, 76])) K = "msh";
        if (Q(o, [0, 0, 0, 3, 121, 102, 113, 76])) K = "msh";
        if (Q(o, [0, 0, 0, 16])) K = "atn";
        if (Q(o, [0, 1])) K = "aco";
        if (Q(o, [0, 2])) K = "aco";
        if ([0, 1].indexOf(o[1]) != -1 && [1, 2, 3, 9, 10, 11].indexOf(o[2]) != -1 && [0, 16, 24, 32].indexOf(o[7]) != -1) K = "tga";
        if (Q(o, [0, 2, 56, 66, 83, 76])) K = "asl";
        if (Q(o, [0, 1, 0, -1, 0, 2, 0])) K = "abr";
        if (Q(o, [0, 2, 0, -1, 0, 2, 0])) K = "abr";
        if (Q(o, [0, 6, 0, 1])) K = "abr";
        if (Q(o, [0, 6, 0, 2])) K = "abr";
        if (Q(o, [0, 7, 0, 2])) K = "abr";
        if (Q(o, [0, 9, 0, 2])) K = "abr";
        if (Q(o, [0, 10, 0, 2])) K = "abr";
        if (Q(o, [56, 66, 70, 83])) K = "shc";
        if (Q(o, [56, 66, 80, 84])) K = "pat";
        if (Q(o, [56, 66, 71, 82])) K = "grd";
        if (Q(o, [56, 66, 84, 80])) K = "tpl";
        if (Q(o, [0, 4, 0, 5])) K = "acv";
        if (Q(o, [99, 117, 115, 104])) K = "csh";
        if (Q(o, [0, 1, 0, 0, 0])) K = "otf";
        if (Q(o, [79, 84, 84, 79])) K = "otf";
        if (Q(o, [116, 116, 99, 102])) K = "otf";
        if (Q(o, [68, 68, 83, 32])) K = "dds";
        if (Q(o, [80, 86, 82, 3])) K = "pvr";
        if (Q(o, [86, 84, 70, 0])) K = "vtf";
        if (Q(o, [83, 73, 77, 80])) K = "fits";
        if (Q(o, [0, 0, 1, 0])) K = "ico";
        if (Q(o, [66, 77])) K = "bmp";
        if (Q(o, [80, 49])) K = "ppm";
        if (Q(o, [80, 50])) K = "ppm";
        if (Q(o, [80, 51])) K = "ppm";
        if (Q(o, [80, 52])) K = "ppm";
        if (Q(o, [80, 53])) K = "ppm";
        if (Q(o, [80, 54])) K = "ppm";
        if (Q(o, [73, 73, 42, 0])) K = "tiff";
        if (Q(o, [77, 77, 0, 42])) K = "tiff";
        if (Q(o, [70, 85, 74, 73, 70, 73, 76, 77])) K = "raf";
        if (Q(o, [112])) K = "lif";
        if (Q(o, [73, 73, 26, 0])) K = "ciff";
        if (Q(o, [83, 81, 76, 105])) K = "sketch";
        if (Q(o, [80, 75])) {
            var e = UZIP.parse(w, !0);
            if (e["document.json"]) K = "sketch";
            else if (e.manifest) K = "xd";
            else K = "zip"
        }
        if (Q(o, [123])) K = "json";
        if (W.g(o, 0) == o.length) K = "icc";
        if (Q(o, [35])) K = "icc";
        if (Q(o, [84, 73, 84, 76])) K = "icc";
        if (Q(o, [76, 85, 84, 95])) K = "icc";
        if (Q(o, [60, 63, 120, 109], b)) {
            if (W.x$(o, "<look>") != -1) K = "icc";
            else K = "svg"
        }
        if (Q(o, [60, 115, 118, 103], b)) K = "svg";
        if (Q(o, [60, 33, 100, 111], b)) K = "html";
        if (Q(o, [60, 33, 68, 79], b)) K = "html";
        if (Q(o, [37, 33]) || Q(o, [197, 208, 211, 198])) {
            K = "eps"
        }
        if (Q(o, [37, 80, 68, 70], b)) K = "pdf";
        else if (Q(o, [10, 69, 79, 70], R - 3)) K = "dxf";
        if (Q(o, [215, 205, 198, 154])) K = "wmf";
        if (Q(o, [1, 0, 0, 0])) K = "emf";
        if (Q(o, [118, 47, 49, 1])) K = "exr";
        if (Q(o, [10, 10, 10, 10])) K = "jsx";
        if (K == null && v.raw.qL(o.length) != null) return "tiff";
        return K
    };
    ip.hL = function(w, o, Q) {
        if (Q == null) Q = 0;
        for (var M = 0; M < o.length; M++)
            if (o[M] != -1 && w[Q + M] != o[M]) return !1;
        return !0
    };
    ip.pR = function(w) {
        var o = {
            BMP: ip.dA,
            CDR: ip.Wo,
            DDS: ip.Hn,
            EMF: ip.kQ,
            DXF: ip.RQ,
            EPS: ip.cJ,
            FIG: ip.sG,
            GIF: ip.YZ,
            ICO: ip.Fj,
            ILBM: ip.T$,
            FITS: ip.Ft,
            EXR: ip.nZ,
            JPG: ip.gZ,
            LIF: ip.W4,
            PDF: ip.IQ,
            PNG: ip.RV,
            PPM: ip.$i,
            PSD: ip.CG,
            PXD: ip.zs,
            RAF: ip.Av,
            RAW: ip.yY,
            SKETCH: ip.dI,
            SVG: ip.Es,
            TGA: ip.BW,
            TIFF: ip.TY,
            VTF: ip.Gk,
            WEBP: ip.xl,
            WMF: ip.lb,
            XCF: ip.JQ,
            XD: ip.Hd
        };
        return o[w.toUpperCase()]
    };
    ip.Xe = function(M) {
        var w = ip.tq.a9g,
            o = ip.tq.alG,
            Q, K = [];
        if (M == null) Q = w.concat(o);
        else Q = M == 0 ? w : o;
        for (var M = 0; M < Q.length; M++)
            if (ip.pR(Q[M]).nl) K.push(Q[M]);
        return K
    };
    ip.yz = function(w, o, Q, K, b) {
        var R = ip.Lx(w, o, Q, K, b),
            X = ip.kH(R);
        return X.buffer
    };
    ip.kH = function(w) {
        var o = atob(w.split(",").pop()),
            Q = new Uint8Array(o.length);
        for (var M = 0; M < o.length; M++) Q[M] = o.charCodeAt(M);
        return Q
    };
    ip.Lx = function(w, o, Q, K, b, R) {
        if (!(w instanceof ArrayBuffer)) throw "e";
        if (K == null) K = "png";
        if (K == "png" && R == !0) {
            var X = ip.pR("PNG").nl([
                [w, 0]
            ], o, Q);
            return "data:image/png;base64," + ip.IS(X)
        }
        var h = ip.R$;
        if (h == null) h = ip.R$ = _.B("canvas");
        if (h.width != o || h.height != Q) {
            h.width = o;
            h.height = Q
        }
        var e = h.getContext("2d"),
            Z = new ImageData(new Uint8ClampedArray(w, 0, o * Q * 4), o, Q);
        e.putImageData(Z, 0, 0);
        return h.toDataURL("image/" + K, b)
    };
    ip.a62 = function(w, o, Q, K, b) {
        if (b == null) b = 0;
        var R = "<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",
            X = "<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> " + R + "<g transform=\"translate(64 64) scale(" + .25 * Math.round(_.J()) + ")\">";
        if (w == 1) X += "<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">" + "<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>" + "</g>";
        X += "<g filter=\"url(#sofGlow)\"><image transform=\"rotate(" + b + ")\" xlink:href=\"" + o + "\" x=\"" + 80 * Q + "\" y=\"" + 80 * K + "\" height=\"80\" width=\"80\"/></g>" + "</g>" + "</svg>";
        var h = new Uint8Array(X.length);
        W.oi(X, h, 0);
        var e = "data:image/svg+xml;base64," + ip.IS(h.buffer);
        return {
            Cm: e,
            U: new B(0, 0, 128, 128),
            Ut: new fB(64, 64)
        }
    };
    ip.IS = function(w) {
        var o = new Uint8Array(w),
            Q = "";
        for (var M = 0; M < o.length; M++) Q += String.fromCharCode(o[M]);
        return btoa(Q)
    };
    ip.a82 = function(w) {
        var o = atob(w),
            Q = o.length,
            K = new Uint8Array(Q);
        for (var M = 0; M < Q; M++) K[M] = o.charCodeAt(M);
        return K.buffer
    };
    ip.RF = function(w) {
        var o = [],
            Q = [];
        for (var M = 0; M < w.t.length; M++) {
            var K = w.t[M];
            if (K.getName().slice(0, 3) == "_a_") {
                o.push(M);
                Q.push(K.HY())
            }
        }
        return [o, Q]
    };
    ip.P2 = function(w, o, Q, K, b, R) {
        if (Q == null) Q = w.D;
        if (K == null) K = w.j;
        var X = new B(0, 0, w.D, w.j),
            h = new dj(Q / (w.D + .001), 0, 0, K / (w.j + .001), 0, 0),
            Z;
        o = o.toUpperCase();
        var e = ip.pR(o);
        if (e.Jh) {
            w.X_();
            Z = e.nl(w, Q, K, b, R)
        } else {
            var P = ip.RF(w),
                J = P[0],
                i = P[1],
                k;
            if (w.SF.length != 0) {
                k = [];
                for (var M = 0; M < w.SF.length; M++) k.push(w.SF[M].Qj(X))
            }
            if (J.length < 2) {
                var $;
                if (Q == w.D && K == w.j) $ = w.X_().buffer;
                else {
                    var n = z.Z.OU([w.X_(), X], h);
                    $ = n.buffer.buffer
                }
                Z = e.nl([
                    [$, 0, w.cK, w._7, k]
                ], Q, K, b)
            } else {
                var j = [];
                for (var M = 0; M < J.length; M++) {
                    var y = J[M],
                        $;
                    for (var V = 0; V < J.length; V++) w.t[J[V]].BZ(J[V] == y);
                    w.tE();
                    w.C();
                    w.rW();
                    if (Q == w.D && K == w.j) $ = w.X_().buffer.slice(0);
                    else {
                        var n = z.Z.OU([w.X_(), X], h);
                        $ = n.buffer.buffer
                    }
                    var O = w.t[y].getName().split(",");
                    j.push([$, O[1] ? parseInt(O[1]) : 100, w.cK, w._7, k])
                }
                for (var M = 0; M < J.length; M++) w.t[J[M]].BZ(i[M]);
                w.C();
                w.rW();
                if (b) {
                    var S = b.length,
                        G = b[S - 1],
                        D = b[S - 3] / 100;
                    if (D != 1)
                        for (var M = 0; M < j.length; M++) j[M][1] = Math.round((j[M][1] == 0 ? 16 : j[M][1]) / D);
                    if (G) j.reverse()
                }
                Z = e.nl(j, Q, K, b)
            }
        }
        return Z
    };
    ip.xX = function(w, o) {
        var Q = o[0].Y9 && o[0].Y9.startsWith("_a_"),
            K, b = new fb(w + ".psd"),
            R = new B(0, 0, 1, 1);
        if (Q) {
            K = b._g();
            K.add.lsct = bb.SI;
            K.jG(w);
            K.TC = "pass";
            K.a1 = 24;
            K.BZ(!0);
            b.t.push(b.JG())
        }
        for (var M = 0; M < o.length; M++) {
            var X = o[M];
            R = R.OX(X.Ip);
            var h = b._g();
            h.BZ(M == 0);
            h.jG(o.length == 1 ? "Background" : "Layer " + M);
            if (X.cK) b.cK = X.cK;
            if (X._7) b._7 = X._7;
            if (X.Y9) h.jG(X.Y9);
            h.rect = X.Ip.clone();
            h.buffer = new Uint8Array(X.data);
            v.Ay(h);
            b.t.push(h)
        }
        if (Q) b.t.push(K);
        if (o[0].SF) {
            for (var M = 0; M < o[0].SF.length; M++) {
                var e = new a.Zz;
                b.SF.push(e);
                e.rect = o[0].Ip.clone();
                e.channel = o[0].SF[M]
            }
        }
        b.u = [Q ? b.t.length - 1 : 0];
        b.D = R.D;
        b.j = R.j;
        b.buffer = v.$(R.O() * 4);
        b.C();
        return b
    };
    ip.RV = {};
    ip.RV.nl = function(w, o, Q, K) {
        if (K == null) K = [100, !1, 0, 0, 0];
        var b = {
            sRGB: 1,
            loop: K[3]
        };
        if (w[0][2] != null) {
            var R = Math.round(w[0][2] * (1e4 / 254));
            b.pHYs = [R, R, 1]
        }
        var X = K[0],
            h = X == 100 ? 0 : Math.max(2, Math.floor(X * 5));
        if (h == 5) h = 4;
        var e = [],
            Z = [];
        for (var M = 0; M < w.length; M++) {
            e.push(w[M][0]);
            Z.push(w[M][1])
        }
        var P = UPNG.encode(e, o, Q, h, Z, b, K[1]);
        return P
    };
    ip.RV.a4r = function(w, o, Q) {
        return UPNG.encodeLL([w], o, Q, 3, 1, 8)
    };
    ip.RV.p5 = function(w) {
        var o = Date.now(),
            Q = UPNG.decode(w),
            K = UPNG.toRGBA8(Q),
            b = Q.width,
            R = Q.height,
            X = 0;
        if (Q.tabs.pHYs) X = Math.round(Q.tabs.pHYs[0] * 254 / 1e4);
        if (K.length == 1) return [{
            Ip: new B(0, 0, b, R),
            data: K[0],
            cK: X
        }];
        var h = [];
        for (var M = 0; M < K.length; M++) {
            h.push({
                Y9: "_a_frm" + M + "," + Q.frames[M].delay,
                Ip: new B(0, 0, b, R),
                data: K[M],
                cK: X
            })
        }
        return h
    };
    ip.$i = {};
    ip.$i.nl = function(w, o, Q, K) {
        var b = new Uint8Array(w[0][0]),
            R = o * Q,
            X = R * 3,
            h = "P6\n" + o + " " + Q + "\n255\n",
            e = h.length,
            Z = v.$(e + X, !0);
        for (var M = 0; M < e; M++) Z[M] = h.charCodeAt(M);
        for (var M = 0; M < R; M++) {
            var P = M * 4,
                J = M * 3 + e;
            Z[J] = b[P];
            Z[J + 1] = b[P + 1];
            Z[J + 2] = b[P + 2]
        }
        return Z.buffer
    };
    ip.$i.p5 = function(w) {
        w = new Uint8Array(w);
        var o = [" ".charCodeAt(0), "\n".charCodeAt(0), "\t".charCodeAt(0), "\r".charCodeAt(0)],
            Q = 0,
            K = String.fromCharCode(w[0]) + String.fromCharCode(w[1]),
            b = [],
            R = 0,
            X = K == "P1" || K == "P4" ? 2 : 3;
        for (Q = 2; Q < w.length; Q++) {
            var h = w[Q],
                e = String.fromCharCode(h);
            if (h == "#".charCodeAt(0)) {
                while (w[Q] != "\n".charCodeAt(0)) Q++;
                continue
            }
            var Z = o.indexOf(h) != -1;
            if (R == 0 && !Z) {
                b.push(e);
                R = 1;
                continue
            }
            if (R == 1 && !Z) {
                b[b.length - 1] += e;
                continue
            }
            if (R == 1 && Z) {
                R = 0;
                if (b.length == X) break;
                continue
            }
        }
        var P = parseInt(b[0]),
            J = parseInt(b[1]),
            i = P * J * 4,
            k = K == "P1" || K == "P4" ? 1 : 255 / parseInt(b[2]),
            $ = v.$(i);
        if (K == "P1" || K == "P2" || K == "P3") {
            var n = "",
                j = 0,
                R = 0,
                y = "#".charCodeAt(0);
            for (var M = Q; M < w.length; M++) {
                var h = w[M],
                    e = String.fromCharCode(h),
                    Z = o.indexOf(h) != -1;
                if (h == y) {
                    while (w[M] != "\n".charCodeAt(0)) M++
                } else if (R == 0 && !Z) {
                    n = e;
                    R = 1
                } else if (R == 1) {
                    if (Z) {
                        R = 0;
                        var V = parseInt(n);
                        n = "";
                        if (K == "P1") {
                            $[j] = $[j + 1] = $[j + 2] = (1 - V) * 255;
                            $[j + 3] = 255;
                            j += 4
                        }
                        if (K == "P2") {
                            $[j] = $[j + 1] = $[j + 2] = Math.round(V * k);
                            $[j + 3] = 255;
                            j += 4
                        }
                        if (K == "P3") {
                            $[j] = Math.round(V * k);
                            j++;
                            if ((j & 3) == 3) {
                                $[j] = 255;
                                j++
                            }
                        }
                    } else n += e
                }
            }
        }
        var O = P * J;
        if (K == "P4")
            for (var S = 0; S < J; S++) {
                var G = S * 8 * Math.ceil(P / 8);
                for (var D = 0; D < P; D++) {
                    var M = G + D,
                        q = w[Q + 1 + (M >> 3)];
                    q = q >> 7 - (M & 7) & 1;
                    var T = S * P + D << 2;
                    $[T] = $[T + 1] = $[T + 2] = (1 - q) * 255;
                    $[T + 3] = 255
                }
            }
        if (K == "P5")
            for (var M = 0; M < O; M++) {
                var T = 4 * M;
                $[T] = $[T + 1] = $[T + 2] = Math.round(w[Q + 1 + M] * k);
                $[T + 3] = 255
            }
        if (K == "P6")
            for (var M = 0; M < O; M++) {
                var T = 4 * M,
                    L = Q + 1 + 3 * M;
                $[T] = Math.round(w[L] * k);
                $[T + 1] = Math.round(w[L + 1] * k);
                $[T + 2] = Math.round(w[L + 2] * k);
                $[T + 3] = 255
            }
        return [{
            Ip: new B(0, 0, P, J),
            data: $.buffer
        }]
    };
    ip.Hn = {};
    ip.Hn.nl = function(w, o, Q, K) {
        var b = new Uint8Array(w[0][0]);
        if ((o & 3) != 0 || (Q & 3) != 0) {
            var R = o + (4 - (o & 3)),
                X = Q + (4 - (Q & 3)),
                h = new Uint8Array(R * X * 4);
            v.Fw(h, 4278190080);
            v.c1(b, new B(0, 0, o, Q), h, new B(0, 0, R, X));
            b = h;
            o = R;
            Q = X
        }
        return UTEX.DDS.encode(b.buffer, o, Q)
    };
    ip.Hn.p5 = function(w) {
        var o = UTEX.DDS.decode(w)[0];
        return [{
            Ip: new B(0, 0, o.width, o.height),
            data: o.image
        }]
    };
    ip.Gk = {};
    ip.Gk.p5 = function(w) {
        var o = UTEX.VTF.decode(w).pop();
        return [{
            Ip: new B(0, 0, o.width, o.height),
            data: o.image
        }]
    };
    ip.gZ = {};
    ip.gZ.$f = null;
    ip.gZ.aam = function(w, o) {
        var Q = ip.gZ.$f,
            K = w.byteLength,
            b = o.width,
            R = o.height,
            X = b * R,
            h = 5e6 + 2 * K + X * (o.progressive ? Math.max(2, o.numComponents) * 4 + 1 : 8),
            e = Q.instance.exports,
            Z = e.memory.buffer.byteLength;
        if (Z < h) e.memory.grow(h - Z >>> 16);
        var P = new Uint8Array(e.memory.buffer),
            J = e.malloc(K);
        P.set(new Uint8Array(w), J);
        var i = e.malloc(4),
            k = e.malloc(4),
            A = e.malloc(4),
            $ = e.stbi_load_from_memory(J, K, i, k, A, 4);
        e.free(J);
        e.free(i, k, A);
        e.free($);
        var n = P.slice($, $ + X * 4);
        return n
    };
    (function() {
        var w = new Uint8Array(63156),
            o = "7X19jF3Hdd+d+33ffXf37ReX5NLmvGs6pRorVhqXdmMn5qRZLkXKVJG2aP9oYMu23Pjuo6RdrtZOK2vXrlI4gBQpbRIkSFqoTdC6gRrIqP9wWqGVGjVRDLdhEid1AzdRUjdwAbdmAANxAdXs+Z0zcz/ee7tcSqQsGaR0992P+TjnzDlnzsycOePdc+mi8jxP/XD/fcHOzo7aeV+0syM3Cn98vsUnD/fe+2L+TDeKrtAmtS/pLtmpb9Od+j44tuJ5fuAnSZCpOAyU73tBHvRSRf+CMFIPqDSNAuX58ay/o8yz/zjMdzz+SU5H8cV7L96/+aO+F1+8ZzS6/wOeH35o8957vTh/73t/5N57Hnjv+++5dG+gli5tvf/D7x3df88H3/uhzfsvvldyeWlWKM+oPMl6+aHlw0d6P/4nwcpzSvk7/mn/tPa0umSCjZDuhkFf5XhFz6v1C/wEp7W/WgQ60Op2z/tez9O+2amGvlZGVUOlA/opA8pWeHlO38I7C0oyDCkfZTnpe6d8jxKF1ZAe8aN0aB6qytAE5ykL5Qg2hn6OSjzJY6tBwZyHq0Glpc91ePmniHIWhT3g9VFQC9gJKO+mTMpcVRsESLqlw036HeB3GNXQRy3QrwFzC+AOpI+HKtrRHoFovNkcIOM/c9xo7X3YqDMrZUg4pLjOr/zdMlonIJmCVNx2gTL9LfNSUhEdS9Rm1FABQ/NRvDJqm260d3eB5jh+vlA1uU76oQBBRArwydORDteNljajUndTIgzKQtkBiOgDVZRECKhC9X1CIdDeIBji3nhDn4HfzSQHwMMdVbmBe9S9KSRLiQLGwwsASClSugeG64wPfQZnnEEbUOp+JWySCyyq+zrM3b394rvU3iAEUALQUAF75jjz8AZ9B8HNoxn9z1mJxLOV+ehG6VE7AkpC8wzxNUiW8Ae1Rq30aAaxqJAgRIKQCYj2eyTTil6DzQg6wEUV8yuNwtWWYE+U0ooYEOl8IV4O5CtmmPwXfWJdSk4tDMoEdSsSwVJqgQ6RfEskKofaU3BmTmi9C/ld2LwT2gTSNr5tEvrdJlZT61RTuxl1sAZxJfRNirtwEK4WkDYLrxncyU3rCttg6liC0Yd1wpsr8LhqJAi4MuLKdXCG+wqCgV6g+1X6l2xUxG0OiDMrmvWEN4gI9PynfZIabgppM8tynuW27TJYJ1mUho3QVtRGEVoLN5YdPceEwTU50JvOgV6LAz3HgeD6hgVJHH2LOrGL2qJShbUAwv4CEDDPQr4AaMDYUyXCUJT3lJ9qW1sgkOW/Eqt4x1ZHRVou11JNGVhqlrH2zqwMlehHZg0Uw4iFQhufqzQMM8NHOpDuO/CFljwhpW7Iw3wQdl+Hubu3X4KamFyrcMbDG2goAnHoMWSOkpSfhbaMAJtiUSF4SF1Z2CKCLerCFlnYIkrdwBZyKd3XYe7u7ZdQUludEdcwqgZGgio+w8ApkU5w6hCyB2ip0YWYFrxGe3c4a+gaDkJ5yu8TibhJPYgXiwP3B5YMrbZRjm9d25A2hUYd5x3gH3TwF0Xefd3CX7744/hb7nX4l76IE9FgjaXA0QBYhJx2CN3GsuyosTeX+8LlvhXHvbhcCSdAY+8tsAcsy3IVdX0z9Bq2AZVHeiX/lb5KdlwXLNKBXk/VnTN3y8p1yw0EUDeRdMtKR+iWo8lu2ZvoltXdBaSbu2UP3bLX7ZYj6ZYD2y3bUjvdctTqlj10y57tlonFuVuO0S2HrW7ZAwE8p63ZkHB9AJMtarXX/j1Oi7OiVqczRSkykTkRp1aD8EBdMiwN6ZIjqwB96HCyv1yHrH3bJRPZK7EsKEGc26brdsneWJccNV1yzF1y2I9yZgbYOEzYQQSIatVIOlTajTENJbPP8rQuWtJ2k7bb8tFjBtRjAn8qJ0SvGeZ9BtCaJWW0xqUFIrVlLFoucFoutm0RU1vE3baIbVvEUKj9RsXFrXchq+S+fReOKd7ACTUbPGTQrrEOCJxIQ/nCsiOi+ZJvGOV6L0o4OoDf6G3E9kJtOexBh7ZMJW2ZStcJZytTMWQqbslUKDIFYz6clKlAZMra2yFkKrQyFYtMpTphmQqkVMgUTHohH8AMIVMh+InaxcpUzDIV9APQL2LTYBAKSpafI7bgdQQZi1o6O6pJFF1XzxpN71mjloxFnd4raMsYCb6FKwA1XGs7OcPnWtaCWtbiqkxqUQqRzUpbYGWNaMaylrAwsqKyshZYWeORkchaIHwRN7JG1KOhQQAz2LdKil6FQtvcMr52RpTrRPHi/MrAOwqhpOSzYjMzMw3utHzlW6U4ZoZSSbUZ6vqrDTQh87iC7q6/+tYMhXqYMEN9MkNFeQwiGru9+LfUoZ03eebJ7yNWPUEMChXzWeJWdDUn5eewvH1a4ZdAKunhGSUvP6PMzz6hBj6ZCFTqTz2BXoDqf4JviHCP4gZCX4l2VoP+EFnj24LPqrcHVKY3iMVWIvpfT1HQN+CjQTHMUIhJh9xwSDCYaVeBrje2GZ8FUcLzVFed/A+JyDwYJ2Tfqb5kcf88/f6A93b/eZ5IsKWusgi/SBmCzeEC3X53NYRKu6MaFiTKWWATzor9N/W/ne6zzUC2wG9/8p99LryLh+y/+cg/+fnwDBuKX/jET36ObkluzfO/8NOfC9eKXGfFId1fpT8x1KKHn8FIz+M3HYFhgu2RpiEgE3O1GEhTvZSBhU/5j/Tk+RuZbc9T/i5ekab9Cl719Syb+F/N9GKRkYiletaoC0Wi+8PEeP0UbPs7AFYg/E+f+vQnojM8Ov/dX/jNf56sFT2CcEn36ZrD7AP1SnpplZ48vXQePwWN/4dzVHK/jwkEs3MXa3YC/zMKfEakXOwv5HhxGIqMfp9WJGPzsOQ4FalZflkS5/fuKuYodyIcetI/QYl667g7Nhd5XBZlzFaLBaqqWKOf2BFdrFWzu7ubnh9732/e+xaC0lWu7mR4Ye+UUq13u+cNM+ank/5JhhlMdFn1l3J/R6Aq8PMWRmrOgxEDk2yIRiHuu8NJXMqF3O7dAa7WRZWzuKRW/BQkTqfDBJo846mdGVSjZ8yAIDV0s2V+5hMh0XyBuYu6IwE2MSK4VEwCYJMWsATGIZ0MMazfH9hkT2CTfYAlVZ4wqIdMfL5YlAcTUPdgguEhuuYEFTNYK0AwfQg9ziL6IYwE29TOGmonuqF3oW4C3PnQE1Bfc6Cc7oLSAOJ1G/Xw/g06DslQGS4AYAAKAgoVj0EDgUVjHjaKGpOrS6FlFkQbKdyx2JPCiKkp/W30VPS7QZ0ny8uA2X5mOE+/cxCyXeor79PJfbB85iD4WTEP8SNumcfYjXqxYIO6heC+cskEo7VinkugF3cWKGwgSnlo5XOorMZIgkkRyBoR6HWp1SMRQDvuQTHlUu3Vfj3qcPcSgQxU7VEnQ/BkDp4M8PQ4ZTZFJImrGMT94dmPn/aGp5cz5+hEQOo5kHqNSuuNqzSmeY+h3B+k/VSa2k+lUYNWxDnoi6nrr3Qmd5iY0ANANtBLZEzn6IKkpXuupfUC5oy5tXut1p5rWjvTc+MU3qe1k2ny0RP5SCAfPSsfWQuVXoOKYuDRzbkFATu0xWQC9XsJwzHgeWX00Dy/tbVWDAiFeVKEBJ8aLuPlBdKJBSbhls1gOI83Z4u+ZcTfJ6bPLCk8100yGag+IYNqWhSLDsNBlwQDrfZrUc+l2qtFB1ZptdWE15BhYNKtYZ+bxWs1i2qaZa4LzxwJobomPHN7wjO3DzyUJiPrhpXT5juVRwLoE/3QHsL4zE2Ds+CwIhfZ6ugTj0kbi/bdYQmKnNbX8XVoWtGycUWGY146HS+9cz6u3a2GEAuD5M87MA+/IgvDg2n8JaiIioyLn8sqql9nIzA16MXNmNT0gjYnY44U9yyZejQ0ZCKv0JMHazLRs2fpPtE5Wd4agr6r+c/5FZ2v8GqPKonHtwgUJEKJfZ0PkrIv5ivZps+rnE3T4ayYzY1t2NIDylKWzbReYyNm5wr+QPj0zlOJsxAQjMRiSUPWMhueoFYynO3P5JwkG3hDa1PSQ0UFZOtiBYLAMpCpjVabF7WcKYr+LEy0vpU+Mqz7RMC8zLAQ1+mR+COLAmm1dNMcf0CnRm9sFuggZnniIc55LBJcQVN+9UhFaiA2n+wRKahSK+/Gu0uo8dVMqPGVDP2fQNXRiWlTY+ZMSZ6QpQ+oAZm/nolJpmlQiS6TnlPSVUe4rWNZPXPJM0yl9E5JHrUxnGH+6qbhIsukSZlwSkrknys8C3Y+AXbe1RkN2ErATgG2quEAwETe3qatRJWpgCxpH27g6ZFZgoxfzzpjsZ4hOyPhBVCxno1anwmUP0NYpybZKPMQr1OdXyDA0ro/IeD7FvgsECuBGrzVywsLcC/PZkYNfFIDZIFXmwKXTtrAEynWa+CVzi3wgEqdFTsAE3+x+ezt6BFS0D6nYSDXPewFbHWgNwU0oJ9Jt4l9e0jXg74LiOHNlZ550h8MVos+9UFPFEYPBtT59KGSUhOeY5S9BuX92cxrt5fXai9vvL1qlDHU9BqkPfP3m9TKRJZ3eEWcoaH0DTT7c880pvfaTC/QeC3uIavWwaLM8Q0GvwVQDwDlnLJHn4c9WakXuNQkY6SBmGupY4y04epURhEKKsDC5bg6cXDlm7Y2dPVWFHPzcerBpPfCfASUxOXb5PeLtzlr9ZT3R7cxBR9qoM9NuG0FO4eWCaphHoizgT+BQjGBQvGyUMicLmmjQMA/XXDvEpvLt1Vk9ZGg8XQMJflYm10CB3FP52uCM3iX51CI7yW/WSAGZonI+9xjLFSw24boz2V+5itZJRkGc9TC85hl7WF0Z2ZZg5ort1Ws6524cAfLCR7ASph6Dy+3qPXQdkNXMnrrXxDt+/WsrRRqwmnW01OI57WJ5wnxVFtKRBkntTJORFJK1ZaTh6ua1P62aOLVAk8BtyxomVXma7eBzCTqLbiDbyncH2vgDrZtv5AAZHHUcUAm31Igf7QBMnFAXvU2TA4z03gwn0jdr2vvbOE37AP7Qh2FxUAmHpkfHozPHhYRZm2iPjSth2k7eaw0sa7x1oZUb75a5IznNzJedBOunSWOBbDg08RQfX2xdXZ7Ja9i1NN6J/1HeqtFodl2eSkr03UMQDT9ZGxqeWJqEaoXABhRkEwthRxsAL40NjMI26fkomFDJTIqw3ibR0Nm18ckOwH2scr4W9RtXS4wnY+ezvw5vVt4T0tUyLY0l2d4uj9vmjWb1JesS2pd3r8eS6BtwKRbjdJJdathqRddd6qFOlRrv+zofMvsXNrQZF31ckv3eaK7Ar3RExCGibk8yxjmrFTNkS6C9HnACPanIrgwFcGFm4Bgv0Gw3yDYFwTzCozmWQ5JyLzQOTD0CHXHVOcnmapP3NJjE0In69Zyb9iJ+Txx7NTfi53Smp3I6McyUU88BjxqE/QEvYFCJcxfvVX2MsmlMl5Eqaz3nF1wbqwYLxfzlHGNYaeZj25gOY/pwIbdhPUiqoMo56wXZaeJqAl4xJzqbKisbYXRUIqqZfxjwjVZk/NPm09m/o75NE8L/Nvb8fff3U62/ibuPsvPv8rPEOCrwSXKd9T8ewsDeKYSsMjyhNJIXBOk7yl881s9R336mI7LdEmYVWzj1S3Rsy1hBbtQ5oksx8JVll9Lwh1VeLSkk3qMBIaUsQprJVTJtJZMM3YodiVjuyGXPATl4in/BaUXV1lVLa6Llfa8GpBZQuY/j0ift8OoQcnDXeEDXuXS0dqKjgw8p2Q8qZdXyuKUv4jkl5WoimcVfFHCobh3DJOWOX+YgCqMb0gSzODMymjItqNONiHL7Dch62Pau6iTszJCTEY0wMtsiqxOkV2EfucU2WjgD2dgT8yD5lQ3WcukFTxzJWOxJ368RPaDeaLHjwnmrZL7hlh+uCwpUoaVnp+WZw85qnJJp/dheEvttoQV3kQPzovnTIqxpnmWhq+LNHwuqA9ZINPm0GAeays0Kh5pJQs/D2JWb2E0xDwSVm1IchaMd27Fts/nlcx6Ek+PhoepAvo5go5pROpohpGrhimhtuRSC4mHRwlVGtqPhisYA8iwE9TSRwn+UYUZRL1SITsGzWDhwxUbedyis2dFL9DQNdFLeLekF6z1NyBjVA/AGQO9WA0Xc6ImJZg3yZrA/KyqeWoG63KyatfQAvPmlhZzsBqWV2VEeVlRo7si4Fcnnj0jGdF/3s6YLRqffYDgThu/Vf0+5hLp94tQpvT7B7yqB7Z5qyJ01wqZmsRDKg8hP2TyEFdYQ4QbFdwDPOdmSqpJPCaVqyNgS7syO/Btk6JXMCVlZzubfKKvgAB9cY5me+LAs/ZfYhxu9/4743C794c1DtCtFgdWog4HX2Z35CGQ5dB8Kizse2TrYByUxUGKXnFzt+18aBSWX1avfAddg3mdSLNH0LkVdG2LE00FQWFRnK/RVbVIqos6PVssYK41JZEsk9VinmdCsMivUxAjkQ6KoYOIZrJQ4PoPcKe8gaG/2bz2m9d+63XQvA5ar+30LvdFPPJOLbFSEOuGwzClslzIQ6LE66AiIyIHrFl5mmnAqV7gVNC7Lyi73HnUEne+WfmG9Dj3tHMrwmUkhwO4hZBWwkJPX0dnioQJnt5lJxoHrP50xG0W4DEczupe3WS9izo6W8DjgzQO9IJNOFunmL2oFaegj2jUObjlz2LOW2YrqNPom2BLR5XZrsoFc+T8sMDojvm7IITnMDoclYmORqDUPGxH6LS91uNJPar1mSPK79O/oB9G+E3SfozfrAeDYkZMvx5zfGqtMjC+LFXIVD+32FDxwIPELkHTkI2ObhiL3D2seKEc7qfR5iioTOq2ljv7I61si8pQVGaL6rWKyvYtqllLqUsN9yo1Y+yk1JS5NW2xJ2fyJ7BKW6Ak14OVP1F/0ioqPmBRjIiF0pZpMewUHbdQiyZQGy/ENW5Du3odqiZfMEGJqFVHKHVIseZn1IjrM/8ZnaStwbxhVJl0W+oMBHCmcqfQsFUofMQa8GzhJI3MjItdZhxwpYtSY9aqq2bQSQSCVl3+dSIQ7oWA3ypUXVehtmWCtjJkyMMJyFWrEm/f5uWWtHV12HGiUB6VVGWuZ9d4ultUH6qCQitnSXuJohuNyNzuKCnvupUUHOprPcUPN05VkV3B3Ex2Bo05YF6QcPCP42X/ALoKZKOSysTl1HJnf8jm2UOqJ3XVXkXBbqohtK/SvYqdoqyoTMm0J59MKqsDohUeQFlduyhGxEJZi0x6EGXVQm28ENe8LeKh7qxDv/hA2orLFbnEjZVLrsLKpVQaC+T+AbSVg88WTmqK+XFpjB8Xudalrrrq8Gh8IHV1UAzSvTCYpq4OVqhtm7iq28pCnh5EXe3RwNyUtq4OQ6b7qysaPpGBN4D3al/PFSmINTOIsRzZfOgP2k88NY4lT3YPbLxznGeO8bfhmZNBN2QFjfT4i7+xSveTznv11G3HdU9Ndd3L7mITteO6l9Wue7KOKLMUTyuBkoRvfjgHN9mB23bJWpn3srFjMT2l7D48Z91EXsoGWEAVk5e4H+vXXJhx3gd1HXAWzJ1VzLNJJpU53qyxsBsbuWtLy7yGm9OAx6FdmGOXqRRDUTt/HcjeGbvXIwp3dCSbdnjSZUTDHhnOgF/VBc7XGUeozijLGmj1UMCi++T3VScoV/5fsRVW+xifYTrLBCM4bJMI+tvDCP7lZ2RnA5eJH8V+yPYNfd/SHo3xKmyovECg1ntVlWzYICgi9jEfQhlGSNmtDPtKAwhLZULu3iNsn+q+6hYa2UKHIeFBeMXohi3MkY5yBjX/c6UInJAphA2qMlfnWxMOP/G4R5GB6xqVubhFLKw3S6wq7bL+3f3Mn5FwQ6TOrpB0LT5IbIqp9vN2RMsZU05Mf//wv3kjHe+TXFV1jn/xQ0iKil768IiqfWgDGyGQL0Y+MIzL19ptzHtshcJkRgx5o2YlOwDy38rUPHy2d/31cnACO0queHY/jXliB1MsvjnNOjcg3h5UsneGXj65U30XdVMZ3T69gwQljdTgW4cZVm7F+iHgDH8NiXgv3fvquwfcHX6wzxlj1ITKxeA2kD2lmJyxt082t7vN7YtefXt63d1p906c8LFdIeSqAfQMZih75tcujcgAy8yP3cGTToEZbJnBg8RjPhL1SA1W5vKbRzQ6zXSvMj//AWpUylgw4EiCfXaSh6yzfzU3KufoxX84TMkiRhhp5hmfMqlMf6tcqMxuWJWLlek9aIHnqadivX4BdOeorf/sB0eoKtHz68iZSM5U90lJzRAf/usd+t4ndf1PzajENoFf/hNiOpKQpijQQKdNXSBfgrpQEhmZ1HX8wXPohvrEfU02EFEnTTaQekFHLhsWWX+D5+YIzSYXtwKsVH6BHY4+OC6mXodYVLP1Cwka+thoEbB2rdxEVIl9X4uyb6Oi5nEbpSB0x/gODSatAZM5tgQg9uwxAbA2zQRgOT0sS0I8ccZrJ9I6BVGLyWp3BcNBQBZXPKbxHJxhfPOxikgTYJGTWxxkAqfMEI3BKWSE64Jscm5nzESn3LQFNdDuI1iMgFTPERuRTN1NSiU1xx80O5dIInLZXx/C92cBG9cplWdTBS6VZ1M9XKEzA8HnbcGxLdgbL9hlwZSSDq5VMOnUGWJTaXmuYE7n67aOCI3Vyh2P5ybDIrpmHSRTxCFY+5lF+UStA5evDlA+6XawFhicep9dn3lrQDfUSeW/+iZSaNr7AZgVD7zd//Ljin2Mv9d7/vF6h6+HrWWfUqWP3vMp9p8SFXmK3orW923fqsUJm+6OERgnIdkBbAv6M4BfnA/DJMAk50n8nPI1/dxGbCjunT4Uboz+5GSOqAo6PkUV8iai27g2CArc1a+qtUJcAq8bPv9VgK/E3zMSyuGLABUbuWXvuGwiJ0uCCMzJ1tinwZLcRsk4EE5xjROm8KgC2NHBtbAz6JsnMeSyCC36CCTzcby4Au4vXwnxuXofbhCvCo+csTPg0iaR+Y/qDHbHYufWpnkOn3klJRosrBbBtVrl21AWbHOEr2JzUJbgdENMssMHNnrAMUrHPdGcz5vY6ZUuPIw6/JMMO+NT8G7bPRvKz1/bzZS/bsRmTGiUExoZ6HKogs+jixBkQkaGR1JPqTK+0+4zVbyPnhCK6k0WoSCkI8aPEAqBUCgIhUAobCMUCkKhIBROIhQyQglVJwiFnEiqtZufTLrFO4otWL71CnV0Tttg+c4l/4aAlY6DlQhYKfvBl7nJ7ywUu+hb2JKGZOyDEtSwcb91Q4AK9qBVILRaY4i61AoaarUbkf2+fIntdLMaMug2JKZowbwCXNCQK6j3zLimDESCwpcBGudDb5hJb1hOo1eIpXxpSOxXxvrctwfleBbqoNTjxDeEgt50CrYkNboJ0hDtIaIRjXjD84XiCFBK97bM0Q30VCG2GmEo9IXHeI6gJyHBjCcBJrYqd/eCJ4HBOAIAbz3yeTAYjGiYtcYj/VTCinz1ccxEoRv71GMScgDARozaELOWqTjQ7qcoet32g6d7W7/m1yRQ1FAnb6jTgxrnWmoqwSMmhfqGxtiqdI/3+7OfOgd7SqhJn17AUg/7NKB/IAS5Z6PffKJ9030lJL0BSCQTSERwSOUQFLI7tgeX7IQjG6BJzW955wtfJxznzTxEOJrZDQlrgNlf+LJxjCs4hAkmacOp6USfEghLYM+Cvxcy6T7IpG1k0inIJIiZwH0KqMlLm+cLDoYAJgxkH0TGTVem4rwOa14Vgi9HuEgkeoVzv0pqt4Dkos7Y/QoeS/AhlRRUggQPgKeFTZqyB4HPOyPYn+WXWEYoaWSjbfhETQmXBse3+NwKxhvyAqHSAnoR1LLTdujAJBnKyCW40Scf44AEp/xH+CYwwRak4WflNZ4Qx4CffEzOYGb0vnL2lP8Ev4PPHd6p+8rBKf/RxxTTg+NueOZFEWyeV53jWdDhfCsuXrngJPyBqswRpwD3H6QKzA+KD5qeHZUzgKEv6d5X8aygzKEMRmRT0bdCvv3tSs+zS1il4/vk1d/BjFaie/QquI9Fi+nc1wVRHlPSM6QmLcX7F3VxoWDbbSSap28fkH5UJmZ2c+BbrmAfOvNFoBfxfPGWBOSRADuDmN48UKsvG5mH4/h004wleGgsQfMFrRgxh3V8sXzzI1hema3MAxsWPSgJsiY5GsyMFE9SF7mvMzUzEr4J38KdVBdnObQK/KCxXnKnEMLigA/4pLaEBnUPg9m5unZ4u0AuqCSjZl8j9BH2t1PSkM6hSCf10uxm6yP8Sv4PH1XqjZiMfkKtlzMnbBw0xFXwOQDN+cKGrXqEw3j80uOqEm71zJd+orn/qdb95x+z97wbxRv0RSJoZFWxW6Mdd8V23DWQ+f3WpEXE44AY0WtkUBNhZUsGNXGt4qNm0iIWlRhBJUboyjnvCfwZ1JuBI9GLkdWLra4cc36kQiKr5yOnEjlRPXFh98GMj5SvCWzcBhaPwcuCNWnBmlhY4X+XjMNaz6/ICMwzvwBePEo3L6AFZunmGdzg07O46QfjAU3QB8TmXz5cTe6l8/ygaajMDtgyHrAlwD6TAVvcDNjYqMhaRkUkJMmIChmokAkVMlAha1FBtuEJJTKhRGaNwgxGYY+JkZdCgYw/SsW8gKktPN3WSLvQpAeFJN0PklQgacHhoLh+FhFpu/K46vduMp94tqUjro77KAnscb5IBfCEdBoc/lKJU8ZuENiy0LOjgc21omVVWiwTh2UyDcukJQhslCVAMBEEEyCYtI2ZRBBMBMEECKYOQVlItwgm2AD9FHYfJ11B4BELceXZsBbZa0JadCGVx/1gjWzCKfByXjBJwWso+RiUEqwwyXlGFfQmM5KdJY9K9wGP4RTBeaym1z2GtYzXrLOPB8QvN5MowmypMJvIZCSWZdxYlr2uTuqRWSk8eC2OEwGe4DrO25LJMV6rIXsKns0MoUR1ZEY65X+BwbcSe039qV4FuZhlsfjS42IJhtt4QXT+4uOMC5Eb+xSswVH2mFHffQ57JE4CmTKVJ2JK/IhC/iN1nu4jU7yH9+RqdDTp5iZ27Jh3Mw1ykf0XUAk60Gd4HYXePOpunv8Je/PSY60lFnn1mcfszYsMNUFCXTZ6WbZ54hW0/yefYPivCPzYMC1CZn0I6NPXCfqMWG2ERaNnqOdggTFskSeyQwEb98xn7ad5++4QXPrR0SzSzQuPyXZWGYou081TuDlMN0/j5gg2KAQIlMHeEUtkyg5XwFo8kz5jBlitOwxD5IliVMni3REJTMgvnn9bxe3So4HyI//bq7BzSS8jfYI3/8urBourxZxegPSs6EXOivVmqgjrdVLDSUQkmwvt8PKTTKydSohELHgXK4w+Sl0+hx7f8OYUPUtvZPnlOnU7zxDf7H6f9xeuvSz4DiRe6R5gdrVyA2Y6DmbgDIzI2n8RBsizhmPaDXQMUzDMrwN41pxCYO9mQi5Wc585ApEwKxkM0PjgJA/pibvXt2x8RbuHbwAXmm+Q7F+mJolvqnQz2+YuDMohqd/u1CnO2kEB5aKhq4gzKwIatPLgoeCRCoTR7ooSJVGm7l1mt+5lxicJIyXBwr/kFAWG6OUhqyp406Qog9Qpg0WnDBacMlh2ygBa4UnkP8LBfq0aiF3NUVsnLHd1AlREudLWCSuNTkC4uoVxnXCIlYFOOSMcM7BiPmK1QLyl56kg3K+Mq4hD3EuLbRtZXeR2vzPFE94hZXVrmrvZktS9ptaRLi+2YTVuaZlbWuYmaJno5toQqdUzZC/abX5WjZSR43TSMJhLLPC1ELmQbeayyrqXCuq1VVA2RQXNWxU031FBRUcFLXVUEOsZGCZfciroi04FscJZdgonnVQ4bDpAJWQjqzJkNm1UVVAoWlRCrYuKwRKUy1JHTSy31ARb4OmEmrA0vKUmbqmJV0NNUNJXxxzpKArbF+6hKNodqLiZ22HIkanDEK8ehqy0hiHH7Ls3OLF/ozMvjjv5107+h3b0ccxJ/GF6GIJuGn+WRvowy/jwkPDtZQzxeGZGH6LrjW25PzJYotHcHONDo8XhvD4OFbDo5qNpwLgqWu9FTHlykIRFzj1kgjxLeSKePonM7C3BviXY1y/YHNh2EXYv0HmGu8xD2+abiBoOQxie0DFH7UtlYiPZQnapQifrUsEhN81B9jDio8zxlj6F4bJJH9TzW9jDkthoSrYnusWwryrDMgsM09cz38oaYs25mJhNzfI2j96ke7rqrETSjGUkca+e/37+SD3EMtUQ1TwLjk62eEmdV7jNYJv44iNs0kVM0B1e16EyhliuC8kgHUaI1WOuPOuh37ibA1XyqQmU+n7MgvV5gQ5FLmN5jSyxddR8iEAtKvOZ5zhfu2oGKbb4Fub5+UrMxdjoanujgjknWLzLohhu85w0y2IhwUW/puz5KzrdwjwdetW0XgygJ2yFIqKfxU4Z/5bIAczeHmD2HJiIANUCs/eyRS6xLIKteDde8l4pHgeUvKSWPIRiEYNEhhrEV+unIG+a9/Lp9CMlwlX5W+bJebG7NrjMF10KhJ86JQYj7xcTDk1yjixV9mznMUTc/QieBbc6iVe7k6g59vXcVySd4Qu0bFEr/kQX4NJC4tVZPi2EMWHMLLDpkporoo0T2cyCGKDFRmWtmZ5YM/Q7qHIagcjazV2yQZlU8fwWNjaJ5Z60LfdFPhJJNqEtrA/LW4b8LUP+Rhjyp/ViY8LvbxUttq2ipZdnFS1WWJOGVZSxVVQcyCpaaltFi2QVLV7bKsr2sIoWW1YRFlhxIsUCD0SGBfuCIkgrpv7ERMJSJfv6YNe6LhAG0RlLbEfRR/Mslut9GEvFLWPpW9r1BN8WXc+ksSSdUGMu1R1Ry1waM5bApSTVwpxKjlX0bnUSt+yiG2MXYanA2UVk94DbPF3qBTDfuZXhfM4nxFjXlIT5TvdKjiSPoOc0tG3N95TLb1VeePoWj36reDT+duDReB8exTmMwsRkipxrOvUFvcxzlRvNK1mU08sE10LFM5Dynl+suxcEN/f/y3qeXqHjKWDj4KC9muvtYr1O7nK+EDquh64SONY91rLCJ1uInQ8PCRYVyE1LWHokLKvWQbYv5z7eEppXV2i+zaQF5eb22Ou+nV5xUuNkhviy0D0RFuZRlhL4XhaQEh7U4mGdQ9mKoq9l4azde3vL5+3WIPbmLzNHr4bX22EsIR/Wb+h4va008PBos968kTSbNxBbV4KcHaME7cABMRNXApB9ih+fUncXSX6zeOzGbftYs8vr+8M4YChLZr2kA6gecPhoensz4XVsz/MAvTNFxh0yL/invIJPfbhITLgt/PXu8wVWi7Cojzm2DbsXC9sVso5noo5lzkHZNXa42kTMybXLdn3+PA6/dPsM4SPIu2TnhUH0vMCT1A4IkXNAcG4HPXkRWe8DHCokd0cpEXtA4qQ19oCEbc4ekLN0ww4JA7phhwTEFk0QzC5AnO1ga7hko9vBJ6rgioHOFiJJceDSQ5iE1CmrZfZUWCDKzulDcGYUzwU714NJnnJZw6Sn+wVE/hrBakKANsJmV5iFhXnJ2i+1m3QEb4faATIzp9dxfJ04axyVePAIU0WtPMcnNerYOXawvFnPppi3xUEQcfK6CYxsBgDZfRqbIGqI8ZrdJiTbwVoZ4XAF5Tb9BmfwyIm+8rji8xVOIsbQak7UncFRSan8eLyJAAHZlO6v6GgFMefOrVAr8dlqiWx+Yzd7+H8N4Qj+FuypkC/YI82a+m0cILxCYFhw0tyqZAZw9rCuOTjwj+/yYyQUn8je3uXntXf5jaUZS/DQWAKvu8uvCabHIOS5KwGVsXJ8jDWVd7E8Kq+xIZSEF2XOyZsfqbS9E38B7IGNJSDYRZfmoQpN+qA8fLTSR/k0MqZSmdGj20+KuJXYH5jzPB3loWRzhpcy5+RVZD5YmdCeuM4Pkd1U2ST2Oolj+x0PgO+nnlB2IpM/J0yPmOkBAmqQpYmdCLpg32J9AESCfY9x9xyIkDcih9iITCS1CeM6RcwxzlGhjkeurzkjZhZ4Ilu15fLyLFTDcE4Y6SjE4+zwEOIlnsUqAZ+QC99qJt0s1VmMRiSsh8BRMyQ5Rwn6OagNy3ncA3G7lTk3VjkQtmDHxmVuNdxRh/fghfLIykm2H3Itd2isk5Yd5PeD3KMpb3iE5HsZErnM+8/1Edltv6wPA/klYaMBawJsZoa2iPiMeqr6FGsH8NUFNDY0tzBMxY2RIFpq4trCNU07niWO8Iowu81osxOD3+6CUxwTlsjBXNhlKPtxUeFqEaBLEtfQiu2VOqh4VAcVj5ogkZG8CRGcIbI7pazC8e60oWf70uO3C3clS2lU0wyOMIjdqxnsg+MnRrSprQZh3wqJQ6VAKeckh0iEAxyp1tizjvlfwSh1tQYN+90FNMrUR/C9HUGdQZWHEfQvdZfpNl5J6G2GPnHw753OoiQJYAOOY6VTyZYgW+Ky1bjdXQSMLUIKCO7SsGIx7o8xTjlbK1xHAHOrbgeLrGCK7aME06W98IQ/rcQh3zORPy1RF6W9m0653qxmGWArfswxmkig7nBHwzhDJoFnH3KGuObSlIMS5xKROGmFTrehU6dAA5GAZZrpWexTqNdzsMwi1UZ1cHauWB65BgYxGovSbr2UuxhL6N+UD0aq2dL4nU3Avq+8vObTCSKkbSLkbSLMttrXukk3cqtzaZ0crZMDSDZogU6iZ6d+E+pNcip/bBDdu4VrNaMaNPrttvRqnMaATV8WO8UyCS2i4lgpaaq3amiCNvtzBrzr0Sk5zkhqzkhgxnU0W8kHHnM+9IHzCL9pXfWdERbKR2fxXOB+rmvqcJSPBLB3TJ2wbeqMpRlL8NBYgnAvU8dtkEU0dhsx2uful2NHc2AUGJWJtSi5kIyso6zBABuYv4XGGny3iI8QHzBuRTlI7eb5tNmom07fPJ9Obp5PaWyWYmyWytgsxdgsHd+om8r4LJXxWWo36qaTm+dT/mg3z8uu3GZDbjptZJuOj2z3hWYKJGMjxdSOFFPdhkiCL6RbfA6qAHVw2hVdOIvroV2xH+2K/Wi3+RoiXMjzL6wpQiGgjKpl6340OTlyBnbvywzIITEyXsGs37d/NA4xjuz4VzST963UTDhv5AmFMPNz+W6mYpyRextiPXkIGhb7O85M5xiTHgsbU1WiBpfhWJxJr258j2fU8HMCf5iWyoagBDygp2fjS3JOyJXP9WrFJ9pzhKZPcZwliTE5DF1wyR+3k72htsCE3LFJPKuDAhOeHqtUplUnoJsOS+RguewJLJHmE1y9Oq7cvpWG3UrDg1UqaE1ExAwRWx+w/BcLi39dsLw8AoQCywQbOLr8hle30U2HJRJYJrjAwVK8dpqo99ppoaPX20ACA6onoGQarQMGosx3QfEBStM4TdMo+FcqoQj1OUcRiSr/01BFOxP6JmzpG9WgEdQizvFWpRYHPUAtVRcF37rTtyD2bKfORA44xHkOUj3Faw3o1JULakomCGYwCHwBRzUNrMbBwekLWllWuBZInPh6wXKxVnW0ycx0ABpxPQel08sCSmhlBlsc9o4IFowTrCFX2IUsFEtoT5jC6W03VNILUyV8qCL3wmEtAgKXDRLKxg8BtrmZfzpWfRfxLDiBuH+eed4bKJFxs5sOXHQUX0Y/OLbS58iDoTsFEuMoO0EmfS+f59iO0+kGOxIYMaaxScFBEmloTXcc2VG6ZUlL406TYmEXsRzNwN4tGm3vDptnPXt7jEad9labXd/enjC7ob09STjY27eYXVfWHWbXFfY2s1uX9g6zWxf3LrpHedz+ifnTVE5DpdtPuFsG+m/Qm0d46TCkDpBGvptkE4f4mTGzw8zwsbPWHZqPtfilFJN3GS9gB+YdmE3tlbmsSwe6qMQnRAJcmi97GLX2q7LPJz5prhcHcMhKCE8v4tQtezYVQRFgCjLguHxMTaK2zrfu4nlETFC+mOKgCIwYDbclG152kKxkXoQj6yWCj5YW7slpGIkWV4+AqIoFlHWq7st8R+8q80hG6flEaT5rh3DNCXwCmaPf4TxoILdtfu+XiQGBpvnl3/M3Nqk4f9v8mz/1NnAuz5b5/M8F/DLcNo+/Ee/CLXPlj+VdumV2vxngZbq9aQbaW9+mt1eDc2w9ZlukBoZQqB584dUWH0fOsAwlNH3OB9NiF5THh5MAldA5xIh57OVMGTtD4Et87tAah17+aKASq5rTMjSDC9Jj9MWc9iS4IA/UAx3iJBs5jkaGQZ7ECZYBO0fgpTSB9E0pv09lbRfuDiym4hLR12Hpu2VlrFJcDTaAFc698cXuoxKy7VKtSxGxVtvI5iPlbD6d7n5Nd7+hu+/o7jd092u6+6A7jns3L6QSU/EfpRJ0MWCj3Z6gJIf+yNQOThyhlDQ8uwB1sMM6MVkLdxjMwGQVQ8pn5aybj1RAANHRiff5MGFDLbi+rSPwW+XYih4is5PnTx5Xx8U0D+1RrZ4bVAwPIQiwXcmI7FoHn6Ad4wTtsq+DUTlAvlFpY7DqQRMJdHARALtAVH0jB0kh3ujAL3v8hveu9SSI8SFbQlhXGV5E7BleXjk0wvLftOWVeU6BaCukA76Bt+d4FQlLp9vlCp9HMtKYc+STd8JReWw0XPZPS2xVdCBoMCwz9akWHO1l0rPlGyjpoTPl8c3hkA9bIpHw9PL6cEEf0yvYpRHoPk6yoW+XRsM30cfZdQ4+M1grT+hwdXP4ZpKBNxJvHiH+xTzrG1YQeJqDyM3oo7x4YZ7q8QTdDESnxAlGlKiQKJtYecpkTDdHLFBQm+OU+hlZ2Jixi2T0tuDVHjnqyp3AwpFqOWIODqAse3Z28nqSs5/JjHmYFKcJUaUvAzhxTsPEbaj8IEDoT70gp0fTnworFLhxb0loKo4g2kkkcx98FkzuqraA1BDgMO+FyscJM3xa2nGQrNCH7EQmGSyUaY6eUdqJVZeCN1biPEEkGSDSop5jU1fZk/5gVK7oIyD1EXiszBEximoo0ZOHVMIRhOHNRsM+wrya2E5W17iD9DNxGAW+8tIcpDhbYA9Dto6mo0r6vNLu039Fg7KcjjoVURzByKWE00qxxCwcMfcrKLQFBTYKCeWucKgggwE8s/VyhvunHj2w32FZEE19LW9niAXXSxxmhdfm+IMldabFJXpYxIceVUXvepTqUtk7t1Iu6SU9Q99mqFiiC32jEmYu0QN9pS/FuZUaXhx8tebWzDgC3LWwdTxTXQtt35aoXlErwPRDPuuGYTMvHCgzepQ+WY1y2Mck09RsE4VgmzjX+WoBu4NdCQq0TIUCc2k2O1Xv69lOzGnEiNY5DrKGk02OUKuU5jBv7mzaG9sm+cQ9aXcGO7NNwA4aPvYPuxoG3AWhNycMUFHfnjxKAEavAMB4bwAdQ1pAXeteL4wRwxi+AhgjqJjDFZRAn+7exHcF5e+xyTEF4ELEpBaeRQ3HmT7fL1WQA60XIUGLEIbFSi9eogc9KSAkPN+hv4PER+uldcgRvlEJS5fogb7Sl0UrPHvRpQ/EAPcsgB4QRKTKusTqaIYcxxK/fGKhhOEMTFzqhXzoVW5eakQhzWFLoq7I9sQqt2JTN97e7TuDJDNWT+RwbHz5IAcNDy7cBCHxGUD1CgD0b64UKwbQewUAooQ9pOHgALW05JtlnR7HMb6RIQn3hUSOTSCUBt5Rq2FzfRRVHtXRGSprmYohI4uLXNZHR5aItVX3HrdSapK72FGWDEeEVJ83ZIUV9BNskNDMm2RjOBAzb4H6kBVYciGM/IchYSEs+4dwjDdOLjUfq8huiM3PZXDRmSdbcbhCFvmsCziKcYxiY4Nn+4/yei8vhLPfE0fA1tgVsDyqSl8fq9D0ynYSOUfFVoHnA0b/LFn485Ge5whmvpyhGm7rdFSftMevZjfqV34rSnsG441MSJwKrAsqeq3wx0sBC86X2RB+3aGcnGpTxJP10KgmaFclb/3O28C+bb0KOzA9BJgChmluKKcVI3bbeK05jqVTDbiuQEVfglaGpnaeBRFcVlYdJm+hJAmVudHFJN4mBpjAJOq8DRqsVRsZi1/nbdTQovU2tm9V523i3jav0g6FPgoKJUyhQU0hbwIbppDXEM4VaClUf2mw8vGllafBLKAvUStPg12IL608DYYRxlitPA2Wcc4zNYfOyEiS5EEfEueEBT5Om9h/RvTDET5NwOqA2mVIWoT+tIYoTB73zBXKl4eEdB9rTj1uztZekNEiKw7UNstzTPbUDNUoq5ZGw6md9eEH7kBt0i3QA7P4mSWzdhm6YBnAH2FBt26s0Zo9F0RxpNIBfF4ifWxUOgfhvpzKq/23YobIHN7C8aY4e/ilZGPTDPj08FqE7ekLNDzKv3aHTDGeJsY44c7eUOaZh3F45hFsZFa8JBjYQwH5rAVSJEeCqf9YvbQc5j6lSuuSXgZ38undqpnlV/UhR7GdHlcy3xpjZCae7jzFyud1x+0p1limWGOZYo3tlG+MKd+IZ1lznAf1lGIf29tshbnM2sj5aKG2AHXn+8MWOM18bwNM2AUmmA7MMJD53kDzdF9s53tj3QaqNd+7iQXwcOpRebKsEExMmcfd4/JiN2XePRFTvZwTMdtT5nJgnlteiN3hWn4zYx6MzZirLmBKKLgnSOEe5/iFrRnz0J7jB3DCiXP8WMyYinz2B9bJXy4hD0zEV0rA1xD5hHToz1N3wHnarKfzmZUsxb5zVPCnQey3HBX4iBN7xCVD7ANivw2xLxD7ArE/CbFvIfYtxD4nkoUbOUIGey5Cc/x8genOWRwDEuA+NFcUTi4zp0UjDsPuYQpKDlMog7vFV95CHfHBOp2TE1T35ARM5CZOwfh2hTOaco6CUz1ydIK0PHu+TazFReA3aKVaosagUkLLPWGCVxllgo5J7FLnlHMoAlntTHQwdqRDA1WrNWXDKSLHhuaJebd/lPec1IIm6ytARoeIwWE+jrJqkqsu74Rt3pmibv1xddvwTtjlnWAP3umqW9+qW98i3OKdGjc1gRsrYiAmraQVI/acl6+7fp/6y1U5l/Q1r19eSwpavAjGtAyOWXqbHO2D0I9ytM/LUzhqnGlutMKxyiaCsvFF2fBpQ/AoVu68eqZ4iyvC9km3U5g+GGf6pgHCbgPE+590C//l+qTbcOpJtxgsC39DNaG/DICyQkQdxPqAcQnfMqhOF0A24QhSJdLobHAUs2EKS6luC7r9imD2/Blc9vy7eAY85DaDVhpv1KjdqJEjSlSLiT/uctg0atRt1HiPRo2EKHA1h3q17m4+Dlcbb1TZlG2HRvWCeK57HIKUMSxjzDBhZ1xvixfxrZUtSytA2ZP100D85qBeKsKceMWGC0rALQGM9IAQtpGQoqosZMGVANvi1cIMq2jYtseQbGHzFrHElo4qwBehk9jlYYUM8RM0FXccm7KTOudBDfiXtZfZDddsNO/7qeknVRifsOwj1zfVmgEZHtgwL6q1lWLsfJ7Qns8Ti49i2JzyGo4fcIbF0smzecKun2Iw3U+xPpcnYS3uDlAV/8TmbFe2nOyprrKS2ZzpGnQdJoPxfaxBF5B4f+fOQMQqsmcIT3HulBOEN7Hp4M4CTULDu7A7M29HUy/CDZBIh2FwVyACEQjpO3xZflYNSlFXKAhjq/yupe848aR4cN7WIGlMKGrInoKLCUM4FA15J6Z3cEK5sq6osoYObfh/sFGZkOufLbAB//WGVyh48QYrzNrvDwKwcX1wWLn97ZMAHQgCOwXZSBT3bjGI4XryX/fO2EHr57wzGziCFBXDSPS7puvBwI5aYEc3FuxIwBZgf5PAjl8/4P66gBtMA1ddazjDJnhtQsh5pNNsjenGRQNdxwRPzI9KD03grepgA/2rhygMX36c1x5eW1z65ZpLn3s9cenXXl9c+ievL3D/52tOqBpp4u27H63E9J427HAdl6o7rrrHgtXWhr0LuZpul8pAw68o/cE6Jxk0YQC3w0BEtnL1Ciu3o0ZuaDtovFlVNRXZasRxdiqllY1we+ORZAZ5lRF9rY5jPRGBU9grSwKwWQ1DZ8jlYroNVkNrwg3t4FIaSVm7zlsvg7tkXUZmOAAsPAOplkXewh/ZA+nJ3rXTdQqe/IjKcYLy5c+/ScXWQfPZx1UTgTiTdy8gbkZ381wim+dkn1riKJjUo4+03j7TbFBLuhvUsj02qGVCugSLyZndoJZgKXt8g5rs4Sqzbvim64CPWzgZ30c3BmZvDzB7DkwOsN6A2RsHU463ZVBTG8ApLVQd4PQA8ProFpKD0PSVAtvngKWwaTjkErYOPy+Hllq+QGCBtOaN9BZbvAK2GGcKOL9M0B6OVQdHoMUn3k3lE9mK6GJKJ/DETl1YWwlCTdrlsE44vheeUnP4HOxl1iYu0MP1FeDiXHOXYSNd9xDpGtM3lopgTFdozv4rZrfnIl1DARJy9XEFPY3DbJ6REI49RLrOzEd4/3vKrbOD3Zm+uIulmJfL2b20b57qu0DXrfrgASLhruE2iHDXkBn4QBOFEV+7L24MeWWucH6GoL/lzkIgOksenbuA1wSgDXidOmRkh38Ps1xmVw3UsN9U3wuhxOn3wj76W9n5ceX4SKanmrlxFgRVC6oCDynwEOc5gT/N5lYlPKSEh1RLUH1sbs3QqTIPKSuoihPtI6jXAV9bUK8bTL8Fpt8C0x8HsxZUZQVVTRXUuhnqWHwHwoQlVtUSe9PQGBM4tZfAqQmBYxf+3vp4ajI/eh8p4RPrb5H82ujVWXO6R+KOT1Du+ARfZxtVhAFCwrscER/NfAZnKSrgSZRkux6ujjH2MShEGzPuZIR0f7vkFl/fHL5+/bCzvy87+03/sUOQhY6NfXfcGTYGKdkJSdUMtqjQwYP02Z559owrGnUktThgCkdOPouwwiDBfeFSzjuNqKDDD47qAe01jetbTHzzlDM14NB//XBzsgc3g81FvdbnfmB925pBSfewj0w2UFoTSMIP8qYsavuWRifYtsqsNoV8mEJq0hTC7j/eNkmmUA9etwRUYwq5DlA1ZpDqmEFKzKDMQREg3mRtClHn4GDQvJpW9089Zw75tTmU5BYxiejGy7+5NMIV4lcs6w0qWUoLt9uSySHrU53fspC+dUKYfRuZSo5jO8ZS3hKtTOcfKWHSk5Xk12d8NFYSgr7avsJ3BlPmDCaSgo1qBCj7kkwnEn9VVTmx9LMenzBCFlKW6yz/nUOYxam9xL7Q8HSn30mmsHxnWblZVB5zj5gWnSfpLuCG+0e8CdsRb8KpEW/CaTG5Ywtf7OB7hS6i0R4uopEDU6Kw1S6i0biLKLxLJmNyt1g+7BpPB0KAA4XENYPfNOjHGDy0kbk7DI7o3GFtPNXxuZtDiesBaHZAHlOWBC0Zn9KG09Rq0pXvcA/57vKYsugry2NttTqVx64DvjaPNWCGXTCjPcDstlIDZjRFrYb7qtVwmoF+DQSYx6Yp0RsM/TQlGk7hscZADxuDpp7eUc6uCe30zo4cqicHmfk6bE/vhHzAUtI6YEnhPDFV2zXKHWYW2ugNvAMIPomRxAMmuyblw8ziKXYNVKK1axBXy9YCiKgFGDDsCg75ZLNAZmtq40bZg83EuAnZIhEgU2fcgABi3BADD7mfCmsDJ4ZfW+3kyNh3TwoZF7aOx0fj79F4e4R7ruxIrmaJw8a0C/dz8QjZHMsnFjemCtp1wDbdATU42BpM1HJAjVoOqBNuZ7Wg+VbQ/KmCVjNCLXEHwkRoV0vcTUNjTOL8vbS6P0Wr25NCwM9gdK8ZHKstN3zmg0NIwMlUQTgUe2b9FsmU+LpFs3w0mY4vXLMT2MfQa3cC+prWtWizCS3FZQhf+jVfHrADOBBs0zsA/2D9VOTs0PDGdADOrp7CoAdCac8u4QbjM61LiPboEqzW7rCojtcbxR5j7jHuzD2G+889hhuVxHcKJiceQzvxSKMxx9c89ZiHVER+jmPQsIO0+BUz7ezOOSrJp/+3W36rNloAOl9oxsaL1cu/rhQWujmUGgqV/sRHZv6h6nl8bt9QQjVRjzI+R4xBGEbji992IEFkHmbLhx1iIdE2fJvkl2jWPu/WFnARZ9uXbXf1KwlHEyL6DCpICk8OD4K7K4JCg/TEGbJVOaioxgkq8ABls6ojjnj5DytemQhkY2NoI1cymAighAALiI09TCSIsc1nA4Q3cDCH+S7MULBmafqzPZWieMURtc6GpyW6HBkG3FpQnIZ3/rHHY8DpbFigk35oGxa4uBzc8/puJ6KIAUc8sh7UnDEdz1g7IlPmoJs5Hc/c3y9z2M3cH8882C9z1M08GM+8uF/muJt5cTzz4f0yJ93Mh8czH9svc9rNfGw8s94vc9bNrMczn9gvc6+b+cR45pP7Zc67mU+OZ37Lfpn73cxvGc98x36Zi27mO8Yzv22/zDPdzG8bz/yO/TLPdjO/Yzzzu/bLPOhmflc7M9xt6mxGVIf5eA8qjaQ5xOk6iuNmhYEY4QizlpnP9yuEoVyXMykidnKxowJ4eHOg9K3KhRbDzhuOCAdFF9QaW6IGi7qEiuFwv2c4OAL0aLSN3WtQzZl5pI+dSgMdrXNAOgXlqKxSMnNyfpJ5oV+ZHYntd1UR8AMlwf8v8MgdZEHvBaTg5Kx4gQuuSxxLjrchmEx763R/nA8P0QFmiDzeJMWh2jz8GHVuZaCO5g6b0PrGsWak3iv/dNb3zKNZHjybUXf2RJbP3//g1v0funjvRc+7+jc96tU9ev+ZLJ8LPfnn2196fTnLj6R0iyu0l28v+vyNLK8mc8m/tHWNZ6VEUfz3Rh9+v/7A/ZubDz6w5W3ee88H9QP3XNrS73/wQx+6d9MjIB940D3p0YcvfnjLM1d6+e/66WvsX/Yq/0v2+Ofgia7xbzA376VJFveiPOwHhT+jZqmhi3wzsK0U0RXTldjWy+jq0ZXTVdA1SxfYZoGuZbpW6DpO15vo+k66voeud9L1V+n663R9gK5LdP0Dun6Rrl+j63+AE4iDrszk71GWa9zlj13B2BWOXVHnMpdn823VyuqSJBaVwoJ/hK4hXd9Nl6HrHro+TtdzAIMK+DhdigpRVIiiQhTRRBE9yIj11ICuwx5sNU/dQddput7nmRcH+b3jaIyDHbVI7MictIQla5HckR1X314FX+a35/KfVCodZH7Qmzusj8znYdRfODo8ecdt5cpiESczS8fe9Be/+x1/5S9954k3HJpdfuOb3/I93/vOt93+Hcf/wnf95Xd936m3vv373z32r5bfwII0a1sWX3bouoqLElylBFcpwVVKcJUSXKUEVynB1aue+fp8/m4E6vt/dP1fuv6Mrj+m6zm6Pk6XwvVNul6i6xt0XaHrRbqepWv36tUfWvuB/w8=",
            Q = atob(o),
            K = Q.length,
            b = new Uint8Array(K);
        for (var M = 0; M < K; M++) b[M] = Q.charCodeAt(M);
        w = UZIP.inflateRaw(b, w), o = w.buffer;
        if (window.WebAssembly == null) window.alert("Your browser is too old. Please, update it.");
        WebAssembly.instantiate(o).then(function(R) {
            ip.gZ.$f = R
        })
    }());
    ip.gZ.nl = function(w, o, Q, K) {
        if (K == null) K = [70];
        var b = w[0],
            R = new Uint8Array(b[0]);
        if (v.HZ(R)) {
            var X = new Uint8Array(R.length),
                h = new B(0, 0, o, Q);
            v.Fw(X, 4294967295);
            v.M.M$("norm", R, h, X, h, h, 1);
            R = X
        }
        var e = new Uint8Array(ip.yz(R.buffer, o, Q, "jpeg", K[0] / 100));
        if (b[2] != null) {
            var Z = ip.gZ.zz(e)[224][0] + 2;
            Z += 9;
            e[Z] = 1;
            W.lU(e, Z + 1, b[2]);
            W.lU(e, Z + 3, b[2])
        }
        if (b[3] != null && K[1] == !0 && Object.keys(b[3]).length != 0) {
            var P = d0.QV(b[3]),
                J = new Uint8Array(UTIF.encode([P])),
                i = 4 + 6 + J.length,
                k = "http://ns.adobe.com/xap/1.0/",
                $ = d0.P_(b[3]),
                n = W.wG($),
                j = 4 + k.length + 1 + n.length,
                y = i + j,
                V = new Uint8Array(e.length + y),
                O = 20;
            for (var M = 0; M < 20; M++) V[M] = e[M];
            for (var M = 20; M < e.length; M++) V[M + y] = e[M];
            V[O] = 255;
            V[O + 1] = 225;
            W.lU(V, O + 2, i - 2);
            W.lo(V, O + 4, "Exif");
            for (var M = 0; M < J.length; M++) V[O + 10 + M] = J[M];
            O += i;
            V[O] = 255;
            V[O + 1] = 225;
            W.lU(V, O + 2, j - 2);
            W.lo(V, O + 4, k);
            for (var M = 0; M < n.length; M++) V[O + 4 + k.length + 1 + M] = n[M];
            e = V
        }
        return e.buffer
    };
    ip.gZ.zz = function(w) {
        var o = 0,
            Q = [],
            K = w.length;
        while (o < K) {
            while (w[o] == 255) o++;
            var b = w[o];
            o++;
            if (Q[b] == null) Q[b] = [];
            Q[b].push(o - 2);
            if (b == 216) continue;
            if (b == 217) break;
            if (224 <= b && b <= 239 || b == 218 || b == 219 || b == 192 || b == 193 || b == 194 || b == 196 || b == 221 || b == 254) {
                var R = W.r9(w, o);
                o += R;
                if (b == 218)
                    while (o < K && (w[o] != 255 || (w[o + 1] == 0 || 208 <= w[o + 1] && w[o + 1] <= 215))) o++;
                continue
            }
            console.log("unknown marker ", b.toString(16), o);
            break
        }
        if (Q[217] == null) {
            console.log("EOI marker missing");
            var X = w.length - 2;
            w[X] = 255;
            w[X + 1] = 217;
            Q[217] = [X]
        }
        return Q
    };
    ip.gZ.ady = function(w) {
        w = new Uint8Array(w);
        if (w[0] != 255) return w.buffer;
        var o = ip.gZ.zz(w),
            Q = ip.gZ.VK(w, o);
        if (Q.numComponents != 4) return w.buffer;
        var K = Q.width,
            b = Q.height,
            R = ip.gZ.fY(w, o, !0);
        return ip.gZ.nl([
            [R[0].data]
        ], K, b, [85])
    };
    ip.gZ.VK = function(w, o) {
        var Q = (o[192] ? o[192] : o[193] ? o[193] : o[194])[0] + 4,
            K = {};
        K.progressive = o[194] != null;
        K.precision = w[Q];
        Q++;
        K.height = W.r9(w, Q);
        Q += 2;
        K.width = W.r9(w, Q);
        Q += 2;
        K.numComponents = w[Q];
        Q++;
        if (o[224]) {
            var b = K.jfif = {};
            Q = o[224][0] + 2 + 2 + 5 + 2;
            b.densityUnits = w[Q];
            Q++;
            b.xDensity = W.r9(w, Q);
            Q += 2;
            b.yDensity = W.r9(w, Q);
            Q += 2
        }
        if (o[238]) {
            var b = K.adobe = {};
            Q = o[238][0] + 2 + 2 + 6;
            b.version = w[Q];
            Q++;
            b.flags0 = W.r9(w, Q);
            Q += 2;
            b.flags1 = W.r9(w, Q);
            Q += 2;
            b.transform = w[Q];
            Q++
        }
        return K
    };
    ip.gZ.a3X = function(w, o, Q) {
        var K = o,
            b = W.r9(w, K);
        K += 2;
        var R = W.Ui(w, K, 4);
        if (R == "Exif") {
            K += 6;
            var X = w.slice(K, K + b - 8),
                h;
            try {
                h = UTIF.decode(X.buffer, {
                    parseMN: !1,
                    debug: !1
                })
            } catch (b6) {}
            if (h) Q.exif = h
        } else if (R == "http") {
            var e = 0;
            while (w[K + e] != 0) e++;
            var Z = W.Ui(w, K, e);
            K += e + 1;
            if (Z == "http://ns.adobe.com/xmp/extension/") {
                var P = W.Ui(w, K, 32);
                K += 32;
                K += 8;
                var J = o + b - K;
                while (w[K + J - 1] == 0) J--;
                if (Q.xmp_extn == null) Q.xmp_extn = "";
                try {
                    Q.xmp_extn += W.K1(w, K, J)
                } catch (b6) {}
            } else if (Z == "http://ns.adobe.com/xap/1.0/") {
                var i = W.K1(w.slice(K, K + b - e - 3));
                if (i[0] == "?") i = "<" + i;
                Q.xmp = i
            }
        } else console.log(R)
    };
    ip.gZ.fY = function(w, o, Q) {
        var K = ip.gZ.VK(w, o),
            b = K.width,
            R = K.height,
            X = b * R,
            h, e = -1,
            n = 72,
            j;
        if (K.adobe) e = K.adobe.transform;
        if (Q || b * R > 15e7 || e == 0 || e == 2) {
            var Z = new PDFJS.JpegImage;
            Z.parse(w);
            var P = Z.getData({
                    width: b,
                    height: R,
                    forceRGB: !0,
                    isSourcePDF: Q
                }),
                h = v.$(X * 4);
            for (var M = 0; M < X; M++) {
                var J = M << 2,
                    i = J - M;
                h[J] = P[i];
                h[J + 1] = P[i + 1];
                h[J + 2] = P[i + 2];
                h[J + 3] = 255
            }
        } else {
            h = ip.gZ.aam(w.buffer, K)
        }
        var k = o[225];
        if (k)
            for (var M = 0; M < k.length; M++) ip.gZ.a3X(w, k[M] + 2, K);
        var $ = o[217][0] + 2;
        if ($ != w.length) K.suffix = w.slice($);
        var y = [b, R, 1, 0, 0, 0, 1, 0];
        if (K.jfif && K.jfif.densityUnits != 0) {
            n = Math.round([72, 1, 2.54][K.jfif.densityUnits] * K.jfif.xDensity)
        } else if (K.exif && K.exif[0].t282 != null) {
            var V = K.exif[0].t282[0];
            n = V[0] / V[1]
        }
        if (K.exif) {
            var O = K.exif;
            j = d0.Uk(O[0]);
            var S = O[0].t274;
            if (S) S = S[0];
            if (S != null && S > 1 && S < 20) y = v.raw.C5(S, b, R)
        }
        if (K.xmp) {
            j = d0.g2(K.xmp, j)
        }
        var G = [{
                Ip: new B(0, 0, b, R),
                data: h.buffer,
                cK: n,
                _7: j
            }],
            j = K.xmp_extn;
        if (j) {
            var D = new DOMParser,
                q = D.parseFromString(j, "image/svg+xml"),
                q = q.children[0].children[0].children[0],
                T = [q.getAttribute("GImage:Data"), q.getAttribute("GDepth:Data")];
            for (var M = 0; M < T.length; M++)
                if (T[M]) {
                    var L = atob(T[M]),
                        N = new Uint8Array(L.length);
                    W.lo(N, 0, L);
                    N = N.buffer;
                    var F = ip.jF(N),
                        I = ip.pR(F).p5(N);
                    G.push(I[0])
                }
        }
        if (K.suffix) {
            var s = K.suffix,
                u = W.Ui(s, 4, 4),
                g = W.x$(s, String.fromCharCode(255) + String.fromCharCode(216) + String.fromCharCode(255));
            if (ip.hL(s, [0, 0, 1, 10, 14, 0, 0, 0])) {
                var U = 0;
                while (U != s.length) {
                    var r = W.o_(s, U + 2);
                    U += 4;
                    var x = {
                        2272: 12,
                        2320: 21,
                        2561: 13,
                        2625: 21,
                        2721: 3,
                        2608: 0
                    } [r];
                    if (x != null) {
                        var C = W.Fh(s, U);
                        U += 4;
                        var p = W.Ui(s, U, C);
                        U += C;
                        var l = W.Ui(s, U, x);
                        U += x;
                        if (r == 2608) {
                            var c = W.g(s, U + 24);
                            U += c + 24;
                            var t = W.g(s, U);
                            U += t;
                            alert("Photopea found a " + eL.bw(c) + " MP4 video inside your image.", 4e3)
                        }
                    } else if (r == 18502) {
                        while (W.Ui(s, U, 4) != "SEFT") U += 4;
                        U += 4
                    } else {
                        break;
                        console.log(W.wX(s, U, 128));
                        console.log(s.slice(U));
                        throw r.toString(16)
                    }
                }
            } else if (u == "ftyp") {
                alert("Photopea found a " + eL.bw(s.length) + " MP4 video inside your image.", 4e3)
            } else if (W.Ui(s, 0, 4) == "fixe") {
                alert("Unknown data - " + s.length + " B - at the end of the file", 3e3);
                var U = 4,
                    H = W.Fh(s, U);
                U += 4;
                var gl = W.Fh(s, U);
                U += 4;
                var ie = W.Fh(s, U);
                U += 4;
                console.log(H, gl, ie, s.slice(U, U + 84));
                U += 84;
                var fk = W.Ui(s, U, 32);
                U += 32;
                U += 8;
                var fk = W.Ui(s, U, 32);
                U += 32
            } else if (W.Ui(s, 8, 13) == "FocusShot_Map") {
                var h5 = W.g(s, 0),
                    cf = W.Fh(s, 4),
                    N = v.$(X * 4),
                    f = v.$(X * 4);
                for (var aH = 0; aH < R; aH++)
                    for (var gY = 0; gY < b; gY++) {
                        var M = aH * b + gY,
                            J = M << 2,
                            cC = 8 + 13 + ((aH >>> 1) * b + gY >>> 1),
                            cY = s[cC],
                            gJ = s[cC + (X >>> 2)];
                        N[J] = N[J + 1] = N[J + 2] = cY;
                        N[J + 3] = 255;
                        f[J] = f[J + 1] = f[J + 2] = gJ;
                        f[J + 3] = 255
                    }
                G.push({
                    Ip: new B(0, 0, b, R),
                    data: N.buffer
                }, {
                    Ip: new B(0, 0, b, R),
                    data: f.buffer
                })
            } else if (u == "edof") {
                var S = s[8 + 7];
                console.log(S.toString(16));
                var U = 8 + 16,
                    bM = W.o_(s, U),
                    cN = W.o_(s, U + 2),
                    X = bM * cN;
                U += 4;
                U += 32 + 16;
                var eu = v.$(X * 4);
                for (var M = 0; M < X; M++) {
                    var J = M << 2;
                    eu[J] = eu[J + 1] = eu[J + 2] = s[U + M];
                    eu[J + 3] = 255
                }
                if (S == 16) {} else if (S == 19) {
                    var cU = eu.slice(0);
                    v.Q.o6(eu, cU, bM, cN);
                    var h7 = bM;
                    bM = cN;
                    cN = h7;
                    v.Q.a9v(cU, eu, bM, cN)
                } else throw "Unknown orientation of a depth map";
                G.push({
                    Ip: new B(0, 0, bM, cN),
                    data: eu.buffer
                })
            } else if (g != -1 && !(s[0] == 255 && s[1] == 129)) {
                try {
                    if (g != 0) s = s.slice(g);
                    var I = ip.pR("jpg").p5(s.buffer);
                    for (var M = 0; M < I.length; M++) G.push(I[M])
                } catch (b6) {}
            }
        }
        if (G.length > 1) {
            var hn = G[0].Ip;
            G[0].Y9 = "Main";
            for (var M = 1; M < G.length; M++) {
                var gS = G[M].Ip;
                if (!gS.Lb(hn)) {
                    var aq = hn.D / gS.D,
                        ef = hn.j / gS.j,
                        dU = new dj;
                    dU.scale(aq, ef);
                    var hO = z.Z.tG([new Uint8Array(G[M].data), gS], 1, v.Q.k1(dU));
                    G[M] = {
                        Ip: hO.rect,
                        data: hO.buffer
                    }
                }
                G[M].Y9 = M == 1 && G.length == 3 ? "Original" : "Depth Map"
            }
        }
        if (y[2] != 1 || y[6] != 1)
            for (var M = 0; M < G.length; M++) {
                var ao = G[M],
                    hI = new Uint8Array(ao.data),
                    b = ao.Ip.D,
                    R = ao.Ip.j,
                    bM = y[0],
                    cN = y[1],
                    h = v.$(bM * cN * 4);
                v.Q.JA(hI, b, R, h, y);
                ao.Ip = new B(0, 0, bM, cN);
                ao.data = h.buffer
            }
        return G
    };
    ip.gZ.p5 = function(w, o, Q) {
        w = new Uint8Array(w);
        if (w[0] == 255) {
            var K = ip.gZ.zz(w);
            if (K[195] == null) {
                var b = ip.gZ.fY(w, K, !1);
                return b
            }
            var R = W.r9(w, K[195][0] + 5),
                X = W.r9(w, K[195][0] + 7),
                h = UTIF.LosslessJpegDecode(w),
                e = X * R,
                Z = v.$(e * 4);
            for (var M = 0; M < e; M++) {
                var P = M << 2,
                    J = P - M;
                Z[P] = h[J];
                Z[P + 1] = h[J + 1];
                Z[P + 2] = h[J + 2];
                Z[P + 3] = 255
            }
            return [{
                Ip: new B(0, 0, X, R),
                data: Z.buffer
            }]
        } else if (w[0] == 0 && w[4] == 48 && w[6] == 1) {
            var i = w,
                k = new PDFJS.Jbig2Image,
                $ = [];
            if (o) $.push({
                data: o,
                start: 0,
                end: o.length
            });
            $.push({
                data: i,
                start: 0,
                end: i.length
            });
            var h = k.parseChunks($);
            if (!Q)
                for (var M = 0; M < h.length; M++) h[M] = ~h[M];
            var X = W.g(w, 11),
                R = W.g(w, 15),
                n = Math.ceil(X / 8),
                j = v.$(X * R * 4);
            for (var y = 0; y < R; y++) {
                var V = y * n;
                for (var O = 0; O < X; O++) {
                    var P = (y * X + O) * 4,
                        S = h[V + (O >>> 3)] >>> 7 - (O & 7) & 1,
                        G = S * 255;
                    j[P] = G;
                    j[P + 1] = G;
                    j[P + 2] = G;
                    j[P + 3] = 255
                }
            }
            return [{
                Ip: new B(0, 0, X, R),
                data: j.buffer
            }]
        } else {
            var k = new PDFJS.JpxImage;
            k.parse(w);
            var X = k.width,
                R = k.height,
                D = k.tiles,
                q = k.componentsCount,
                T = new Uint8Array(X * R * 4),
                L = new B(0, 0, X, R);
            for (var k = 0; k < D.length; k++) {
                var N = D[k],
                    F = N.width,
                    I = N.height,
                    s = F * I,
                    eh = N.items,
                    u = new B(N.left, N.top, F, I),
                    g = new Uint8Array(s * 4);
                if (q == 1)
                    for (var M = 0; M < s; M++) {
                        var U = eh[M],
                            P = M * 4;
                        g[P] = U;
                        g[P + 1] = U;
                        g[P + 2] = U;
                        g[P + 3] = 255
                    } else if (q == 3)
                        for (var M = 0; M < s; M++) {
                            var J = M * 3,
                                P = M * 4;
                            g[P] = eh[J];
                            g[P + 1] = eh[J + 1];
                            g[P + 2] = eh[J + 2];
                            g[P + 3] = 255
                        } else console.log("Unknown number of components: " + q);
                v.c1(g, u, T, L)
            }
            return [{
                Ip: L,
                data: T.buffer
            }]
        }
    };
    ip.xl = {};
    ip.xl.nl = function(w, o, Q, K) {
        if (K == null) K = [70, 0, 0, 0];
        var b = K[0] / 100,
            e = 0;
        if (w.length == 1) return ip.yz(w[0][0], o, Q, "webp", b);
        var R = W.qH,
            X = W.Fi,
            h = new fY;
        R(h, e, "RIFF    WEBPVP8X");
        e += 16;
        X(h, e, 10);
        e += 4;
        X(h, e, 18);
        e += 4;
        X(h, e, o - 1);
        e += 3;
        X(h, e, Q - 1);
        e += 3;
        R(h, e, "ANIM");
        e += 4;
        X(h, e, 6);
        e += 4;
        h.JL(e, 4);
        h.data[e + 3] = 255;
        W.JE(h, e + 4, K[2]);
        e += 6;
        var Z = [];
        for (var M = 0; M < w.length; M++) {
            Z.push(w[M][0])
        }
        var P = UPNG.encode.compress(Z, o, Q, b == 1 ? 0 : Math.max(2, Math.floor(b * 500)), [!1, !0, !0, 0, !0]).frames;
        for (var M = 0; M < w.length; M++) {
            R(h, e, "ANMF");
            e += 4;
            var J = e;
            e += 4;
            var i = P[M],
                k = i.rect,
                $ = [k.x >>> 1, k.y >>> 1, k.width - 1, k.height - 1, w[M][1]];
            for (var n = 0; n < 5; n++) X(h, e + 3 * n, $[n]);
            e += 15;
            h.JL(e, 1);
            h.data[e] = 1 - i.blend << 1 | i.dispose;
            e++;
            var j = new Uint8Array(ip.yz(i.img.buffer, k.width, k.height, "webp", 1)),
                y = ae.DG(j.buffer).sub,
                V = W.Ui(j, 12, 4);
            if (V != "VP8L" && V != "VP8 " && V != "VP8X") throw "e";
            var O = V == "VP8 " ? 0 : V == "VP8L" ? 12 : 30,
                S = j.length - O;
            h.JL(e, S);
            for (var n = 0; n < S; n++) h.data[e + n] = j[O + n];
            e += S;
            var G = e - J - 4;
            X(h, J, G);
            if ((G & 1) == 1) {
                h.JL(e, 1);
                e++
            }
        }
        X(h, 4, e - 8);
        return h.data.slice(0, e).buffer
    };
    fetch("code/external/wasm/libwebp.wasm").then(function(w) {
        return w.arrayBuffer()
    }).then(function(w) {
        return WebAssembly.instantiate(w)
    }).then(function(w) {
        var o = w.instance.exports;
        ip.xl.exp = o
    });
    ip.xl.p5 = function(w) {
        var o = new Uint8Array(w),
            Q = ip.xl.afw,
            K = null,
            b = ae.DG(w).sub,
            R = {};
        for (var M = 0; M < b.length; M++) R[b[M].eo] = b[M];
        var X = R.ANIM,
            h = R.VP8L,
            e = R["VP8 "],
            Z = R.VP8X;
        if (X == null) {
            var P, J;
            if (e) {
                P = W.o_(o, e.n + 6);
                J = W.o_(o, e.n + 8)
            } else if (h) {
                var i = W.Fh(o, h.n + 1);
                P = (i & (1 << 14) - 1) + 1;
                J = (i >>> 14 & (1 << 14) - 1) + 1
            } else throw "e";
            var k = [Q(K, w, {
                n: 0,
                size: o.length
            }, P, J)];
            return k
        }
        var $ = Z.n,
            P = 1 + (W.Fh(o, $ + 4) & 16777215),
            J = 1 + (W.Fh(o, $ + 7) & 16777215),
            n = [],
            j = new B(0, 0, P, J),
            y = v.$(P * J * 4);
        for (var M = 0; M < b.length; M++) {
            var V = b[M];
            if (V.eo != "ANMF") continue;
            var O = [];
            for (var S = 0; S < 5; S++) O.push(W.Fh(o, V.n + S * 3) & 16777215);
            var G = new B(O[0] * 2, O[1] * 2, O[2] + 1, O[3] + 1),
                D = O[4],
                q = Q(K, w, {
                    n: V.n + 16,
                    size: V.size - 16
                }, P, J),
                T = new Uint8Array(q.data),
                L = o[V.n + 15];
            if (L >>> 1 == 0) v.M.M$("norm", T, G, y, j, G, 1);
            else v.c1(T, G, y, j);
            n.push({
                Y9: "_a_" + n.length + "," + D,
                Ip: j.clone(),
                data: y.buffer.slice(0)
            });
            if ((L & 1) == 1) {
                v.Fw(T, 0);
                v.c1(T, G, y, j)
            }
        }
        return n
    };
    ip.xl.afw = function(w, o, Q, K, b) {
        var R = ip.xl.exp,
            X = 5e6 + 2 * Q.size + K * b * 10,
            h = R.memory,
            e = h.buffer.byteLength;
        if (e < X) {
            R.memory.grow((X - e >>> 16) + 1)
        }
        var Z = new Uint8Array(h.buffer),
            P = R.malloc(Q.size);
        Z.set(new Uint8Array(o, Q.n, Q.size), P);
        var J = R.malloc(8),
            i = R.WebPDecodeARGB(P, Q.size, J, J + 4),
            k = W.Fh(Z, J),
            $ = W.Fh(Z, J + 4),
            n = k * $ * 4,
            j = v.$(n);
        for (var M = 0; M < n; M += 4) {
            j[M] = Z[i + M + 1];
            j[M + 1] = Z[i + M + 2];
            j[M + 2] = Z[i + M + 3];
            j[M + 3] = Z[i + M]
        }
        R.WebPFree(i);
        R.free(J);
        R.free(P);
        return {
            Ip: new B(0, 0, k, $),
            data: j.buffer
        }
    };
    ip.dA = {};
    ip.dA.nl = function(w, o, Q, K) {
        var b = new Uint8Array(w[0][0]),
            R = !1,
            X = {
                i7: o,
                Y7: Q,
                fa: 1,
                SM: R ? 32 : 24,
                zQ: R ? 3 : 0,
                ou: 0
            },
            h = 4 * Math.floor((X.SM * X.i7 + 31) / 32),
            Z = 0;
        X.size = h * X.Y7 + 2;
        var e = new fY;
        W.qH(e, Z, "BM");
        Z += 2;
        W.Fi(e, Z, h * Q + 16 + 40);
        Z += 4;
        W.Fi(e, Z, 0);
        Z += 4;
        W.Fi(e, Z, 54);
        Z += 4;
        e.JL(Z, 40);
        W.Fi(e, Z, 40);
        Z += 4;
        ip.dA.a3O(e.data, Z, X, h);
        Z += 36;
        e.JL(Z, h * Q);
        for (var P = 0; P < Q; P++) {
            var J = Z + (Q - 1 - P) * h;
            for (var i = 0; i < o; i++) {
                var k = (P * o + i) * 4,
                    $ = b[k + 3] * (1 / 255);
                if (R) {
                    e.data[J + i * 4 + 2] = b[k];
                    e.data[J + i * 4 + 1] = b[k + 1];
                    e.data[J + i * 4 + 0] = b[k + 2];
                    e.data[J + i * 4 + 3] = b[k + 3]
                } else {
                    e.data[J + i * 3 + 2] = b[k];
                    e.data[J + i * 3 + 1] = b[k + 1];
                    e.data[J + i * 3 + 0] = b[k + 2]
                }
            }
        }
        Z += h * Q + 2;
        return e.data.slice(0, Z).buffer
    };
    ip.dA.p5 = function(w) {
        w = new Uint8Array(w);
        var o = 0,
            Q = W.Ui(w, o, 2);
        o += 2;
        if (Q != "BM") {
            alert("Unsupported BMP format: " + Q);
            return
        }
        var K = W.Fh(w, o);
        o += 4;
        o += 4;
        var b = W.Fh(w, o);
        o += 4;
        return [ip.dA.RT(w.buffer, o, b)]
    };
    ip.dA.RT = function(w, o, Q) {
        w = new Uint8Array(w);
        var K = W.Fh(w, o);
        o += 4;
        var b = ip.dA.acO(w, o);
        if (b.fa != 1) alert("unsupported number of color planes: " + b.fa);
        if (b.zQ != 0 && b.zQ != 3) {
            alert("Unsupported BMP compression: " + b.zQ);
            return
        }
        o += K - 4;
        var R = o;
        if (Q == null) Q = o;
        var X = 4 * Math.floor((b.SM * b.i7 + 31) / 32),
            h = b.i7,
            e = Math.abs(b.Y7),
            Z = new Uint8Array(h * e * 4);
        v.set(Z, 255);
        if (b.SM == 32)
            for (var P = 0; P < e; P++) {
                var J = Q + (e - 1 - P) * X;
                for (var i = 0; i < h; i++) {
                    var k = (P * h + i) * 4;
                    Z[k] = w[J + i * 4 + 2];
                    Z[k + 1] = w[J + i * 4 + 1];
                    Z[k + 2] = w[J + i * 4 + 0];
                    Z[k + 3] = w[J + i * 4 + 3]
                }
            } else if (b.SM == 24)
                for (var P = 0; P < e; P++) {
                    var J = Q + (e - 1 - P) * X;
                    for (var i = 0; i < h; i++) {
                        var k = (P * h + i) * 4;
                        Z[k] = w[J + i * 3 + 2];
                        Z[k + 1] = w[J + i * 3 + 1];
                        Z[k + 2] = w[J + i * 3 + 0]
                    }
                } else if (b.SM == 16)
                    for (var P = 0; P < e; P++) {
                        var J = Q + (e - 1 - P) * X;
                        for (var i = 0; i < h; i++) {
                            var k = (P * h + i) * 4,
                                $ = w[J + i * 2 + 1] << 8 | w[J + i * 2];
                            Z[k] = ($ >>> 11) * (255 / 31);
                            Z[k + 1] = ($ >>> 5 & 63) * (255 / 63);
                            Z[k + 2] = ($ & 31) * (255 / 31)
                        }
                    } else if (b.SM == 8)
                        for (var P = 0; P < e; P++) {
                            var J = Q + (e - 1 - P) * X;
                            for (var i = 0; i < h; i++) {
                                var k = (P * h + i) * 4,
                                    n = w[J + i];
                                Z[k] = w[R + 4 * n + 2];
                                Z[k + 1] = w[R + 4 * n + 1];
                                Z[k + 2] = w[R + 4 * n + 0]
                            }
                        } else if (b.SM == 4)
                            for (var P = 0; P < e; P++) {
                                var J = Q + (e - 1 - P) * X;
                                for (var i = 0; i < h; i++) {
                                    var k = (P * h + i) * 4,
                                        n = w[J + (i >> 1)];
                                    n = n >> 4 - 4 * (i & 1);
                                    n = n & 15;
                                    Z[k] = w[R + 4 * n + 2];
                                    Z[k + 1] = w[R + 4 * n + 1];
                                    Z[k + 2] = w[R + 4 * n + 0]
                                }
                            } else if (b.SM == 1)
                                for (var P = 0; P < e; P++) {
                                    var J = Q + (e - 1 - P) * X;
                                    for (var i = 0; i < h; i++) {
                                        var k = (P * h + i) * 4,
                                            j = w[J + (i >> 3)];
                                        j = j >> 7 - (i & 7);
                                        j = j & 1;
                                        Z[k] = w[R + 4 * j + 2];
                                        Z[k + 1] = w[R + 4 * j + 1];
                                        Z[k + 2] = w[R + 4 * j + 0]
                                    }
                                } else throw "Unknown bit depth " + b.SM;
        if (b.Y7 < 0) {
            var y = new Uint32Array(Z.buffer),
                V = e >>> 1;
            for (var P = 0; P < V; P++) {
                var O = P * h,
                    S = (e - P - 1) * h;
                for (var i = 0; i < h; i++) {
                    var G = y[O + i];
                    y[O + i] = y[S + i];
                    y[S + i] = G
                }
            }
        }
        return {
            Ip: new B(0, 0, h, e),
            data: Z.buffer
        }
    };
    ip.dA.acO = function(w, o) {
        var Q = W.fD,
            K = W.Fh,
            b = W.o_,
            R = {};
        R.i7 = Q(w, o);
        o += 4;
        R.Y7 = Q(w, o);
        o += 4;
        R.fa = b(w, o);
        o += 2;
        R.SM = b(w, o);
        o += 2;
        R.zQ = K(w, o);
        o += 4;
        R.size = K(w, o);
        o += 4;
        var X = Q(w, o);
        o += 4;
        var h = Q(w, o);
        o += 4;
        R.ou = K(w, o);
        o += 4;
        o += 4;
        return R
    };
    ip.dA.a3O = function(w, o, Q, K) {
        W.LD(w, o, Q.i7);
        o += 4;
        W.LD(w, o, Q.Y7);
        o += 4;
        W.Me(w, o, Q.fa);
        o += 2;
        W.Me(w, o, Q.SM);
        o += 2;
        W.LD(w, o, Q.zQ);
        o += 4;
        W.LD(w, o, Q.size);
        o += 4;
        W.LD(w, o, 2834);
        o += 4;
        W.LD(w, o, 2834);
        o += 4;
        W.LD(w, o, Q.ou);
        o += 4;
        o += 4
    };
    ip.YZ = {};
    ip.YZ.nl = function(w, o, Q, K) {
        if (K == null) K = [100, 0, 0, 0];
        var b = [],
            R = [],
            X = o * Q * 4,
            n = null;
        for (var h = 0; h < w.length; h++) {
            var e = new Uint8Array(w[h][0].slice(0));
            for (var M = 0; M < X; M += 4) {
                var Z = e[M + 3] = e[M + 3] > 127 ? 255 : 0;
                if (Z == 0) e[M] = e[M + 1] = e[M + 2] = 0
            }
            b.push(e.buffer);
            R.push(w[h][1])
        }
        var P = Math.round(2 + 254 * K[0] / 100),
            J = UPNG.encode.compress(b, o, Q, P, [!0, !1, !1, 8, !1]),
            i = J.plte,
            k = new Uint8Array(4),
            $ = new Uint32Array(k.buffer);
        for (var M = 0; M < i.length; M++) {
            $[0] = i[M];
            var j = k[0];
            k[0] = k[2];
            k[2] = j;
            i[M] = $[0];
            if ($[0] == 0) n = M
        }
        while (i.length < 256) i.push(0);
        var y = new Uint8Array(2e3 + o * Q * w.length),
            V = K[2],
            O = {
                palette: i
            };
        if (V != 1) O.loop = V == 0 ? 0 : V - 1;
        var S = new GifWriter(y, o, Q, O);
        for (var M = 0; M < w.length; M++) {
            var G = J.frames[M],
                D = G.rect,
                q = G.blend,
                T = G.dispose;
            S.addFrame(D.x, D.y, D.width, D.height, G.img, {
                transparent: n,
                disposal: T + 1,
                delay: Math.round(R[M] / 10)
            })
        }
        return y.slice(0, S.end()).buffer
    };
    ip.YZ.p5 = function(w) {
        var o = Date.now(),
            Q = [],
            K = UGIF.decode(w),
            b = UGIF.toRGBA8(K),
            R = new B(0, 0, K.width, K.height);
        for (var M = 0; M < b.length; M++) {
            var X = K.frames[M];
            Q.push({
                Ip: R.clone(),
                Y9: "_a_frm" + M + "," + X.delay * 10,
                data: b[M]
            })
        }
        return Q
    };
    ip.Fj = {};
    ip.Fj.nl = function(w, o, Q, K) {
        console.log(w);
        if (o > 256 || Q > 256) {
            alert("Maximum ICO size is 256x256 px. Will be cropped.", 4e3);
            var b = Math.min(o, 256),
                R = Math.min(Q, 256),
                X = new B(0, 0, b, R),
                h = v.$(X.O() * 4),
                e = new B(0, 0, o, Q),
                Z = new Uint8Array(w[0][0]);
            v.c1(Z, e, h, X);
            w[0][0] = h.buffer;
            o = b;
            Q = R
        }
        var P = new fY,
            J = 0,
            i = K && K[0] == !0;
        W.JE(P, J, 0);
        J += 2;
        W.JE(P, J, i ? 2 : 1);
        J += 2;
        W.JE(P, J, 1);
        J += 2;
        var k = new Uint8Array(ip.pR("png").nl(w, o, Q));
        P.JL(J, 16);
        P.data[J] = o == 256 ? 0 : o;
        J++;
        P.data[J] = Q == 256 ? 0 : Q;
        J++;
        J += 2;
        W.JE(P, J, i ? Math.round(o / 2) : 1);
        J += 2;
        W.JE(P, J, i ? Math.round(Q / 2) : 32);
        J += 2;
        W.Fi(P, J, k.length);
        J += 4;
        W.Fi(P, J, 6 + 16);
        J += 4;
        P.JL(J, k.length);
        for (var M = 0; M < k.length; M++) P.data[J + M] = k[M];
        J += k.length;
        var $ = new Uint8Array(J);
        for (var M = 0; M < J; M++) $[M] = P.data[M];
        return $.buffer
    };
    ip.Fj.p5 = function(w) {
        w = new Uint8Array(w);
        var o = 4,
            Q = W.o_(w, o);
        o += 2;
        var K = [];
        for (var M = 0; M < Q; M++) {
            var b = ip.Fj.ajW(w, o + M * 16),
                R = w.buffer.slice(b.offset, b.offset + b.size),
                X = ip.jF(R);
            X = X ? X : "bmp";
            if (X == "png") {
                var h = ip.pR(X),
                    e = h.p5(R);
                b.y8 = e[0]
            } else {
                var Z = ip.pR("BMP").RT(R, 0),
                    R = v.$(b.i7 * b.Y7 * 4);
                v.c1(new Uint8Array(Z.data), new B(0, 0, Z.Ip.D, Z.Ip.j), R, new B(0, b.Y7, b.i7, b.Y7));
                Z.data = R.buffer;
                Z.Ip.j = b.Y7;
                b.y8 = Z
            }
            K.push(b)
        }
        K.sort(function(P, J) {
            if (P.i7 != J.i7) return P.i7 - J.i7;
            return P.CD - J.CD
        });
        return [K.pop().y8]
    };
    ip.Fj.ajW = function(w, o) {
        var Q = {};
        Q.i7 = w[o];
        o++;
        if (Q.i7 == 0) Q.i7 = 256;
        Q.Y7 = w[o];
        o++;
        if (Q.Y7 == 0) Q.Y7 = 256;
        Q.a7J = w[o];
        o++;
        o++;
        Q.ai9 = W.o_(w, o);
        o += 2;
        Q.CD = W.o_(w, o);
        o += 2;
        Q.size = W.Fh(w, o);
        o += 4;
        Q.offset = W.Fh(w, o);
        o += 4;
        return Q
    };
    ip.TY = {};
    ip.TY.p5 = function(w) {
        var o = Date.now(),
            K, J = !0;
        if (v.raw.qL(w.byteLength)) return [v.raw.ajz(w)];
        var Q = UTIF.decode(w);
        if (Q[0].t33421) K = Q[0];
        else if (Q[0].subIFD && Q[0].subIFD[0].t33421) {
            K = Q[0].subIFD[0];
            if (K.t50706 == null) {
                if (K.t258[0] == 8) K.t258[0] = 12
            }
        } else if (Q[0].subIFD && Q[0].subIFD[0] && Q[0].subIFD[0].t262 && Q[0].subIFD[0].t262[0] == 34892) K = Q[0].subIFD[0];
        else if (Q[0].subIFD && Q[0].subIFD[1] && Q[0].subIFD[1].t33421) K = Q[0].subIFD[1];
        else if (Q[0].subIFD && Q[0].subIFD[2] && Q[0].subIFD[2].t33421) K = Q[0].subIFD[2];
        else if (Q[3] && Q[3].t50648) {
            var b = Q[0].exifIFD,
                R = b.makerNote;
            K = Q[3];
            var X = R.t224[1],
                h = R.t224[2];
            K.t256 = [X];
            K.t257 = [h];
            K.t258 = [16];
            K.t259 = [7];
            K.t262 = [32803];
            K.t277 = [1];
            K.t33421 = [2, 2];
            var e = K.t50656[0],
                Z = v.raw.lR[e];
            if (Z == null) throw "e";
            K.t33422 = Z
        }
        if (K) {
            UTIF.decodeImage(w, K, Q);
            for (var P in Q[0])
                if ((P[0] == "t" || P[0] == "e" || P[0] == "d") && K[P] == null) K[P] = Q[0][P];
            K.rJ = Q[0].t274 ? Q[0].t274[0] : 1;
            return [K]
        }
        var i = 1 / 256;
        for (var M = 0; M < Q.length; M++)
            if (Q[M].t258 && Q[M].t258[0] == 16 && Q[M].t277 && Q[M].t277[0] == 1) {} else J = !1;
        if (J) {
            var k = 0,
                $ = 0,
                n = 0;
            for (var M = 0; M < Q.length; M++) {
                UTIF.decodeImage(w, Q[M], Q);
                var j = Q[M].data;
                for (var y = 0; y < j.length; y += 2) {
                    var V = j[y + 1] << 8 | j[y];
                    if (V > k) k = V;
                    $ += V;
                    n++
                }
            }
            i = 1 / 256 * 65535 / (.5 * k + .5 * (2 * $ / n))
        }
        var O = [];
        for (var M = 0; M < Q.length; M++) {
            var S = Q[M],
                G = 72;
            UTIF.decodeImage(w, S, Q);
            var D = S.t282,
                q = S.t296;
            if (D != null && q != null) {
                G = D[0][0] / D[0][1];
                if (q[0] == 3) G = Math.round(G / 2.54)
            }
            if (S.width == null) continue;
            var T = UTIF.toRGBA8(S, i).buffer,
                L = d0.Uk(S);
            O.push({
                Ip: new B(0, 0, S.width, S.height),
                data: T,
                cK: G,
                _7: L
            })
        }
        return O
    };
    ip.TY.nl = function(w, o, Q, K) {
        if (K == null) K = [!1];
        var b = {},
            R = w[0];
        if (R[3] != null && K[0]) b = d0.QV(R[3]);
        if (R[2] != null) {
            b.t282 = b.t283 = [
                [Math.round(R[2]), 1]
            ];
            b.t296 = [2]
        }
        return UTIF.encodeImage(R[0], o, Q, b)
    };
    ip.CG = {};
    ip.CG.Jh = !0;
    ip.CG.p5 = function(w, o) {
        bj.DG(w, o)
    };
    ip.CG.a1U = function(w, o, Q, K) {
        if (K == null) K = [!1, !1, !1];
        if (!K[0]) w.X_();
        var b = new fY,
            R = bj.l8(w, b, K);
        return [b.data.buffer, R]
    };
    ip.CG.nl = function(w, o, Q, K) {
        var b = ip.CG.a1U(w, o, Q, K),
            R = b[0],
            X = b[1];
        return R.byteLength == X ? R : R.slice(0, X)
    };
    ip.zs = {};
    ip.zs.Jh = !0;
    ip.zs.p5 = function(w, o) {
        var Q = pako.inflate(new Uint8Array(w)),
            K = 4;
        o.D = W.g(Q, K);
        K += 4;
        o.j = W.g(Q, K);
        K += 4;
        var b = W.r9(Q, K);
        K += 2;
        K += 4;
        for (var R = 0; R < b; R++) {
            var X = o._g();
            o.t.push(X);
            var h = W.g(Q, K),
                e = K + 4,
                Z = W.r9(Q, e);
            e += 2;
            var P = W.K1(Q, e, Z);
            e += Z;
            X.jG(P);
            e++;
            X.rect.x = W.Cd(Q, e);
            e += 4;
            X.rect.y = W.Cd(Q, e);
            e += 4;
            X.rect.D = W.g(Q, e);
            e += 4;
            X.rect.j = W.g(Q, e);
            e += 4;
            X.opacity = Math.round(255 * Q[e] / 100);
            e++;
            X.BZ(Q[e] != 0);
            e++;
            X.TC = "norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[Q[e]];
            e++;
            e++;
            var J = W.g(Q, e);
            e += 4;
            if (J != X.rect.O() * 4) throw "e";
            X.buffer = v.$(J);
            for (var M = 0; M < J; M += 4) {
                X.buffer[M] = Q[e + M + 1];
                X.buffer[M + 1] = Q[e + M + 2];
                X.buffer[M + 2] = Q[e + M + 3];
                X.buffer[M + 3] = Q[e + M + 0]
            }
            e += J;
            var i = W.g(Q, e);
            e += 4;
            var k = Q[e];
            e++;
            var $ = W.r9(Q, e);
            e += 2;
            if (i != 0) {
                X.q = new a.Zz;
                X.q.rect = X.rect.clone();
                X.q.channel = v.$(X.rect.O());
                for (var M = 0; M < i; M += 4) X.q.channel[M >>> 2] = Q[e + M + 1];
                e += i
            }
            if (k != 0) {
                var n = JSON.parse(b_.default);
                X.add.lmfx = n;
                for (var M = 0; M < b_.order.length; M++) n[b_.Ix[M]] = {
                    t: "VlLs",
                    v: []
                };
                var j = {
                    "102": 9,
                    "101": 2,
                    "103": 0,
                    "104": 3,
                    "105": 8
                };
                for (var M = 0; M < k; M++) {
                    var y = W.r9(Q, e),
                        V = e + y + 4,
                        O = Q.slice(e, V),
                        S = Q[e + 2];
                    e += 3;
                    var G = j[S + ""],
                        D = JSON.parse(b_.l1[G]);
                    n[b_.Ix[G]].v.push({
                        t: "Objc",
                        v: D
                    });
                    if (G != 0) {
                        D.Md.v.BlnM = hL.vI("norm");
                        D.Opct.v.val = Q[e];
                        e++;
                        if (G == 9 || G == 2) {
                            D.Dstn.v.val = Q[e + 1];
                            e += 2
                        } else e += 2;
                        D.blur.v.val = Math.round(Q[e] * 1.2);
                        e++;
                        if (G == 9 || G == 2) {
                            D.uglg.v = !1;
                            D.lagl.v.val = 180 - W.r9(Q, e);
                            e += 2
                        }
                        D.Clr.v = v.V.Kt({
                            W: Q[e + 1],
                            a: Q[e + 2],
                            k: Q[e + 3]
                        })
                    } else {
                        D.hglM.v.BlnM = D.sdwM.v.BlnM = hL.vI("norm");
                        e += 2;
                        var q = Q[e++],
                            T = Q[e++];
                        D.blur.v.val = Math.round(Math.sqrt(T * q) * 1.3);
                        D.srgR.v.val = Math.round(100 * q / T);
                        D.uglg.v = !1;
                        D.lagl.v.val = 180 - W.r9(Q, e);
                        e += 2;
                        D.hglO.v.val = Q[e++];
                        D.hglC.v = v.V.Kt({
                            W: Q[e + 1],
                            a: Q[e + 2],
                            k: Q[e + 3]
                        });
                        e += 4;
                        D.sdwO.v.val = Q[e++];
                        D.sdwC.v = v.V.Kt({
                            W: Q[e + 1],
                            a: Q[e + 2],
                            k: Q[e + 3]
                        });
                        e += 4
                    }
                    e = V
                }
            }
            if (e != K + 4 + h) {
                var L = W.g(Q, e),
                    g = 0;
                e += 4;
                e++;
                var Z = W.r9(Q, e);
                e += 2;
                var N = W.K1(Q, e, Z);
                e += Z;
                N = N.replace(/\r/g, "\n");
                var Z = W.r9(Q, e);
                e += 2;
                var F = W.K1(Q, e, Z);
                e += Z;
                var I = W.r9(Q, e);
                e += 2;
                var s = X.rect.x,
                    u = X.rect.D;
                if (L & 4) g = 1;
                if (L & 2) g = 2;
                var U = Math.round(I * .4);
                if (g == 0 || g == 2) u += U;
                if (g == 1 || g == 2) {
                    u += U;
                    s -= U
                }
                X.add.lnsr = "rend";
                X.add.TySh = fI.Uy(0, 0);
                X.add.TySh.Hu = new B(0, 0, 100, 100);
                X.add.TySh.H = new dj(1, 0, 0, 1, s, X.rect.y + I * .25);
                var r = X.add.TySh.rr;
                fI.c9(r, 1);
                fI.I5(r, [0, 0, u, X.rect.j]);
                fI.L$(r, 0, N);
                var x = fI.UP(r, 0, 1);
                x.Bq.FontSize = I;
                x.Bq.FillColor = {
                    Type: 1,
                    Values: [1, Q[e + 1] / 255, Q[e + 2] / 255, Q[e + 3] / 255]
                };
                e += 4;
                if (Q[e + 5]) F += "-Bold";
                if (Q[e + 6]) F += "-Italic";
                fI.aE(x, F);
                x.j_.Justification = g;
                e += 8;
                fI.Lj(r, 0, N.length, x)
            }
            K += 4 + h
        }
    };
    ip.dI = {};
    ip.dI.Jh = !0;
    ip.dI.p5 = function(w, o) {
        h6.DG(w, o)
    };
    ip.Hd = {};
    ip.Hd.Jh = !0;
    ip.Hd.p5 = function(w, o) {
        eo.DG(w, o)
    };
    ip.sG = {};
    ip.sG.Jh = !0;
    ip.sG.p5 = function(w, o) {
        dd.DG(w, o)
    };
    ip.JQ = {};
    ip.JQ.Jh = !0;
    ip.JQ.p5 = function(w, o) {
        bO.DG(w, o)
    };
    ip.Es = {};
    ip.Es.Jh = !0;
    ip.Es.nl = function(w, o, Q, K, b) {
        if (K == null) K = [!0, !1, !1, !1, !0, !0];
        var R = fU.sc(w, {
            Qs: K[0],
            hidden: K[1],
            aai: K[2],
            aiM: K[3],
            names: K[4],
            yC: K[5],
            a29: o,
            agd: Q
        }, b.md);
        return R
    };
    ip.Es.p5 = function(w, o, Q) {
        fU.DG(w, o, Q)
    };
    ip.cJ = {};
    ip.cJ.Jh = !0;
    ip.cJ.p5 = function(w, o) {
        var Q = 150,
            K = new dj(1, 0, 0, -1, 0, 0);
        K.scale(Q / 72, Q / 72);
        o.cK = Q;
        var b = new c8(o, K, !0);
        FromPS.Parse(w, b)
    };
    ip.IQ = {};
    ip.IQ.Jh = !0;
    ip.IQ.nl = function(w, o, Q, K, b) {
        if (K == null) K = ["", 100, !1, !1, !1];
        K[5] = ["jpg"];
        var R = new ToPDF;
        cE.sc(w, K, R, b.md);
        return R.buffer
    };
    ip.IQ.p5 = function(w, o, Q) {
        var K = 2;
        while (!0) {
            var b = K * 72,
                R = new dj(1, 0, 0, -1, 0, 0);
            R.scale(b / 72, b / 72);
            o.cK = b;
            var X = new c8(o, R, !0);
            FromPDF.Parse(w, X);
            var h = Math.max(o.D, o.j);
            if (Q && h < Math.max(Q[0], Q[1])) {
                o.t = [];
                var e = K;
                while (h * (K / e) < Math.max(Q[0], Q[1])) K++
            } else break
        }
    };
    ip.lb = {};
    ip.lb.Jh = !0;
    ip.lb.p5 = function(w, o) {
        var Q = 72,
            K = new dj(1, 0, 0, 1, 0, 0);
        K.scale(Q / 72, Q / 72);
        o.cK = Q;
        var b = new c8(o, K, !1);
        FromWMF.Parse(w, b)
    };
    ip.kQ = {};
    ip.kQ.hd = !0;
    ip.kQ.Jh = !0;
    ip.kQ.nl = function(w, o, Q, K, b) {
        if (K == null) K = ["", !1, !1, !1];
        K[4] = [];
        var R = new ToEMF;
        cE.sc(w, K, R, b.md);
        return R.buffer
    };
    ip.kQ.p5 = function(w, o) {
        var Q = 72,
            K = new dj(1, 0, 0, 1, 0, 0);
        K.scale(Q / 72, Q / 72);
        o.cK = Q;
        var b = new c8(o, K, !1);
        FromEMF.Parse(w, b)
    };
    ip.Wo = {};
    ip.Wo.Jh = !0;
    ip.Wo.p5 = function(w, o) {
        return dt.DG(w, o)
    };
    ip.T$ = {};
    ip.T$.p5 = function(w, o) {
        var Q = b1.DG(w),
            K = new Uint8Array(w),
            b = 0,
            R, X, h, e, Z, P, J, i, k = 0,
            $ = 0,
            n = 0,
            j = 0,
            y = 0;
        for (var V = 0; V < Q.sub.length; V++) {
            var O = Q.sub[V],
                b = O.n;
            if (O.eo == "BMHD") {
                var S = [];
                for (var M = 0; M < 4; M++) S[M] = W.r9(K, b + 2 * M);
                b += 8;
                e = S[2];
                Z = S[3];
                X = S[0];
                h = S[1];
                R = v.$(X * h * 4);
                P = K[b++];
                J = K[b++];
                i = K[b++]
            } else if (O.eo == "CMAP") k = b;
            else if (O.eo == "CAMG") {
                var G = W.g(K, b);
                $ = G & 32768, n = G & 4, j = G & 2048;
                y = G & 128
            } else if (O.eo == "BODY") {
                var D = X + 15 >>> 4 << 1,
                    q = P + J,
                    T = v.$(D * h * q),
                    I, s, u;
                aU.Xz(K, b, O.size, T, 0, T.length);
                var L = P - 2,
                    N = (1 << L) - 1,
                    F = Math.round(255 / N);
                for (var Z = 0; Z < h; Z++)
                    for (var e = 0; e < X; e++) {
                        var g = 0;
                        for (var U = 0; U < q; U++) {
                            var r = (Z * q + U) * D * 8 + e,
                                x = T[r >>> 3] >>> 7 - (r & 7) & 1;
                            g |= x << U
                        }
                        var C = g >>> P,
                            g = g & (1 << P) - 1,
                            M = Z * X + e,
                            p = M << 2;
                        if (k != 0) {
                            if (j != 0 && g >>> L != 0) {
                                var l = g >>> L,
                                    c = (g & N) * F;
                                if (l == 1) u = c;
                                else if (l == 2) I = c;
                                else if (l == 3) s = c
                            } else {
                                var c = k + g * 3;
                                I = K[c + 0];
                                s = K[c + 1];
                                u = K[c + 2]
                            }
                        } else {
                            I = g >>> 0 & 255;
                            s = g >>> 8 & 255;
                            u = g >>> 16 & 255
                        }
                        R[p + 0] = I;
                        R[p + 1] = s;
                        R[p + 2] = u;
                        R[p + 3] = 255
                    }
            }
        }
        return [{
            Ip: new B(0, 0, X, h),
            data: R.buffer
        }]
    };
    ip.BW = {};
    ip.BW.Jh = !1;
    ip.BW.nl = function(w, o, Q, K) {
        var b = w[0][4],
            R = new Uint8Array(w[0][0]),
            X = 2,
            h = b ? !0 : !1,
            e = h ? 4 : 3,
            Z = new Uint8Array(o * Q * e);
        for (var P = 0; P < Q; P++)
            for (var J = 0; J < o; J++) {
                var i = P * o + J << 2,
                    k = ((Q - P - 1) * o + J) * e;
                Z[k] = R[i + 2];
                Z[k + 1] = R[i + 1];
                Z[k + 2] = R[i + 0];
                if (h) Z[k + 3] = b[0][P * o + J]
            }
        if (!0) {
            var $ = Z.length,
                n = 0,
                j = new Uint8Array($ * 2),
                y = 0,
                V = 0,
                O = o * e;
            while (V < $) {
                var S = V,
                    G = 0,
                    D = O * (Math.floor(V / O) + 1);
                while (S < D && G < 128) {
                    var q = !0;
                    for (var M = 0; M < e; M++) q = q & Z[V + M] == Z[S + M];
                    if (!q) break;
                    S += e;
                    G++
                }
                if (G == 1) {
                    var T = 1;
                    while (T < 128 && V + (T + 1) * e < D) {
                        var q = !0,
                            L = V + T * e;
                        for (var M = 0; M < e; M++) q = q & Z[L + M] == Z[L + e + M];
                        if (q) break;
                        T++
                    }
                    j[y++] = T - 1;
                    for (var N = 0; N < T; N++)
                        for (var M = 0; M < e; M++) j[y++] = Z[V++]
                } else {
                    j[y++] = 127 + G;
                    for (var M = 0; M < e; M++) j[y + M] = Z[V + M];
                    y += e;
                    V += e * G;
                    n += G
                }
            }
            Z = j.slice(0, y);
            X += 8
        }
        var F = new Uint8Array(18 + Z.length + 26);
        F[2] = X;
        W.Me(F, 12, o);
        W.Me(F, 14, Q);
        F[16] = e * 8;
        F[17] = e == 4 ? 8 : 0;
        F.set(Z, 18);
        W.lo(F, 18 + Z.length + 8, "TRUEVISION-XFILE.");
        return F.buffer
    };
    ip.BW.p5 = function(w) {
        var o = new Uint8Array(w),
            Q = 0,
            K = o[0],
            b = o[1],
            R = o[2],
            X = o[4] * 256 + o[3],
            h = o[6] * 256 + o[5],
            e = o[7],
            Z = o[9] * 256 + o[8],
            P = o[11] * 256 + o[10],
            J = o[13] * 256 + o[12],
            i = o[15] * 256 + o[14],
            k = o[16],
            $ = o[17],
            n = $ >>> 4,
            j = W.Ui(o, 18, K),
            y = v.$(J * i * 4),
            Q = 18 + K + (h * e >>> 3),
            V = new Uint8Array(o.buffer, Q);
        if (R > 3) {
            var O = 0,
                S = o,
                G = new Uint8Array(J * i * k >>> 3),
                D = Q,
                q = 0,
                T = o.length,
                L = k >>> 3;
            while (q < G.length) {
                var A = S[D];
                D++;
                if (A < 128)
                    for (var M = 0; M < A + 1; M++) {
                        for (var N = 0; N < L; N++) {
                            G[q] = S[D];
                            q++;
                            D++
                        }
                    } else {
                        for (var M = 0; M < A - 127; M++) {
                            for (var N = 0; N < L; N++) {
                                G[q] = S[D + N];
                                q++
                            }
                        }
                        D += L
                    }
            }
            R -= 8;
            V = G;
            Q = D
        } else Q += J * i * k >>> 3;
        var F = new Uint8Array(4),
            I = ip.BW.aiH;
        for (var s = 0; s < i; s++)
            for (var u = 0; u < J; u++) {
                var g = (n & 2) == 0 ? (i - s - 1) * J + u : s * J + u,
                    U = s * J + u,
                    r, x, C, p = 255,
                    l = g * k >>> 3;
                if (R == 1) {
                    var c = 0;
                    if (k == 8) c = V[l];
                    else throw "e";
                    I(o, 18 + K + X + (c * e >>> 3), e, F);
                    r = F[0];
                    x = F[1];
                    C = F[2];
                    p = F[3]
                } else if (R == 2) {
                    I(V, l, k, F);
                    r = F[0];
                    x = F[1];
                    C = F[2];
                    p = F[3]
                } else if (R == 3) {
                    if (k == 8) r = x = C = V[l];
                    else throw "e"
                }
                var t = U * 4;
                y[t] = r;
                y[t + 1] = x;
                y[t + 2] = C;
                y[t + 3] = p
            }
        var F = {
            Ip: new B(0, 0, J, i),
            data: y.buffer,
            Y9: j
        };
        if (v.HZ(y)) {
            var H = v.$(J * i);
            v.KU(y, H, 3);
            v.Fw(y, 4278190080, 16777215);
            F.SF = [H]
        }
        return [F]
    };
    ip.BW.aiH = function(w, o, Q, K) {
        var b, R, X, h = 255;
        if (Q == 24 || Q == 32) {
            X = w[o];
            R = w[o + 1];
            b = w[o + 2];
            if (Q == 32) h = w[o + 3]
        } else if (Q == 16) {
            var e = w[o + 1] << 8 | w[o + 0];
            b = e >>> 10 & 31;
            R = e >>> 5 & 31;
            X = e >>> 0 & 31;
            b = Math.round(b * (255 / 31));
            R = Math.round(R * (255 / 31));
            X = Math.round(X * (255 / 31))
        } else throw "e";
        K[0] = b;
        K[1] = R;
        K[2] = X;
        K[3] = h
    };
    ip.W4 = {};
    ip.W4.p5 = function(w) {
        var o = new Uint8Array(w),
            Q = 0,
            K = 112,
            b = 42,
            R = W.Fh,
            P;
        Q += 8;
        var X = o[Q];
        Q++;
        if (X != b) throw "e";
        var h = R(o, Q);
        Q += 4;
        var e = W.Qo(o, Q, h);
        Q += h * 2;
        var Z = [];
        while (Q < o.length) {
            P = R(o, Q);
            Q += 4;
            if (P != K) throw P;
            Q += 4;
            P = o[Q];
            Q++;
            if (P != b) throw P;
            var J = R(o, Q);
            Q += 4;
            var i = o[Q];
            Q++;
            if (i != b) {
                Q -= 5;
                J = R(o, Q);
                Q += 8;
                P = o[Q];
                Q++;
                if (P != b) throw P
            }
            var k = R(o, Q) * 2;
            Q += 4;
            if (J > 0) Z.push(Q + k);
            Q += k + J
        }
        var $ = new DOMParser,
            n = $.parseFromString(e, "image/svg+xml").firstChild.firstChild,
            j = [];
        ip.W4.nC(n, o, Z, j);
        return j
    };
    ip.W4.nC = function(w, o, Q, K) {
        var b = w.firstChild.firstChild;
        if (b.tagName == "Image") {
            var R = b.getElementsByTagName("ImageDescription")[0],
                X = R.children[0].children,
                h = R.children[1].children,
                e = Q.shift(),
                Z = [];
            for (var M = 0; M < h.length; M++) Z.push(parseInt(h[M].getAttribute("NumberOfElements")));
            while (Z.length > 3) Z[2] *= Z.pop();
            var P = X.length,
                J = Z[0],
                i = Z[1],
                k = Z[2],
                $ = parseInt(h[0].getAttribute("BytesInc"));
            for (var n = 0; n < k; n++) {
                var j = v.$(J * i * 4);
                v.Fw(j, 4278190080);
                for (var y = 0; y < P; y++) {
                    var V = v.$(J * i);
                    if ($ == 1)
                        for (var O = 0; O < V.length; O++) V[O] = o[e + O];
                    else if ($ == 2)
                        for (var O = 0; O < V.length; O++) V[O] = Math.min(255, (o[e + O * 2 + 1] << 8 | o[e + O * 2]) >>> 2);
                    else throw $;
                    if (y != 3) v.qh(V, j, y);
                    if (P == 1) {
                        v.qh(V, j, 1);
                        v.qh(V, j, 2)
                    }
                    e += J * i * $
                }
                K.push({
                    Ip: new B(0, 0, J, i),
                    data: j.buffer
                })
            }
        } else {
            var S = w.children,
                G = 0;
            while (G < S.length && S[G].tagName != "Children") G++;
            if (G == S.length) throw "e";
            S = S[G].children;
            for (var D = 0; D < S.length; D++) ip.W4.nC(S[D], o, Q, K)
        }
    };
    ip.Ft = {};
    ip.Ft.p5 = function(w) {
        var o = new Uint8Array(w),
            Q = 0,
            K = {},
            P = 1e9;
        for (var M = 0; M < 306; M++) {
            var b = W.Ui(o, Q, 8).trim(),
                R = W.Ui(o, Q + 9, 71).split("/")[0].trim();
            K[b] = R;
            Q += 80;
            if (b == "END") {
                Q = Math.ceil(Q / 2880) * 2880;
                break
            }
        }
        var X = parseInt(K.NAXIS1),
            h = parseInt(K.NAXIS2),
            e = X * h,
            Z = parseInt(K.BITPIX),
            J = -1e9,
            i = new Float32Array(e),
            k = new Float32Array(w, Q, w.byteLength - Q >>> 2);
        for (var M = 0; M < e; M++) {
            var $ = M << 2,
                n = M << 1;
            if (Z == -32) {
                var j = o[Q + $ + 0];
                o[Q + $ + 0] = o[Q + $ + 3];
                o[Q + $ + 3] = j;
                var j = o[Q + $ + 1];
                o[Q + $ + 1] = o[Q + $ + 2];
                o[Q + $ + 2] = j;
                i[M] = k[M]
            } else if (Z == 16) {
                i[M] = W.o_(o, Q + n)
            } else throw Z;
            var y = i[M];
            if (y < P) P = y;
            if (y > J) J = y
        }
        var V = v.$(e * 4),
            O = 1 / J;
        for (var S = 0; S < h; S++)
            for (var G = 0; G < X; G++) {
                var M = S * X + G,
                    D = (h - S - 1) * X + G,
                    $ = D << 2,
                    y = i[M] * O;
                V[$] = V[$ + 1] = V[$ + 2] = 255 * y;
                V[$ + 3] = 255
            }
        return [{
            Ip: new B(0, 0, X, h),
            data: V,
            Y9: K.OBJECT
        }]
    };
    ip.Av = {};
    ip.Av.p5 = function(w) {
        var o = new Uint8Array(w),
            Q = 16,
            K = W.Ui(o, Q, 4),
            R = 32,
            y = 0,
            V = 0,
            O = !1,
            x;
        Q += 4;
        var b = W.Ui(o, Q, 8);
        Q += 8;
        while (o[Q + R - 1] == 0) R--;
        var X = W.Ui(o, Q, R);
        Q += 32;
        var h = W.Ui(o, Q, 4);
        Q += 4;
        Q += 20;
        var e = W.g(o, Q);
        Q += 4;
        var Z = W.g(o, Q);
        Q += 4;
        var P = W.g(o, Q);
        Q += 4;
        var J = W.g(o, Q);
        Q += 4;
        var i = W.g(o, Q);
        Q += 4;
        var k = W.g(o, Q);
        Q += 4;
        var $ = "FujiFilm " + X,
            n = [0, 1, 1, 2];
        if ($ == "FujiFilm X10") {
            $ = "FujiFilm FinePix X10";
            n = [2, 1, 1, 0]
        }
        var j = {
            t271: ["FujiFilm"],
            t272: [$],
            t277: [1],
            t33421: [2, 2],
            t33422: n,
            rJ: 1
        };
        Q = P;
        var S = [],
            G = W.r9,
            D = W.g(o, Q);
        Q += 4;
        for (var M = 0; M < D; M++) {
            var q = G(o, Q);
            Q += 2;
            var T = G(o, Q);
            Q += 2;
            if (q == 256) {
                V = G(o, Q);
                y = G(o, Q + 2)
            } else if (q == 272) {
                S = [G(o, Q), G(o, Q + 2)]
            } else if (q == 273) {
                S.push(G(o, Q), G(o, Q + 2))
            } else if (q == 304) {
                O = !(o[Q] >>> 7)
            } else if (q == 305) {
                var L = Math.round(Math.sqrt(T)),
                    N = [];
                for (var F = 0; F < T; F++) N.push(o[Q + F]);
                N.reverse();
                j.t33421 = [L, L];
                j.t33422 = N
            } else if (q == 12272) {
                var I = G(o, Q),
                    s = G(o, Q + 2),
                    u = G(o, Q + 6);
                j.t50728 = [I / s, 1, I / u]
            }
            Q += T
        }
        var g = y < V,
            U = o.slice(i, i + k),
            r = Math.round(k * 8 / (y * V));
        if (U[0] == 73 && U[1] == 73 && U[2] == 42) {
            x = UTIF.decode(U.buffer)[0].fujiIFD;
            r = x.t61443[0];
            var C = x.t61454;
            j.t50728 = [C[0] / C[1], 1, C[0] / C[2]];
            var p = x.t61447[0];
            U = U.slice(p, p + x.t61448[0])
        }
        var k = U.length,
            l = k * 8 < y * V * r;
        if (l) alert("Compressed RAF is not supported yet :(");

        function c(fk, h5, cf) {
            cf = cf << 8 - (h5 & 7);
            var f = h5 >>> 3;
            fk[f] |= cf >>> 16;
            fk[f + 1] |= cf >>> 8;
            fk[f + 2] |= cf
        }
        var t = k * 8 / (y * V);
        if (t == 16)
            for (var M = 0; M < k; M += 2) {
                var H = U[M];
                U[M] = U[M + 1];
                U[M + 1] = H
            } else if (t == 14) {
                for (var M = 0; M < k; M += 4) {
                    var H = U[M];
                    U[M] = U[M + 3];
                    U[M + 3] = H;
                    H = U[M + 1];
                    U[M + 1] = U[M + 2];
                    U[M + 2] = H
                }
            } else if (t == 12)
            for (var M = 0; M < k; M += 3) {
                var gl = U[M + 2] << 16 | U[M + 1] << 8 | U[M + 0];
                gl = gl >>> 12 | (gl & 4095) << 12;
                U[M] = gl >>> 16 & 255;
                U[M + 1] = gl >>> 8 & 255;
                U[M + 2] = gl & 255
            }
        if (g) U = ip.Av.ac6(U, y, V);
        var ie = g ? 2 : 1;
        y *= ie;
        j.t256 = [y];
        j.t257 = [V];
        j.t258 = [r];
        j.t50719 = [S[1], S[0] * ie];
        j.t50720 = [S[3], S[2] * ie];
        j.width = y;
        j.height = V;
        j.data = new Uint8Array(U.buffer);
        return [j]
    };
    ip.Av.ac6 = function(w, o, Q) {
        w = new Uint16Array(w.buffer);
        var K = new Uint16Array(o * Q * 2);
        for (var b = 0; b < Q; b += 2)
            for (var R = 0; R < o; R++) {
                var X = b * o + R,
                    h = X * 2,
                    e = w[X],
                    Z = w[X + o];
                K[h + 1] = K[h + 2 * o] = Z;
                if (((b >>> 1) + R & 1) == 0) {
                    K[h] = e;
                    K[h + 2 * o + 1] = w[X + 1]
                } else {
                    K[h] = w[X - 1];
                    K[h + 2 * o + 1] = e
                }
            }
        return K
    };
    ip.yY = {};
    ip.yY.hd = !0;
    ip.yY.nl = function(w, o, Q, K) {
        var b = new Uint8Array(w[0][0]),
            R = o * Q,
            X = [1, 3, 4][K[0]],
            h = 8 + 8 * K[1],
            e = K[2];
        if (X == 1) {
            var Z = new Uint8Array(o * Q);
            v.KU(b, Z, 0);
            b = Z
        }
        if (X == 3) {
            var Z = new Uint8Array(o * Q * 3);
            for (var M = 0; M < R; M++) {
                var P = M * 4,
                    J = M * 3;
                Z[J] = b[P];
                Z[J + 1] = b[P + 1];
                Z[J + 2] = b[P + 2]
            }
            b = Z
        }
        if (h == 16) {
            var i = b.length,
                Z = new Uint8Array(i * 2);
            for (var M = 0; M < i; M++) {
                var k = Math.round(b[M] * (65535 / 255));
                Z[M * 2 + e] = k >>> 8;
                Z[M * 2 + 1 - e] = k & 255
            }
            b = Z
        }
        return b.buffer
    };
    ip.nZ = {};
    ip.nZ.p5 = function(w, o) {
        function Q(e) {
            return ~~(.5 + v.IY(Math.max(0, Math.min(1, e))) * 255)
        }
        var K = EXRLoader.parse(w),
            b = K.width,
            R = K.height,
            X = v.$(b * R * 4);
        for (var h = 0; h < R; h++)
            for (var e = 0; e < b; e++) {
                var M = (h * b + e) * 4,
                    Z = ((R - h - 1) * b + e) * 4;
                X[M] = Q(K.data[Z + 0]);
                X[M + 1] = Q(K.data[Z + 1]);
                X[M + 2] = Q(K.data[Z + 2]);
                X[M + 3] = Q(K.data[Z + 3])
            }
        return [{
            Ip: new B(0, 0, b, R),
            data: X.buffer
        }]
    };
    ip.RQ = {};
    ip.RQ.hd = !0;
    ip.RQ.Jh = !0;
    ip.RQ.nl = function(w, o, Q, K, b) {
        K = ["", 100, !1, !1, !1];
        K[5] = ["jpg"];
        var R = new ToDXF;
        cE.sc(w, K, R, b.md);
        return R.buffer
    };
    ip.RQ.p5 = function(w, o) {
        var Q = 72,
            K = new dj(1, 0, 0, 1, 0, 0);
        K.scale(Q / 72, Q / 72);
        o.cK = Q;
        var b = new c8(o, K, !1);
        FromDXF.Parse(w, b)
    };

    function v() {}
    v.UX = document.createElement("canvas");
    v.yG = v.UX.getContext("2d");
    v.Zp = function(w, o, Q, K) {
        K = Math.log(K) / Math.log(2);
        K = Math.round(K);
        for (var M = 0; M < Q; M++)
            for (var b = 0; b < o; b++) {
                var R = M * o + b << 2,
                    X = v.we(M, b, K);
                w[R] = w[R + 1] = w[R + 2] = X;
                w[R + 3] = 255
            }
    };
    v.we = function(M, w, o) {
        return 255 - ((M >>> o) + (w >>> o) & 1) * 51
    };
    v.u9 = function(w) {
        var o = w.toString(16);
        while (o.length < 6) o = "0" + o;
        return o
    };
    v.$Z = function(w) {
        return parseInt(w, 16)
    };
    v.uE = function(w) {
        return .3 * w.W + .59 * w.a + .11 * w.k
    };
    v.Yx = function(w) {
        return Math.max(w.W, w.a, w.k) - Math.min(w.W, w.a, w.k)
    };
    v.hn = function(w, o, Q) {
        return .3 * w + .59 * o + .11 * Q
    };
    v.acu = function(w, o, Q) {
        return Math.max(w, o, Q) - Math.min(w, o, Q)
    };
    v.Pd = function(w, o) {
        var Q = o - w,
            K = Math.abs(Q),
            b = Q - 1,
            R = Q + 1;
        if (Math.abs(b) < K) Q = b;
        else if (Math.abs(R) < K) Q = R;
        return Q
    };
    v.w6 = function(w, o, Q, K) {
        return (o - Q) * K / (w - Q)
    };
    v.IY = function(w) {
        return w < .0031308 ? 12.92 * w : 1.055 * Math.pow(w, 1 / 2.4) - .055
    };
    v.a8Y = function(w) {
        return w < .04045 ? w / 12.92 : Math.pow((w + .055) / 1.055, 2.4)
    };
    v.a7F = function(w, o, Q, K) {
        if (Q < o) Q += K;
        if (w < o) w += K;
        return (w - o) / (Q - o)
    };
    v.a9o = function(w, o) {
        var Q = Math.min(w.length, o.length);
        for (var M = 0; M < Q; M += 4) {
            var K = w[M],
                b = w[M + 1],
                R = w[M + 2];
            o[M] = 16 + Math.floor(65.481 / 255 * K + 128.553 / 255 * b + 24.966 / 255 * R + .5);
            o[M + 1] = 128 - Math.floor(37.797 / 255 * K - 74.203 / 255 * b + 112 / 255 * R + .5);
            o[M + 2] = 128 + Math.floor(112 / 255 * K - 93.786 / 255 * b - 18.214 / 255 * R + .5);
            o[M + 3] = w[M + 3]
        }
    };
    v.uX = function(w, o, Q) {
        var K = Math.max(w, o, Q),
            b = Math.min(w, o, Q),
            R = 0,
            X = 0,
            h = (K + b) * .5;
        if (K != b) {
            var e = K - b;
            X = h > .5 ? e / (2 - (K + b)) : e / (K + b);
            switch (K) {
                case w:
                    R = (o - Q) / e + (o < Q ? 6 : 0);
                    break;
                case o:
                    R = (Q - w) / e + 2;
                    break;
                case Q:
                    R = (w - o) / e + 4;
                    break
            }
            R *= 1 / 6
        }
        return {
            Y7: R,
            sa: X,
            _Z: h
        }
    };
    v.a2 = function(w, o, Q) {
        var K, b, R;
        if (o == 0) K = b = R = Q;
        else {
            var X = Q < .5 ? Q * (1 + o) : Q + o - Q * o,
                h = 2 * Q - X;
            K = v.gg(h, X, w + 1 / 3);
            b = v.gg(h, X, w);
            R = v.gg(h, X, w - 1 / 3)
        }
        return {
            W: K,
            a: b,
            k: R
        }
    };
    v.gg = function(w, o, Q) {
        if (Q < 0) Q += 1;
        if (Q > 1) Q -= 1;
        if (Q < 1 / 6) return w + (o - w) * 6 * Q;
        if (Q < 1 / 2) return o;
        if (Q < 2 / 3) return w + (o - w) * (2 / 3 - Q) * 6;
        return w
    };
    v.Zd = function(w, o, Q) {
        var K = Math.max(w, o, Q),
            b = Math.min(w, o, Q),
            R, X, h = K,
            e = K - b;
        X = K == 0 ? 0 : e / K;
        if (K == b) R = 0;
        else {
            switch (K) {
                case w:
                    R = (o - Q) / e + (o < Q ? 6 : 0);
                    break;
                case o:
                    R = (Q - w) / e + 2;
                    break;
                case Q:
                    R = (w - o) / e + 4;
                    break
            }
            R *= 1 / 6
        }
        return {
            Y7: R,
            sa: X,
            O_: h
        }
    };
    v.rp = function(w, o, Q) {
        var K, b, R, M, X, h, e, Z;
        M = Math.floor(w * 6);
        X = w * 6 - M;
        h = Q * (1 - o);
        e = Q * (1 - X * o);
        Z = Q * (1 - (1 - X) * o);
        switch (M % 6) {
            case 0:
                K = Q, b = Z, R = h;
                break;
            case 1:
                K = e, b = Q, R = h;
                break;
            case 2:
                K = h, b = Q, R = Z;
                break;
            case 3:
                K = h, b = e, R = Q;
                break;
            case 4:
                K = Z, b = h, R = Q;
                break;
            case 5:
                K = Q, b = h, R = e;
                break
        }
        return {
            W: K,
            a: b,
            k: R
        }
    };
    v.ER = function() {
        var w = [],
            o = [];
        for (var M = 0; M < 2e3; M++) {
            var Q = M / 1e3;
            w[M] = v.a8Y(Q);
            o[M] = Q > .008856 ? Math.pow(Q, 1 / 3) : (903.3 * Q + 16) * (1 / 116)
        }
        return [w, o]
    }();
    v.TP = function(w, o, Q) {
        var K = v.ER[0],
            b = v.ER[1];
        w = K[~~(w * (1e3 / 255))];
        o = K[~~(o * (1e3 / 255))];
        Q = K[~~(Q * (1e3 / 255))];
        var R = v.AU.a6h,
            X = R[0] * w + R[1] * o + R[2] * Q,
            h = R[4] * w + R[5] * o + R[6] * Q,
            e = R[8] * w + R[9] * o + R[10] * Q;
        X = X * (100 / 96.72);
        h = h * (100 / 100);
        e = e * (100 / 81.427);
        return v.Bk(X, h, e)
    };
    v.Bk = function(w, o, Q) {
        var K = v.ER[1],
            b = K[~~(w * 1e3)],
            R = K[~~(o * 1e3)],
            X = K[~~(Q * 1e3)];
        return {
            hc: 116 * R - 16,
            K: 500 * (b - R),
            k: 200 * (R - X)
        }
    };
    v._D = function(w, o, Q) {
        var K = 903.3,
            b = .008856,
            R = (w + 16) / 116,
            X = R * R * R,
            h = R - Q / 200,
            e = h * h * h,
            Z = o / 500 + R,
            P = Z * Z * Z,
            J = e > b ? e : (116 * h - 16) / K,
            i = X > b ? X : (116 * R - 16) / K,
            k = P > b ? P : (116 * Z - 16) / K,
            $ = k * 96.72,
            n = i * 100,
            j = J * 81.427,
            y = v.AU.kz(v.AU.Iz, [$ / 100, n / 100, j / 100, 0]);
        for (var M = 0; M < 4; M++) y[M] = Math.max(0, Math.min(255, v.IY(y[M]) * 255));
        return {
            W: y[0],
            a: y[1],
            k: y[2]
        }
    };
    v.VO = function(w, o, Q, K, b) {
        var R = w.hc,
            X = w.K,
            h = w.k,
            e = (R < o.hc ? o.hc - R : Q.hc < R ? Q.hc - R : 0) * (1 / 100),
            Z = (X < o.K ? o.K - X : Q.K < X ? Q.K - X : 0) * (1 / 116),
            P = (h < o.k ? o.k - h : Q.k < h ? Q.k - h : 0) * (1 / 116),
            J = Math.sqrt(e * e + Z * Z + P * P) * 1.35;
        return J <= K ? Math.min(1, 1.17 * (1 - J * b)) : 0
    };
    v.E0 = function(w, o, Q) {
        var K = o - v.uE(w);
        Q.W = w.W + K;
        Q.a = w.a + K;
        Q.k = w.k + K;
        v.a4J(Q)
    };
    v.tH = function(w, o, Q) {
        var K = w.W,
            b = w.a,
            R = w.k;
        if (K == b && b == R) {
            Q.W = Q.a = Q.k = 0
        } else if (K > b) {
            if (K > R) {
                if (b > R) {
                    Q.W = o;
                    Q.a = v.w6(K, b, R, o);
                    Q.k = 0
                } else {
                    Q.W = o;
                    Q.k = v.w6(K, R, b, o);
                    Q.a = 0
                }
            } else {
                Q.k = o;
                Q.W = v.w6(R, K, b, o);
                Q.a = 0
            }
        } else {
            if (K < R) {
                if (b > R) {
                    Q.a = o;
                    Q.k = v.w6(b, R, K, o);
                    Q.W = 0
                } else {
                    Q.k = o;
                    Q.a = v.w6(R, b, K, o);
                    Q.W = 0
                }
            } else {
                Q.a = o;
                Q.W = v.w6(b, K, R, o);
                Q.k = 0
            }
        }
    };
    v.a4J = function(w) {
        var o = w.W,
            Q = w.a,
            K = w.k,
            b = v.hn(o, Q, K),
            A = Math.min(o, Q, K),
            R = Math.max(o, Q, K);
        if (A < 0) {
            var X = b / (b - A);
            o = b + (o - b) * X;
            Q = b + (Q - b) * X;
            K = b + (K - b) * X
        }
        if (R > 1) {
            var X = (1 - b) / (R - b);
            o = b + (o - b) * X;
            Q = b + (Q - b) * X;
            K = b + (K - b) * X
        }
        w.W = o;
        w.a = Q;
        w.k = K
    };
    v.fr = function(w, o, Q, K, b, R) {
        var X = new Uint32Array(w.buffer),
            h = 0;
        K = Math.log(K) / Math.log(2);
        K = Math.round(K);
        for (var M = 0; M < Q; M++)
            for (var e = 0; e < o; e++) {
                X[h++] = (M + R >> K) + (e + b >> K) & 1 == 1 ? 4291348680 : 4294967295
            }
    };
    v.aia = function(w, o, Q) {
        return (w >> Q) + (o >> Q) & 1 == 1 ? 200 : 255
    };
    v.wC = function(w, o, Q) {
        var K = w.length,
            b = .3,
            R = .59,
            X = .11;
        if (Q) {
            b = Q[0];
            R = Q[1];
            X = Q[2]
        }
        for (var M = 0; M < K; M += 4) o[M >> 2] = ~~(w[M + 0] * b + w[M + 1] * R + w[M + 2] * X + .5)
    };
    v.nP = function(w, o) {
        var Q = o.length;
        for (var M = 0; M < Q; M += 4) {
            var K = w[M >>> 2];
            o[M] = K;
            o[M + 1] = K;
            o[M + 2] = K
        }
    };
    v.GW = function(w, o) {
        var Q = w.K,
            K = w.W,
            b = w.a,
            R = w.k,
            X = Math.min(w.K.length, o.buffer.byteLength >>> 2),
            h = 4 * Math.floor(X / 4),
            e = new Uint32Array(o.buffer),
            Z = new Uint32Array(Q.buffer),
            P = new Uint32Array(K.buffer),
            J = new Uint32Array(b.buffer),
            i = new Uint32Array(R.buffer);
        for (var M = 0; M < h; M += 4) {
            var k = Z[M >> 2],
                $ = i[M >> 2],
                n = J[M >> 2],
                j = P[M >> 2];
            e[M] = k << 24 | ($ & 255) << 16 | (n & 255) << 8 | j & 255;
            e[M + 1] = (k & 65280) << 16 | ($ & 65280) << 8 | n & 65280 | (j & 65280) >>> 8;
            e[M + 2] = (k & 16711680) << 8 | $ & 16711680 | (n & 16711680) >>> 8 | (j & 16711680) >>> 16;
            e[M + 3] = k & 4278190080 | ($ & 4278190080) >>> 8 | (n & 4278190080) >>> 16 | (j & 4278190080) >>> 24
        }
        for (var M = h; M < X; M++) e[M] = Q[M] << 24 | R[M] << 16 | b[M] << 8 | K[M]
    };
    v.aii = function(w, o, Q, K) {
        var b = w.K,
            R = w.W,
            X = w.a,
            h = w.k,
            e = new Uint32Array(o.buffer),
            Z = K.x - Q.x,
            P = Z + K.D,
            J = K.y - Q.y,
            i = J + K.j;
        for (var k = J; k < i; k++) {
            var M = k * Q.D + Z;
            for (var $ = Z; $ < P; $++) {
                e[M] = b[M] << 24 | h[M] << 16 | X[M] << 8 | R[M];
                M++
            }
        }
    };
    v.yn = function(w, o) {
        var Q = o.K,
            K = o.W,
            b = o.a,
            R = o.k,
            X = Math.min(o.K.length, w.buffer.byteLength >>> 2),
            h = 4 * Math.floor(X / 4),
            e = new Uint32Array(w.buffer),
            Z = new Uint32Array(Q.buffer),
            P = new Uint32Array(K.buffer),
            J = new Uint32Array(b.buffer),
            i = new Uint32Array(R.buffer);
        for (var M = 0; M < h; M += 4) {
            var k = e[M],
                $ = e[M + 1],
                n = e[M + 2],
                j = e[M + 3];
            P[M >> 2] = k & 255 | ($ & 255) << 8 | (n & 255) << 16 | j << 24;
            J[M >> 2] = (k & 65280) >> 8 | $ & 65280 | (n & 65280) << 8 | (j & 65280) << 16;
            i[M >> 2] = (k & 16711680) >> 16 | ($ & 16711680) >> 8 | n & 16711680 | (j & 16711680) << 8;
            Z[M >> 2] = k >>> 24 | $ >>> 24 << 8 | n >>> 24 << 16 | j & 4278190080
        }
        for (var M = h; M < X; M++) {
            var y = e[M];
            K[M] = y >> 0 & 255;
            b[M] = y >> 8 & 255;
            R[M] = y >> 16 & 255;
            Q[M] = y >> 24 & 255
        }
    };
    v.KU = function(w, o, Q) {
        var K = new Uint8Array(w.buffer),
            b = Math.min(K.length / 4, o.length);
        for (var M = 0; M < b; M++) {
            o[M] = K[(M << 2) + Q]
        }
    };
    v.qh = function(w, o, Q) {
        var K = new Uint8Array(o.buffer),
            b = new Uint32Array(w.buffer),
            R = Math.min(K.length / 4, w.length),
            M = 0;
        while (M + 4 < R) {
            var X = b[M >>> 2];
            K[(M << 2) + Q] = X & 255;
            K[(M << 2) + Q + 4] = X >>> 8 & 255;
            K[(M << 2) + Q + 8] = X >>> 16 & 255;
            K[(M << 2) + Q + 12] = X >>> 24;
            M += 4
        }
        while (M < R) {
            K[(M << 2) + Q] = w[M];
            M++
        }
    };
    v.clone = function(w) {
        return w.slice(0)
    };
    v.V3 = function(w, o) {
        v.set(w.K, o);
        v.set(w.W, o);
        v.set(w.a, o);
        v.set(w.k, o)
    };
    v.set = function(w, o) {
        o = Math.round(o);
        var Q = o << 24 | o << 16 | o << 8 | o,
            K = new Uint32Array(w.buffer),
            b = K.length;
        for (var M = 0; M < b; M++) K[M] = Q
    };
    v.Fw = function(w, o, Q) {
        if (Q == null) Q = 0;
        var K = new Uint32Array(w.buffer),
            b = K.length;
        for (var M = 0; M < b; M++) K[M] = K[M] & Q | o
    };
    v.a9C = function(w, o, Q, K, b) {
        if (b == null) b = 0;
        var R = new Uint32Array(w.buffer);
        Q = Q.z2(o);
        var X = Q.x - o.x,
            h = Q.y - o.y,
            e = Q.D,
            Z = Q.j,
            P = o.D;
        for (var J = 0; J < Z; J++) {
            var M = (h + J) * P + X;
            for (var i = 0; i < e; i++) {
                R[M] = R[M] & b | K;
                M++
            }
        }
    };
    v.acY = function(w, o) {
        v.gb(w.K, o.K);
        v.gb(w.W, o.W);
        v.gb(w.a, o.a);
        v.gb(w.k, o.k)
    };
    v.gb = function(w, o) {
        var Q = Math.min(w.buffer.byteLength, o.buffer.byteLength),
            K = Q >>> 2,
            w = new Uint32Array(w.buffer, 0, K),
            o = new Uint32Array(o.buffer, 0, K);
        o.set(w)
    };
    v.am4 = function(w, o) {
        return v.Lb(w.K, o.K) && v.Lb(w.W, o.W) && v.Lb(w.a, o.a) && v.Lb(w.k, o.k)
    };
    v.Lb = function(w, o) {
        var Q = w.buffer.byteLength,
            K = o.buffer.byteLength,
            b = new Uint32Array(w.buffer, 0, Q >> 2),
            R = new Uint32Array(o.buffer, 0, K >> 2);
        if (Q != K) return !1;
        var X = b.length;
        for (var M = 0; M < X; M++)
            if (R[M] != b[M]) return !1;
        return !0
    };
    v.MF = function(w) {
        var o = new Uint32Array(w.buffer),
            Q = o.length;
        for (var M = 0; M < Q; M++) o[M] = ~o[M]
    };
    v.aa6 = function(w) {
        var o = w.length;
        for (var M = 0; M < o; M += 4) {
            w[M] = ~w[M];
            w[M + 1] = ~w[M + 1];
            w[M + 2] = ~w[M + 2]
        }
    };
    v.a8K = function(w) {
        var o = w.length;
        for (var M = 3; M < o; M += 4) w[M] = ~w[M]
    };
    v.aj5 = function(w) {
        return w + (w % 4 == 0 ? 0 : 4 - w % 4)
    };
    v.$ = function(w, o) {
        if (o == null) o = !1;
        if (!o) w = v.aj5(w);
        try {
            var Q = new Uint8Array(w)
        } catch (b6) {
            alert("Not enough RAM! (need " + Math.round(w / (1 << 20)) + " MB)", 7e3);
            throw "low_ram"
        }
        return Q
    };
    v.st = function(w) {
        var o = w.length,
            Q = w[o - 2],
            K = w[o - 1];
        while (K.D >= 2 && K.j >= 2) {
            var b = v.Z7(Q, K);
            w.push(b.Sg, b.rect);
            Q = b.Sg;
            K = b.rect
        }
    };
    v.rf = function(w) {
        var o = w.length,
            Q = w[o - 2],
            K = w[o - 1];
        while (K.D >= 2 && K.j >= 2) {
            var b = v.zc(Q, K);
            w.push(b.Sg, b.rect);
            Q = b.Sg;
            K = b.rect
        }
    };
    v.Z7 = function(w, o, Q) {
        var K = o.D,
            b = o.j,
            R = K >> 1,
            X = b >> 1,
            h = new B(o.x, o.y, R, X),
            e = Q && Q.length == R * X * 4 ? Q : v.$(R * X * 4),
            Z = new Uint32Array(w.buffer),
            P = new Uint32Array(e.buffer);
        for (var J = 0; J < X; J++)
            for (var i = 0; i < R; i++) {
                var k = J * R + i,
                    $ = (J << 1) * K + (i << 1),
                    n = Z[$],
                    j = Z[$ + 1],
                    y = Z[$ + K],
                    V = Z[$ + K + 1],
                    O = n >>> 24,
                    S = j >>> 24,
                    G = y >>> 24,
                    D = V >>> 24,
                    q = O + S + G + D;
                if (q == 1020) {
                    var T = (n >>> 0 & 255) + (j >>> 0 & 255) + (y >>> 0 & 255) + (V >>> 0 & 255) + 2 >>> 2,
                        L = (n >>> 8 & 255) + (j >>> 8 & 255) + (y >>> 8 & 255) + (V >>> 8 & 255) + 2 >>> 2,
                        N = (n >>> 16 & 255) + (j >>> 16 & 255) + (y >>> 16 & 255) + (V >>> 16 & 255) + 2 >>> 2;
                    P[k] = 255 << 24 | N << 16 | L << 8 | T
                } else if (q == 0) P[k] = 0;
                else {
                    var T = (n >>> 0 & 255) * O + (j >>> 0 & 255) * S + (y >>> 0 & 255) * G + (V >>> 0 & 255) * D,
                        L = (n >>> 8 & 255) * O + (j >>> 8 & 255) * S + (y >>> 8 & 255) * G + (V >>> 8 & 255) * D,
                        N = (n >>> 16 & 255) * O + (j >>> 16 & 255) * S + (y >>> 16 & 255) * G + (V >>> 16 & 255) * D,
                        F = 1 / q;
                    T = ~~(T * F + .5);
                    L = ~~(L * F + .5);
                    N = ~~(N * F + .5);
                    P[k] = q + 2 >>> 2 << 24 | N << 16 | L << 8 | T
                }
            }
        return {
            rect: h,
            Sg: e
        }
    };
    v._x = function(w, o, Q) {
        var K = o.D,
            b = o.j,
            R = K >> 1,
            X = b >> 1,
            h = new B(o.x, o.y, R, X),
            e = Q && Q.length == R * X * 4 ? Q : v.$(R * X * 4),
            Z = new Uint32Array(w.buffer),
            P = new Uint32Array(e.buffer);
        for (var J = 0; J < X; J++)
            for (var i = 0; i < R; i++) {
                var k = J * R + i,
                    $ = (J << 1) * K + (i << 1),
                    n = Z[$],
                    j = Z[$ + 1],
                    y = Z[$ + K],
                    V = Z[$ + K + 1],
                    O = 2 + (n >>> 0 & 255) + (j >>> 0 & 255) + (y >>> 0 & 255) + (V >>> 0 & 255) >>> 2,
                    S = 2 + (n >>> 8 & 255) + (j >>> 8 & 255) + (y >>> 8 & 255) + (V >>> 8 & 255) >>> 2,
                    G = 2 + (n >>> 16 & 255) + (j >>> 16 & 255) + (y >>> 16 & 255) + (V >>> 16 & 255) >>> 2,
                    D = 2 + (n >>> 24 & 255) + (j >>> 24 & 255) + (y >>> 24 & 255) + (V >>> 24 & 255) >>> 2;
                P[k] = D << 24 | G << 16 | S << 8 | O
            }
        return {
            rect: h,
            Sg: e
        }
    };
    v.ais = function(w, o, Q) {
        var K = o.D,
            b = o.j,
            R = 2 * Math.floor(K / 3),
            X = 2 * Math.floor(b / 3),
            h = new B(o.x, o.y, R, X),
            e = Q && Q.length == R * X * 4 ? Q : v.$(R * X * 4),
            Z = new Uint32Array(w.buffer),
            P = new Uint32Array(e.buffer);
        for (var J = 0; J < X; J += 2)
            for (var i = 0; i < R; i += 2) {
                var k = J * R + i,
                    $ = (J * 3 >>> 1) * K + (i * 3 >>> 1),
                    n = Z[$],
                    j = Z[$ + 1],
                    y = Z[$ + 2],
                    V = Z[$ + K],
                    O = Z[$ + 1 + K],
                    S = Z[$ + 2 + K],
                    G = Z[$ + K + K],
                    D = Z[$ + 1 + K + K],
                    q = Z[$ + 2 + K + K],
                    T = n >>> 24 << 2,
                    L = (n >>> 16 & 255) * T,
                    N = (n >>> 8 & 255) * T,
                    F = (n & 255) * T,
                    I = j >>> 24 << 1,
                    s = (j >>> 16 & 255) * I,
                    u = (j >>> 8 & 255) * I,
                    g = (j & 255) * I,
                    U = y >>> 24 << 2,
                    r = (y >>> 16 & 255) * U,
                    x = (y >>> 8 & 255) * U,
                    C = (y & 255) * U,
                    p = V >>> 24 << 1,
                    l = (V >>> 16 & 255) * p,
                    c = (V >>> 8 & 255) * p,
                    t = (V & 255) * p,
                    H = O >>> 24,
                    gl = (O >>> 16 & 255) * H,
                    ie = (O >>> 8 & 255) * H,
                    fk = (O & 255) * H,
                    h5 = S >>> 24 << 1,
                    cf = (S >>> 16 & 255) * h5,
                    f = (S >>> 8 & 255) * h5,
                    aH = (S & 255) * h5,
                    gY = G >>> 24 << 2,
                    cC = (G >>> 16 & 255) * gY,
                    cY = (G >>> 8 & 255) * gY,
                    gJ = (G & 255) * gY,
                    bM = D >>> 24 << 1,
                    cN = (D >>> 16 & 255) * bM,
                    eu = (D >>> 8 & 255) * bM,
                    cU = (D & 255) * bM,
                    h7 = q >>> 24 << 2,
                    hn = (q >>> 16 & 255) * h7,
                    gS = (q >>> 8 & 255) * h7,
                    aq = (q & 255) * h7,
                    ef = T + I + p + H,
                    dU = U + I + h5 + H,
                    hO = gY + bM + p + H,
                    ao = h7 + bM + h5 + H,
                    hI = ef == 0 ? 0 : 1 / ef,
                    a$ = dU == 0 ? 0 : 1 / dU,
                    hH = hO == 0 ? 0 : 1 / hO,
                    bq = ao == 0 ? 0 : 1 / ao,
                    dq = 0,
                    g9 = 0,
                    cx = 0,
                    hp = 0;
                dq = ~~(.5 + (F + g + t + fk) * hI);
                g9 = ~~(.5 + (N + u + c + ie) * hI);
                cx = ~~(.5 + (L + s + l + gl) * hI);
                hp = ~~(.5 + ef * (1 / 9));
                P[k] = hp << 24 | cx << 16 | g9 << 8 | dq;
                dq = ~~(.5 + (C + g + aH + fk) * a$);
                g9 = ~~(.5 + (x + u + f + ie) * a$);
                cx = ~~(.5 + (r + s + cf + gl) * a$);
                hp = ~~(.5 + dU * (1 / 9));
                P[k + 1] = hp << 24 | cx << 16 | g9 << 8 | dq;
                dq = ~~(.5 + (gJ + cU + t + fk) * hH);
                g9 = ~~(.5 + (cY + eu + c + ie) * hH);
                cx = ~~(.5 + (cC + cN + l + gl) * hH);
                hp = ~~(.5 + hO * (1 / 9));
                P[k + R] = hp << 24 | cx << 16 | g9 << 8 | dq;
                dq = ~~(.5 + (aq + cU + aH + fk) * bq);
                g9 = ~~(.5 + (gS + eu + f + ie) * bq);
                cx = ~~(.5 + (hn + cN + cf + gl) * bq);
                hp = ~~(.5 + ao * (1 / 9));
                P[k + R + 1] = hp << 24 | cx << 16 | g9 << 8 | dq
            }
        return {
            rect: h,
            Sg: e
        }
    };
    v.aju = function(w, o, Q) {
        var K = o.D,
            b = o.j,
            R = 2 * Math.floor(K / 3),
            X = 2 * Math.floor(b / 3),
            h = new B(o.x, o.y, R, X),
            e = Q && Q.length == R * X * 4 ? Q : v.$(R * X * 4),
            Z = new Uint32Array(w.buffer),
            P = new Uint32Array(e.buffer);
        for (var J = 0; J < X; J += 2)
            for (var i = 0; i < R; i += 2) {
                var k = J * R + i,
                    $ = (J * 3 >>> 1) * K + (i * 3 >>> 1),
                    n = Z[$],
                    j = Z[$ + 1],
                    y = Z[$ + 2],
                    V = Z[$ + K],
                    O = Z[$ + 1 + K],
                    S = Z[$ + 2 + K],
                    G = Z[$ + K + K],
                    D = Z[$ + 1 + K + K],
                    q = Z[$ + 2 + K + K],
                    T = (n >>> 16 & 255) << 2,
                    L = (n >>> 8 & 255) << 2,
                    N = (n & 255) << 2,
                    F = (j >>> 16 & 255) << 1,
                    I = (j >>> 8 & 255) << 1,
                    s = (j & 255) << 1,
                    u = (y >>> 16 & 255) << 2,
                    g = (y >>> 8 & 255) << 2,
                    U = (y & 255) << 2,
                    r = (V >>> 16 & 255) << 1,
                    x = (V >>> 8 & 255) << 1,
                    C = (V & 255) << 1,
                    p = O >>> 16 & 255,
                    l = O >>> 8 & 255,
                    c = O & 255,
                    t = (S >>> 16 & 255) << 1,
                    H = (S >>> 8 & 255) << 1,
                    gl = (S & 255) << 1,
                    ie = (G >>> 16 & 255) << 2,
                    fk = (G >>> 8 & 255) << 2,
                    h5 = (G & 255) << 2,
                    cf = (D >>> 16 & 255) << 1,
                    f = (D >>> 8 & 255) << 1,
                    aH = (D & 255) << 1,
                    gY = (q >>> 16 & 255) << 2,
                    cC = (q >>> 8 & 255) << 2,
                    cY = (q & 255) << 2,
                    gJ = 0,
                    bM = 0,
                    cN = 0;
                gJ = ~~(.5 + (N + s + C + c) * (1 / 9));
                bM = ~~(.5 + (L + I + x + l) * (1 / 9));
                cN = ~~(.5 + (T + F + r + p) * (1 / 9));
                P[k] = 255 << 24 | cN << 16 | bM << 8 | gJ;
                gJ = ~~(.5 + (U + s + gl + c) * (1 / 9));
                bM = ~~(.5 + (g + I + H + l) * (1 / 9));
                cN = ~~(.5 + (u + F + t + p) * (1 / 9));
                P[k + 1] = 255 << 24 | cN << 16 | bM << 8 | gJ;
                gJ = ~~(.5 + (h5 + aH + C + c) * (1 / 9));
                bM = ~~(.5 + (fk + f + x + l) * (1 / 9));
                cN = ~~(.5 + (ie + cf + r + p) * (1 / 9));
                P[k + R] = 255 << 24 | cN << 16 | bM << 8 | gJ;
                gJ = ~~(.5 + (cY + aH + gl + c) * (1 / 9));
                bM = ~~(.5 + (cC + f + H + l) * (1 / 9));
                cN = ~~(.5 + (gY + cf + t + p) * (1 / 9));
                P[k + R + 1] = 255 << 24 | cN << 16 | bM << 8 | gJ
            }
        return {
            rect: h,
            Sg: e
        }
    };
    v.HZ = function(w) {
        var o = 255,
            Q = w.length;
        Q -= Q & 31;
        for (var M = 3; M < Q; M += 32) o = o & w[M] & w[M + 4] & w[M + 8] & w[M + 12] & w[M + 16] & w[M + 20] & w[M + 24] & w[M + 28];
        return o != 255
    };
    v.rX = function(w, o, Q, K) {
        var b = v.Z7,
            R = v.ais,
            h = 0;
        if (!v.HZ(w)) {
            b = v._x;
            R = v.aju
        }
        var X = {
                Sg: w,
                rect: o
            },
            e = Q;
        while (e < .499) {
            h++;
            e *= 2
        }
        for (var M = 0; M < h; M++) X = b(X.Sg, X.rect, K);
        if (e < .5001) X = b(X.Sg, X.rect, K);
        else X = R(X.Sg, X.rect, K);
        return X
    };
    v.acA = function(w, o, Q, K) {
        var b = v.zc,
            R = v.Af,
            X = {
                Sg: w,
                rect: o
            },
            h = 0,
            e = Q;
        while (e < .499) {
            h++;
            e *= 2
        }
        for (var M = 0; M < h; M++) X = b(X.Sg, X.rect, K);
        if (e < .5001) X = b(X.Sg, X.rect, K);
        else X = R(X.Sg, X.rect, K);
        return X
    };
    v.zc = function(w, o, Q) {
        var K = o.D,
            b = o.j,
            R = K >> 1,
            X = b >> 1,
            h = new B(o.x, o.y, R, X);
        if (w == null) return {
            rect: h
        };
        var e = Q && Q.length >= R * X ? Q : v.$(R * X);
        for (var Z = 0; Z < X; Z++) {
            var P = Z * R;
            for (var J = 0; J < R; J++) {
                var i = (Z << 1) * K + (J << 1);
                e[P + J] = 2 + w[i] + w[i + 1] + w[i + K] + w[i + K + 1] >>> 2
            }
        }
        return {
            rect: h,
            Sg: e
        }
    };
    v.Af = function(w, o, Q) {
        var K = o.D,
            b = o.j,
            R = 2 * Math.floor(K / 3),
            X = 2 * Math.floor(b / 3),
            h = new B(o.x, o.y, R, X);
        if (w == null) return {
            rect: h
        };
        var e = Q && Q.length >= R * X ? Q : v.$(R * X);
        for (var Z = 0; Z < X; Z += 2)
            for (var P = 0; P < R; P += 2) {
                var J = Z * R + P,
                    i = (Z * 3 >>> 1) * K + (P * 3 >>> 1),
                    k = w[i] << 2,
                    $ = w[i + 1] << 1,
                    n = w[i + 2] << 2,
                    j = w[i + K] << 1,
                    y = w[i + 1 + K],
                    V = w[i + 2 + K] << 1,
                    O = w[i + K + K] << 2,
                    S = w[i + 1 + K + K] << 1,
                    G = w[i + 2 + K + K] << 2;
                e[J] = ~~(.5 + (k + $ + j + y) * (1 / 9));
                e[J + 1] = ~~(.5 + (n + $ + V + y) * (1 / 9));
                e[J + R] = ~~(.5 + (O + S + j + y) * (1 / 9));
                e[J + R + 1] = ~~(.5 + (G + S + V + y) * (1 / 9))
            }
        return {
            rect: h,
            Sg: e
        }
    };
    v.Hp = function(w, o, Q, K, b) {
        var R = o.z2(K);
        if (b) R = R.z2(b);
        var X = Math.max(0, R.x - o.x),
            h = Math.max(0, R.x - K.x),
            e = Math.max(0, R.y - o.y),
            Z = Math.max(0, R.y - K.y),
            P = R.D,
            J = R.j;
        for (var M = 0; M < J; M++) {
            var i = (e + M) * o.D + X,
                k = (Z + M) * K.D + h;
            for (var $ = 0; $ < P; $++) {
                Q[k + $] = w[i + $]
            }
        }
    };
    v.dd = function(w, o, Q, K) {
        if (o.Lb(K)) {
            v.qh(w, Q, 3);
            return
        }
        var b = o.z2(K),
            R = Math.max(0, b.x - o.x),
            X = Math.max(0, b.x - K.x),
            h = Math.max(0, b.y - o.y),
            e = Math.max(0, b.y - K.y),
            Z = b.D,
            P = b.j;
        for (var M = 0; M < P; M++) {
            var J = (h + M) * o.D + R,
                i = (e + M) * K.D + X;
            for (var k = 0; k < Z; k++) Q[(i + k << 2) + 3] = w[J + k]
        }
    };
    v.nr = function(w, o, Q, K) {
        var b = o.z2(K),
            R = Math.max(0, b.x - o.x),
            X = Math.max(0, b.x - K.x),
            h = Math.max(0, b.y - o.y),
            e = Math.max(0, b.y - K.y),
            Z = b.D,
            P = b.j;
        for (var M = 0; M < P; M++) {
            var J = (h + M) * o.D + R,
                i = (e + M) * K.D + X;
            for (var k = 0; k < Z; k++) Q[i + k] = w[(J + k << 2) + 3]
        }
    };
    v.a5O = function(w, o, Q, K) {
        var b = o.z2(K),
            R = Math.max(0, b.x - o.x),
            X = Math.max(0, b.x - K.x),
            h = Math.max(0, b.y - o.y),
            e = Math.max(0, b.y - K.y),
            Z = b.D,
            P = b.j;
        for (var M = 0; M < P; M++) {
            var J = (h + M) * o.D + R,
                i = (e + M) * K.D + X;
            for (var k = 0; k < Z; k++) Q[i++] = w[J++]
        }
    };
    v.c1 = function(w, o, Q, K, b) {
        if (o.Lb(K) && (b == null || b.Lb(K))) {
            v.gb(w, Q);
            return
        }
        w = new Uint32Array(w.buffer), Q = new Uint32Array(Q.buffer);
        var R = o.z2(K);
        if (b) R = R.z2(b);
        var X = Math.max(0, R.x - o.x),
            h = Math.max(0, R.x - K.x),
            e = Math.max(0, R.y - o.y),
            Z = Math.max(0, R.y - K.y),
            P = R.D,
            J = R.j,
            i = P & 3,
            k = i == 0 ? P : P - i;
        for (var M = 0; M < J; M++) {
            var $ = (e + M) * o.D + X,
                n = (Z + M) * K.D + h,
                j = 0;
            while (j < k) {
                Q[n + j] = w[$ + j];
                Q[n + j + 1] = w[$ + j + 1];
                Q[n + j + 2] = w[$ + j + 2];
                Q[n + j + 3] = w[$ + j + 3];
                j += 4
            }
            if (i == 1) {
                Q[n + j] = w[$ + j]
            } else if (i == 2) {
                Q[n + j] = w[$ + j];
                Q[n + j + 1] = w[$ + j + 1]
            } else if (i == 3) {
                Q[n + j] = w[$ + j];
                Q[n + j + 1] = w[$ + j + 1];
                Q[n + j + 2] = w[$ + j + 2]
            }
        }
    };
    v.XF = function(w, o, Q, K) {
        var b = o.z2(K),
            R = Math.max(0, b.x - o.x),
            X = Math.max(0, b.x - K.x),
            h = Math.max(0, b.y - o.y),
            e = Math.max(0, b.y - K.y),
            Z = b.D,
            P = b.j,
            J = w.K,
            i = w.W,
            k = w.a,
            $ = w.k,
            n = Q.K,
            j = Q.W,
            y = Q.a,
            V = Q.k;
        for (var M = 0; M < P; M++) {
            var O = (h + M) * o.D + R,
                S = (e + M) * K.D + X;
            for (var G = 0; G < Z; G++) {
                n[S + G] = J[O + G];
                j[S + G] = i[O + G];
                y[S + G] = k[O + G];
                V[S + G] = $[O + G]
            }
        }
    };
    v.jd = function(w) {
        var o = w.length;
        for (var M = 0; M < o; M += 4) {
            var Q = w[M + 3];
            w[M] = ~~(w[M] * Q * (1 / 255) + .5);
            w[M + 1] = ~~(w[M + 1] * Q * (1 / 255) + .5);
            w[M + 2] = ~~(w[M + 2] * Q * (1 / 255) + .5)
        }
    };
    v.Ia = function(w) {
        var o = w.length;
        for (var M = 0; M < o; M += 4) {
            var Q = w[M + 3];
            if (Q == 0 || Q == 255) continue;
            var K = 255 / Q;
            w[M] = ~~(w[M] * K + .5);
            w[M + 1] = ~~(w[M + 1] * K + .5);
            w[M + 2] = ~~(w[M + 2] * K + .5)
        }
    };
    v.a1K = function() {
        var w = new Uint8Array(256 * 256);
        for (var M = 0; M < 256; M++)
            for (var o = 0; o < 256; o++) w[o * 256 + M] = Math.round(255 * M / o);
        return w
    }();
    v.$u = function(w, o) {
        for (var M = 0; M < w.length; M++)
            if (w[M] != o) return !1;
        return !0
    };
    v.Dw = function(w) {
        return w + 1 + (w >>> 8) >>> 8
    };
    v.round = function(w, o) {
        if (o == null) o = 128;
        var Q = w.length;
        for (var M = 0; M < Q; M++) w[M] = w[M] < o ? 0 : 255
    };
    v.JW = function(w, o) {
        var Q = w.length;
        for (var M = 0; M < Q; M++) w[M] = Math.round(w[M] * o)
    };
    v.amc = function(w, o) {
        var Q = w.length;
        for (var M = 0; M < Q; M += 4) w[M + 3] = Math.round(w[M + 3] * o)
    };
    v.nK = function(w, o) {
        var Q = new Uint32Array(w.buffer),
            K = new Uint32Array(o.buffer),
            b = Q.length;
        for (var M = 0; M < b; M++) {
            var R = Q[M],
                X = K[M];
            K[M] = v.Dw((R >>> 24) * (X >>> 24)) << 24 | v.Dw((R >>> 16 & 255) * (X >>> 16 & 255)) << 16 | v.Dw((R >>> 8 & 255) * (X >>> 8 & 255)) << 8 | v.Dw((R & 255) * (X & 255))
        }
    };
    v.Xb = function(w, o) {
        var Q = w.length;
        for (var M = 0; M < Q; M++) o[(M << 2) + 3] = v.Dw(o[(M << 2) + 3] * w[M])
    };
    v.akj = function(w, o, Q, K) {
        var b = Math.max(0, K.x - o.x),
            R = Math.max(0, o.x - K.x),
            X = Math.max(0, K.y - o.y),
            h = Math.max(0, o.y - K.y),
            e = Math.min(o.x + o.D, K.x + K.D) - Math.max(o.x, K.x),
            Z = Math.min(o.y + o.j, K.y + K.j) - Math.max(o.y, K.y);
        for (var M = 0; M < Z; M++) {
            var P = (X + M) * o.D + b,
                J = (h + M) * K.D + R;
            for (var i = 0; i < e; i++) {
                Q[J] = v.Dw(Q[J] * w[P]);
                P++;
                J++
            }
        }
    };
    v.BQ = function(w, o, Q, K) {
        var b = Math.max(0, K.x - o.x),
            R = Math.max(0, o.x - K.x),
            X = Math.max(0, K.y - o.y),
            h = Math.max(0, o.y - K.y),
            e = Math.min(o.x + o.D, K.x + K.D) - Math.max(o.x, K.x),
            Z = Math.min(o.y + o.j, K.y + K.j) - Math.max(o.y, K.y);
        for (var M = 0; M < Z; M++) {
            var P = (X + M) * o.D + b,
                J = ((h + M) * K.D + R << 2) + 3;
            for (var i = 0; i < e; i++) {
                Q[J] = v.Dw(Q[J] * w[P]);
                P++;
                J += 4
            }
        }
    };
    v.E6 = function(w, o, Q, K) {
        var b = Math.max(0, K.x - o.x),
            R = Math.max(0, o.x - K.x),
            X = Math.max(0, K.y - o.y),
            h = Math.max(0, o.y - K.y),
            e = Math.min(o.x + o.D, K.x + K.D) - Math.max(o.x, K.x),
            Z = Math.min(o.y + o.j, K.y + K.j) - Math.max(o.y, K.y);
        for (var M = 0; M < Z; M++) {
            var P = ((X + M) * o.D + b << 2) + 3,
                J = ((h + M) * K.D + R << 2) + 3;
            for (var i = 0; i < e; i++) {
                Q[J] = v.Dw(Q[J] * w[P]);
                P += 4;
                J += 4
            }
        }
    };
    v.a67 = function(w, o, Q, K) {
        var b = 1 / 255,
            R = Math.max(0, K.x - o.x),
            X = Math.max(0, o.x - K.x),
            h = Math.max(0, K.y - o.y),
            e = Math.max(0, o.y - K.y),
            Z = Math.min(o.x + o.D, K.x + K.D) - Math.max(o.x, K.x),
            P = Math.min(o.y + o.j, K.y + K.j) - Math.max(o.y, K.y);
        for (var M = 0; M < P; M++) {
            var J = (h + M) * o.D + R,
                i = (e + M) * K.D + X;
            for (var k = 0; k < Z; k++) {
                Q[i] = b * Q[i] * (255 - w[J]);
                J++;
                i++
            }
        }
    };
    v.acN = function(w, o) {
        var Q = [];
        for (var M = 0; M < 256; M++) Q.push(0);
        var K = w.length,
            b = 1 / 255;
        for (var M = 0; M < K; M++) Q[w[M]] += o[M] * b;
        return Q
    };
    v.UF = function(w) {
        var o = new Float64Array(256),
            Q = new Float64Array(256),
            K = new Float64Array(256),
            b = new Float64Array(256),
            R = w.length,
            X = 0;
        for (var M = 0; M < R; M += 4) {
            var h = w[M + 3],
                e = h * (1 / 255);
            Q[w[M + 0]] += e;
            K[w[M + 1]] += e;
            b[w[M + 2]] += e;
            X += h
        }
        for (var M = 0; M < 256; M++) o[M] = Q[M] + K[M] + b[M];
        return [o, Q, K, b, R >>> 2, X / 255]
    };
    v._4 = function(w, o) {
        var Q = new Uint32Array(w.buffer),
            K = Q.length;
        for (var M = 0; M < K; M++) {
            var b = Q[M],
                R = b & 255,
                X = b >> 8 & 255,
                h = b >> 16 & 255,
                e = b >> 24 & 255;
            Q[M] = o[R] | o[X] << 8 | o[h] << 16 | o[e] << 24
        }
    };
    v.afb = function(w, o, Q, K, b, R, X) {
        var h = new Uint32Array(w.buffer),
            e = new Uint32Array(o.buffer),
            Z = h.length,
            P = 0;
        while (256 << P < Q.length) P++;
        if (!X && !R) {
            for (var M = 0; M != Z; M++) {
                var J = h[M],
                    i = (J & 255) << P,
                    k = (J >>> 8 & 255) << P,
                    $ = (J >>> 16 & 255) << P,
                    n = Q[i],
                    j = K[k],
                    y = b[$];
                e[M] = n | j << 8 | y << 16 | J & 4278190080
            }
            return
        }
        for (var M = 0; M < Z; M++) {
            var J = h[M],
                i = (J & 255) << P,
                k = (J >>> 8 & 255) << P,
                $ = (J >>> 16 & 255) << P;
            if (R) i = k = $ = Math.round(i * .3 + k * .59 + $ * .11);
            var n = Q[i],
                j = K[k],
                y = b[$];
            if (X) {
                var V = v.hn(i, k, $),
                    O = v.hn(n, j, y);
                if (V > O) {
                    var S = (V - O) / (255 - O);
                    n += S * (255 - n);
                    j += S * (255 - j);
                    y += S * (255 - y)
                } else if (O == 0) n = j = y = 0;
                else {
                    var S = V / O;
                    n = S * n;
                    j = S * j;
                    y = S * y
                }
            }
            e[M] = n | j << 8 | y << 16 | J & 4278190080
        }
    };
    v.a0Z = function(w) {
        var o = new Uint32Array(256),
            Q = 0;
        for (var M = 0; M < w.length; M++) o[w[M]]++;
        for (var M = 0; M < 256; M++)
            if (o[M] > o[Q]) Q = M;
        return Q
    };
    v.JT = function(w, o) {
        var Q = o.D,
            K = o.j,
            top = 0,
            b = 0,
            R = 0,
            X = 0,
            h = 0;
        h = 0;
        for (var e = 0; e < K; e++) {
            var Z = e * Q;
            for (var M = 0; M < Q; M++) h |= w[Z + M];
            if (h != 0) break;
            top++
        }
        if (top == K) return new B(0, 0, 0, 0);
        h = 0;
        for (var e = K - 1; e >= 0; e--) {
            var Z = e * Q;
            for (var M = 0; M < Q; M++) h |= w[Z + M];
            if (h != 0) break;
            R++
        }
        var P = K - R;
        h = 0;
        for (var M = 0; M < Q; M++) {
            for (var e = top; e < P; e++) h |= w[e * Q + M];
            if (h != 0) break;
            b++
        }
        h = 0;
        for (var M = Q - 1; M >= 0; M--) {
            for (var e = top; e < P; e++) h |= w[e * Q + M];
            if (h != 0) break;
            X++
        }
        var J = new B(o.x + b, o.y + top, Q - b - X, K - top - R);
        return J
    };
    v.Zk = function(w, o, Q, K) {
        if (K == null) K = [!0, !0, !0, !0];
        if (Q == null) Q = 0;
        var b = new Uint32Array(w.buffer),
            R = o.D,
            X = o.j,
            top = 0,
            h = 0,
            e = 0,
            Z = 0,
            P = !1,
            J = [b[0], b[b.length - 1], 0][Q];
        P = !1;
        if (K[0])
            for (var i = 0; i < X; i++) {
                var k = i * R;
                for (var M = 0; M < R; M++)
                    if (b[k + M] != J) P = !0;
                if (P) break;
                top++
            }
        P = !1;
        if (K[2])
            for (var i = X - 1; i >= 0; i--) {
                var k = i * R;
                for (var M = 0; M < R; M++)
                    if (b[k + M] != J) P = !0;
                if (P) break;
                e++
            }
        P = !1;
        if (K[1])
            for (var M = 0; M < R; M++) {
                for (var i = 0; i < X; i++)
                    if (b[i * R + M] != J) P = !0;
                if (P) break;
                h++
            }
        P = !1;
        if (K[3])
            for (var M = R - 1; M >= 0; M--) {
                for (var i = 0; i < X; i++)
                    if (b[i * R + M] != J) P = !0;
                if (P) break;
                Z++
            }
        var $ = new B(o.x + h, o.y + top, R - h - Z, X - top - e);
        return $.Kx() ? new B(0, 0, 0, 0) : $
    };
    v.a21 = function(w) {
        var o = 255,
            Q = w.length;
        for (var M = 3; M < Q; M += 4) o = o & w[M];
        return o
    };
    v.ei = function(w) {
        var o = v.JT(w.channel, w.rect);
        if (o.Lb(w.rect)) return;
        var Q = v.$(o.O());
        v.Hp(w.channel, w.rect, Q, o);
        w.channel = Q;
        w.rect = o
    };
    v.Ay = function(w) {
        var o = v.$(w.buffer.length >> 2);
        v.KU(w.buffer, o, 3);
        var Q = v.JT(o, w.rect);
        if (Q.Lb(w.rect)) return;
        var K = new v.$(Q.O() * 4);
        v.c1(w.buffer, w.rect, K, Q);
        w.buffer = K;
        w.rect = Q
    };
    v.extend = function(w, o, Q) {
        if (w.rect.Fq(o)) return;
        var K = w.rect.OX(o),
            b = v.$(K.O());
        if (Q != null) v.set(b, Q);
        v.Hp(w.channel, w.rect, b, K);
        w.rect = K;
        w.channel = b
    };
    v.a1O = function(w, o) {
        if (o.Kx() || w.rect.Fq(o)) return;
        var Q = w.rect.OX(o),
            K = v.$(Q.O() * 4);
        v.c1(w.buffer, w.rect, K, Q);
        w.rect = Q;
        w.buffer = K
    };
    v.aeB = function(w, o, Q) {
        var K = o.clone(),
            b = Q.O(),
            R = w.OX(K);
        while (R.O() / w.O() < 2 && R.O() < b) {
            K.Nn(16, 16);
            R = R.OX(K).z2(Q)
        }
        if (b / R.O() < 2) R = Q.clone();
        return R
    };
    v.aiv = function(w) {
        var o = w.length;
        for (var M = 0; M < o; M += 4) {
            var Q = w[M + 3];
            if (w[M] > Q) w[M] = Q;
            if (w[M + 1] > Q) w[M + 1] = Q;
            if (w[M + 2] > Q) w[M + 2] = Q
        }
    };
    v.UO = function(w, o, Q) {
        if (!Q.V5(w)) return !1;
        var K = Math.floor(w.x) - Q.x,
            b = Math.floor(w.y) - Q.y,
            M = b * Q.D + K;
        return o[M] > 128
    };
    v.aj3 = function(w, o, Q) {
        if (!Q.V5(w)) return !1;
        var K = Math.floor(w.x) - Q.x,
            b = Math.floor(w.y) - Q.y,
            M = b * Q.D + K;
        return o[4 * M + 3] > 128
    };
    v.lP = function(w) {
        if (v.UD.length < w) {
            v.UD = v.$(w);
            v.set(v.UD, 255)
        }
        return v.UD
    };
    v.UD = v.$(0);
    v.pa = function(w) {
        if (v.pV.length < w) v.pV = v.$(w);
        return v.pV
    };
    v.pV = v.$(0);
    v.Dz = function(w) {
        this.K = v.$(w);
        this.W = v.$(w);
        this.a = v.$(w);
        this.k = v.$(w)
    };
    v.Dz.prototype.clone = function() {
        var w = this.K.length,
            o = new v.Dz(1);
        o.K = v.clone(this.K);
        o.W = v.clone(this.W);
        o.a = v.clone(this.a);
        o.k = v.clone(this.k);
        return o
    };
    v.yL = {
        ah4: function(w, o) {
            var M = w.length;
            w.push(o);
            var Q = M >>> 1;
            while (Q != 0 && w[M][0] < w[Q][0]) {
                var K = w[M];
                w[M] = w[Q];
                w[Q] = K;
                M = Q;
                Q = M >>> 1
            }
        },
        amU: function(w) {
            if (w.length == 2) return w.pop();
            var top = w[1],
                M = 1;
            w[1] = w.pop();
            var o = w.length;
            while (!0) {
                var Q = M << 1,
                    K = Q + 1,
                    b = M;
                if (Q < o && w[Q][0] < w[b][0]) b = Q;
                if (K < o && w[K][0] < w[b][0]) b = K;
                if (b == M) break;
                var R = w[M];
                w[M] = w[b];
                w[b] = R;
                M = b
            }
            return top
        },
        a2F: function(w) {
            for (var M = 1; M < w.length; M++) {
                var o = M,
                    Q = 1e9;
                while (o != 0) {
                    var K = w[o][0];
                    if (K > Q) {
                        console.log(M);
                        throw "e"
                    }
                    Q = K;
                    o = o >>> 1
                }
            }
        }
    };
    v.M = {};
    v.M.AR = new Float64Array(256);
    v.M.z4 = new Uint8Array(256 * 256);
    v.M.fn = new Uint8Array(256 * 256);
    (function() {
        for (var M = 0; M < 256; M++) v.M.AR[M] = 255 / M;
        for (var M = 0; M < 256; M++)
            for (var w = 0; w < 256; w++) v.M.z4[M * 256 + w] = M == 0 ? 0 : Math.round(w * 255 / M);
        for (var M = 0; M < 256; M++)
            for (var w = 0; w < 256; w++) v.M.fn[M * 256 + w] = Math.round(M * (255 - w) / 255)
    }());
    v.M.M$ = function(w, o, Q, K, b, R, X, h) {
        if (h == null) h = eg.UC();
        if ("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(w) == -1) {
            X = X * h.fill;
            h.fill = 1;
            h.style = !1
        }
        var e = "norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),
            Z = "dkCl,lgCl,hue ,sat ,colr,lum ".split(","),
            P = v.M[w + "F"];
        if (h.og == null && w == "norm") v.M.akB(o, Q, K, b, R, X, P, h._m ? 1 : 0);
        else if (w == "diss") v.M.a5r(o, Q, K, b, R, X, P, h._m ? 1 : 0);
        else if (e.indexOf(w) != -1) v.M.a0w(o, Q, K, b, R, X, P, h);
        else if (Z.indexOf(w) != -1) v.M.amm(o, Q, K, b, R, X, P, h)
    };
    v.M.acZ = function(w, o, Q) {
        var K = w * Q + 1 - Q;
        return K < .001 ? 0 : 1 - Math.min(1, (1 - o) / K)
    };
    v.M.aeu = function(w, o, Q) {
        return w * Q == 1 ? 1 : Math.min(1, o / (1 - w * Q))
    };
    v.M.N4 = function(w) {
        return w <= .25 ? ((16 * w - 12) * w + 4) * w : Math.sqrt(w)
    };
    v.M.normF = function(w, o, Q) {
        return w
    };
    v.M.darkF = function(w, o, Q) {
        return Math.min(w, o)
    };
    v.M["mul F"] = function(w, o, Q) {
        return w * o
    };
    v.M.idivF = function(w, o, Q) {
        var K = w * Q + 1 - Q;
        return o == 1 ? 1 : 1 - o >= K ? 0 : 1 - (1 - o) / K
    };
    v.M.lbrnF = function(w, o, Q) {
        return Math.max(0, w * Q + o - Q)
    };
    v.M.dkClF = function(w, o, Q) {
        var K = v.uE(w) < v.uE(o) ? w : o;
        Q.W = K.W;
        Q.a = K.a;
        Q.k = K.k;
        return Q
    };
    v.M.liteF = function(w, o, Q) {
        return Math.max(w, o)
    };
    v.M.scrnF = function(w, o, Q) {
        return o + w - o * w
    };
    v.M["div F"] = function(w, o, Q) {
        w *= Q;
        return o == 0 ? 0 : o >= 1 - w ? 1 : o / (1 - w)
    };
    v.M.lddgF = function(w, o, Q) {
        w *= Q;
        return Math.min(1, w + o)
    };
    v.M.lgClF = function(w, o, Q) {
        var K = v.uE(w) > v.uE(o) ? w : o;
        Q.W = K.W;
        Q.a = K.a;
        Q.k = K.k;
        return Q
    };
    v.M.overF = function(w, o, Q) {
        return v.M.hLitF(o, w, Q)
    };
    v.M.sLitF = function(w, o, Q) {
        return w <= .5 ? o - (1 - 2 * w) * o * (1 - o) : o + (2 * w - 1) * (v.M.N4(o) - o)
    };
    v.M.hLitF = function(w, o, Q) {
        return w <= .5 ? v.M["mul F"](2 * w, o, Q) : v.M.scrnF(2 * w - 1, o, Q)
    };
    v.M.vLitF = function(w, o, Q) {
        return w <= .5 ? v.M.acZ(2 * w, o, Q) : v.M.aeu(2 * w - 1, o, Q)
    };
    v.M.lLitF = function(w, o, Q) {
        return w <= .5 ? v.M.lbrnF(2 * w, o, Q) : v.M.lddgF(2 * w - 1, o, Q)
    };
    v.M.pLitF = function(w, o, Q) {
        return w <= .5 ? v.M.darkF(2 * w, o, Q) : v.M.liteF(2 * w - 1, o, Q)
    };
    v.M.hMixF = function(w, o, Q) {
        if (Q > .99) return w + o < 1 ? 0 : 1;
        return Math.min(1, Math.max(0, (o + w * Q - Q) / (1 - Q + 1e-6)))
    };
    v.M.diffF = function(w, o, Q) {
        w *= Q;
        return Math.abs(w - o)
    };
    v.M.smudF = function(w, o, Q) {
        return w + o - 2 * w * o
    };
    v.M.fsubF = function(w, o, Q) {
        return Math.max(o - w, 0)
    };
    v.M.fdivF = function(w, o, Q) {
        return Math.min(o / w, 1)
    };
    v.M["hue F"] = function(w, o, Q) {
        v.tH(w, v.Yx(o), Q);
        v.E0(Q, v.uE(o), Q)
    };
    v.M["sat F"] = function(w, o, Q) {
        v.tH(o, v.Yx(w), Q);
        v.E0(Q, v.uE(o), Q)
    };
    v.M.colrF = function(w, o, Q) {
        v.E0(w, v.uE(o), Q)
    };
    v.M["lum F"] = function(w, o, Q) {
        v.E0(o, v.uE(w), Q)
    };
    v.M.akB = function(w, o, Q, K, b, R, X, h) {
        var e = o.z2(K).z2(b),
            Z = Math.max(0, e.x - o.x),
            P = Math.max(0, e.x - K.x),
            J = Math.max(0, e.y - o.y),
            i = Math.max(0, e.y - K.y),
            k = e.D,
            $ = e.j,
            n = o.D,
            j = K.D,
            y = v.M.z4,
            V = v.M.fn,
            O = new Uint32Array(w.buffer),
            S = new Uint32Array(Q.buffer);
        for (var M = 0; M < $; M++) {
            var G = (J + M) * n + Z,
                D = (i + M) * j + P;
            for (var q = 0; q < k; q++) {
                var T = O[G + q],
                    F = 255;
                if (T >>> 24 == 0) continue;
                if (T >>> 24 == 255 && R == 1 && h == 0) {
                    S[D + q] = O[G + q];
                    continue
                }
                var L = S[D + q],
                    N = 255 * R & 255;
                if (h == 0) {
                    N = (T >>> 24) * R & 255;
                    F = L >>> 24
                }
                var I = V[F << 8 | N],
                    s = N + I,
                    u = T & 255,
                    g = T >>> 8 & 255,
                    U = T >>> 16 & 255,
                    r = L & 255,
                    x = L >>> 8 & 255,
                    C = L >>> 16 & 255;
                S[D + q] = h * (L >>> 24) + (1 - h) * s << 24 | y[s << 8 | v.Dw(U * N + C * I)] << 16 | y[s << 8 | v.Dw(g * N + x * I)] << 8 | y[s << 8 | v.Dw(u * N + r * I)]
            }
        }
    };
    v.M.a1u = function(w, o, Q, K, b, R) {
        var X = o.z2(K).z2(b),
            h = Math.max(0, X.x - o.x),
            e = Math.max(0, X.x - K.x),
            Z = Math.max(0, X.y - o.y),
            P = Math.max(0, X.y - K.y),
            J = X.D,
            i = X.j,
            k = o.D,
            $ = K.D,
            n = v.M.z4,
            j = v.M.fn,
            y = new Uint32Array(w.buffer),
            V = new Uint32Array(Q.buffer),
            O = Math.floor(Math.random() * 16777215),
            S = 0;
        for (var M = 0; M < i; M++) {
            var G = (Z + M) * k + h,
                D = (P + M) * $ + e;
            for (var q = 0; q < J; q++) {
                var T = y[G + q];
                if (T >>> 24 == 0) continue;
                if (T >> 24 == 255 && R == 1) {
                    V[D + q] = T;
                    continue
                }
                var L = V[D + q],
                    N = (T >>> 24) * R * (1 / 255),
                    F = (L >>> 24) * (1 / 255),
                    I = F * (1 - N),
                    s = N + I,
                    u = T & 255,
                    g = T >>> 8 & 255,
                    U = T >>> 16 & 255,
                    r = L & 255,
                    x = L >>> 8 & 255,
                    C = L >>> 16 & 255;
                S >>>= 8;
                if ((q & 3) == 0) S = v.M.yT(D + q + O);
                var p = s == 0 ? 0 : 1 / s,
                    l = Math.floor(s * (256 * 255)) + (S & 255) >>> 8,
                    c = Math.floor((U * N + C * I) * p + .5),
                    t = Math.floor((g * N + x * I) * p + .5),
                    H = Math.floor((u * N + r * I) * p + .5);
                V[D + q] = l << 24 | c << 16 | t << 8 | H
            }
        }
    };
    v.M.Vo = function(w, o, Q, K, b, R, X, h) {
        var e = v.hn(w, o, Q),
            Z = v.hn(K, b, R),
            P = Math.min,
            J = v.M.a1d,
            i = J(e, h, 0);
        i = P(i, J(w, h, 8));
        i = P(i, J(o, h, 16));
        i = P(i, J(Q, h, 24));
        var k = J(Z, h, 4);
        k = P(k, J(K, h, 12));
        k = P(k, J(b, h, 20));
        k = P(k, J(R, h, 28));
        k = Math.max(k, 1 - X);
        var $ = Math.min(i, k);
        return $ < 0 ? 0 : $ > 1 ? 1 : $
    };
    v.M.a1d = function(w, o, M) {
        return Math.min((w - o[M]) * o[M + 1], (w - o[M + 3]) * o[M + 2])
    };
    v.M.a0w = function(w, o, Q, K, b, R, X, h) {
        var e = 1 / 255,
            Z = e * R,
            P = h._m ? 1 : 0,
            J = h.fill,
            i = h.style,
            k = o.z2(K).z2(b),
            $ = Math.max(0, k.x - o.x),
            n = Math.max(0, k.x - K.x),
            j = Math.max(0, k.y - o.y),
            y = Math.max(0, k.y - K.y),
            V = k.D,
            O = k.j,
            S = o.D,
            G = K.D,
            D = new Uint32Array(w.buffer),
            q = new Uint32Array(Q.buffer);
        for (var M = 0; M < O; M++) {
            var T = (j + M) * S + $,
                L = (y + M) * G + n;
            for (var N = 0; N < V; N++, T++, L++) {
                var F = D[T],
                    p = 1;
                if (F >>> 24 == 0) continue;
                var I = q[L],
                    s = (F & 255) * e,
                    u = (F >>> 8 & 255) * e,
                    g = (F >>> 16 & 255) * e,
                    U = (I & 255) * e,
                    r = (I >>> 8 & 255) * e,
                    x = (I >>> 16 & 255) * e,
                    C = R;
                if (P == 0) {
                    C = (F >>> 24) * Z;
                    p = (I >>> 24) * e
                }
                if (h.og) C *= v.M.Vo(s, u, g, U, r, x, p, h.og);
                var l = p * (1 - C),
                    c = C + l,
                    t = c == 0 ? 0 : 255 / c,
                    H = i ? 1 : C,
                    gl = ((1 - p) * C * s + (1 - H) * p * U + H * p * X(s, U, (1 + C - H) * J)) * t,
                    ie = ((1 - p) * C * u + (1 - H) * p * r + H * p * X(u, r, (1 + C - H) * J)) * t,
                    fk = ((1 - p) * C * g + (1 - H) * p * x + H * p * X(g, x, (1 + C - H) * J)) * t;
                c = C * J + p * (1 - C * J);
                var h5 = ~~(c * 255 + .5);
                q[L] = P * (I >>> 24) + (1 - P) * h5 << 24 | fk << 16 | ie << 8 | gl
            }
        }
    };
    v.M.amm = function(w, o, Q, K, b, R, X, h) {
        var e = 1 / 255,
            Z = e * R,
            P = h._m ? 1 : 0,
            J = o.z2(K).z2(b),
            i = Math.max(0, J.x - o.x),
            k = Math.max(0, J.x - K.x),
            $ = Math.max(0, J.y - o.y),
            n = Math.max(0, J.y - K.y),
            j = J.D,
            y = J.j,
            V = new Uint32Array(w.buffer),
            O = new Uint32Array(Q.buffer),
            S = {
                W: 0,
                a: 0,
                k: 0
            },
            G = {
                W: 0,
                a: 0,
                k: 0
            },
            D = {
                W: 0,
                a: 0,
                k: 0
            };
        for (var M = 0; M < y; M++) {
            var q = ($ + M) * o.D + i,
                T = (n + M) * K.D + k;
            for (var L = 0; L < j; L++, q++, T++) {
                var N = V[q],
                    F = O[T],
                    I = (N & 255) * e,
                    s = (N >>> 8 & 255) * e,
                    u = (N >>> 16 & 255) * e,
                    g = (F & 255) * e,
                    U = (F >>> 8 & 255) * e,
                    r = (F >>> 16 & 255) * e,
                    x = R,
                    C = 1;
                if (P == 0) {
                    x = (N >>> 24) * Z;
                    C = (F >>> 24) * e
                }
                if (h.og) x *= v.M.Vo(I, s, u, g, U, r, C, h.og);
                var p = C * (1 - x),
                    l = x + p,
                    c = 255 / l;
                S.W = I;
                S.a = s;
                S.k = u;
                G.W = g;
                G.a = U;
                G.k = r;
                X(S, G, D);
                var t = (((1 - C) * I + C * D.W) * x + g * p) * c,
                    H = (((1 - C) * s + C * D.a) * x + U * p) * c,
                    gl = (((1 - C) * u + C * D.k) * x + r * p) * c,
                    ie = P * (F >>> 24) + (1 - P) * Math.round(l * 255);
                O[T] = ie << 24 | gl << 16 | H << 8 | t
            }
        }
    };
    v.M.TG = function(w) {
        w = w ^ 61 ^ w >>> 16;
        w = w + (w << 3);
        w = w ^ w >>> 4;
        w = w * 668265261;
        w = w ^ w >> 15;
        return (w & 16777215) * (1 / 16777215)
    };
    v.M.yT = function(w) {
        w = w ^ 61 ^ w >>> 16;
        w = w + (w << 3);
        w = w ^ w >>> 4;
        w = w * 668265261;
        w = w ^ w >>> 15;
        return w
    };
    v.M.Cj = function(w) {
        this.BJ = w
    };
    v.M.Cj.prototype.get = function() {
        var w = this.BJ = v.M.yT(this.BJ);
        return (w & 16777215) * (1 / 16777215)
    };
    v.M.a5r = function(w, o, Q, K, b, R, X, h) {
        var e = 1 / 255,
            Z = e * R,
            P = Math.round(R * (256 * 256 * 256 / 255)),
            J = o.z2(K).z2(b),
            i = Math.max(0, J.x - o.x),
            k = Math.max(0, J.x - K.x),
            $ = Math.max(0, J.y - o.y),
            n = Math.max(0, J.y - K.y),
            j = J.D,
            y = J.j,
            V = new Uint32Array(w.buffer),
            O = new Uint32Array(Q.buffer);
        for (var M = 0; M < y; M++) {
            var S = ($ + M) * o.D + i,
                G = (n + M) * K.D + k;
            for (var D = 0; D < j; D++, S++, G++) {
                var q = V[S],
                    T = O[G],
                    L = h * 255 + (1 - h) * (q >>> 24);
                if ((v.M.yT(S) & 16777215) >= L * P) continue;
                O[G] = q & 16777215 | h * (T >>> 24) + (1 - h) * 255 << 24
            }
        }
    };
    v.M.ahg = function(w, o, Q) {
        for (var M = 0; M < w.length; M += 4) {
            var K = Q[M >>> 2];
            if (K == 0) continue;
            var b = K * (1 / 255),
                R = 1 / b,
                X = o[M],
                h = o[M + 1],
                e = o[M + 2],
                Z = w[M],
                P = w[M + 1],
                J = w[M + 2];
            o[M] = Math.min(255, Math.max(0, Math.round((X - (1 - b) * Z) * R)));
            o[M + 1] = Math.min(255, Math.max(0, Math.round((h - (1 - b) * P) * R)));
            o[M + 2] = Math.min(255, Math.max(0, Math.round((e - (1 - b) * J) * R)));
            o[M + 3] = 255
        }
    };
    v.M.uG = function(w, o, Q, K, b, R, X, h, e, Z, P) {
        if (Z == null) Z = !1;
        if (P == null) P = [1, 1, 1];
        var J = 255 << 24 | P[2] * 16711680 | P[1] * 65280 | P[0] * 255,
            i = ~J;
        if (b && !o.Lb(R)) {
            var k = v.$(o.O() * 4);
            v.set(k, X);
            v.Hp(b, R, k, o);
            b = k;
            R = o
        }
        if (Z) {
            if (b == null) v.M.akF(w, o, Q, K, b, h, e, J, i);
            else v.M.acR(w, o, Q, K, b, h, e)
        } else {
            if (b == null) v.M.a6x(w, o, Q, K, b, h, e, J, i);
            else v.M.aeC(w, o, Q, K, b, h, e)
        }
    };
    v.M.a6x = function(w, o, Q, K, b, R, X, h, e) {
        var Z = 1 / 255,
            P = o.z2(K).z2(R),
            J = Math.max(0, P.x - o.x),
            i = Math.max(0, P.x - K.x),
            k = Math.max(0, P.y - o.y),
            $ = Math.max(0, P.y - K.y),
            n = P.D,
            j = P.j,
            y = new Uint32Array(w.buffer),
            V = new Uint32Array(Q.buffer),
            O = v.M.z4,
            S = X * 255 & 255;
        for (var M = 0; M < j; M++) {
            var G = (k + M) * o.D + J,
                D = ($ + M) * K.D + i;
            for (var q = 0; q < n; q++, G++, D++) {
                var T = y[G],
                    L = V[D],
                    N = T >>> 24,
                    F = L >>> 24,
                    I = v.Dw(S * N + (255 - S) * F),
                    s = v.Dw(N * S),
                    u = v.Dw(F * (255 - S)),
                    g = T & 255,
                    U = T >>> 8 & 255,
                    r = T >>> 16 & 255,
                    x = L & 255,
                    C = L >>> 8 & 255,
                    p = L >>> 16 & 255,
                    l = s * g + x * u,
                    c = s * U + C * u,
                    t = s * r + p * u;
                l = O[I << 8 | v.Dw(l)];
                c = O[I << 8 | v.Dw(c)];
                t = O[I << 8 | v.Dw(t)];
                var H = I << 24 | t << 16 | c << 8 | l;
                V[D] = e & L | h & H
            }
        }
    };
    v.M.akF = function(w, o, Q, K, b, R, X, h, e) {
        var Z = 1 / 255,
            P = o.z2(K).z2(R),
            J = Math.max(0, P.x - o.x),
            i = Math.max(0, P.x - K.x),
            k = Math.max(0, P.y - o.y),
            $ = Math.max(0, P.y - K.y),
            n = P.D,
            j = P.j,
            y = new Uint32Array(w.buffer),
            V = new Uint32Array(Q.buffer),
            O = v.M.z4,
            S = X * 16777215 & 16777215;
        for (var M = 0; M < j; M++) {
            var G = (k + M) * o.D + J,
                D = ($ + M) * K.D + i;
            for (var q = 0; q < n; q++, G++, D++) {
                if ((v.M.yT(G) & 16777215) < S) {
                    V[D] = e & V[D] | h & y[G]
                }
            }
        }
    };
    v.M.aeC = function(w, o, Q, K, b, R, X) {
        var h = 1 / 255,
            e = o.z2(K).z2(R),
            Z = Math.max(0, e.x - o.x),
            P = Math.max(0, e.x - K.x),
            J = Math.max(0, e.y - o.y),
            i = Math.max(0, e.y - K.y),
            k = e.D,
            $ = e.j,
            n = new Uint32Array(w.buffer),
            j = new Uint32Array(Q.buffer),
            y = v.M.z4;
        for (var M = 0; M < $; M++) {
            var V = (J + M) * o.D + Z,
                O = (i + M) * K.D + P;
            for (var S = 0; S < k; S++, V++, O++) {
                var G = b[V] * X & 255;
                if (G == 0) continue;
                if (G == 255) {
                    j[O] = n[V];
                    continue
                }
                var D = n[V],
                    q = j[O],
                    T = D >>> 24,
                    L = q >>> 24,
                    N = v.Dw(G * T + (255 - G) * L),
                    F = v.Dw(T * G),
                    I = v.Dw(L * (255 - G)),
                    s = D & 255,
                    u = D >>> 8 & 255,
                    g = D >>> 16 & 255,
                    U = q & 255,
                    r = q >>> 8 & 255,
                    x = q >>> 16 & 255,
                    C = y[N << 8 | v.Dw(F * s + U * I)],
                    p = y[N << 8 | v.Dw(F * u + r * I)],
                    l = y[N << 8 | v.Dw(F * g + x * I)];
                j[O] = N << 24 | l << 16 | p << 8 | C
            }
        }
    };
    v.M.acR = function(w, o, Q, K, b, R, X) {
        var h = 1 / 255,
            e = o.z2(K).z2(R),
            Z = Math.max(0, e.x - o.x),
            P = Math.max(0, e.x - K.x),
            J = Math.max(0, e.y - o.y),
            i = Math.max(0, e.y - K.y),
            k = e.D,
            $ = e.j,
            n = new Uint32Array(w.buffer),
            j = new Uint32Array(Q.buffer),
            y = v.M.z4,
            V = Math.round(X * 257);
        for (var M = 0; M < $; M++) {
            var O = (J + M) * o.D + Z,
                S = (i + M) * K.D + P;
            for (var G = 0; G < k; G++, O++, S++) {
                var D = b[O] * V;
                if ((v.M.yT(O) & 65535) < D) j[S] = n[O]
            }
        }
    };
    v.M.pd = function(w, o, Q, K, b, R, X) {
        var h = 1 / 255,
            e = o.z2(K).z2(R),
            Z = Math.max(0, e.x - o.x),
            P = Math.max(0, e.x - K.x),
            J = Math.max(0, e.y - o.y),
            i = Math.max(0, e.y - K.y),
            k = e.D,
            $ = e.j,
            n = new Uint32Array(w.buffer),
            j = new Uint32Array(Q.buffer),
            y = Math.floor(Math.random() * K.O()),
            V = v.M.a6F;
        for (var M = 0; M < $; M++) {
            var O = (J + M) * o.D + Z,
                S = (i + M) * K.D + P;
            for (var G = 0; G < k; G++) {
                var D = b[O + G] * X;
                if (D == 0) continue;
                if (D == 255) {
                    j[S + G] = n[O + G];
                    continue
                }
                var q = n[O + G],
                    T = j[S + G],
                    L = q >>> 24,
                    N = T >>> 24,
                    F = L * D * (1 / 255),
                    I = N * (255 - D) * (1 / 255),
                    s = q & 255,
                    u = q >>> 8 & 255,
                    g = q >>> 16 & 255,
                    U = T & 255,
                    r = T >>> 8 & 255,
                    x = T >>> 16 & 255,
                    C = v.M.yT(S + G + y),
                    p = Math.floor((F + I) * 256 + .5) + (C >>> 0 & 255) >>> 8,
                    l = p == 0 ? 0 : 256 / (F + I),
                    c = s * F + U * I,
                    t = u * F + r * I,
                    H = g * F + x * I,
                    gl = Math.floor(c * l + .5) + (C >>> 8 & 255) >>> 8,
                    ie = Math.floor(t * l + .5) + (C >>> 16 & 255) >>> 8,
                    fk = Math.floor(H * l + .5) + (C >>> 21 & 248) >>> 8;
                j[S + G] = p << 24 | fk << 16 | ie << 8 | gl
            }
        }
    };
    v.M.a6F = function(w) {
        return Math.floor(w + Math.random())
    };
    v.M.K_ = function(w, o, Q, K, b, R, X) {
        var h = 1 / 255,
            e = o.z2(K).z2(R),
            Z = Math.max(0, e.x - o.x),
            P = Math.max(0, e.x - K.x),
            J = Math.max(0, e.y - o.y),
            i = Math.max(0, e.y - K.y),
            k = e.D,
            $ = e.j;
        for (var M = 0; M < $; M++) {
            var n = (J + M) * o.D + Z,
                j = (i + M) * K.D + P;
            for (var y = 0; y < k; y++, n++, j++) {
                var V = X * b[n] * h;
                if (V == 0) continue;
                if (V == 1) {
                    Q[j] = w[n];
                    continue
                }
                Q[j] = w[n] * V + Q[j] * (1 - V)
            }
        }
    };
    v.dV = {};
    v.dV.ald = function(w, o, Q, K, b, R) {
        v.dV.mb(w, o, Q, K, b, R, null, 0)
    };
    v.dV.a9u = function(w, o, Q, K, b) {
        v.dV.mb(w, o, Q, K, b, null, null, 0)
    };
    v.dV.ano = function(w, o, Q, K, b, R, X) {
        v.dV.mb(w, o, Q, K, b, null, R, X * .5)
    };
    v.dV.mb = function(w, o, Q, K, b, R, X, h) {
        var e = 0,
            I = 0,
            s = 1e9,
            u = 0,
            g = 1e9,
            U = 0,
            r = 1e9,
            x = 0,
            C = 0,
            p = 0,
            l = 0;
        if (R) {
            e = b * .5;
            b = 3 + Math.round((b - 3) * .75)
        }
        if (X) {
            b = Math.round(b * 2.2)
        }
        var Z = 1 / b,
            P = Math.floor(o * Z) + 1,
            J = Math.floor(Q * Z) + 1,
            i = [],
            k = new Uint8Array(P * J * 4),
            $ = X ? .5 : 1,
            n = R ? 64 : 0;
        for (var j = 0; j < J; j++) {
            var y = X ? .5 * (j & 1) : 0;
            for (var V = 0; V < P; V++) {
                var O = (V + Math.random() * $ + y) * b,
                    S = (j + Math.random() * $) * b;
                i.push(O, S);
                var G = Math.min(o - 1, Math.floor(O)),
                    D = Math.min(Q - 1, Math.floor(S)),
                    q = (D * o + G) * 4,
                    T = (j * P + V) * 4;
                for (var M = 0; M < 4; M++) k[T + M] = Math.max(0, Math.min(255, Math.floor(w[q + M] + (Math.random() - .5) * n)))
            }
        }
        var L = R ? R : X ? X : [0, 0, 0],
            N = P * J * 2,
            F = [-P - 1, -P, -P + 1, -1, 0, 1, P - 1, P, P + 1];
        for (var j = 0; j < Q; j++) {
            p = 0;
            for (var V = 0; V < o; V++) {
                var c = V + .5,
                    t = j + .5,
                    H = Math.floor(t * Z),
                    gl = Math.floor(c * Z),
                    ie = H * P + gl,
                    cf = 0,
                    f = 0;
                if (p > 1 + h) {
                    s = v.dV.Uq(i, I, c, t);
                    x = Math.sqrt(s);
                    p--;
                    l++
                } else {
                    s = g = r = 1e9;
                    for (var M = 0; M < F.length; M++) {
                        var fk = (ie + F[M]) * 2;
                        if (fk < 0 || fk >= N) continue;
                        var h5 = v.dV.Uq(i, fk, c, t);
                        if (h5 < r) {
                            if (h5 < g) {
                                if (h5 < s) {
                                    U = u;
                                    r = g;
                                    u = I;
                                    g = s;
                                    I = fk;
                                    s = h5
                                } else {
                                    U = u;
                                    r = g;
                                    u = fk;
                                    g = h5
                                }
                            } else {
                                U = fk;
                                r = h5
                            }
                        }
                    }
                    x = Math.sqrt(s);
                    C = Math.sqrt(g);
                    p = C - (x + C) * .5
                }
                if (X == null) {
                    var aH = (x + C) * .5,
                        gY = R ? Math.max(0, aH - e) : 0;
                    cf = Math.max(0, Math.min(1, .5 + aH - x - gY));
                    f = Math.max(0, Math.min(1, 1 - (.5 + aH - x) - gY))
                } else {
                    var cC = Math.min(v.dV.SY(i, I, u, c, t), v.dV.SY(i, I, U, c, t));
                    cf = Math.max(0, Math.min(1, cC - h * .5));
                    if (c < h || o - h < c || t < h || Q - h < t) cf = 0;
                    f = 0
                }
                var cY = 1 - f - cf,
                    T = j * o + V << 2,
                    gJ = I << 1,
                    bM = u << 1;
                K[T + 0] = Math.floor(.5 + cf * k[gJ + 0] + f * k[bM + 0] + cY * L[0]);
                K[T + 1] = Math.floor(.5 + cf * k[gJ + 1] + f * k[bM + 1] + cY * L[1]);
                K[T + 2] = Math.floor(.5 + cf * k[gJ + 2] + f * k[bM + 2] + cY * L[2]);
                K[T + 3] = w[T + 3]
            }
        }
    };
    v.dV.Uq = function(w, o, Q, K) {
        var b = Q - w[o],
            R = K - w[o + 1];
        return b * b + R * R
    };
    v.dV.SY = function(w, o, Q, K, b) {
        var R = w[o],
            X = w[o + 1],
            h = w[Q],
            e = w[Q + 1],
            Z = (R + h) * .5,
            P = (X + e) * .5,
            J = Z + (e - X),
            i = P - (h - R),
            k = i - P,
            $ = J - Z;
        return Math.abs(k * K - $ * b + J * P - i * Z) / Math.sqrt($ * $ + k * k)
    };
    v.PF = {};
    v.PF.wl = function(w) {
        if (v.PF.kj.length < w) v.PF.kj = v.$(w);
        return v.PF.kj
    };
    v.PF.kj = v.$(0);
    v.PF.Lk = function(w) {
        if (v.PF.BO.length < w) v.PF.BO = new Float32Array(w);
        return v.PF.BO
    };
    v.PF.BO = new Float32Array(0);
    v.PF.ew = function(w, o, Q, K) {
        var b = Q.D,
            R = Q.j;
        v.PF.adn(w, o, b, R, K)
    };
    v.PF.gO = function(w, o, Q, K) {
        var b = Q.D,
            R = Q.j;
        v.PF.a1l(w, o, b, R, K)
    };
    v.PF.aiB = function(w, o, Q) {
        var K = o.D,
            b = o.j;
        v.PF.aht(w, K, b, Q)
    };
    v.PF.GD = function(w, o, Q, K, b) {
        var R = Q.D,
            X = Q.j;
        v.PF.a92(w, o, R, X, K, b)
    };
    v.PF.pg = function(w, o, Q, K) {
        var b = Q.D,
            R = Q.j;
        K = Math.round(K);
        var X = v.PF.wl(b * R);
        v.gb(w, o);
        v.PF.PK(o, X, b, R, K)
    };
    v.PF.Nx = function(w, o, Q) {
        var K = o.D,
            b = o.j;
        Q = Math.round(Q);
        var R = v.PF.wl(K * b * 4);
        v.PF.R7(w, R, K, b, Q)
    };
    v.PF.vE = function(w, o, Q, K) {
        var b = Q.D,
            R = Q.j;
        K = Math.round(K);
        var X = v.PF.Lk(b * R);
        v.gb(w, o);
        v.PF.sD(o, X, b, R, K)
    };
    v.PF.dY = function(w, o, Q) {
        var K = o.D,
            b = o.j;
        Q = Math.round(Q);
        var R = v.PF.wl(K * b * 4);
        v.PF.pF(w, R, K, b, Q);
        v.gb(R, w)
    };
    v.PF.Lq = function(w, A) {
        var o = Math.sqrt(12 * w * w / A + 1),
            Q = Math.floor(o);
        if (Q % 2 == 0) Q--;
        var K = Q + 2,
            b = (12 * w * w - A * Q * Q - 4 * A * Q - 3 * A) / (-4 * Q - 4),
            R = Math.round(b),
            X = [];
        for (var M = 0; M < A; M++) X.push(M < R ? Q : K);
        return X
    };
    v.PF.adn = function(w, o, Q, K, b) {
        var R = v.PF.Lq(b, 3),
            X = v.PF.wl(Q * K);
        v.gb(w, o);
        v.PF.PK(o, X, Q, K, R[0] - 1 >> 1);
        v.PF.PK(o, X, Q, K, R[1] - 1 >> 1);
        v.PF.PK(o, X, Q, K, R[2] - 1 >> 1)
    };
    v.PF.a1l = function(w, o, Q, K, b) {
        var R = v.PF.Lq(b, 2),
            X = v.PF.wl(Q * K);
        v.gb(w, o);
        v.PF.PK(o, X, Q, K, R[0] - 1 >> 1);
        v.PF.PK(o, X, Q, K, R[1] - 1 >> 1)
    };
    v.PF.aht = function(w, o, Q, K) {
        var b = v.PF.Lq(K, 3),
            R = v.PF.wl(o * Q * 4);
        v.PF.R7(w, R, o, Q, b[0] - 1 >> 1);
        v.PF.R7(w, R, o, Q, b[1] - 1 >> 1);
        v.PF.R7(w, R, o, Q, b[2] - 1 >> 1)
    };
    v.PF.a92 = function(w, o, Q, K, b, R) {
        if (R == null) R = 3;
        var X = v.PF.Lq(b, R),
            h = v.PF.Lk(Q * K);
        v.gb(w, o);
        for (var M = 0; M < R; M++) v.PF.sD(o, h, Q, K, (X[0] - 1) / 2)
    };
    v.PF.PK = function(w, o, Q, K, b) {
        v.PF.a9V(w, o, Q, K, b);
        v.PF.a4O(o, w, Q, K, b)
    };
    v.PF.R7 = function(w, o, Q, K, b) {
        v.PF.pF(w, o, Q, K, b);
        v.PF.a45(o, w, Q, K, b)
    };
    v.PF.sD = function(w, o, Q, K, b) {
        v.PF.aiL(w, o, Q, K, b);
        v.PF.abo(o, w, Q, K, b)
    };
    v.PF.L3 = [];
    v.PF.q$ = function(w) {
        if (v.PF.L3[w]) return v.PF.L3[w];
        var o = 1 / (w + w + 1),
            Q = (w + w + 1) * 256,
            K = v.$(Q);
        for (var M = 0; M < Q; M++) K[M] = Math.round(M * o);
        v.PF.L3[w] = K;
        return K
    };
    v.PF.a9V = function(w, o, Q, K, b) {
        var R = 1 / (b + b + 1),
            X = Q - b - b - 1,
            h = v.PF.q$(b);
        for (var M = 0; M < K; M++) {
            var e = M * Q,
                Z = e,
                P = e + b,
                J = w[e],
                i = w[e + Q - 1],
                k = (b + 1) * J;
            for (var $ = 0; $ < b; $++) k += w[e + $];
            for (var $ = 0; $ <= b; $++) {
                k += w[P + $] - J;
                o[e + $] = h[k]
            }
            P += b + 1;
            e += b + 1;
            for (var $ = 0; $ < X; $++) {
                k += w[P + $] - w[Z + $];
                o[e + $] = h[k]
            }
            P += X;
            Z += X;
            e += X;
            for (var $ = Q - b; $ < Q; $++) {
                k += i - w[Z++];
                o[e++] = h[k]
            }
        }
    };
    v.PF.pF = function(w, o, Q, K, b) {
        var R = Q << 2,
            X = b << 2,
            h = 1 / (b + b + 1),
            e = Q - b - b - 1,
            Z = e << 2,
            P = v.PF.q$(b);
        for (var M = 0; M < K; M++) {
            var J = M * R,
                i = J,
                k = J + X,
                $ = J + R,
                n = w[J],
                j = w[J + 1],
                y = w[J + 2],
                V = w[J + 3],
                O = (b + 1) * n,
                S = (b + 1) * j,
                G = (b + 1) * y,
                D = (b + 1) * V;
            for (var q = 0; q < X; q += 4) {
                O += w[J + q];
                S += w[J + q + 1];
                G += w[J + q + 2];
                D += w[J + q + 3]
            }
            for (var q = 0; q <= X; q += 4) {
                O += w[k] - n;
                o[J] = P[O];
                S += w[k + 1] - j;
                o[J + 1] = P[S];
                G += w[k + 2] - y;
                o[J + 2] = P[G];
                D += w[k + 3] - V;
                o[J + 3] = P[D];
                k += 4;
                J += 4
            }
            for (var q = 0; q < Z; q += 4) {
                O += w[k + q] - w[i + q];
                o[J + q] = P[O];
                S += w[k + q + 1] - w[i + q + 1];
                o[J + q + 1] = P[S];
                G += w[k + q + 2] - w[i + q + 2];
                o[J + q + 2] = P[G];
                D += w[k + q + 3] - w[i + q + 3];
                o[J + q + 3] = P[D]
            }
            k += Z;
            i += Z;
            J += Z;
            n = w[$ - 4];
            j = w[$ - 3];
            y = w[$ - 2];
            V = w[$ - 1];
            for (var q = Q - b; q < Q; q++) {
                O += n - w[i];
                o[J] = P[O];
                S += j - w[i + 1];
                o[J + 1] = P[S];
                G += y - w[i + 2];
                o[J + 2] = P[G];
                D += V - w[i + 3];
                o[J + 3] = P[D];
                i += 4;
                J += 4
            }
        }
    };
    v.PF.aiL = function(w, o, Q, K, b) {
        var R = 1 / (b + b + 1),
            X = Q - b - b - 1,
            h = 0,
            e = 0,
            Z = 0;
        for (var M = 0; M < K; M++) {
            h = M * Q;
            e = h;
            Z = h + b;
            var P = w[h],
                J = w[h + Q - 1],
                i = (b + 1) * P;
            for (var k = 0; k < b; k++) {
                i += w[h + k]
            }
            for (var k = 0; k <= b; k++) {
                i += w[Z++] - P;
                o[h++] = i * R
            }
            for (var k = 0; k < X; k++) {
                i += w[Z + k] - w[e + k];
                o[h + k] = i * R
            }
            Z += X;
            e += X;
            h += X;
            for (var k = Q - b; k < Q; k++) {
                i += J - w[e++];
                o[h++] = i * R
            }
        }
    };
    v.PF.a4O = function(w, o, Q, K, b) {
        var R = 1 / (b + b + 1),
            X = K - b - b - 1,
            h = v.PF.q$(b);
        for (var M = 0; M < Q; M++) {
            var e = M,
                Z = e,
                P = e + b * Q,
                J = w[e],
                i = w[e + Q * (K - 1)],
                k = (b + 1) * J;
            for (var $ = 0; $ < b; $++) k += w[e + $ * Q];
            for (var $ = 0; $ <= b; $++) {
                k += w[P] - J;
                o[e] = h[k];
                P += Q;
                e += Q
            }
            for (var $ = 0; $ < X; $++) {
                var n = $ * Q;
                k += w[P + n] - w[Z + n];
                o[e + n] = h[k]
            }
            Z += X * Q;
            P += X * Q;
            e += X * Q;
            for (var $ = K - b; $ < K; $++) {
                k += i - w[Z];
                o[e] = h[k];
                Z += Q;
                e += Q
            }
        }
    };
    v.PF.a45 = function(w, o, Q, K, b) {
        var R = Q << 2,
            X = b << 2,
            h = 1 / (b + b + 1),
            e = K - b - b - 1,
            Z = e << 2,
            P = v.PF.q$(b);
        for (var M = 0; M < Q; M++) {
            var J = M << 2,
                i = J,
                k = J + b * R,
                $ = J + R * (K - 1),
                n = w[J],
                j = w[J + 1],
                y = w[J + 2],
                V = w[J + 3],
                O = (b + 1) * n,
                S = (b + 1) * j,
                G = (b + 1) * y,
                D = (b + 1) * V;
            for (var q = 0; q < b; q++) {
                var T = J + q * R;
                O += w[T];
                S += w[T + 1];
                G += w[T + 2];
                D += w[T + 3]
            }
            for (var q = 0; q <= b; q++) {
                O += w[k] - n;
                o[J] = P[O];
                S += w[k + 1] - j;
                o[J + 1] = P[S];
                G += w[k + 2] - y;
                o[J + 2] = P[G];
                D += w[k + 3] - V;
                o[J + 3] = P[D];
                k += R;
                J += R
            }
            for (var q = 0; q < e; q++) {
                var L = q * R;
                O += w[k + L] - w[i + L];
                o[J + L] = P[O];
                S += w[k + L + 1] - w[i + L + 1];
                o[J + L + 1] = P[S];
                G += w[k + L + 2] - w[i + L + 2];
                o[J + L + 2] = P[G];
                D += w[k + L + 3] - w[i + L + 3];
                o[J + L + 3] = P[D]
            }
            i += e * R;
            k += e * R;
            J += e * R;
            n = w[$];
            j = w[$ + 1];
            y = w[$ + 2];
            V = w[$ + 3];
            for (var q = K - b; q < K; q++) {
                O += n - w[i];
                o[J] = P[O];
                S += j - w[i + 1];
                o[J + 1] = P[S];
                G += y - w[i + 2];
                o[J + 2] = P[G];
                D += V - w[i + 3];
                o[J + 3] = P[D];
                i += R;
                J += R
            }
        }
    };
    v.PF.abo = function(w, o, Q, K, b) {
        var R = 1 / (b + b + 1),
            X = K - b - b - 1;
        for (var M = 0; M < Q; M++) {
            var h = M,
                e = h,
                Z = h + b * Q,
                P = w[h],
                J = w[h + Q * (K - 1)],
                i = (b + 1) * P;
            for (var k = 0; k < b; k++) i += w[h + k * Q];
            for (var k = 0; k <= b; k++) {
                i += w[Z] - P;
                o[h] = i * R;
                Z += Q;
                h += Q
            }
            for (var k = 0; k < X; k++) {
                var $ = k * Q;
                i += w[Z + $] - w[e + $];
                o[h + $] = i * R
            }
            e += X * Q;
            Z += X * Q;
            h += X * Q;
            for (var k = K - b; k < K; k++) {
                i += J - w[e];
                o[h] = i * R;
                e += Q;
                h += Q
            }
        }
    };
    v.sp = {};
    v.sp.$ = function(w, o, Q, K) {
        var b = [];
        for (var R = 0; R < 4; R++)
            for (var X = 0; X < 4; X++) b.push(w + Q * X / 3, o + K * R / 3);
        return b
    };
    v.sp.NY = function(w, o) {
        var Q = w.slice(0);
        for (var M = 0; M < 4; M++)
            for (var K = 0; K < 4; K++) {
                var b = 2 * (M * 4 + K),
                    R = 2 * (K * 4 + (3 - M));
                if (o) {
                    var X = b;
                    b = R;
                    R = X
                }
                Q[R] = w[b];
                Q[R + 1] = w[b + 1]
            }
        return Q
    };
    v.sp.a1V = new Float64Array(16);
    v.sp.drawImage = function(w, o, Q, K, b, R, X) {
        if (X == null) X = !1;
        var h = R.D,
            e = R.j,
            i = 2;
        b = new Uint32Array(b.buffer);
        o = new Uint32Array(o.buffer);
        var Z = v.sp.R.NR(w, 0, 1, 0, 1, Q, K),
            P = Z.Ur,
            J = Z.qS,
            k = 1 / i,
            $ = v.sp.YO,
            n = new Float64Array(2),
            j = new Uint32Array(30);
        for (var y = 0; y < e; y++)
            for (var V = 0; V < h; V++) {
                var O = V + R.x + .5,
                    S = y + R.y + .5,
                    G = v.sp.R.a1p(P, J, O, S, j),
                    I = 0,
                    s = 0,
                    u = 0,
                    g = 0;
                if (G == 0) continue;
                var D = y * h + V,
                    q = v.sp.UO(w, O, S, P, j, G, !0),
                    T = $[0] * Q,
                    L = $[1] * K;
                if (X) {
                    if (q != -1 && 0 < T && T < Q && 0 < L && L < K) {
                        var N = Math.floor(L) * Q + Math.floor(T);
                        b[D] = o[N]
                    }
                    continue
                }
                var F = q != -1 && (1 < T && T < Q - 1) && (1 < L && L < K - 1);
                if (P[q + 8] < .95) {
                    v.Q.l9(T, L, o, Q, K, b, D, 0);
                    continue
                }
                for (var M = 0; M < i; M++)
                    for (var U = 0; U < i; U++) {
                        var O = V + R.x + (M + .5) * k,
                            S = y + R.y + (U + .5) * k,
                            q = 0;
                        q = v.sp.UO(w, O, S, P, j, G, !0);
                        if (q != -1) {
                            var T = $[0],
                                L = $[1],
                                T = Math.floor(T * Q);
                            L = Math.floor(L * K);
                            var r = o[L * Q + T],
                                x = r >>> 24;
                            I += (r & 255) * x;
                            s += (r >>> 8 & 255) * x;
                            u += (r >>> 16 & 255) * x;
                            g += x
                        }
                    }
                if (g != 0) {
                    var C = 1 / g;
                    I = ~~(I * C + .5);
                    s = ~~(s * C + .5);
                    u = ~~(u * C + .5);
                    g = ~~(g * k * k + .5);
                    b[D] = g << 24 | u << 16 | s << 8 | I
                }
            }
    };
    v.sp.YO = new Float64Array(5 * 20);
    v.sp.a7t = new Uint32Array(5 * 5 * 20);
    v.sp.UO = function(w, o, Q, K, b, R, X) {
        var h = v.sp.YO,
            e = v.sp.a7t,
            Z = 0,
            P = 0;
        for (var M = 0; M < R; M++) {
            var J = b[M],
                i = Z;
            Z = v.sp.Gg(w, o, Q, K, J + 4, X, h, Z);
            if (Z != i) {
                e[P] = J;
                P += 5
            }
        }
        if (Z == 0) return -1;
        else if (Z == 5) return e[0];
        else {
            var k = 0;
            for (var M = 0; M < Z; M += 5)
                if (h[M + 4] < h[k + 4]) k = M;
            h[0] = h[k];
            h[1] = h[k + 1];
            h[2] = h[k + 2];
            h[3] = h[k + 3];
            return e[k]
        }
    };
    v.sp.LG = new Array(10);
    v.sp.Gg = function(w, o, Q, K, b, R, X, h) {
        var e = v.sp.LG,
            Z = 0,
            P = 0,
            J = 0,
            i = 0,
            k = 0,
            $ = 0,
            n = 0,
            j = K[b],
            y = K[b + 1],
            V = K[b + 2],
            O = K[b + 3],
            S = (V - o) * (V - o) + (O - Q) * (O - Q);
        for (var M = 0; M < 5 && S > .05; M++) {
            v.sp.cO(e, 0, y);
            v.sp.WX(e, 4, j);
            v.sp.eE(w, e);
            Z = e[8];
            P = e[9];
            v.sp.WX(e, 0, y);
            v.sp.cO(e, 4, j);
            v.sp.eE(w, e);
            J = e[8];
            i = e[9];
            k = 1 / (Z * i - P * J);
            $ = (V - o) * k;
            n = (O - Q) * k;
            j += -i * $ + J * n;
            y += +P * $ - Z * n;
            v.sp.BA(w, j, y, e);
            V = e[8];
            O = e[9];
            S = (V - o) * (V - o) + (O - Q) * (O - Q)
        }
        if (R && (j < 0 || j > 1 || y < 0 || y > 1 || S > .25)) return h;
        X[h] = j;
        X[h + 1] = y;
        X[h + 2] = V;
        X[h + 3] = O;
        X[h + 4] = Z * i - P * J;
        return h + 5
    };
    v.sp.apply = function(w, o, Q) {
        var K = Q.x,
            b = Q.y,
            R = 1 / Q.D,
            X = 1 / Q.j,
            h = v.sp.LG;
        for (var e = 0; e < o.length; e += 2) {
            var Z = (o[e] - K) * R,
                P = (o[e + 1] - b) * X;
            v.sp.BA(w, Z, P, h);
            o[e] = h[8];
            o[e + 1] = h[9]
        }
    };
    v.sp.BA = function(w, o, Q, K) {
        v.sp.cO(K, 0, Q);
        v.sp.cO(K, 4, o);
        v.sp.eE(w, K)
    };
    v.sp.WX = function(w, M, o) {
        var Q = 1 - o;
        w[M] = -3 * (Q * Q);
        w[M + 1] = 3 * (Q * Q) - 6 * (o * Q);
        w[M + 2] = 6 * (o * Q) - 3 * (o * o);
        w[M + 3] = 3 * (o * o)
    };
    v.sp.cO = function(w, M, o) {
        var Q = 1 - o;
        w[M] = Q * (Q * Q);
        w[M + 1] = 3 * o * (Q * Q);
        w[M + 2] = 3 * (o * o) * Q;
        w[M + 3] = o * o * o
    };
    v.sp.eE = function(w, o) {
        var Q = 0,
            K = 0,
            b = 0;
        b = o[0] * o[4];
        Q += w[0] * b;
        K += w[1] * b;
        b = o[0] * o[5];
        Q += w[2] * b;
        K += w[3] * b;
        b = o[0] * o[6];
        Q += w[4] * b;
        K += w[5] * b;
        b = o[0] * o[7];
        Q += w[6] * b;
        K += w[7] * b;
        b = o[1] * o[4];
        Q += w[8] * b;
        K += w[9] * b;
        b = o[1] * o[5];
        Q += w[10] * b;
        K += w[11] * b;
        b = o[1] * o[6];
        Q += w[12] * b;
        K += w[13] * b;
        b = o[1] * o[7];
        Q += w[14] * b;
        K += w[15] * b;
        b = o[2] * o[4];
        Q += w[16] * b;
        K += w[17] * b;
        b = o[2] * o[5];
        Q += w[18] * b;
        K += w[19] * b;
        b = o[2] * o[6];
        Q += w[20] * b;
        K += w[21] * b;
        b = o[2] * o[7];
        Q += w[22] * b;
        K += w[23] * b;
        b = o[3] * o[4];
        Q += w[24] * b;
        K += w[25] * b;
        b = o[3] * o[5];
        Q += w[26] * b;
        K += w[27] * b;
        b = o[3] * o[6];
        Q += w[28] * b;
        K += w[29] * b;
        b = o[3] * o[7];
        Q += w[30] * b;
        K += w[31] * b;
        o[8] = Q;
        o[9] = K
    };
    v.sp.R = {};
    v.sp.R.N4 = 12;
    v.sp.R.A5 = new Uint32Array(50);
    v.sp.R.a1p = function(w, o, Q, K, b) {
        var R = 0,
            X = v.sp.R.A5,
            h = 1;
        X[0] = 0;
        while (h != 0) {
            var e = X[--h];
            if (w[e + 0] <= Q && w[e + 1] <= K && Q < w[e + 2] && K < w[e + 3]) {
                if (o[e + e + 18] == 0) {
                    b[R] = e;
                    R++
                } else {
                    X[h] = o[e + e + 18];
                    X[h + 1] = o[e + e + 19];
                    h += 2
                }
            }
        }
        return R
    };
    v.sp.R.a46 = function(w, o, Q, K, b) {
        var R = 0,
            X = v.sp.R.SP,
            h = v.sp.R.A5,
            e = 1,
            Z = 0,
            P = 999999999999;
        h[0] = 0;
        while (e != 0) {
            var J = h[--e],
                i = X(Q, K, w[J + 0], w[J + 1]),
                k = X(Q, K, w[J + 0], w[J + 3]),
                $ = X(Q, K, w[J + 2], w[J + 1]),
                n = X(Q, K, w[J + 2], w[J + 3]),
                j = Math.min(i, Math.min(k, Math.min($, n))),
                y = Math.max(i, Math.max(k, Math.max($, n)));
            if (j > P) continue;
            if (o[J + J + 18] == 0) {
                if (y < P) {
                    P = y;
                    Z = J
                }
            } else {
                h[e] = o[J + J + 18];
                h[e + 1] = o[J + J + 19];
                e += 2
            }
        }
        b[R] = Z;
        R++;
        return R
    };
    v.sp.R.SP = function(w, o, Q, K) {
        return (Q - w) * (Q - w) + (K - o) * (K - o)
    };
    v.sp.R.fN = null;
    v.sp.R.uo = null;
    v.sp.R.NR = function(w, o, Q, K, b, R, X) {
        if (R == null) {
            R = 1;
            X = 1
        }
        v.sp.R.uo = w;
        if (v.sp.R.fN == null) {
            v.sp.R.fN = {
                Ur: new Float64Array(15e3 * 8),
                qS: null
            };
            v.sp.R.fN.qS = new Uint32Array(v.sp.R.fN.Ur.buffer)
        }
        var h = v.sp.R.fN;
        v.sp.R.Rt(w, o, Q, K, b, 0, h.Ur, h.qS, 0, R, X);
        return h
    };
    v.sp.R.Rt = function(w, o, Q, K, b, R, X, h, e, Z, P) {
        var J = v.w.QT(w),
            i = e,
            k = v.sp.R.uo,
            $ = (o + Q) / 2,
            n = (K + b) / 2,
            j = v.sp.LG,
            y = v.sp.YO,
            V = v.sp.a1V,
            ie, fk, h5;
        v.sp.BA(k, $, n, j);
        var O = j[8],
            S = j[9];
        V[0] = $;
        V[1] = n;
        V[2] = O;
        V[3] = S;
        v.sp.Gg(k, O + 1, S, V, 0, !1, y, 0);
        var G = ($ - y[0]) * Z,
            D = (n - y[1]) * P,
            q = Math.sqrt(G * G + D * D);
        v.sp.Gg(k, O, S + 1, V, 0, !1, y, 0);
        var T = ($ - y[0]) * Z,
            L = (n - y[1]) * P,
            N = Math.sqrt(T * T + L * L);
        X[i] = J.x;
        X[i + 1] = J.y;
        X[i + 2] = J.x + J.D;
        X[i + 3] = J.y + J.j;
        X[i + 4] = $;
        X[i + 5] = n;
        X[i + 6] = O;
        X[i + 7] = S;
        X[i + 8] = .5 * (q + N);
        h[i + i + 18] = 0;
        h[i + i + 19] = 0;
        e += 10;
        v.sp.cO(j, 0, .1);
        v.sp.WX(j, 4, .1);
        v.sp.eE(w, j);
        var F = j[8],
            I = j[9];
        v.sp.WX(j, 0, .1);
        v.sp.cO(j, 4, .7);
        v.sp.eE(w, j);
        var s = j[8],
            u = j[9];
        v.sp.cO(j, 0, .8);
        v.sp.WX(j, 4, .8);
        v.sp.eE(w, j);
        var g = j[8],
            U = j[9];
        v.sp.WX(j, 0, .9);
        v.sp.cO(j, 4, .2);
        v.sp.eE(w, j);
        var r = j[8],
            x = j[9],
            C = (g - F) * (g - F) + (r - s) * (r - s) + (U - I) * (U - I) + (x - u) * (x - u);
        if (e >= X.length) {
            console.log("Buffer not long enough");
            throw "e"
        }
        if (R == v.sp.R.N4 || C < 2) return e;
        var p = v.sp.R.tI(w, !0),
            l = v.w.QT(p[0]),
            c = v.w.QT(p[1]),
            t = v.sp.R.tI(w, !1),
            H = v.w.QT(t[0]),
            gl = v.w.QT(t[1]);
        if (l.D + l.j + c.D + c.j < H.D + H.j + gl.D + gl.j) {
            h5 = !0;
            ie = p[0];
            fk = p[1]
        } else {
            h5 = !1;
            ie = t[0];
            fk = t[1]
        }
        var cf = (o + Q) / 2,
            f = (K + b) / 2,
            aH = o,
            gY = K,
            cC = Q,
            cY = b,
            gJ = o,
            bM = K,
            cN = Q,
            eu = b;
        if (h5) {
            cC = gJ = cf
        } else {
            cY = bM = f
        }
        h[i + i + 18] = e;
        e = v.sp.R.Rt(ie, aH, cC, gY, cY, R + 1, X, h, e, Z, P);
        h[i + i + 19] = e;
        e = v.sp.R.Rt(fk, gJ, cN, bM, eu, R + 1, X, h, e, Z, P);
        var cU = h[i + i + 18],
            h7 = h[i + i + 19];
        X[i] = Math.min(X[cU], X[h7]);
        X[i + 1] = Math.min(X[cU + 1], X[h7 + 1]);
        X[i + 2] = Math.max(X[cU + 2], X[h7 + 2]);
        X[i + 3] = Math.max(X[cU + 3], X[h7 + 3]);
        return e
    };
    v.sp.R.tI = function(w, o) {
        var Q = 0,
            K = 0,
            b = 0,
            R = 0,
            X = 0,
            h = 0,
            e = 0,
            Z = 0,
            P = w.slice(0),
            J = w.slice(0);
        for (var M = 0; M < 4; M++) {
            Q = o ? w[M * 8 + 2 * 0] : w[0 * 8 + 2 * M];
            K = o ? w[M * 8 + 2 * 0 + 1] : w[0 * 8 + 2 * M + 1];
            b = o ? w[M * 8 + 2 * 1] : w[1 * 8 + 2 * M];
            R = o ? w[M * 8 + 2 * 1 + 1] : w[1 * 8 + 2 * M + 1];
            X = o ? w[M * 8 + 2 * 2] : w[2 * 8 + 2 * M];
            h = o ? w[M * 8 + 2 * 2 + 1] : w[2 * 8 + 2 * M + 1];
            e = o ? w[M * 8 + 2 * 3] : w[3 * 8 + 2 * M];
            Z = o ? w[M * 8 + 2 * 3 + 1] : w[3 * 8 + 2 * M + 1];
            var i = (Q + b) / 2,
                k = (K + R) / 2,
                $ = (b + X) / 2,
                n = (R + h) / 2,
                j = (X + e) / 2,
                y = (h + Z) / 2,
                V = (i + $) / 2,
                O = (k + n) / 2,
                S = ($ + j) / 2,
                G = (n + y) / 2,
                D = (V + S) / 2,
                q = (O + G) / 2;
            if (o) {
                P[M * 8 + 2 * 0] = Q;
                P[M * 8 + 2 * 0 + 1] = K;
                P[M * 8 + 2 * 1] = i;
                P[M * 8 + 2 * 1 + 1] = k;
                P[M * 8 + 2 * 2] = V;
                P[M * 8 + 2 * 2 + 1] = O;
                P[M * 8 + 2 * 3] = D;
                P[M * 8 + 2 * 3 + 1] = q;
                J[M * 8 + 2 * 0] = D;
                J[M * 8 + 2 * 0 + 1] = q;
                J[M * 8 + 2 * 1] = S;
                J[M * 8 + 2 * 1 + 1] = G;
                J[M * 8 + 2 * 2] = j;
                J[M * 8 + 2 * 2 + 1] = y;
                J[M * 8 + 2 * 3] = e;
                J[M * 8 + 2 * 3 + 1] = Z
            } else {
                P[0 * 8 + 2 * M] = Q;
                P[0 * 8 + 2 * M + 1] = K;
                P[1 * 8 + 2 * M] = i;
                P[1 * 8 + 2 * M + 1] = k;
                P[2 * 8 + 2 * M] = V;
                P[2 * 8 + 2 * M + 1] = O;
                P[3 * 8 + 2 * M] = D;
                P[3 * 8 + 2 * M + 1] = q;
                J[0 * 8 + 2 * M] = D;
                J[0 * 8 + 2 * M + 1] = q;
                J[1 * 8 + 2 * M] = S;
                J[1 * 8 + 2 * M + 1] = G;
                J[2 * 8 + 2 * M] = j;
                J[2 * 8 + 2 * M + 1] = y;
                J[3 * 8 + 2 * M] = e;
                J[3 * 8 + 2 * M + 1] = Z
            }
        }
        return [P, J]
    };
    v.eN = {};
    v.eN.a6I = function(w, o, Q) {
        var K = v.eN.ae0(o, Q),
            b = v.eN.ec(K, w, o, Q);
        return {
            f2: K,
            _Z: b
        }
    };
    v.eN.anu = function(w, o, Q) {
        var K = Math.round(w.length / 8),
            b = new Uint32Array(K),
            R = new Uint8Array(K),
            X = new Uint32Array(K);
        v.Fw(b, 4294967295, 0);
        b[Q] = 0;
        var h = new gO(K);
        h.push(Q, b[Q]);
        var e = {
            f2: w,
            _Z: o,
            m6: b,
            v9: R,
            UN: X,
            hc: h,
            a0g: Q
        };
        return e
    };
    v.eN.Kn = function(w, o) {
        var Q = w.f2,
            K = w._Z,
            b = w.m6,
            R = w.v9,
            X = w.UN,
            h = w.hc;
        while (!h.Kx() && (o == null || R[o] == 0)) {
            var e = h.pop();
            R[e] = 1;
            for (var M = 0; M < 8; M++) {
                var Z = Q[8 * e + M];
                if (Z == -1 || R[Z]) continue;
                var P = b[e] + K[8 * e + M];
                if (h.contains(Z) && P < b[Z]) h.remove(Z, b[Z]);
                if (!h.contains(Z)) {
                    b[Z] = P;
                    X[Z] = e;
                    h.push(Z, b[Z])
                }
            }
        }
    };

    function gO(w) {
        this.ZJ = new Uint32Array(w);
        this.list = [];
        this.lf = 0;
        this.A2 = 4294967295
    }
    gO.prototype.Kx = function() {
        return this.lf == 0
    };
    gO.prototype.push = function(w, o) {
        var Q = this.list;
        if (Q[o] == null) Q[o] = [];
        Q[o].push(w);
        this.lf++;
        this.ZJ[w] = Q[o].length - 1 + 1;
        this.A2 = Math.min(this.A2, o)
    };
    gO.prototype.pop = function() {
        this.lf--;
        var w = this.list,
            o = this.A2,
            Q = w[o].pop();
        if (w[o].length == 0) w[o] = null;
        this.qd();
        this.ZJ[Q] = 0;
        return Q
    };
    gO.prototype.contains = function(w) {
        return this.ZJ[w] != 0
    };
    gO.prototype.remove = function(w, o) {
        this.lf--;
        var Q = this.list,
            M = this.ZJ[w] - 1;
        if (M == Q[o].length - 1) Q[o].pop();
        else {
            var K = Q[o].pop();
            Q[o][M] = K;
            this.ZJ[K] = M + 1
        }
        if (Q[o].length == 0) Q[o] = null;
        this.ZJ[w] = 0;
        this.qd()
    };
    gO.prototype.qd = function() {
        if (this.lf == 0) {
            this.A2 = 4294967295;
            return
        }
        var w = this.A2,
            o = this.list;
        while (o[w] == null) w++;
        this.A2 = w
    };
    v.eN.aa4 = function(w, o, Q) {
        var K = new Float32Array(o * Q);
        for (var b = 0; b < Q; b++)
            for (var R = 0; R < o; R++) {
                var M = b * o + R,
                    X = -16 * w[M];
                if (1 < R && R < o - 2 && 1 < b && b < Q - 2) {
                    X += w[M - o - o];
                    X += w[M - o - 1] + 2 * w[M - o] + w[M - o + 1];
                    X += w[M - 2] + 2 * w[M - 1] + 2 * w[M + 1] + w[M + 2];
                    X += w[M + o - 1] + 2 * w[M + o] + w[M + o + 1];
                    X += w[M + o + o]
                }
                K[M] = X / 16
            }
        return K
    };
    v.eN.a6q = function(w, o, Q) {
        var K = new Float32Array(o * Q),
            M = 0,
            b = 0;
        for (var R = 0; R < Q; R++)
            for (var X = 0; X < o; X++) {
                var h = 0,
                    e = 0;
                if (0 < X && X < o - 1) h = w[M + 1] - w[M - 1];
                if (0 < R && R < Q - 1) e = w[M + o] - w[M - o];
                K[M] = Math.sqrt(h * h + e * e);
                if (K[M] > b) b = K[M];
                M++
            }
        var Z = o * Q,
            P = b == 0 ? 0 : 1 / b;
        for (var M = 0; M < Z; M++) K[M] = 1 - K[M] * P;
        return K
    };
    v.eN.a51 = function(w, o, Q) {
        var K = new Float32Array(o * Q * 2),
            M = 0;
        for (var b = 0; b < Q; b++)
            for (var R = 0; R < o; R++) {
                var X = 0,
                    h = 0;
                if (0 < R && R < o - 1 && 0 < b && b < Q - 1) {
                    X = 2 * w[M + 1] - 2 * w[M - 1];
                    h = 2 * w[M + o] - 2 * w[M - o]
                }
                var e = Math.sqrt(X * X + h * h);
                if (e != 0) {
                    K[2 * M] = X / e;
                    K[2 * M + 1] = h / e
                } else {
                    K[2 * M] = X;
                    K[2 * M + 1] = h
                }
                M++
            }
        return K
    };
    v.eN.ec = function(w, o, Q, K) {
        var b = v.eN.aa4(o, Q, K),
            R = v.eN.a6q(o, Q, K),
            X = v.eN.a51(o, Q, K),
            h = 256,
            e = new Float32Array(h);
        for (var M = 0; M < h; M++) e[M] = Math.acos(-1 + 2 * M / (h - 1));
        var Z = [-1, 0, 1, 1, 1, 0, -1, -1],
            P = [-1, -1, -1, 0, 1, 1, 1, 0],
            J = 1 / Math.sqrt(2),
            i = new Uint8Array(Q * K * 8),
            k = Q * K;
        for (var $ = 0; $ < k; $++) {
            var n = b[$],
                j = X[2 * $ + 1],
                y = -X[2 * $];
            for (var V = 0; V < 8; V++) {
                var O = 8 * $ + V,
                    S = w[O];
                if (S == -1) i[O] = -1;
                else {
                    var G = (V & 1) == 0,
                        D = n * b[S] >= 0 ? 0 : 1,
                        q = R[S] * (G ? 1 : J),
                        T = 1,
                        L = X[2 * S + 1],
                        N = -X[2 * S];
                    if (!(j == 0 && y == 0 || L == 0 && N == 0)) {
                        var F = Z[V],
                            I = P[V];
                        if (j * Z[V] + y * P[V] < 0) {
                            F = -F;
                            I = -I
                        }
                        if (G) {
                            F *= J;
                            I *= J
                        }
                        var s = j * F + y * I,
                            u = L * F + N * I,
                            g = 2 / (3 * Math.PI) * (e[Math.floor((.5 + .5 * s) * (h - 1))] + e[Math.floor((.5 + .5 * u) * (h - 1))]);
                        T = g
                    }
                    var U = Math.round(20 * (.43 * D + .43 * T + .14 * q));
                    i[O] = Math.max(1, Math.min(255, U))
                }
            }
        }
        console.log(i);
        return i
    };
    v.eN.ae0 = function(w, o) {
        var Q = new Int32Array(w * o * 8),
            K = Q,
            M = 0,
            b = 0;
        K.fill(-1);
        for (var R = 0; R < o; R++)
            for (var X = 0; X < w; X++) {
                if (R > 0 && X > 0) K[b + 0] = M - w - 1;
                if (R > 0) K[b + 1] = M - w;
                if (R > 0 && X < w - 1) K[b + 2] = M - w + 1;
                if (X < w - 1) K[b + 3] = M + 1;
                if (R < o - 1 && X < w - 1) K[b + 4] = M + w + 1;
                if (R < o - 1) K[b + 5] = M + w;
                if (R < o - 1 && X > 0) K[b + 6] = M + w - 1;
                if (X > 0) K[b + 7] = M - 1;
                M++;
                b += 8
            }
        return Q
    };
    v.xt = {};
    v.xt.alr = function(w, o) {
        var Q = w.slice(0);
        for (var M = 0; M < w.length; M++) Q[M] *= o;
        return Q
    };
    v.xt.I0 = function(w) {
        var o = w.slice(0),
            Q = 0;
        for (var M = 0; M < w.length; M++) Q += w[M];
        for (var M = 0; M < w.length; M++) o[M] /= Q;
        return o
    };
    v.xt.a86 = function(w, o, Q, K, b) {
        var R = b.length,
            X = R >>> 1,
            h = X,
            e = Q - X;
        for (var Z = 0; Z < K; Z++)
            for (var P = h; P < e; P++) {
                var J = 0,
                    i = Z * Q + P;
                for (var M = 0; M < R; M++) J += b[M] * w[i - X + M];
                o[i] = J
            }
    };
    v.xt.a1J = function(w, o, Q, K, b) {
        var R = b.length,
            X = R >>> 1,
            h = X,
            e = K - X;
        for (var Z = h; Z < e; Z++)
            for (var P = 0; P < Q; P++) {
                var J = 0,
                    i = Z * Q + P;
                for (var M = 0; M < R; M++) J += b[M] * w[i + (-X + M) * Q];
                o[i] = J
            }
    };
    v.xt.abL = function(w, o, Q, K, b) {
        var R = [-Q - 1, -Q, -Q + 1, -1, 0, 1, Q - 1, Q, Q + 1],
            X = K - 1,
            h = Q - 1;
        for (var M = 1; M < X; M++)
            for (var e = 1; e < h; e++) {
                var Z = M * Q + e,
                    P = v.xt.gh(w, Z, Q, b);
                o[Z] = ~~(P + .5)
            }
    };
    v.xt.gh = function(w, o, Q, K) {
        return w[o - Q - 1] * K[0] + w[o - Q] * K[1] + w[o - Q + 1] * K[2] + w[o - 1] * K[3] + w[o] * K[4] + w[o + 1] * K[5] + w[o + Q - 1] * K[6] + w[o + Q] * K[7] + w[o + Q + 1] * K[8]
    };
    v.xt.iH = function(w, o, Q, K, b, R, X, h) {
        if (X == null) X = !1;
        if (h == null) h = !1;
        var e = Math.floor(Math.sqrt(b.length)),
            Z = e - 1 >>> 1,
            P = new Uint32Array(w.buffer),
            o = new Uint8ClampedArray(o.buffer);
        for (var M = 0; M < K; M++)
            for (var J = 0; J < Q; J++) {
                var i = 0,
                    k = 0,
                    $ = 0,
                    n = 0;
                for (var j = 0; j < e; j++)
                    for (var y = 0; y < e; y++) {
                        var V = b[j * e + y];
                        if (V == 0) continue;
                        var O = Math.min(Q - 1, Math.max(0, J - Z + y)),
                            S = Math.min(K - 1, Math.max(0, M - Z + j));
                        if (h && P[S * Q + O] >>> 24 == 0) {
                            S = M;
                            O = J
                        }
                        var G = P[S * Q + O];
                        i += (G & 255) * V;
                        k += (G >>> 8 & 255) * V;
                        $ += (G >>> 16 & 255) * V;
                        n += (G >>> 24 & 255) * V
                    }
                if (X) {
                    if (i < 0) i = -i;
                    if (k < 0) k = -k;
                    if ($ < 0) $ = -$;
                    if (n < 0) n = -n
                }
                if (h) {
                    i = Math.max(0, Math.min(255, i));
                    k = Math.max(0, Math.min(255, k));
                    $ = Math.max(0, Math.min(255, $));
                    n = Math.max(0, Math.min(255, n))
                }
                var D = M * Q + J << 2;
                o[D] = ~~(.5 + i);
                o[D + 1] = ~~(.5 + k);
                o[D + 2] = ~~(.5 + $);
                o[D + 3] = 255 - R & o[D + 3] | R & ~~(.5 + n)
            }
    };
    v.xt.alA = function() {
        function w(X, h, e, Z, P, J, i) {
            if (P == 0) {
                h.set(X);
                return
            }
            var k = v.$(e * Z),
                $ = v.$(e * Z);
            if (v.HZ(X)) {
                var n = [v.xt.n7, v.xt.Yz],
                    j = n.indexOf(J),
                    y = j != -1 ? n[1 - j] : J;
                o(X, h, e, Z, P, J, i);
                v.KU(X, k, 3);
                v.xt.e8(k, $, e, Z, P, y, i);
                v.qh($, h, 3)
            } else {
                for (var M = 0; M < 3; M++) {
                    v.KU(X, k, M);
                    v.xt.e8(k, $, e, Z, P, J, i);
                    v.qh($, h, M)
                }
            }
        }

        function o(X, h, e, Z, P, J, i) {
            var k = 0,
                $ = new ArrayBuffer(512 * 4 * 3),
                n = [new Int32Array($, 0), new Int32Array($, 2048), new Int32Array($, 2 * 2048)],
                j = 1 + 2 * Math.round(Math.sqrt(P)),
                y = j >>> 1,
                V = new Array(j),
                O = new Array(j);
            for (var M = 0; M < j; M++) {
                var $ = new ArrayBuffer(512 * 4 * 3);
                V[M] = [new Int32Array($, 0), new Int32Array($, 2048), new Int32Array($, 2 * 2048)];
                O[M] = V[M][0]
            }
            var S = J[0],
                G = J[1],
                D = n[0];
            for (var q = 0; q < e; q++)
                if (q < P || q > e - P - j - 1) {
                    D.fill(0);
                    var T = Math.max(q - P, 0),
                        L = Math.min(e, q + P + 1),
                        N = L - T;
                    for (var F = 0; F < P; F++) K(D, X, F * e + T, F * e + L, 1);
                    for (var F = 0; F < Z; F++) {
                        var I = F - P - 1,
                            s = F + P;
                        if (s < Z) K(D, X, s * e + T, s * e + L, 1);
                        if (I >= 0) K(D, X, I * e + T, I * e + L, -1);
                        var u = F * e + q << 2;
                        k = D[300];
                        if (k != 0)
                            for (var M = 0; M < 3; M++) h[u + M] = S(n[M], X[u + M], k, i)
                    }
                } else {
                    for (var M = 0; M < j; M++) O[M].fill(0);
                    var T = q - P + y,
                        L = q + P + 1 + y;
                    for (var F = 0; F < P; F++) Q(O, X, F * e + T, F * e + L, 1, y);
                    for (var F = 0; F < Z; F++) {
                        var I = F - P - 1,
                            s = F + P;
                        if (I >= 0) Q(O, X, I * e + T, I * e + L, -1, y);
                        if (s < Z) Q(O, X, s * e + T, s * e + L, 1, y);
                        var g = V[y];
                        k = g[0][300];
                        for (var M = 0; M < y; M++) {
                            var U = y - 1 - M,
                                r = y + 1 + M,
                                x = V[U],
                                C = V[r],
                                p = k + x[0][300],
                                l = k + C[0][300],
                                c = F * e + q + U << 2,
                                t = F * e + q + r << 2;
                            if (p != 0)
                                for (var H = 0; H < 3; H++) h[c + H] = G(g[H], x[H], X[c + H], p, i);
                            if (l != 0)
                                for (var H = 0; H < 3; H++) h[t + H] = G(g[H], C[H], X[t + H], l, i)
                        }
                        var u = F * e + q + y << 2;
                        if (k != 0)
                            for (var H = 0; H < 3; H++) h[u + H] = S(g[H], X[u + H], k, i)
                    }
                    q += j - 1
                }
        }

        function Q(X, h, e, Z, P, J) {
            var i = b,
                k = e << 2,
                $ = Z << 2;
            i(X[J - 1], h, e - 1 << 2, P);
            i(X[J - 1], h, Z - 1 << 2, -P);
            i(X[J + 1], h, Z << 2, P);
            i(X[J + 1], h, e << 2, -P);
            for (var M = 1; M < J; M++) {
                var n = X[J - M - 1],
                    j = X[J + M + 1];
                for (var y = 0; y <= M; y++) {
                    var V = y << 2;
                    i(n, h, e - 1 - y << 2, P);
                    i(n, h, Z - 1 - y << 2, -P);
                    i(j, h, Z + y << 2, P);
                    i(j, h, e + y << 2, -P)
                }
            }
            K(X[J], h, e, Z, P)
        }

        function K(X, h, M, e, Z) {
            var P = M << 2,
                J = e << 2;
            while (P < J) {
                b(X, h, P, Z);
                P += 4
            }
        }

        function b(X, h, e, Z) {
            var P = Z * h[e + 3];
            X[300] += P;
            R(X, h[e], 0, P);
            R(X, h[e + 1], 512, P);
            R(X, h[e + 2], 1024, P)
        }

        function R(X, h, e, Z) {
            X[e | h] += Z;
            X[e | 256 | h >>> 4] += Z
        }
        return w
    }();
    v.xt.e8 = function() {
        function w(J, i, k, $, n, j, y) {
            if (n == 0) {
                i.set(J);
                return
            }
            if (n <= 80) o(J, i, k, $, n, j, y);
            else R(J, i, k, $, n, j, y)
        }

        function o(J, i, k, $, n, j, y) {
            var V = 0,
                O = new Int32Array(512),
                S = 1 + 2 * Math.round(Math.sqrt(n)),
                G = S >>> 1,
                D = new Array(S);
            for (var M = 0; M < S; M++) D[M] = new Int32Array(512);
            var q = j[0],
                T = j[1];
            for (var L = 0; L < k; L++)
                if (L < n || L > k - n - S - 1) {
                    O.fill(0);
                    V = 0;
                    var N = Math.max(L - n, 0),
                        F = Math.min(k, L + n + 1),
                        I = F - N;
                    for (var s = 0; s < n; s++) {
                        V += I;
                        K(O, J, s * k + N, s * k + F, 1)
                    }
                    for (var s = 0; s < $; s++) {
                        var u = s - n - 1,
                            g = s + n;
                        if (u >= 0) {
                            V -= I;
                            K(O, J, u * k + N, u * k + F, -1)
                        }
                        if (g < $) {
                            V += I;
                            K(O, J, g * k + N, g * k + F, 1)
                        }
                        var U = q(O, J[s * k + L], V, y);
                        i[s * k + L] = U
                    }
                } else {
                    for (var M = 0; M < S; M++) D[M].fill(0);
                    V = 0;
                    var N = L - n + G,
                        F = L + n + 1 + G,
                        I = F - N;
                    for (var s = 0; s < n; s++) {
                        V += I;
                        Q(D, J, s * k + N, s * k + F, 1, G)
                    }
                    for (var s = 0; s < $; s++) {
                        var u = s - n - 1,
                            g = s + n;
                        if (u >= 0) {
                            V -= I;
                            Q(D, J, u * k + N, u * k + F, -1, G)
                        }
                        if (g < $) {
                            V += I;
                            Q(D, J, g * k + N, g * k + F, 1, G)
                        }
                        for (var M = 0; M < G; M++) {
                            var r = G - 1 - M,
                                x = G + 1 + M;
                            i[s * k + L + r] = T(D[G], D[r], J[s * k + L + r], V, y);
                            i[s * k + L + x] = T(D[G], D[x], J[s * k + L + x], V, y)
                        }
                        i[s * k + L + G] = q(D[G], J[s * k + L + G], V, y)
                    }
                    L += S - 1
                }
        }

        function Q(J, i, k, $, n, j) {
            var y = b;
            y(J[j - 1], i[k - 1], 0, n);
            y(J[j - 1], i[$ - 1], 0, -n);
            y(J[j + 1], i[$], 0, n);
            y(J[j + 1], i[k], 0, -n);
            for (var M = 1; M < j; M++) {
                var V = J[j - M - 1],
                    O = J[j + M + 1];
                for (var S = 0; S <= M; S++) {
                    y(V, i[k - 1 - S], 0, n);
                    y(V, i[$ - 1 - S], 0, -n);
                    y(O, i[$ + S], 0, n);
                    y(O, i[k + S], 0, -n)
                }
            }
            K(J[j], i, k, $, n)
        }

        function K(J, i, M, k, $) {
            while (M < k) b(J, i[M++], 0, $)
        }

        function b(J, i, k, $) {
            J[k | i] += $;
            J[k | 256 | i >>> 4] += $
        }

        function R(J, i, k, $, n, j, y) {
            var V = 0,
                O = new Int32Array(512),
                S = new Int32Array(1 * k),
                G = new Int32Array(512 * k),
                D = Math.min(n, k),
                q = Math.min(n, $),
                T = j[0];
            for (var L = 0; L < q; L++) X(G, S, J, k, L, 1);
            for (var L = 0; L < $; L++) {
                if (L + n < $) X(G, S, J, k, L + n, 1);
                if (L - n - 1 >= 0) X(G, S, J, k, L - n - 1, -1);
                O.fill(0);
                V = 0;
                for (var N = 0; N < D; N++) {
                    V += S[N];
                    h(O, G, N)
                }
                for (var N = 0; N < k; N++) {
                    var F = N - n - 1,
                        I = N + n;
                    if (F >= 0 && S[F] != 0) {
                        V -= S[F];
                        e(O, G, F)
                    }
                    if (I < k && S[I] != 0) {
                        V += S[I];
                        h(O, G, I)
                    }
                    var s = V == 0 ? 0 : T(O, J[L * k + N], V, y);
                    i[L * k + N] = s
                }
            }
        }

        function X(J, i, k, $, n, j) {
            var M = n * $;
            for (var y = 0; y < $; y++) {
                b(J, k[M + y], y << 9, j);
                i[y] += j
            }
        }

        function h(J, i, k) {
            for (var M = 0; M < 16; M++) {
                var $ = i[k << 9 | 256 | M];
                if ($ == 0) continue;
                J[256 | M] += $;
                var n = M << 4,
                    j = k << 9 | n;
                Z(J, i, n, j);
                Z(J, i, n + 4, j + 4);
                Z(J, i, n + 8, j + 8);
                Z(J, i, n + 12, j + 12)
            }
        }

        function e(J, i, k) {
            for (var M = 0; M < 16; M++) {
                var $ = i[k << 9 | 256 | M];
                if ($ == 0) continue;
                J[256 | M] -= $;
                var n = M << 4,
                    j = k << 9 | n;
                P(J, i, n, j);
                P(J, i, n + 4, j + 4);
                P(J, i, n + 8, j + 8);
                P(J, i, n + 12, j + 12)
            }
        }

        function Z(J, i, k, $) {
            J[k] += i[$];
            J[k + 1] += i[$ + 1];
            J[k + 2] += i[$ + 2];
            J[k + 3] += i[$ + 3]
        }

        function P(J, i, k, $) {
            J[k] -= i[$];
            J[k + 1] -= i[$ + 1];
            J[k + 2] -= i[$ + 2];
            J[k + 3] -= i[$ + 3]
        }
        return w
    }();
    v.xt.Yz = [function(w, o, Q, K) {
        var M = 15;
        while (w[256 | M] == 0 && M > 0) M--;
        M = (M << 4) + 15;
        while (w[M] == 0 && M > 0) M--;
        return M
    }, function(w, o, Q, K, b) {
        var M = 15;
        while (w[256 | M] + o[256 | M] == 0 && M > 0) M--;
        M = (M << 4) + 15;
        while (w[M] + o[M] == 0 && M > 0) M--;
        return M
    }];
    v.xt.n7 = [function(w, o, Q, K) {
        var M = 0;
        while (w[256 | M] == 0 && M < 15) M++;
        M = M << 4;
        while (w[M] == 0 && M < 255) M++;
        return M
    }, function(w, o, Q, K, b) {
        var M = 0;
        while (w[256 | M] + o[256 | M] == 0 && M < 15) M++;
        M = M << 4;
        while (w[M] + o[M] == 0 && M < 255) M++;
        return M
    }];
    v.xt.N7 = .5;
    v.xt.ru = [function(w, o, Q, K) {
        var b = ~~(.5 + v.xt.N7 * Q),
            R = 0,
            M = 256;
        while (R + w[M] <= b) R += w[M++];
        M = M - 256 << 4;
        while (R <= b) R += w[M++];
        return M - 1
    }, function(w, o, Q, K, b) {
        var R = ~~(.5 + v.xt.N7 * K),
            X = 0,
            M = 256;
        while (X + w[M] + o[M] <= R) {
            X += w[M] + o[M];
            M++
        }
        M = M - 256 << 4;
        while (X <= R) {
            X += w[M] + o[M];
            M++
        }
        return M - 1
    }];
    v.xt.aj = [function(w, o, Q, K) {
        var b = K[0],
            R = 0,
            X = 0,
            M = Math.max(0, o - b),
            h = Math.min(256, o + b + 1);
        while (M < h) {
            var e = w[M];
            R += M * e;
            X += e;
            M++
        }
        return X == 0 ? 0 : R / X
    }, function(w, o, Q, K, b) {
        var R = b[0],
            X = 0,
            h = 0,
            M = Math.max(0, Q - R),
            e = Math.min(256, Q + R + 1);
        while (M < e) {
            var Z = w[M] + o[M];
            X += M * Z;
            h += Z;
            M++
        }
        return h == 0 ? 0 : X / h
    }];
    v.Q = {};
    v.Q.zH = function(w) {
        var o = z.Z.wf(w.Trnf),
            Q = w.Sz.v,
            K = v.Q.RP(o, new B(0, 0, Q.Wdth.v, Q.Hght.v));
        return v.Q.oC(K)
    };
    v.Q.RP = function(w, o) {
        var Q = w[0],
            K = w[1],
            b = w[2],
            R = w[3],
            X = w[6],
            h = w[7],
            e = w[4],
            Z = w[5],
            P = 0,
            J = 0,
            i = 1,
            k = 0,
            $ = 0,
            n = 1,
            j = 1,
            y = 1;
        if (o) {
            P = o.x;
            J = o.y;
            i = o.x + o.D;
            k = o.y;
            $ = o.x;
            n = o.y + o.j;
            j = o.x + o.D;
            y = o.y + o.j
        }
        return v.Q.Eq(w, [P, J, i, k, j, y, $, n])
    };
    v.Q.Eq = function(w, o) {
        var Q = w[0],
            K = w[1],
            b = w[2],
            R = w[3],
            X = w[6],
            h = w[7],
            e = w[4],
            Z = w[5],
            P = o[0],
            J = o[1],
            i = o[2],
            k = o[3],
            $ = o[6],
            n = o[7],
            j = o[4],
            y = o[5],
            V = [
                [P, J, 1, 0, 0, 0, -P * Q, -J * Q, Q],
                [0, 0, 0, P, J, 1, -P * K, -J * K, K],
                [i, k, 1, 0, 0, 0, -i * b, -k * b, b],
                [0, 0, 0, i, k, 1, -i * R, -k * R, R],
                [$, n, 1, 0, 0, 0, -$ * X, -n * X, X],
                [0, 0, 0, $, n, 1, -$ * h, -n * h, h],
                [j, y, 1, 0, 0, 0, -j * e, -y * e, e],
                [0, 0, 0, j, y, 1, -j * Z, -y * Z, Z]
            ],
            O = [0, 0, 0, 0, 0, 0, 0, 0],
            S = v.M1.Ev(V, O);
        if (S != 0) O = [0, 0, 0, 0, 0, 0, 0, 0];
        return O
    };
    v.Q.w4 = function(w) {
        return Math.abs(w[6]) < 1e-10 && Math.abs(w[7]) < 1e-10
    };
    v.Q.oC = function(w) {
        return new dj(w[0], w[3], w[1], w[4], w[2], w[5])
    };
    v.Q.k1 = function(w) {
        return [w.K, w.Lu, w.xy, w.k, w.TX, w.r6, 0, 0]
    };
    v.Q.apply = function(w, o) {
        var Q = new Float64Array(2);
        for (var K = 0; K < o.length; K += 2) {
            var b = o[K],
                R = o[K + 1];
            v.Q.XG(b, R, w, Q);
            o[K] = Q[0];
            o[K + 1] = Q[1]
        }
    };
    v.Q.XG = function(w, o, Q, K) {
        var b = 1 / (Q[6] * w + Q[7] * o + 1);
        K[0] = (Q[0] * w + Q[1] * o + Q[2]) * b;
        K[1] = (Q[3] * w + Q[4] * o + Q[5]) * b
    };
    v.Q.P4 = function(w, o) {
        var Q = new Float64Array(2);
        v.Q.XG(o.x, o.y, w, Q);
        return new fB(Q[0], Q[1])
    };
    v.Q.o6 = function(w, o, Q, K) {
        w = new Uint32Array(w.buffer);
        o = new Uint32Array(o.buffer);
        for (var b = 0; b < K; b++) {
            for (var R = 0; R < Q; R++) {
                o[R * K + b] = w[b * Q + R]
            }
        }
    };
    v.Q.a9v = function(w, o, Q, K) {
        w = new Uint32Array(w.buffer);
        o = new Uint32Array(o.buffer);
        for (var b = 0; b < K; b++) {
            for (var R = 0; R < Q; R++) {
                o[b * Q + R] = w[b * Q + Q - 1 - R]
            }
        }
    };
    v.Q.yQ = function(w) {
        return Math.abs(w[6]) < 1e-9 && Math.abs(w[7]) < 1e-9
    };
    v.Q.Io = function(w) {
        return Math.abs(w[0]) < 1e-9 && Math.abs(w[4]) < 1e-9 || Math.abs(w[1]) < 1e-9 && Math.abs(w[3]) < 1e-9
    };
    v.Q.drawImage = function(w, o, Q, K, b, R, X, h, e) {
        if (X == null) X = !1;
        if (h == null) h = !1;
        var Z = v.Q.MF(w),
            P = !0,
            J = 0,
            i = 1 / Math.sqrt(Math.abs(w[0] / Q * w[4] / K - w[1] / Q * w[3] / K));
        for (var M = 0; M < 8; M++) {
            var k = Math.round(w[M]);
            if (M != 2 && M != 5) J += Math.abs(k);
            if (Math.abs(k - w[M]) > 1e-9) P = !1
        }
        var $ = v.Q.yQ(w),
            n = v.Q.Io(w) && $,
            j = n ? 1 : 0;
        if (X || P && J == Q + K && $) {
            v.Q.aeT(Z, o, Q, K, b, R, h, $, e);
            return
        }
        var y = R.D,
            V = R.j,
            O = new Float64Array(2);
        b = new Uint32Array(b.buffer);
        o = new Uint32Array(o.buffer);
        for (var S = 0; S < V; S++)
            for (var G = 0; G < y; G++) {
                var D = S * y + G,
                    q, T, L, N, gl = 0,
                    ie = 0,
                    fk = 0,
                    h5 = 0;
                b[D] = 0;
                var F = G + R.x + .5,
                    I = S + R.y + .5;
                q = F;
                T = I;
                L = Z;
                N = 1 / (L[6] * q + L[7] * T + 1);
                var s = (L[0] * q + L[1] * T + L[2]) * N,
                    u = (L[3] * q + L[4] * T + L[5]) * N,
                    g = s * Q,
                    U = u * K,
                    r = g < -1 || g > Q + 1 || U < -1 || U > K + 1;
                if (h) {
                    g = Math.max(.001, Math.min(Q - 1, g));
                    U = Math.max(.001, Math.min(K - 1, U))
                } else if (r) continue;
                var x = i;
                if (!$) {
                    var C = 0,
                        p = 0;
                    L = w;
                    q = s + 1 / Q;
                    T = u;
                    N = 1 / (L[6] * q + L[7] * T + 1);
                    C = (L[0] * q + L[1] * T + L[2]) * N - F;
                    p = (L[3] * q + L[4] * T + L[5]) * N - I;
                    var l = C * C + p * p;
                    q = s;
                    T = u + 1 / K;
                    N = 1 / (L[6] * q + L[7] * T + 1);
                    C = (L[0] * q + L[1] * T + L[2]) * N - F;
                    p = (L[3] * q + L[4] * T + L[5]) * N - I;
                    var c = C * C + p * p;
                    x = 1 / Math.sqrt(Math.max(l, c))
                }
                if (x < 1.1) {
                    v.Q.l9(g, U, o, Q, K, b, D, j);
                    continue
                }
                var t = Math.round(x * 2.3);
                if (!h && (g < .6 || g > Q - .6 || U < .6 || U > K - .6)) {
                    t = Math.max(t, 5)
                }
                if (h && r) t = 1;
                var H = 1 / t,
                    cf = R.x + G,
                    f = R.y + S;
                L = Z;
                for (var M = 0; M < t; M++)
                    for (var aH = 0; aH < t; aH++) {
                        q = cf + (M + .5) * H;
                        T = f + (aH + .5) * H;
                        N = 1 / (L[6] * q + L[7] * T + 1);
                        var g = (L[0] * q + L[1] * T + L[2]) * N,
                            U = (L[3] * q + L[4] * T + L[5]) * N;
                        if (h) {
                            g = Math.max(.001, Math.min(.999, g));
                            U = Math.max(.001, Math.min(.999, U))
                        } else if (g < 0 || g >= 1 || U < 0 || U >= 1) continue;
                        g = Math.floor(g * Q);
                        U = Math.floor(U * K);
                        var gY = U * Q + g,
                            cC = o[gY],
                            cY = cC >>> 24;
                        gl += (cC & 255) * cY;
                        ie += (cC >>> 8 & 255) * cY;
                        fk += (cC >>> 16 & 255) * cY;
                        h5 += cY
                    }
                if (h5 != 0) {
                    var gJ = 1 / h5;
                    gl = ~~(gl * gJ + .5);
                    ie = ~~(ie * gJ + .5);
                    fk = ~~(fk * gJ + .5);
                    h5 = ~~(h5 * H * H + .5);
                    b[D] = h5 << 24 | fk << 16 | ie << 8 | gl
                }
            }
    };
    v.Q.aeT = function(w, o, Q, K, b, R, X, h, e) {
        if (h && !X && R.O() > 4e6 && e) {
            v.Q.acq(w, o, Q, K, b, R, X, h, e);
            return
        }
        var Z = R.x + R.D,
            P = R.y + R.j,
            J = 0,
            i = new Uint32Array(b.buffer),
            k = new Uint32Array(o.buffer),
            $ = w[0] * Q,
            n = w[1] * Q,
            j = w[2] * Q,
            y = w[3] * K,
            V = w[4] * K,
            O = w[5] * K,
            S = w[6],
            G = w[7];
        if (h && !X)
            for (var D = R.y + .5; D < P; D++)
                for (var q = R.x + .5; q < Z; q++) {
                    var T = $ * q + n * D + j,
                        L = y * q + V * D + O;
                    if (0 < T && T < Q && 0 < L && L < K) {
                        var N = ~~L * Q + ~~T;
                        i[J] = k[N]
                    } else i[J] = 0;
                    J++
                } else
                    for (var D = R.y + .5; D < P; D++)
                        for (var q = R.x + .5; q < Z; q++) {
                            var F = 1 / (S * q + G * D + 1),
                                T = ($ * q + n * D + j) * F,
                                L = (y * q + V * D + O) * F;
                            if (X) {
                                T = Math.max(.001, Math.min(Q - 1, T));
                                L = Math.max(.001, Math.min(K - 1, L))
                            }
                            if (0 < T && T < Q && 0 < L && L < K) {
                                var N = Math.floor(L) * Q + Math.floor(T);
                                i[J] = k[N]
                            } else i[J] = 0;
                            J++
                        }
    };
    v.Q.acq = function(w, o, Q, K, b, R, X, h, e) {
        var Z = new Uint32Array(b.buffer),
            P = new Uint32Array(o.buffer),
            G = 0;
        if (e && (R.D & 3) != 0) throw "e";
        var J = w[0] * Q,
            i = w[1] * Q,
            k = w[2] * Q,
            $ = w[3] * K,
            n = w[4] * K,
            j = w[5] * K,
            y = w[6],
            V = w[7],
            O = R.D,
            S = R.j,
            D = R.x + .5,
            q = R.y + .5,
            T = (O >>> 2 << 2) - 1e-9,
            L = -.1 + (S >>> 1 << 1) - 1e-9,
            N = ~~Q,
            F = J == 0 ? 0 : 1 / J,
            I = $ == 0 ? 0 : 1 / $;
        for (var s = 0; s < S; s++) {
            var u = D * J + i * (s + q) + k,
                g = D * $ + n * (s + q) + j,
                U = 0,
                r = O;
            if (J == 0) {} else if (F > 0) {
                U = Math.max(U, -u * F);
                r = Math.min(r, (Q - u) * F)
            } else {
                r = Math.min(r, -u * F);
                U = Math.max(U, (Q - u) * F)
            }
            if ($ == 0) {} else if (I > 0) {
                U = Math.max(U, -g * I);
                r = Math.min(r, (K - g) * I)
            } else {
                r = Math.min(r, -g * I);
                U = Math.max(U, (K - g) * I)
            }
            if (r < 0) r = 0;
            if (U > r) U = r;
            U = Math.ceil(U);
            r = ~~r;
            G = ~~(s * O);
            for (var x = 0; x < U; x++) Z[G++] = 0;
            for (var x = U; x < r; x += 4) {
                var C = J * x + u,
                    p = $ * x + g,
                    l = ~~p * N + ~~C;
                Z[G++] = Z[G++] = Z[G++] = Z[G++] = P[l]
            }
            for (var x = r; x < O; x++) Z[G++] = 0
        }
    };
    v.Q.MF = function(w) {
        var o = w[4] - w[5] * w[7],
            Q = w[2] * w[7] - w[1],
            K = w[1] * w[5] - w[2] * w[4],
            b = w[5] * w[6] - w[3],
            R = w[0] - w[2] * w[6],
            X = w[3] * w[2] - w[0] * w[5],
            h = w[3] * w[7] - w[4] * w[6],
            e = w[1] * w[6] - w[0] * w[7],
            Z = 1 / (w[0] * w[4] - w[1] * w[3]);
        return [o * Z, Q * Z, K * Z, b * Z, R * Z, X * Z, h * Z, e * Z]
    };
    v.Q.A0 = function(w, o) {
        var Q = w[0],
            K = w[1],
            b = w[2],
            R = w[3],
            X = w[4],
            h = w[5],
            e = w[6],
            Z = w[7],
            P = o[0],
            J = o[1],
            i = o[2],
            k = o[3],
            $ = o[4],
            n = o[5],
            j = o[6],
            y = o[7],
            V = [Q * P + K * k + b * j, Q * J + K * $ + b * y, Q * i + K * n + b, R * P + X * k + h * j, R * J + X * $ + h * y, R * i + X * n + h, e * P + Z * k + j, e * J + Z * $ + y],
            O = 1 / (e * i + Z * n + 1);
        for (var M = 0; M < 8; M++) V[M] *= O;
        return V
    };
    v.Q.l9 = function(w, o, Q, K, b, R, X, h) {
        var e = w,
            Z = o,
            i = 0,
            k = 0,
            $ = 0,
            n = 0;
        w -= .499999;
        o -= .499999;
        var P = Math.floor(w),
            J = Math.floor(o);
        if (h == 0) {
            var M = J * K + P,
                j = P >= 0 && P < K,
                y = P + 1 >= 0 && P + 1 < K,
                V = J >= 0 && J < b,
                O = J + 1 >= 0 && J + 1 < b;
            if (j && V) i = Q[M];
            if (y && V) k = Q[M + 1];
            if (j && O) $ = Q[M + K];
            if (y && O) n = Q[M + K + 1]
        } else if (h == 1) {
            var S = P < 0 ? 0 : P > K - 1 ? K - 1 : P,
                G = P < -1 ? 0 : P > K - 2 ? K - 1 : P + 1,
                D = J < 0 ? 0 : J > b - 1 ? b - 1 : J,
                q = J < -1 ? 0 : J > b - 2 ? b - 1 : J + 1;
            i = Q[D * K + S];
            k = Q[D * K + G];
            $ = Q[q * K + S];
            n = Q[q * K + G]
        } else {
            var S = (P + 50 * K) % K,
                G = (P + 50 * K) % K,
                D = (J + 50 * b) % b,
                q = (J + 50 * b) % b;
            i = Q[D * K + S];
            k = Q[D * K + G];
            $ = Q[q * K + S];
            n = Q[q * K + G]
        }
        var T = w - P,
            L = o - J,
            N = (1 - L) * (1 - T) * (i >>> 24),
            F = (1 - L) * T * (k >>> 24),
            I = L * (1 - T) * ($ >>> 24),
            s = L * T * (n >>> 24),
            u = N + F + I + s,
            g = N * (i & 255) + F * (k & 255) + I * ($ & 255) + s * (n & 255),
            U = N * (i >>> 8 & 255) + F * (k >>> 8 & 255) + I * ($ >>> 8 & 255) + s * (n >>> 8 & 255),
            r = N * (i >>> 16 & 255) + F * (k >>> 16 & 255) + I * ($ >>> 16 & 255) + s * (n >>> 16 & 255);
        if (u == 0) R[X] = 0;
        else {
            var x = 1 / u;
            g = ~~(g * x + .5);
            U = ~~(U * x + .5);
            r = ~~(r * x + .5);
            u = ~~(u + .5);
            R[X] = u << 24 | r << 16 | U << 8 | g
        }
    };
    v.Q.Gv = function(w, o, Q, K, b, R) {
        var X = w - .499999,
            h = o - .499999,
            e = ~~X,
            Z = ~~h,
            P = X - e,
            J = h - Z,
            i = (1 - J) * (1 - P),
            k = (1 - J) * P,
            $ = J * (1 - P),
            n = J * P,
            j = Z * K + e << 2,
            y = (Z + 1) * K + e << 2,
            V = i * Q[j] + k * Q[j + 4] + $ * Q[y] + n * Q[y + 4],
            O = i * Q[j + 1] + k * Q[j + 5] + $ * Q[y + 1] + n * Q[y + 5],
            S = i * Q[j + 2] + k * Q[j + 6] + $ * Q[y + 2] + n * Q[y + 6],
            G = i * Q[j + 3] + k * Q[j + 7] + $ * Q[y + 3] + n * Q[y + 7];
        R[0] = V;
        R[1] = O;
        R[2] = S;
        R[3] = G
    };
    v.Q.bu = function(w, o, Q, K, b, R, X, h, e, Z, P, J) {
        var i = new Uint32Array(w.buffer),
            k = new Uint32Array(K.buffer),
            $ = (1 + 2 * Z) / b,
            n = [],
            j = [];
        for (var y = 0; y < b; y++) {
            var V = -.25 + Z - y * $;
            n.push(Math.cos(2 * Math.PI * V) * J / P);
            n.push(Math.sin(2 * Math.PI * V) / P)
        }
        X *= o;
        h *= Q;
        for (var O = 0; O < R; O++) {
            var S = Math.pow(O / R, e) * R;
            for (var y = 0; y < b; y++) {
                var G = X + n[y << 1] * S,
                    D = h + n[(y << 1) + 1] * S,
                    q = ~~(.5 + (G < 0 ? 0 : G > o - 1 ? o - 1 : G)),
                    T = ~~(.5 + (D < 0 ? 0 : D > Q - 1 ? Q - 1 : D));
                k[O * b + y] = i[T * o + q]
            }
        }
    };
    v.Q.jS = function(w, o, Q, K, b, R, X, h, e, Z, P, J) {
        var i = new Uint32Array(w.buffer),
            k = new Uint32Array(K.buffer),
            $ = 1 / J,
            n = [],
            j = Q * 4,
            y = 1 / j;
        for (var V = 0; V < j; V++) n.push(Math.pow(V * y, 1 / e) * Q * P);
        X *= b;
        h *= R;
        for (var V = 0; V < R; V++)
            for (var O = 0; O < b; O++) {
                var S = $ * (O - X),
                    G = V - h,
                    D = 1.75 - Math.atan2(G, S) * (1 / (2 * Math.PI));
                D = D - ~~D;
                D = (D + Z) * (1 / (1 + 2 * Z));
                var q = Math.sqrt(S * S + G * G);
                q = n[~~(q * 4)];
                v.Q.l9(D * o + .5, q + .5, i, o, Q, k, V * b + O, 1)
            }
    };
    v.Q.JA = function(w, o, Q, K, b) {
        var R = b[0],
            X = b[1];
        for (var h = 0; h < X; h++)
            for (var e = 0; e < R; e++) {
                var Z = b[2] * e + b[3] * h + b[4],
                    P = b[5] * e + b[6] * h + b[7],
                    J = h * R + e << 2,
                    i = P * o + Z << 2;
                K[J] = w[i + 0];
                K[J + 1] = w[i + 1];
                K[J + 2] = w[i + 2];
                K[J + 3] = w[i + 3]
            }
    };
    v.V = {
        Gn: function(w, o) {
            var Q = ~~(.499 + w * o);
            return Q < 0 ? 0 : Q > o ? o : Q
        },
        aih: function(w, o, Q, K, b, R, X, h) {
            var e = Q[0],
                Z = Q[1],
                P = Q[2],
                J = Q[3],
                i = K.D,
                k = K.j,
                $ = new Float64Array(i * 4 + 8),
                n = new Float64Array(i * 4 + 8);
            for (var j = 0, M = 0; j < k; j++) {
                var y = $;
                $ = n;
                n = y;
                n.fill(0);
                for (var V = 0; V < i; V++, M++) {
                    var O = V + b,
                        S = j + R,
                        G = e * O + Z * S,
                        D = P * O + J * S,
                        q = 0,
                        N = 0;
                    if (h == 0) q = G + .5;
                    else if (h == 1) q = 2 * Math.sqrt(G * G + D * D);
                    else if (h == 2) q = (Math.PI + Math.atan2(-D, -G)) / (2 * Math.PI);
                    else if (h == 3) q = Math.abs(G * 2);
                    else if (h == 4) q = 2 * (Math.abs(G) + Math.abs(D));
                    var T = v.V.Gn(q, X) * 4,
                        L = V * 4;
                    for (var F = 0; F < 4; F++) {
                        var I = Math.max(0, Math.min(254.999, o[T + F] + $[L + 4 + F])),
                            s = Math.floor(I);
                        if (Math.random() < I - s) s++;
                        var u = I - s;
                        $[L + 8 + F] = u * (7 / 16);
                        n[L + 0 + F] = u * (3 / 16);
                        n[L + 4 + F] = u * (5 / 16);
                        n[L + 8 + F] = u * (1 / 16);
                        N |= s << F * 8
                    }
                    w[M] = N
                }
            }
        },
        R: [function(w, o, Q, K, b, R, X) {
            var h = Q[0],
                e = Q[1],
                Z = Q[2],
                P = Q[3],
                J = K.D,
                i = K.j;
            for (var k = 0, M = 0; k < i; k++)
                for (var $ = 0; $ < J; $++, M++) {
                    var n = $ + b,
                        j = k + R,
                        y = h * n + e * j,
                        V = Z * n + P * j,
                        O = y + .5;
                    w[M] = o[v.V.Gn(O, X)]
                }
        }, function(w, o, Q, K, b, R, X) {
            var h = Q[0],
                e = Q[1],
                Z = Q[2],
                P = Q[3],
                J = K.D,
                i = K.j;
            for (var k = 0, M = 0; k < i; k++)
                for (var $ = 0; $ < J; $++, M++) {
                    var n = $ + b,
                        j = k + R,
                        y = h * n + e * j,
                        V = Z * n + P * j,
                        O = 2 * Math.sqrt(y * y + V * V);
                    w[M] = o[v.V.Gn(O, X)]
                }
        }, function(w, o, Q, K, b, R, X) {
            var h = Q[0],
                e = Q[1],
                Z = Q[2],
                P = Q[3],
                J = K.D,
                i = K.j;
            for (var k = 0, M = 0; k < i; k++)
                for (var $ = 0; $ < J; $++, M++) {
                    var n = $ + b,
                        j = k + R,
                        y = h * n + e * j,
                        V = Z * n + P * j,
                        O = (Math.PI + Math.atan2(-V, -y)) / (2 * Math.PI);
                    w[M] = o[v.V.Gn(O, X)]
                }
        }, function(w, o, Q, K, b, R, X) {
            var h = Q[0],
                e = Q[1],
                Z = Q[2],
                P = Q[3],
                J = K.D,
                i = K.j;
            for (var k = 0, M = 0; k < i; k++)
                for (var $ = 0; $ < J; $++, M++) {
                    var n = $ + b,
                        j = k + R,
                        y = h * n + e * j,
                        V = Z * n + P * j,
                        O = Math.abs(y * 2);
                    w[M] = o[v.V.Gn(O, X)]
                }
        }, function(w, o, Q, K, b, R, X) {
            var h = Q[0],
                e = Q[1],
                Z = Q[2],
                P = Q[3],
                J = K.D,
                i = K.j;
            for (var k = 0, M = 0; k < i; k++)
                for (var $ = 0; $ < J; $++, M++) {
                    var n = $ + b,
                        j = k + R,
                        y = h * n + e * j,
                        V = Z * n + P * j,
                        O = 2 * (Math.abs(y) + Math.abs(V));
                    w[M] = o[v.V.Gn(O, X)]
                }
        }]
    };
    v.V.ajq = function(w, o) {
        return w + .5
    };
    v.V.abn = function(w, o) {
        return 2 * Math.sqrt(w * w + o * o)
    };
    v.V.a4P = function(w, o) {
        return (Math.PI + Math.atan2(-o, -w)) / (2 * Math.PI)
    };
    v.V.agB = function(w, o) {
        return Math.abs(w * 2)
    };
    v.V.aby = function(w, o) {
        return 2 * (Math.abs(w) + Math.abs(o))
    };
    v.V.TZ = function(w, o, Q, K, b, R, X, h, e, Z, P, J) {
        if (w.Clrs == null) return;
        var i = new Uint32Array(o.buffer),
            k = 1023,
            $ = v.V.Eb(w.Clrs.v, e, Z);
        if (J) {
            var n = v.V.a1I(w, $, k + 1, X);
            v.V.aih(i, n, K, Q, Q.x - b, Q.y - R, k, h);
            return
        }
        var j = v.V.BE(w, $, k + 1, X);
        if (h < 5) {
            v.V.R[h](i, j, K, Q, Q.x - b, Q.y - R, k)
        } else {
            var y = new Uint8Array(j.buffer),
                V = Q.D,
                O = Q.j,
                S = P.Q2 - P.EY,
                G = 1 / S,
                D = P.dn.D - Q.D >> 1,
                q = P.dn.j - Q.j >> 1,
                T = P.dn.D,
                L = -.6 * G,
                N = (-.6 + .4) * G,
                F = (-.6 + 2 * .4) * G,
                I = (-.6 + 3 * .4) * G;
            for (var s = 0, M = 0; s < O; s++)
                for (var u = 0; u < V; u++, M += 4) {
                    var g = 0,
                        U = 0,
                        r = 0,
                        x = 0,
                        C = (s + q) * T + u + D,
                        p = (P.Jl[C] - P.EY) * G,
                        l = 0;
                    if (p <= 0 || p >= 1) {
                        l = (p <= 0 ? 0 : k) << 2;
                        o[M] = y[l];
                        o[M + 1] = y[l + 1];
                        o[M + 2] = y[l + 2];
                        o[M + 3] = y[l + 3];
                        continue
                    }
                    l = Math.max(0, Math.min(k - 1, Math.round((p + L) * k))) << 2;
                    U += y[l];
                    r += y[l + 1];
                    x += y[l + 2];
                    g += y[l + 3];
                    l = Math.max(0, Math.min(k - 1, Math.round((p + N) * k))) << 2;
                    U += y[l];
                    r += y[l + 1];
                    x += y[l + 2];
                    g += y[l + 3];
                    l = Math.max(0, Math.min(k - 1, Math.round((p + F) * k))) << 2;
                    U += y[l];
                    r += y[l + 1];
                    x += y[l + 2];
                    g += y[l + 3];
                    l = Math.max(0, Math.min(k - 1, Math.round((p + I) * k))) << 2;
                    U += y[l];
                    r += y[l + 1];
                    x += y[l + 2];
                    g += y[l + 3];
                    o[M] = U >>> 2;
                    o[M + 1] = r >>> 2;
                    o[M + 2] = x >>> 2;
                    o[M + 3] = g >>> 2
                }
        }
    };
    v.V.Eb = function(w, o, Q) {
        var K = [];
        for (var M = 0; M < w.length; M++) {
            var b;
            if (w[M].v.Type.v.Clry == "FrgC") b = {
                W: o >> 16 & 255,
                a: o >> 8 & 255,
                k: o & 255
            };
            else if (w[M].v.Type.v.Clry == "BckC") b = {
                W: Q >> 16 & 255,
                a: Q >> 8 & 255,
                k: Q & 255
            };
            else b = v.V.c2(w[M].v.Clr.v);
            K.push(b)
        }
        return K
    };
    v.V.c2 = function(w) {
        var o, Q = w.classID;
        if (Q == "RGBC") o = {
            W: w.Rd.v,
            a: w.Grn.v,
            k: w.Bl.v
        };
        else if (Q == "HSBC") {
            o = v.rp(w.H.v.val / 360, w.Strt.v / 100, w.Brgh.v / 100);
            o.W *= 255;
            o.a *= 255;
            o.k *= 255
        } else if (Q == "CMYC") {
            var K = 100 - w.Cyn.v,
                b = 100 - w.Mgnt.v,
                R = 100 - w.Ylw.v,
                X = 100 - w.Blck.v,
                h = 255 * K * X * 1e-4,
                e = 255 * (.2 * K + .8 * b) * X * 1e-4,
                Z = 255 * (.2 * b + .8 * R) * X * 1e-4;
            o = {
                W: h,
                a: e,
                k: Z
            }
        } else if (Q == "Grsc") o = {
            W: 255 - w.Gry.v,
            a: 255 - w.Gry.v,
            k: 255 - w.Gry.v
        };
        else if (Q == "LbCl") {
            o = v._D(w.Lmnc.v, w.A.v, w.B.v)
        } else console.log(w);
        if (isNaN(o.W)) o.W = o.a = o.k = 0;
        return o
    };
    v.V.Kt = function(w) {
        return {
            classID: "RGBC",
            Rd: {
                t: "doub",
                v: w.W
            },
            Grn: {
                t: "doub",
                v: w.a
            },
            Bl: {
                t: "doub",
                v: w.k
            }
        }
    };
    v.V.a1I = function(w, o, Q, K) {
        var b = [],
            R = 1 / (Q - 0);
        for (var M = 0; M < Q; M++) {
            var X = M * 4,
                h = v.V.CV(w, o, (K ? Q - 1 - M : M) * R);
            b[X] = h[0];
            b[X + 1] = h[1];
            b[X + 2] = h[2];
            b[X + 3] = h[3]
        }
        return b
    };
    v.V.BE = function(w, o, Q, K) {
        var b = new Uint32Array(Q),
            R = 1 / (Q - 0);
        for (var M = 0; M < Q; M++) b[M] = v.V.qc(w, o, (K ? Q - 1 - M : M) * R);
        return b
    };
    v.V.CV = function(w, o, Q) {
        var K = 4096,
            b = 1 / 4096,
            R = w.Intr.v * b,
            X = w.Clrs.v,
            h = w.Trns.v,
            e = X.length - 1,
            Z = h.length - 1,
            M = -1,
            P = 0,
            J = 0,
            i = 0,
            k = 0;
        while (M < Z && h[M + 1].v.Lctn.v <= Q * K) M++;
        if (M == -1) {
            P = h[0].v.Opct.v.val * (255 / 100)
        } else if (M == Z) {
            P = h[M].v.Opct.v.val * (255 / 100)
        } else {
            var $ = v.V.LV(h, b, M, Q, R);
            P = ($ * h[M].v.Opct.v.val + (1 - $) * h[M + 1].v.Opct.v.val) * (255 / 100)
        }
        M = -1;
        while (M < e && X[M + 1].v.Lctn.v <= Q * K) M++;
        if (M == -1) {
            var n = o[0];
            J = n.W;
            i = n.a;
            k = n.k
        } else if (M == e) {
            var n = o[M];
            J = n.W;
            i = n.a;
            k = n.k
        } else {
            var j = o[M],
                y = o[M + 1],
                V = v.V.LV(X, b, M, Q, R);
            J = V * j.W + (1 - V) * y.W;
            i = V * j.a + (1 - V) * y.a;
            k = V * j.k + (1 - V) * y.k
        }
        return [J, i, k, P]
    };
    v.V.qc = function(w, o, Q) {
        var K = v.V.CV(w, o, Q),
            b = ~~(.5 + K[0]),
            R = ~~(.5 + K[1]),
            X = ~~(.5 + K[2]),
            h = ~~(.5 + K[3]);
        return h << 24 | X << 16 | R << 8 | b
    };
    v.V.LV = function(w, o, M, Q, K) {
        if (w.length == 2) K *= .5;
        var b = w[M].v.Lctn.v * o,
            R = w[M + 1].v.Lctn.v * o,
            X = b + w[M + 1].v.Mdpn.v * .01 * (R - b),
            h;
        if (Q < X) h = .5 * (Q - b) / (X - b);
        else h = .5 + .5 * (Q - X) / (R - X);
        h = .5 + .5 * (K * Math.cos(Math.PI * h) + (1 - K) * (1 - 2 * h));
        return h
    };
    v.V.Zn = function(w, o) {
        var Q = Math.PI * w.Angl.v.val / 180,
            K = w.Scl.v.val / 100,
            b = w.Ofst.v,
            R = b.Hrzn.v.val / 100,
            X = b.Vrtc.v.val / 100,
            h = Math.cos(Q),
            e = -Math.sin(Q),
            Z = .5 * o.j,
            P = Z * (h / e),
            J = Math.sqrt(Z * Z + P * P),
            i = .5 * o.D,
            k = i * (e / h),
            $ = Math.sqrt(i * i + k * k),
            n = Math.min(J, $) * K,
            j = o.x + o.D / 2 + R * o.D,
            y = o.y + o.j / 2 + X * o.j;
        return [new fB(j, y), new fB(j + h * n, y + e * n)]
    };
    v.V.Pq = function(w, o, Q, K) {
        var b = o.x - w.x,
            R = -(o.y - w.y),
            X = Math.sqrt(b * b + R * R),
            h = Math.atan2(R, b),
            e = Math.cos(h),
            Z = -Math.sin(h),
            P = .5 * Q.j,
            J = P * (e / Z),
            i = Math.sqrt(P * P + J * J),
            k = .5 * Q.D,
            $ = k * (Z / e),
            n = Math.sqrt(k * k + $ * $),
            j = X / Math.min(i, n),
            y = (w.x - Q.x - Q.D / 2) / Q.D,
            V = (w.y - Q.y - Q.j / 2) / Q.j;
        K.Angl.v.val = 180 * h / Math.PI;
        K.Scl.v.val = j * 100;
        var O = K.Ofst.v;
        O.Hrzn.v.val = y * 100;
        O.Vrtc.v.val = V * 100
    };
    v.V.Hm = function(w, o) {
        for (var M = 0; M < w.length; M++) {
            var Q = w[M],
                K = Math.round(Q[0] * 4096),
                b = Q[1],
                R = Q[2];
            if (R == null) R = 1;
            var X = v.V.Kt({
                W: b[0] * 255,
                a: b[1] * 255,
                k: b[2] * 255
            });
            o.Clrs.v[M] = {
                t: "Objc",
                v: {
                    classID: "Clrt",
                    Lctn: {
                        t: "long",
                        v: K
                    },
                    Mdpn: {
                        t: "long",
                        v: 50
                    },
                    Clr: {
                        t: "Objc",
                        v: X
                    },
                    Type: {
                        t: "enum",
                        v: {
                            Clry: "UsrS"
                        }
                    }
                }
            };
            o.Trns.v[M] = {
                t: "Objc",
                v: {
                    classID: "TrnS",
                    Lctn: {
                        t: "long",
                        v: K
                    },
                    Mdpn: {
                        t: "long",
                        v: 50
                    },
                    Opct: {
                        t: "UntF",
                        v: {
                            type: "#Prc",
                            val: Math.round(R * 100)
                        }
                    }
                }
            }
        }
    };
    v.Md = {};
    v.Md.a5e = function(w, o, Q, K, b, R, X, h, e, Z, P, J) {
        var i, k, $, n = Date.now(),
            j = !1,
            y = X,
            V = Z,
            O, S, G, D, q = R * 255,
            T = 255 - e * 255,
            L = 1 + b * 6,
            N = 1 + h * 6,
            F = 1 + J * 4,
            I = (F - 1) / 7,
            s = 0,
            u = 255 - 0,
            g, U, r, x, C, p, l, c, t, H, gl, ie, fk, h5 = 0,
            cf = 1,
            f, aH, gY, cC, cY, gJ, bM, cN, eu, cU, h7 = 1 + P,
            hn, gS = v.$(Q * K),
            aq = v.$(Q * K),
            ef = v.$(Q * K),
            dU = v.$(Q * K),
            hO = 255 / q,
            ao = 255 / (255 - T);
        for (k = 0; k < K; k++) {
            for (i = 0; i < Q; i++) {
                var M = k * Q + i,
                    hI = M << 2;
                f = v.hn(w[hI], w[hI + 1], w[hI + 2]);
                dU[M] = f;
                if (f < q) gS[M] = 255 - f * hO;
                if (f > T) aq[M] = 255 - (255 - f) * ao
            }
        }
        if (j) console.log("init", Date.now() - n);
        n = Date.now();
        if (b * y > 0) {
            ef.set(gS);
            v.PF.gO(ef, gS, new B(0, 0, Q, K), y)
        }
        if (h * V > 0) {
            ef.set(aq);
            v.PF.gO(ef, aq, new B(0, 0, Q, K), V)
        }
        if (j) console.log("blur", Date.now() - n);
        n = Date.now();
        var a$ = v.$(256),
            hH = v.$(256);
        for (var M = 0; M < 256; M++) {
            var bq = M * (1 / 255),
                dq = 0;
            dq = (1 - Math.pow(1 - bq, L)) * 255;
            a$[M] = Math.max(0, Math.min(255, ~~(dq + .5)));
            dq = Math.pow(bq, N) * 255;
            hH[M] = Math.max(0, Math.min(255, ~~(dq + .5)))
        }
        var g9 = new Uint8ClampedArray(o.buffer),
            cx = new Float32Array(32768);
        for (var M = 0; M < 32768; M++) {
            hn = Math.sqrt(M) * (1 / 128);
            if (h7 > 1) hn = (1 - hn) * (h7 - 1) + 1;
            else hn = hn * (h7 - 1) + 1;
            cx[M] = hn
        }
        for (k = 0; k < K; k++) {
            for (i = 0; i < Q; i++) {
                var M = k * Q + i,
                    hI = M << 2,
                    dq = dU[M],
                    hp = gS[M] * (1 / 255),
                    b0 = aq[M] * (1 / 255);
                dq = (1 - hp) * dq + hp * a$[~~dq];
                dq = (1 - b0) * dq + b0 * hH[~~dq];
                f = dq;
                var bh = w[hI],
                    hA = w[hI + 1],
                    ft = w[hI + 2];
                aH = -bh * .168736 - hA * .331264 + ft * .5;
                gY = bh * .5 - hA * .418688 - ft * .081312;
                hn = cx[~~(.5 + aH * aH + gY * gY)];
                cC = aH * hn;
                gJ = gY * hn;
                cf = 1 - Math.min(2 - (hp + b0), 1);
                aH = cf * aH + (1 - cf) * cC;
                gY = cf * gY + (1 - cf) * gJ;
                cN = f + 1.402 * gY;
                eu = f - .34414 * aH - .71414 * gY;
                cU = f + 1.772 * aH;
                g9[hI] = ~~(.5 + cN);
                g9[hI + 1] = ~~(.5 + eu);
                g9[hI + 2] = ~~(.5 + cU)
            }
        }
        if (j) console.log("apply masks", Date.now() - n);
        n = Date.now()
    };
    v.ie = {};
    v.ie.ur = function(w, o, Q, K, b) {
        var R = !1,
            $ = 1,
            u = 0,
            g = 0,
            t = 0,
            eu = 0;
        if (!o.Fq(b)) {
            var X = o.OX(b),
                h = v.$(X.O() * 4);
            v.c1(w, o, h, X);
            w = h;
            o = X
        }
        var e = v.$(o.O());
        v.Hp(Q, b, e, o);
        v.round(e);
        b = b.z2(o);
        var Z = b.D,
            P = b.j,
            J = Z * 3 < P ? 2 : 1,
            i = P * 3 < Z ? 2 : 1;
        if (b.O() * (J * 2 + 1) * (i * 2 + 1) < o.O()) {
            var X = new B(b.x - Z * J, b.y - P * J, Z * (J * 2 + 1), P * (i * 2 + 1)).z2(o),
                h = v.$(X.O() * 4);
            v.c1(w, o, h, X);
            var k = v.$(X.O());
            v.Hp(e, o, k, X);
            o = X;
            w = h;
            e = k
        }
        while ((o.D + o.j) / 2 / $ > 400) $++;
        var n = w,
            j = o,
            y = e,
            V = Math.floor(j.D / $),
            O = Math.floor(j.j / $);
        w = v.$(V * O * 4);
        v.scale.QA(n, j.D, j.j, w, V, O, 1 / $);
        e = v.$(V * O);
        v.scale.JA(y, j.D, j.j, e, V, O, 1 / $);
        v.round(e, 1);
        var S = v.JT(e, new B(0, 0, V, O));
        if (S.Kx()) return;
        var G = Math.round((S.D + S.j) / 2 / 15),
            D = Date.now(),
            q = v.$(V * O * 4);
        v.a9o(w, q);
        var T = Int16Array,
            L = new T(V * O * 24),
            N = new T(64),
            F = new T(64),
            I = new T(64),
            s = new T(64);
        for (var U = 3; U < O - 4; U++)
            for (var r = 3; r < V - 4; r++) {
                var x = U * V + r;
                if (e[x] == 255) continue;
                if (v.ie.abM(q, e, r, U, V, O, N, F, I) != 0) continue;
                v.ie.iB(N, s);
                L[u] = r;
                L[u + 1] = U;
                v.ie.gb(N, L, u + 4, 12);
                u += 16;
                v.ie.iB(F, s);
                v.ie.gb(F, L, u, 4);
                u += 4;
                v.ie.iB(I, s);
                v.ie.gb(I, L, u, 4);
                u += 4;
                var C = L[u - 24 + 5],
                    p = L[u - 24 + 6];
                L[u - 24 + 5] = L[u - 24 + 20];
                L[u - 24 + 6] = L[u - 24 + 16];
                L[u - 24 + 16] = C;
                L[u - 24 + 20] = p;
                g++
            }
        if (g == 0) return;
        if (R) console.log(Date.now() - D, "FWHT computed");
        D = Date.now();
        var l = [];
        v.ie.MG(0, g - 1, l, L, new T(2 * 24));
        if (R) console.log(Date.now() - D, "KD tree computed");
        D = Date.now();
        var c = new Float32Array(V * O * 4);
        for (var M = 0; M < g; M++) {
            var H = M,
                gl = v.ie.abF(H, L, l, G);
            if (gl == -1) continue;
            var ie = H * 24,
                fk = gl * 24,
                h5 = L[ie],
                cf = L[ie + 1],
                f = L[fk],
                aH = L[fk + 1];
            t += v.ie.getError(fk, ie, L, 1e99);
            var gY = f - h5,
                cC = aH - cf;
            c[(O + cC) * 2 * V + (V + gY)] += 1
        }
        if (R) console.log(Date.now() - D, "NN found");
        D = Date.now();
        var cY = [],
            gJ = 1 / (2 * V);
        for (var M = 0; M < c.length; M++) {
            if (c[M] > 0) {
                var U = Math.floor(M * gJ),
                    r = M - U * 2 * V;
                cY.push({
                    x: r - V,
                    y: U - O,
                    F: c[M],
                    Mg: -1
                })
            }
        }
        cY.sort(function(b0, bh) {
            return bh.F - b0.F
        });
        var bM = new Int32Array(V * O),
            cN = [];
        for (var M = 0; M < V * O; M++) {
            if (e[M] == 255) {
                bM[M] = eu;
                cN.push(M % V, Math.floor(M / V));
                eu++
            } else if (w[(M << 2) + 3] < 200) {
                bM[M] = -2
            } else {
                bM[M] = -1
            }
        }
        var cU = v.ie.aiw(V, O, cY, bM, cN, eu);
        if (cU == null) {
            return
        }
        var h7 = cU.wo,
            top = cU.top;
        h7 = v.ie.agk(h7, w, V, O, top, bM, cN, eu);
        if (R) console.log(Date.now() - D, "optimal labeling found");
        D = Date.now();
        var X = b.clone();
        X.Nn(1, 1);
        X = X.z2(j);
        var hn = v.$(X.O() * 4),
            gS = v.$(X.O());
        v.c1(n, j, hn, X);
        var aq = j.D,
            ef = j.j;
        for (var U = 0; U < ef; U++)
            for (var r = 0; r < aq; r++) {
                if (y[U * aq + r] == 0) continue;
                var dU = Math.min(Math.floor(r / $), V - 1),
                    hI = Math.min(Math.floor(U / $), O - 1),
                    a$ = bM[hI * V + dU],
                    hH = h7[a$],
                    bq = top[hH],
                    dq = r + bq.x * $,
                    g9 = U + bq.y * $,
                    cx = g9 * aq + dq << 2,
                    hp = (U - X.y + j.y) * X.D + (r - X.x + j.x) << 2;
                hn[hp] = n[cx];
                hn[hp + 1] = n[cx + 1];
                hn[hp + 2] = n[cx + 2];
                hn[hp + 3] = n[cx + 3];
                hn[hp + 3] = n[cx + 3];
                gS[hp >> 2] = hH + 1
            }
        if (R) console.log(Date.now() - D, "copied back");
        D = Date.now();
        v.M_.ur(hn, gS, X, null, 1e3);
        if (R) console.log(Date.now() - D, "poisson smooth");
        D = Date.now();
        v.c1(hn, X, K, b)
    };
    v.ie.Kq = function(w, o, Q, K, b, R) {
        return v.ie.Or(w + b.x, o + b.y, Q, K) && R[(o + b.y) * Q + (w + b.x)] == -1 ? 0 : 1e9
    };
    v.ie.agk = function(w, o, Q, K, top, b, R, X) {
        var h = Date.now(),
            e = [-1, 0, 0, -1, 1, 0, 0, 1],
            Z = 1e99,
            P = [],
            J = [],
            i = 2 * (X * 2 * 3 + X * 2),
            k = null,
            $ = 0,
            n = 0,
            j = 0,
            y = 1e99;
        while (!0 && Date.now() < h + 12e3) {
            j++;
            var V = null,
                O = Z;
            for (var S = 0; S < top.length; S++) {
                var G = top[S],
                    D = 0,
                    q = X + 2,
                    T = 0;
                for (var M = 0; M < X; M++) {
                    var L = R[M * 2],
                        N = R[M * 2 + 1],
                        F = top[w[M]],
                        I = v.ie.Kq(L, N, Q, K, G, b),
                        s = w[M] == S ? 1e9 : v.ie.Kq(L, N, Q, K, F, b);
                    for (var A = 0; A < 4; A++) {
                        if (A == 0 && L == 0 || A == 1 && N == 0 || A == 2 && L == Q - 1 || A == 3 && N == K - 1) continue;
                        var u = e[2 * A],
                            g = e[2 * A + 1],
                            U = L + u,
                            r = N + g,
                            x = b[r * Q + U];
                        if (x == -2) {} else if (x == -1) {
                            I += 3 * v.ie.rY(U + G.x, r + G.y, U, r, Q, K, o, b);
                            I += 2 * v.ie.rY(U + G.x + u, r + G.y + g, U + u, r + g, Q, K, o, b);
                            s += 3 * v.ie.rY(U + F.x, r + F.y, U, r, Q, K, o, b);
                            s += 2 * v.ie.rY(U + F.x + u, r + F.y + g, U + u, r + g, Q, K, o, b)
                        } else if (A > 1) {
                            if (w[M] == w[x]) {
                                var C = 0;
                                C += v.ie.rY(L + F.x, N + F.y, L + G.x, N + G.y, Q, K, o, b);
                                C += v.ie.rY(U + F.x, r + F.y, U + G.x, r + G.y, Q, K, o, b);
                                P[D] = M;
                                P[D + 1] = x;
                                J[D] = C;
                                J[D + 1] = C;
                                D += 2
                            } else {
                                var p = top[w[x]],
                                    l = q,
                                    c = 0,
                                    t = 0,
                                    H = 0;
                                q++;
                                c += v.ie.rY(L + F.x, N + F.y, L + G.x, N + G.y, Q, K, o, b);
                                c += v.ie.rY(U + F.x, r + F.y, U + G.x, r + G.y, Q, K, o, b);
                                t += v.ie.rY(L + p.x, N + p.y, L + G.x, N + G.y, Q, K, o, b);
                                t += v.ie.rY(U + p.x, r + p.y, U + G.x, r + G.y, Q, K, o, b);
                                H += v.ie.rY(L + p.x, N + p.y, L + F.x, N + F.y, Q, K, o, b);
                                H += v.ie.rY(U + p.x, r + p.y, U + F.x, r + F.y, Q, K, o, b);
                                P[D] = M;
                                P[D + 1] = l;
                                J[D] = c;
                                J[D + 1] = c;
                                D += 2;
                                P[D] = x;
                                P[D + 1] = l;
                                J[D] = t;
                                J[D + 1] = t;
                                D += 2;
                                P[D] = l;
                                P[D + 1] = X + 1;
                                J[D] = H;
                                J[D + 1] = 0;
                                D += 2
                            }
                        }
                    }
                    P[D] = X;
                    P[D + 1] = M;
                    J[D] = I;
                    J[D + 1] = 0;
                    D += 2;
                    P[D] = M;
                    P[D + 1] = X + 1;
                    J[D] = s;
                    J[D + 1] = 0;
                    D += 2;
                    T += Math.min(I, s)
                }
                if (T > O) continue;
                var gl = v.Oh.Ev(q, D, X, X + 1, P, J, O);
                if (gl.m6 < O) {
                    O = gl.m6;
                    var ie = w.slice(0);
                    v.ie.afr(ie, D, P, gl.iK, S, X);
                    V = ie
                }
            }
            if (O * 1 >= Z) {
                break
            }
            Z = O;
            w = V;
            if ((j & 3) == 0) {
                if (O * 1.03 >= y) break;
                y = O
            }
            if ((j & 3) == 0) {
                var fk = 0 * top.length;
                for (var M = 0; M < top.length && top.length > fk; M++) {
                    if (w.indexOf(M) != -1) continue;
                    top.splice(M, 1);
                    for (var x = 0; x < w.length; x++)
                        if (w[x] > M) w[x]--;
                    M--
                }
            }
        }
        return w
    };
    v.ie.afr = function(w, o, Q, K, b, R) {
        for (var M = 0; M < K.length; M++) {
            var X = K[M] << 1,
                h = 0,
                e = 0;
            if (X < o) {
                h = Q[X];
                e = Q[X + 1]
            } else {
                e = Q[X];
                h = Q[X + 1]
            }
            if (h == R && w[e] != b) w[e] = b
        }
    };
    v.ie.SS = function(top, w, o, Q, K, b, R, X, h) {
        for (var M = 0; M < o.length; M++) {
            var e = o[M],
                Z = !0;
            if (X != null && !(v.ie.Or(X + e.x, h + e.y, b, R) && Q[b * (h + e.y) + X + e.x] == -1)) continue;
            if (e.Mg == -1) e.Mg = v.ie.amE(e, Q, K, b, R);
            if (e.Mg <= 0) continue;
            for (var P = 0; P < top.length; P++) {
                var J = top[P],
                    i = e.x - J.x,
                    k = e.y - J.y;
                if (i * i + k * k < w) {
                    Z = !1;
                    break
                }
            }
            if (Z) return e
        }
        return null
    };
    v.ie.amE = function(w, o, Q, K, b) {
        var R = 0;
        for (var M = 0; M < Q.length; M += 2) {
            var X = Q[M] + w.x,
                h = Q[M + 1] + w.y;
            if (v.ie.Or(X, h, K, b) && o[K * h + X] == -1) R++
        }
        return R / (Q.length >> 1)
    };
    v.ie.aiw = function(w, o, Q, K, b, R) {
        var top = [];
        for (var M = 0; M < 60; M++) {
            var X = v.ie.SS(top, 25, Q, K, b, w, o);
            if (X == null) break;
            else top.push(X)
        }
        if (top.length == 0) return null;
        var h = [];
        for (var M = 0; M < R; M++) {
            var e = b[M * 2],
                Z = b[M * 2 + 1],
                P = -1,
                J = 0;
            while (!0) {
                J++;
                var i = Math.random();
                P = Math.floor(i * .99999 * top.length);
                var k = top[P],
                    $ = e + k.x,
                    n = Z + k.y;
                if (v.ie.Or($, n, w, o) && K[n * w + $] == -1) break;
                if (J > 100) {
                    var X;
                    X = v.ie.SS(top, 0, Q, K, b, w, o, e, Z);
                    if (X == null) return null;
                    top.push(X);
                    J = 0
                }
            }
            h.push(P)
        }
        return {
            top: top,
            wo: h
        }
    };
    v.ie.rY = function(w, o, Q, K, b, R, X, h) {
        if (w == Q && o == K) return 0;
        if (w < 0 || o < 0 || w >= b || o >= R || Q < 0 || K < 0 || Q >= b || K >= R || h[o * b + w] != -1 || h[K * b + Q] != -1) return 1e7;
        var e = o * b + w << 2,
            Z = K * b + Q << 2,
            P = X[e] - X[Z],
            J = X[e + 1] - X[Z + 1],
            i = X[e + 2] - X[Z + 2];
        return 1 + (P * P + J * J + i * i)
    };
    v.ie.Or = function(w, o, Q, K) {
        return w >= 0 && w < Q && o >= 0 && o < K
    };
    v.ie.abF = function(w, o, Q, K) {
        var b = 24 * w,
            R = o[b],
            X = o[b + 1],
            h = K * K,
            e = 0,
            i = 1e9;
        while (Q[e] != 99)
            if (o[b + Q[e]] < Q[e + 1]) e = Q[e + 2];
            else e = Q[e + 3];
        var Z = Q[e + 1],
            P = Q[e + 2],
            J = -1;
        for (var M = Z; M <= P; M++) {
            var e = M,
                k = e * 24,
                $ = o[k],
                n = o[k + 1];
            if (($ - R) * ($ - R) + (n - X) * (n - X) < h) continue;
            var j = v.ie.getError(k, b, o, i);
            if (j < i) {
                i = j;
                J = e
            }
        }
        return J
    };
    v.ie.getError = function(w, o, Q, K) {
        var b = 0;
        for (var R = 4; R < 24; R += 4) {
            var X = Q[o + R] - Q[w + R],
                h = Q[o + R + 1] - Q[w + R + 1],
                e = Q[o + R + 2] - Q[w + R + 2],
                Z = Q[o + R + 3] - Q[w + R + 3];
            b += X * X + h * h + e * e + Z * Z;
            if (b >= K) return b + 1
        }
        return b
    };
    v.ie.MG = function(w, o, Q, K, b) {
        var R = 16,
            i = 0;
        if (o - w <= R) {
            Q.push(99, w, o);
            return
        }
        v.ie.QT(w, o, K, b);
        var X = -1,
            h = -1;
        for (var M = 4; M < 24; M++) {
            var e = b[2 * M + 1] - b[2 * M];
            if (e > h) {
                h = e;
                X = M
            }
        }
        var Z = w + o >> 1,
            P = v.ie.afK(Z, w, o, K, X),
            J = -1;
        for (var M = w; M <= o; M++)
            if (K[24 * M + X] == P) {
                if (J == -1) J = M;
                i = M
            } if (w + 8 < J && J - w > o - i) Z = J;
        else if (i + 1 < o - 8) Z = i + 1;
        else if (o - w < 64) {
            Q.push(99, w, o);
            return
        } else Z = Z;
        var k = Q.length;
        Q.push(X, P, 0, 0);
        Q[k + 2] = k + 4;
        v.ie.MG(w, Z - 1, Q, K, b);
        Q[k + 3] = Q.length;
        v.ie.MG(Z, o, Q, K, b)
    };
    v.ie.QT = function(w, o, Q, K) {
        for (var M = 0; M < 48; M += 4) {
            K[M] = 3e4;
            K[M + 1] = -3e4;
            K[M + 2] = 3e4;
            K[M + 3] = -3e4
        }
        for (var M = w; M <= o; M++) {
            var b = M * 24;
            for (var R = 0; R < 24; R++) {
                var X = Q[b + R],
                    h = K[R << 1],
                    e = K[(R << 1) + 1];
                if (X < h) K[R << 1] = X;
                if (X > e) K[(R << 1) + 1] = X
            }
        }
    };
    v.ie.PW = function(w, o, Q) {
        var K = 0,
            M = 0;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++;
        K = Q[w + M];
        Q[w + M] = Q[o + M];
        Q[o + M] = K;
        M++
    };
    v.ie.oA = function(w, o, Q, K) {
        var b = Q + K >>> 1,
            R = w[24 * b + o];
        while (Q <= K) {
            while (w[24 * Q + o] < R) Q++;
            while (w[24 * K + o] > R) K--;
            if (Q <= K) {
                if (w[24 * Q + o] != w[24 * K + o]) v.ie.PW(Q * 24, K * 24, w);
                Q++;
                K--
            }
        }
        return Q
    };
    v.ie.afK = function(w, o, Q, K, b) {
        var R = 0;
        while (o != Q) {
            R = v.ie.oA(K, b, o, Q);
            if (w < R) Q = R - 1;
            else o = R
        }
        return K[w * 24 + b]
    };
    v.ie.gb = function(w, o, Q, K) {
        for (var M = 0; M < K; M++) o[Q + M] = w[M]
    };
    v.ie.abM = function(w, o, Q, K, b, R, X, h, e) {
        var Z = (K - 3) * b + (Q - 3),
            P = Z << 2;
        for (var J = 0; J < 8; J++) {
            if (o[Z] + o[Z + 1] + o[Z + 2] + o[Z + 3] + o[Z + 4] + o[Z + 5] + o[Z + 6] + o[Z + 7] != 0 || w[P + 3] < 200 || w[P + 7] < 200 || w[P + 11] < 200 || w[P + 15] < 200 || w[P + 19] < 200 || w[P + 23] < 200 || w[P + 27] < 200 || w[P + 31] < 200) return 1;
            var M = J << 3;
            X[M + 0] = w[P + 0];
            h[M + 0] = w[P + 1];
            e[M + 0] = w[P + 2];
            X[M + 1] = w[P + 4];
            h[M + 1] = w[P + 5];
            e[M + 1] = w[P + 6];
            X[M + 2] = w[P + 8];
            h[M + 2] = w[P + 9];
            e[M + 2] = w[P + 10];
            X[M + 3] = w[P + 12];
            h[M + 3] = w[P + 13];
            e[M + 3] = w[P + 14];
            X[M + 4] = w[P + 16];
            h[M + 4] = w[P + 17];
            e[M + 4] = w[P + 18];
            X[M + 5] = w[P + 20];
            h[M + 5] = w[P + 21];
            e[M + 5] = w[P + 22];
            X[M + 6] = w[P + 24];
            h[M + 6] = w[P + 25];
            e[M + 6] = w[P + 26];
            X[M + 7] = w[P + 28];
            h[M + 7] = w[P + 29];
            e[M + 7] = w[P + 30];
            P += b << 2;
            Z += b
        }
        return 0
    };
    v.ie.iB = function(w, o) {
        o[0] = w[32] + w[0];
        o[1] = w[33] + w[1];
        o[2] = w[34] + w[2];
        o[3] = w[35] + w[3];
        o[4] = w[36] + w[4];
        o[5] = w[37] + w[5];
        o[6] = w[38] + w[6];
        o[7] = w[39] + w[7];
        o[8] = w[40] + w[8];
        o[9] = w[41] + w[9];
        o[10] = w[42] + w[10];
        o[11] = w[43] + w[11];
        o[12] = w[44] + w[12];
        o[13] = w[45] + w[13];
        o[14] = w[46] + w[14];
        o[15] = w[47] + w[15];
        o[16] = w[48] + w[16];
        o[17] = w[49] + w[17];
        o[18] = w[50] + w[18];
        o[19] = w[51] + w[19];
        o[20] = w[52] + w[20];
        o[21] = w[53] + w[21];
        o[22] = w[54] + w[22];
        o[23] = w[55] + w[23];
        o[24] = w[56] + w[24];
        o[25] = w[57] + w[25];
        o[26] = w[58] + w[26];
        o[27] = w[59] + w[27];
        o[28] = w[60] + w[28];
        o[29] = w[61] + w[29];
        o[30] = w[62] + w[30];
        o[31] = w[63] + w[31];
        o[32] = w[0] - w[32];
        o[33] = w[1] - w[33];
        o[34] = w[2] - w[34];
        o[35] = w[3] - w[35];
        o[36] = w[4] - w[36];
        o[37] = w[5] - w[37];
        o[38] = w[6] - w[38];
        o[39] = w[7] - w[39];
        o[40] = w[8] - w[40];
        o[41] = w[9] - w[41];
        o[42] = w[10] - w[42];
        o[43] = w[11] - w[43];
        o[44] = w[12] - w[44];
        o[45] = w[13] - w[45];
        o[46] = w[14] - w[46];
        o[47] = w[15] - w[47];
        o[48] = w[16] - w[48];
        o[49] = w[17] - w[49];
        o[50] = w[18] - w[50];
        o[51] = w[19] - w[51];
        o[52] = w[20] - w[52];
        o[53] = w[21] - w[53];
        o[54] = w[22] - w[54];
        o[55] = w[23] - w[55];
        o[56] = w[24] - w[56];
        o[57] = w[25] - w[57];
        o[58] = w[26] - w[58];
        o[59] = w[27] - w[59];
        o[60] = w[28] - w[60];
        o[61] = w[29] - w[61];
        o[62] = w[30] - w[62];
        o[63] = w[31] - w[63];
        w[0] = o[16] + o[0];
        w[1] = o[17] + o[1];
        w[2] = o[18] + o[2];
        w[3] = o[19] + o[3];
        w[4] = o[20] + o[4];
        w[5] = o[21] + o[5];
        w[6] = o[22] + o[6];
        w[7] = o[23] + o[7];
        w[8] = o[24] + o[8];
        w[9] = o[25] + o[9];
        w[10] = o[26] + o[10];
        w[11] = o[27] + o[11];
        w[12] = o[28] + o[12];
        w[13] = o[29] + o[13];
        w[14] = o[30] + o[14];
        w[15] = o[31] + o[15];
        w[16] = o[0] - o[16];
        w[17] = o[1] - o[17];
        w[18] = o[2] - o[18];
        w[19] = o[3] - o[19];
        w[20] = o[4] - o[20];
        w[21] = o[5] - o[21];
        w[22] = o[6] - o[22];
        w[23] = o[7] - o[23];
        w[24] = o[8] - o[24];
        w[25] = o[9] - o[25];
        w[26] = o[10] - o[26];
        w[27] = o[11] - o[27];
        w[28] = o[12] - o[28];
        w[29] = o[13] - o[29];
        w[30] = o[14] - o[30];
        w[31] = o[15] - o[31];
        o[0] = w[8] + w[0];
        o[1] = w[9] + w[1];
        o[2] = w[10] + w[2];
        o[3] = w[11] + w[3];
        o[4] = w[12] + w[4];
        o[5] = w[13] + w[5];
        o[6] = w[14] + w[6];
        o[7] = w[15] + w[7];
        o[8] = w[0] - w[8];
        o[9] = w[1] - w[9];
        o[10] = w[2] - w[10];
        o[11] = w[3] - w[11];
        o[12] = w[4] - w[12];
        o[13] = w[5] - w[13];
        o[14] = w[6] - w[14];
        o[15] = w[7] - w[15];
        w[0] = o[4] + o[0];
        w[1] = o[5] + o[1];
        w[2] = o[6] + o[2];
        w[3] = o[7] + o[3];
        w[4] = o[0] - o[4];
        w[5] = o[1] - o[5];
        w[6] = o[2] - o[6];
        w[7] = o[3] - o[7];
        w[8] = o[12] + o[8];
        w[9] = o[13] + o[9];
        w[10] = o[14] + o[10];
        w[11] = o[15] + o[11];
        w[12] = o[8] - o[12];
        w[13] = o[9] - o[13];
        w[14] = o[10] - o[14];
        w[15] = o[11] - o[15];
        o[0] = w[2] + w[0];
        o[1] = w[3] + w[1];
        o[2] = w[0] - w[2];
        o[3] = w[1] - w[3];
        o[4] = w[6] + w[4];
        o[5] = w[7] + w[5];
        o[6] = w[4] - w[6];
        o[7] = w[5] - w[7];
        o[8] = w[10] + w[8];
        o[9] = w[11] + w[9];
        o[10] = w[8] - w[10];
        o[11] = w[9] - w[11];
        o[12] = w[14] + w[12];
        o[13] = w[15] + w[13];
        o[14] = w[12] - w[14];
        o[15] = w[13] - w[15];
        w[0] = o[1] + o[0];
        w[1] = o[0] - o[1];
        w[2] = o[3] + o[2];
        w[3] = o[2] - o[3];
        w[4] = o[5] + o[4];
        w[5] = o[4] - o[5];
        w[6] = o[7] + o[6];
        w[7] = o[6] - o[7];
        w[8] = o[9] + o[8];
        w[9] = o[8] - o[9];
        w[10] = o[11] + o[10];
        w[11] = o[10] - o[11];
        w[12] = o[13] + o[12];
        w[13] = o[12] - o[13];
        w[14] = o[15] + o[14];
        w[15] = o[14] - o[15]
    };
    v.ie.a5C = function() {
        var w = "",
            A = 64,
            o = "v",
            Q = "t",
            K = "a",
            b = 5,
            M, R, X;
        for (M = A >> 1; M > 0; M >>= 1, b--) {
            for (R = 0; R < A; R++) {
                X = (R >> b & 1) != 0;
                if (X) {
                    w += Q + "[" + R + "] = " + o + "[" + (-M + R) + "] - " + o + "[" + R + "];  "
                } else {
                    w += Q + "[" + R + "] = " + o + "[" + (M + R) + "] + " + o + "[" + R + "];  "
                }
            }
            K = o;
            o = Q;
            Q = K;
            w += "\n"
        }
        console.log(w)
    };
    v.ie.amM = function(A, w, o) {
        var Q = w,
            K = o,
            b = Q,
            R = 0,
            M, h, e;
        while (A >> R != 2) R++;
        var X = R;
        for (M = A >> 1; M > 0; M >>= 1, R--) {
            for (h = 0; h < A; h++) {
                e = (h >> R & 1) != 0;
                if (e) K[h] = Q[-M + h] - Q[h];
                else K[h] = Q[M + h] + Q[h]
            }
            b = Q;
            Q = K;
            K = b
        }
        if ((X & 1) == 1)
            for (M = 0; M < A; M++) o[M] = Q[M]
    };
    v.DD = {};
    v.DD.UH = function(w, o, Q, K, b, R, X, h, e) {
        var Z = Date.now(),
            P = new Uint32Array(w.buffer),
            J = new Uint32Array(o.buffer),
            i = X / Q,
            k = h / K,
            $ = 1 / i,
            n = 1 / k,
            j = new Float64Array(2),
            y = 3,
            V = 1 / y,
            O = 1 / (y * y),
            S = 0,
            G = 0,
            D = Q,
            q = K;
        if (b) {
            S = b.x;
            G = b.y;
            D = b.D;
            q = b.j
        }
        for (var T = 0; T < q; T++)
            for (var L = 0; L < D; L++) {
                var N = S + L,
                    F = G + T,
                    M = F * Q + N,
                    I = M << 1,
                    s = M << 2;
                v.DD.ajc(R, X, h, (N + .5) * i, (F + .5) * k, j);
                var u = j[0] * $,
                    g = j[1] * n;
                if (u == 0 && g == 0) J[M] = P[M];
                else {
                    v.Q.l9(N + u + .5, F + g + .5, P, Q, K, J, M, e)
                }
            }
    };
    v.DD.ajc = function(w, o, Q, K, b, R) {
        K -= .499999;
        b -= .499999;
        var X = ~~K,
            h = ~~b,
            e = K - X,
            Z = b - h,
            P = (1 - Z) * (1 - e),
            J = (1 - Z) * e,
            i = Z * (1 - e),
            k = Z * e,
            $ = X < o - 1 ? X + 1 : X,
            n = h < Q - 1 ? h + 1 : h,
            j = h * o + X << 1,
            y = h * o + $ << 1,
            V = n * o + X << 1,
            O = n * o + $ << 1;
        R[0] = P * w[j] + J * w[y] + i * w[V] + k * w[O];
        R[1] = P * w[j + 1] + J * w[y + 1] + i * w[V + 1] + k * w[O + 1]
    };
    v.DD.a4s = function(w, o, Q, K, b) {
        var R = 1 / w,
            X = [-1, 1, -w, w],
            h = K.length;
        for (var e = 0; e < h; e++) {
            var M = K[e],
                Z = M << 1,
                P = e << 1,
                J = ~~(M * R),
                i = M - w * J,
                k = Q[Z],
                $ = Q[Z + 1],
                n = 0,
                j = 0;
            if (i != 0 && i != w - 1) {
                var y = M - 1 << 1,
                    V = M + 1 << 1,
                    O = Q[y],
                    S = Q[V],
                    G = Q[y + 1],
                    D = Q[V + 1],
                    q = k - (O + S) * .5,
                    T = $ - (G + D) * .5;
                n -= q * b;
                j -= T * b
            }
            if (J != 0 && J != o - 1) {
                var y = M - w << 1,
                    V = M + w << 1,
                    O = Q[y],
                    S = Q[V],
                    G = Q[y + 1],
                    D = Q[V + 1],
                    q = k - (O + S) * .5,
                    T = $ - (G + D) * .5;
                n -= q * b;
                j -= T * b
            }
            Q[Z] = k + n;
            Q[Z + 1] = $ + j
        }
    };
    v.DD.a96 = function(w, o) {
        var Q = w + "," + o;
        if (v.DD.Mm == Q) return v.DD.Fa;
        var K = v.DD.Fa = [];
        v.DD.Mm = Q;
        for (var M = 0; M <= 1e3; M++) {
            var b = M * .001,
                R = Math.sqrt(b),
                X = Math.exp(-4 * R),
                h = .96 * (1 - R * R),
                e = o * ((1 - w) * X + w * h);
            K[M] = e
        }
        return K
    };
    v.DD.Mm = "";
    v.DD.Fa = [];
    v.DD.a6p = function(w, o, Q, K, b, R, X, h, e, Z, P, J, i) {
        var k = Math.max(0, Math.floor(b - X - 1)),
            $ = Math.min(o, Math.ceil(b + X + 1)),
            n = Math.max(0, Math.floor(R - X - 1)),
            j = Math.min(Q, Math.ceil(R + X + 1)),
            y = 2 * o,
            V = X * X,
            O = 1 / X,
            S = 0;
        if (i && (K == 3 || K == 6)) e = -e;
        var G = v.DD.a96(h, e);
        for (var D = n; D < j; D++)
            for (var q = k; q < $; q++) {
                var M = D * o + q,
                    T = M << 1,
                    L = (b - q) * O,
                    N = (R - D) * O,
                    F = L * L + N * N;
                if (F < 1) {
                    J[S] = M;
                    var I = G[~~(F * 1e3)];
                    if (K == 1) {
                        w[T] = w[T] * (1 - I * .05);
                        w[T + 1] = w[T + 1] * (1 - I * .05)
                    } else {
                        var s = 0,
                            u = 0,
                            r, x, C, p;
                        if (K == 0) {
                            s = Z * I;
                            u = P * I
                        } else if (K == 2) {} else if (K == 3) {
                            s = I * N;
                            u = -I * L
                        } else if (K == 4) {
                            s = I * L;
                            u = I * N
                        } else if (K == 5) {
                            s = -I * L;
                            u = -I * N
                        } else if (K == 6) {
                            s = P * I;
                            u = -Z * I
                        }
                        var g = w[T],
                            U = w[T + 1];
                        if (q == 0 || q != o - 1 && s < 0) {
                            r = 1 + w[T + 2] - g;
                            C = w[T + 3] - U
                        } else {
                            r = g - w[T - 2] + 1;
                            C = U - w[T - 1]
                        }
                        if (D == 0 || D != Q - 1 && u < 0) {
                            x = w[T + y] - g;
                            p = 1 + w[T + y + 1] - U
                        } else {
                            x = g - w[T - y];
                            p = U - w[T - y + 1] + 1
                        }
                        w[T] = -(r * s + x * u - g);
                        w[T + 1] = -(C * s + p * u - U)
                    }
                    S++
                }
            }
    };
    v.DD.ae1 = function(w) {
        var o = w[0],
            Q = w[0],
            K = w[1],
            b = w[1];
        for (var M = 0; M < w.length; M += 2) {
            var R = w[M],
                X = w[M + 1];
            if (R < o) o = R;
            else if (R > Q) Q = R;
            if (X < K) K = X;
            else if (X > b) b = X
        }
        return [o, K, Q, b]
    };
    v.ad0 = function(w, o, Q, K, b) {
        function R(f, aH, gY, cC) {
            return Math.sqrt((f - gY) * (f - gY) + (aH - cC) * (aH - cC))
        }

        function X(f, aH) {
            return f >= 0 && f < o && aH >= 0 && aH < Q
        }

        function h(f) {
            if (f < 0) return 0;
            if (f >= o) return o - 1;
            return f
        }

        function e(f) {
            if (f < 0) return 0;
            if (f >= Q) return Q - 1;
            return f
        }

        function Z(M, f) {
            var aH = f[3] * (1 / 255),
                gY = K[M] + f[0] * aH;
            if (gY > 255) gY = 255;
            K[M] = gY;
            gY = K[M + 1] + f[1] * aH;
            if (gY > 255) gY = 255;
            K[M + 1] = gY;
            gY = K[M + 2] + f[2] * aH;
            if (gY > 255) gY = 255;
            K[M + 2] = gY
        }

        function P(f, aH, gY) {
            if (!l(f, aH)) return;
            if (gY[3] < 0) gY[3] = 0;
            Z((aH * o + f) * 4, gY)
        }

        function J(f) {
            var aH = f.slice(0, 3);
            aH[3] = 0;
            return aH
        }
        var i = o / 800;

        function k(f) {
            return Math.round(f * i)
        }

        function $() {
            for (var M = 0; M <= 300; M++) {
                t[M] = n(M)
            }
        }

        function n(Q) {
            var f = .8,
                aH = .2,
                gY = f * aH,
                cC = Q / 60 % 2 - 1,
                cY = gY * (1 - cC * cC),
                gJ = aH - gY,
                bM;
            if (Q < 60) {
                bM = [gY + gJ, cY, 0]
            } else if (Q < 120) {
                bM = [cY, gY, 0]
            } else if (Q < 180) {
                bM = [0, gY, cY]
            } else if (Q < 240) {
                bM = [0, cY, gY]
            } else if (Q < 300) {
                bM = [cY, 0, gY]
            } else {
                bM = [gY, 0, cY]
            }
            return [(bM[0] + gJ) * 255, (bM[1] + gJ) * 255, (bM[2] + gJ) * 255]
        }

        function j(Q) {
            return t[~~Q]
        }

        function y(f) {
            return 1 - V(f)
        }

        function V(f) {
            return f - ~~f
        }

        function O(f, aH, gY, cC) {
            C(f, aH, gY, 0, aH + 1, 1, cC)
        }

        function S(f, aH, gY, cC, cY, gJ) {
            C(f, aH, gY, 0, cC, 1, cY, gJ)
        }

        function G(f) {
            for (var M = 0; M < K.length; M += 4) {
                Z(M, f)
            }
        }

        function D(f, aH, gY, cC, cY, gJ, bM, cN) {
            q(f, aH, gY, cC, cY, 1, gJ, bM, cN)
        }

        function q(f, aH, gY, cC, cY, gJ, bM, cN, eu) {
            if (gJ == null) gJ = .5;
            if (bM == null) bM = 0;
            if (cN == null) cN = 0;
            if (eu == null) eu = !1;
            var cU = f.x,
                h7 = f.y,
                hn = gY.slice(0),
                gS = ~~(gY[3] * gl);
            cC = cC * gl;
            if (!eu) {
                aH = p(aH);
                cY = p(cY);
                bM = p(bM);
                cN = p(cN)
            }
            var aq = h(cU - aH),
                ef = h(cU + aH);
            for (var dU = aq; dU <= ef; dU++) {
                var hO = dU - cU,
                    ao = Math.floor(Math.sqrt(aH * aH - hO * hO)),
                    hI = e(h7 - ao),
                    a$ = e(h7);
                for (var hH = hI; hH <= a$; hH++) {
                    var bq = R(dU, hH, cU, h7);
                    if (bq > aH || bq <= aH - cY) break;
                    var dq = (bq - aH + cY) / cY;
                    hn[3] = gS - cC * (gJ == 1 ? dq : Math.pow(dq, gJ));
                    Z((hH * o + dU) * 4, hn)
                }
                hI = e(h7 + ao);
                for (var hH = hI; hH > a$; hH--) {
                    var bq = R(dU, hH, cU, h7);
                    if (bq > aH || bq <= aH - cY) break;
                    var dq = (bq - aH + cY) / cY;
                    hn[3] = gS - cC * (gJ == 1 ? dq : Math.pow(dq, gJ));
                    Z((hH * o + dU) * 4, hn)
                }
            }
            if (bM > 0) {
                C(f, aH + bM, hn, hn[3], bM, 1, 0, 0, !0)
            }
            if (cN > 0) {
                C(f, aH - cY, c(gY), -gY[3], cN, 1, 0, 0, !0)
            }
        }

        function T(f, aH, gY, cC, cY, gJ) {
            C(f, aH, gY, gY[3], aH + 1, 1, cC, cY, gJ)
        }

        function L(f, aH, gY, cC, cY) {
            if (cY == null) cY = !1;
            var gJ = f.x,
                bM = f.y;
            cC *= gl;
            if (!cY) {
                aH = p(aH);
                gY = p(gY)
            }
            var cN = h(gJ - aH),
                eu = h(gJ + aH);
            for (var cU = cN; cU < eu; cU++) {
                var h7 = cU - gJ,
                    hn = ~~Math.sqrt(aH * aH - h7 * h7),
                    gS = e(bM - hn),
                    aq = e(bM);
                for (var ef = gS; ef <= aq; ef++) {
                    var dU = R(cU, ef, gJ, bM);
                    if (dU > aH || dU <= aH - gY) break;
                    var hO = (aH - dU) / gY,
                        ao = j(300 * hO);
                    ao[3] = cC;
                    Z((ef * o + cU) * 4, ao)
                }
                gS = e(bM + hn);
                for (var ef = gS; ef > aq; ef--) {
                    var dU = R(cU, ef, gJ, bM);
                    if (dU > aH || dU <= aH - gY) break;
                    var hO = (aH - dU) / gY,
                        ao = j(300 * hO);
                    ao[3] = cC;
                    Z((ef * o + cU) * 4, ao)
                }
            }
        }

        function N(H, f) {
            var aH = H.Sr,
                gY = H.jN,
                cC = f.slice(0),
                cY = f[3] * gl,
                gJ = Math.abs(gY.y - aH.y) > Math.abs(gY.x - aH.x);
            if (gJ) {
                var bM = aH.x;
                aH.x = aH.y;
                aH.y = bM;
                bM = gY.x;
                gY.x = gY.y;
                gY.y = bM
            }
            if (aH.x > gY.x) {
                var bM = aH;
                aH = gY;
                gY = bM
            }
            var cN = gY.x - aH.x,
                eu = gY.y - aH.y,
                cU = cN == 0 ? 1 : eu / cN,
                h7 = Math.round(aH.x),
                hn = aH.y + cU * (h7 - aH.x),
                gS = y(aH.x + .5),
                aq = h7,
                ef = ~~hn;
            if (gJ) {
                cC[3] = cY * y(hn) * gS;
                P(ef, aq, cC);
                cC[3] = cY * V(hn) * gS;
                P(ef + 1, aq, cC)
            } else {
                cC[3] = cY * y(hn) * gS;
                P(aq, ef, cC);
                cC[3] = cY * V(hn) * gS;
                P(aq, ef + 1, cC)
            }
            var dU = hn - cU;
            h7 = Math.round(gY.x);
            hn = gY.y + cU * (h7 - gY.x);
            gS = V(gY.x + .5);
            var hO = h7,
                ao = ~~hn;
            if (gJ) {
                cC[3] = cY * y(hn) * gS;
                P(ao, hO, cC);
                cC[3] = cY * V(hn) * gS;
                P(ao + 1, hO, cC)
            } else {
                cC[3] = cY * y(hn) * gS;
                P(hO, ao, cC);
                cC[3] = cY * V(hn) * gS;
                P(hO, ao + 1, cC)
            }
            if (gJ) {
                for (var hI = aq + 1; hI <= hO - 1; hI++) {
                    cC[3] = cY * y(dU);
                    P(~~dU, hI, cC);
                    cC[3] = cY * V(dU);
                    P(~~dU + 1, hI, cC);
                    dU += cU
                }
            } else {
                for (var hI = aq + 1; hI <= hO - 1; hI++) {
                    cC[3] = cY * y(dU);
                    P(hI, ~~dU, cC);
                    cC[3] = cY * V(dU);
                    P(hI, ~~dU + 1, cC);
                    dU += cU
                }
            }
        }

        function F(f, aH, gY, cC) {
            for (var M = 0; M < 4; M++) {
                var cY = f.Ps(aH + 1.3 * M, gY);
                N(cY, cC, 1)
            }
        }

        function fB(f, aH) {
            this.x = Math.round(f);
            this.y = Math.round(aH)
        }
        var I = Math.PI / 180;
        fB.prototype.Ps = function(f, aH) {
            f = f * I;
            var gY = this.x + aH * Math.cos(f),
                cC = this.y + aH * Math.sin(f);
            return new s(this.x, this.y, gY, cC)
        };
        fB.prototype.ae8 = function(f, aH) {
            f = f * I;
            var gY = this.C3 + aH * Math.cos(f),
                cC = this.a72 + aH * Math.sin(f);
            return new fB(gY, cC)
        };

        function s(f, aH, gY, cC) {
            this.Sr = new fB(f, aH);
            this.jN = new fB(gY, cC)
        }
        s.prototype.gl = function(f) {
            var aH = f * this.Sr.x + (1 - f) * this.jN.x,
                gY = f * this.Sr.y + (1 - f) * this.jN.y;
            return new fB(aH, gY)
        };
        var u = D,
            g = T,
            U = O,
            r = S,
            x = L,
            C = q,
            p = k,
            l = X,
            c = J,
            t = [];
        $();
        for (var M = 0; M < w.length; M++) {
            K[M] = w[M]
        }
        var H = new s(o * b[2], Q * b[3], o / 2, Q / 2),
            gl = b[1],
            ie = [];
        ie[0] = function fk() {
            var f = [80, 40, 15, 60],
                gY = 0,
                cC = 0;
            U(H.gl(1.4), 260, f, 10);
            U(H.gl(1), 100, [240, 50, 50, 30], 30);
            g(H.gl(1), 60, [255, 40, 0, 40]);
            var aH = [255, 255, 255, 255];
            C(H.gl(1), 70, aH, aH[3], 58, .5);
            U(H.gl(1), 12, aH);
            aH[3] = 40;
            u(H.gl(1), 150, aH, aH[3], 150);
            for (var M = 0; M < 40; M++) {
                gY += Math.random() * 25;
                cC = Math.random() * p(300) + p(100);
                var cY = H.gl(1).Ps(gY, cC);
                N(H.gl(1).Ps(gY, cC), [110, 110, 110, 30])
            }
            g(H.gl(1), 130, [255, 255, 255, 8]);
            var gJ = [170, 30, 23, 70];
            r(H.gl(1), 70, gJ, 1, 3, 3);
            var bM = [60, 60, 130, 40];
            U(H.gl(.47), 44, bM, 5);
            U(H.gl(.43), 22, bM, 3);
            bM[3] = 16;
            U(H.gl(.53), 15, bM, 2);
            var cN = [138, 94, 42, 100];
            U(H.gl(.2), 16, cN, 2);
            var eu = [130, 255, 170, 180];
            g(H.gl(0), 4, eu);
            g(H.gl(-.25), 5, eu);
            cN = [150, 90, 0, 50];
            u(H.gl(-.45), 55, c(cN), -cN[3], 40, 2);
            U(H.gl(-.42), 35, cN, 2);
            U(H.gl(-.5), 15, cN, 2);
            x(H.gl(-1.28), 145, 11, 70);
            var cU = j(0);
            cU[3] = 50;
            u(H.gl(-1.28), 149, cU, cU[3], 4);
            cU = j(300);
            cU[3] = 50;
            u(H.gl(-1.28), 155 - 1, c(cU), -cU[3], 3);
            var h7 = [130, 130, 10, 50];
            r(H.gl(-1), 73, h7, 3, 2);
            var hn = [40, 130, 70, 40];
            u(H.gl(-1), 70, c(hn), -hn[3], 35);
            hn = [40, 170, 60, 50];
            U(H.gl(-.7), 25, hn, 4);
            var hn = [70, 110, 50, 60];
            u(H.gl(1.3), 30, c(hn), -hn[3], 11, 3);
            bM = [0, 50, 210, 80];
            g(H.gl(-.72), 20, bM)
        };
        ie[1] = function h5() {
            g(H.gl(1), 150, [240, 70, 70, 60]);
            U(H.gl(1), 100, [200, 60, 60, 40], 30);
            var f = [255, 255, 255, 255],
                aH = 0,
                gY = 0;
            C(H.gl(1), 75, f, f[3], 63);
            U(H.gl(1), 12, f);
            g(H.gl(1), 270, [200, 200, 200, 20], 10);
            for (var M = 0; M < 10; M++) {
                aH += 10 + Math.random() * 40;
                gY = Math.random() * p(250) + p(80);
                var cC = H.gl(1).Ps(aH, gY);
                N(cC, [110, 110, 110, 35])
            }
            aH = 5;
            gY = 100;
            for (var M = 0; M < 12; M++) {
                aH += 30;
                F(H.gl(1), aH, gY, [90, 90, 90, 40])
            }
            var cY = [150, 40, 23, 100];
            r(H.gl(1), 70, cY, 1, 3, 3);
            var gJ = [30, 100, 60, 40];
            g(H.gl(-.9), 180, [255, 255, 255, 20]);
            U(H.gl(-.9), 140, gJ, 15);
            var bM = [170, 80, 25, 15];
            r(H.gl(-.9), 120, bM, 1, 4, 4);
            var cN = [110, 240, 190, 200];
            g(H.gl(-.6), 3, cN);
            cN[3] = 100;
            g(H.gl(-.6), 7, cN);
            var eu = [230, 120, 40, 85];
            g(H.gl(-.73), 9, eu);
            var cU = [60, 60, 190, 50];
            U(H.gl(.3), 28, cU, 6);
            cU[3] = 25;
            U(H.gl(.34), 20, cU, 3)
        };
        ie[2] = function cf() {
            var f = [255, 255, 255, 255],
                gY = 0,
                cC = 0;
            U(H.gl(1), 13, f);
            C(H.gl(1), 150, f, f[3], 137);
            var aH = [120, 80, 35, 20];
            U(H.gl(1.4), 260, aH, 10);
            for (var M = 0; M < 40; M++) {
                gY += 5 + Math.random() * 30;
                cC = Math.random() * p(300);
                N(H.gl(1).Ps(gY, cC), [110, 110, 110, 20])
            }
            var cY = [10, 30, 255, 30];
            U(H.gl(1), 70, cY, 50);
            var gJ = [15, 90, 170, 15];
            U(H.gl(1.5), 60, gJ);
            var bM = [220, 220, 20, 50];
            U(H.gl(-1.15), 8, bM, 2);
            var f = [255, 255, 255, 40];
            g(H.gl(-1.18), 6, f);
            g(H.gl(-1.18), 4, f);
            bM = [110, 110, 10, 8];
            u(H.gl(-1.2), 32, c(bM), -bM[3], 20, 3);
            var cN = [5, 0, 16, 255];
            for (var M = 0; M < 4; M++) {
                U(H.gl(-1.36), 10, cN, 3)
            }
            var eu = [90, 200, 150, 20],
                cU = eu.slice(0);
            cU[3] *= 2;
            U(H.gl(-1.32), 7, cU, 3);
            U(H.gl(-1.36), 7, cU, 3);
            U(H.gl(-1.4), 7, cU, 3);
            var f = [230, 230, 230, 100];
            g(H.gl(-1.36), 2, f);
            f[3] = 3;
            U(H.gl(-.55), 10, f);
            bM = [120, 100, 10, 18];
            U(H.gl(-.55), 160, bM, 8);
            U(H.gl(-.55), 80, bM, 4);
            eu[3] = 3;
            cU[3] = 6;
            u(H.gl(-.49), 13, c(cU), -cU[3], 13, 2);
            u(H.gl(-.55), 13, c(cU), -cU[3], 13, 2);
            eu[3] = 20;
            U(H.gl(.15), 25, eu, 3);
            bM[3] = 100;
            g(H.gl(-.52), 3, bM);
            bM = [200, 200, 50, 40];
            U(H.gl(.27), 1, bM, 4);
            var h7 = [150, 40, 23, 30];
            u(H.gl(1), 80, c(h7), -h7[3], 2, 1)
        };
        return ie[b[0]]()
    };
    v.M1 = {};
    v.M1.o6 = function(w) {
        var o = w.length,
            A = w[0].length,
            Q = new Array(A);
        for (var M = 0; M < A; M++) Q[M] = new Array(o);
        for (var M = 0; M < A; M++)
            for (var K = 0; K < o; K++) Q[M][K] = w[K][M];
        return Q
    };
    v.M1.ZO = function(w, o) {
        var Q = w.length,
            A = w[0].length,
            K = new Array(Q);
        for (var M = 0; M < Q; M++) K[M] = new Array(A);
        for (var M = 0; M < Q; M++)
            for (var b = 0; b < A; b++) K[M][b] = w[M][b] - o[M][b];
        return K
    };
    v.M1.add = function(w, o) {
        var Q = w.length,
            A = w[0].length,
            K = new Array(Q);
        for (var M = 0; M < Q; M++) K[M] = new Array(A);
        for (var M = 0; M < Q; M++)
            for (var b = 0; b < A; b++) K[M][b] = w[M][b] + o[M][b];
        return K
    };
    v.M1.multiply = function(w, o) {
        var Q = w.length,
            K = w[0].length,
            A = o[0].length;
        if (K != o.length) throw "e";
        var b = new Array(Q);
        for (var M = 0; M < Q; M++) b[M] = new Array(A);
        if ((K & 1) != 0)
            for (var M = 0; M < Q; M++) {
                var R = w[M],
                    X = b[M];
                for (var h = 0; h < A; h++) {
                    var e = 0;
                    for (var Z = 0; Z < K; Z++) e += R[Z] * o[Z][h];
                    X[h] = e
                }
            } else
                for (var M = 0; M < Q; M++) {
                    var R = w[M],
                        X = b[M];
                    for (var h = 0; h < A; h++) {
                        var e = 0;
                        for (var Z = 0; Z < K; Z += 2) e += R[Z] * o[Z][h] + R[Z + 1] * o[Z + 1][h];
                        X[h] = e
                    }
                }
        return b
    };
    v.M1._n = function(w, o) {
        var Q = w.length,
            A = w[0].length,
            K = new Array(Q);
        for (var M = 0; M < Q; M++) {
            var b = 0;
            for (var R = 0; R < A; R++) b += w[M][R] * o[R];
            K[M] = b
        }
        return K
    };
    v.M1.KR = function(w, o) {
        var Q = [];
        for (var M = 0; M < w; M++) {
            Q.push([]);
            for (var K = 0; K < o; K++) Q[M].push(0)
        }
        return Q
    };
    v.M1.acP = function(w) {
        for (var M = 0; M < w.length; M++) console.log(JSON.stringify(w[M]))
    };
    v.M1.a8e = function(w) {
        var o = [];
        for (var M = 0; M < w.length; M++) o.push(w[M].join(","));
        return "[" + o.join(";") + "]"
    };
    v.M1.Ev = function(w, o) {
        var Q = w.length;
        for (var K = 0; K < Q; K++) {
            var b = 0,
                R = Number.NEGATIVE_INFINITY;
            for (var M = K; M < Q; M++)
                if (Math.abs(w[M][K]) > R) {
                    b = M;
                    R = Math.abs(w[M][K])
                } v.M1.ah_(w, K, b);
            for (var M = K + 1; M < Q; M++) {
                if (w[K][K] == 0) return 1;
                var X = w[M][K] / w[K][K];
                for (var h = K; h < Q + 1; h++) w[M][h] -= w[K][h] * X
            }
        }
        for (var M = Q - 1; M >= 0; M--) {
            if (w[M][M] == 0) return 1;
            var e = w[M][Q] / w[M][M];
            o[M] = e;
            for (var h = M - 1; h >= 0; h--) {
                w[h][Q] -= w[h][M] * e;
                w[h][M] = 0
            }
        }
        return 0
    };
    v.M1.ah_ = function(w, o, Q) {
        var K = w[o];
        w[o] = w[Q];
        w[Q] = K
    };
    v.M1.aa_ = function(w) {
        var o = w.length,
            Q = v.M1.KR(o, o);
        for (var M = 0; M < o; M++) Q[M][M] = w[M];
        return Q
    };
    v.M1.ai_ = function(w) {
        var o = w.length,
            Q = w[0].length,
            K = new Array(o);
        for (var M = 0; M < o; M++) {
            K[M] = 0;
            for (var b = 0; b < Q; b++) K[M] += w[M][b];
            K[M] /= Q
        }
        return K
    };
    v.M1.Kw = function(w) {
        var o = 0;
        for (var M = 0; M < w.length; M++) o += w[M] * w[M];
        return Math.sqrt(o)
    };
    v.AU = {};
    v.AU.B8 = function(w) {
        var o = ~~(w + .5);
        return o < 0 ? 0 : o > 255 ? 255 : o
    };
    v.AU.transform = function(w, o, Q) {
        var K = v.AU.B8,
            b = w.W.length;
        for (var M = 0; M < b; M++) {
            var R = w.W[M],
                X = w.a[M],
                h = w.k[M];
            o.W[M] = K(Q[0] * R + Q[1] * X + Q[2] * h + Q[3] * 255);
            o.a[M] = K(Q[4] * R + Q[5] * X + Q[6] * h + Q[7] * 255);
            o.k[M] = K(Q[8] * R + Q[9] * X + Q[10] * h + Q[11] * 255)
        }
    };
    v.AU.mh = function(w, o, Q) {
        var K = v.AU.B8,
            b = w.length;
        for (var M = 0; M < b; M += 4) {
            var R = w[M],
                X = w[M + 1],
                h = w[M + 2];
            o[M] = K(Q[0] * R + Q[1] * X + Q[2] * h + Q[3] * 255);
            o[M + 1] = K(Q[4] * R + Q[5] * X + Q[6] * h + Q[7] * 255);
            o[M + 2] = K(Q[8] * R + Q[9] * X + Q[10] * h + Q[11] * 255)
        }
    };
    v.AU.Dm = function(w) {
        var o = w[0] + w[1] + w[2],
            Q = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1];
        if (o == 1) {
            var K = w.indexOf(1);
            Q[K] = Q[K + 4] = Q[K + 8] = 1
        } else {
            Q[0] = w[0];
            Q[5] = w[1];
            Q[10] = w[2]
        }
        return Q
    };
    v.AU.j8 = function(w, o, Q) {
        return [1, 0, 0, w, 0, 1, 0, o, 0, 0, 1, Q, 0, 0, 0, 1]
    };
    v.AU.Of = function(w, o, Q) {
        return [w, 0, 0, 0, 0, o, 0, 0, 0, 0, Q, 0, 0, 0, 0, 1]
    };
    v.AU.ac4 = function(w) {
        return [w[0], w[1], w[2], w[4], w[5], w[6], w[8], w[9], w[10]]
    };
    v.AU.wY = function(w) {
        return [w[0], w[1], w[2], 0, w[3], w[4], w[5], 0, w[6], w[7], w[8], 0, 0, 0, 0, 1]
    };
    v.AU.kz = function(w, o) {
        return [w[0] * o[0] + w[1] * o[1] + w[2] * o[2] + w[3] * o[3], w[4] * o[0] + w[5] * o[1] + w[6] * o[2] + w[7] * o[3], w[8] * o[0] + w[9] * o[1] + w[10] * o[2] + w[11] * o[3], w[12] * o[0] + w[13] * o[1] + w[14] * o[2] + w[15] * o[3]]
    };
    v.AU.o6 = function(w) {
        var o = [];
        o[0] = w[0];
        o[1] = w[4];
        o[2] = w[8];
        o[3] = w[12];
        o[4] = w[1];
        o[5] = w[5];
        o[6] = w[9];
        o[7] = w[13];
        o[8] = w[2];
        o[9] = w[6];
        o[10] = w[10];
        o[11] = w[14];
        o[12] = w[3];
        o[13] = w[7];
        o[14] = w[11];
        o[15] = w[15];
        return o
    };
    v.AU.multiply = function(w, o) {
        var Q = [];
        Q[0] = w[0] * o[0] + w[1] * o[4] + w[2] * o[8] + w[3] * o[12];
        Q[1] = w[0] * o[1] + w[1] * o[5] + w[2] * o[9] + w[3] * o[13];
        Q[2] = w[0] * o[2] + w[1] * o[6] + w[2] * o[10] + w[3] * o[14];
        Q[3] = w[0] * o[3] + w[1] * o[7] + w[2] * o[11] + w[3] * o[15];
        Q[4] = w[4] * o[0] + w[5] * o[4] + w[6] * o[8] + w[7] * o[12];
        Q[5] = w[4] * o[1] + w[5] * o[5] + w[6] * o[9] + w[7] * o[13];
        Q[6] = w[4] * o[2] + w[5] * o[6] + w[6] * o[10] + w[7] * o[14];
        Q[7] = w[4] * o[3] + w[5] * o[7] + w[6] * o[11] + w[7] * o[15];
        Q[8] = w[8] * o[0] + w[9] * o[4] + w[10] * o[8] + w[11] * o[12];
        Q[9] = w[8] * o[1] + w[9] * o[5] + w[10] * o[9] + w[11] * o[13];
        Q[10] = w[8] * o[2] + w[9] * o[6] + w[10] * o[10] + w[11] * o[14];
        Q[11] = w[8] * o[3] + w[9] * o[7] + w[10] * o[11] + w[11] * o[15];
        Q[12] = w[12] * o[0] + w[13] * o[4] + w[14] * o[8] + w[15] * o[12];
        Q[13] = w[12] * o[1] + w[13] * o[5] + w[14] * o[9] + w[15] * o[13];
        Q[14] = w[12] * o[2] + w[13] * o[6] + w[14] * o[10] + w[15] * o[14];
        Q[15] = w[12] * o[3] + w[13] * o[7] + w[14] * o[11] + w[15] * o[15];
        return Q
    };
    v.AU.MF = function(w) {
        var o = [];
        o[0] = w[5] * w[10] * w[15] - w[5] * w[14] * w[11] - w[6] * w[9] * w[15] + w[6] * w[13] * w[11] + w[7] * w[9] * w[14] - w[7] * w[13] * w[10];
        o[1] = -w[1] * w[10] * w[15] + w[1] * w[14] * w[11] + w[2] * w[9] * w[15] - w[2] * w[13] * w[11] - w[3] * w[9] * w[14] + w[3] * w[13] * w[10];
        o[2] = w[1] * w[6] * w[15] - w[1] * w[14] * w[7] - w[2] * w[5] * w[15] + w[2] * w[13] * w[7] + w[3] * w[5] * w[14] - w[3] * w[13] * w[6];
        o[3] = -w[1] * w[6] * w[11] + w[1] * w[10] * w[7] + w[2] * w[5] * w[11] - w[2] * w[9] * w[7] - w[3] * w[5] * w[10] + w[3] * w[9] * w[6];
        o[4] = -w[4] * w[10] * w[15] + w[4] * w[14] * w[11] + w[6] * w[8] * w[15] - w[6] * w[12] * w[11] - w[7] * w[8] * w[14] + w[7] * w[12] * w[10];
        o[5] = w[0] * w[10] * w[15] - w[0] * w[14] * w[11] - w[2] * w[8] * w[15] + w[2] * w[12] * w[11] + w[3] * w[8] * w[14] - w[3] * w[12] * w[10];
        o[6] = -w[0] * w[6] * w[15] + w[0] * w[14] * w[7] + w[2] * w[4] * w[15] - w[2] * w[12] * w[7] - w[3] * w[4] * w[14] + w[3] * w[12] * w[6];
        o[7] = w[0] * w[6] * w[11] - w[0] * w[10] * w[7] - w[2] * w[4] * w[11] + w[2] * w[8] * w[7] + w[3] * w[4] * w[10] - w[3] * w[8] * w[6];
        o[8] = w[4] * w[9] * w[15] - w[4] * w[13] * w[11] - w[5] * w[8] * w[15] + w[5] * w[12] * w[11] + w[7] * w[8] * w[13] - w[7] * w[12] * w[9];
        o[9] = -w[0] * w[9] * w[15] + w[0] * w[13] * w[11] + w[1] * w[8] * w[15] - w[1] * w[12] * w[11] - w[3] * w[8] * w[13] + w[3] * w[12] * w[9];
        o[10] = w[0] * w[5] * w[15] - w[0] * w[13] * w[7] - w[1] * w[4] * w[15] + w[1] * w[12] * w[7] + w[3] * w[4] * w[13] - w[3] * w[12] * w[5];
        o[11] = -w[0] * w[5] * w[11] + w[0] * w[9] * w[7] + w[1] * w[4] * w[11] - w[1] * w[8] * w[7] - w[3] * w[4] * w[9] + w[3] * w[8] * w[5];
        o[12] = -w[4] * w[9] * w[14] + w[4] * w[13] * w[10] + w[5] * w[8] * w[14] - w[5] * w[12] * w[10] - w[6] * w[8] * w[13] + w[6] * w[12] * w[9];
        o[13] = w[0] * w[9] * w[14] - w[0] * w[13] * w[10] - w[1] * w[8] * w[14] + w[1] * w[12] * w[10] + w[2] * w[8] * w[13] - w[2] * w[12] * w[9];
        o[14] = -w[0] * w[5] * w[14] + w[0] * w[13] * w[6] + w[1] * w[4] * w[14] - w[1] * w[12] * w[6] - w[2] * w[4] * w[13] + w[2] * w[12] * w[5];
        o[15] = w[0] * w[5] * w[10] - w[0] * w[9] * w[6] - w[1] * w[4] * w[10] + w[1] * w[8] * w[6] + w[2] * w[4] * w[9] - w[2] * w[8] * w[5];
        var Q = w[0] * o[0] + w[1] * o[4] + w[2] * o[8] + w[3] * o[12];
        for (var M = 0; M < 16; M++) o[M] /= Q;
        return o
    };
    v.AU.a1L = function(w) {
        var o = [],
            Q = w[5] * w[10] * w[15] - w[5] * w[14] * w[11] - w[6] * w[9] * w[15] + w[6] * w[13] * w[11] + w[7] * w[9] * w[14] - w[7] * w[13] * w[10],
            K = -w[4] * w[10] * w[15] + w[4] * w[14] * w[11] + w[6] * w[8] * w[15] - w[6] * w[12] * w[11] - w[7] * w[8] * w[14] + w[7] * w[12] * w[10],
            b = w[4] * w[9] * w[15] - w[4] * w[13] * w[11] - w[5] * w[8] * w[15] + w[5] * w[12] * w[11] + w[7] * w[8] * w[13] - w[7] * w[12] * w[9],
            R = -w[4] * w[9] * w[14] + w[4] * w[13] * w[10] + w[5] * w[8] * w[14] - w[5] * w[12] * w[10] - w[6] * w[8] * w[13] + w[6] * w[12] * w[9];
        return w[0] * Q + w[1] * K + w[2] * b + w[3] * R
    };
    v.AU.Iz = v.AU.wY([3.1338561, -1.6168667, -.4906146, -.9787684, 1.9161415, .033454, .0719453, -.2289914, 1.4052427]);
    v.AU.abj = v.AU.wY([1.9624274, -.6105343, -.3413404, -.9787684, 1.9161415, .033454, .0286869, -.1406752, 1.3487655]);
    v.AU.a6h = v.AU.MF(v.AU.Iz);
    v.Oh = {};
    v.Oh.qs = new Uint32Array(1);
    v.Oh.s$ = function(w, o, Q, K, b, R) {
        var X = new Uint32Array(w),
            h = 0,
            e = v.Oh.qs;
        if (e.length < o * 4) v.Oh.qs = e = new Uint32Array(o * 4);
        var Z = new Float64Array(e.buffer);
        for (var M = 0; M < o; M += 2) {
            var P = b[M],
                J = b[M + 1],
                i = R[M],
                k = R[M + 1];
            e[h] = J;
            Z[h + 2 >> 1] = i;
            e[h + 1] = X[P];
            X[P] = h + 1;
            h += 4;
            e[h] = P;
            Z[h + 2 >> 1] = k;
            e[h + 1] = X[J];
            X[J] = h + 1;
            h += 4
        }
        return {
            v9: e,
            fu: Z,
            Ns: X
        }
    };
    v.Oh.Ev = function(w, o, Q, K, b, R, X) {
        var h = 1,
            e = v.Oh.s$(w, o, Q, K, b, R),
            Z = e.v9,
            P = e.fu,
            J = e.Ns,
            i = new Uint32Array(w),
            k = new v.Oh.VT(w),
            n = 1,
            S = 0;
        k.push(Q);
        k.push(K);
        var $ = new v.Oh.VT(w),
            j = new Uint8Array(w),
            y = new Uint32Array(w);
        j[Q] = 1;
        j[K] = 2;
        var V = new Uint32Array(w),
            O = new Uint32Array(w);
        O[Q] = O[K] = 0;
        V[Q] = V[K] = 1;
        while (!0) {
            var G = -1,
                I = 0,
                U = 1e30;
            while (!k.Oa() && G == -1) {
                var D = k.top(),
                    q = j[D],
                    T = J[D] - 1;
                while (T != -1) {
                    var L = Z[T],
                        N = j[L],
                        F = T ^ q - 1 << 2;
                    if (P[F + 2 >> 1] != 0) {
                        if (N == 0) {
                            v.Oh.bf(D, T, L, j, y, O, V);
                            k.push(L)
                        } else if (N == q && V[L] <= V[D] && O[L] > O[D]) v.Oh.bf(D, T, L, j, y, O, V);
                        else if (N != q) {
                            G = F
                        }
                    }
                    T = Z[T + 1] - 1
                }
                if (G != -1) break;
                k.pop()
            }
            if (G == -1) {
                break
            }
            n++;
            var s = G;
            while (s != -1) {
                i[I] = s;
                I++;
                s = y[Z[s ^ 4]] - 1
            }
            var u = I >> 1;
            for (var M = 0; M < u; M++) {
                var g = i[M];
                i[M] = i[I - M - 1];
                i[I - M - 1] = g
            }
            s = y[Z[G]] - 1;
            while (s != -1) {
                i[I] = s ^ 4;
                I++;
                s = y[Z[s ^ 4]] - 1
            }
            for (var M = 0; M < I; M++) U = Math.min(U, P[i[M] + 2 >> 1]);
            S += U;
            if (S >= X) return {
                iK: null,
                m6: S
            };
            for (var M = 0; M < I; M++) {
                var r = i[M],
                    x = r ^ 4,
                    D = Z[x],
                    L = Z[r];
                P[r + 2 >> 1] -= U;
                P[x + 2 >> 1] += U;
                if (P[r + 2 >> 1] == 0 && j[D] == j[L]) {
                    if (j[D] == 1) {
                        y[L] = 0;
                        $.push(L)
                    }
                    if (j[D] == 2) {
                        y[D] = 0;
                        $.push(D)
                    }
                }
            }
            while (!$.Oa()) {
                var D = $.pop(),
                    q = j[D],
                    T = J[D] - 1,
                    C = q == 1 ? 4 : 0,
                    p = 0,
                    l = 0,
                    c = 1e9;
                while (T != -1) {
                    var L = Z[T],
                        t = T ^ 4,
                        F = T ^ C;
                    if (j[L] == q && P[F + 2 >> 1] > 0 && v.Oh.ajp(L, Q, K, y, Z, n, V, O) + 1 < c) {
                        p = L;
                        l = t;
                        c = O[L] + 1
                    }
                    T = Z[T + 1] - 1
                }
                if (l != 0) {
                    v.Oh.bf(p, l, D, j, y, O, V);
                    continue
                }
                T = J[D] - 1;
                while (T != -1) {
                    var L = Z[T],
                        F = T ^ C;
                    if (j[L] == q) {
                        if (P[F + 2 >> 1] > 0) {
                            k.push(L)
                        }
                        if (y[L] == T + 1) {
                            y[L] = 0;
                            $.push(L)
                        }
                    }
                    T = Z[T + 1] - 1
                }
                j[D] = 0;
                k.remove(D)
            }
        }
        var H = [];
        for (var M = 0; M < o; M += 2) {
            var D = b[M],
                L = b[M + 1];
            if (j[D] == 1 && j[L] != 1) {
                H.push(M >> 1)
            }
            if (j[L] == 1 && j[D] != 1) {
                H.push(o + M >> 1)
            }
        }
        return {
            iK: H,
            m6: S
        }
    };
    v.Oh.bf = function(w, o, Q, K, b, R, X) {
        K[Q] = K[w];
        b[Q] = o + 1;
        R[Q] = R[w] + 1;
        X[Q] = X[w]
    };
    v.Oh.ajp = function(w, o, Q, K, b, R, X, h) {
        var e = w,
            Z = K[w] - 1,
            P = 0;
        while (Z != -1 && X[w] != R) {
            w = b[Z ^ 4];
            Z = K[w] - 1;
            P++
        }
        if (Z == -1 && w != o && w != Q) return 1e9;
        var J = h[w] + P;
        P = 0;
        Z = K[e] - 1;
        while (e != w) {
            h[e] = J - P;
            P++;
            X[e] = R;
            e = b[Z ^ 4];
            Z = K[e] - 1
        }
        return J
    };
    v.Oh.a1k = function(w, o, Q, K, b, R) {
        var X = v.Oh.s$(w, o, Q, K, b, R),
            h = X.v9,
            e = X.fu,
            Z = X.Ns,
            P = 0,
            J = 0,
            i = new Uint32Array(w * 2),
            k = new v.Oh.WT(w),
            $ = 0;
        while (!0) {
            k.reset();
            k.push(Q);
            for (var M = 0; M < w; M++) i[M << 1] = 0;
            while (!k.Oa()) {
                var n = k.pop(),
                    j = Z[n] - 1;
                while (j != -1) {
                    $ = h[j];
                    if (i[$ << 1] == 0 && e[j + 2 >> 1] > 0 && $ != Q) {
                        i[$ << 1] = n + 1;
                        i[($ << 1) + 1] = j;
                        k.push($)
                    }
                    j = h[j + 1] - 1
                }
                if (i[K << 1] != 0) {
                    break
                }
            }
            if (i[K << 1] == 0) {
                break
            }
            var y = 1e30;
            $ = K;
            while (!0) {
                var V = i[$ << 1] - 1;
                if (V == -1) break;
                var O = i[($ << 1) + 1];
                y = Math.min(y, e[O + 2 >> 1]);
                $ = V
            }
            $ = K;
            while (!0) {
                var V = i[$ << 1] - 1;
                if (V == -1) break;
                var O = i[($ << 1) + 1],
                    S = O ^ 4;
                e[O + 2 >> 1] -= y;
                e[S + 2 >> 1] += y;
                $ = V
            }
            P += y
        }
        var G = [];
        for (var M = 0; M < o; M += 2) {
            var V = b[M],
                $ = b[M + 1];
            if ((i[V << 1] != 0 || V == Q) && i[$ << 1] == 0 && $ != Q) {
                G.push(M >> 1)
            }
            if ((i[$ << 1] != 0 || $ == Q) && i[V << 1] == 0 && V != Q) {
                G.push(o + M >> 1)
            }
        }
        return {
            iK: G,
            m6: P
        }
    };
    v.Oh.WT = function(w) {
        w |= w >> 1;
        w |= w >> 2;
        w |= w >> 4;
        w |= w >> 8;
        w |= w >> 16;
        this.eI = new Uint32Array(w + 1);
        this.il = w;
        this.bY = 0;
        this.d0 = 0
    };
    v.Oh.WT.prototype = {
        push: function(w) {
            var o = this.d0;
            this.eI[o] = w;
            this.d0 = o + 1 & this.il
        },
        pop: function() {
            var w = this.bY,
                o = this.eI[w];
            this.bY = w + 1 & this.il;
            return o
        },
        Oa: function() {
            return this.bY == this.d0
        },
        reset: function() {
            this.bY = 0;
            this.d0 = 0
        }
    };
    v.Oh.VT = function(w) {
        w |= w >> 1;
        w |= w >> 2;
        w |= w >> 4;
        w |= w >> 8;
        w |= w >> 16;
        this.eI = new Uint32Array(w + 1);
        this.et = new Uint32Array(w + 1);
        this.il = w;
        this.bY = 0;
        this.d0 = 0
    };
    v.Oh.VT.prototype = {
        top: function() {
            return this.eI[this.bY]
        },
        a8b: function() {
            return this.eI[this.d0]
        },
        push: function(w) {
            if (this.et[w] != 0) return;
            this.et[w] = this.d0 + 1;
            var o = this.d0;
            this.eI[o] = w;
            this.d0 = o + 1 & this.il
        },
        pop: function() {
            var w = this.bY,
                o = this.eI[w];
            this.et[o] = 0;
            this.bY = w + 1 & this.il;
            return o
        },
        Oa: function() {
            return this.bY == this.d0
        },
        remove: function(w) {
            var o = this.et[w] - 1;
            if (o == -1) return;
            this.et[w] = 0;
            if (o == this.bY) {
                this.pop();
                return
            }
            var Q = this.pop();
            this.eI[o] = Q;
            this.et[Q] = o + 1
        },
        Ey: function(M) {
            return M + this.il + 1 & this.il
        }
    };
    v.Oh.KH = function(w, o, Q) {
        var K = v.Oh.oA(w, o, Q);
        if (o < K - 1) v.Oh.KH(w, o, K - 1);
        if (K < Q) v.Oh.KH(w, K, Q)
    };
    v.Oh.oA = function(w, o, Q) {
        var K = w[o + Q >>> 1];
        while (o <= Q) {
            while (w[o] < K) o++;
            while (w[Q] > K) Q--;
            if (o <= Q) {
                v.Oh.PW(w, o, Q);
                o++;
                Q--
            }
        }
        return o
    };
    v.Oh.PW = function(w, o, Q) {
        var K = w[o];
        w[o] = w[Q];
        w[Q] = K
    };
    v.Wn = {};
    v.Wn.a2T = function(w) {
        for (var M = 0; M < w.length; M++) v.Wn.uK(w, M)
    };
    v.Wn.uK = function(w, M) {
        w[M].v.keyShapeInvalidated = {
            t: "bool",
            v: !0
        }
    };
    v.Wn.a5n = function(w) {
        for (var M = 0; M < w.length; M++) w[M].v.keyOriginIndex.v = M
    };
    v.Wn.pa = function() {
        return {
            t: "Objc",
            v: {
                classID: "null",
                keyOriginIndex: {
                    t: "long",
                    v: 0
                },
                keyShapeInvalidated: {
                    t: "bool",
                    v: !0
                }
            }
        }
    };
    v.Wn._C = function(w) {
        w = w.v;
        var o = {
                Rctn: 2,
                Ln: 4,
                Elps: 5
            },
            Q = o[w.classID],
            K = w.topLeft ? v.Wn.QK(w) : null,
            b = null,
            R = 0;
        if (Q == 4) {
            var X = w.Strt.v,
                h = w.End.v;
            b = [X.Hrzn.v.val, X.Vrtc.v.val, h.Hrzn.v.val, h.Vrtc.v.val];
            R = w.Wdth.v.val
        }
        if (Q == null) return null;
        return v.Wn.HO(Q, Q == 4 ? null : v.Wn.Rk(w), K, b, R)
    };
    v.Wn.Vh = function(w, o, Q, K, b, R) {
        var X = {
            classID: w,
            unitValueQuadVersion: {
                t: "long",
                v: 1
            }
        };
        if (o) v.Wn.Mi(X, ["Left", "Top", "Rght", "Btom"], o);
        if (Q) v.Wn.Mi(X, ["topLeft", "topRight", "bottomRight", "bottomLeft"], Q);
        if (w == "Ln") {
            X.Strt = {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: K[0]
                        }
                    },
                    Vrtc: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: K[1]
                        }
                    }
                }
            }, X.End = {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: K[2]
                        }
                    },
                    Vrtc: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: K[3]
                        }
                    }
                }
            }, X.Wdth = {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: b
                }
            }
        }
        if (R) X.Nm = {
            t: "TEXT",
            v: R
        };
        return {
            t: "Objc",
            v: X
        }
    };
    v.Wn.HO = function(w, o, Q, K, b) {
        var R = v.Wn.pa(),
            X = R.v;
        delete X.keyShapeInvalidated;
        X.keyOriginType = {
            t: "long",
            v: w
        };
        X.keyOriginResolution = {
            t: "doub",
            v: 75
        };
        if (w == 4) {
            X.keyOriginLineStart = {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "doub",
                        v: K[0]
                    },
                    Vrtc: {
                        t: "doub",
                        v: K[1]
                    }
                }
            };
            X.keyOriginLineEnd = {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "doub",
                        v: K[2]
                    },
                    Vrtc: {
                        t: "doub",
                        v: K[3]
                    }
                }
            };
            o = [Math.min(K[0], K[2]), Math.min(K[1], K[3]), Math.max(K[0], K[2]), Math.max(K[1], K[3])];
            X.keyOriginLineWeight = {
                t: "doub",
                v: b
            }, X.keyOriginLineArrowSt = {
                t: "bool",
                v: !1
            };
            X.keyOriginLineArrowEnd = {
                t: "bool",
                v: !1
            };
            X.keyOriginLineArrWdth = {
                t: "doub",
                v: 0
            };
            X.keyOriginLineArrLngth = {
                t: "doub",
                v: 0
            };
            X.keyOriginLineArrConc = {
                t: "long",
                v: 0
            }
        }
        var h = {
            classID: "unitRect",
            unitValueQuadVersion: {
                t: "long",
                v: 1
            }
        };
        X.keyOriginShapeBBox = {
            t: "Objc",
            v: h
        };
        v.Wn.H2(X, o);
        if (Q != null) {
            var e = {
                classID: "radii",
                unitValueQuadVersion: {
                    t: "long",
                    v: 1
                }
            };
            X.keyOriginRRectRadii = {
                t: "Objc",
                v: e
            };
            v.Wn.FI(X, Q)
        }
        return R
    };
    v.Wn.H = function(w, o, Q, K) {
        var b = v.Q.Io(o),
            R = v.Q.yQ(o),
            X = Math.max(Math.abs(o[0]), Math.abs(o[1])),
            h = Math.max(Math.abs(o[3]), Math.abs(o[4]));
        for (var M = 0; M < w.length; M++) {
            var e = w[M].v,
                Z = e.keyShapeInvalidated;
            if (Z && Z.v || e.keyOriginType == null) continue;
            if (Q.length != 0 && Q.indexOf(M) == -1) continue;
            var P = e.keyOriginType.v;
            if (!b || !R || K && P == 2 && Math.abs(1 - X / h) > .01) {
                v.Wn.uK(w, M);
                continue
            }
            var J = v.Wn.D8(e);
            v.Q.apply(o, J);
            v.Wn.H2(e, [Math.min(J[0], J[2]), Math.min(J[1], J[3]), Math.max(J[0], J[2]), Math.max(J[1], J[3])]);
            if (P == 2) {
                var i = v.Wn.nj(e),
                    k = new dj(o[0], o[1], o[3], o[4], 0, 0);
                k.Gr();
                if (k.K == 0) {
                    i.push(i.shift());
                    k.rotate(Math.PI / 2);
                    k.Gr()
                }
                if (k.K < 0) {
                    var $ = i[0];
                    i[0] = i[1];
                    i[1] = $;
                    $ = i[2];
                    i[2] = i[3];
                    i[3] = $
                }
                if (k.TX < 0) {
                    var $ = i[0];
                    i[0] = i[3];
                    i[3] = $;
                    $ = i[1];
                    i[1] = i[2];
                    i[2] = $
                }
                if (K)
                    for (var n = 0; n < 4; n++) i[n] = i[n] * X;
                v.Wn.FI(e, i)
            }
            if (P == 4) {
                e.keyOriginLineWeight.v *= X;
                var j = v.Wn.ll(e);
                v.Q.apply(o, j);
                v.Wn.abf(e, j)
            }
        }
    };
    v.Wn.wz = function(w, o) {
        var Q = o._;
        for (var M = 0; M < w.length; M++) {
            var K = w[M].v,
                b = K.keyShapeInvalidated,
                J;
            if (b && b.v || K.keyOriginType == null) continue;
            var R = K.keyOriginType.v,
                X = v.Wn.D8(K),
                h = X[0],
                e = X[1],
                Z = X[2],
                P = X[3];
            if (R == 1) J = v.P.z_.Rect(h, e, Z - h, P - e, 0);
            else if (R == 2) {
                var i = v.Wn.nj(K);
                J = v.P.z_.Rect(h, e, Z - h, P - e, i)
            } else if (R == 4) {
                var k = v.Wn.ll(K);
                J = v.P.z_.tR(k[0], k[1], k[2], k[3], K.keyOriginLineWeight.v)
            } else if (R == 5) J = v.P.z_.eG(h, e, Z - h, P - e);
            var $ = v.P.xJ(Q, M),
                n = v.P.U2(Q, M);
            J[2].ID = Q[$].ID;
            var j = Q;
            Q = Q.slice(0, $);
            for (var y = 2; y < J.length; y++) Q.push(J[y]);
            for (var y = $ + n; y < j.length; y++) Q.push(j[y])
        }
        o._ = Q;
        o.eT = !0
    };
    v.Wn.RP = function(w) {
        var o = 1e9,
            Q = -o,
            K = 1e9,
            b = -K,
            R = null,
            X = w.a$(),
            h = X[0],
            e = X[1];
        for (var Z = 0; Z < e.length; Z++) {
            var P = h[e[Z]],
                J = P.add.vogk;
            if (J == null) continue;
            var i = P.add.vmsk.u;
            for (var k = 0; k < J.length; k++) {
                var $ = J[k].v,
                    n = $.keyShapeInvalidated;
                if (n && n.v || $.keyOriginType == null) continue;
                if (e.length == 1 && i.length != 0 && i.indexOf(k) == -1) continue;
                var j = $.keyOriginType.v;
                if (j != 4) {
                    var y = v.Wn.D8($);
                    o = Math.min(o, y[0]);
                    K = Math.min(K, y[1]);
                    Q = Math.max(Q, y[2]);
                    b = Math.max(b, y[3])
                }
                if (j == 2 && R == null) {
                    R = v.Wn.nj($)
                }
            }
        }
        return [o < Q ? [o, K, Q, b] : null, R]
    };
    v.Wn.aeA = function(w, o, Q) {
        var K = v.Wn.RP(w)[0],
            b;
        if (K) {
            var R = new dj;
            R.translate(-K[0], -K[1]);
            R.scale(1 / (K[2] - K[0]), 1 / (K[3] - K[1]));
            R.scale(o[2] - o[0], o[3] - o[1]);
            R.translate(o[0], o[1]);
            b = v.Q.k1(R)
        }
        var X = w.a$(),
            h = X[0],
            e = X[1];
        for (var Z = 0; Z < e.length; Z++) {
            var P = h[e[Z]],
                J = P.add.vogk;
            if (J == null) continue;
            var i = P.add.vmsk.u;
            for (var k = 0; k < J.length; k++) {
                var $ = J[k].v,
                    n = $.keyShapeInvalidated;
                if (n && n.v || $.keyOriginType == null) continue;
                if (e.length == 1 && i.length != 0 && i.indexOf(k) == -1) continue;
                var j = $.keyOriginType.v;
                if (j != 4 && o[0] != null) {
                    var o = v.Wn.D8($);
                    v.Q.apply(b, o);
                    v.Wn.H2($, o)
                }
                if (j == 2 && Q != null) {
                    v.Wn.FI($, Q)
                }
            }
        }
    };
    v.Wn.D8 = function(w) {
        return v.Wn.Rk(w.keyOriginShapeBBox.v)
    };
    v.Wn.Rk = function(w) {
        var o = w.Left.v.val,
            Q = w.Rght.v.val,
            K = w.Top.v.val,
            b = w.Btom.v.val;
        return [o, K, Q, b]
    };
    v.Wn.H2 = function(w, o) {
        v.Wn.Mi(w.keyOriginShapeBBox.v, ["Left", "Top", "Rght", "Btom"], o)
    };
    v.Wn.nj = function(w) {
        return v.Wn.QK(w.keyOriginRRectRadii.v)
    };
    v.Wn.QK = function(w) {
        var o = [],
            Q = ["topLeft", "topRight", "bottomRight", "bottomLeft"];
        for (var K = 0; K < 4; K++) o.push(w[Q[K]].v.val);
        return o
    };
    v.Wn.FI = function(w, o) {
        v.Wn.Mi(w.keyOriginRRectRadii.v, ["topLeft", "topRight", "bottomRight", "bottomLeft"], o)
    };
    v.Wn.Mi = function(w, o, Q) {
        for (var M = 0; M < 4; M++)
            if (Q[M] != null) w[o[M]] = {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: Q[M]
                }
            }
    };
    v.Wn.ll = function(w) {
        var o = w.keyOriginLineStart.v,
            Q = w.keyOriginLineEnd.v;
        return [o.Hrzn.v, o.Vrtc.v, Q.Hrzn.v, Q.Vrtc.v]
    };
    v.Wn.abf = function(w, o) {
        var Q = w.keyOriginLineStart.v,
            K = w.keyOriginLineEnd.v;
        Q.Hrzn.v = o[0];
        Q.Vrtc.v = o[1];
        K.Hrzn.v = o[2];
        K.Vrtc.v = o[3]
    };
    v.w = {};
    v.w.clone = function(w) {
        return {
            Y: w.Y.slice(0),
            X: w.X.slice(0)
        }
    };
    v.w.pT = function(w) {
        if (w.length < 6) return !0;
        var o = w.length - 4;
        for (var M = 0; M < o; M += 2)
            if (!v.w.Tq(w[M], w[M + 1], w[M + 2], w[M + 3], w[M + 4], w[M + 5])) return !1;
        if (!v.w.Tq(w[o], w[o + 1], w[o + 2], w[o + 3], w[0], w[1])) return !1;
        if (!v.w.Tq(w[o + 2], w[o + 3], w[0], w[1], w[2], w[3])) return !1;
        return !0
    };
    v.w.Tq = function(w, o, Q, K, b, R) {
        return (o - K) * (b - Q) + (Q - w) * (R - K) >= 0
    };
    v.w.ng = function(w) {
        var o = {},
            Q = null,
            K = 0,
            b = {
                M: 2,
                L: 2,
                Q: 4,
                C: 6
            };
        for (var M = 0; M < w.Y.length; M++) {
            var R = w.Y[M];
            if (R.charAt(0) == "#") {
                if (o[R] == null) o[R] = {
                    X: [],
                    Y: []
                };
                Q = o[R]
            } else if (R != "X") {
                Q.Y.push(R);
                var X = b[R];
                if (X == null) X = 0;
                for (var h = 0; h < X; h++) Q.X.push(w.X[K + h]);
                K += X
            }
        }
        return o
    };
    v.w.IT = function(w, o) {
        w = v.w.NB(w);
        var Q = w.X,
            K = w.Y,
            b = 0,
            R = [],
            X = null;
        for (var M = 0; M < K.length; M++) {
            var h = K[M];
            if (h == "M") {
                X = {
                    CM: b,
                    r2: 0,
                    MU: !1
                };
                R.push(X);
                b += 2
            }
            if (h == "C") {
                X.r2++;
                b += 6
            }
            if (h == "Z") {
                X.MU = !0
            }
        }
        var e = [];
        for (var M = 0; M < R.length; M++)
            if (R[M].r2 != 0) e.push(R[M]);
        R = e;
        for (var M = 0; M < R.length; M++) {
            var Z = R[M],
                P = Z.CM,
                J = P + 2 + Z.r2 * 6,
                k = 0;
            Z.oX = v.w.QT(Q, P, J);
            var i = Q[P] == Q[J - 2] && Q[P + 1] == Q[J - 1];
            for (var $ = 0; $ < Z.r2; $++) {
                var n = P + $ * 6,
                    j = n + 6;
                k += (Q[j] - Q[n]) * (Q[j + 1] + Q[n + 1])
            }
            if (Z.r2 == 2) {
                var y = function(H, gl, ie) {
                        var fk = 1 - ie;
                        return fk * fk * fk * H[gl] + 3 * fk * fk * ie * H[gl + 2] + 3 * fk * ie * ie * H[gl + 4] + ie * ie * ie * H[gl + 6]
                    },
                    V = Q[P],
                    O = Q[P + 1],
                    S = Q[P + 6],
                    G = Q[P + 7],
                    D = Q[P + 6],
                    q = Q[P + 7],
                    T = y(Q, P, .5),
                    L = y(Q, P + 1, .5),
                    N = y(Q, P + 6, .5),
                    F = y(Q, P + 7, .5);
                k = (T - V) * (L - O) + (S - T) * (G - L) + (N - S) * (F - G) + (D - N) * (q - F)
            }
            if (!i) k += (Q[P] - Q[J - 2]) * (Q[P + 1] + Q[J - 1]);
            Z.e3 = k <= 0
        }
        for (var M = 0; M < R.length - 1; M++)
            for (var n = M + 1; n < R.length; n++) {
                var I = R[M],
                    s = R[n];
                if (s.oX.Fq(I.oX)) {
                    R[M] = s;
                    R[n] = I
                }
            }
        var u = R.length == 0 ? !0 : R[0].e3,
            g = [{
                type: 6
            }, {
                type: 8,
                all: 0
            }];
        for (var M = 0; M < R.length; M++) {
            var Z = R[M],
                P = Z.CM,
                J = P + 2 + Z.r2 * 6,
                i = Q[P] == Q[J - 2] && Q[P + 1] == Q[J - 1],
                U = Z.MU || i ? 0 : 3,
                r = Z.e3 == u && !o ? 1 : 0;
            if (!o && M != 0) {
                if (R[M - 1].oX.Fq(Z.oX) && R[M - 1].e3 != Z.e3) r = 0;
                for (var n = 0; n < R.length; n++)
                    if (n != M && R[n].oX.Fq(Z.oX)) r = 0
            }
            g.push({
                type: U,
                length: Z.r2 + (i ? 0 : 1),
                ID: r,
                Ej: 2
            });
            for (var n = 0; n < Z.r2; n++) {
                var b = P + n * 6,
                    x = new fB(Q[b], Q[b + 1]),
                    C = new fB(Q[b + 2], Q[b + 3]),
                    p;
                if (n == 0) {
                    if (i) p = new fB(Q[J - 4], Q[J - 3]);
                    else p = x.clone()
                } else p = new fB(Q[b - 2], Q[b - 1]);
                g.push({
                    type: U + 2,
                    M7: p,
                    L: x,
                    WQ: C
                })
            }
            if (!i) {
                var l = new fB(Q[J - 2], Q[J - 1]);
                g.push({
                    type: U + 2,
                    M7: new fB(Q[J - 4], Q[J - 3]),
                    L: l,
                    WQ: l.clone()
                })
            }
        }
        for (var n = 0; n < g.length; n++) {
            var c = g[n];
            if (c.type > 5 || c.type == 0 || c.type == 3) continue;
            var t = c.M7.Lb(c.L) || c.WQ.Lb(c.WQ);
            if (!t) {
                var I = c.M7.x * (c.L.y - c.WQ.y) + c.L.x * (c.WQ.y - c.M7.y) + c.WQ.x * (c.M7.y - c.L.y);
                if (Math.abs(I) < 1e-6) t = !0
            }
            if (t) c.type--
        }
        return g
    };
    v.w.Si = function() {
        function w(K, b, R, X) {
            if (!X && K.WQ.Lb(K.L) && b.M7.Lb(b.L)) {
                R.X.push(b.L.x, b.L.y);
                R.Y.push("L")
            } else {
                R.X.push(K.WQ.x, K.WQ.y, b.M7.x, b.M7.y, b.L.x, b.L.y);
                R.Y.push("C")
            }
        }

        function o(K, b, M, R, X, h) {
            var e = b[M];
            K.X.push(e.L.x, e.L.y);
            K.Y.push("M");
            for (var Z = M; Z < M + R - 1; Z++) w(b[Z], b[Z + 1], K, h);
            if (!X) w(b[Z], b[M], K, h)
        }

        function Q(K, b) {
            if (b == null) b = !1;
            var R = {
                X: [],
                Y: []
            };
            for (var M = 0; M < K.length; M++) {
                if (K[M].type > 5) continue;
                var X = K[M].length;
                if (X == 0) continue;
                if (M == K.length - 1) break;
                var h = K[M].type == 3;
                o(R, K, M + 1, X, h, b);
                if (!h) R.Y.push("Z");
                M += X
            }
            return R
        }
        return Q
    }();
    v.w.a0z = function(w) {
        var o = w.X,
            Q = [],
            K, b = 0;
        for (var M = 0; M < w.Y.length; M++) {
            var R = w.Y[M];
            if (R == "C") {
                K.push(o[b++], o[b++], o[b++], o[b++], o[b++], o[b++])
            } else if (R == "Z") {} else {
                K = [];
                if (R != "M") {
                    K.push(R);
                    M++
                }
                K.push(o[b++], o[b++]);
                Q.push(K)
            }
        }
        return Q
    };
    v.w.bX = function(w, o, Q, K) {
        if (K == null) K = 1e9;
        var b = 1e9,
            R = 0;
        for (var M = 0; M < w.length; M += 2) {
            var X = o - w[M],
                h = Q - w[M + 1],
                e = X * X + h * h;
            if (e < b) {
                b = e;
                R = M >>> 1
            }
        }
        return b < K * K ? R : -1
    };
    v.w.dT = function(w, o, Q, K) {
        for (var M = 0; M < w.length; M += 2) {
            var b = w[M],
                R = w[M + 1],
                X = o[M],
                h = o[M + 1];
            Q[M] = b + (X - b) * K;
            Q[M + 1] = R + (h - R) * K
        }
    };
    v.w.H = function(w, o, Q) {
        for (var M = 0; M < w.length; M += 2) {
            var K = w[M],
                b = w[M + 1];
            Q[M] = K * o.K + b * o.Lu + o.xy;
            Q[M + 1] = K * o.k + b * o.TX + o.r6
        }
    };
    v.w.QT = function(w, o, Q) {
        if (o == null) o = 0;
        if (Q == null) Q = w.length;
        var K = 99999999999,
            b = -K,
            R = 99999999999,
            X = -R;
        for (var M = o; M < Q; M += 2) {
            var h = w[M],
                e = w[M + 1];
            K = Math.min(K, h);
            R = Math.min(R, e);
            b = Math.max(b, h);
            X = Math.max(X, e)
        }
        return new B(K, R, b - K, X - R)
    };
    v.w.OZ = function(w, o) {
        var Q = Math.max(o.x, Math.min(o.x + o.D, w.x)),
            K = Math.max(o.y, Math.min(o.y + o.j, w.y)),
            b = w.x - Q,
            R = w.y - K;
        return Math.sqrt(b * b + R * R)
    };
    v.w.ri = function(w) {
        if (w.Kx()) return new B(Math.floor(w.x), Math.floor(w.y), Math.ceil(w.D), Math.ceil(w.j));
        var o = Math.floor(w.x),
            Q = Math.ceil(w.x + w.D),
            K = Math.floor(w.y),
            b = Math.ceil(w.y + w.j);
        return new B(o, K, Q - o, b - K)
    };
    v.w.C$ = function(w) {
        return v.w.ri(v.w.QT(w))
    };
    v.w.NU = function(w) {
        var o = w.x,
            Q = w.y,
            K = w.x + w.D,
            b = w.y + w.j;
        return {
            Y: ["M", "L", "L", "L", "Z"],
            X: [o, Q, K, Q, K, b, o, b]
        }
    };
    v.w.concat = function(w, o, Q) {
        if (Q == null) Q = new dj;
        for (var M = 0; M < o.X.length; M += 2) {
            var K = o.X[M],
                b = o.X[M + 1];
            w.X.push(K * Q.K + b * Q.Lu + Q.xy);
            w.X.push(K * Q.k + b * Q.TX + Q.r6)
        }
        for (var M = 0; M < o.Y.length; M++) w.Y.push(o.Y[M])
    };
    v.w.NB = function(w) {
        var o = w.X,
            Q = [],
            K = [],
            b = 0,
            R = 0,
            X = 0,
            h = 0,
            e = 0,
            Z = 0,
            P = 0,
            J = 0,
            i = 0;
        for (var M = 0; M < w.Y.length; M++) {
            var k = w.Y[M];
            if (k == "M") {
                R = o[b];
                X = o[b + 1];
                b += 2;
                K.push(k);
                Q.push(R, X)
            } else if (k == "C") {
                h = o[b];
                e = o[b + 1];
                Z = o[b + 2];
                P = o[b + 3];
                J = o[b + 4];
                i = o[b + 5];
                b += 6;
                K.push(k);
                Q.push(h, e, Z, P, J, i);
                R = J;
                X = i
            } else if (k == "Q") {
                h = o[b];
                e = o[b + 1];
                Z = o[b + 2];
                P = o[b + 3];
                b += 4;
                var $ = h - R,
                    n = e - X,
                    j = Z - h,
                    y = P - e;
                K.push("C");
                Q.push(R + 2 / 3 * $, X + 2 / 3 * n, h + 1 / 3 * j, e + 1 / 3 * y, Z, P);
                R = Z;
                X = P
            } else if (k == "L") {
                h = o[b];
                e = o[b + 1];
                b += 2;
                var V = h - R,
                    O = e - X;
                K.push("C");
                Q.push(R, X, h, e, h, e);
                R = h;
                X = e
            } else K.push(k)
        }
        return {
            Y: K,
            X: Q
        }
    };
    v.w.a1j = function(w) {
        var o = w.X,
            Q = [],
            K = [],
            b = 0;
        for (var M = 0; M < w.Y.length; M++) {
            var R = w.Y[M];
            if (R == "Q") {
                var X = o[b - 2],
                    h = o[b - 1],
                    e = o[b],
                    Z = o[b + 1],
                    P = o[b + 2],
                    J = o[b + 3];
                b += 4;
                var i = e - X,
                    k = Z - h,
                    $ = P - e,
                    n = J - Z;
                K.push("C");
                Q.push(X + 2 / 3 * i, h + 2 / 3 * k, e + 1 / 3 * $, Z + 1 / 3 * n, P, J)
            } else {
                var j = 0;
                if (R == "M" || R == "L") j = 2;
                else if (R == "C") j = 6;
                for (var y = 0; y < j; y++) Q.push(o[b + y]);
                b += j;
                K.push(R)
            }
        }
        return {
            Y: K,
            X: Q
        }
    };
    v.w.bR = function(w, o) {
        var Q = w.X,
            K = [],
            b = [],
            R = 0,
            X = 0,
            h = 0,
            e = 0,
            Z = 0,
            P = 0,
            J = 0,
            i = 0,
            k = 0;
        for (var M = 0; M < w.Y.length; M++) {
            var $ = w.Y[M];
            if ($ == "M") {
                X = Q[R];
                h = Q[R + 1];
                R += 2;
                b.push($);
                K.push(X, h)
            } else if ($ == "C") {
                e = Q[R];
                Z = Q[R + 1];
                P = Q[R + 2];
                J = Q[R + 3];
                i = Q[R + 4];
                k = Q[R + 5];
                R += 6;
                v.w.dv(X, h, e, Z, P, J, i, k, o, b, K, 0);
                X = i;
                h = k
            } else b.push($)
        }
        return {
            Y: b,
            X: K
        }
    };
    v.w.dv = function(w, o, Q, K, b, R, X, h, e, Z, P, J) {
        var i = Math.sqrt((X - w) * (X - w) + (h - o) * (h - o)),
            k = Math.sqrt((X - b) * (X - b) + (h - R) * (h - R)) + Math.sqrt((b - Q) * (b - Q) + (R - K) * (R - K)) + Math.sqrt((Q - w) * (Q - w) + (K - o) * (K - o)),
            $ = (i + k) / 2;
        if ($ <= e) {
            Z.push("C");
            P.push(Q, K, b, R, X, h)
        } else {
            var n = 0,
                j = 0,
                y = 0,
                V = 0,
                O = 0,
                S = 0,
                G = 0,
                D = 0,
                q = 0,
                T = 0,
                L = 0,
                N = 0,
                F = 0;
            j = (w + Q) / 2;
            y = (o + K) / 2;
            V = (Q + b) / 2;
            O = (K + R) / 2;
            S = (b + X) / 2;
            G = (R + h) / 2;
            D = (j + V) / 2;
            q = (y + O) / 2;
            T = (V + S) / 2;
            L = (O + G) / 2;
            N = (D + T) / 2;
            F = (q + L) / 2;
            v.w.dv(w, o, j, y, D, q, N, F, e, Z, P, J + 1);
            v.w.dv(N, F, T, L, S, G, X, h, e, Z, P, J + 1)
        }
    };
    v.w.Ln = function(w, o) {
        var Q = w.length - 2,
            K = w[0],
            b = w[1],
            R = w[Q],
            X = w[Q + 1],
            h = R - K,
            e = X - b,
            Z = 1 / Math.sqrt(h * h + e * e),
            P = R * b - X * K,
            J = -1,
            i = -1;
        for (var M = 2; M < Q; M += 2) {
            var k = w[M],
                $ = w[M + 1],
                n = Math.abs(e * k - h * $ + P) * Z;
            if (n > i) {
                i = n;
                J = M
            }
        }
        if (i < o) return [K, b, R, X];
        var j = v.w.Ln(w.slice(0, J + 2), o),
            y = v.w.Ln(w.slice(J), o);
        for (var M = 2; M < y.length; M++) j.push(y[M]);
        return j
    };
    v.w.agK = function() {
        var w = function(K, b, R, X, h, e) {
                return (b - X) * (h - R) + (R - K) * (e - X) >= 0
            },
            o = function(K, b, R, X, h, e, Z, P) {
                var J = Z - R,
                    i = P - X,
                    k = h - R,
                    $ = e - X,
                    n = K - R,
                    j = b - X,
                    y = J * J + i * i,
                    V = J * k + i * $,
                    O = J * n + i * j,
                    S = k * k + $ * $,
                    G = k * n + $ * j,
                    D = 1 / (y * S - V * V),
                    q = (S * O - V * G) * D,
                    T = (y * G - V * O) * D;
                return q >= 0 && T >= 0 && q + T < 1
            },
            Q = function(K) {
                var A = K.length >>> 1,
                    M = 0;
                if (A < 3) return [];
                var b = [],
                    R = [];
                for (var M = 0; M < A; M++) R.push(M);
                var X = A;
                while (X > 3) {
                    var h = R[(M + 0) % X],
                        e = R[(M + 1) % X],
                        Z = R[(M + 2) % X],
                        P = K[2 * h],
                        J = K[2 * h + 1],
                        i = K[2 * e],
                        k = K[2 * e + 1],
                        $ = K[2 * Z],
                        n = K[2 * Z + 1],
                        j = !1;
                    if (w(P, J, i, k, $, n)) {
                        j = !0;
                        for (var y = 0; y < X; y++) {
                            var V = R[y];
                            if (V == h || V == e || V == Z) continue;
                            if (o(K[2 * V], K[2 * V + 1], P, J, i, k, $, n)) {
                                j = !1;
                                break
                            }
                        }
                    }
                    if (j) {
                        b.push(h, e, Z);
                        R.splice((M + 1) % X, 1);
                        X--;
                        M = 0
                    } else if (M++ > 3 * X) break
                }
                b.push(R[0], R[1], R[2]);
                return b
            };
        return Q
    }();
    v.w.adT = function(w, o) {
        var Q = {},
            K = {
                Y: [],
                X: []
            };
        for (var M = 0; M < o.length; M += 3) {
            var b = o[M] * 2,
                R = o[M + 1] * 2,
                X = o[M + 2] * 2;
            v.w.Se(w, b, R, K, Q);
            v.w.Se(w, b, X, K, Q);
            v.w.Se(w, R, X, K, Q)
        }
        return K
    };
    v.w.Se = function(w, o, Q, K, b) {
        if (o > Q) {
            var R = Q;
            Q = o;
            o = R
        }
        if (b[o + "," + Q]) return;
        b[o + "," + Q] = !0;
        K.Y.push("M", "L");
        K.X.push(w[o], w[o + 1], w[Q], w[Q + 1])
    };
    v.w.I1 = function(w, o) {
        var Q = [],
            K = w.length;
        for (var M = 0; M < K; M += 2) {
            var b = w[M],
                R = w[M + 1],
                X = w[(M + 2) % K],
                h = w[(M + 3) % K];
            if (h < R) {
                var e = R;
                R = h;
                h = e
            }
            if (R < o && o < h) {
                var Z = (o - R) / (h - R);
                Q.push(b + Z * (X - b))
            }
        }
        Q.sort(function(P, J) {
            return P - J
        });
        return Q
    };
    v.w.afu = function(w, o) {
        var Q = o.slice(0),
            A = w.length / 2,
            K = [],
            b = [];
        for (var M = 0; M < A; M++) {
            var R = (M + 1) % A,
                X = w[2 * M] - w[2 * R],
                h = w[2 * M + 1] - w[2 * R + 1];
            b[M] = Math.sqrt(X * X + h * h)
        }
        for (var M = 0; M < A; M++) {
            var e = (M - 1 + A) % A,
                R = (M + 1) % A,
                Z = o[M],
                P = Z + o[e],
                J = Z + o[R];
            if (P != 0) Q[M] = Math.min(Q[M], b[e] * Z / P);
            if (J != 0) Q[M] = Math.min(Q[M], b[M] * Z / J)
        }
        for (var M = 0; M < A; M++) {
            var R = (M + 1) % A,
                i = (M + 2) % A,
                k = Q[M],
                $ = Q[R],
                n = w[2 * M],
                j = w[2 * M + 1],
                y = w[2 * R],
                V = w[2 * R + 1],
                O = w[2 * i],
                S = w[2 * i + 1],
                G = b[M],
                D = b[R],
                q = v.w.a5j(n, j, y, V, O, S, k, $, G, D);
            K.push(q[0], q[1], q[0], q[1], q[2], q[3]);
            K.push(q[2], q[3], q[4], q[5], q[6], q[7])
        }
        return K
    };
    v.w.a5j = function(w, o, Q, K, b, R, X, h, e, Z) {
        if (e == null) e = Math.sqrt((Q - w) * (Q - w) + (K - o) * (K - o));
        if (Z == null) Z = Math.sqrt((b - Q) * (b - Q) + (R - K) * (R - K));
        var P = .553,
            J = 0,
            i = 0,
            k = 0,
            $ = 0;
        if (e != 0) {
            J = (Q - w) / e;
            i = (K - o) / e
        }
        if (Z != 0) {
            k = (b - Q) / Z;
            $ = (R - K) / Z
        }
        var n = w + X * J,
            j = o + X * i,
            y = Q - h * J,
            V = K - h * i;
        return [n, j, y, V, Q - h * J * (1 - P), K - h * i * (1 - P), Q + h * k * (1 - P), K + h * $ * (1 - P), Q + h * k, K + h * $]
    };
    v.w.nO = function(w, o, Q, K, b, R, X) {
        var h = w - Q,
            e = o - K,
            Z = b - Q,
            P = R - K,
            J = 1 / Math.sqrt(h * h + e * e),
            i = 1 / Math.sqrt(Z * Z + P * P),
            k = h * J,
            $ = e * J,
            n = Z * i,
            j = P * i,
            y = $ * X,
            V = -k * X,
            O = -j * X,
            S = n * X,
            G = v.w.kh(y, V, k, $, O, S, n, j),
            D = y + k * G,
            q = V + $ * G,
            G = v.w.kh(0, 0, k, $, D, q, -$, k),
            T = k * G,
            L = $ * G;
        return [Math.sqrt(T * T + L * L), k, $, n, j]
    };
    v.w.Kk = function(w, o, Q, K, b, R, X) {
        var h = v.w.nO(w, o, Q, K, b, R, X),
            e = h[0],
            Z = h[1],
            P = h[2],
            J = h[3],
            i = h[4],
            k = Math.atan2(Z * i - P * J, Z * J + P * i);
        if (k < 0) {
            k = k * -1
        }
        var $ = Math.PI - k,
            n = 4 / 3 * Math.tan($ / 4),
            j = Q + e * Z,
            y = K + e * P,
            V = Q + e * J,
            O = K + e * i,
            S = j + n * X * -Z,
            G = y + n * X * -P,
            D = V + n * X * -J,
            q = O + n * X * -i;
        return [0, 0, j, y, S, G, D, q, V, O]
    };
    v.w.kh = function(w, o, Q, K, b, R, X, h) {
        var e = X * (o - R) - h * (w - b),
            Z = h * Q - X * K;
        if (Z == 0) return 0;
        return e / Z
    };
    v.w.Kk(0, 50, 0, 0, 30, 30, 10);
    v.M_ = function() {};
    v.M_.ur = function(w, o, Q, K, b) {
        var R = Q.D,
            X = Q.j,
            h = R * X,
            e = new Int32Array(h),
            A = 0;
        for (var M = 0; M < h; M++)
            if (o[M] != 0) {
                e[M] = A;
                A++
            } else if (w[(M << 2) + 3] < 200) {
            e[M] = -2
        } else e[M] = -1;
        if (A == 0) return;
        var Z = new v.Fl(A, A),
            P = new Array(3 * A),
            J = new Array(3 * A);
        for (var M = 0; M < J.length; M++) J[M] = P[M] = 0;
        var i = 1 / 255,
            k = [-R, -1, 1, R],
            $ = [],
            n = [];
        for (var j = 0; j < X; j++)
            for (var y = 0; y < R; y++) {
                var V = j * R + y,
                    O = V << 2,
                    M = e[V],
                    S = M * 3,
                    G = 0,
                    D = 0,
                    q = 0;
                if (M == -1 || M == -2) continue;
                for (var T = 0; T < 4; T++) {
                    if (T == 2) {
                        D = q;
                        $[q] = 0;
                        n[q] = M;
                        q++
                    }
                    var L = V + k[T],
                        N = L << 2,
                        F = e[L];
                    if (T == 0 && j == 0 || T == 1 && y == 0 || T == 2 && y == R - 1 || T == 3 && j == X - 1 || F == -2) continue;
                    G++;
                    if (F == -1) {
                        P[S + 0] += w[N + 0];
                        P[S + 1] += w[N + 1];
                        P[S + 2] += w[N + 2]
                    } else {
                        $[q] = -1;
                        n[q] = F;
                        q++;
                        if (o[V] == o[L]) {
                            P[S + 0] += w[O + 0] - w[N + 0];
                            P[S + 1] += w[O + 1] - w[N + 1];
                            P[S + 2] += w[O + 2] - w[N + 2]
                        }
                    }
                }
                $[D] = G;
                Z.av($, n, q)
            }
        for (var M = 0; M < h; M++)
            if (e[M] != -1) {
                var I = M << 2,
                    s = e[M],
                    u = s * 3;
                J[u] = w[I + 0];
                J[u + 1] = w[I + 1];
                J[u + 2] = w[I + 2]
            } var g = Date.now();
        Z.a66(J, P, K, b);
        console.log(Date.now() - g);
        for (var M = 0; M < h; M++) {
            var s = e[M],
                U = s * 3,
                I = M << 2;
            if (s == -1 || w[I + 3] != 255) continue;
            w[I + 0] = ~~(.5 + Math.max(0, Math.min(255, J[U + 0])));
            w[I + 1] = ~~(.5 + Math.max(0, Math.min(255, J[U + 1])));
            w[I + 2] = ~~(.5 + Math.max(0, Math.min(255, J[U + 2])))
        }
    };
    v.rect = {};
    v.rect.Hi = function(w, o) {
        var Q = [w],
            K = [];
        for (var M = 0; M < o.length; M++) {
            var b = o[M],
                R = !1;
            for (var X = M + 1; X < o.length; X++) {
                var h = o[X];
                if (h[0] <= b[0] && h[1] <= b[1] && b[2] <= h[2] && b[3] <= h[3]) {
                    R = !0;
                    break
                }
            }
            if (!R) K.push(b)
        }
        o = K;
        for (var M = 0; M < o.length; M++) {
            var b = o[M];
            for (var X = 0; X < Q.length; X++) {
                var h = Q[X],
                    e = Math.max(b[0], h[0]),
                    Z = Math.min(b[2], h[2]),
                    P = Math.max(b[1], h[1]),
                    J = Math.min(b[3], h[3]);
                if (e < Z && P < J) {
                    var i = [];
                    if (h[1] < b[1]) {
                        var k = h.slice(0);
                        k[3] = b[1];
                        i.push(k)
                    }
                    if (h[0] < b[0]) {
                        var $ = h.slice(0);
                        $[1] = P;
                        $[2] = b[0];
                        i.push($)
                    }
                    if (b[2] < h[2]) {
                        var n = h.slice(0);
                        n[1] = P;
                        n[0] = b[2];
                        i.push(n)
                    }
                    if (b[3] < h[3]) {
                        var j = [e, J, Z, h[3]];
                        i.push(j)
                    }
                    if (i.length != 0) {
                        Q[X] = i[0];
                        for (var y = 1; y < i.length; y++) Q.push(i[y])
                    }
                }
            }
            Q.push(b);
            Q = v.rect.adu(Q)
        }
        Q.sort(function(b, h) {
            return b[1] != h[1] ? b[1] - h[1] : b[0] - h[0]
        });
        return Q
    };
    v.rect.adu = function(w) {
        w = w.slice(0);
        for (var M = 0; M < w.length; M++) {
            var o = w[M],
                Q = null;
            if (o[4] != null) continue;
            for (var K = 0; K < w.length; K++) {
                var b = w[K];
                if (M == K || b[4] != null) continue;
                var R = o[0] == b[0],
                    X = o[1] == b[1],
                    h = o[2] == b[2],
                    e = o[3] == b[3];
                if (X && e && (o[2] == b[0] || o[0] == b[2])) {
                    Q = [Math.min(o[0], b[0]), o[1], Math.max(o[2], b[2]), o[3]]
                }
                if (R && h && (o[3] == b[1] || o[1] == b[3])) {
                    Q = [o[0], Math.min(o[1], b[1]), o[2], Math.max(o[3], b[3])]
                }
                if (Q) {
                    w[M] = Q;
                    w.splice(K, 1);
                    break
                }
            }
            if (Q) {
                M--
            }
        }
        return w
    };
    v.rect.r_ = function(w) {
        var o = new B;
        for (var M = 0; M < w.length; M++) o = o.OX(w[M]);
        return o
    };
    v.rect.a9I = function(w, o) {
        var Q = v.rect.r_,
            K = new UnionFind(w.length),
            D = 1e3,
            q = 1e3;
        for (var M = 0; M < w.length; M++)
            for (var b = M + 1; b < w.length; b++) {
                if (!o) continue;
                var R = w[M],
                    X = w[b],
                    J = 1e9,
                    i = 1e9;
                if (R.Ic(X)) {
                    K.link(M, b);
                    continue
                }
                var h = R.x + R.D,
                    e = R.y + R.j,
                    Z = X.x + X.D,
                    P = X.y + X.j;
                if ((h < X.x || Z < R.x) && (e < X.y || P < R.y)) continue;
                if (!(e < X.y || P < R.y)) J = Math.min(Math.abs(h - X.x), Math.abs(R.x - Z));
                if (!(h < X.x || Z < R.x)) i = Math.min(Math.abs(e - X.y), Math.abs(R.y - P));
                var k = Math.min(J, i),
                    $ = Math.min(R.D, R.j, X.D, X.j);
                if (k < .3 * $) K.link(M, b)
            }
        var n = [],
            j = {};
        for (var M = 0; M < w.length; M++) {
            var y = K.find(M),
                V = w[M];
            if (j[y] == null) {
                j[y] = n.length;
                n.push([])
            }
            n[j[y]].push(V)
        }
        var O = [],
            S = [];
        for (var M = 0; M < n.length; M++) {
            O.push(Q(n[M]));
            var G = Q(n[M]);
            G.Ey = M;
            S.push(G)
        }
        S.sort(function(r, x) {
            return Math.max(x.j, x.D) - Math.max(r.j, r.D)
        });
        var T = new NETXUS.RectanglePacker(D, q);
        while (!0) {
            var L = !1;
            T.reset(D, q);
            for (var M = 0; M < S.length; M++) {
                var N = T.findCoords(S[M].D, S[M].j);
                if (N) {
                    S[M].x = N.x;
                    S[M].y = N.y
                } else {
                    D = Math.floor(D * 1.1);
                    q = Math.floor(q * 1.1);
                    L = !0;
                    break
                }
            }
            if (L) continue;
            break
        }
        for (var M = 0; M < n.length; M++) {
            var F = S[M],
                I = F.Ey,
                s = O[I],
                u = n[I],
                g = F.x - s.x,
                U = F.y - s.y;
            for (var b = 0; b < u.length; b++) u[b].offset(g, U)
        }
    };
    v.JU = function() {};
    v.JU.bk = Math.floor(16 * window.devicePixelRatio);
    v.JU.Qp = {};
    v.JU.r4 = 0;
    v.JU.j0 = [
        [12, 76, 2],
        [12, 76, 3],
        [12, 76, 4],
        [12, 76, 5],
        [12, 76, 6]
    ];
    v.JU.ahb = ["px", "in", "cm", "mm", "%"];
    v.JU.cr = function(w, o, Q) {
        var K = o.cK,
            b = [1, K, K / 2.54, K / 25.4, o.D / 100][Q];
        return w * b
    };
    v.JU.IH = function(w, o, Q, K, b) {
        var R = Q.w1.D5,
            X = [1, o, o / 2.54, o / 25.4, K / 100][R],
            h = [2, 3, 2, 1, 2][R];
        w = w / X;
        var e = Math.round(w),
            Z = R == 0 && Math.abs(w - e) < 1e-6 ? e + "" : w.toFixed(h);
        if (b) Z += " " + v.JU.ahb[R];
        return Z
    };
    v.JU.ado = function(w, o, Q, K) {
        var b = Q.w1.D5,
            R = [1, o, o / 2.54, o / 25.4, K / 100][b];
        w = parseFloat(w) * R;
        return w
    };
    v.JU.a07 = function(w, o) {
        var Q = Math.round(v.JU.bk * .5);
        v.JU.r4 = Q;
        var K = document.createElement("canvas");
        K.width = K.height = Q;
        var b = K.getContext("2d");
        b.font = Q * 1.5 + "px monospace";
        var R = "0 1 2 3 4 5 6 7 8 9 -".split(" ");
        for (var M = 0; M < R.length; M++) {
            b.fillStyle = "#" + v.u9(o);
            b.fillRect(0, 0, Q, Q);
            b.fillStyle = "#" + v.u9(w);
            b.fillText(R[M], 0, Q);
            v.JU.Qp[R[M]] = b.getImageData(0, 0, Q, Q).data
        }
    };
    v.JU.a5t = function(w, o, Q) {
        var K = 0,
            b = 0,
            R = 4 * v.JU.bk;
        for (var M = 9; M >= 0; M--) {
            var X = Math.pow(10, M);
            if (5 * X * w <= R) {
                K = 5 * X;
                b = 10;
                break
            }
            if (2 * X * w <= R) {
                K = 2 * X;
                b = 4;
                break
            }
            if (1 * X * w <= R) {
                K = 1 * X;
                b = 10;
                break
            }
        }
        if (K == 0) {
            K = 1;
            b = 10
        }
        var h = Math.ceil(K * w),
            e = v.$(h * v.JU.bk * 4);
        v.Fw(e, 4278190080 | Q);
        for (var M = 0; M < v.JU.bk; M++) v.JU.Ak(e, 4 * M * h, o);
        for (var M = 0; M < h; M++) v.JU.Ak(e, 4 * ((v.JU.bk - 1) * h + M), o);
        if (K == 2) b = 2;
        if (K == 5) b = 5;
        if (K > 1 || K == 1 && h > 20)
            for (var M = 1; M < b; M++) v.JU.alL(e, M * (h / b), h, (M & 1) == 1 ? .8 : .7, o);
        return {
            Cm: e,
            step: K
        }
    };
    v.JU.alL = function(w, o, Q, K, b) {
        var o = Math.round(o);
        for (var R = Math.round(v.JU.bk * K); R < v.JU.bk - 1; R++) v.JU.Ak(w, 4 * (R * Q + o), b)
    };
    v.JU.Ak = function(w, o, Q) {
        w[o + 0] = Q >> 16 & 255;
        w[o + 1] = Q >> 8 & 255;
        w[o + 2] = Q & 255
    };
    v.JU.anq = function(w, o, Q) {
        var K = o & 255,
            b = o >> 8 & 255,
            R = o >> 16 & 255,
            y, V, O, S;
        o = Math.round(K * .6) << 16 | Math.round(b * .6) << 8 | Math.round(R * .6);
        v.JU.a07(Math.round(K * .8) << 16 | Math.round(b * .8) << 8 | Math.round(R * .8), Q);
        var X = this.a5t(w.I, o, Q),
            h = w.WD(0, 0),
            e = w.WD(w.yG.D, w.yG.j),
            Z = Math.floor(h.x / X.step) * X.step,
            P = Math.ceil(e.x / X.step) * X.step,
            J = Math.floor(h.y / X.step) * X.step,
            i = Math.ceil(e.y / X.step) * X.step,
            k = w.BT(Z, J),
            $ = w.BT(P, J),
            n = X.step * w.I,
            j = Math.ceil(n);
        y = w.S9.data;
        V = new B(0, 0, w.yG.D, v.JU.bk);
        O = new B(0, 0, j, v.JU.bk);
        S = new B(0, Math.round(v.JU.bk * .08), v.JU.r4, v.JU.r4);
        for (var M = 0; M < (P - Z) / X.step; M++) {
            O.x = Math.round(k.x + M * n);
            v.c1(X.Cm, O, y, V, O);
            var G = (Z + M * X.step).toString(10);
            for (var D = 0; D < G.length; D++) {
                S.x = O.x + 3 + D * Math.round(v.JU.r4 * .8);
                var q = v.JU.Qp[G[D]];
                v.c1(q, S, y, V, S)
            }
        }
        var T = new Uint32Array(X.Cm.buffer),
            L = new Uint32Array(X.Cm.length);
        for (var N = 0; N < j; N++)
            for (var F = 0; F < v.JU.bk; F++) {
                L[N * v.JU.bk + F] = T[F * j + N]
            }
        X.Cm = new Uint8Array(L.buffer);
        y = w.q0.data;
        V = new B(0, 0, v.JU.bk, w.yG.j);
        O = new B(0, 0, v.JU.bk, j);
        S = new B(Math.round(v.JU.bk * .2), 0, v.JU.r4, v.JU.r4);
        for (var M = 0; M < (i - J) / X.step; M++) {
            O.y = Math.round(k.y + M * n);
            v.c1(X.Cm, O, y, V, O);
            var G = Math.abs(J + M * X.step).toString(10);
            for (var D = 0; D < G.length; D++) {
                S.y = O.y + 3 + D * Math.round(v.JU.r4 * 1.15);
                var q = v.JU.Qp[G[D]];
                v.c1(q, S, y, V, S)
            }
        }
    };
    v.scale = {};
    v.scale.Q8 = document.createElement("canvas");
    v.scale.H3 = v.scale.Q8.getContext("2d");
    v.scale.a0a = document.createElement("canvas");
    v.scale.ajE = v.scale.a0a.getContext("2d");
    v.scale.wd = function(w, o, Q) {
        var K = v.scale.Q8,
            b = v.scale.H3;
        K.width = o;
        K.height = Q;
        var R = new ImageData(new Uint8ClampedArray(w.buffer), o, Q);
        b.putImageData(R, 0, 0);
        return b.createPattern(K, "repeat")
    };
    v.scale.a4E = function(w, o, Q, K, b, R, X, h) {
        var e = v.scale.jC(w, Q, K, b, R, X, h);
        v.yn(e.data, o)
    };
    v.scale.ams = function(w, o, Q, K, b, R, X, h) {
        var e = v.scale.jC(w, Q, K, b, R, X, h);
        v.gb(e.data, o)
    };
    v.scale.jC = function(w, o, Q, K, b, R, X) {
        var h = v.scale.Q8,
            e = v.scale.H3;
        h.width = o;
        h.height = Q;
        e.rect(0, 0, o, Q);
        e.translate(R, X);
        e.scale(K, b);
        e.fillStyle = w;
        e.fill();
        return e.getImageData(0, 0, o, Q)
    };
    v.scale.H = function(w, o, Q, K, b) {
        var R = Q.clone();
        R.MF();
        var X = b.D,
            h = b.j,
            e = v.w.NU(o).X;
        v.w.H(e, R, e);
        var Z = v.w.C$(e).z2(b),
            P = Z.x,
            J = Z.y,
            i = P + Z.D,
            k = J + Z.j,
            $ = ~~o.x,
            n = ~~o.y,
            j = ~~o.D,
            y = ~~o.j;
        for (var V = J; V < k; V++)
            for (var O = P; O < i; O++) {
                var S = O + .5,
                    G = V + .5,
                    D = Q.K * S + Q.Lu * G + Q.xy - $,
                    q = Q.k * S + Q.TX * G + Q.r6 - n;
                if (0 <= D && 0 <= q && D < j && q < y) K[V * X + O] = w[~~q * j + ~~D]
            }
    };
    v.scale.a7c = function(w, o, Q, K, b) {
        var R = new Uint32Array(w.buffer),
            X = new Uint32Array(K.buffer),
            h = Q.clone();
        h.MF();
        var e = b.D,
            Z = b.j,
            P = v.w.NU(o).X;
        v.w.H(P, h, P);
        var J = v.w.C$(P).z2(b),
            i = J.x,
            k = J.y,
            $ = i + J.D,
            n = k + J.j,
            j = ~~o.x,
            y = ~~o.y,
            V = ~~o.D,
            O = ~~o.j;
        for (var S = k; S < n; S++)
            for (var G = i; G < $; G++) {
                var D = G + .5,
                    q = S + .5,
                    T = Q.K * D + Q.Lu * q + Q.xy - j,
                    L = Q.k * D + Q.TX * q + Q.r6 - y;
                if (0 <= T && 0 <= L && T < V && L < O) X[S * e + G] = R[~~L * V + ~~T]
            }
    };
    v.scale.JA = function(w, o, Q, K, b, R, X) {
        if (X < 1) v.scale.any(w, o, Q, K, b, R, Math.round(1 / X));
        else v.scale.a2m(w, o, Q, K, b, R, X)
    };
    v.scale.QA = function(w, o, Q, K, b, R, X, h) {
        if (h) h = h.z2(new B(0, 0, o, Q));
        w = new Uint32Array(w.buffer);
        K = new Uint32Array(K.buffer);
        if (X < 1) v.scale.abq(w, o, Q, K, b, R, Math.round(1 / X), h);
        else v.scale.a9E(w, o, Q, K, b, R, X)
    };
    v.scale.a2m = function(w, o, Q, K, b, R, X) {
        for (var h = 0; h < Q; h++)
            for (var e = 0; e < o; e++) {
                var Z = w[h * o + e],
                    P = Math.min(X, b - e * X),
                    J = Math.min(X, R - h * X);
                for (var M = 0; M < J; M++)
                    for (var i = 0; i < P; i++) K[(X * h + M) * b + X * e + i] = Z
            }
    };
    v.scale.any = function(w, o, Q, K, b, R, X) {
        for (var h = 0; h < R; h++)
            for (var e = 0; e < b; e++) {
                var Z = 0,
                    P = Math.min(X, o - e * X),
                    J = Math.min(X, Q - h * X);
                for (var M = 0; M < J; M++)
                    for (var i = 0; i < P; i++) Z += w[(X * h + M) * o + (X * e + i)];
                K[h * b + e] = Math.round(Z / (P * J))
            }
    };
    v.scale.a9E = function(w, o, Q, K, b, R, X) {
        for (var h = 0; h < Q; h++)
            for (var e = 0; e < o; e++) {
                var Z = w[h * o + e],
                    P = Math.min(X, b - e * X),
                    J = Math.min(X, R - h * X);
                for (var M = 0; M < J; M++)
                    for (var i = 0; i < P; i++) K[(X * h + M) * b + X * e + i] = Z
            }
    };
    v.scale.abq = function(w, o, Q, K, b, R, X, h) {
        var e = 0,
            Z = b,
            P = 0,
            J = R;
        if (h) {
            e = Math.floor(h.x / X);
            Z = Math.ceil((h.x + h.D) / X);
            P = Math.floor(h.y / X);
            J = Math.ceil((h.y + h.j) / X)
        }
        for (var i = P; i < J; i++)
            for (var k = e; k < Z; k++) {
                var $ = 0,
                    n = 0,
                    j = 0,
                    y = 0,
                    V = Math.min(X, o - k * X),
                    O = Math.min(X, Q - i * X);
                for (var M = 0; M < O; M++)
                    for (var S = 0; S < V; S++) {
                        var G = w[(X * i + M) * o + X * k + S],
                            D = G >>> 24;
                        $ += D;
                        n += D * (G >>> 16 & 255);
                        j += D * (G >>> 8 & 255);
                        y += D * (G & 255)
                    }
                if ($ != 0) {
                    var q = 1 / $;
                    K[i * b + k] = $ / (V * O) << 24 | n * q << 16 | j * q << 8 | y * q
                } else K[i * b + k] = 0
            }
    };
    v.o = {};
    v.o.ace = function(w, o, Q) {
        var K = 128,
            M = 0,
            b = Q.D,
            R = Q.j;
        for (var X = 0; X < R; X++)
            for (var h = 0; h < b; h++) {
                if (w[M] >= K && (h == 0 || w[M - 1] < K || (h == b - 1 || w[M + 1] < K) || (X == 0 || w[M - b] < K) || (X == R - 1 || w[M + b] < K))) o[M] = 255;
                M++
            }
    };
    v.o.ag3 = function(w, o, Q, K) {
        var b = new Uint32Array([4278190080, 4294967295]),
            R = Q.D,
            X = Q.j,
            h = 0,
            e = 0,
            Z = R,
            P = X;
        if (K) {
            h = K.x - Q.x;
            e = K.y - Q.y;
            Z = h + K.D;
            P = e + K.j
        }
        var J = new Uint8Array(o.buffer),
            i = new Uint32Array(o.buffer);
        for (var k = e; k < P; k++)
            for (var $ = h; $ < Z; $++) {
                var M = k * R + $;
                if ((w[M] & 128) != 0 && (k == 0 || (w[M - R] & 128) == 0 || $ == 0 || (w[M - 1] & 128) == 0 || $ == R - 1 || (w[M + 1] & 128) == 0 || k == X - 1 || (w[M + R] & 128) == 0)) {
                    i[M] = b[($ + k & 4) >>> 2]
                }
            }
    };
    v.o.abr = function(w, o, Q, K, b, R) {
        var X = Q.D,
            h = Q.j,
            e = 0,
            Z = 0,
            P = X,
            J = h;
        if (K) {
            e = K.x - Q.x;
            Z = K.y - Q.y;
            P = e + K.D;
            J = Z + K.j
        }
        var i = new Uint8Array(o.buffer),
            k = new Uint32Array(o.buffer);
        for (var $ = Z; $ < J; $++)
            for (var n = e; n < P; n++) {
                var M = $ * X + n,
                    j = w[M];
                if (b == 1) k[M] = 255 - j >>> 1 << 24 | 255;
                else k[M] = 255 << 24 | (j << 16 | j << 8 | j)
            }
    };
    v.MQ = {};
    v.MQ.Mx = function(w, o, Q) {
        var K, b;
        if (Q == "front") {
            K = w.rect.clone();
            b = v.MQ.ah5
        }
        if (Q == "union") {
            K = w.rect.OX(o.rect);
            b = v.MQ.OX
        }
        if (Q == "difference") {
            K = o.rect.clone();
            b = v.MQ.aks
        }
        if (Q == "intersection") {
            K = w.rect.z2(o.rect);
            b = v.MQ.z2
        }
        if (Q == "xor") {
            K = w.rect.OX(o.rect);
            b = v.MQ.a1z
        }
        if (K.Kx()) return null;
        var R = v.$(K.O());
        v.Hp(o.channel, o.rect, R, K);
        var X = v.$(K.O());
        v.Hp(w.channel, w.rect, X, K);
        b(X, R, R);
        var h = v.JT(R, K);
        if (h.Kx()) return null;
        if (!h.Lb(K)) {
            var e = v.$(h.O());
            v.Hp(R, K, e, h);
            R = e;
            K = h
        }
        return {
            channel: R,
            rect: K
        }
    };
    v.MQ.ah5 = function(w, o, Q) {
        for (var M = 0; M < w.length; M++) Q[M] = w[M]
    };
    v.MQ.OX = function(w, o, Q) {
        for (var M = 0; M < w.length; M++) Q[M] = Math.min(w[M] + o[M], 255)
    };
    v.MQ.aks = function(w, o, Q) {
        for (var M = 0; M < w.length; M++) Q[M] = Math.max(o[M] - w[M], 0)
    };
    v.MQ.z2 = function(w, o, Q) {
        var K = 1 / 255;
        for (var M = 0; M < w.length; M++) Q[M] = w[M] * o[M] * K
    };
    v.MQ.a1z = function(w, o, Q) {
        var K = 1 / 255;
        for (var M = 0; M < w.length; M++) Q[M] = Math.min(w[M] + o[M], 255) - w[M] * o[M] * K
    };
    v.Fl = function(w, o) {
        this.S = [];
        this.Ax = [0];
        this.i9 = [];
        this.BS = [];
        this.pK = [0];
        this.zm = [];
        this.EB = [];
        this.rows = w;
        this.cols = o
    };
    v.Fl.prototype.clone = function() {
        var w = this,
            o = w.rows,
            Q = w.cols,
            K = new v.Fl(o, Q);
        K.S = w.S.slice(0);
        K.Ax = w.Ax.slice(0);
        K.i9 = w.i9.slice(0);
        K.BS = w.BS.slice(0);
        K.pK = w.pK.slice(0);
        K.zm = w.zm.slice(0);
        K.EB = w.EB.slice(0);
        return K
    };
    v.Fl.prototype.av = function(w, o, Q) {
        var K = this.Ax.length - 1;
        for (var M = 0; M < Q; M++) {
            var b = w[M],
                R = o[M];
            this.S.push(b);
            this.i9.push(R);
            if (R == K) {
                this.EB.push(b == 0 ? 0 : 1 / b)
            } else {
                this.BS.push(b);
                this.zm.push(R)
            }
        }
        this.Ax.push(this.S.length);
        this.pK.push(this.BS.length)
    };
    v.Fl.prototype._n = function(w, o) {
        var Q = this,
            K = Q.rows,
            b = Q.S,
            R = Q.i9;
        if (o == null) o = new Array(K);
        for (var M = 0; M < K; M++) {
            var X = Q.Ax[M],
                h = Q.Ax[M + 1],
                e = 0;
            while ((h - X & 3) != 0) {
                e += b[X] * w[R[X]];
                X++
            }
            for (var Z = X; Z < h; Z += 4) e += b[Z] * w[R[Z]] + b[Z + 1] * w[R[Z + 1]] + b[Z + 2] * w[R[Z + 2]] + b[Z + 3] * w[R[Z + 3]];
            o[M] = e
        }
        return o
    };
    v.Fl.prototype.multiply = function(w) {
        return this.wM(w.o6())
    };
    v.Fl.prototype.wM = function(w) {
        var o = this,
            Q = o.rows,
            K = o.cols,
            b = w.rows,
            R = new v.Fl(Q, b),
            X = o.i9,
            h = w.i9;
        for (var M = 0; M < Q; M++) {
            var e = [],
                Z = [],
                P = o.Ax[M],
                J = o.Ax[M + 1];
            for (var i = 0; i < b; i++) {
                var k = w.Ax[i],
                    $ = w.Ax[i + 1],
                    n = 0,
                    j = P,
                    y = k;
                while (j < J && y < $) {
                    var V = Math.max(X[j], h[y]);
                    while (j < J && X[j] < V) j++;
                    while (y < $ && h[y] < V) y++;
                    if (j < J && y < $ && X[j] == h[y]) n += o.S[j++] * w.S[y++]
                }
                if (n != 0) {
                    e.push(n);
                    Z.push(i)
                }
            }
            R.av(e, Z, e.length)
        }
        return R
    };
    v.Fl.prototype.o6 = function() {
        var w = this.rows,
            o = this.cols,
            Q = [];
        for (var M = 0; M < o; M++) Q.push([
            [],
            []
        ]);
        var K = this.S,
            b = this.Ax,
            R = this.i9;
        for (var M = 0; M < w; M++) {
            var X = b[M],
                h = b[M + 1];
            for (var e = X; e < h; e++) {
                var Z = Q[R[e]];
                Z[0].push(K[e]);
                Z[1].push(M)
            }
        }
        var P = new v.Fl(o, w);
        for (var M = 0; M < o; M++) P.av(Q[M][0], Q[M][1], Q[M][1].length);
        return P
    };
    v.Fl.prototype.lP = function() {
        var w = this.rows,
            o = this.cols,
            Q = new Array(w),
            K = this.S,
            b = this.Ax,
            R = this.i9;
        for (var M = 0; M < w; M++) {
            var X = Q[M] = new Array(o);
            for (var h = 0; h < o; h++) X[h] = 0;
            var e = b[M],
                Z = b[M + 1];
            for (var P = e; P < Z; P++) X[R[P]] = K[P]
        }
        return Q
    };
    v.Fl.prototype.Sa = function(w, o, Q, K, b) {
        function R(q, o, T, L) {
            var N = q.length;
            for (var M = 0; M < N; M++) L[M] = q[M] - o[M] * T
        }

        function X(q, o, T, L) {
            var N = q.length,
                F = 0;
            while ((N - F & 3) != 0) {
                L[F] = q[F] + o[F] * T;
                F++
            }
            for (var M = F; M < N; M += 4) {
                L[M] = q[M] + o[M] * T;
                L[M + 1] = q[M + 1] + o[M + 1] * T;
                L[M + 2] = q[M + 2] + o[M + 2] * T;
                L[M + 3] = q[M + 3] + o[M + 3] * T
            }
        }

        function h(q, o, T) {
            var L = q.length;
            for (var M = 0; M < L; M++) T[M] = q[M] * o[M]
        }

        function e(q, o) {
            var T = q.length,
                L = 0,
                N = 0;
            while ((T - L & 3) != 0) {
                N += q[L] * o[L];
                L++
            }
            for (var M = L; M < T; M += 4) N += q[M] * o[M] + q[M + 1] * o[M + 1] + q[M + 2] * o[M + 2] + q[M + 3] * o[M + 3];
            return N
        }
        var Z = K != null ? 2 : 1,
            P = Date.now(),
            J = 0,
            i = this,
            k = w.slice(0),
            $ = w.slice(0);
        i._n(w, $);
        R(o, $, 1, k);
        var n = this.EB;
        if (Z == 0) {
            n = k.slice(0);
            n.fill(1)
        }
        var j = k.slice(0);
        h(n, k, j);
        var y = j.slice(0),
            V = e(k, j);
        while (!0) {
            i._n(y, $);
            var O = V / e(y, $);
            X(w, y, O, w);
            R(k, $, O, k);
            if ((J & 7) == 0 && Math.sqrt(e(k, k)) < Q) break;
            if (Z <= 1) h(n, k, j);
            else {
                var S = k.slice(0);
                K.abh(S, k);
                b.a5y(j, S)
            }
            var G = e(k, j),
                D = G / V;
            X(j, y, D, y);
            V = G;
            J++
        }
    };
    v.Fl.prototype.a5V = function(w, o, Q, K) {
        var b = Date.now(),
            R = 1.96,
            h = 0;
        if (Q == null) Q = 5e-6;
        if (K == null) K = 1e9;
        var X = 1 - R,
            A = this.rows,
            e = this.BS,
            Z = this.pK,
            P = this.zm,
            J = this.EB;
        while (!0) {
            var i = 0;
            for (var M = 0; M < A; M++) {
                var k = o[M],
                    $ = Z[M],
                    n = Z[M + 1];
                if (n - $ == 4) k -= e[$] * w[P[$]] + e[$ + 1] * w[P[$ + 1]] + e[$ + 2] * w[P[$ + 2]] + e[$ + 3] * w[P[$ + 3]];
                else
                    for (var j = $; j < n; j++) k -= e[j] * w[P[j]];
                var y = w[M] * X + J[M] * k * R,
                    V = y - w[M];
                i += V * V;
                w[M] = y
            }
            if (i / A < Q || Date.now() > b + K) break
        }
    };
    v.Fl.prototype.a66 = function(w, o, Q, K) {
        var b = Date.now(),
            R = 1.96,
            h = 0;
        if (Q == null) Q = 5e-5;
        if (K == null) K = 1e9;
        var X = 1 - R,
            A = this.rows,
            e = this.BS,
            Z = this.pK,
            P = this.zm,
            J = this.EB;
        while (!0) {
            var i = 0;
            for (var M = 0; M < A; M++) {
                var k = M * 3,
                    $ = o[k],
                    n = o[k + 1],
                    j = o[k + 2],
                    y = Z[M],
                    V = Z[M + 1];
                for (var O = y; O < V; O++) {
                    var S = e[O],
                        G = P[O] * 3;
                    $ -= S * w[G + 0];
                    n -= S * w[G + 1];
                    j -= S * w[G + 2]
                }
                var D = J[M] * R,
                    q = w[k + 0] * X + $ * D,
                    T = w[k + 1] * X + n * D,
                    L = w[k + 2] * X + j * D,
                    N = q - w[k + 0],
                    F = T - w[k + 1],
                    I = L - w[k + 2];
                i += .4 * N * N + .5 * F * F + .1 * I * I;
                w[k + 0] = q;
                w[k + 1] = T;
                w[k + 2] = L
            }
            if (i / A < Q || Date.now() > b + K) break
        }
    };
    v.R2 = {};
    v.R2.va = function(w, o, Q) {
        return {
            t: "Objc",
            v: {
                classID: "CrPt",
                Hrzn: {
                    t: "doub",
                    v: w
                },
                Vrtc: {
                    t: "doub",
                    v: o
                },
                Cnty: {
                    t: "bool",
                    v: Q
                }
            }
        }
    };
    v.R2.H = function(w, o) {
        for (var M = 0; M < w.length; M++) {
            var Q = w[M].v,
                K = o.hv(new fB(Q.Hrzn.v, Q.Vrtc.v));
            Q.Hrzn.v = Math.round(K.x);
            Q.Vrtc.v = Math.round(K.y)
        }
    };
    v.R2.eZ = function(w, o, Q) {
        var A = w.length - 1,
            K = v.M1.KR(A + 1, A + 2);
        for (var M = 1; M < A; M++) {
            K[M][M - 1] = 1 / (w[M] - w[M - 1]);
            K[M][M] = 2 * (1 / (w[M] - w[M - 1]) + 1 / (w[M + 1] - w[M]));
            K[M][M + 1] = 1 / (w[M + 1] - w[M]);
            K[M][A + 1] = 3 * ((o[M] - o[M - 1]) / ((w[M] - w[M - 1]) * (w[M] - w[M - 1])) + (o[M + 1] - o[M]) / ((w[M + 1] - w[M]) * (w[M + 1] - w[M])))
        }
        K[0][0] = 2 / (w[1] - w[0]);
        K[0][1] = 1 / (w[1] - w[0]);
        K[0][A + 1] = 3 * (o[1] - o[0]) / ((w[1] - w[0]) * (w[1] - w[0]));
        K[A][A - 1] = 1 / (w[A] - w[A - 1]);
        K[A][A] = 2 / (w[A] - w[A - 1]);
        K[A][A + 1] = 3 * (o[A] - o[A - 1]) / ((w[A] - w[A - 1]) * (w[A] - w[A - 1]));
        v.M1.Ev(K, Q)
    };
    v.R2.a55 = function(w, o, Q, K) {
        if (w <= o[0]) return Q[0];
        if (w >= o[o.length - 1]) return Q[o.length - 1];
        var M = 1;
        while (o[M] < w) M++;
        var b = o[M],
            R = o[M - 1],
            X = Q[M],
            h = Q[M - 1],
            e = (w - R) / (b - R),
            Z = K[M - 1] * (b - R) - (X - h),
            P = -K[M] * (b - R) + (X - h),
            J = (1 - e) * h + e * X + e * (1 - e) * (Z * (1 - e) + P * e);
        return J
    };
    v.R2.Je = function(w, o, Q, K) {
        var b = {
            nz: [w[0]],
            ZH: [o[0]],
            kq: []
        };
        K[0] = b;
        for (var M = 1; M < w.length - 1; M++) {
            b.nz.push(w[M]);
            b.ZH.push(o[M]);
            if (Q[M] == !1) {
                v.R2.eZ(b.nz, b.ZH, b.kq);
                b = {
                    nz: [w[M]],
                    ZH: [o[M]],
                    kq: []
                }
            }
            K[M] = b
        }
        b.nz.push(w[M]);
        b.ZH.push(o[M]);
        v.R2.eZ(b.nz, b.ZH, b.kq);
        K[M] = b
    };
    v.R2.zA = function(w, o, Q, K) {
        if (w <= o[0]) return Q[0];
        if (w >= o[o.length - 1]) return Q[o.length - 1];
        var M = 1;
        while (o[M] < w) M++;
        var b = K[M - 1];
        return v.R2.a55(w, b.nz, b.ZH, b.kq)
    };
    v.R2.bb = function(w) {
        var o = {
            nz: [],
            ZH: [],
            IB: []
        };
        for (var M = 0; M < w.length; M++) {
            o.nz[M] = w[M].v.Hrzn.v;
            o.ZH[M] = w[M].v.Vrtc.v;
            o.IB[M] = w[M].v.Cnty ? w[M].v.Cnty.v : !0
        }
        return o
    };
    v.R2.js = function(w, A, o) {
        var Q = 0,
            K = 255;
        if (o) {
            Q = -1e9;
            K = 1e9
        }
        var b = v.R2.bb(w),
            R = [];
        v.R2.Je(b.nz, b.ZH, b.IB, R);
        var X = [];
        for (var M = 0; M < A; M++) X[M] = 1 / 255 * Math.max(Q, Math.min(K, v.R2.zA(M * (255 / (A - 1)), b.nz, b.ZH, R)));
        return X
    };
    v.R2.a69 = function(w, A, o) {
        var Q = Math.round(w.length / 20),
            K = A - w.length,
            b = o ? (w[Q] - w[0]) / Q : 0,
            R = o ? w[0] - K * b : w[w.length - 1],
            X = [];
        for (var M = 0; M < K; M++) X.push(R + M * b);
        return o ? X.concat(w) : w.concat(X)
    };
    v.R2.XO = function(w, A, o) {
        var Q = v.R2.bb(w),
            K = [];
        v.R2.Je(Q.nz, Q.ZH, Q.IB, K);
        var b = new Uint8Array(A),
            R = A / 256;
        for (var M = 0; M < A; M++) b[M] = Math.max(0, Math.min(A - 1, v.R2.zA(M * R, Q.nz, Q.ZH, K)));
        if (o) {
            b[0] = 0;
            if (b[1] > 100) b[1] = .4 * b[1];
            if (b[2] > 150) b[1] = .7 * b[2]
        }
        return b
    };
    v.R2.yA = function(w, o) {
        var Q = new Uint8Array(w.length);
        for (var M = 0; M < w.length; M++) Q[M] = o[w[M]];
        return Q
    };
    v.R2.Il = function(w, o, Q) {
        var K = _.B("canvas", "");
        K.width = o;
        K.height = Q;
        var b = K.getContext("2d"),
            R = v.R2.XO(w, 256);
        b.scale(o / 255, Q / 255);
        b.fillStyle = "#fff";
        b.fillRect(0, 0, 255, 255);
        b.fillStyle = "#333";
        b.beginPath();
        b.moveTo(0, 255);
        for (var M = 0; M < R.length; M++) b.lineTo(M, 255 - R[M]);
        b.lineTo(255, 255);
        b.closePath();
        b.fill();
        return K.toDataURL()
    };
    v.style = {};
    v.style.stroke = function(w, o, Q, K) {
        var b = Q.D,
            R = Q.j,
            X = new Float64Array(b * R);
        v.style.LR(w, X, b, R);
        v.style.Bw(o, Q, X, Q, K)
    };
    v.style.Bw = function(w, o, Q, K, b) {
        var R = o.z2(K),
            X = R.D,
            h = R.j;
        b += .5;
        var e = R.x - o.x,
            Z = R.y - o.y,
            P = o.D,
            J = R.x - K.x,
            i = R.y - K.y,
            k = K.D;
        for (var $ = 0; $ < h; $++) {
            var n = ($ + i) * k + J,
                j = ($ + Z) * P + e;
            for (var y = 0; y < X; y++) {
                var V = Math.max(0, Math.min(1, b - Q[n + y]));
                w[j + y] = Math.round(V * 255)
            }
        }
    };
    v.style.a9l = function(w, o, Q, K) {
        for (var b = 0; b < Q; b++)
            for (var R = 0; R < o; R++) {
                var X = b * o + R,
                    h = 0,
                    e = 0,
                    Z = w[X];
                if (R == 0 || b == 0) {
                    h = w[X + 1] - Z;
                    e = w[X + o] - Z
                } else if (R == Q - 1 || b == o - 1) {
                    h = Z - w[X - 1];
                    e = Z - w[X - o]
                } else {
                    h = w[X + 1] - w[X - 1];
                    e = w[X + o] - w[X - o]
                }
                if (h != 0 || e != 0) {
                    var P = 1 / Math.sqrt(h * h + e * e);
                    h *= P;
                    e *= P
                }
                K[X + X] = h;
                K[X + X + 1] = e
            }
    };
    v.style.LR = function(w, o, Q, K) {
        var b = 0,
            R = Q * K;
        for (var M = 0; M < R; M++) b |= w[M];
        if (b == 0) {
            o.fill(1e9);
            return
        }
        var X = v.style._b(w, Q, K);
        for (var h = 0; h < K; h++)
            for (var e = 0; e < Q; e++) {
                var M = h * Q + e,
                    Z = X[M * 2],
                    P = X[M * 2 + 1],
                    J = (h + P) * Q + e + Z;
                if (Z == 0 && P == 0) {
                    o[M] = 0;
                    continue
                }
                var i = Math.sqrt(Z * Z + P * P),
                    k = w[J] * (1 / 255),
                    $ = 1 / i,
                    n = Math.abs(Z) * $,
                    j = Math.abs(P) * $;
                if (j > n) {
                    var y = j;
                    j = n;
                    n = y
                }
                o[M] = i + v.style.a0l(n, j, k)
            }
    };
    v.style.a0l = function(w, o, Q) {
        return (.5 - Q) * w
    };
    v.style._b = function(w, o, Q, K) {
        if (K == null) {
            K = !0;
            for (var M = 0; M < w.length; M++) K = K && (w[M] == 0 || w[M] == 255)
        }
        var b = new Int16Array(o * Q * 2);
        if (K) v.style.ajC(w, b, o, Q);
        else v.style.a8A(w, b, o, Q);
        return b
    };
    v.style.a8A = function(w, o, Q, K) {
        var b = Q * K;
        for (var M = 0; M < b; M++)
            if (w[M] == 0) {
                o[M * 2] = 16383;
                o[M * 2 + 1] = 16383
            } for (var R = 1; R <= K - 1; R++) {
            var M = R * Q;
            for (var X = 0; X <= Q - 1; X++) v.style.mH(o, w, Q, M + X << 1, -1);
            for (var X = 1; X <= Q - 1; X++) v.style.aq(o, w, Q, M + X << 1, -1);
            for (var X = Q - 2; X >= 0; X--) v.style.aq(o, w, Q, M + X << 1, 1)
        }
        for (var R = K - 2; R >= 0; R--) {
            var M = R * Q;
            for (var X = 0; X <= Q - 1; X++) v.style.mH(o, w, Q, M + X << 1, 1);
            for (var X = 1; X <= Q - 1; X++) v.style.aq(o, w, Q, M + X << 1, -1);
            for (var X = Q - 2; X >= 0; X--) v.style.aq(o, w, Q, M + X << 1, 1)
        }
    };
    v.style.aq = function(w, o, Q, K, b) {
        var R = (K >>> 1) + b << 1,
            X = w[K],
            h = w[K + 1],
            e = w[R] + b,
            Z = w[R + 1],
            P = e * e + Z * Z,
            J = X * X + h * h;
        if (Z != 16383 && (X == 16383 || Math.sqrt(P) + (.5 - o[(K >>> 1) + Z * Q + e] * (1 / 255)) < Math.sqrt(J) + (.5 - o[(K >>> 1) + h * Q + X] * (1 / 255)))) {
            w[K] = e;
            w[K + 1] = Z
        }
    };
    v.style.mH = function(w, o, Q, K, b) {
        var R = (K >>> 1) + b * Q << 1,
            X = w[K],
            h = w[K + 1],
            e = w[R],
            Z = w[R + 1] + b,
            P = e * e + Z * Z,
            J = X * X + h * h;
        if (e != 16383 && (X == 16383 || Math.sqrt(P) + (.5 - o[(K >>> 1) + Z * Q + e] * (1 / 255)) < Math.sqrt(J) + (.5 - o[(K >>> 1) + h * Q + X] * (1 / 255)))) {
            w[K] = e;
            w[K + 1] = Z
        }
    };
    v.style.ajC = function(w, o, Q, K) {
        var b = Q * K;
        for (var M = 0; M < b; M++)
            if (w[M] == 0) {
                o[M * 2] = 16383;
                o[M * 2 + 1] = 16383
            } for (var R = 1; R <= K - 1; R++) {
            var M = R * Q;
            for (var X = 0; X <= Q - 1; X++) v.style.Zr(o, w, Q, M + X << 1, -1);
            for (var X = 1; X <= Q - 1; X++) v.style.mB(o, w, Q, M + X << 1, -1);
            for (var X = Q - 2; X >= 0; X--) v.style.mB(o, w, Q, M + X << 1, 1)
        }
        for (var R = K - 2; R >= 0; R--) {
            var M = R * Q;
            for (var X = 0; X <= Q - 1; X++) v.style.Zr(o, w, Q, M + X << 1, 1);
            for (var X = 1; X <= Q - 1; X++) v.style.mB(o, w, Q, M + X << 1, -1);
            for (var X = Q - 2; X >= 0; X--) v.style.mB(o, w, Q, M + X << 1, 1)
        }
    };
    v.style.mB = function(w, o, Q, K, b) {
        var R = (K >>> 1) + b << 1,
            X = w[K],
            h = w[K + 1],
            e = w[R] + b,
            Z = w[R + 1],
            P = e * e + Z * Z,
            J = X * X + h * h;
        if (Z != 16383 && (X == 16383 || P < J)) {
            w[K] = e;
            w[K + 1] = Z
        }
    };
    v.style.Zr = function(w, o, Q, K, b) {
        var R = (K >>> 1) + b * Q << 1,
            X = w[K],
            h = w[K + 1],
            e = w[R],
            Z = w[R + 1] + b,
            P = e * e + Z * Z,
            J = X * X + h * h;
        if (e != 16383 && (X == 16383 || P < J)) {
            w[K] = e;
            w[K + 1] = Z
        }
    };
    v.style.aiT = function(w, o, Q, K, b) {
        var R = Q * K,
            X = (Q + K + 1) * 1.01;
        for (var M = 0; M < R; M++)
            if (w[M] <= b) o[M] = X;
        for (var h = 1; h < Q; h++) o[h] = Math.min(o[h], o[h - 1]);
        for (var e = 1; e < K; e++) {
            var M = e * Q;
            o[M] = Math.min(o[M], Math.min(o[M - Q] + 1, o[M - Q + 1] + Math.SQRT2));
            for (var h = 1; h < Q - 1; h++) {
                var Z = o[++M],
                    P = Math.min(o[M - 1] + 1, Math.min(o[M - Q - 1] + Math.SQRT2, Math.min(o[M - Q] + 1, o[M - Q + 1] + Math.SQRT2)));
                if (P < Z) o[M] = P
            }
            M++;
            o[M] = Math.min(o[M], Math.min(o[M - 1] + 1, Math.min(o[M - Q - 1] + Math.SQRT2, o[M - Q] + 1)))
        }
        for (var h = Q - 2; h >= 0; h--) o[h + R - Q] = Math.min(o[h + R - Q], o[h + R - Q + 1]);
        for (var e = K - 2; e >= 0; e--) {
            var M = e * Q + Q - 1;
            o[M] = Math.min(o[M], Math.min(o[M + Q] + 1, o[M + Q - 1] + Math.SQRT2));
            for (var h = Q - 2; h >= 1; h--) {
                var Z = o[--M],
                    P = Math.min(o[M + 1] + 1, Math.min(o[M + Q - 1] + Math.SQRT2, Math.min(o[M + Q] + 1, o[M + Q + 1] + Math.SQRT2)));
                if (P < Z) o[M] = P
            }
            M--;
            o[M] = Math.min(o[M], Math.min(o[M + 1] + 1, Math.min(o[M + Q] + 1, o[M + Q + 1] + Math.SQRT2)))
        }
    };
    v.style.a4h = function(w, o, Q, K, b) {
        var R = new Int32Array(Q * K);
        v.style.a8y(w, R, Q, K, b);
        v.style.afa(R, o, Q, K)
    };
    v.style.a8y = function(w, o, Q, K, b) {
        var R = new Int32Array(K);
        for (var X = 0; X < Q; X++) {
            var h = Q + K;
            for (var e = K - 1; e >= 0; e--) {
                if (w[e * Q + X] > b) h = 0;
                else h++;
                R[e] = h
            }
            h = Q + K;
            for (var e = 0; e < K; e++) {
                if (w[e * Q + X] > b) h = 0;
                else h++;
                o[e * Q + X] = h < R[e] ? -h : R[e]
            }
        }
    };
    v.style.afa = function(w, o, Q, K) {
        var b = (Q + K) * (Q + K),
            R = new Float64Array(Q),
            X = new Uint16Array(Q);
        for (var h = 0; h < K; h++) {
            var e = h * Q,
                Z = 0;
            X[0] = 0;
            R[0] = -b;
            R[1] = +b;
            for (var P = 1; P < Q; P++) {
                var J = w[P + e] * w[P + e] + P * P,
                    i = (J - (w[X[Z] + e] * w[X[Z] + e] + X[Z] * X[Z])) / (2 * P - 2 * X[Z]);
                while (i <= R[Z]) {
                    Z--;
                    i = (J - (w[X[Z] + e] * w[X[Z] + e] + X[Z] * X[Z])) / (2 * P - 2 * X[Z])
                }
                Z++;
                X[Z] = P;
                R[Z] = i;
                R[Z + 1] = b
            }
            Z = 0;
            for (var P = 0; P < Q; P++) {
                while (R[Z + 1] < P) Z++;
                var k = X[Z] - P,
                    $ = w[X[Z] + e],
                    M = h * Q + P << 1;
                o[M] = k;
                o[M + 1] = $
            }
        }
    };
    v.style.tb = function(w, o, Q) {
        if (Q)
            for (var M = 0; M < w.length; M++) {
                var K = w[M];
                if (K > 0) w[M] = Math.max(0, Math.min(255, K + o * 2 * (v.style.TG(M) - 128)))
            } else
                for (var M = 0; M < w.length; M++) {
                    var K = w[M];
                    if (K > 0) w[M] = Math.max(0, Math.min(255, K + Math.min(K * 3, o * 2 * (v.style.TG(M) - 128))))
                }
    };
    v.style.TG = function(w) {
        w = w ^ 61 ^ w >> 16;
        w = w + (w << 3);
        w = w ^ w >> 4;
        w = w * 668265261;
        w = w ^ w >> 15;
        return w & 255
    };
    v.L0 = {};
    v.L0.Rg = function(w, o, Q) {
        var K = w.canvas,
            b = _.J(),
            R = Math.floor;
        if (K.width != R(o * b) || K.height != R(Q * b)) _.E5(K, o, Q, w)
    };
    v.L0.Cy = function(w, o, Q, K, b, R) {
        v.L0.Rg(w, o, Q);
        if (R == null) R = !1;
        var X = b.channel,
            h = b.rect,
            e = !b.isEnabled;
        o = Math.floor(o * _.J());
        Q = Math.floor(Q * _.J());
        if (o * Q == 0) return;
        var Z = w.createImageData(o, Q),
            P = Z.data,
            J = 1 / o,
            i = 1 / Q;
        for (var M = 0; M < Q; M++)
            for (var k = 0; k < o; k++) {
                var $ = M * o + k,
                    n = $ * 4,
                    j = Math.round(K.x + k * J * K.D),
                    y = Math.round(K.y + M * i * K.j),
                    V = 0;
                if (j < h.x || j >= h.x + h.D || y < h.y || y >= h.y + h.j) V = b.color;
                else V = X[(y - h.y) * h.D + (j - h.x)];
                V = 255 * (255 - b.v$) + V * b.v$ >>> 8;
                if (R) V = 170 + Math.round(.4 * (V - 170));
                P[n] = V;
                P[n + 1] = V;
                P[n + 2] = V;
                P[n + 3] = 255
            }
        w.putImageData(Z, 0, 0);
        if (e) v.L0.ft(w, o, Q)
    };
    v.L0.afF = function(w, o, Q, K) {
        w.fillStyle = "#eeeeee";
        w.fillRect(.6 * o, .6 * Q, o, Q);
        w.lineWidth = 1.5;
        var b = .65 * o,
            R = .95 * o,
            X = .65 * Q,
            h = .95 * Q,
            e = .75 * o,
            Z = .85 * o,
            P = .75 * Q,
            J = .85 * Q;
        w.beginPath();
        w.moveTo(b, X);
        w.lineTo(R, X);
        w.lineTo(R, h);
        w.lineTo(b, h);
        w.lineTo(b, X);
        w.moveTo(e, P);
        w.lineTo(Z, P);
        w.lineTo(Z, J);
        w.lineTo(e, J);
        w.lineTo(e, P);
        w.closePath();
        w.stroke()
    };
    v.L0.Hf = [];
    v.L0.ahv = function(w, o, Q) {
        var K, b, R, X = _.J();
        o = Math.floor(X * o);
        Q = Math.floor(X * Q);
        K = Math.ceil(Math.max(o, Q) * .35);
        b = o - K;
        R = Q - K;
        var h = v.L0.Hf[K];
        if (h == null) {
            var e = _.B("canvas"),
                Z = e.getContext("2d");
            e.width = e.height = K;
            Z.fillStyle = "#eeeeee";
            Z.fillRect(0, 0, K, K);
            Z.lineWidth = 1;
            Z.strokeRect(2.5, 2.5, K - 5, K - 5);
            var P = Z.createImageData(3, 3);
            v.Fw(P.data, 4278190080);
            P.data[4 * 4] = P.data[4 * 4 + 1] = P.data[4 * 4 + 2] = 238;
            Z.putImageData(P, 1, 1);
            Z.putImageData(P, K - 4, 1);
            Z.putImageData(P, 1, K - 4);
            Z.putImageData(P, K - 4, K - 4);
            h = v.L0.Hf[K] = Z.getImageData(0, 0, K, K)
        }
        w.putImageData(h, b, R)
    };
    v.L0.a0A = function(w, o, Q, K, b) {
        v.L0.Rg(w, o, Q);
        o = Math.floor(o * _.J());
        Q = Math.floor(Q * _.J());
        var R = o / K.D;
        if (o * Q == 0) return;
        w.fillStyle = "#999999";
        w.setTransform(1, 0, 0, 1, 0, 0);
        w.clearRect(0, 0, o, Q);
        var X = v.L0.K0;
        if (X == null) {
            X = v.L0.K0 = JSON.parse(JSON.stringify(b_.fQ.default));
            X.strokeEnabled.v = !0
        }
        X.strokeStyleLineWidth.v.val = 1 * _.J() / R;
        w.fillStyle = "#ffffff";
        w.scale(R, R);
        v.P.B0(b._, w, 0, 0);
        v.P.B0(b._, w, 0, 0, X)
    };
    v.L0.Ci = null;
    v.L0.LM = function(w, o, Q, K, b, R, X, h) {
        v.L0.Rg(w, o, Q);
        o = Math.floor(o * _.J());
        Q = Math.floor(Q * _.J());
        if (o * Q == 0) return;
        var e = Math.max(o, Q),
            Z = v.L0.Ci;
        if (Z == null || Z.width < e || Z.height < e) {
            v.L0.Ci = Z = w.createImageData(e, e)
        }
        e = Z.width;
        var P = Z.data,
            J = K.D / o,
            i = K.j / Q,
            k = 1 / 255,
            $ = R.x,
            n = R.x + R.D,
            j = R.y,
            y = R.y + R.j;
        for (var M = 0; M < Q; M++)
            for (var V = 0; V < o; V++) {
                var O = M * e + V,
                    S = O * 4,
                    G = ~~(K.x + V * J),
                    D = ~~(K.y + M * i),
                    q = v.we(M, V, 2);
                if (G < $ || G >= n || D < j || D >= y) {
                    P[S] = q;
                    P[S + 1] = q;
                    P[S + 2] = q;
                    P[S + 3] = 255
                } else {
                    var T = (D - R.y) * R.D + (G - R.x) << 2,
                        L = b[T + 3] * k;
                    P[S] = b[T + 0] * L + q * (1 - L);
                    P[S + 1] = b[T + 1] * L + q * (1 - L);
                    P[S + 2] = b[T + 2] * L + q * (1 - L);
                    P[S + 3] = 255
                }
            }
        if (h != null)
            for (var M = 0; M < P.length; M += 4) P[M] = P[M + 1] = P[M + 2] = P[M + h];
        w.putImageData(Z, 0, 0);
        if (X) v.L0.ft(w, o, Q)
    };
    v.L0.a5b = function(w, o, Q, K) {
        v.L0.Rg(w, o, Q);
        w.fillStyle = v.L0.c2(K.Clr.v);
        w.fillRect(0, 0, o, Q);
        v.L0.Pw(w, o, Q)
    };
    v.L0.rG = null;
    v.L0.a6_ = function(w, o, Q, K) {
        v.L0.Rg(w, o, Q);
        var b = w.canvas.width,
            R = w.canvas.height,
            X = v.L0.rG;
        if (X == null || X.width != b || X.height != R) {
            w.fillStyle = "#ffffff";
            w.fillRect(0, 0, o, Q);
            w.fillStyle = "#000000";
            w.font = "" + Q * .7 + "px serif";
            w.fillText("T", (o - Q * .43) / 2, Q * .75);
            w.fillText("T", (o - Q * .43) / 2, Q * .75);
            v.L0.rG = w.getImageData(0, 0, b, R)
        } else w.putImageData(X, 0, 0)
    };
    v.L0.akx = function(w, o, Q) {
        v.L0.Rg(w, o, Q);
        w.clearRect(0, 0, o, Q);
        w.font = Q * .7 + "px serif";
        w.fillText(":(", (o - Q * .43) / 2, Q * .7)
    };
    v.L0.a6b = function(w, o, Q, K) {
        v.L0.Rg(w, o, Q);
        var b = au.get(K),
            R = b6.get(au.names[b]).substring(0, 3);
        w.fillStyle = "#ffffff";
        w.fillRect(0, 0, o, Q);
        w.fillStyle = "#000000";
        w.font = Q * .55 + "px sans-serif";
        var X = w.measureText(R);
        w.fillText(R, (o - X.width) / 2, Q * .67);
        w.fillRect(0, 0, o, Q * .1);
        w.fillRect(0, Q * .9, o, Q * .1)
    };
    v.L0.ana = function(w, o, Q, K) {
        v.L0.Rg(w, o, Q);
        var b = w.canvas.width,
            R = w.canvas.height,
            X = w.getImageData(0, 0, b, R);
        v.V.TZ(K.Grad.v, new Uint8Array(X.data.buffer), new B(0, 0, b, R), [1 / b, 0, 0, 1 / R], b / 2, R / 2, !1, 0, 16711680, 65280);
        w.putImageData(X, 0, 0);
        v.L0.Pw(w, o, Q)
    };
    v.L0.aml = function(w, o, Q, K, b) {
        v.L0.Rg(w, o, Q);
        var R = w,
            X = eg.L6(K.Ptrn.v, b.add.Patt);
        if (X == null) return;
        var h = X.Ua[1];
        v.L0.LM(w, o, Q, h, X.Ua[0], h, !1);
        v.L0.Pw(R, o, Q)
    };
    v.L0.ft = function(w, o, Q) {
        w.strokeStyle = "#bb0000";
        w.lineWidth = 3;
        w.beginPath();
        w.moveTo(o * .15, Q * .15);
        w.lineTo(o * .85, Q * .85);
        w.moveTo(o * .85, Q * .15);
        w.lineTo(o * .15, Q * .85);
        w.closePath();
        w.stroke()
    };
    v.L0.ft = function(w, o, Q) {
        w.strokeStyle = "#bb0000";
        w.lineWidth = 3;
        w.beginPath();
        w.moveTo(o * .15, Q * .15);
        w.lineTo(o * .85, Q * .85);
        w.moveTo(o * .85, Q * .15);
        w.lineTo(o * .15, Q * .85);
        w.closePath();
        w.stroke()
    };
    v.L0.Pw = function(w, o, Q) {
        w.fillStyle = "#eeeeee";
        w.fillRect(0, Q * .75, o, Q * .25);
        w.beginPath();
        w.moveTo(0, Q * .75);
        w.lineTo(o, Q * .75);
        w.moveTo(o * .1, Q * .875);
        w.lineTo(o * .9, Q * .875);
        w.moveTo(o * .65, Q * .825);
        w.lineTo(o * .65, Q * .95);
        w.closePath();
        w.stroke()
    };
    v.L0.c2 = function(w) {
        var o = v.V.c2(w),
            Q = Math.round(o.W) << 16 | Math.round(o.a) << 8 | Math.round(o.k);
        return "#" + v.u9(Q)
    };
    v.P = {};
    v.P.g$ = function(w, o, Q) {
        var K = [],
            b = -1;
        for (var M = 0; M < w.length; M++) {
            var R = w[M];
            if ((R.type == 0 || R.type == 3) && R.ID != -1) b++;
            if (R.type > 5 || R.type == 0 || R.type == 3) continue;
            if (o != null && o.indexOf(b) == -1) continue;
            if (Q != null && Q.indexOf(M) == -1) continue;
            K.push(R.M7.x);
            K.push(R.M7.y);
            K.push(R.L.x);
            K.push(R.L.y);
            K.push(R.WQ.x);
            K.push(R.WQ.y)
        }
        return K
    };
    v.P.$R = function(w, o, Q, K) {
        var b = 0,
            R = -1;
        for (var M = 0; M < o.length; M++) {
            var X = o[M];
            if ((X.type == 0 || X.type == 3) && X.ID != -1) R++;
            if (X.type > 5 || X.type == 0 || X.type == 3) continue;
            if (Q != null && Q.indexOf(R) == -1) continue;
            if (K != null && K.indexOf(M) == -1) continue;
            X.M7.qQ(w[b], w[b + 1]);
            X.L.qQ(w[b + 2], w[b + 3]);
            X.WQ.qQ(w[b + 4], w[b + 5]);
            b += 6
        }
    };
    v.P.nB = function(w, o, Q, K) {
        var b = v.P.g$(w, Q, K);
        v.w.H(b, o, b);
        v.P.$R(b, w, Q, K)
    };
    v.P.a5w = function(w, o, Q, K) {
        var b = v.P.g$(w, Q, K);
        v.Q.apply(o, b);
        v.P.$R(b, w, Q, K)
    };
    v.P.a2X = function(w, o, Q, K) {
        if (Q == null && K == null) {
            var b = v.P.alO(w, 40);
            for (var M = 0; M < b.length; M++) w[M] = b[M]
        }
        var R = v.P.g$(w, Q, K);
        v.sp.apply(o, R, v.w.QT(R));
        v.P.$R(R, w, Q, K)
    };
    v.P.alO = function(w, o) {
        var Q = [];
        for (var M = 0; M < w.length; M++) {
            var K = w[M];
            if (K.type > 5) {
                Q.push(JSON.parse(JSON.stringify(K)));
                continue
            }
            var b = v.P.a5f(w, M + 1, K.length);
            b = v.w.bR(b, o);
            var R = v.P.a4V(b);
            M += K.length;
            K = JSON.parse(JSON.stringify(K));
            K.length = R.length;
            Q.push(K);
            for (var X = 0; X < R.length; X++) Q.push(R[X])
        }
        return Q
    };
    v.P.a5f = function(w, o, Q) {
        var K = {
                Y: ["M"],
                X: []
            },
            b = w[o],
            R = w[o + Q - 1];
        K.X.push(b.L.x, b.L.y);
        for (var M = 1; M < Q; M++) {
            var X = w[o + M - 1],
                h = w[o + M];
            K.Y.push("C");
            K.X.push(X.WQ.x, X.WQ.y, h.M7.x, h.M7.y, h.L.x, h.L.y)
        }
        K.Y.push("C");
        K.X.push(R.WQ.x, R.WQ.y, b.M7.x, b.M7.y, b.L.x, b.L.y);
        return K
    };
    v.P.a4V = function(w) {
        var o = [],
            Q = w.Y,
            K = w.X,
            b = 0,
            A = K.length;
        o.push({
            type: 2,
            M7: new fB(K[A - 4], K[A - 3]),
            L: new fB(K[0], K[1]),
            WQ: new fB(K[2], K[3])
        });
        for (var M = 0; M < Q.length - 2; M++) {
            var R = M * 6 + 4;
            o.push({
                type: 2,
                M7: new fB(K[R], K[R + 1]),
                L: new fB(K[R + 2], K[R + 3]),
                WQ: new fB(K[R + 4], K[R + 5])
            })
        }
        return o
    };
    v.P.a0X = function(w) {
        for (var M = 0; M < w.length; M++) {
            if (w[M].type > 5) continue;
            var o = w[M].length;
            if (!(o == 4 || o == 6 || o == 8)) {
                M += o;
                continue
            }
            for (var Q = 0; Q < o; Q++) {
                var K = w[M + 1 + Q],
                    b = w[M + 1 + (Q + 1) % o],
                    R = Math.min(K.L.x, b.L.x),
                    X = Math.min(K.L.y, b.L.y),
                    h = 0,
                    e = 0;
                if (K.L.x < b.L.x) {
                    h = K.L.y - X;
                    e = h - (b.L.x - R)
                } else {
                    h = b.L.y - X;
                    e = h - (K.L.x - R)
                }
                if (Math.abs(e) < .2 * h) return h
            }
        }
        return -1
    };
    v.P.bj = function(w, o) {
        var Q = null,
            K = -1;
        for (var M = 0; M < w.length; M++) {
            if (w[M].type > 5) continue;
            var b = w[M].length;
            if ((w[M].type == 0 || w[M].type == 3) && w[M].ID != -1) K++;
            if (o != null && o.indexOf(K) == -1) continue;
            if (M == w.length - 1) break;
            var R = w[M].type == 3;
            if (Q == null) Q = v.P.lO(w, M + 1, b, R);
            else {
                var X = v.P.lO(w, M + 1, b, R);
                if (o != null || w[M].ID == 0 || w[M].ID == -1 || w[M].ID == 1) {
                    var h = Math.min(Q.x, X.x),
                        e = Math.min(Q.y, X.y),
                        Z = Math.max(Q.x + Q.D, X.x + X.D),
                        P = Math.max(Q.y + Q.j, X.y + X.j);
                    Q.x = h;
                    Q.y = e;
                    Q.D = Z - h;
                    Q.j = P - e
                } else if (w[M].ID == 2) Q = Q;
                else if (w[M].ID == 3) Q = Q.z2(X)
            }
            M += b
        }
        if (Q == null || Q.D < 0 || Q.j < 0) Q = new B(0, 0, 0, 0);
        return Q
    };
    v.P.a0n = new Float64Array(4);
    v.P.lO = function(w, M, o, Q) {
        var K = v.P.a0n;
        K[0] = 1e30;
        K[1] = 1e30;
        K[2] = -1e30;
        K[3] = -1e30;
        var b = w[M + o - 1];
        if (!Q) v.P.j9(b.L.x, b.L.y, b.WQ.x, b.WQ.y, w[M].M7.x, w[M].M7.y, w[M].L.x, w[M].L.y, K);
        for (var R = M; R < M + o - 1; R++) {
            var X = w[R],
                h = w[R + 1];
            if (X.L.Lb(X.WQ) && h.M7.Lb(h.L)) {
                K[0] = Math.min(K[0], Math.min(X.L.x, h.L.x));
                K[1] = Math.min(K[1], Math.min(X.L.y, h.L.y));
                K[2] = Math.max(K[2], Math.max(X.L.x, h.L.x));
                K[3] = Math.max(K[3], Math.max(X.L.y, h.L.y))
            } else v.P.j9(X.L.x, X.L.y, X.WQ.x, X.WQ.y, h.M7.x, h.M7.y, h.L.x, h.L.y, K)
        }
        return new B(K[0], K[1], K[2] - K[0], K[3] - K[1])
    };
    v.P.j9 = function(w, o, Q, K, b, R, X, h, e) {
        var Z = 1e30,
            P = 1e30,
            J = -1e30,
            i = -1e30,
            k = 40,
            $ = Q - w,
            n = K - o,
            j = b - Q,
            y = R - K,
            V = X - b,
            O = h - R,
            S = 1 / k;
        for (var M = 0; M < k + 1; M++) {
            var G = M * S,
                D = w + G * $,
                q = o + G * n,
                T = Q + G * j,
                L = K + G * y,
                N = b + G * V,
                F = R + G * O,
                I = D + G * (T - D),
                s = q + G * (L - q),
                u = T + G * (N - T),
                g = L + G * (F - L),
                U = I + G * (u - I),
                r = s + G * (g - s);
            if (U < Z) Z = U;
            if (r < P) P = r;
            if (U > J) J = U;
            if (r > i) i = r
        }
        e[0] = Math.min(e[0], Z);
        e[1] = Math.min(e[1], P);
        e[2] = Math.max(e[2], J);
        e[3] = Math.max(e[3], i)
    };
    v.P.rM = function(w, o) {
        var Q = w.length - 3,
            K = o % Q,
            b = Math.floor(K);
        if (o < 0 || b >= Q) return null;
        var R = w[3 + b],
            X = w[3 + (b + 1) % Q],
            h = R.L,
            e = R.WQ,
            Z = X.M7,
            P = X.L,
            J = K - b,
            i = 1 - J,
            k = i * i * i * h.x + 3 * i * i * J * e.x + 3 * i * J * J * Z.x + J * J * J * P.x,
            $ = i * i * i * h.y + 3 * i * i * J * e.y + 3 * i * J * J * Z.y + J * J * J * P.y;
        return new fB(k, $)
    };
    v.P.Q$ = function(w) {
        var o = 2,
            Q = v.P.S3(w),
            K = !1;
        for (var M = 2; M < w.length; M++) {
            var b = w[M].ID;
            if (b != null) {
                if (b == 2 || b == 0 || b == 3) K = !0
            }
        }
        if (K && w.length < 15e3 && Q > 1) w = v.P.jk(w);
        var R = v.w.Si(w);
        return {
            Ri: Typr.U.pathToSVG({
                crds: R.X,
                cmds: R.Y
            }, o),
            p1: K ? 1 : 0
        }
    };
    v.P.jk = function(w) {
        v.P.Ol();
        var o, Q = v.P.kZ(w),
            K = [];
        for (var M = 0; M < Q.length; M++) {
            var b = Q[M][0],
                R = Q[M][1];
            if (Math.abs(b.area) < 1e-5) K.push(b);
            else if (o == null) o = b;
            else {
                o = o[R](b);
                o.remove()
            }
        }
        if (o == null) o = new paper.CompoundPath(K);
        else {
            if (o.segments) o = new paper.CompoundPath(o);
            for (var M = 0; M < K.length; M++) {
                o.addChild(K[M])
            }
        }
        var X = w.slice(0, 2);
        X = X.concat(v.P.dE(o));
        if (X[2]) X[2].ID = 1;
        for (var M = 3; M < X.length; M++)
            if (X[M].ID != null) X[M].ID = -1;
        return X
    };
    v.P.Ol = function() {
        if (v.P.ajj == null) {
            var w = _.B("canvas");
            paper.setup(w);
            v.P.ajj = !0
        }
    };
    v.P.a01 = function(w, o) {
        v.P.Ol();
        var Q = [],
            K = v.P.kZ(w),
            b = new paper.Path.Rectangle(new paper.Rectangle(o.x, o.y, o.D, o.j));
        b.remove();
        b.fillColor = new paper.Color(1, 0, 0);
        for (var M = 0; M < K.length; M++) {
            if (b.intersects(K[M][0]) || b.contains(K[M][0].children[0].segments[0].point)) Q.push(M)
        }
        return Q
    };
    v.P.UO = function(w, o, Q, K) {
        v.P.Ol();
        var b = Q ? {
                curves: !0,
                tolerance: K
            } : null,
            R = new paper.Point(o.x, o.y),
            X = v.P.kZ(w);
        for (var M = X.length - 1; M >= 0; M--) {
            var h = X[M][0],
                e = h.hitTest(R, b);
            if (e != null) return {
                qX: M,
                QE: Q ? e.location.index : null
            }
        }
        return {
            qX: -1
        }
    };
    v.P.lk = function(w, o) {
        var Q = [
            [],
            [],
            []
        ];
        for (var M = 0; M < w.length; M++) {
            var K = w[M];
            if (K.type > 5 || K.type == 0 || K.type == 3) continue;
            if (o.V5(K.L)) Q[0].push(M);
            if (o.V5(K.M7)) Q[1].push(M);
            if (o.V5(K.WQ)) Q[2].push(M)
        }
        return Q
    };
    v.P.a7N = function(w, o, Q) {
        var K = Q.slice(0),
            b = [null, null],
            R = -1,
            h = null;
        for (var M = 2; M < w.length; M++) {
            if ((w[M].type == 0 || w[M].type == 3) && w[M].ID != -1) R++;
            b[M] = Q[R]
        }
        Q = b;
        var X = w.slice(0, 2);
        b = Q.slice(0, 2);
        for (var M = 2; M < w.length; M++) {
            if (w[M].type == 0 || w[M].type == 3) {
                h = w[M];
                X.push(h);
                b.push(Q[M])
            } else {
                if (o.indexOf(M) == -1) {
                    X.push(w[M]);
                    b.push(Q[M])
                } else {
                    h.length--;
                    v.Wn.uK(Q, M)
                }
            }
        }
        for (var M = 2; M < X.length; M++) {
            var e = X[M];
            if (e.type != 0 && e.type != 3) continue;
            if (e.length == 0) {
                if (X[M + 1] && X[M + 1].ID == -1) {
                    X[M + 1].ID = e.ID
                }
                b.splice(M, 1);
                X.splice(M, 1);
                M--
            }
        }
        for (var M = 0; M < K.length; M++)
            if (b.indexOf(K[M]) == -1) {
                K.splice(M, 1);
                M--
            } return X
    };
    v.P.adP = function(w, o) {
        var Q = w.slice(0, 2),
            K = -1;
        for (var M = 2; M < w.length; M++) {
            if ((w[M].type == 0 || w[M].type == 3) && w[M].ID != -1) K++;
            if (o.indexOf(K) == -1) Q.push(w[M])
        }
        return Q
    };
    v.P.a4l = function(w, o) {
        var Q = w.slice(0, 2),
            K = -1;
        for (var M = 2; M < w.length; M++) {
            if ((w[M].type == 0 || w[M].type == 3) && w[M].ID != -1) K++;
            if (o.indexOf(K) != -1) Q.push(w[M])
        }
        return Q
    };
    v.P.a0s = function(w) {
        var o = 0;
        for (var M = 0; M < w.length; M++)
            if (w[M].type == 0 || w[M].type == 3) o = M;
        return w[o]
    };
    v.P.S3 = function(w) {
        var o = -1;
        for (var M = 0; M < w.length; M++)
            if ((w[M].type == 0 || w[M].type == 3) && w[M].ID != -1) o++;
        return o + 1
    };
    v.P.xJ = function(w, o, Q) {
        var K = -1;
        for (var M = 0; M < w.length; M++)
            if ((w[M].type == 0 || w[M].type == 3) && (Q || w[M].ID != -1)) {
                K++;
                if (K == o) return M
            } return -1
    };
    v.P.Ch = function(w, o, Q) {
        var K = -1;
        for (var M = 0; M < w.length; M++)
            if ((w[M].type == 0 || w[M].type == 3) && (Q || w[M].ID != -1)) {
                if (M >= o) return K;
                K++
            } return K
    };
    v.P.U2 = function(w, o) {
        var Q = -1,
            K = 0;
        for (var M = 0; M < w.length; M++) {
            if ((w[M].type == 0 || w[M].type == 3) && w[M].ID != -1) Q++;
            if (Q == o) K++
        }
        return K
    };
    v.P.a2l = function(w) {
        var o = 180;
        for (var M = 0; M < w.length; M++) {
            if (w[M].type != 0 && w[M].type != 3) continue;
            var Q = w[M].length;
            if (Q < 3) continue;
            for (var K = 0; K < Q; K++) {
                var b = w[M + 1 + (K - 1 + Q) % Q],
                    R = w[M + 1 + K],
                    X = w[M + 1 + (K + 1) % Q],
                    h = R.L,
                    e = R.M7.Lb(h) ? b.WQ : R.M7,
                    Z = R.WQ.Lb(h) ? X.M7 : R.WQ;
                if (h.Lb(e) || h.Lb(Z)) continue;
                var P = e.x - h.x,
                    J = e.y - h.y,
                    i = Z.x - h.x,
                    k = Z.y - h.y,
                    e = Math.atan2(e.y - h.y, e.x - h.x) * 180 / Math.PI,
                    Z = Math.atan2(Z.y - h.y, Z.x - h.x) * 180 / Math.PI,
                    $ = Math.abs(Z - e) % 360,
                    n = $ > 180 ? 360 - $ : $;
                if (n < o) o = n
            }
        }
        return o * Math.PI / 180
    };
    v.P.dE = function(w) {
        var o = w.segments ? [w] : w.children,
            Q = [];
        for (var M = 0; M < o.length; M++) {
            var K = o[M],
                b = K.segments,
                R = K.closed ? 0 : 3,
                X = Q.length,
                h = null;
            if (b.length <= 1) continue;
            Q.push({
                type: R,
                length: b.length,
                ID: 0,
                Ej: 2
            });
            for (var e = 0; e < b.length; e++) {
                var Z = b[e],
                    P = new fB(Z.handleIn.x, Z.handleIn.y),
                    J = new fB(Z.handleOut.x, Z.handleOut.y),
                    i = new fB(Z.point.x, Z.point.y),
                    k = {
                        type: R + 1,
                        M7: i.add(P),
                        L: i,
                        WQ: i.add(J)
                    };
                if (h == null) h = k;
                Q.push(k);
                if (e + 1 == b.length && fB.mp(h.L, k.L) < 1e-5) {
                    Q.pop();
                    Q[X].length--;
                    h.M7 = k.M7;
                    if (R == 3)
                        for (var $ = X; $ < Q.length; $++) Q[$].type -= 3
                }
            }
        }
        return Q
    };
    v.P.kZ = function(w) {
        v.P.Ol();
        var o = [],
            Q, K = new paper.Color(1, 0, 0);

        function b(k, h) {
            k.remove();
            k.closed = !h;
            k.fillRule = "evenodd"
        }
        for (var M = 0; M < w.length; M++) {
            if (w[M].type > 5) continue;
            var R = w[M].length,
                X;
            if (M == w.length - 1) break;
            var h = w[M].type == 3;
            if (M == 2) {
                if (!v.P.xU(w)) X = "subtract";
                else X = "unite"
            } else {
                if (w[M].ID == 0) X = "exclude";
                if (w[M].ID == 1) X = "unite";
                if (w[M].ID == 2) X = "subtract";
                if (w[M].ID == 3) X = "intersect"
            }
            if (w[M].ID != -1) {
                Q = new paper.CompoundPath;
                o.push([Q, X]);
                Q.fillRule = "evenodd";
                Q.fillColor = K
            }
            var e = [];
            for (var Z = 0; Z < R; Z++) {
                var P = w[M + 1 + Z],
                    J = P.M7.ZO(P.L),
                    i = P.WQ.ZO(P.L);
                e.push([
                    [P.L.x, P.L.y],
                    [J.x, J.y],
                    [i.x, i.y]
                ])
            }
            var k = new paper.Path(e);
            b(k, h);
            Q.addChild(k);
            M += R
        }
        return o
    };
    v.P.ZS = function(w) {
        for (var M = 0; M < w.length; M++) {
            var o = w[M];
            if (o.L == null) continue;
            if (!o.L.Lb(o.M7) || !o.L.Lb(o.WQ)) return !1
        }
        return !0
    };
    v.P.a2G = function(w) {
        if (w.length <= 5) return 0;
        var o = 0,
            Q = w.length - 3 - 1;
        for (var M = 0; M < Q; M++) {
            var K = w[3 + M],
                b = w[3 + M + 1];
            if (K.type == 0 || b.type == 0) return 0;
            o += (b.L.x - K.L.x) * (K.L.y + b.L.y)
        }
        o += (w[3].L.x - w[3 + Q].L.x) * (w[3 + Q].L.y + w[3 + 1].L.y);
        return -o * .5
    };
    v.P.xU = function(w) {
        if (w.length == 2) return w[1].all == 0;
        var o = w[2];
        if (w[1].all == 1) {
            if (o.ID == 1 || o.ID == 3) return !0;
            return !1
        } else {
            if (o.ID == 1 || o.ID == 3 || o.ID == 0) return !0;
            return !1
        }
    };
    v.P.agc = 0;
    v.P.Sc = 0;
    v.P.a71 = 0;
    v.P.a5M = function(w, o, Q, K) {
        if (Q.Kx()) return;
        var b = Q.O(),
            O = 16384;
        v.P.agc += b;
        if (b > v.P.Sc) {
            v.P.Sc = b
        }
        var R = Q.D,
            X = Q.j;
        if (K == null && v.P.ZS(w)) {
            var h = !0;
            for (var M = 2; M < w.length;)
                if (w[M].length == 2) M += 3;
                else {
                    h = !1;
                    break
                } if (h) {
                return
            }
            if (v.P.EE(w)) {
                o.fill(255);
                var e = v.P.bj(w);
                if (e.O() != b) {
                    var Z = 1 - (e.x - Q.x),
                        P = 1 - (e.y - Q.y),
                        J = 1 - (Q.x + Q.D - (e.x + e.D)),
                        i = 1 - (Q.x + Q.j - (e.x + e.j)),
                        k = ~~(Z * 255),
                        $ = ~~(J * 255),
                        n = ~~(P * 255),
                        j = ~~(i * 255);
                    o.fill(n, 0, R);
                    o[0] = ~~(Z * P * 255);
                    o[R - 1] = ~~(J * P * 255);
                    for (var M = R; M < b; M += R) {
                        o[M] = k;
                        o[M + R - 1] = $
                    }
                    o.fill(j, (X - 1) * R, X * R);
                    o[b - R] = ~~(Z * i * 255);
                    o[b - 1] = ~~(J * i * 255)
                }
                return
            }
        }
        var y = v.UX,
            V = v.yG,
            S = Math.ceil(R / O),
            G = Math.ceil(X / O),
            D = Math.ceil(R / S),
            q = Math.ceil(X / G),
            T = Date.now();
        for (var L = 0; L < G; L++)
            for (var N = 0; N < S; N++) {
                var F = N * D,
                    I = L * q,
                    s = D,
                    u = q;
                y.width = s;
                y.height = u;
                if (!v.P.xU(w)) V.fillRect(0, 0, s, u);
                v.P.B0(w, V, -Q.x - F, -Q.y - I, K);
                var g = new Uint8Array(V.getImageData(0, 0, s, u).data.buffer);
                if (s == R && u == X) v.KU(g, o, 3);
                else v.nr(g, new B(F, I, s, u), o, new B(0, 0, R, X))
            }
    };
    v.P.B0 = function(w, o, Q, K, b) {
        if (b != null && b.fillEnabled.v) {
            var R = !1,
                X = !1,
                h = 0;
            for (var M = 0; M < w.length; M++) {
                var e = w[M].ID;
                if (e != null) h++;
                if (e == -1) R = !0;
                if (e > 0) X = !0
            }
            if (!R && h < 20) w = v.P.jk(w)
        }
        for (var M = 0; M < w.length; M++) {
            if (w[M].type > 5) continue;
            var Z = w[M].length;
            if (Z == 0) continue;
            if (M == w.length - 1) break;
            var P = w[M].type == 3;
            if (M == 2) {
                if (!v.P.xU(w)) o.globalCompositeOperation = "destination-out";
                else o.globalCompositeOperation = "source-over"
            } else {
                var e = w[M].ID;
                if (e != -1 && b == null) {
                    var J = ["xor", "source-over", "destination-out", "source-in"][e];
                    o.globalCompositeOperation = J
                }
            }
            if (w[M].ID != -1) {
                o.beginPath();
                if (b) {
                    var i = b.strokeStyleLineWidth.v.val * (b.strokeStyleResolution.v / 72),
                        k = b.strokeStyleLineAlignment.v.strokeStyleLineAlignment,
                        $ = b.strokeStyleLineCapType.v.strokeStyleLineCapType,
                        n = b.strokeStyleLineJoinType.v.strokeStyleLineJoinType,
                        j = b.strokeStyleMiterLimit.v,
                        y = [],
                        V = b.strokeStyleLineDashSet.v;
                    for (var O = 0; O < V.length; O++) y.push(V[O].v.val * i);
                    o.setLineDash(y);
                    o.lineCap = ["butt", "round", "square"][b_.fQ.mg.indexOf($)];
                    o.lineJoin = ["miter", "round", "bevel"][b_.fQ.join.indexOf(n)];
                    o.lineWidth = b_.fQ.So.indexOf(k) == 1 ? i : i *= 2;
                    o.miterLimit = j
                }
            }
            v.P.aaI(o, w, M + 1, Z, Q, K, P);
            if (P) {} else o.closePath();
            if (w[M + 1 + Z] == null || w[M + 1 + Z].ID != -1) {
                if (b) o.stroke();
                else o.fill("evenodd")
            }
            M += Z
        }
    };
    v.P.aaI = function(w, o, M, Q, K, b, R) {
        var X = o[M],
            h = null;
        w.moveTo(X.L.x + K, X.L.y + b);
        for (var e = M; e < M + Q - 1; e++) {
            X = o[e];
            h = o[e + 1];
            w.bezierCurveTo(X.WQ.x + K, X.WQ.y + b, h.M7.x + K, h.M7.y + b, h.L.x + K, h.L.y + b)
        }
        if (!R) {
            X = o[e];
            h = o[M];
            w.bezierCurveTo(X.WQ.x + K, X.WQ.y + b, h.M7.x + K, h.M7.y + b, h.L.x + K, h.L.y + b)
        }
    };
    v.P.mC = function(w, o, Q) {
        var K = [],
            b = Q ? 4 : 1,
            R = !1;
        if (o != null)
            for (var M = 0; M < o.length; M++)
                if (o[M] != 0) {
                    R = !0;
                    break
                } if (o != null && R) {
            var X = v.w.afu(w, o),
                h = X.length / 6;
            for (var M = 0; M < h; M++) {
                var e = M * 6,
                    Z = (M - 1 + h) % h * 6,
                    P = X[e],
                    J = X[e + 1],
                    i = X[e + 2],
                    k = X[e + 3],
                    $ = X[Z + 4],
                    n = X[Z + 5];
                K.push({
                    type: b,
                    M7: new fB($, n),
                    L: new fB(P, J),
                    WQ: new fB(i, k)
                })
            }
        } else {
            for (var M = 0; M < w.length; M += 2) {
                var j = new fB(w[M], w[M + 1]);
                K.push({
                    type: b,
                    M7: j.clone(),
                    L: j.clone(),
                    WQ: j.clone()
                })
            }
        }
        return K
    };
    v.P.g8 = function(w, o) {
        v.P.Ol();
        var Q = new paper.Path;
        Q.remove();
        var K = w.length - 1,
            b = Math.sqrt((w[K - 1] - w[0]) * (w[K - 1] - w[0]) + (w[K] - w[1]) * (w[K] - w[1])) < 3;
        Q.closed = b;
        for (var M = 0; M < w.length; M += 2) Q.add(new paper.Point(w[M], w[M + 1]));
        Q.simplify(o);
        var R = [{
            type: 6
        }, {
            type: 8,
            all: 0
        }];
        R = R.concat(v.P.dE(Q));
        return R
    };
    v.P.Ad = function(w, o, Q) {
        var K = w[o].length,
            b = w[o].type,
            R = 0,
            X = w.slice(o + 1, o + 1 + K);
        for (var M = 0; M < K; M++) {
            var h = Q[(M - 1 + K) % K],
                e = Q[(M + 1 + K) % K],
                Z = Q[M];
            if (Z != 0) {
                var P = X[(M - 1 + K) % K].L,
                    J = X[(M + 0 + K) % K].L,
                    i = X[(M + 1 + K) % K].L,
                    k = fB.mp(J, P),
                    $ = fB.mp(J, i),
                    n = v.w.nO(P.x, P.y, J.x, J.y, i.x, i.y, Z)[0],
                    j = Math.min(n, h == 0 ? k : k / 2, e == 0 ? $ : $ / 2);
                Z *= j / n;
                var y = v.w.Kk(P.x, P.y, J.x, J.y, i.x, i.y, Z),
                    V = {
                        type: b + 1,
                        M7: new fB(y[2], y[3]),
                        L: new fB(y[2], y[3]),
                        WQ: new fB(y[4], y[5])
                    },
                    O = {
                        type: b + 1,
                        M7: new fB(y[6], y[7]),
                        L: new fB(y[8], y[9]),
                        WQ: new fB(y[8], y[9])
                    };
                w.splice(o + R + 1, 1, V, O);
                R++;
                w[o].length++
            }
            R++
        }
    };
    v.P.ZS = function(w) {
        for (var M = 0; M < w.length; M++) {
            var o = w[M],
                Q = o.type;
            if (Q == 1 || Q == 2 || Q == 4 || Q == 5)
                if (!o.L.Lb(o.M7) || !o.L.Lb(o.WQ)) return !1
        }
        return !0
    };
    v.P.EE = function(w) {
        if (w.length != 7 || !v.P.ZS(w)) return !1;
        for (var M = 0; M < 4; M++) {
            var o = !0;
            for (var Q = 0; Q < 4; Q++) {
                var K = w[3 + (M + Q & 3)],
                    b = w[3 + (M + Q + 1 & 3)];
                if (K.L.x != b.L.x && K.L.y != b.L.y) o = !1
            }
            if (o) return !0
        }
        return !1
    };
    v.P.z_ = {};
    v.P.z_.aI = function(w, o, Q) {
        var K = [{
                type: 6
            }, {
                type: 8,
                all: 0
            }],
            b = null;
        K.push({
            type: Q ? 3 : 0,
            ID: 1,
            length: 0,
            ub: 0,
            EK: 0,
            Ej: 1
        });
        if (o == 0) b == null;
        else if (o instanceof Array) b = o;
        else {
            b = [];
            for (var M = 0; M < w.length; M += 2) b.push(o)
        }
        K = K.concat(v.P.mC(w, b, Q));
        K[2].length = K.length - 3;
        return K
    };
    v.P.z_.a6E = function(w, o, Q, K, b) {
        var R = [],
            X = [],
            h = .553,
            e = 1,
            Z = -1;
        R.push({
            type: 1,
            M7: new fB(0, h),
            L: new fB(0, 0),
            WQ: new fB(0, -h)
        });
        b += 2;
        for (var M = 0; M < b; M++) {
            var P = {
                type: 1
            };
            if (M == 0) {
                P.L = new fB(1, -1);
                P.M7 = new fB(1 - h, -1);
                P.WQ = new fB(1 + h, -1)
            } else {
                var J = -(M + 2) * Math.PI / 2,
                    i = 1 + ((M & 1) == 1 ? M - 1 : M),
                    k = Math.sin(J),
                    $ = Math.cos(J);
                e += i * (k - $);
                Z += i * ($ + k);
                P.L = new fB(e, Z);
                P.M7 = new fB(e + i * $ * h, Z - i * k * h);
                if ((M & 1) == 1) i += 2;
                P.WQ = new fB(e - i * $ * h, Z + i * k * h)
            }
            var n = {
                type: 1,
                M7: new fB(-P.WQ.x, -P.WQ.y),
                L: new fB(-P.L.x, -P.L.y),
                WQ: new fB(-P.M7.x, -P.M7.y)
            };
            R.push(P);
            if (M < b - 2) X.push(n)
        }
        X.reverse();
        R = R.concat(X);
        var j = [{
            type: 6
        }, {
            type: 8,
            all: 0
        }];
        j.push({
            type: 0,
            ID: 1,
            length: R.length,
            ub: 0,
            EK: 0,
            Ej: 1
        });
        j = j.concat(R);
        var y = new dj(Q / b, 0, 0, Q / b, 0, 0);
        y.rotate(K);
        y.translate(w, o);
        v.P.nB(j, y);
        return j
    };
    v.P.z_.Rect = function(w, o, Q, K, b) {
        var R = [w, o, w + Q, o, w + Q, o + K, w, o + K];
        return v.P.z_.aI(R, b)
    };
    v.P.z_.cz = function(w, o, Q, K, b, R) {
        var X = [],
            h = 2 * Math.PI / b;
        for (var M = 0; M < b; M++) X.push(Math.cos(M * h), Math.sin(M * h));
        var e = new dj(Q, 0, 0, Q, 0, 0);
        e.rotate(K);
        e.translate(w, o);
        v.w.H(X, e, X);
        return v.P.z_.aI(X, R)
    };
    v.P.z_.aex = function(w, o, Q, K, b, R, X) {
        var h = [],
            e = Math.PI / b;
        for (var M = 0; M < b * 2; M++) {
            var Z = (M & 1) == 0 ? 1 : X;
            h.push(Z * Math.cos(M * e), Z * Math.sin(M * e))
        }
        var P = new dj(Q, 0, 0, Q, 0, 0);
        P.rotate(K);
        P.translate(w, o);
        v.w.H(h, P, h);
        return v.P.z_.aI(h, R)
    };
    v.P.z_.tR = function(w, o, Q, K, b) {
        return v.P.z_.As(0, w, o, Q, K, b)
    };
    v.P.z_.a6C = function(w, o, Q, K, b, R) {
        return v.P.z_.As(1, w, o, Q, K, b, R)
    };
    v.P.z_.As = function(w, o, Q, K, b, R, X) {
        var h = Math.sqrt((K - o) * (K - o) + (b - Q) * (b - Q)),
            e;
        R /= 2;
        if (w == 0) e = [-R, 0, R, 0, R, h, -R, h];
        else {
            var Z = R * 2 * X * 1.3 / 1.5,
                P = R * X;
            e = [-R, 0, R, 0, R, h - Z, P, h - Z, 0, h, -P, h - Z, -R, h - Z]
        }
        var J = new dj(1, 0, 0, 1, 0, 0);
        J.rotate(Math.atan2(-b + Q, K - o) + Math.PI / 2);
        J.translate(o, Q);
        v.w.H(e, J, e);
        return v.P.z_.aI(e, 0)
    };
    v.P.z_.eG = function(w, o, Q, K) {
        var b = [{
                type: 6
            }, {
                type: 8,
                all: 0
            }],
            J = .553;
        b.push({
            type: 0,
            ID: 1,
            length: 4,
            ub: 0,
            EK: 0,
            Ej: 1
        });
        var R = w,
            X = o,
            h = w + Q,
            e = o + K,
            w = (R + h) / 2,
            o = (X + e) / 2,
            Z = (R - h) / 2,
            P = (X - e) / 2;
        b.push({
            type: 1,
            M7: new fB(w - J * Z, o - P),
            L: new fB(w, o - P),
            WQ: new fB(w + J * Z, o - P)
        });
        b.push({
            type: 1,
            M7: new fB(w + Z, o - J * P),
            L: new fB(w + Z, o),
            WQ: new fB(w + Z, o + J * P)
        });
        b.push({
            type: 1,
            M7: new fB(w + J * Z, o + P),
            L: new fB(w, o + P),
            WQ: new fB(w - J * Z, o + P)
        });
        b.push({
            type: 1,
            M7: new fB(w - Z, o + J * P),
            L: new fB(w - Z, o),
            WQ: new fB(w - Z, o - J * P)
        });
        return b
    };
    v.P.z_.ak8 = function(w, o, Q, K, b) {
        var R = [{
            type: 6
        }, {
            type: 8,
            all: 0
        }];
        R.push({
            type: 3,
            ID: 1,
            length: 5,
            ub: 0,
            EK: 0,
            Ej: 1
        });
        var X = (b - K) / 4;
        for (var M = 0; M < 5; M++) {
            var h = M * X,
                e = Math.cos(h),
                Z = Math.sin(h),
                P = .553 * (X / (Math.PI / 2)),
                J = Z * P,
                i = -e * P,
                k = new fB(e, Z);
            R.push({
                type: 4,
                M7: M == 0 ? k.clone() : new fB(e + J, Z + i),
                L: k,
                WQ: M == 4 ? k.clone() : new fB(e - J, Z - i)
            })
        }
        var $ = new dj;
        $.rotate(-K);
        $.scale(Q, Q);
        $.translate(w, o);
        v.P.nB(R, $);
        return R
    };
    v.AD = {};
    v.AD.type = {
        warpNone: [22, 5, 0],
        warpCustom: [22, 5, 16],
        warpArc: [22, 5, 1],
        warpArcLower: [22, 5, 2],
        warpArcUpper: [22, 5, 3],
        warpArch: [22, 5, 4],
        warpBulge: [22, 5, 5],
        warpShellLower: [22, 5, 6],
        warpShellUpper: [22, 5, 7],
        warpFlag: [22, 5, 8],
        warpWave: [22, 5, 9],
        warpFish: [22, 5, 10],
        warpRise: [22, 5, 11],
        warpFisheye: [22, 5, 12],
        warpInflate: [22, 5, 13],
        warpSqueeze: [22, 5, 14],
        warpTwist: [22, 5, 15]
    };
    v.AD.WZ = function(w) {
        var o = w.warpStyle.v.warpStyle;
        if (o == "warpNone") return !0;
        else if (o == "warpCustom") {
            var Q = !1,
                K = w.customEnvelopeWarp.v.meshPoints.v.arr,
                b = K[0].arr,
                R = K[1].arr;
            for (var M = 0; M < 4; M++)
                for (var X = 0; X < 4; X++) {
                    if (Math.abs(b[M] - b[X * 4 + M]) > 1 || Math.abs(R[M * 4] - R[M * 4 + X]) > 1) Q = !0
                }
            return !Q
        } else return w.warpValue.v == 0 && w.warpPerspective.v == 0 && w.warpPerspectiveOther.v == 0
    };
    v.AD.$ = function(w) {
        var o = {
            classID: "warp",
            warpStyle: {
                t: "enum",
                v: {
                    warpStyle: "warpNone"
                }
            },
            warpValue: {
                t: "doub",
                v: 0
            },
            warpPerspective: {
                t: "doub",
                v: 0
            },
            warpPerspectiveOther: {
                t: "doub",
                v: 0
            },
            warpRotate: {
                t: "enum",
                v: {
                    Ornt: "Hrzn"
                }
            }
        };
        if (w) {
            o.bounds = {
                t: "Objc",
                v: {
                    classID: "Rctn",
                    Top: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: w.y
                        }
                    },
                    Left: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: w.x
                        }
                    },
                    Btom: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: w.y + w.j
                        }
                    },
                    Rght: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: w.x + w.D
                        }
                    }
                }
            };
            o.uOrder = {
                t: "long",
                v: 4
            };
            o.vOrder = {
                t: "long",
                v: 4
            }
        }
        return o
    };
    v.AD.a9e = function(w, o, Q, K) {
        for (var M = 0; M < w.length; M += 2) {
            var b = w[M],
                R = w[M + 1],
                X = (b - o.x) / o.D,
                h = (R - o.y) / o.j,
                e = (1 - Q) / 2,
                Z = 1 - e,
                P = e + X * (Z - e);
            h = .5 + (h - .5) * P * 2;
            var J = (1 - K) / 2,
                i = 1 - J,
                k = J + h * (i - J);
            X = .5 + (X - .5) * k * 2;
            b = o.x + X * o.D;
            R = o.y + h * o.j;
            w[M] = b;
            w[M + 1] = R
        }
    };
    v.AD.d$ = function(w, o) {
        var Q = [],
            K = [];
        for (var M = 0; M < w.length; M += 2) {
            Q.push(w[M]);
            K.push(w[M + 1])
        }
        var b = [];
        b.push({
            id: "Hrzn",
            type: "UnFl",
            uID: "#Pxl",
            arr: Q
        });
        b.push({
            id: "Vrtc",
            type: "UnFl",
            uID: "#Pxl",
            arr: K
        });
        o.warpStyle.v.warpStyle = "warpCustom";
        o.customEnvelopeWarp = {
            t: "Objc",
            v: {
                classID: "customEnvelopeWarp",
                meshPoints: {
                    t: "ObAr",
                    v: {
                        classID: "rationalPoint",
                        arr: b
                    }
                }
            }
        }
    };
    v.AD.rh = function(w, o) {
        if (o == null) {
            var Q = w.bounds.v,
                K = Q.Left.v.val,
                b = Q.Rght.v.val,
                R = Q.Top.v.val,
                X = Q.Btom.v.val;
            o = new B(K, R, b - K, X - R)
        }
        if (o.Kx()) o.D = o.j = 1;
        var h = [],
            e = w.warpStyle.v.warpStyle;
        if (e == "warpCustom") {
            var Z = w.customEnvelopeWarp.v.meshPoints.v.arr,
                P = Z[0].arr,
                J = Z[1].arr;
            for (var M = 0; M < 16; M++) h.push(P[M], J[M])
        } else h = v.AD.AD(o, e, w.warpRotate.v.Ornt == "Hrzn", w.warpValue.v / 100, w.warpPerspective.v / 100, w.warpPerspectiveOther.v / 100);
        return h
    };
    v.AD.AD = function(w, o, Q, K, b, R) {
        var X = v.sp.$(w.x, w.y, w.D, w.j);
        if (o == "warpNone") return X;
        var h = JSON.parse(JSON.stringify(w)),
            e = new dj;
        if (!Q) {
            e.translate(-w.x, -w.y);
            e.rotate(-Math.PI / 2);
            e.translate(w.j, 0);
            v.w.H(X, e, X);
            w = new B(0, 0, w.j, w.D);
            X = v.sp.NY(X, !1)
        }
        v.AD.aha(X, w, o, K, b, R);
        if (!Q) {
            X = v.sp.NY(X, !0);
            w = h;
            e.MF();
            v.w.H(X, e, X)
        }
        if (K == 0) v.AD.a9e(X, w, b, R);
        else {
            var e = new dj(1 / w.D, 0, 0, 1 / w.j, -w.x, -w.y);
            e.translate(-.5, -.5);
            v.w.H(X, e, X);
            v.AD.a9G(X, R, b);
            e.MF();
            v.w.H(X, e, X)
        }
        return X
    };
    v.AD.aha = function(w, o, Q, K, b, R) {
        for (var M = 0; M < 4; M++) {
            for (var X = 0; X < 4; X++) {
                var h = 2 * (4 * M + X),
                    e = w[h] - o.x,
                    Z = w[h + 1] - o.y,
                    P = e,
                    J = Z;
                if (K != 0) {
                    var i = o.D / 2,
                        k = o.j / 2;
                    P -= i;
                    J -= k;
                    var $ = P,
                        n = P,
                        j = -k,
                        y = k,
                        V = Math.abs(K),
                        O = Math.tan((1 - V) * Math.PI / 2),
                        S = Math.sqrt(O * O + 1),
                        G = Math.atan2(1, O),
                        D = P / i * G,
                        q = i * S,
                        T = i * S + o.j,
                        L = Math.cos(G),
                        N = Math.sin(G),
                        F = v.AD.a36(L, N),
                        I = v.AD.a9m(L, N),
                        s = -O * i + F * q;
                    if (Q == "warpArc") {
                        $ = Math.sin(D) * T;
                        j = O * i - Math.cos(G) * T + k;
                        n = Math.sin(D) * q;
                        y = O * i - Math.cos(G) * q + k;
                        if (X == 1 || X == 2) {
                            $ = X == 1 ? -I * T : I * T;
                            n = X == 1 ? -I * q : I * q;
                            j = O * i + k - F * T;
                            y = O * i + k - F * q
                        }
                        if (K < 0) {
                            var u = $;
                            $ = n;
                            n = u;
                            u = j;
                            j = -y;
                            y = -u
                        }
                    }
                    if (Q == "warpArcLower") {
                        if (X == 1 || X == 2) {
                            n = X == 1 ? -I * q : I * q;
                            y = K < 0 ? k - s : k + s
                        }
                    }
                    if (Q == "warpArcUpper" || Q == "warpArch" || Q == "warpBulge") {
                        if (X == 1 || X == 2) {
                            $ = X == 1 ? -I * q : I * q;
                            j = K < 0 ? -k + s : -k - s
                        }
                        if (Q == "warpArch") {
                            n = $;
                            y = j + 2 * k
                        }
                        if (Q == "warpBulge") {
                            n = $;
                            y = -j
                        }
                    }
                    if (Q == "warpFish" || Q == "warpFlag" || Q == "warpWave") {
                        if (X == 1) {
                            j -= K * 4 * k;
                            y += K * 4 * k
                        }
                        if (X == 2) {
                            j += K * 4 * k;
                            y -= K * 4 * k
                        }
                        if (Q == "warpFlag" || Q == "warpWave") j = y - 2 * k
                    }
                    if (Q == "warpRise") {
                        if (X < 2) j = -k + K * k * 4;
                        y = j + 2 * k
                    }
                    var g = (J + k) / o.j;
                    P = $ + g * (n - $);
                    J = j + g * (y - j);
                    if (Q == "warpWave") {
                        if (M == 0) J = -k;
                        if (M == 3) J = k;
                        if (M == 1 || M == 2) J = 2 * k * (M / 3 - .5) * (1 / 3) + J * (2 / 3)
                    }
                    if (Q == "warpFisheye") {
                        if ((M == 1 || M == 2) && (X == 1 || X == 2)) {
                            P = P + 4 * P * K;
                            J = J + 4 * J * K
                        }
                    }
                    if (Q == "warpInflate") {
                        var U = 2 / 3;
                        if ((M == 1 || M == 2) && (X == 1 || X == 2)) {
                            P = P + .5 * P * K;
                            J = J + .5 * J * K
                        } else if (M == 1 || M == 2) P = P + U * P * K;
                        else if (X == 1 || X == 2) J = J + U * J * K
                    }
                    if (Q == "warpSqueeze") {
                        var U = 2 / 3;
                        if ((M == 1 || M == 2) && (X == 1 || X == 2)) {
                            if (K > 0) P = P - U * P * K;
                            else J = J + U * J * K
                        } else if (M == 1 || M == 2) P = P - U * P * K;
                        else if (X == 1 || X == 2) J = J + U * J * K
                    }
                    if (Q == "warpTwist") {
                        if ((M == 1 || M == 2) && (X == 1 || X == 2)) {
                            var r = K * Math.PI / 2,
                                S = 1 + Math.abs(K) * 2,
                                x = P * Math.cos(r) - J * Math.sin(r),
                                C = P * Math.sin(r) + J * Math.cos(r);
                            P = x * S;
                            J = C * S
                        }
                    }
                    if (Q == "warpShellLower" || Q == "warpShellUpper") {
                        if (Q == "warpShellUpper") {
                            M = 3 - M;
                            J = -J
                        }
                        if (M > 2 || M == 2 && (X == 0 || X == 3)) {
                            if (K > 0) {
                                var p = q + M / 3 * 2 * k;
                                P = Math.sin(D) * p;
                                J = -O * i - k + Math.cos(D) * p;
                                if (X == 1 || X == 2) {
                                    P = X == 1 ? -I * p : I * p;
                                    J = -O * i - k + F * p
                                }
                            } else {
                                if ((X == 1 || X == 2) && M == 3) {
                                    P = X == 1 ? -I * q : I * q;
                                    J = O * i - F * q + k
                                } else if (M == 2) {
                                    J = k - k * (2 / 3) * Math.cos(D);
                                    P = P + k * (2 / 3) * Math.sin(D)
                                }
                            }
                        }
                        if (Q == "warpShellUpper") {
                            M = 3 - M;
                            J = -J
                        }
                    }
                    P += i;
                    J += k
                }
                e = P, Z = J;
                w[h] = e + o.x;
                w[h + 1] = Z + o.y
            }
        }
    };
    v.AD.a9G = function(w, o, Q) {
        var K = [];
        for (var b = 0; b < 4; b++) K.push(1 - Q + b / 3 * 2 * Q);
        var R = [];
        for (var b = 0; b < 4; b++) R.push(1 - o + b / 3 * 2 * o);
        var X = [0, 0, 0, 0],
            h = [0, 0, 0, 0];
        for (var M = 0; M < 4; M++)
            for (var b = 0; b < 4; b++) {
                var e = 2 * (4 * M + b),
                    Z = w[e],
                    P = w[e + 1];
                X[b] += Z / 4;
                h[b] += P / 4
            }
        for (var M = 0; M < 4; M++)
            for (var b = 0; b < 4; b++) {
                var J = K[b],
                    e = 2 * (4 * M + b),
                    Z = w[e],
                    P = w[e + 1],
                    i = X[b],
                    k = h[b];
                w[e] = i + J * (Z - i);
                w[e + 1] = k + J * (P - k)
            }
        var $ = w.slice(0);
        for (var M = 0; M < 4; M++)
            for (var b = 1; b < 3; b++) {
                var e = 2 * (4 * M + b),
                    Z = w[e],
                    P = w[e + 1],
                    n = e + (b == 1 ? -2 : 2),
                    j = w[n],
                    y = w[n + 1];
                w[e] = Z - j;
                w[e + 1] = P - y
            }
        var V = w[0],
            O = w[1],
            S = w[8],
            G = w[9],
            D = w[16],
            q = w[17],
            T = w[24],
            L = w[25],
            N = w[6],
            F = w[7],
            I = w[14],
            s = w[15],
            u = w[22],
            g = w[23],
            U = w[30],
            r = w[31],
            x = N - V,
            C = F - O,
            p = I - S,
            l = s - G,
            c = u - D,
            t = g - q,
            H = U - T,
            gl = r - L;
        for (var M = 0; M < 4; M++) {
            var ie = 2 * M * 4,
                fk = 0,
                h5 = 0,
                cf = M == 1 ? .33 : .66,
                f = 1 - cf;
            if (M == 0) {
                fk = x;
                h5 = C
            }
            if (M == 1) {
                fk = f * x + cf * -H;
                h5 = f * C + cf * -gl
            }
            if (M == 2) {
                fk = f * x + cf * -H;
                h5 = f * C + cf * -gl
            }
            if (M == 3) {
                fk = -H;
                h5 = -gl
            }
            w[ie] = w[ie] + fk / 2;
            w[ie + 1] = w[ie + 1] + h5 / 2;
            w[ie + 6] = w[ie + 6] - fk / 2;
            w[ie + 7] = w[ie + 7] - h5 / 2
        }
        for (var M = 0; M < 4; M++)
            for (var b = 1; b < 3; b++) {
                var e = 2 * (4 * M + b),
                    Z = w[e],
                    P = w[e + 1],
                    n = e + (b == 1 ? -2 : 2),
                    j = w[n],
                    y = w[n + 1],
                    J = 2 * M / 3;
                w[e] = j + J * Z;
                w[e + 1] = y + J * P
            }
        for (var M = 1; M < 3; M++)
            for (var b = 1; b < 3; b++) {
                var e = 2 * (4 * M + b),
                    Z = w[e],
                    P = w[e + 1],
                    aH = M == 1 ? -8 : -16,
                    gY = M == 1 ? 16 : 8,
                    cC = w[e + aH],
                    cY = w[e + aH + 1],
                    gJ = w[e + gY],
                    bM = w[e + gY + 1],
                    J = M / 3;
                Z = (1 - J) * cC + J * gJ;
                P = (1 - J) * cY + J * bM;
                w[e] = Z;
                w[e + 1] = P
            }
        v.w.dT($, w, w, o)
    };
    v.AD.a36 = function(w, o) {
        return (4 - w) * (1 / 3)
    };
    v.AD.a9m = function(w, o) {
        return (1 - w) * (3 - w) / (3 * o)
    };
    v.EN = {};
    v.EN.JA = function(w, o, Q, K, b, R, X, h, e, Z) {
        var P = [0, 1, 1 / 2, 1 / 3, 1 / 4, 1 / 5, 1 / 6, 1 / 7, 1 / 8, 1 / 9],
            J = 1 / e,
            i = [-1, -1, 0, -1, 1, -1, -1, 0, 1, 0, -1, 1, 0, 1, 1, 1],
            k = new Uint32Array(6);
        for (var $ = 0; $ < h; $++) {
            for (var n = 0; n < X; n++) {
                var j = 3 * ($ * X + n),
                    y = $ + R,
                    V = n + b;
                k[0] = 0;
                k[1] = 0;
                k[2] = 0;
                k[3] = 0;
                k[4] = 0;
                k[5] = 0;
                for (var M = 0; M < 16; M += 2) {
                    var O = V + i[M],
                        S = y + i[M + 1],
                        G = O - e * ~~(O * J),
                        D = S - e * ~~(S * J),
                        q = Z[D * e + G];
                    k[q] += w[S * o + O];
                    k[q + 3]++
                }
                var O = V,
                    S = y,
                    G = O - e * ~~(O * J),
                    D = S - e * ~~(S * J),
                    q = Z[D * e + G];
                k[q] = w[y * o + V];
                k[q + 3] = 1;
                K[j] = k[0] * P[k[3]];
                K[j + 1] = k[1] * P[k[4]];
                K[j + 2] = k[2] * P[k[5]]
            }
        }
    };
    v.EN.Lw = function(w, o, Q) {
        for (var M = 0; M < Q; M += 2) w[o + M] = w[o + M + 1];
        o = o + Q;
        for (var M = 0; M < Q; M += 2) w[o + M + 1] = w[o + M]
    };
    v.EN.KO = function(w, o, Q, K) {
        for (var M = 0; M < K; M += 2) {
            var b = o + M * Q;
            w[b] = w[b + Q];
            w[b + Q + 1] = w[b + 1]
        }
    };
    v.EN.Pg = function(w, o, Q, K, b, R) {
        var X = K[b],
            h = K[b + 1],
            e = K[R],
            Z = K[R + 1],
            P = h + e >>> 1;
        w[o] = w[o + 3] = w[Q] = w[Q + 3] = X;
        w[o + 1] = P;
        w[o + 4] = h;
        w[Q + 1] = e;
        w[Q + 4] = P;
        w[o + 2] = w[o + 5] = w[Q + 2] = w[Q + 5] = Z
    };
    v.EN.agT = function(w, o, Q, K, b, R) {
        var X = R * 3;
        for (var M = 0; M < R; M += 2) {
            var h = o + M,
                e = b + M * 3;
            v.EN.Pg(K, e, e + X, w, h, h + Q)
        }
    };
    v.EN.akG = function(w, o, Q, K, b, R, X) {
        var h = R * 3;
        for (var M = 0; M < X; M += 2) {
            var e = o + M * Q,
                Z = b + M * R * 3;
            v.EN.Pg(K, Z, Z + h, w, e, e + Q)
        }
    };
    v.EN.sU = function(w, M, o) {
        var Q = w[M - o - o],
            K = w[M - o],
            b = w[M - 2],
            R = w[M - 1],
            X = w[M],
            h = w[M + 1],
            e = w[M + 2],
            Z = w[M + o],
            P = w[M + o + o],
            J = Math.abs(K - Z),
            i = Math.abs(R - h),
            k = Math.abs(X - Q) * 2 + J,
            n = Math.abs(X - e) * 2 + i,
            j = Math.abs(X - b) * 2 + i,
            y = Math.abs(X - P) * 2 + J,
            V = Math.min(k, Math.min(n, Math.min(j, y)));
        if (V == k) return K * 3 + Z + X - Q >> 2;
        if (V == n) return h * 3 + R + X - e >> 2;
        if (V == j) return R * 3 + h + X - b >> 2;
        return Z * 3 + K + X - P >> 2
    };
    v.EN.xd = function(w, o, Q, K, b) {
        if (w < o && o < Q || w > o && o > Q) return ~~(.5 + K + (b - K) * (o - w) / (Q - w));
        else return (K + b >> 1) + (o + o - w - Q >> 2)
    };
    v.EN.NI = function(w, o, M, Q) {
        var K = o[M - Q - 1],
            b = o[M - Q + 1],
            R = o[M],
            X = o[M + Q - 1],
            h = o[M + Q + 1],
            e = w[M - Q - 1],
            Z = w[M - Q + 1],
            P = w[M],
            J = w[M + Q - 1],
            i = w[M + Q + 1],
            k = Math.abs(Z - J) + Math.abs(w[M - Q - Q + 2] - P) + Math.abs(P - w[M + Q + Q - 2]) + Math.abs(b - R) + Math.abs(R - X),
            $ = Math.abs(e - i) + Math.abs(w[M - Q - Q - 2] - P) + Math.abs(P - w[M + Q + Q + 2]) + Math.abs(K - R) + Math.abs(R - h);
        if (k < $) return v.EN.xd(b, R, X, Z, J);
        else return v.EN.xd(K, R, h, e, i)
    };
    v.EN.HX = function(w, o, Q, K, b, R) {
        w[o + 0] = Q[b];
        w[o + 1] = K[b];
        w[o + 2] = v.EN.NI(Q, K, b, R)
    };
    v.EN.Y2 = function(w, o, Q, K, b, R) {
        var X = K[b];
        w[o + 0] = v.EN.xd(K[b - 1], X, K[b + 1], Q[b - 1], Q[b + 1]);
        w[o + 1] = X;
        w[o + 2] = v.EN.xd(K[b - R], X, K[b + R], Q[b - R], Q[b + R])
    };
    v.EN.YK = function(w, o, Q, K, b, R) {
        var X = K[b];
        w[o + 0] = v.EN.xd(K[b - R], X, K[b + R], Q[b - R], Q[b + R]);
        w[o + 1] = X;
        w[o + 2] = v.EN.xd(K[b - 1], X, K[b + 1], Q[b - 1], Q[b + 1])
    };
    v.EN.Fz = function(w, o, Q, K, b, R) {
        w[o + 0] = v.EN.NI(Q, K, b, R);
        w[o + 1] = K[b];
        w[o + 2] = Q[b]
    };
    v.EN.a2j = function(w, o, Q, K, b, R, X, h, e) {
        var Z = Date.now(),
            P = 2,
            J = o - 2,
            i = 2;
        if ((b & 1) == 1) {
            P++;
            J--
        }
        var k = Q - 2;
        if ((R & 1) == 1) {
            i++;
            k--
        }
        if (e == 1 || e == 3) {
            P++;
            J--
        }
        var $ = w.slice(0);
        v.EN.Lw($, 0, o);
        v.EN.KO($, 0, o, Q);
        v.EN.KO($, o - 2, o, Q);
        v.EN.Lw($, (Q - 2) * o, o);
        for (var n = i; n < k; n += 2)
            for (var j = P; j < J; j += 2) {
                var M = n * o + j,
                    y = v.EN.sU($, M, o),
                    V = v.EN.sU($, M + o + 1, o);
                $[M] = Math.max(0, y);
                $[M + o + 1] = Math.max(0, V)
            }
        var O = X,
            S = h;
        if (R + h == Q) {
            S -= 2;
            v.EN.agT(w, (Q - 2) * o + b, o, K, (h - 2) * X * 3, X)
        }
        if (b + X == o) {
            O -= 2;
            v.EN.akG(w, R * o + b + X - 2, o, K, (X - 2) * 3, X, h)
        }
        if (e == 0)
            for (var n = 0; n < S; n += 2)
                for (var j = 0; j < O; j += 2) {
                    var G = (n + R) * o + j + b,
                        D = (n * X + j) * 3;
                    v.EN.HX(K, D, w, $, G, o);
                    v.EN.Y2(K, D + 3, w, $, G + 1, o);
                    G += o;
                    D += 3 * X;
                    v.EN.YK(K, D, w, $, G, o);
                    v.EN.Fz(K, D + 3, w, $, G + 1, o)
                } else if (e == 1)
                    for (var n = 0; n < S; n += 2)
                        for (var j = 0; j < O; j += 2) {
                            var G = (n + R) * o + j + b,
                                D = (n * X + j) * 3;
                            v.EN.Y2(K, D, w, $, G, o);
                            v.EN.HX(K, D + 3, w, $, G + 1, o);
                            G += o;
                            D += 3 * X;
                            v.EN.Fz(K, D, w, $, G, o);
                            v.EN.YK(K, D + 3, w, $, G + 1, o)
                        } else if (e == 2)
                            for (var n = 0; n < S; n += 2)
                                for (var j = 0; j < O; j += 2) {
                                    var G = (n + R) * o + j + b,
                                        D = (n * X + j) * 3;
                                    v.EN.Fz(K, D, w, $, G, o);
                                    v.EN.YK(K, D + 3, w, $, G + 1, o);
                                    G += o;
                                    D += 3 * X;
                                    v.EN.Y2(K, D, w, $, G, o);
                                    v.EN.HX(K, D + 3, w, $, G + 1, o)
                                } else if (e == 3)
                                    for (var n = 0; n < S; n += 2)
                                        for (var j = 0; j < O; j += 2) {
                                            var G = (n + R) * o + j + b,
                                                D = (n * X + j) * 3;
                                            v.EN.YK(K, D, w, $, G, o);
                                            v.EN.Fz(K, D + 3, w, $, G + 1, o);
                                            G += o;
                                            D += 3 * X;
                                            v.EN.HX(K, D, w, $, G, o);
                                            v.EN.Y2(K, D + 3, w, $, G + 1, o)
                                        }
    };
    v.raw = {};
    v.raw.a4Q = function(w) {
        var o = w.width,
            Q = w.height,
            K = Date.now(),
            b = v.raw.a9q(w),
            R = 0,
            X = 0;
        v.raw.lw(2, w, b, o, Q);
        var h = o,
            e = Q;
        if (w.t50829) {
            var Z = w.t50829;
            R = Z[1];
            X = Z[0];
            h = Z[3];
            e = Z[2]
        }
        if (w.t50719) {
            var P = w.t50719;
            R += P[0] >> 1 << 1;
            X += P[1] >> 1 << 1
        }
        if (w.t50720) {
            var J = w.t50720;
            h = R + J[0];
            e = X + J[1]
        }
        var i = h - R,
            k = e - X,
            $ = new Float32Array(i * k * 3);
        if (w.t277[0] == 1) {
            var n = w.t33421;
            if (n.length != 2 || n[0] != 2 || n[1] != 2) {
                console.log("Unknown CFA pattern size", n);
                v.EN.JA(b, o, Q, $, R, X, i, k, n[0], w.t33422)
            } else {
                var j = w.t33422.join(","),
                    y = 0;
                if (j == "0,1,1,2") y = 0;
                else if (j == "1,0,2,1") y = 1;
                else if (j == "2,1,1,0") y = 2;
                else if (j == "1,2,0,1") y = 3;
                else throw "Unknown CFA pattern " + j;
                if ((i & 1) != 0 || (k & 1) != 0) throw "e";
                v.EN.a2j(b, o, Q, $, R, X, i, k, y)
            }
        } else {
            for (var V = 0; V < k; V++)
                for (var O = 0; O < i; O++) {
                    var S = ((V + X) * o + O + R) * 3,
                        G = (V * i + O) * 3;
                    $[G + 0] = b[S + 0];
                    $[G + 1] = b[S + 1];
                    $[G + 2] = b[S + 2]
                }
        }
        var D = $,
            q = $.length,
            T = v.raw.adp(w),
            L = 1 / T;
        for (var M = 0; M < q; M += 3) {
            $[M] = Math.min(1, D[M] * L);
            $[M + 1] = Math.min(1, D[M + 1] * L);
            $[M + 2] = Math.min(1, D[M + 2] * L)
        }
        v.raw.lw(3, w, $, i, k);
        var N = w.rJ,
            F = i,
            I = k;
        if (N == 1 || N == 9) {} else {
            var s = v.raw.C5(N, i, k),
                G = 0;
            F = s[0];
            I = s[1];
            var u = $.slice(0);
            for (var V = 0; V < I; V++)
                for (var O = 0; O < F; O++) {
                    var g = s[2] * O + s[3] * V + s[4],
                        U = s[5] * O + s[6] * V + s[7],
                        S = (U * i + g) * 3;
                    $[G] = u[S];
                    $[G + 1] = u[S + 1];
                    $[G + 2] = u[S + 2];
                    G += 3
                }
        }
        return {
            Sg: $,
            Mq: F,
            Jk: I
        }
    };
    v.raw.C5 = function(w, o, Q) {
        var K = o,
            b = Q;
        if (w == 3) return [o, Q, -1, 0, o - 1, 0, -1, Q - 1];
        else if (w == 6) return [Q, o, 0, 1, 0, -1, 0, Q - 1];
        else if (w == 8) return [Q, o, 0, -1, o - 1, 1, 0, 0];
        else if (w == 2) return [o, Q, -1, 0, o - 1, 0, 1, 0];
        else throw "unknown orientation " + w
    };
    v.raw.ZF = function(w, o, Q, K) {
        var b = w.Sg,
            R = Math.round(b.length / 3),
            X = h0.afm(K[0], K[1]),
            h = v.raw.ame(Q, X),
            e = v.AU.multiply(v.AU.Iz, h),
            Z = Math.pow(2, K[2] + (Q.t50730 ? Q.t50730[0] : 0));
        e = v.AU.multiply(e, v.AU.Of(Z, Z, Z));
        var P = Q.t50728 ? Q.t50728 : [1, 1, 1],
            J = [P[1] / P[0], P[2] / P[0], P[0] / P[1], P[2] / P[1], P[0] / P[2], P[1] / P[2]],
            i = new Float64Array(1e3);
        for (var M = 0; M < 1e3; M++) {
            var k = M * (1 / 999);
            k = M == 999 ? 1 : v.IY(M * (1 / 999));
            k = v.raw.Jx.adN(k, K[3] / 100);
            i[M] = k
        }
        var $ = Date.now();
        for (var M = 0; M < R; M++) {
            var n = M << 2,
                j = n - M,
                y = b[j],
                V = b[j + 1],
                O = b[j + 2];
            if (V >= .92) {
                var S = Math.min(y, O);
                if (S == y) {
                    V = Math.max(V, J[0] * y);
                    O = Math.max(O, J[1] * y)
                } else {
                    y = Math.max(y, J[4] * O);
                    V = Math.max(V, J[5] * O)
                }
            }
            var G = e[0] * y + e[1] * V + e[2] * O,
                D = e[4] * y + e[5] * V + e[6] * O,
                q = e[8] * y + e[9] * V + e[10] * O;
            if (G < 0) G = 0;
            else if (G > 1) G = 1;
            if (D < 0) D = 0;
            else if (D > 1) D = 1;
            if (q < 0) q = 0;
            else if (q > 1) q = 1;
            G = i[~~(G * 999)];
            D = i[~~(D * 999)];
            q = i[~~(q * 999)];
            o[n] = ~~(.5 + G * 255);
            o[n + 1] = ~~(.5 + D * 255);
            o[n + 2] = ~~(.5 + q * 255)
        }
    };
    v.raw.Jx = {
        adN: function(w, o) {
            var Q = .5 - .5 * Math.cos(w * 3.2),
                K = 0;
            if (o > 0) {
                var b = w * .2;
                K = b * w + (1 - b) * Q
            } else {
                var R = Math.pow(w, .33);
                K = (1 - R) * R + R * (w + (w - Q) * .63)
            }
            var X = Math.abs(o);
            return X * K + (1 - X) * w
        },
        a3f: function(w, o) {
            var Q = 0;
            if (o > 0) {
                var K = w * 1.47,
                    b = Math.pow(w, 2.4);
                Q = Math.min(1, b * w + (1 - b) * K)
            } else {
                var K = w * .68,
                    b = Math.pow(w, 3);
                Q = b * w * .5 + (1 - b) * K
            }
            var R = Math.abs(o);
            return R * Q + (1 - R) * w
        },
        a6n: function(w, o) {
            var Q = 0;
            if (o > 0) {
                var K = Math.pow(w, .3),
                    b = w;
                Q = (1 - w) * K + w * b
            } else {
                var K = Math.pow(w, 2.5),
                    R = w,
                    b = w;
                Q = Math.min(1, (1 - R) * K + R * b)
            }
            var X = Math.abs(o);
            return X * Q + (1 - X) * w
        }
    };
    v.raw.a9q = function(w) {
        var o = w.width,
            Q = w.height,
            K = o * Q * w.t277,
            b = new Uint16Array(K),
            R = null,
            X = 0;
        v.raw.a54(w, b);
        v.raw.lw(1, w, b, o, Q);
        if (w.t50712) {
            R = w.t50712;
            X = R.length - 1;
            if (R[X] > 65535) throw "too big values"
        }
        var h = v.raw.D2(w),
            e = v.raw.mE(w);
        if (R == null)
            for (var M = 0; M < K; M++) b[M] = Math.max(0, b[M] - h);
        else
            for (var M = 0; M < K; M++) {
                var Z = b[M];
                if (Z > X) Z = X;
                Z = R[Z];
                b[M] = Math.max(0, Z - h)
            }
        return b
    };
    v.raw.D2 = function(w) {
        var o = w.t50714,
            Q = o ? o[0] : 0,
            K = w.t50715,
            b = w.t50716;
        if (K) Q += K[0];
        if (b) Q += b[0];
        return Math.round(Q)
    };
    v.raw.mE = function(w) {
        var o = null,
            Q = 0;
        if (w.t50712) {
            o = w.t50712;
            Q = o.length - 1
        }
        var K = w.t50717 ? w.t50717[0] : (1 << w.t258[0]) - 1;
        if (o) K = Math.min(K, o[Q]);
        return K
    };
    v.raw.adp = function(w) {
        var o = v.raw.D2(w),
            Q = v.raw.mE(w);
        return Q - o
    };
    v.raw.a54 = function(w, o) {
        var Q = o.length,
            K = w.data,
            b = w.t258[0];
        if (b != 16 && b != 14 && b != 12 && b != 10 && b != 8) throw "Unsupported Bits Per Sample:" + b;
        b = Math.round(K.length * 8 / Q);
        if (b == 16 && w.isLE) {
            v.gb(K, o);
            return
        }
        for (var M = 0; M < Q; M += 2) {
            var R = 0,
                X = 0,
                h = 0;
            if (b == 16) {
                R = M << 1;
                X = K[R] << 8 | K[R + 1];
                h = K[R + 2] << 8 | K[R + 3]
            } else if (b == 14) {
                var e = M * 14,
                    Z = e >>> 3,
                    P = K[Z] << 24 | K[Z + 1] << 16 | K[Z + 2] << 8 | K[Z + 3];
                if ((e & 7) == 0) {
                    X = P >>> 18;
                    h = P >>> 4 & 16383
                } else {
                    X = P >>> 14 & 16383;
                    h = P & 16383
                }
            } else if (b == 12) {
                R = M + (M >>> 1);
                X = K[R] << 4 | K[R + 1] >> 4;
                h = (K[R + 1] & 15) << 8 | K[R + 2]
            } else if (b == 10) {
                var e = M * 10,
                    Z = e >>> 3;
                if ((e & 7) == 0) {
                    X = (K[Z] << 2 | K[Z + 1] >> 6) & 1023;
                    h = (K[Z + 1] << 4 | K[Z + 2] >> 4) & 1023
                } else {
                    X = (K[Z] << 6 | K[Z + 1] >> 2) & 1023;
                    h = (K[Z + 1] << 8 | K[Z + 2] >> 0) & 1023
                }
            } else if (b == 8) {
                R = M;
                X = K[R];
                h = K[R + 1]
            }
            o[M] = X;
            o[M + 1] = h
        }
    };
    v.raw.lw = function(w, o, Q, K, b) {
        var R = o["t" + [51008, 51009, 51022][w - 1]],
            P = 0;
        if (R == null) return;
        var X = K * b,
            h = W.g,
            e = W.Wg,
            Z = new Uint8Array(R),
            bV = W.g(Z, P);
        P += 4;
        for (var J = 0; J < bV; J++) {
            var i = h(Z, P);
            P += 4;
            var k = h(Z, P);
            P += 4;
            var $ = h(Z, P);
            P += 4;
            var n = h(Z, P);
            P += 4;
            if (!1) {} else if (i == 1 && w == 3) {
                var j = P,
                    y = h(Z, j);
                j += 4;
                var V = e(Z, j);
                j += 8;
                var O = e(Z, j);
                j += 8;
                var S = e(Z, j);
                j += 8;
                var G = e(Z, j);
                j += 8;
                var D = e(Z, j);
                j += 8;
                var q = e(Z, j);
                j += 8;
                j += (y - 1) * 8 * 6;
                var T = e(Z, j);
                j += 8;
                var L = e(Z, j);
                j += 8;
                var N = T * K,
                    F = L * b,
                    I = Math.max(N, K - N),
                    s = Math.max(F, b - F),
                    u = Math.sqrt(I * I + s * s),
                    g = 1 / u,
                    U = Q.slice(0);
                for (var r = 0; r < b; r++)
                    for (var x = 0; x < K; x++) {
                        var C = (x + .5 - N) * g,
                            p = (r + .5 - F) * g,
                            l = C * C + p * p,
                            c = V + O * l + S * (l * l) + G * (l * l) * l,
                            t = D * (2 * C * p) + q * (l + 2 * C * C),
                            H = q * (2 * C * p) + D * (l + 2 * p * p),
                            gl = ~~(N + u * (c * C + t)),
                            ie = ~~(F + u * (c * p + H)),
                            fk = (ie * K + gl) * 3,
                            h5 = (r * K + x) * 3;
                        Q[h5] = U[fk];
                        Q[h5 + 1] = U[fk + 1];
                        Q[h5 + 2] = U[fk + 2]
                    }
            } else if (i == 3 && w == 3) {
                var j = P,
                    cf = e(Z, j);
                j += 8;
                var f = e(Z, j);
                j += 8;
                var aH = e(Z, j);
                j += 8;
                var gY = e(Z, j);
                j += 8;
                var cC = e(Z, j);
                j += 8;
                var T = e(Z, j);
                j += 8;
                var L = e(Z, j);
                j += 8;
                var N = T * K,
                    F = L * b,
                    I = Math.max(N, K - N),
                    s = Math.max(F, b - F),
                    u = Math.sqrt(I * I + s * s),
                    g = 1 / u;
                for (var r = 0; r < b; r++)
                    for (var x = 0; x < K; x++) {
                        var C = (x + .5 - N) * g,
                            p = (r + .5 - F) * g,
                            l = C * C + p * p,
                            cY = 1 + (cf + (f + (aH + (gY + cC * l) * l) * l) * l) * l,
                            h5 = (r * K + x) * 3;
                        Q[h5] = cY * Q[h5];
                        Q[h5 + 1] = cY * Q[h5 + 1];
                        Q[h5 + 2] = cY * Q[h5 + 2]
                    }
            } else if (i == 4 && w == 1) {
                var j = P,
                    gJ = h(Z, j);
                j += 4;
                var bM = h(Z, j);
                j += 4;
                for (var M = 0; M < X; M++)
                    if (Q[M] == gJ) Q[M] = Q[M - 2] + Q[M + 2] >> 1
            } else if (i == 5 && w == 1) {
                var j = P,
                    cN = h(Z, j);
                j += 4;
                var eu = h(Z, j);
                j += 4;
                var cU = h(Z, j);
                j += 4;
                for (var M = 0; M < eu; M++) {
                    var h7 = h(Z, j);
                    j += 4;
                    var hn = h(Z, j);
                    j += 4;
                    var M = h7 * K + hn;
                    Q[M] = Q[M - 2] + Q[M + 2] >> 1
                }
            } else if (i == 7 && w == 1) {
                var j = P,
                    gS = W.Er(Z, j);
                j += 16;
                var aq = h(Z, j);
                j += 4;
                var ef = h(Z, j);
                j += 4;
                var dU = h(Z, j),
                    hO = h(Z, j + 4);
                j += 8;
                var ao = h(Z, j);
                j += 4;
                var hI = new Uint16Array(ao);
                for (var M = 0; M < ao; M++) hI[M] = W.r9(Z, j + 2 * M);
                var a$ = gS.D,
                    hH = gS.j;
                for (var r = 0; r < hH; r += dU)
                    for (var x = 0; x < a$; x += hO) {
                        var M = (gS.y + r) * K + (gS.x + x);
                        Q[M] = hI[Q[M]]
                    }
            } else if (i == 9 && w == 2) {
                var j = P,
                    gS = W.Er(Z, j),
                    ba = !0;
                j += 16;
                var aq = h(Z, j);
                j += 4;
                var ef = h(Z, j);
                j += 4;
                var dU = h(Z, j),
                    hO = h(Z, j + 4);
                j += 8;
                var bq = h(Z, j),
                    dq = h(Z, j + 4);
                j += 8;
                var g9 = e(Z, j),
                    cx = e(Z, j + 8);
                j += 16;
                var hp = e(Z, j),
                    b0 = e(Z, j + 8);
                j += 16;
                var bh = h(Z, j);
                j += 4;
                if (bh != 1) throw "more than one map plane";
                var hA = bq * dq,
                    ft = new Float32Array(hA);
                for (var c6 = 0; c6 < hA; c6++) ft[c6] = W.If(Z, j + c6 * 4);
                for (var c6 = 0; c6 < hA; c6++)
                    if (ft[c6] != 1) ba = !1;
                if (!ba) {
                    var a$ = gS.D,
                        hH = gS.j,
                        f7 = .9999 * (dq - 1) / a$,
                        an = .9999 * (bq - 1) / hH;
                    for (var r = 0; r < hH; r += dU)
                        for (var x = 0; x < a$; x += hO) {
                            var M = (gS.y + r) * K + (gS.x + x),
                                b5 = x * f7,
                                hG = r * an,
                                eE = Math.floor(b5),
                                aV = Math.floor(hG),
                                dp = b5 - eE,
                                en = hG - aV,
                                h5 = aV * dq + eE,
                                f1 = ft[h5] * (1 - dp) + ft[h5 + 1] * dp,
                                de = ft[h5 + dq] * (1 - dp) + ft[h5 + 1 + dq] * dp,
                                dM = f1 * (1 - en) + de * en;
                            Q[M] = ~~(Q[M] * dM + .5)
                        }
                }
            } else console.log("Unknown opcode " + i + " in OpcodeList" + w + ". Length: " + n);
            P += n
        }
    };
    v.raw.ame = function(w, o) {
        var Q = h0.mw(o),
            K = v.raw.Hz(w, o),
            b = v.AU.MF(K),
            R = h0.a0K(Q, h0.mw(h0.ajl)),
            X = v.AU.multiply(R, b);
        return X
    };
    v.raw.a1W = function(w) {
        var o = (w.t50728 ? w.t50728 : [1, 1, 1]).slice(0),
            K = 1;
        o.push(0);
        var Q = {
            x: .34567,
            y: .3585
        };
        do {
            var b = v.AU.MF(v.raw.Hz(w, Q)),
                R = v.AU.kz(b, o),
                X = h0.agW(R);
            K = Math.abs(Q.x - X.x) + Math.abs(Q.y - X.y);
            Q = X
        } while (K > 1e-7);
        return Q
    };
    v.raw.Hz = function(w, o) {
        var Q = h0.jP(o),
            K = v.raw.a6s,
            b = w.t50779 ? w.t50779[0] : 0,
            R = K(w.t50721, w.t50722, w.t50778[0], b, Q.hB),
            X = K(w.t50723, w.t50724, w.t50778[0], b, Q.hB);
        X = X || [1, 0, 0, 0, 1, 0, 0, 0, 1];
        var h = w.t50727 ? [w.t50727[0], 0, 0, 0, w.t50727[1], 0, 0, 0, w.t50727[2]] : [1, 0, 0, 0, 1, 0, 0, 0, 1];
        return v.AU.multiply(v.AU.wY(h), v.AU.multiply(v.AU.wY(X), v.AU.wY(R)))
    };
    v.raw.a6s = function(w, o, Q, K, b) {
        if (!w && !o) {
            return null
        } else if (w && !o) {
            return w
        } else if (b < Q) {
            return w
        } else if (b > K) {
            return o
        } else {
            var R = (1 / b - 1 / K) / (1 / Q - 1 / K),
                X = 1 - R,
                h = [];
            for (var M = 0; M < 9; M++) h[M] = w[M] * R + o[M] * X;
            return h
        }
    };
    var h0 = {};
    h0.ajl = {
        x: .34567,
        y: .3585
    };
    h0.sn = [{
        W: 0,
        jT: .18006,
        O_: .26352,
        Ve: -.24341
    }, {
        W: 10,
        jT: .18066,
        O_: .26589,
        Ve: -.25479
    }, {
        W: 20,
        jT: .18133,
        O_: .26846,
        Ve: -.26876
    }, {
        W: 30,
        jT: .18208,
        O_: .27119,
        Ve: -.28539
    }, {
        W: 40,
        jT: .18293,
        O_: .27407,
        Ve: -.3047
    }, {
        W: 50,
        jT: .18388,
        O_: .27709,
        Ve: -.32675
    }, {
        W: 60,
        jT: .18494,
        O_: .28021,
        Ve: -.35156
    }, {
        W: 70,
        jT: .18611,
        O_: .28342,
        Ve: -.37915
    }, {
        W: 80,
        jT: .1874,
        O_: .28668,
        Ve: -.40955
    }, {
        W: 90,
        jT: .1888,
        O_: .28997,
        Ve: -.44278
    }, {
        W: 100,
        jT: .19032,
        O_: .29326,
        Ve: -.47888
    }, {
        W: 125,
        jT: .19462,
        O_: .30141,
        Ve: -.58204
    }, {
        W: 150,
        jT: .19962,
        O_: .30921,
        Ve: -.70471
    }, {
        W: 175,
        jT: .20525,
        O_: .31647,
        Ve: -.84901
    }, {
        W: 200,
        jT: .21142,
        O_: .32312,
        Ve: -1.0182
    }, {
        W: 225,
        jT: .21807,
        O_: .32909,
        Ve: -1.2168
    }, {
        W: 250,
        jT: .22511,
        O_: .33439,
        Ve: -1.4512
    }, {
        W: 275,
        jT: .23247,
        O_: .33904,
        Ve: -1.7298
    }, {
        W: 300,
        jT: .2401,
        O_: .34308,
        Ve: -2.0637
    }, {
        W: 325,
        jT: .24792,
        O_: .34655,
        Ve: -2.4681
    }, {
        W: 350,
        jT: .25591,
        O_: .34951,
        Ve: -2.9641
    }, {
        W: 375,
        jT: .264,
        O_: .352,
        Ve: -3.5814
    }, {
        W: 400,
        jT: .27218,
        O_: .35407,
        Ve: -4.3633
    }, {
        W: 425,
        jT: .28039,
        O_: .35577,
        Ve: -5.3762
    }, {
        W: 450,
        jT: .28863,
        O_: .35714,
        Ve: -6.7262
    }, {
        W: 475,
        jT: .29685,
        O_: .35823,
        Ve: -8.5955
    }, {
        W: 500,
        jT: .30505,
        O_: .35907,
        Ve: -11.324
    }, {
        W: 525,
        jT: .3132,
        O_: .35968,
        Ve: -15.628
    }, {
        W: 550,
        jT: .32129,
        O_: .36011,
        Ve: -23.325
    }, {
        W: 575,
        jT: .32931,
        O_: .36038,
        Ve: -40.77
    }, {
        W: 600,
        jT: .33724,
        O_: .36051,
        Ve: -116.45
    }];
    h0.jP = function(w) {
        var o = h0.sn,
            Q = 2 * w.x / (1.5 - w.x + 6 * w.y),
            K = 3 * w.y / (1.5 - w.x + 6 * w.y),
            b = 0,
            R = 0,
            X = 0;
        for (; X < 31; X++) {
            b = K - o[X].O_ - o[X].Ve * (Q - o[X].jT);
            if (X > 0 && b < 0) {
                break
            }
            R = b
        }
        while (X >= o.length) X--;
        b /= Math.sqrt(1 + o[X].Ve * o[X].Ve);
        R /= Math.sqrt(1 + o[X - 1].Ve * o[X - 1].Ve);
        var h = R / (R - b),
            e = 1e6 / ((o[X].W - o[X - 1].W) * h + o[X - 1].W),
            Z = Q - ((o[X].jT - o[X - 1].jT) * h + o[X - 1].jT),
            P = K - ((o[X].O_ - o[X - 1].O_) * h + o[X - 1].O_),
            J = Math.sqrt(1 + o[X].Ve * o[X].Ve),
            i = 1 / J,
            k = o[X].Ve / J,
            $ = Math.sqrt(1 + o[X - 1].Ve * o[X - 1].Ve),
            n = 1 / $,
            j = o[X - 1].Ve / $,
            y = (i - n) * h + n,
            V = (k - j) * h + j,
            O = Math.sqrt(y * y + V * V);
        y /= O;
        V /= O;
        var S = (Z * y + P * V) * -3e3;
        return {
            hB: e,
            XQ: S
        }
    };
    h0.afm = function(w, o) {
        var Q = h0.sn,
            K = 1e6 / w,
            b = 1;
        for (; b < 31; b++) {
            if (K < Q[b].W) {
                break
            }
        }
        var R = (Q[b].W - K) / (Q[b].W - Q[b - 1].W),
            X = (Q[b - 1].jT - Q[b].jT) * R + Q[b].jT,
            h = (Q[b - 1].O_ - Q[b].O_) * R + Q[b].O_,
            e = Math.sqrt(1 + Q[b].Ve * Q[b].Ve),
            Z = 1 / e,
            P = Q[b].Ve / e,
            J = Math.sqrt(1 + Q[b - 1].Ve * Q[b - 1].Ve),
            i = 1 / J,
            k = Q[b - 1].Ve / J,
            $ = (i - Z) * R + Z,
            n = (k - P) * R + P,
            j = Math.sqrt($ * $ + n * n);
        $ /= j;
        n /= j;
        X += $ * o / -3e3;
        h += n * o / -3e3;
        return {
            x: 1.5 * X / (X - 4 * h + 2),
            y: h / (X - 4 * h + 2)
        }
    };
    h0.agW = function(w) {
        var o = w[0] + w[1] + w[2];
        return {
            x: w[0] / o,
            y: w[1] / o
        }
    };
    h0.mw = function(w) {
        return {
            x: w.x / w.y,
            y: 1,
            rI: (1 - w.x - w.y) / w.y
        }
    };
    h0.a0K = function(w, o) {
        var Q = v.AU.wY([.8951, .2664, -.1614, -.7502, 1.7135, .0367, .0389, -.0685, 1.0296]),
            K = [w.x, w.y, w.rI, 0],
            b = [o.x, o.y, o.rI, 0];
        K = v.AU.kz(Q, K);
        b = v.AU.kz(Q, b);
        var R = b[0] / K[0],
            X = b[1] / K[1],
            h = b[2] / K[2],
            e = v.AU.wY([R, 0, 0, 0, X, 0, 0, 0, h]),
            Z = v.AU.MF(Q);
        return v.AU.multiply(v.AU.multiply(Z, e), Q)
    };
    v.raw.Kw = {};
    v.raw.qL = function(w) {
        w *= 8;
        var o = [8, 10, 12, 14, 16];
        for (var Q in v.raw.MH) {
            var K = v.raw.MH[Q];
            if (K.length == 4) continue;
            var b = K[4],
                R = K[5];
            for (var M = 0; M < o.length; M++)
                if (b * R * o[M] == w) return [Q, o[M]]
        }
        var X = [
            [4e3, 3e3]
        ];
        for (var M = 0; M < X.length; M++) {
            var K = X[M],
                b = K[0],
                R = K[1];
            for (var M = 0; M < o.length; M++)
                if (b * R * o[M] == w) return [K, o[M]]
        }
        return null
    };
    v.raw.ajz = function(w) {
        var w = new Uint8Array(w);
        for (var M = 0; M < w.length; M += 2) {
            var o = w[M];
            w[M] = w[M + 1];
            w[M + 1] = o
        }
        var Q = v.raw.qL(w.length),
            K = v.raw.MH[Q[0]];
        if (K == null) K = [
            [8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 0, 1e3, 64383, Q[0][0], Q[0][1]
        ];
        var b = K[4],
            R = K[5],
            X = Math.max(K[2], 116),
            h = {
                data: w,
                rJ: 1,
                width: b,
                height: R,
                t256: [b],
                t257: [R],
                t258: [Q[1]],
                t277: [1],
                t33421: [2, 2],
                t33422: v.raw.lR[K[1]],
                t50706: [1, 2, 0, 0],
                t50714: [X, X, X, X],
                t50717: [K[3]],
                t50721: K[0].slice(0),
                t50723: [1, 0, 0, 0, 1, 0, 0, 0, 1],
                t50728: [.64, 1, .46],
                t50778: [17]
            };
        for (var M = 0; M < 9; M++) h.t50721[M] /= 1e4;
        return h
    };
    v.raw.oY = function(w) {
        if (w == null || w.length == 0 || typeof w[0] == "number") return w;
        var o = [];
        for (var M = 0; M < w.length; M++) o[M] = w[M][1] == 0 ? 0 : w[M][0] / w[M][1];
        return o
    };
    v.raw.lR = [
        [2, 1, 1, 0],
        [0, 1, 1, 2],
        [1, 0, 2, 1],
        [1, 2, 0, 1]
    ];
    v.raw.normalize = function(w, o) {
        if (w.t50706 != null) {
            var Q = [50714, 50718, 50719, 50720, 50721, 50722, 50723, 50724, 50727, 50728, 50730, 50731, 50732, 50734, 50736, 50738, 50739, 50780, 50964, 50965];
            for (var M = 0; M < Q.length; M++)
                if (w["t" + Q[M]] != null) w["t" + Q[M]] = v.raw.oY(w["t" + Q[M]]);
            return
        }
        var K = w.t258[0],
            b = w.exifIFD,
            o = new Uint8Array(o);
        w.t50706 = [1, 2, 0, 0];
        var R = w.t272[0].trim();
        if (R.indexOf(" ") == -1) R = w.t271[0].trim() + " " + R;
        w.t50708 = [R];
        var X = v.raw.MH,
            h = X[R.toLowerCase()];
        if (h == null)
            for (var e in X)
                if (R.toLowerCase().startsWith(e)) h = X[e];
        if (h == null) throw R;
        var Z = h[2];
        w.t50714 = [Z, Z, Z, Z];
        w.t50717 = [h[3]];
        w.t50721 = h[0].slice(0);
        for (var M = 0; M < 9; M++) w.t50721[M] = w.t50721[M] * (1 / 1e4);
        w.t50723 = [1, 0, 0, 0, 1, 0, 0, 0, 1];
        if (w.t50728 == null) w.t50728 = [.35, 1, .6];
        w.t50778 = [17];
        if (w.t271[0].startsWith("SONY")) {
            var P = UTIF["_bin" + (w.isLE ? "LE" : "BE")],
                J = w.t28688,
                V;
            if (JSON.stringify(J) != "[8000,10400,12900,14100]") console.log(J);
            if (J) {
                var i = [0, 0, 0, 0, 0, 4095],
                    k = new Uint16Array(16385);
                for (var M = 0; M < 4; M++) {
                    var $ = J[M] >>> 2;
                    i[M + 1] = $;
                    if ($ > 4095) throw "e"
                }
                for (var M = 0; M < 16385; M++) k[M] = M;
                for (var M = 0; M < 5; M++)
                    for (var n = i[M] + 1; n <= i[M + 1]; n++) k[n] = k[n - 1] + (1 << M);
                var j = o.length * 8 < w.width * w.height * K;
                if (j) w.t50712 = k
            } else console.log("no curve");
            var y = w.dngPrvt;
            if (y) {
                var O = y.t29184[0],
                    S = y.t29185[0],
                    G = (w.isLE ? W.Fh : W.g)(y.t29217, 0),
                    D = new Uint32Array(o.slice(O, O + (S & 4294967292)).buffer),
                    q = new Uint32Array(S >>> 2);
                v.raw.aki(D, q, S >>> 2, G);
                var T = new Uint8Array(O + S);
                T.set(new Uint8Array(q.buffer), O);
                var L = [];
                UTIF._readIFD(P, T, O, L, 0, !1);
                var N = L.pop(),
                    F = N.t29458;
                w.t50728 = [F[1] / F[0], 1, F[1] / F[3]];
                w.t50730 = [.5];
                var I = N.t29891;
                w.t50829 = [I[1], I[0], I[3], I[2]]
            } else if (b.makerNote && b.makerNote.t8208) {
                var V = b.makerNote,
                    s = V.t8208,
                    u = s.length,
                    g = 0,
                    U = new Uint8Array(256);
                for (var M = 249; M < 256; M++) U[M] = M;
                for (var M = 0; M < 249; M++) U[M * M * M % 249] = M;
                for (var M = 0; M < u; M++) s[M] = U[s[M]];
                if (u == 6604) g = 612;
                else throw "e";
                var F = [];
                for (var M = 0; M < 3; M++) F.push(W.hg(s, g + M * 2));
                console.log(F);
                w.t50728 = [F[1] / F[0], 1, F[1] / F[2]]
            } else console.log("no white balance");
            if (w.width * w.height * 1.5 == w.t279[0]) {
                Z = Z >>> 2;
                w.t50714 = [Z, Z, Z, Z];
                w.t50717 = [h[3] >>> 2]
            }
        } else if (w.t271[0].startsWith("Canon")) {
            var o = w.data,
                r = o.slice(0),
                x = w.t50752,
                C = [],
                l = 0;
            if (x == null || x[0] == 0 && x[1] == 0) C.push(w.width);
            else {
                for (var M = 0; M < x[0]; M++) C.push(x[1]);
                C.push(x[2])
            }
            var p = w.width * 2;
            for (var c = 0; c < C.length; c++) {
                var t = C[c],
                    H = 2 * l,
                    gl = 2 * t;
                for (var ie = 0; ie < w.height; ie += 2) {
                    var fk = ie * p + H,
                        h5 = w.height * H + (ie >> 1) * gl * 2;
                    for (var M = 0; M < gl; M++) {
                        o[fk + M] = r[h5 + M];
                        o[fk + M + p] = r[h5 + M + gl]
                    }
                }
                l += t
            }
            var V = b.makerNote;
            if (V.t16385) {
                var cf = V.t224,
                    gY = 0;
                if (cf) {
                    w.t50719 = [cf[5], cf[6]];
                    w.t50720 = [cf[7] + 1 - cf[5], cf[8] + 1 - cf[6]]
                }
                var f = V.t16385,
                    aH = f.length;
                if (aH == 582) gY = 1;
                else if (aH == 653) gY = 2;
                else if (aH == 796) gY = 3;
                else if ([692, 674, 702, 1227, 1250, 1251, 1337, 1338, 1346].indexOf(aH) != -1) gY = 4;
                else if (aH == 5120) {
                    gY = 5;
                    f = new Int16Array(f.slice(0).buffer)
                } else if (aH == 1273 || aH == 1275) gY = 6;
                else if ([1312, 1313, 1316, 1506].indexOf(aH) != -1) gY = 7;
                else if ([1560, 1592, 1353, 1602].indexOf(aH) != -1) gY = 8;
                else throw "e" + aH;
                var cC = f[0],
                    cY = [null, [25, 166],
                        [34, 286],
                        [63, 196],
                        [63],
                        [71, cC == -4 ? 333 : 264],
                        [63, 251],
                        [63, cC == 10 ? 504 : 728],
                        [63, 326]
                    ],
                    g = cY[gY][0],
                    gJ = cY[gY][1];
                if (gY == 4) {
                    if (f[0] == 2) gJ = 231;
                    else if (f[0] == 3) gJ = 231;
                    else if (f[0] == 4) gJ = 231;
                    else if (f[0] == 5) gJ = 231;
                    else if (f[0] == 6) gJ = 231;
                    else if (f[0] == 7) gJ = 231;
                    else if (f[0] == 9) gJ = 231;
                    else throw "e"
                }
                w.t50728 = [f[g + 1] / f[g], 1, f[g + 1] / f[g + 3]];
                var Z = gJ == null ? 1024 : f[gJ];
                w.t50714 = [Z, Z, Z, Z]
            } else {
                w.t50728 = [.4, 1, .6]
            }
        } else if (w.t271[0].startsWith("NIKON")) {
            var V = b.makerNote,
                bM = w.isLE ? W.hg : W.m2,
                gS = 0,
                aq = 0,
                hI, hp = 0;
            if (V.t61) {
                var cN = V.t61,
                    eu = [];
                for (var M = 0; M < 4; M++) eu[M] = cN[M] / Math.pow(2, 14 - K);
                w.t50714 = eu
            }
            if (V.t3585) {
                var cU = V.t3585,
                    M = 0,
                    O = 22;
                while (O < cU.length && M != -4) {
                    var h7 = W.Fh(cU, O);
                    O += 4;
                    O += 14;
                    M = W.Fh(cU, O) - 4;
                    O += 4;
                    if (h7 == 1990472198) {
                        if (cU[O] != 0) throw "Flip"
                    }
                    if (h7 == 1990472199) {
                        var hn = W.hg(cU, O);
                        if (hn == 0) w.rJ = 1;
                        else if (hn == 270) w.rJ = 8;
                        else throw "e " + hn
                    }
                    O += M
                }
            }
            if (V.t183) {
                var ef = V.t183,
                    dU = [];
                for (var M = 0; M < 6; M++) dU.push(bM(ef, 16 + M * 2));
                gS = dU[0];
                aq = dU[1]
            }
            if (V.t3614) {
                var hO = V.t3614;
                gS = W.Fh(hO, 8);
                aq = W.Fh(hO, 12)
            }
            if (gS != 0) {
                if (gS < aq) {
                    var ao = gS;
                    gS = aq;
                    aq = ao
                }
                var l = w.width - gS >>> 1,
                    ie = w.height - aq >>> 1;
                w.t50829 = [ie, l, ie + aq, l + gS]
            }
            if (V.t12) {
                var a$ = v.raw.oY(V.t12);
                hI = [1 / a$[0], 1, 1 / a$[1]]
            } else if (V.t151) {
                var hH = v.raw.a59(V, 151),
                    bq = hH[0],
                    f4 = hH[1],
                    dq = hH[2];
                if (bq == "0100" && f4 >= 80) throw "e";
                else if (bq == "0102") {
                    var g9 = [];
                    for (var M = 0; M < 4; M++) g9.push(bM(dq, 6 + M * 2));
                    hI = [g9[1] / g9[0], 1, g9[1] / g9[3]]
                } else if (bq == "0103" && f4 >= 26) {
                    var g9 = [];
                    for (var M = 0; M < 4; M++) g9.push(bM(dq, 16 + M * 2));
                    hI = [g9[1] / g9[0], 1, g9[3] / g9[2]]
                } else if (bq == "0204" && f4 >= 564 || bq == "0205" && f4 >= 284) {
                    var O = bq == "0204" ? 6 : 14,
                        g9 = [];
                    for (var M = 0; M < 4; M++) g9.push(bM(dq, O + M * 2));
                    hI = [g9[1] / g9[0], 1, g9[1] / g9[3]]
                } else throw "e"
            } else console.log("no white balance info");
            if (R == "NIKON D1") hI = [1, 1, 1];
            if (hI) w.t50728 = hI;
            var cx = V.t150 ? V.t150 : V.t140;
            if (cx) {
                var b0 = cx[hp++],
                    bh = cx[hp++],
                    c6;
                if (b0 == 73 || bh == 88) hp += 2110;
                hp += 8;
                var hA = 1 << K & 32767,
                    ft = bM(cx, hp);
                hp += 2;
                var k = [];
                if (ft > 1) c6 = Math.floor(hA / (ft - 1));
                if (b0 == 68 && bh == 32 && c6 > 0) {
                    for (M = 0; M < ft; M++) {
                        k[M * c6] = bM(cx, hp);
                        hp += 2
                    }
                    for (M = 0; M < hA; M++) k[M] = Math.floor((k[M - M % c6] * (c6 - M % c6) + k[M - M % c6 + c6] * (M % c6)) / c6)
                } else if (b0 != 70 && ft <= 16385) {
                    hA = ft;
                    for (var M = 0; M < ft; M++) k[M] = bM(cx, hp + 2 * M);
                    hp += 2 * ft
                }
                if (k.length != 0) w.t50712 = new Uint16Array(k)
            }
        } else if (R.startsWith("FujiFilm")) {} else alert("Unknown camera " + R)
    };
    v.raw.aki = function(w, o, Q, K) {
        if (0 == Q) return;
        var b = new Uint32Array(128),
            R = new Uint8Array(b.buffer),
            X = 127,
            h = 0,
            e = 0;
        for (var X = 0; X < 4; X++) b[X] = K = (K * 15625 >>> 0) * 3125 + 1 >>> 0;
        b[3] = b[3] << 1 | (b[0] ^ b[2]) >>> 31;
        for (var X = 4; X < 127; X++) b[X] = (b[X - 4] ^ b[X - 2]) << 1 | (b[X - 3] ^ b[X - 1]) >>> 31;
        for (var X = 0; X < 127; X++) b[X] = W.g(R, X * 4);
        for (; Q > 0; Q--) {
            b[X & 127] = b[X + 1 & 127] ^ b[X + 1 + 64 & 127];
            var Z = b[X & 127],
                P = w[h];
            P ^= Z;
            o[e] = P;
            h++;
            e++;
            X++
        }
    };
    v.raw.ajS = function(w, o) {
        var Q = W.Ui(o, 0, 4),
            K = v.raw.a5l;
        for (var M = 0; M < K.length; M++)
            if (K[M][0] == w && Q.startsWith(K[M][1]) && (K[M][2] == 0 || K[M][2] == o.length)) return K[M];
        throw "e"
    };
    v.raw.a2H = function(w) {
        if (w.t29 == null) return [];
        var o = v.raw.a2K,
            Q = v.raw.akc,
            K = w.t29[0],
            b = 0,
            X = 0;
        for (var M = 0; M < K.length; M++) {
            var R = K.charCodeAt(M);
            b = b * 10 + (48 <= R && R <= 57 ? R - 48 : R % 10)
        }
        var f4 = w.t167[0];
        for (var M = 0; M < 4; M++) X ^= f4 >>> (M << 3) & 255;
        var h = o[b & 255],
            e = Q[X & 255];
        return [h, e, 96]
    };
    v.raw.a59 = function(w, o) {
        var Q = w["t" + o],
            f4 = Q.length,
            K = v.raw.ajS(o, Q),
            b = W.Ui(Q, 0, 4),
            R, X = K[4];
        if (X == null) R = Q.slice(4);
        else {
            R = new Uint8Array(f4 - X);
            var h = v.raw.a2H(w),
                e = h[0],
                Z = h[1],
                P = h[2];
            for (var M = 0; M < R.length; M++) {
                Z = Z + e * P++ & 255;
                R[M] = Q[X++] ^ Z
            }
        }
        return [b, f4, R]
    };
    v.raw.a5l = [
        [145, "0208", 0, 0, 4],
        [145, "0209", 0, 1, 4],
        [145, "0210", 5291, 2, 4],
        [145, "0210", 5303, 3, 4],
        [145, "02", 0, 4, 4],
        [145, "01", 0, 5, null],
        [151, "0100", 0, 0, null],
        [151, "0102", 0, 1, null],
        [151, "0103", 0, 4, null],
        [151, "0204", 0, 3, 284],
        [151, "0205", 0, 2, 4],
        [151, "0206", 0, 3, 284],
        [151, "0207", 0, 3, 284],
        [151, "0208", 0, 3, 284],
        [151, "0209", 0, 5, 284],
        [151, "02", 0, 3, 284],
        [152, "0100", 0, 0, null],
        [152, "0101", 0, 1, null],
        [152, "0201", 0, 1, 4],
        [152, "0202", 0, 1, 4],
        [152, "0203", 0, 1, 4],
        [152, "0204", 0, 2, 4],
        [168, "0100", 0, 0, null],
        [168, "0101", 0, 0, null],
        [168, "0102", 0, 1, null],
        [168, "0103", 0, 2, null]
    ];
    v.raw.a2K = [193, 191, 109, 13, 89, 197, 19, 157, 131, 97, 107, 79, 199, 127, 61, 61, 83, 89, 227, 199, 233, 47, 149, 167, 149, 31, 223, 127, 43, 41, 199, 13, 223, 7, 239, 113, 137, 61, 19, 61, 59, 19, 251, 13, 137, 193, 101, 31, 179, 13, 107, 41, 227, 251, 239, 163, 107, 71, 127, 149, 53, 167, 71, 79, 199, 241, 89, 149, 53, 17, 41, 97, 241, 61, 179, 43, 13, 67, 137, 193, 157, 157, 137, 101, 241, 233, 223, 191, 61, 127, 83, 151, 229, 233, 149, 23, 29, 61, 139, 251, 199, 227, 103, 167, 7, 241, 113, 167, 83, 181, 41, 137, 229, 43, 167, 23, 41, 233, 79, 197, 101, 109, 107, 239, 13, 137, 73, 47, 179, 67, 83, 101, 29, 73, 163, 19, 137, 89, 239, 107, 239, 101, 29, 11, 89, 19, 227, 79, 157, 179, 41, 67, 43, 7, 29, 149, 89, 89, 71, 251, 229, 233, 97, 71, 47, 53, 127, 23, 127, 239, 127, 149, 149, 113, 211, 163, 11, 113, 163, 173, 11, 59, 181, 251, 163, 191, 79, 131, 29, 173, 233, 47, 113, 101, 163, 229, 7, 53, 61, 13, 181, 233, 229, 71, 59, 157, 239, 53, 163, 191, 179, 223, 83, 211, 151, 83, 73, 113, 7, 53, 97, 113, 47, 67, 47, 17, 223, 23, 151, 251, 149, 59, 127, 107, 211, 37, 191, 173, 199, 197, 197, 181, 139, 239, 47, 211, 7, 107, 37, 73, 149, 37, 73, 109, 113, 199];
    v.raw.akc = [167, 188, 201, 173, 145, 223, 133, 229, 212, 120, 213, 23, 70, 124, 41, 76, 77, 3, 233, 37, 104, 17, 134, 179, 189, 247, 111, 97, 34, 162, 38, 52, 42, 190, 30, 70, 20, 104, 157, 68, 24, 194, 64, 244, 126, 95, 27, 173, 11, 148, 182, 103, 180, 11, 225, 234, 149, 156, 102, 220, 231, 93, 108, 5, 218, 213, 223, 122, 239, 246, 219, 31, 130, 76, 192, 104, 71, 161, 189, 238, 57, 80, 86, 74, 221, 223, 165, 248, 198, 218, 202, 144, 202, 1, 66, 157, 139, 12, 115, 67, 117, 5, 148, 222, 36, 179, 128, 52, 229, 44, 220, 155, 63, 202, 51, 69, 208, 219, 95, 245, 82, 195, 33, 218, 226, 34, 114, 107, 62, 208, 91, 168, 135, 140, 6, 93, 15, 221, 9, 25, 147, 208, 185, 252, 139, 15, 132, 96, 51, 28, 155, 69, 241, 240, 163, 148, 58, 18, 119, 51, 77, 68, 120, 40, 60, 158, 253, 101, 87, 22, 148, 107, 251, 89, 208, 200, 34, 54, 219, 210, 99, 152, 67, 161, 4, 135, 134, 247, 166, 38, 187, 214, 89, 77, 191, 106, 46, 170, 43, 239, 230, 120, 182, 78, 224, 47, 220, 124, 190, 87, 25, 50, 126, 42, 208, 184, 186, 41, 0, 60, 82, 125, 168, 73, 59, 45, 235, 37, 73, 250, 163, 170, 57, 167, 197, 167, 80, 17, 54, 251, 198, 103, 74, 245, 165, 18, 101, 126, 176, 223, 175, 78, 179, 97, 127, 47];
    v.raw.MH = {
        "canon eos 100d": [
            [6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2048, 15e3
        ],
        "canon eos rebel sl1": [
            [6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2048, 15e3
        ],
        "canon eos kiss x7": [
            [6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2048, 15e3
        ],
        "canon eos 200d": [
            [7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2049, 14338
        ],
        "canon eos rebel sl2": [
            [7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2049, 14338
        ],
        "canon eos kiss x9": [
            [7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2049, 14338
        ],
        "canon eos 300d": [
            [8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 126, 4e3
        ],
        "canon eos digital rebel": [
            [8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 126, 4e3
        ],
        "canon eos kiss digital": [
            [8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 126, 4e3
        ],
        "canon eos d30": [
            [9805, -2689, -1312, -5803, 13064, 3068, -2438, 3075, 8775], 1, 126, 4095
        ],
        "canon eos d60": [
            [6188, -1341, -890, -7168, 14489, 2937, -2640, 3228, 8483], 1, 127, 4e3
        ],
        "canon eos 10d": [
            [8197, -2e3, -1118, -6714, 14335, 2592, -2536, 3178, 8266], 1, 127, 4e3
        ],
        "canon eos 20d": [
            [6599, -537, -891, -8071, 15783, 2424, -1983, 2234, 7462], 1, 126, 4095
        ],
        "canon eos 30d": [
            [6257, -303, -1e3, -7880, 15621, 2396, -1714, 1904, 7046], 1, 127, 3398
        ],
        "canon eos 350d": [
            [6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095
        ],
        "canon eos digital rebel xt": [
            [6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095
        ],
        "canon eos kiss digital n": [
            [6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095
        ],
        "canon eos 350d": [
            [6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095
        ],
        "canon eos 350d digital": [
            [6018, -617, -965, -8645, 15881, 2975, -1530, 1719, 7642], 1, 255, 4095
        ],
        "canon eos 40d": [
            [6071, -747, -856, -7653, 15365, 2441, -2025, 2553, 7315], 1, 1021, 13600
        ],
        "canon eos 450d": [
            [5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500
        ],
        "canon eos digital rebel xsi": [
            [5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500
        ],
        "canon eos kiss digital x2": [
            [5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500
        ],
        "canon eos kiss x2": [
            [5784, -262, -821, -7539, 15064, 2672, -1982, 2681, 7427], 1, 1020, 14500
        ],
        "canon eos 50d": [
            [4920, 616, -593, -6493, 13964, 2784, -1774, 3178, 7005], 3, 1020, 13653
        ],
        "canon eos 60d": [
            [6719, -994, -925, -4408, 12426, 2211, -887, 2129, 6051], 3, 2026, 14200
        ],
        "canon eos 70d": [
            [7034, -804, -1014, -4420, 12564, 2058, -851, 1994, 5758], 1, 2026, 13653
        ],
        "canon eos 80d": [
            [7457, -671, -937, -4849, 12495, 2643, -1213, 2354, 5492], 1, 512, 11892
        ],
        "canon eos 700d": [
            [6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2052, 15e3
        ],
        "canon eos rebel t5i": [
            [6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2052, 15e3
        ],
        "canon eos kiss x7i": [
            [6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2052, 15e3
        ],
        "canon eos 750d": [
            [6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765
        ],
        "canon eos rebel t6i": [
            [6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765
        ],
        "canon eos kiss x8i": [
            [6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765
        ],
        "canon eos 800d": [
            [6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338
        ],
        "canon eos rebel t7i": [
            [6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338
        ],
        "canon eos kiss x9i": [
            [6970, -512, -968, -4425, 12161, 2553, -739, 1982, 5601], 1, 2049, 14338
        ],
        "canon eos 760d": [
            [6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765
        ],
        "canon eos rebel t6s": [
            [6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765
        ],
        "canon eos 8000d": [
            [6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2047, 11765
        ],
        "canon eos 77d": [
            [7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2048, 14338
        ],
        "canon eos 9000d": [
            [7377, -742, -998, -4235, 11981, 2549, -673, 1918, 5538], 1, 2048, 14338
        ],
        "canon eos 500d": [
            [4763, 712, -646, -6821, 14399, 2640, -1921, 3276, 6561], 1, 1020, 16e3
        ],
        "canon eos rebel t1i": [
            [4763, 712, -646, -6821, 14399, 2640, -1921, 3276, 6561], 1, 1020, 16e3
        ],
        "canon eos kiss x3": [
            [4763, 712, -646, -6821, 14399, 2640, -1921, 3276, 6561], 1, 1020, 16e3
        ],
        "canon eos 550d": [
            [6941, -1164, -857, -3825, 11597, 2534, -416, 1540, 6039], 0, 2048, 15831
        ],
        "canon eos rebel t2i": [
            [6941, -1164, -857, -3825, 11597, 2534, -416, 1540, 6039], 0, 2048, 15831
        ],
        "canon eos kiss x4": [
            [6941, -1164, -857, -3825, 11597, 2534, -416, 1540, 6039], 0, 2048, 15831
        ],
        "canon eos 600d": [
            [6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2026, 13584
        ],
        "canon eos rebel t3i": [
            [6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2026, 13584
        ],
        "canon eos kiss x5": [
            [6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2026, 13584
        ],
        "canon eos 650d": [
            [6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584
        ],
        "canon eos rebel t4i": [
            [6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584
        ],
        "canon eos kiss x6i": [
            [6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584
        ],
        "canon eos 5d": [
            [6347, -479, -972, -8297, 15954, 2480, -1968, 2131, 7649], 1, 127, 3692
        ],
        "canon eos 5d mark ii": [
            [4716, 603, -830, -7798, 15474, 2480, -1496, 1937, 6651], 3, 1024, 12995
        ],
        "canon eos 5d mark iii": [
            [6722, -635, -963, -4287, 12460, 2028, -908, 2162, 5668], 1, 2060, 16383
        ],
        "canon eos 5d mark iv": [
            [6446, -366, -864, -4436, 12204, 2513, -952, 2496, 6348], 1, 2049, 14448
        ],
        "canon eos 5ds": [
            [6250, -711, -808, -5153, 12794, 2636, -1249, 2198, 5610], 1, 2048, 15181
        ],
        "canon eos 5ds r": [
            [6250, -711, -808, -5153, 12794, 2636, -1249, 2198, 5610], 1, 2048, 15181
        ],
        "canon eos 6d": [
            [7034, -804, -1014, -4420, 12564, 2058, -851, 1994, 5758], 1, 2048, 15e3
        ],
        "canon eos 6d mark ii": [
            [6875, -970, -932, -4691, 12459, 2501, -874, 1953, 5809], 1, 2049, 14558
        ],
        "canon eos 7d": [
            [6844, -996, -856, -3876, 11761, 2396, -593, 1772, 6198], 3, 1025, 8150
        ],
        "canon eos 7d mark ii": [
            [7268, -1082, -969, -4186, 11839, 2663, -825, 2029, 5839], 1, 2047, 13400
        ],
        "canon eos 1000d": [
            [6771, -1139, -977, -7818, 15123, 2928, -1244, 1437, 7533], 1, 255, 3650
        ],
        "canon eos digital rebel xs": [
            [6771, -1139, -977, -7818, 15123, 2928, -1244, 1437, 7533], 1, 255, 3650
        ],
        "canon eos kiss digital f": [
            [6771, -1139, -977, -7818, 15123, 2928, -1244, 1437, 7533], 1, 255, 3650
        ],
        "canon eos 1100d": [
            [6444, -904, -893, -4563, 12308, 2535, -903, 2016, 6728], 1, 2036, 15500
        ],
        "canon eos rebel t3": [
            [6444, -904, -893, -4563, 12308, 2535, -903, 2016, 6728], 1, 2036, 15500
        ],
        "canon eos 1200d": [
            [6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2046, 12279
        ],
        "canon eos rebel t5": [
            [6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2046, 12279
        ],
        "canon eos kiss x70": [
            [6461, -907, -882, -4300, 12184, 2378, -819, 1944, 5931], 3, 2046, 12279
        ],
        "canon eos 1300d": [
            [6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2048, 15e3
        ],
        "canon eos rebel t6": [
            [6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2048, 15e3
        ],
        "canon eos kiss x80": [
            [6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2048, 15e3
        ],
        "canon eos 2000d": [
            [8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 3, 2048, 15092
        ],
        "canon eos rebel t7": [
            [8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 3, 2048, 15092
        ],
        "canon eos 1500d": [
            [8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 3, 2048, 15092
        ],
        "canon eos 4000d": [
            [6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2051, 15e3
        ],
        "canon eos rebel t100": [
            [6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2051, 15e3
        ],
        "canon eos 3000d": [
            [6939, -1016, -866, -4428, 12473, 2177, -1175, 2178, 6162], 3, 2051, 15e3
        ],
        "canon eos 400d": [
            [7054, -1501, -990, -8156, 15544, 2812, -1278, 1414, 7796], 1, 255, 3726
        ],
        "canon eos digital rebel xti": [
            [7054, -1501, -990, -8156, 15544, 2812, -1278, 1414, 7796], 1, 255, 3726
        ],
        "canon eos kiss digital x": [
            [7054, -1501, -990, -8156, 15544, 2812, -1278, 1414, 7796], 1, 255, 3726
        ],
        "canon eos m": [
            [6602, -841, -939, -4472, 12458, 2247, -975, 2039, 6148], 1, 2026, 13584
        ],
        "canon eos m2": [
            [6400, -480, -888, -5294, 13416, 2047, -1296, 2203, 6137], 1, 2026, 13584
        ],
        "canon eos m3": [
            [6362, -823, -847, -4426, 12109, 2616, -743, 1857, 5635], 1, 2048, 16e3
        ],
        "canon eos m5": [
            [8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3
        ],
        "canon eos m6": [
            [8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3
        ],
        "canon eos m10": [
            [6400, -480, -888, -5294, 13416, 2047, -1296, 2203, 6137], 1, 2048, 16e3
        ],
        "canon eos m100": [
            [8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3
        ],
        "canon eos-1d": [
            [6806, -179, -1020, -8097, 16415, 1687, -3267, 4236, 7690], 2, 0, 3588
        ],
        "canon eos-1ds": [
            [4374, 3631, -1743, -7520, 15212, 2472, -2892, 3632, 8161], 2, 0, 3500
        ],
        "canon eos d2000c": [
            [24542, -10860, -3401, -1490, 11370, -297, 2858, -605, 3225], 2, 96, 4095
        ],
        "canon eos-1d mark ii": [
            [6264, -582, -724, -8312, 15948, 2504, -1744, 1919, 8664], 1, 127, 3700
        ],
        "canon eos-1d mark ii n": [
            [6240, -466, -822, -8180, 15825, 2500, -1801, 1938, 8042], 1, 127, 3700
        ],
        "canon eos-1d mark iii": [
            [6291, -540, -976, -8350, 16145, 2311, -1714, 1858, 7326], 1, 1023, 15100
        ],
        "canon eos-1d mark iv": [
            [6014, -220, -795, -4109, 12014, 2361, -561, 1824, 5787], 3, 2e3, 13e3
        ],
        "canon eos-1ds mark ii": [
            [6517, -602, -867, -8180, 15926, 2378, -1618, 1771, 7633], 3, 126, 4060
        ],
        "canon eos-1ds mark iii": [
            [5859, -211, -930, -8255, 16017, 2353, -1732, 1887, 7448], 1, 1021, 15100
        ],
        "canon eos-1d x": [
            [6847, -614, -1014, -4669, 12737, 2139, -1197, 2488, 6846], 1, 2050, 15100
        ],
        "canon eos-1d x mark ii": [
            [7596, -978, -967, -4808, 12571, 2503, -1398, 2567, 5752], 1, 2048, 14888
        ],
        "canon powershot pro1": [
            [10062, -3522, -999, -7643, 15117, 2730, -765, 817, 7323], 1, 129, 4095
        ],
        "canon powershot g1": [
            [-4778, 9467, 2172, 4743, -1141, 4344, -5146, 9908, 6077, -1566, 11051, 557], 0, 31, 1023
        ],
        "canon powershot g2": [
            [9087, -2693, -1049, -6715, 14382, 2537, -2291, 2819, 7790], 1, 0, 1023
        ],
        "canon powershot g3": [
            [9212, -2781, -1073, -6573, 14189, 2605, -2300, 2844, 7664], 1, 0, 4095
        ],
        "canon powershot g3 x": [
            [9701, -3857, -921, -3149, 11537, 1817, -786, 1817, 5147], 1, 2047, 16e3
        ],
        "canon powershot g5": [
            [9757, -2872, -933, -5972, 13861, 2301, -1622, 2328, 7212], 1, 0, 4095
        ],
        "canon powershot g5 x": [
            [9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 2047, 16e3
        ],
        "canon powershot g6": [
            [9877, -3775, -871, -7613, 14807, 3072, -1448, 1305, 7485], 1, 128, 4095
        ],
        "canon powershot g7 x": [
            [9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 511, 4e3
        ],
        "canon powershot g7 x mark ii": [
            [9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 2047, 16e3
        ],
        "canon powershot g1 x": [
            [7378, -1255, -1043, -4088, 12251, 2048, -876, 1946, 5805], 1, 0, 16383
        ],
        "canon powershot g1 x mark ii": [
            [7378, -1255, -1043, -4088, 12251, 2048, -876, 1946, 5805], 1, 0, 16e3
        ],
        "canon powershot g1 x mark iii": [
            [8532, -701, -1167, -4095, 11879, 2508, -797, 2424, 7010], 1, 2048, 16e3
        ],
        "canon powershot g12": [
            [13244, -5501, -1248, -1508, 9858, 1935, -270, 1083, 4366], 1, 120, 4095
        ],
        "canon powershot g11": [
            [12177, -4817, -1069, -1612, 9864, 2049, -98, 850, 4471], 1, 120, 4095
        ],
        "canon powershot g10": [
            [11093, -3906, -1028, -5047, 12492, 2879, -1003, 1750, 5561], 3, 128, 4095
        ],
        "canon powershot g9": [
            [7368, -2141, -598, -5621, 13254, 2625, -1418, 1696, 5743], 1, 125, 4095
        ],
        "canon powershot g9 x": [
            [9602, -3823, -937, -2984, 11495, 1675, -407, 1415, 5049], 1, 2047, 16e3
        ],
        "canon powershot g9 x mark ii": [
            [10056, -4131, -944, -2576, 11143, 1625, -238, 1294, 5179], 1, 2048, 16e3
        ],
        "canon powershot g15": [
            [7474, -2301, -567, -4056, 11456, 2975, -222, 716, 4181], 3, 500, 2800
        ],
        "canon powershot g16": [
            [8020, -2687, -682, -3704, 11879, 2052, -965, 1921, 5556], 1, 0, 4095
        ],
        "canon powershot sx1 is": [
            [6578, -259, -502, -5974, 13030, 3309, -308, 1058, 4970], 1, 125, 4095
        ],
        "canon powershot s30": [
            [10566, -3652, -1129, -6552, 14662, 2006, -2197, 2581, 7670], 1, 31, 1023
        ],
        "canon powershot s40": [
            [8510, -2487, -940, -6869, 14231, 2900, -2318, 2829, 9013], 1, 0, 1023
        ],
        "canon powershot s45": [
            [8163, -2333, -955, -6682, 14174, 2751, -2077, 2597, 8041], 1, 129, 4095
        ],
        "canon powershot s50": [
            [8882, -2571, -863, -6348, 14234, 2288, -1516, 2172, 6569], 1, 129, 4095
        ],
        "canon powershot s60": [
            [8795, -2482, -797, -7804, 15403, 2573, -1422, 1996, 7082], 1, 129, 4095
        ],
        "canon powershot s70": [
            [9976, -3810, -832, -7115, 14463, 2906, -901, 989, 7889], 1, 129, 4095
        ],
        "canon powershot s90": [
            [12374, -5016, -1049, -1677, 9902, 2078, -83, 852, 4683], 1, 125, 4095
        ],
        "canon powershot s95": [
            [13440, -5896, -1279, -1236, 9598, 1931, -180, 1001, 4651], 1, 125, 4095
        ],
        "canon powershot s100": [
            [7968, -2565, -636, -2873, 10697, 2513, 180, 667, 4211], 3, 125, 4095
        ],
        "canon powershot s110": [
            [8039, -2643, -654, -3783, 11230, 2930, -206, 690, 4194], 3, 500, 3072
        ],
        "canon powershot s120": [
            [6961, -1685, -695, -4625, 12945, 1836, -1114, 2152, 5518], 1, 0, 4e3
        ],
        "canon powershot sx50 hs": [
            [12432, -4753, -1247, -2110, 10691, 1629, -412, 1623, 4926], 1, 127, 4095
        ],
        "canon powershot sx60 hs": [
            [13161, -5451, -1344, -1989, 10654, 1531, -47, 1271, 4955], 1, 128, 4e3
        ],
        "nikon d100": [
            [5902, -933, -782, -8983, 16719, 2354, -1402, 1455, 6464], 2, 0, 4095
        ],
        "nikon d1": [
            [16772, -4726, -2141, -7611, 15713, 1972, -2846, 3494, 9521], 0, 0, 4095
        ],
        "nikon d1h": [
            [7577, -2166, -926, -7454, 15592, 1934, -2377, 2808, 8606], 0, 0, 4095
        ],
        "nikon d1x": [
            [7702, -2245, -975, -9114, 17242, 1875, -2679, 3055, 8521], 0, 0, 4095
        ],
        "nikon d200": [
            [8367, -2248, -763, -8758, 16447, 2422, -1527, 1550, 8053], 2, 0, 3880
        ],
        "nikon d2h": [
            [5710, -901, -615, -8594, 16617, 2024, -2975, 4120, 6830], 3, 0, 3880
        ],
        "nikon d2hs": [
            [5710, -901, -615, -8594, 16617, 2024, -2975, 4120, 6830], 3, 0, 3880
        ],
        "nikon d2x": [
            [10231, -2769, -1255, -8301, 15900, 2552, -797, 680, 7148], 1, 0, 3880
        ],
        "nikon d2xs": [
            [10231, -2769, -1255, -8301, 15900, 2552, -797, 680, 7148], 1, 0, 3880
        ],
        "nikon d3": [
            [8139, -2171, -663, -8747, 16541, 2295, -1925, 2008, 8093], 1, 0, 15892
        ],
        "nikon d3s": [
            [8828, -2406, -694, -4874, 12603, 2541, -660, 1509, 7587], 1, 0, 15520
        ],
        "nikon d3x": [
            [7171, -1986, -648, -8085, 15555, 2718, -2170, 2512, 7457], 1, 0, 15892
        ],
        "nikon d300": [
            [9030, -1992, -715, -8465, 16302, 2255, -2689, 3217, 8069], 1, 0, 15236
        ],
        "nikon d300s": [
            [9030, -1992, -716, -8465, 16302, 2256, -2689, 3217, 8069], 1, 0, 15236
        ],
        "nikon d3000": [
            [8736, -2458, -935, -9075, 16894, 2251, -1354, 1242, 8263], 3, 0, 3880
        ],
        "nikon d3200": [
            [7013, -1408, -635, -5268, 12902, 2640, -1470, 2801, 7379], 1, 0, 3880
        ],
        "nikon d3300": [
            [6988, -1384, -714, -5631, 13410, 2447, -1485, 2204, 7318], 1, 150, 3880
        ],
        "nikon d3400": [
            [6988, -1384, -714, -5631, 13410, 2447, -1485, 2204, 7318], 1, 150, 3880
        ],
        "nikon d3500": [
            [8821, -2938, -785, -4178, 12142, 2287, -824, 1651, 6860], 1, 150, 3972
        ],
        "nikon d4": [
            [8598, -2848, -857, -5618, 13606, 2195, -1002, 1773, 7137], 1, 0, 15520
        ],
        "nikon d5": [
            [9200, -3522, -992, -5755, 13803, 2117, -753, 1486, 6338], 1, 400, 15520
        ],
        "nikon z 6": [
            [8210, -2534, -683, -5355, 13338, 2212, -1143, 1929, 6464], 1, 1008, 15520
        ],
        "nikon z 7": [
            [10405, -3755, -1270, -5461, 13787, 1793, -1040, 2015, 6785], 1, 1008, 15520
        ],
        "nikon df": [
            [8598, -2848, -857, -5618, 13606, 2195, -1002, 1773, 7137], 1, 0, 15520
        ],
        "nikon d5100": [
            [8198, -2239, -724, -4871, 12389, 2798, -1043, 2050, 7181], 1, 0, 15892
        ],
        "nikon d3100": [
            [7911, -2167, -813, -5327, 13150, 2408, -1288, 2483, 7968], 3, 0, 3880
        ],
        "nikon d40": [
            [6992, -1668, -806, -8138, 15748, 2543, -874, 850, 7897], 0, 0, 3880
        ],
        "nikon d40x": [
            [8819, -2543, -911, -9025, 16928, 2151, -1329, 1213, 8449], 3, 0, 3880
        ],
        "nikon d50": [
            [7732, -2422, -789, -8238, 15884, 2498, -859, 783, 7330], 0, 0, 4095
        ],
        "nikon d500": [
            [8813, -3210, -1036, -4703, 12868, 2021, -1054, 1940, 6129], 1, 400, 15520
        ],
        "nikon d5000": [
            [7309, -1403, -519, -8474, 16008, 2622, -2433, 2826, 8064], 3, 0, 3767
        ],
        "nikon d5200": [
            [8322, -3112, -1047, -6367, 14342, 2179, -988, 1638, 6394], 1, 0, 15892
        ],
        "nikon d5300": [
            [6988, -1384, -714, -5631, 13410, 2447, -1485, 2204, 7318], 1, 150, 3972
        ],
        "nikon d5500": [
            [8821, -2938, -785, -4178, 12142, 2287, -824, 1651, 6860], 1, 150, 3972
        ],
        "nikon d5600": [
            [8821, -2938, -785, -4178, 12142, 2287, -824, 1651, 6860], 1, 150, 3972
        ],
        "nikon d60": [
            [8736, -2458, -935, -9075, 16894, 2251, -1354, 1242, 8263], 3, 0, 3880
        ],
        "nikon d600": [
            [8178, -2245, -609, -4857, 12394, 2776, -1207, 2086, 7298], 1, 0, 15520
        ],
        "nikon d610": [
            [8178, -2245, -609, -4857, 12394, 2776, -1207, 2086, 7298], 1, 0, 15520
        ],
        "nikon d70": [
            [7732, -2422, -789, -8238, 15884, 2498, -859, 783, 7330], 0, 0, 4095
        ],
        "nikon d700": [
            [8139, -2171, -663, -8747, 16541, 2295, -1925, 2008, 8093], 1, 0, 3972
        ],
        "nikon d750": [
            [9020, -2890, -715, -4535, 12436, 2348, -934, 1919, 7086], 1, 150, 3880
        ],
        "nikon d7000": [
            [8198, -2239, -724, -4871, 12389, 2798, -1043, 2050, 7181], 1, 0, 15892
        ],
        "nikon d7100": [
            [8322, -3112, -1047, -6367, 14342, 2179, -988, 1638, 6394], 1, 0, 15892
        ],
        "nikon d7200": [
            [8322, -3112, -1047, -6367, 14342, 2179, -988, 1638, 6394], 1, 600, 15892
        ],
        "nikon d7500": [
            [8813, -3210, -1036, -4703, 12868, 2021, -1054, 1940, 6129], 1, 100, 3880
        ],
        "nikon d70s": [
            [7732, -2422, -789, -8238, 15884, 2498, -859, 783, 7330], 0, 0, 4095
        ],
        "nikon d80": [
            [8629, -2410, -883, -9055, 16940, 2171, -1490, 1363, 8520], 3, 0, 3880
        ],
        "nikon d800": [
            [7866, -2108, -555, -4869, 12483, 2681, -1176, 2069, 7501], 1, 0, 15520
        ],
        "nikon d800e": [
            [7866, -2108, -555, -4869, 12483, 2681, -1176, 2069, 7501], 1, 0, 15520
        ],
        "nikon d810": [
            [9369, -3195, -791, -4488, 12430, 2301, -893, 1796, 6872], 1, 150, 3880
        ],
        "nikon d850": [
            [10405, -3755, -1270, -5461, 13787, 1793, -1040, 2015, 6785], 1, 100, 3880
        ],
        "nikon d4s": [
            [8598, -2848, -857, -5618, 13606, 2195, -1002, 1773, 7137], 1, 192, 3880
        ],
        "nikon d90": [
            [7309, -1403, -519, -8474, 16008, 2622, -2434, 2826, 8064], 3, 0, 3767
        ],
        "nikon 1 j1": [
            [8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 3300
        ],
        "nikon 1 j2": [
            [8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 4095
        ],
        "nikon 1 j3": [
            [6588, -1305, -693, -3277, 10987, 2634, -355, 2016, 5106], 1, 0, 4095
        ],
        "nikon 1 j4": [
            [5958, -1559, -571, -4021, 11453, 2939, -634, 1548, 5087], 1, 200, 4e3
        ],
        "nikon 1 j5": [
            [7520, -2518, -645, -3844, 12102, 1945, -913, 2249, 6835], 1, 200, 3800
        ],
        "nikon 1 s1": [
            [8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 3300
        ],
        "nikon 1 s2": [
            [6612, -1342, -618, -3338, 11055, 2623, -174, 1792, 5075], 1, 200, 4095
        ],
        "nikon 1 v1": [
            [8994, -2667, -865, -4594, 12324, 2552, -699, 1786, 6260], 1, 0, 3300
        ],
        "nikon 1 v2": [
            [6588, -1305, -693, -3277, 10987, 2634, -355, 2016, 5106], 1, 0, 4095
        ],
        "nikon 1 v3": [
            [5958, -1559, -571, -4021, 11453, 2939, -634, 1548, 5087], 1, 200, 4e3
        ],
        "nikon 1 aw1": [
            [6588, -1305, -693, -3277, 10987, 2634, -355, 2016, 5106], 1, 0, 4095
        ],
        "nikon e5400": [
            [9349, -2987, -1001, -7919, 15766, 2266, -2098, 2680, 6839], 0, 0, 4095
        ],
        "nikon e5700": [
            [-5368, 11478, 2368, 5537, -113, 3148, -4969, 10021, 5782, 778, 9028, 211], 0, 0, 4095
        ],
        "nikon coolpix p330": [
            [10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 3200, 65e3
        ],
        "nikon coolpix p340": [
            [10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 200, 3800
        ],
        "nikon coolpix a": [
            [8198, -2239, -724, -4871, 12389, 2798, -1043, 2050, 7181], 1, 0, 15892
        ],
        "nikon coolpix b700": [
            [14387, -6014, -1299, -1357, 9975, 1616, 467, 1047, 4744], 1, 200, 4e3
        ],
        "nikon coolpix p6000": [
            [9698, -3367, -914, -4706, 12584, 2368, -837, 968, 5801], 1, 0, 4095
        ],
        "nikon coolpix p7000": [
            [11432, -3679, -1111, -3169, 11239, 2202, -791, 1380, 4455], 1, 0, 4095
        ],
        "nikon coolpix p7100": [
            [11053, -4269, -1024, -1976, 10182, 2088, -526, 1263, 4469], 1, 0, 3800
        ],
        "nikon coolpix p7700": [
            [10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 3200, 65e3
        ],
        "nikon coolpix p7800": [
            [10321, -3920, -931, -2750, 11146, 1824, -442, 1545, 5539], 1, 3200, 65e3
        ],
        "nikon coolpix p1000": [
            [14294, -6116, -1333, -1628, 10219, 1637, -14, 1158, 5022], 1, 200, 4095
        ],
        "panasonic dmc-cm1": [
            [8770, -3194, -820, -2871, 11281, 1803, -513, 1552, 4434], 1, 142, 4095
        ],
        "panasonic dmc-fx150": [
            [9082, -2907, -925, -6119, 13377, 3058, -1797, 2641, 5609], 0, 15, 3986
        ],
        "panasonic dmc-fz28": [
            [10109, -3488, -993, -5412, 12812, 2916, -1305, 2140, 5543], 0, 15, 3986
        ],
        "panasonic dmc-fz150": [
            [11904, -4541, -1189, -2355, 10899, 1662, -296, 1586, 4289], 3, 145, 3956
        ],
        "panasonic dmc-fz200": [
            [8112, -2563, -740, -3730, 11784, 2197, -941, 2075, 4933], 3, 150, 3956
        ],
        "panasonic dmc-fz2000": [
            [7386, -2443, -743, -3437, 11864, 1757, -608, 1660, 4766], 3, 142, 2095
        ],
        "panasonic dmc-fz2500": [
            [7386, -2443, -743, -3437, 11864, 1757, -608, 1660, 4766], 3, 142, 2095
        ],
        "panasonic dmc-fz300": [
            [8378, -2798, -769, -3068, 11410, 1877, -538, 1792, 4623], 3, 143, 4095
        ],
        "panasonic dmc-g1": [
            [8199, -2065, -1056, -8124, 16156, 2033, -2458, 3022, 7220], 3, 15, 3986
        ],
        "panasonic dmc-g2": [
            [10113, -3400, -1114, -4765, 12683, 2317, -377, 1437, 6710], 3, 0, 3900
        ],
        "panasonic dmc-g10": [
            [10113, -3400, -1114, -4765, 12683, 2317, -377, 1437, 6710], 3, 0, 3900
        ],
        "panasonic dmc-gh1": [
            [6299, -1466, -532, -6535, 13852, 2969, -2331, 3112, 5984], 3, 0, 3986
        ],
        "panasonic dmc-gh3": [
            [6559, -1752, -491, -3672, 11407, 2586, -962, 1875, 5130], 3, 155, 3956
        ],
        "panasonic dmc-gh4": [
            [7122, -2108, -512, -3155, 11201, 2231, -541, 1423, 5045], 0, 142, 4095
        ],
        "panasonic dmc-gf1": [
            [7888, -1902, -1011, -8106, 16085, 2099, -2353, 2866, 7330], 3, 15, 3986
        ],
        "panasonic dmc-gf2": [
            [7888, -1902, -1011, -8106, 16085, 2099, -2353, 2866, 7330], 3, 150, 3956
        ],
        "panasonic dmc-gm1": [
            [6770, -1895, -744, -5232, 13145, 2303, -1664, 2691, 5703], 0, 143, 3971
        ],
        "panasonic dmc-gm5": [
            [8238, -3244, -679, -3921, 11814, 2384, -836, 2022, 5852], 0, 143, 4095
        ],
        "panasonic dmc-g3": [
            [6763, -1919, -863, -3868, 11515, 2684, -1216, 2387, 5879], 2, 143, 3956
        ],
        "panasonic dmc-g5": [
            [7798, -2562, -740, -3879, 11584, 2613, -1055, 2248, 5434], 0, 150, 3956
        ],
        "panasonic dmc-g6": [
            [8294, -2891, -651, -3869, 11590, 2595, -1183, 2267, 5352], 0, 142, 3956
        ],
        "panasonic dmc-g7": [
            [7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095
        ],
        "panasonic dmc-g70": [
            [7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095
        ],
        "panasonic dmc-g8": [
            [7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095
        ],
        "panasonic dmc-g80": [
            [7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095
        ],
        "panasonic dmc-g81": [
            [7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095
        ],
        "panasonic dmc-g85": [
            [7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095
        ],
        "panasonic dmc-gf3": [
            [9051, -2468, -1204, -5212, 13276, 2121, -1197, 2510, 6890], 3, 150, 3956
        ],
        "panasonic dmc-gf5": [
            [8228, -2945, -660, -3938, 11792, 2430, -1094, 2278, 5793], 3, 150, 3956
        ],
        "panasonic dmc-gf6": [
            [8130, -2801, -946, -3520, 11289, 2552, -1314, 2511, 5791], 2, 150, 3956
        ],
        "panasonic dmc-gf7": [
            [7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095
        ],
        "panasonic dmc-gh2": [
            [7780, -2410, -806, -3913, 11724, 2484, -1018, 2390, 5298], 3, 15, 3800
        ],
        "panasonic dmc-fz35": [
            [9938, -2780, -890, -4604, 12393, 2480, -1117, 2304, 4620], 0, 150, 3986
        ],
        "panasonic dmc-fz38": [
            [9938, -2780, -890, -4604, 12393, 2480, -1117, 2304, 4620], 0, 150, 3986
        ],
        "panasonic dmc-fz45": [
            [13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986
        ],
        "panasonic dmc-fz40": [
            [13639, -5535, -1371, -1698, 9633, 2430, 316, 1152, 4108], 3, 150, 3986
        ],
        "panasonic dmc-fz70": [
            [11532, -4324, -1066, -2375, 10847, 1749, -564, 1699, 4351], 1, 120, 3971
        ],
        "panasonic dmc-fz72": [
            [11532, -4324, -1066, -2375, 10847, 1749, -564, 1699, 4351], 1, 120, 3971
        ],
        "panasonic dmc-fz100": [
            [16197, -6146, -1761, -2393, 10765, 1869, 366, 2238, 5248], 3, 120, 3986
        ],
        "panasonic dmc-fz1000": [
            [7830, -2696, -763, -3325, 11667, 1866, -641, 1712, 4824], 3, 143, 4095
        ],
        "panasonic dmc-gx1": [
            [6763, -1919, -863, -3868, 11515, 2684, -1216, 2387, 5879], 2, 150, 3956
        ],
        "panasonic dmc-gx7": [
            [7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 150, 3956
        ],
        "panasonic dmc-gx8": [
            [7564, -2263, -606, -3148, 11239, 2177, -540, 1435, 4853], 3, 143, 4095
        ],
        "panasonic dmc-gx85": [
            [7771, -3020, -629, -4029, 11950, 2345, -821, 1977, 6119], 0, 143, 4095
        ],
        "panasonic dmc-gx80": [
            [7771, -3020, -629, -4029, 11950, 2345, -821, 1977, 6119], 0, 143, 4095
        ],
        "panasonic dmc-gx7mk2": [
            [7771, -3020, -629, -4029, 11950, 2345, -821, 1977, 6119], 0, 143, 4095
        ],
        "panasonic dmc-lf1": [
            [9379, -3267, -816, -3227, 11560, 1881, -926, 1928, 5340], 1, 143, 3971
        ],
        "panasonic dmc-lx3": [
            [8128, -2668, -655, -6134, 13307, 3161, -1782, 2568, 6083], 0, 15, 3971
        ],
        "panasonic dmc-lx15": [
            [7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 143, 4095
        ],
        "panasonic dmc-lx9": [
            [7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 143, 4095
        ],
        "panasonic dmc-lx10": [
            [7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 143, 4095
        ],
        "leica c (typ 112)": [
            [9379, -3267, -816, -3227, 11560, 1881, -926, 1928, 5340], 1, 146, 3956
        ],
        "leica digilux 2": [
            [11340, -4069, -1275, -7555, 15266, 2448, -2960, 3426, 7685], 1, 0, 4095
        ],
        "leica d-lux 3": [
            [8048, -2810, -623, -6450, 13519, 3272, -1700, 2146, 7049], 0, 0, 3986
        ],
        "leica v-lux 1": [
            [7906, -2709, -594, -6231, 13351, 3220, -1922, 2631, 6537], 0, 0, 3986
        ],
        "panasonic dmc-l10": [
            [8025, -1942, -1050, -7920, 15904, 2100, -2456, 3005, 7039], 3, 0, 3986
        ],
        "panasonic dmc-fz30": [
            [10976, -4029, -1141, -7918, 15491, 2600, -1670, 2071, 8246], 1, 0, 3971
        ],
        "panasonic dmc-fz50": [
            [7906, -2709, -594, -6231, 13351, 3220, -1922, 2631, 6537], 0, 0, 3986
        ],
        "panasonic dmc-fz8": [
            [8986, -2755, -802, -6341, 13575, 3077, -1476, 2144, 6379], 1, 0, 3986
        ],
        "panasonic dmc-fz18": [
            [9932, -3060, -935, -5809, 13331, 2753, -1267, 2155, 5575], 0, 0, 3986
        ],
        "panasonic dmc-l1": [
            [8054, -1885, -1025, -8349, 16367, 2040, -2805, 3542, 7629], 3, 0, 3986
        ],
        "panasonic dmc-lx2": [
            [8048, -2810, -623, -6450, 13519, 3272, -1700, 2146, 7049], 0, 0, 3986
        ],
        "leica d-lux 4": [
            [8128, -2668, -655, -6134, 13307, 3161, -1782, 2568, 6083], 0, 15, 3971
        ],
        "panasonic dmc-lx5": [
            [10909, -4295, -948, -1333, 9306, 2399, 22, 1738, 4582], 2, 150, 3986
        ],
        "leica d-lux 5": [
            [10909, -4295, -948, -1333, 9306, 2399, 22, 1738, 4582], 2, 150, 3986
        ],
        "panasonic dmc-lx7": [
            [10148, -3743, -991, -2837, 11366, 1659, -701, 1893, 4899], 2, 150, 3971
        ],
        "leica d-lux 6": [
            [10148, -3743, -991, -2837, 11366, 1659, -701, 1893, 4899], 2, 150, 3971
        ],
        "leica d-lux (typ 109)": [
            [8844, -3538, -768, -3709, 11762, 2200, -698, 1792, 5220], 0, 143, 4095
        ],
        "panasonic dmc-lx1": [
            [10704, -4187, -1230, -8314, 15952, 2501, -920, 945, 8927], 1, 0, 3971
        ],
        "panasonic dmc-lx100": [
            [8844, -3538, -768, -3709, 11762, 2200, -698, 1792, 5220], 0, 143, 4095
        ],
        "panasonic dc-lx100m2": [
            [8585, -3127, -833, -4005, 12250, 1953, -650, 1494, 4862], 0, 143, 4095
        ],
        "panasonic dmc-tz60": [
            [8607, -2822, -808, -3755, 11930, 2049, -820, 2060, 5224], 1, 145, 3971
        ],
        "panasonic dmc-tz61": [
            [8607, -2822, -808, -3755, 11930, 2049, -820, 2060, 5224], 1, 145, 3971
        ],
        "panasonic dmc-zs40": [
            [8607, -2822, -808, -3755, 11930, 2049, -820, 2060, 5224], 1, 145, 3971
        ],
        "panasonic dmc-tz71": [
            [8802, -3135, -789, -3151, 11468, 1904, -550, 1745, 4810], 1, 143, 3971
        ],
        "panasonic dmc-zs50": [
            [8802, -3135, -789, -3151, 11468, 1904, -550, 1745, 4810], 1, 143, 3971
        ],
        "panasonic dmc-tz70": [
            [8802, -3135, -789, -3151, 11468, 1904, -550, 1745, 4810], 1, 143, 3971
        ],
        "panasonic dmc-tz81": [
            [8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095
        ],
        "panasonic dmc-zs60": [
            [8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095
        ],
        "panasonic dmc-tz80": [
            [8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095
        ],
        "panasonic dmc-tz85": [
            [8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 142, 4095
        ],
        "panasonic dmc-tz100": [
            [7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095
        ],
        "panasonic dmc-zs100": [
            [7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095
        ],
        "panasonic dmc-zs110": [
            [7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095
        ],
        "panasonic dmc-tz101": [
            [7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095
        ],
        "panasonic dmc-tz110": [
            [7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095
        ],
        "panasonic dmc-tx1": [
            [7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095
        ],
        "panasonic dc-fz82": [
            [8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095
        ],
        "panasonic dc-fz80": [
            [8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095
        ],
        "panasonic dmc-fz80": [
            [8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095
        ],
        "panasonic dmc-fz85": [
            [8550, -2908, -842, -3195, 11529, 1881, -338, 1603, 4631], 3, 143, 4095
        ],
        "panasonic dc-gh5": [
            [7641, -2336, -605, -3218, 11299, 2187, -485, 1338, 5121], 1, 143, 4095
        ],
        "panasonic dc-gh5s": [
            [6929, -2355, -708, -4192, 12534, 1828, -1097, 1989, 5195], 1, 510, 8e3
        ],
        "panasonic dc-g9": [
            [7685, -2375, -634, -3687, 11700, 2249, -748, 1546, 5111], 1, 148, 4095
        ],
        "panasonic dc-gf9": [
            [7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095
        ],
        "panasonic dc-gx800": [
            [7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095
        ],
        "panasonic dc-gx850": [
            [7610, -2780, -576, -4614, 12195, 2733, -1375, 2393, 6490], 0, 143, 4095
        ],
        "panasonic dc-gx9": [
            [7564, -2263, -606, -3148, 11239, 2177, -540, 1435, 4853], 0, 143, 4095
        ],
        "panasonic dc-tz90": [
            [9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095
        ],
        "panasonic dc-zs70": [
            [9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095
        ],
        "panasonic dc-fz91": [
            [9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095
        ],
        "panasonic dc-fz92": [
            [9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095
        ],
        "panasonic dc-fz93": [
            [9052, -3117, -883, -3045, 11346, 1927, -205, 1520, 4730], 3, 139, 4095
        ],
        "panasonic dc-tz202": [
            [7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095
        ],
        "panasonic dc-tz200": [
            [7790, -2736, -755, -3452, 11870, 1769, -628, 1647, 4898], 3, 142, 4095
        ],
        "pentax k100d": [
            [11095, -3157, -1324, -8377, 15834, 2720, -1108, 947, 11688], 1, 127, 3950
        ],
        "pentax k110d": [
            [11095, -3157, -1324, -8377, 15834, 2720, -1108, 947, 11688], 1, 127, 4095
        ],
        "pentax k100d super": [
            [11095, -3157, -1324, -8377, 15834, 2720, -1108, 947, 11688], 1, 127, 4095
        ],
        "pentax *ist d": [
            [9651, -2059, -1189, -8881, 16512, 2487, -1460, 1345, 10687], 1, 128, 4095
        ],
        "pentax *ist dl": [
            [10829, -2838, -1115, -8339, 15817, 2696, -837, 680, 11939], 1, 128, 4095
        ],
        "pentax *ist dl2": [
            [10504, -2438, -1189, -8603, 16207, 2531, -1022, 863, 12242], 1, 127, 3950
        ],
        "pentax *ist ds": [
            [10371, -2333, -1206, -8688, 16231, 2602, -1230, 1116, 11282], 1, 128, 3950
        ],
        "pentax k10d": [
            [9566, -2863, -803, -7170, 15172, 2112, -818, 803, 9705], 1, 0, 4095
        ],
        "pentax k20d": [
            [9427, -2714, -868, -7493, 16092, 1373, -2199, 3264, 7180], 0, 0, 4095
        ],
        "pentax k200d": [
            [9186, -2678, -907, -8693, 16517, 2260, -1129, 1094, 8524], 1, 0, 4095
        ],
        "pentax k-s1": [
            [8512, -3211, -787, -4167, 11966, 2487, -638, 1288, 6054], 1, 32, 4062
        ],
        "pentax k-s2": [
            [8662, -3280, -798, -3928, 11771, 2444, -586, 1232, 6054], 1, 0, 3839
        ],
        "pentax k-70": [
            [8113, -2078, -1275, -4359, 12953, 1514, -1091, 1955, 6044], 1, 64, 16319
        ],
        "pentax k-1": [
            [8827, -2829, -1238, -3611, 12203, 1549, -897, 1687, 6291], 1, 64, 16316
        ],
        "pentax k-1 mark ii": [
            [8952, -2869, -1256, -3612, 12204, 1550, -934, 1757, 6549], 1, 64, 16316
        ],
        "pentax k-3": [
            [7415, -2052, -721, -5186, 12788, 2682, -1446, 2157, 6773], 1, 1, 15868
        ],
        "pentax k-3 ii": [
            [7415, -2052, -721, -5186, 12788, 2682, -1446, 2157, 6773], 1, 1, 15865
        ],
        "pentax k-5": [
            [8713, -2833, -743, -4342, 11900, 2772, -722, 1543, 6247], 0, 512, 16383
        ],
        "pentax k-5 ii": [
            [8170, -2725, -639, -4440, 12017, 2744, -771, 1465, 6599], 0, 512, 16383
        ],
        "pentax k-5 ii s": [
            [8170, -2725, -639, -4440, 12017, 2744, -771, 1465, 6599], 0, 512, 15863
        ],
        "pentax k-7": [
            [9142, -2947, -678, -8648, 16967, 1663, -2224, 2898, 8615], 0, 0, 4095
        ],
        "pentax k-m": [
            [11057, -3604, -1155, -5152, 13046, 2329, -282, 375, 8104], 1, 0, 4095
        ],
        "pentax k-x": [
            [8843, -2837, -625, -5025, 12644, 2668, -411, 1234, 7410], 0, 41, 4095
        ],
        "pentax k-r": [
            [9895, -3077, -850, -5304, 13035, 2521, -883, 1768, 6936], 0, 64, 4e3
        ],
        "pentax kp": [
            [8617, -3228, -1034, -4674, 12821, 2044, -803, 1577, 5728], 1, 128, 16254
        ],
        "pentax k2000": [
            [11057, -3604, -1155, -5152, 13046, 2329, -282, 375, 8104], 1, 0, 4095
        ],
        "pentax 645d": [
            [9814, -2716, -1439, -5049, 13907, 1166, -1830, 3836, 5706], 0, 0, 15767
        ],
        "pentax 645z": [
            [9551, -3012, -1235, -3685, 12133, 1721, -1019, 1887, 6544], 1, 1, 16316
        ],
        "samsung ex2f": [
            [10648, -3897, -1055, -2022, 10573, 1668, -492, 1611, 4742], 1, 0, 4095
        ],
        "samsung ex1": [
            [8898, -2498, -994, -3144, 11328, 2066, -760, 1381, 4576], 1, 0, 16383
        ],
        "samsung nx1": [
            [10686, -4042, -1052, -3595, 13238, 276, -464, 1259, 5931], 2, 1024, 16100
        ],
        "samsung nx5": [
            [10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095
        ],
        "samsung nx10": [
            [10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095
        ],
        "samsung nx11": [
            [10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095
        ],
        "samsung nx100": [
            [10332, -3234, -1168, -6111, 14639, 1520, -1352, 2647, 8331], 0, 0, 4095
        ],
        "samsung nx1000": [
            [6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095
        ],
        "samsung nx1100": [
            [6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095
        ],
        "samsung nx20": [
            [6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095
        ],
        "samsung nx200": [
            [6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095
        ],
        "samsung nx210": [
            [6933, -2268, -753, -4921, 13387, 1647, -803, 1641, 6096], 2, 0, 4095
        ],
        "samsung nx2000": [
            [7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095
        ],
        "samsung nx30": [
            [7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095
        ],
        "samsung nx300": [
            [7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095
        ],
        "samsung nx300m": [
            [7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 2, 0, 4095
        ],
        "samsung nx3000": [
            [8060, -2933, -761, -4504, 12890, 1762, -630, 1489, 5227], 2, 0, 4095
        ],
        "samsung nx500": [
            [10686, -4042, -1052, -3595, 13238, 276, -464, 1259, 5931], 2, 1024, 16100
        ],
        "samsung ek-gn120": [
            [7557, -2522, -739, -4679, 12949, 1894, -840, 1777, 5311], 3, 0, 4095
        ],
        "samsung wb2000": [
            [12093, -3557, -1155, -1e3, 9534, 1733, -22, 1787, 4576], 1, 0, 4095
        ],
        "sony dsc-rx0": [
            [9396, -3507, -843, -2497, 11111, 1572, -343, 1355, 5089], 1, 800, 16620
        ],
        "sony dsc-rx10": [
            [6679, -1825, -745, -5047, 13256, 1953, -1580, 2422, 5183], 1, 800, 16300
        ],
        "sony dsc-rx10m2": [
            [6679, -1825, -745, -5047, 13256, 1953, -1580, 2422, 5183], 1, 800, 16300
        ],
        "sony dsc-rx10m3": [
            [6679, -1825, -745, -5047, 13256, 1953, -1580, 2422, 5183], 1, 800, 16300
        ],
        "sony dsc-rx10m4": [
            [7699, -2566, -629, -2967, 11270, 1928, -378, 1286, 4807], 1, 800, 16380
        ],
        "sony dsc-rx100": [
            [8651, -2754, -1057, -3464, 12207, 1373, -568, 1398, 4434], 1, 800, 16620
        ],
        "sony dsc-rx100m2": [
            [6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300
        ],
        "sony dsc-rx100m3": [
            [6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300
        ],
        "sony dsc-rx100m4": [
            [6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300
        ],
        "sony dsc-rx100m5": [
            [6596, -2079, -562, -4782, 13016, 1933, -970, 1581, 5181], 1, 800, 16300
        ],
        "sony dsc-rx100m5a": [
            [11176, -4700, -965, -4004, 12184, 2032, -763, 1726, 5876], 1, 800, 16300
        ],
        "sony dsc-rx100m6": [
            [7325, -2321, -596, -3494, 11674, 2055, -668, 1562, 5031], 1, 800, 16300
        ],
        "sony dsc-rx1r": [
            [6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 512, 33192
        ],
        "sony dsc-rx1rm2": [
            [6629, -1900, -483, -4618, 12349, 2550, -622, 1381, 6514], 1, 512, 16300
        ],
        "sony dslr-a100": [
            [9437, -2811, -774, -8405, 16215, 2290, -710, 596, 7181], 2, 0, 4095
        ],
        "sony dslr-a200": [
            [9847, -3091, -928, -8485, 16345, 2225, -715, 595, 7103], 1, 0, 4095
        ],
        "sony dslr-a230": [
            [9847, -3091, -928, -8485, 16345, 2225, -715, 595, 7103], 1, 0, 4095
        ],
        "sony dslr-a290": [
            [6038, -1484, -579, -9145, 16746, 2512, -875, 746, 7218], 1, 0, 4095
        ],
        "sony dslr-a300": [
            [9847, -3091, -928, -8485, 16345, 2225, -715, 595, 7103], 1, 0, 4095
        ],
        "sony dslr-a330": [
            [9847, -3091, -929, -8485, 16346, 2225, -714, 595, 7103], 1, 0, 4095
        ],
        "sony dslr-a350": [
            [6038, -1484, -578, -9146, 16746, 2513, -875, 746, 7217], 1, 0, 4095
        ],
        "sony dslr-a380": [
            [6038, -1484, -579, -9145, 16746, 2512, -875, 746, 7218], 1, 0, 4095
        ],
        "sony dslr-a390": [
            [6038, -1484, -579, -9145, 16746, 2512, -875, 746, 7218], 1, 0, 4095
        ],
        "sony dslr-a450": [
            [4950, -580, -103, -5228, 12542, 3029, -709, 1435, 7371], 1, 500, 16e3
        ],
        "sony dslr-a500": [
            [6046, -1127, -278, -5574, 13076, 2786, -691, 1419, 7625], 0, 500, 16600
        ],
        "sony dslr-a550": [
            [4950, -580, -103, -5228, 12542, 3029, -709, 1435, 7371], 0, 512, 16372
        ],
        "sony dslr-a560": [
            [4950, -580, -103, -5228, 12542, 3029, -709, 1435, 7371], 0, 476, 16596
        ],
        "sony dslr-a580": [
            [5932, -1492, -411, -4813, 12285, 2856, -741, 1524, 6739], 0, 520, 16596
        ],
        "sony dslr-a700": [
            [5775, -805, -359, -8574, 16295, 2391, -1943, 2341, 7249], 0, 520, 16383
        ],
        "sony dslr-a850": [
            [5413, -1162, -365, -5665, 13098, 2866, -608, 1179, 8440], 0, 500, 15e3
        ],
        "sony dslr-a900": [
            [5209, -1072, -397, -8845, 16120, 2919, -1618, 1803, 8654], 1, 520, 16383
        ],
        "sony nex-3": [
            [6907, -1256, -645, -4940, 12621, 2320, -1710, 2581, 6230], 1, 520, 16360
        ],
        "sony nex-3n": [
            [6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 520, 16596
        ],
        "sony nex-5": [
            [6807, -1350, -342, -4216, 11649, 2567, -1089, 2001, 6420], 1, 520, 16383
        ],
        "sony nex-5n": [
            [5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16596
        ],
        "sony nex-5r": [
            [6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 520, 16596
        ],
        "sony nex-5t": [
            [6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 512, 16300
        ],
        "sony nex-6": [
            [6129, -1545, -418, -4930, 12490, 2743, -977, 1693, 6615], 1, 520, 16596
        ],
        "sony nex-7": [
            [5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 512, 16300
        ],
        "sony nex-c3": [
            [5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16596
        ],
        "sony nex-f3": [
            [5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16360
        ],
        "sony ilce-3000": [
            [5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300
        ],
        "sony ilce-3500": [
            [5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300
        ],
        "sony ilce-5000": [
            [5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300
        ],
        "sony ilce-5100": [
            [5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300
        ],
        "sony ilce-6000": [
            [5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16300
        ],
        "sony ilce-6300": [
            [5973, -1695, -419, -3826, 11797, 2293, -639, 1398, 5789], 1, 512, 16300
        ],
        "sony ilce-6500": [
            [5973, -1695, -419, -3826, 11797, 2293, -639, 1398, 5789], 1, 512, 16300
        ],
        "sony ilce-7": [
            [5271, -712, -347, -6153, 13653, 2763, -1601, 2366, 7242], 1, 512, 16300
        ],
        "sony ilce-7m2": [
            [5271, -712, -347, -6153, 13653, 2763, -1601, 2366, 7242], 1, 512, 16300
        ],
        "sony ilce-7m3": [
            [7374, -2389, -551, -5435, 13162, 2519, -1006, 1795, 6552], 1, 512, 16300
        ],
        "sony ilce-7r": [
            [4913, -541, -202, -6130, 13513, 2906, -1564, 2151, 7183], 1, 512, 16300
        ],
        "sony ilce-7rm2": [
            [6629, -1900, -483, -4618, 12349, 2550, -622, 1381, 6514], 1, 512, 16300
        ],
        "sony ilce-7rm3": [
            [6640, -1847, -503, -5238, 13010, 2474, -993, 1673, 6527], 1, 512, 16383
        ],
        "sony ilce-7s": [
            [5838, -1430, -246, -3497, 11477, 2297, -748, 1885, 5778], 1, 512, 16300
        ],
        "sony ilce-7sm2": [
            [5838, -1430, -246, -3497, 11477, 2297, -748, 1885, 5778], 1, 512, 16300
        ],
        "sony ilce-9": [
            [6389, -1703, -378, -4562, 12265, 2587, -670, 1489, 6550], 1, 512, 16383
        ],
        "sony dsc-rx1": [
            [6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 520, 16628
        ],
        "sony slt-a33": [
            [6069, -1221, -366, -5221, 12779, 2734, -1024, 2066, 6834], 1, 520, 16596
        ],
        "sony slt-a35": [
            [5986, -1618, -415, -4557, 11820, 3120, -681, 1404, 6971], 1, 545, 16596
        ],
        "sony slt-a37": [
            [5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16500
        ],
        "sony slt-a55": [
            [5932, -1492, -411, -4813, 12285, 2856, -741, 1524, 6739], 1, 520, 16596
        ],
        "sony slt-a55v": [
            [5932, -1492, -411, -4813, 12285, 2856, -741, 1524, 6739], 1, 520, 16596
        ],
        "sony slt-a57": [
            [5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 512, 16596
        ],
        "sony slt-a58": [
            [5991, -1456, -455, -4764, 12135, 2980, -707, 1425, 6701], 1, 520, 16596
        ],
        "sony slt-a65": [
            [5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596
        ],
        "sony slt-a65v": [
            [5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596
        ],
        "sony slt-a77": [
            [5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596
        ],
        "sony slt-a77v": [
            [5491, -1192, -363, -4951, 12342, 2948, -911, 1722, 7192], 1, 520, 16596
        ],
        "sony ilca-77m2": [
            [5991, -1732, -443, -4100, 11989, 2381, -704, 1467, 5992], 1, 512, 16300
        ],
        "sony ilca-68": [
            [6435, -1903, -536, -4722, 12449, 2550, -663, 1363, 6517], 1, 512, 16300
        ],
        "sony ilca-99m2": [
            [6660, -1918, -471, -4613, 12398, 2485, -649, 1433, 6447], 1, 512, 16300
        ],
        "sony slt-a99": [
            [6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 520, 16596
        ],
        "sony slt-a99v": [
            [6344, -1612, -462, -4863, 12477, 2681, -865, 1786, 6899], 1, 520, 16596
        ],
        "sinar hy6": [
            [16442, -2956, -2422, -2877, 12128, 750, -1136, 6066, 4559], 1, 0, 0
        ],
        "fujifilm finepix s6000fd": [
            [12628, -4887, -1401, -6861, 14996, 1962, -2198, 2782, 7091], 3, 0, 15872
        ],
        "fujifilm finepix s100fs": [
            [11521, -4355, -1065, -6524, 13767, 3058, -1466, 1984, 6045], 3, 512, 16383
        ],
        "fujifilm finepix s200exr": [
            [11401, -4498, -1312, -5088, 12751, 2613, -838, 1568, 5941], 1, 519, 16250
        ],
        "fujifilm finepix f600exr": [
            [13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 256, 3900
        ],
        "fujifilm finepix f700": [
            [10004, -3219, -1201, -7036, 15047, 2107, -1863, 2565, 7736], 3, 0, 16383
        ],
        "fujifilm finepix f770exr": [
            [13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 256, 3900
        ],
        "fujifilm finepix f900exr": [
            [12085, -4727, -953, -3257, 11489, 2002, -511, 2046, 4592], 0, 256, 3900
        ],
        "fujifilm finepix e550": [
            [11044, -3888, -1120, -7248, 15168, 2208, -1531, 2277, 8069], 3, 0, 15875
        ],
        "fujifilm is-1": [
            [21461, -10807, -1441, -2332, 10599, 1999, 289, 875, 7703], 3, 0, 15872
        ],
        "fujifilm finepix s3pro": [
            [11807, -4612, -1294, -8927, 16968, 1988, -2120, 2741, 8006], 3, 0, 15872
        ],
        "fujifilm finepix s5pro": [
            [12300, -5110, -1304, -9117, 17143, 1998, -1947, 2448, 8100], 3, 0, 15872
        ],
        "fujifilm finepix s5600": [
            [9636, -2804, -988, -7442, 15040, 2589, -1803, 2311, 8621], 3, 0, 15872
        ],
        "fujifilm finepix e900": [
            [9183, -2526, -1078, -7461, 15071, 2574, -2022, 2440, 8639], 3, 0, 15872
        ],
        "fujifilm finepix s2pro": [
            [12492, -4690, -1402, -7033, 15423, 1647, -1507, 2111, 7697], 3, 128, 4095
        ],
        "fujifilm finepix s5000": [
            [8754, -2732, -1019, -7204, 15069, 2276, -1702, 2334, 6982], 3, 0, 15872
        ],
        "fujifilm finepix s5200": [
            [9636, -2804, -988, -7442, 15040, 2589, -1803, 2311, 8621], 3, 0, 15872
        ],
        "fujifilm finepix s5500": [
            [11940, -4431, -1255, -6766, 14428, 2542, -993, 1165, 7421], 1, 0, 15872
        ],
        "fujifilm finepix s6500fd": [
            [12628, -4887, -1401, -6861, 14996, 1962, -2198, 2782, 7091], 3, 0, 15872
        ],
        "fujifilm finepix s9500": [
            [10491, -3423, -1145, -7385, 15027, 2538, -1809, 2275, 8692], 3, 0, 15872
        ],
        "fujifilm finepix s9000": [
            [10491, -3423, -1145, -7385, 15027, 2538, -1809, 2275, 8692], 3, 0, 15872
        ],
        "fujifilm finepix s9600": [
            [12343, -4515, -1285, -7165, 14899, 2435, -1895, 2496, 8800], 3, 0, 15872
        ],
        "fujifilm finepix s9600fd": [
            [12343, -4515, -1285, -7165, 14899, 2435, -1895, 2496, 8800], 3, 0, 15872
        ],
        "fujifilm finepix hs10 hs11": [
            [12440, -3954, -1183, -1123, 9674, 1708, -83, 1614, 4086], 0, 50, 3900
        ],
        "fujifilm finepix hs20exr": [
            [13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 256, 3900
        ],
        "fujifilm finepix hs30exr": [
            [13690, -5358, -1474, -3369, 11600, 1998, -132, 1554, 4395], 1, 258, 3900
        ],
        "fujifilm finepix hs50exr": [
            [12085, -4727, -953, -3257, 11489, 2002, -511, 2046, 4592], 0, 256, 3900
        ],
        "fujifilm finepix x100": [
            [12161, -4457, -1069, -5034, 12874, 2400, -795, 1724, 6904], 0, 254, 4e3
        ],
        "fujifilm finepix x10": [
            [13509, -6199, -1254, -4430, 12733, 1865, -331, 1441, 5022], 0, 256, 4e3
        ],
        "fujifilm x-s1": [
            [13509, -6199, -1254, -4430, 12733, 1865, -331, 1441, 5022], 0, 260, 4e3
        ],
        "fujifilm gfx 50s": [
            [11756, -4754, -874, -3056, 11045, 2305, -381, 1457, 6006], 1, 65, 16383
        ],
        "fujifilm x-pro1": [
            [10413, -3996, -993, -3721, 11640, 2361, -733, 1540, 6011], 2, 256, 4094
        ],
        "fujifilm x-pro2": [
            [11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383
        ],
        "fujifilm x70": [
            [10450, -4329, -878, -3217, 11105, 2421, -752, 1758, 6519], 1, 1024, 16383
        ],
        "fujifilm xf1": [
            [13509, -6199, -1254, -4430, 12733, 1865, -331, 1441, 5022], 0, 257, 4e3
        ],
        "fujifilm x-e1": [
            [10413, -3996, -993, -3721, 11640, 2361, -733, 1540, 6011], 2, 255, 4094
        ],
        "fujifilm x20": [
            [11768, -4971, -1133, -4904, 12927, 2183, -480, 1723, 4605], 3, 257, 4094
        ],
        "fujifilm x30": [
            [12328, -5256, -1144, -4469, 12927, 1675, -87, 1291, 4351], 3, 257, 4094
        ],
        "fujifilm x100f": [
            [11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383
        ],
        "fujifilm x100s": [
            [10592, -4262, -1008, -3514, 11355, 2465, -870, 2025, 6386], 1, 1024, 16383
        ],
        "fujifilm x100t": [
            [10592, -4262, -1008, -3514, 11355, 2465, -870, 2025, 6386], 1, 1024, 16383
        ],
        "fujifilm x-h1": [
            [11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383
        ],
        "fujifilm x-m1": [
            [10413, -3996, -993, -3721, 11640, 2361, -733, 1540, 6011], 2, 256, 4094
        ],
        "fujifilm x-a1": [
            [11086, -4555, -839, -3512, 11310, 2517, -815, 1341, 5940], 1, 256, 4094
        ],
        "fujifilm x-a2": [
            [10763, -4560, -917, -3346, 11311, 2322, -475, 1135, 5843], 1, 256, 4094
        ],
        "fujifilm x-a3": [
            [12407, -5222, -1086, -2971, 11116, 2120, -294, 1029, 5284], 1, 1024, 16383
        ],
        "fujifilm x-a5": [
            [11673, -4760, -1041, -3988, 12058, 2166, -771, 1417, 5569], 1, 1024, 16383
        ],
        "fujifilm xq1": [
            [9252, -2704, -1064, -5893, 14265, 1717, -1101, 2341, 4349], 3, 257, 4094
        ],
        "fujifilm xq2": [
            [9252, -2704, -1064, -5893, 14265, 1717, -1101, 2341, 4349], 3, 257, 4094
        ],
        "fujifilm x-e2": [
            [8458, -2451, -855, -4597, 12447, 2407, -1475, 2482, 6526], 1, 1024, 16383
        ],
        "fujifilm x-e3": [
            [11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1023, 16383
        ],
        "fujifilm x-e2s": [
            [11562, -5118, -961, -3022, 11007, 2311, -525, 1569, 6097], 1, 1024, 16383
        ],
        "fujifilm x-t1": [
            [8458, -2451, -855, -4597, 12447, 2407, -1475, 2482, 6526], 1, 1024, 16383
        ],
        "fujifilm x-t2": [
            [11434, -4948, -1210, -3746, 12042, 1903, -666, 1479, 5235], 1, 1024, 16383
        ],
        "fujifilm x-t3": [
            [16393, -7740, -1436, -4238, 12131, 2371, -633, 1424, 6553], 2, 1022, 16383
        ],
        "fujifilm x-t10": [
            [8458, -2451, -855, -4597, 12447, 2407, -1475, 2482, 6526], 1, 1024, 16383
        ],
        "fujifilm x-t20": [
            [10592, -4262, -1008, -3514, 11355, 2465, -870, 2025, 6386], 1, 1024, 16383
        ],
        "fujifilm x-t30": [
            [16393, -7740, -1436, -4238, 12131, 2371, -633, 1424, 6553], 2, 1022, 16383
        ],
        "fujifilm x-t100": [
            [11673, -4760, -1041, -3988, 12058, 2166, -771, 1417, 5569], 1, 1024, 16383
        ],
        "minolta dimage a1": [
            [9274, -2547, -1167, -8220, 16323, 1943, -2273, 2720, 8340], 1, 0, 3965
        ],
        "minolta dimage 5": [
            [8983, -2942, -963, -6556, 14476, 2237, -2426, 2887, 8014], 1, 0, 3965
        ],
        "minolta dimage 7": [
            [9144, -2777, -998, -6676, 14556, 2281, -2470, 3019, 7744], 1, 0, 3965
        ],
        "minolta dimage 7i": [
            [10880, -3638, -1186, -6496, 14313, 2364, -2456, 3092, 7485], 1, 0, 3965
        ],
        "minolta dimage 7hi": [
            [11368, -3894, -1242, -6521, 14358, 2339, -2475, 3056, 7285], 1, 0, 3965
        ],
        "sony dsc-f828": [
            [7924, -1910, -777, -8226, 15459, 2998, -1517, 2199, 6818, -7242, 11401, 3481], 0, 495, 16383
        ],
        "sony dsc-hx99": [
            [13076, -5686, -1481, -4027, 12851, 1251, -167, 725, 4937], 1, 800, 16300
        ],
        "sony dsc-r1": [
            [8512, -2641, -694, -8042, 15670, 2526, -1821, 2117, 7414], 2, 511, 16383
        ],
        "mamiya zd": [
            [7645, 2579, -1363, -8689, 16717, 2015, -3712, 5941, 5961], 1, 0, 4e3
        ],
        "leaf aptus 22": [
            [8236, 1746, -1314, -8251, 15953, 2428, -3673, 5786, 5771], 1, 0, 16191
        ],
        "leaf credo 40": [
            [8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383
        ],
        "leaf credo 60": [
            [8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383
        ],
        "leaf credo 80": [
            [8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383
        ],
        "leaf aptus-ii 5": [
            [1846, 7955, -1222, -12994, 19563, 3596, -2035, 3340, 5136], 2, 0, 15e3
        ],
        "phase one p30": [
            [4516, -245, -37, -7020, 14976, 2173, -3206, 4671, 7087], 2, 0, 16383
        ],
        "phase one p65+": [
            [8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 16383
        ],
        "phase one iq140": [
            [8035, 435, -962, -6001, 13872, 2320, -1159, 3065, 5434], 1, 0, 65535
        ],
        "phase one iq250": [
            [3984, 0, 0, 0, 1e4, 0, 0, 0, 7666], 1, 1024, 65535
        ],
        "kodak dcs pro slr/n": [
            [5494, 2393, -232, -6427, 13850, 2846, -1876, 3997, 5445], 2, 0, 4095
        ],
        "kodak dcs pro 14n": [
            [5494, 2393, -232, -6427, 13850, 2846, -1876, 3997, 5445], 2, 0, 3700
        ],
        "kodak dcs pro 14nx": [
            [5494, 2393, -232, -6427, 13850, 2846, -1876, 3997, 5445], 2, 0, 3700
        ],
        "kodak dcs460": [
            [10592, -2206, -967, -1944, 11685, 230, 2206, 670, 1273], 2, 7, 6664
        ],
        "kodak dcs520c": [
            [24542, -10860, -3401, -1490, 11370, -297, 2858, -605, 3225], 2, 176, 4095
        ],
        "kodak dcs560c": [
            [20482, -7172, -3125, -1033, 10410, -285, 2542, 226, 3136], 2, 208, 4095
        ],
        "kodak dcs760c": [
            [16623, -6309, -1411, -4344, 13923, 323, 2285, 274, 2926], 2, 0, 3500
        ],
        "kodak p880": [
            [12805, -4662, -1376, -7480, 15267, 2360, -1626, 2194, 7904], 0, 0, 4095
        ],
        "kodak easyshare z980 digital camera": [
            [11313, -3559, -1101, -3893, 11891, 2257, -1214, 2398, 4908], 1, 0, 4095
        ],
        "kodak z1015 is": [
            [11265, -4286, -992, -4694, 12343, 2647, -1090, 1523, 5447], 0, 0, 4095
        ],
        "epson r-d1": [
            [6827, -1878, -732, -8429, 16012, 2564, -704, 592, 7145], 1, 63, 4095
        ],
        "hasselblad cfv-50": [
            [5656, -659, -346, -3923, 12306, 1791, -1602, 3509, 5442], 1, 256, 65535
        ],
        "hasselblad h3d": [
            [3857, 452, -46, -6008, 14477, 1596, -2627, 4481, 5718], 1, 0, 31456
        ],
        "hasselblad h5d-40": [
            [6159, -1402, -177, -5439, 12762, 3007, -955, 2200, 7104], 1, 256, 62914
        ],
        "hasselblad h5d-50c": [
            [4932, -835, 141, -4878, 11868, 3437, -1138, 1961, 7067], 1, 256, 62914
        ],
        "canon powershot a610": [
            [15591, -6402, -1592, -5365, 13198, 2168, -1300, 1824, 5075], 1, 0, 1023, 2672, 1968
        ],
        "canon powershot s3 is": [
            [14062, -5199, -1446, -4712, 12470, 2243, -1286, 2028, 4836], 1, 0, 1023, 2888, 2136
        ],
        "canon powershot a620": [
            [15265, -6193, -1558, -4125, 12116, 2010, -888, 1639, 5220], 1, 0, 1023, 3152, 2340
        ],
        "canon powershot a720 is": [
            [14573, -5482, -1546, -1266, 9799, 1468, -1040, 1912, 3810], 3, 0, 1023, 3336, 2480
        ],
        "canon powershot a630": [
            [14201, -5308, -1757, -6087, 14472, 1617, -2191, 3105, 5348], 1, 0, 1023, 3344, 2484
        ],
        "canon powershot a640": [
            [13124, -5329, -1390, -3602, 11658, 1944, -1612, 2863, 4885], 1, 0, 1023, 3736, 2772
        ],
        "canon powershot a650": [
            [9427, -3036, -959, -2581, 10671, 1911, -1039, 1982, 4430], 1, 0, 1023, 4104, 3048
        ],
        "canon powershot sx110 is": [
            [14134, -5576, -1527, -1991, 10719, 1273, -1158, 1929, 3581], 1, 0, 4095, 3720, 2772
        ],
        "gitup git2": [
            [8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 1, 3200, 65535, 4608, 3456
        ],
        "gitup git2p": [
            [8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 1, 4160, 65535, 4624, 3488
        ],
        "paralenz dive camera": [
            [8489, -2583, -1036, -8051, 15583, 2643, -1307, 1407, 7354], 1, 1024, 16383, 3840, 2160
        ],
        "sjcam sj6 legend": [
            [9489, -3814, -225, -6650, 13742, 3236, -627, 797, 7550], 1, 0, 4095, 4024, 3036
        ]
    };
    v.DR = {};
    v.DR.DR = function(w, o, Q, K, b) {
        if (K == null) K = 3;
        if (b == null) b == !0;
        var R = w.D,
            X = w.j,
            h = 1 / R,
            e = R * X,
            Z = Date.now(),
            P = !1,
            J = v.DR.Sv(Q, R, X, 255, 128),
            i = v.DR.Sv(Q, R, X, 0, 128),
            eh = 0;
        if (P) console.log("extract contours", Date.now() - Z);
        Z = Date.now();
        var k = function(hA, ft) {
            var c6 = hA << 2,
                ba = ft << 2;
            return o[c6] + o[c6 + 1] + o[c6 + 2] - (o[ba] + o[ba + 1] + o[ba + 2])
        };
        J.sort(k);
        i.sort(k);
        var $ = v.$(e),
            n = v.$(e),
            j = [],
            y = new Uint32Array(R * X);
        y.fill(4294967295);
        for (var M = 0; M < e; M++)
            if (Q[M] == 0) n[M] = 255;
            else if (Q[M] == 255) $[M] = 255;
        else {
            y[M] = j.length;
            j.push(M)
        }
        var V = J.length,
            O = i.length,
            S = j.length;

        function G(hA, ft, c6, ba) {
            var f7 = hA.length,
                an = new Array(f7 * 2);
            for (var M = 0; M < f7; M++) {
                var r = hA[M],
                    x = ~~(r * ba),
                    C = r - x * c6,
                    hp = r << 2;
                an[M * 2] = C << 16 | x;
                an[M * 2 + 1] = ft[hp] << 16 | ft[hp + 1] << 8 | ft[hp + 2]
            }
            return an
        }
        var D = G(J, o, R, h),
            q = G(i, o, R, h),
            T = G(j, o, R, h);
        if (P) console.log("Itemize", Date.now() - Z, "Unknown:", S, V, O);
        Z = Date.now();
        var L = v.style._b($, R, X, !0),
            N = v.style._b(n, R, X, !0),
            F = new Array(S),
            I = new Array(S),
            s = new Array(S),
            u = new Array(S),
            g = new Array(S);
        if (P) console.log("Dist transform", Date.now() - Z);
        Z = Date.now();
        var U = v.DR.m6;
        for (var M = 0; M < S; M++) {
            var r = j[M],
                x = ~~(r * h),
                C = r - x * R,
                p = L[r << 1],
                l = L[(r << 1) + 1],
                c = Math.sqrt(p * p + l * l),
                t = N[r << 1],
                H = N[(r << 1) + 1],
                gl = Math.sqrt(t * t + H * H);
            F[M] = 1 / c;
            I[M] = 1 / gl;
            var ie = Math.floor(v.M.TG(r * 17) * V),
                fk = Math.floor(v.M.TG(r * 19) * O);
            s[M] = ie;
            u[M] = fk;
            g[M] = U(T[M * 2], T[M * 2 + 1], D[ie * 2], D[ie * 2 + 1], q[fk * 2], q[fk * 2 + 1], F[M], I[M], 1e9)
        }
        var h5 = [-R - 1, -R, -R + 1, -1, 1, R - 1, R, R + 1];
        while (Math.floor(Math.max(V, O) * Math.pow(.5, eh)) > 1) eh++;
        for (var cf = 0; cf < K; cf++) {
            var f = 0;
            for (var M = 0; M < S; M++) {
                var r = j[M],
                    x = ~~(r * h),
                    C = r - x * R,
                    aH = F[M],
                    gY = I[M],
                    cC = T[M * 2],
                    cY = T[M * 2 + 1],
                    gJ = g[M],
                    ie = s[M],
                    fk = u[M],
                    hn = 1;
                if (x != 0 && C != 0 && C != R - 1 && x != X - 1)
                    for (var bM = 0; bM < 8; bM++) {
                        var cN = y[r + h5[bM]];
                        if (cN == 4294967295) continue;
                        var eu = s[cN],
                            cU = u[cN];
                        if (eu == ie && cU == fk) continue;
                        var h7 = U(cC, cY, D[eu * 2], D[eu * 2 + 1], q[cU * 2], q[cU * 2 + 1], aH, gY, gJ);
                        if (h7 < gJ) {
                            gJ = h7;
                            ie = eu;
                            fk = cU
                        }
                    }
                for (var gS = 0; gS < eh; gS++) {
                    var aq = ~~(V * hn),
                        ef = ~~(O * hn);
                    hn *= .5;
                    var dU = v.M.TG(r + cf * 17 + gS * 31),
                        hO = v.M.TG(r + cf * 29 + gS * 63),
                        ao = Math.max(0, ie - aq),
                        hI = Math.min(ie + aq, V - 1),
                        a$ = Math.max(0, fk - ef),
                        hH = Math.min(fk + ef, O - 1),
                        eu = ao + ~~(dU * (hI - ao)),
                        cU = a$ + ~~(hO * (hH - a$)),
                        h7 = U(cC, cY, D[eu * 2], D[eu * 2 + 1], q[cU * 2], q[cU * 2 + 1], aH, gY, gJ);
                    if (h7 < gJ) {
                        gJ = h7;
                        ie = eu;
                        fk = cU
                    }
                }
                g[M] = gJ;
                s[M] = ie;
                u[M] = fk;
                f += gJ
            }
        }
        if (P) console.log(f);
        if (P) console.log("iterations", Date.now() - Z);
        Z = Date.now();
        var bq = Q.slice(0);
        for (var M = 0; M < S; M++) {
            var dq = v.DR.alpha(T[M * 2 + 1], D[s[M] * 2 + 1], q[u[M] * 2 + 1]);
            bq[j[M]] = ~~(.5 + 255 * dq)
        }
        bq = v.SK.ahU(bq, o, new B(0, 0, R, X), 16, .01 * .01);
        if (P) console.log("guided filter", Date.now() - Z);
        Z = Date.now();
        if (b)
            for (var M = 0; M < e; M++)
                if (Q[M] == 255 || Q[M] == 0) bq[M] = Q[M];
        var g9 = o.slice(0);
        for (var M = 0; M < S; M++) {
            var cx = j[M],
                ie = J[s[M]],
                gJ = g[M],
                hp = cx << 2,
                b0 = bq[cx],
                bh = (b0 >= 250 ? cx : ie) << 2;
            g9[hp] = o[bh];
            g9[hp + 1] = o[bh + 1];
            g9[hp + 2] = o[bh + 2]
        }
        v.qh(bq, g9, 3);
        if (P) console.log(Date.now() - Z);
        Z = Date.now();
        return g9
    };
    v.DR.m6 = function(w, o, Q, K, b, R, X, h, e) {
        var Z = w >>> 16,
            P = w & 65535,
            J = Z - (Q >>> 16),
            i = P - (Q & 65535),
            k = Z - (b >>> 16),
            $ = P - (b & 65535),
            n = Math.sqrt(J * J + i * i) * X,
            j = Math.sqrt(k * k + $ * $) * h;
        if (n + j >= e) return 1e9;
        var y = v.DR.a1T(o, K, R);
        return y + n + j
    };
    v.DR.a1T = function(w, o, Q) {
        var K = w >>> 16,
            b = w >>> 8 & 255,
            R = w & 255,
            X = o >>> 16,
            h = o >>> 8 & 255,
            e = o & 255,
            Z = Q >>> 16,
            P = Q >>> 8 & 255,
            J = Q & 255,
            i = v.DR.alpha(w, o, Q),
            k = K - (i * X + (1 - i) * Z),
            $ = b - (i * h + (1 - i) * P),
            n = R - (i * e + (1 - i) * J);
        return Math.sqrt(k * k + $ * $ + n * n)
    };
    v.DR.alpha = function(w, o, Q) {
        var K = w >>> 16,
            b = w >>> 8 & 255,
            R = w & 255,
            X = o >>> 16,
            h = o >>> 8 & 255,
            e = o & 255,
            Z = Q >>> 16,
            P = Q >>> 8 & 255,
            J = Q & 255,
            i = X - Z,
            k = h - P,
            $ = e - J,
            n = K - Z,
            j = b - P,
            y = R - J,
            V = i * i + k * k + $ * $,
            O = V == 0 ? .5 : (n * i + j * k + y * $) / V;
        return Math.max(0, Math.min(1, O))
    };
    v.DR.agr = function(w) {};
    v.DR.Sv = function(w, o, Q, K, b) {
        var R = [],
            X = o - 1,
            h = Q - 1;
        for (var e = 1; e < h; e++)
            for (var Z = 1; Z < X; Z++) {
                var M = e * o + Z;
                if (w[M] == K && (w[M - o - 1] == b || w[M - o] == b || w[M - o + 1] == b || (w[M - 1] == b || w[M + 1] == b) || (w[M + o - 1] == b || w[M + o] == b || w[M + o + 1] == b))) R.push(M)
            }
        return R
    };
    v.SK = {};
    v.SK.ajb = function(w, o, Q, K, b) {
        var R = Q.D,
            X = Q.j,
            h = R * X,
            e = v.SK.cy,
            Z = v.$(h * 4),
            P;
        v.Fw(Z, 4294967295);
        var J = Q,
            i = w,
            k = o,
            $ = K;
        v.qh(w, Z, 0);
        P = v.Z7(Z, Q);
        P = v.Z7(P.Sg, P.rect);
        J = P.rect;
        $ = K >>> 2;
        console.log(J, $);
        i = v.$(J.O());
        v.KU(P.Sg, i, 0);
        v.qh(o, Z, 0);
        P = v.Z7(Z, Q);
        P = v.Z7(P.Sg, P.rect);
        k = v.$(J.O());
        v.KU(P.Sg, k, 0);
        var n = v.SK.a90(i, k, J, $, b),
            j = n[0],
            y = n[1],
            V = new B(0, 0, J.D * 2, J.j * 2);
        j = e(j, J, V, !0);
        j = e(j, V, Q, !0);
        y = e(y, J, V, !0);
        y = e(y, V, Q, !0);
        var O = v.$(h);
        for (var M = 0; M < h; M++) O[M] = Math.max(0, Math.min(255, Math.floor(.5 + (j[M] * o[M] + 255 * y[M]))));
        return O
    };
    v.SK.cy = function(w, o, Q, K) {
        var b = Q.D,
            R = Q.j,
            X = o.D,
            h = o.j,
            e = v.SK.l9,
            Z = new Float32Array(b * R);
        for (var P = 0; P < h; P++) {
            var J = (P + P) * b;
            for (var i = 0; i < X; i++) {
                if (!0 || i == 0 || P == 0 || i == X - 1 || P == h - 1) Z[J] = Z[J + 1] = Z[J + b] = Z[J + b + 1] = w[P * X + i];
                else {
                    Z[J] = e(i + .25, P + .25, w, X, h);
                    Z[J + 1] = e(i + .75, P + .25, w, X, h);
                    Z[J + b] = e(i + .25, P + .75, w, X, h);
                    Z[J + b + 1] = e(i + .75, P + .75, w, X, h)
                }
                J += 2
            }
        }
        return Z
    };
    v.SK.l9 = function(w, o, Q, K, b) {
        w -= .499999;
        o -= .499999;
        var R = Math.floor(w),
            X = Math.floor(o),
            h = X * K + R,
            e = w - R,
            Z = o - X,
            P = (1 - Z) * (1 - e),
            J = (1 - Z) * e,
            i = Z * (1 - e),
            k = Z * e;
        if (Q[h] == null || Q[h + K + 1] == null) {
            console.log(w, o, K, b);
            throw "e"
        }
        return P * Q[h + 0] + J * Q[h + 1] + i * Q[h + K + 0] + k * Q[h + K + 1]
    };
    v.SK.a90 = function(w, o, Q, K, b) {
        var R = Q.D,
            X = Q.j,
            h = R * X,
            e = v.SK.LO,
            Z = v.SK.$,
            P = v.PF.vE,
            J = v.SK.ss,
            o = e(o),
            w = e(w),
            i = Z(h);
        P(o, i, Q, K);
        var k = Z(h);
        P(w, k, Q, K);
        var $ = Z(h);
        J(o, o, $);
        P($, $, Q, K);
        var n = Z(h);
        J(o, w, n);
        P(n, n, Q, K);
        var j = Z(h),
            y = Z(h);
        for (var M = 0; M < h; M++) {
            var V = i[M],
                O = k[M],
                S = $[M] - V * V,
                G = n[M] - V * O,
                D = G / (S + b),
                q = O - D * V;
            j[M] = D;
            y[M] = q
        }
        var T = Z(h);
        P(j, T, Q, K);
        var L = Z(h);
        P(y, L, Q, K);
        return [T, L]
    };
    v.SK.ahU = function(w, o, Q, K, b) {
        var R = Q.D,
            X = Q.j,
            h = R * X,
            e = v.SK.cy,
            Z = Date.now(),
            P = !1,
            J = Q,
            i = w,
            k = o,
            $ = K;
        J = new B(0, 0, R >>> 2, X >>> 2);
        $ = K >>> 2;
        i = v.SK.a75(w, R, X);
        k = v.SK.agV(o, R, X);
        if (P) console.log(Date.now() - Z);
        Z = Date.now();
        var n = v.SK.a7u(i, k, J, $, b),
            j = n[0],
            y = n[1],
            V = n[2],
            O = n[3];
        if (P) console.log(Date.now() - Z);
        Z = Date.now();
        var S = v.$(h);
        for (var G = 0; G < X; G++)
            for (var D = 0; D < R; D++) {
                var M = G * R + D,
                    q = (G >>> 2) * (R >>> 2) + (D >>> 2),
                    T = M << 2,
                    L = j[q] * o[T] + y[q] * o[T + 1] + V[q] * o[T + 2] + O[q] * 255;
                S[M] = Math.max(0, Math.min(255, ~~(.5 + L)))
            }
        if (P) console.log(Date.now() - Z);
        Z = Date.now();
        return S
    };
    v.SK.a75 = function(w, o, Q) {
        var K = o >>> 2,
            b = Q >>> 2,
            R = v.$(o * Q);
        for (var X = 0; X < b; X++)
            for (var h = 0; h < K; h++) R[X * K + h] = w[X * o + h << 2];
        return R
    };
    v.SK.agV = function(w, o, Q) {
        var K = o >>> 2,
            b = Q >>> 2,
            R = v.$(o * Q * 4);
        for (var X = 0; X < b; X++)
            for (var h = 0; h < K; h++) {
                var e = X * K + h << 2,
                    Z = X * o + h << 4;
                R[e] = w[Z];
                R[e + 1] = w[Z + 1];
                R[e + 2] = w[Z + 2];
                R[e + 3] = w[Z + 3]
            }
        return R
    };
    v.SK.a7u = function(w, o, Q, K, b) {
        var R = Q.D,
            X = Q.j,
            h = R * X,
            e = v.SK.LO,
            Z = v.SK.$,
            P = v.PF.vE,
            J = v.SK.ss,
            w = e(w),
            i = new v.Dz(R * X);
        v.yn(o, i);
        var o = [e(i.W), e(i.a), e(i.k)],
            k = v.SK.afp(w, o, Q, K, b),
            $ = Z(h);
        P(w, $, Q, K);
        var n = Z(h);
        J(o[0], w, n);
        P(n, n, Q, K);
        var j = Z(h);
        J(o[1], w, j);
        P(j, j, Q, K);
        var y = Z(h);
        J(o[2], w, y);
        P(y, y, Q, K);
        var V = Z(h),
            O = Z(h),
            S = Z(h),
            G = Z(h);
        for (var M = 0; M < h; M++) {
            var D = $[M],
                q = k.Mp[M],
                T = k.Bd[M],
                L = k.vd[M],
                N = n[M] - q * D,
                F = j[M] - T * D,
                I = y[M] - L * D;
            V[M] = k.G2[M] * N + k.a9[M] * F + k.JJ[M] * I;
            O[M] = k.a9[M] * N + k.lJ[M] * F + k.RK[M] * I;
            S[M] = k.JJ[M] * N + k.RK[M] * F + k._t[M] * I;
            G[M] = D - V[M] * q - O[M] * T - S[M] * L
        }
        P(V, V, Q, K);
        P(O, O, Q, K);
        P(S, S, Q, K);
        P(G, G, Q, K);
        return [V, O, S, G]
    };
    v.SK.afp = function(w, o, Q, K, b) {
        var R = Q.D,
            X = Q.j,
            h = R * X,
            e = v.SK.$,
            Z = v.PF.vE,
            P = v.SK.ss,
            J = {};
        J.Mp = e(h);
        Z(o[0], J.Mp, Q, K);
        J.Bd = e(h);
        Z(o[1], J.Bd, Q, K);
        J.vd = e(h);
        Z(o[2], J.vd, Q, K);
        var i = e(h);
        P(o[0], o[0], i);
        Z(i, i, Q, K);
        var k = e(h);
        P(o[0], o[1], k);
        Z(k, k, Q, K);
        var $ = e(h);
        P(o[0], o[2], $);
        Z($, $, Q, K);
        var n = e(h);
        P(o[1], o[1], n);
        Z(n, n, Q, K);
        var j = e(h);
        P(o[1], o[2], j);
        Z(j, j, Q, K);
        var y = e(h);
        P(o[2], o[2], y);
        Z(y, y, Q, K);
        J.G2 = i;
        J.a9 = k;
        J.JJ = $;
        J.lJ = n;
        J.RK = j;
        J._t = y;
        for (var M = 0; M < h; M++) {
            var V = J.Mp[M],
                O = J.Bd[M],
                S = J.vd[M],
                G = i[M] - V * V + b,
                D = k[M] - V * O,
                q = $[M] - V * S,
                T = n[M] - O * O + b,
                L = j[M] - O * S,
                N = y[M] - S * S + b,
                F = T * N - L * L,
                I = L * q - D * N,
                s = D * L - T * q,
                u = G * N - q * q,
                g = q * D - G * L,
                U = G * T - D * D,
                r = F * G + I * D + s * q,
                x = 1 / r;
            J.G2[M] = F * x;
            J.a9[M] = I * x;
            J.JJ[M] = s * x;
            J.lJ[M] = u * x;
            J.RK[M] = g * x;
            J._t[M] = U * x
        }
        return J
    };
    v.SK.$ = function(w) {
        return new Float32Array(w)
    };
    v.SK.LO = function(w) {
        var o = w.length,
            Q = new Float32Array(o);
        for (var M = 0; M < o; M++) Q[M] = w[M] * (1 / 255);
        return Q
    };
    v.SK.ss = function(w, o, Q) {
        for (var M = 0; M < w.length; M++) Q[M] = w[M] * o[M]
    };
    v.jv = {};
    v.jv.AC = function(w, o, Q, K) {
        var b = w[o] - Q[K],
            R = w[o + 1] - Q[K + 1],
            X = w[o + 2] - Q[K + 2];
        return Math.sqrt(b * b + R * R + X * X) * (1 / 441.7)
    };
    v.jv.getSelection = function(w, o, Q) {
        var K = o * Q,
            b = v.$(K),
            R = !1,
            X = Math.round(Q * .7),
            h = 1,
            e = new Uint32Array(12),
            Z = v.$(12);
        for (var P = 0; P < X; P++)
            for (var J = 0; J < o; J++) {
                if (J < h || P < h || J > o - h - 1 || P > Q - h - 1) {
                    var M = P * o + J,
                        i = M << 2,
                        k = 0;
                    if (P < h) k = 4;
                    else if (J > o - h - 1) k = 8;
                    e[k] += w[i];
                    e[k + 1] += w[i + 1];
                    e[k + 2] += w[i + 2];
                    e[k + 3]++;
                    b[M] = 255
                }
            }
        for (var M = 0; M < 12; M += 4)
            for (var $ = 0; $ < 3; $++) Z[M + $] = e[M + $] / e[M + 3];
        var n = new Float32Array(K);
        for (var M = 0; M < K; M++) {
            var i = M * 4,
                j = v.jv.AC(w, i, Z, 0),
                y = v.jv.AC(w, i, Z, 4),
                V = v.jv.AC(w, i, Z, 8),
                O = Math.max(j, Math.max(y, V));
            n[M] = j + y + V - O
        }
        v.jv.cN(n);
        var S = Date.now(),
            G = new Float32Array(K),
            D = [],
            q = v.$(K);
        for (var M = 0; M < 3; M++) {
            v.KU(w, q, M);
            var T = new Uint16Array(K);
            D.push(T);
            v.jv.a4x(q, b, o, Q, T)
        }
        if (R) console.log("MBD", Date.now() - S);
        S = Date.now();
        for (var M = 0; M < K; M++) G[M] = D[0][M] + D[1][M] + D[2][M];
        v.jv.cN(G);
        for (var M = 0; M < K; M++) G[M] += .4 * n[M];
        var L = o >>> 1,
            X = Q >>> 1,
            N = 1 / Math.sqrt(L * L + X * X);
        for (var P = 0; P < Q; P++)
            for (var J = 0; J < o; J++) {
                var F = J - L,
                    I = P - X,
                    s = 1 - Math.sqrt(F * F + I * I) * N;
                G[P * o + J] *= s
            }
        if (R) console.log("Centeredness", Date.now() - S);
        S = Date.now();
        for (var M = 0; M < K; M++) b[M] = G[M] * 255;
        var u = Math.round(o / 120),
            g = Math.round(u * .8);
        if (R) console.log(u, g);
        v.xt.e8(b, q, o, Q, u, v.xt.n7, []);
        b.set(q);
        if (R) console.log("erosion", Date.now() - S);
        S = Date.now();
        for (var M = 0; M < K; M++) G[M] = b[M];
        v.jv.cN(G);
        var U = v.$(256);
        for (var M = 0; M < 256; M++) U[M] = 256 / (1 + Math.exp(-20 * (M / 255 - .5)));
        for (var M = 0; M < K; M++) {
            var r = ~~(G[M] * 255 + .5);
            b[M] = U[r]
        }
        if (R) console.log("Simoid", Date.now() - S);
        S = Date.now();
        return b
    };
    v.jv.cN = function(w) {
        var o = w.length,
            Q = 0;
        for (var M = 0; M < o; M++) Q = Math.max(Q, w[M]);
        var K = 1 / Q;
        for (var M = 0; M < o; M++) w[M] = w[M] * K
    };
    v.jv.a4x = function(w, o, Q, K, b) {
        var R = Q * K,
            X = w.slice(0),
            h = w.slice(0);
        for (var M = 0; M < R; M++) b[M] = o[M] == 255 ? 0 : 65535;
        v.jv.$S(w, h, X, b, Q, K);
        v.jv.Ah(w, h, X, b, Q, K);
        v.jv.$S(w, h, X, b, Q, K);
        v.jv.Ah(w, h, X, b, Q, K);
        return b
    };
    v.jv.$S = function(w, o, Q, K, b, R) {
        for (var X = 1; X < b; X++) v.jv.o1(X, -1, w, o, Q, K);
        for (var h = 1; h < R; h++) {
            v.jv.o1(h * b, -b, w, o, Q, K);
            for (var X = 1; X < b; X++) {
                var M = h * b + X;
                v.jv.o1(M, -1, w, o, Q, K);
                v.jv.o1(M, -b, w, o, Q, K)
            }
        }
    };
    v.jv.Ah = function(w, o, Q, K, b, R) {
        for (var X = b - 2; X >= 0; X--) v.jv.o1(b * R - b + X, 1, w, o, Q, K);
        for (var h = R - 2; h >= 0; h--) {
            v.jv.o1(h * b + b - 1, b, w, o, Q, K);
            for (var X = b - 2; X >= 0; X--) {
                var M = h * b + X;
                v.jv.o1(M, 1, w, o, Q, K);
                v.jv.o1(M, b, w, o, Q, K)
            }
        }
    };
    v.jv.o1 = function(M, w, o, Q, K, b) {
        var R = M + w,
            X = o[M],
            h = Q[R],
            e = K[R];
        if (h < X) h = X;
        else if (X < e) e = X;
        var Z = h - e;
        if (b[R] != 65535 && Z < b[M]) {
            b[M] = Z;
            Q[M] = h;
            K[M] = e
        }
    };
    v.ej = {};
    v.ej.filter = function(w, o, Q, K) {
        var b = o.D,
            R = o.j,
            X = b * R,
            h = K[0],
            e = K[1],
            Z = K[2],
            P = K[3],
            J = K[4],
            i = K[5],
            k = K[6],
            $ = Date.now(),
            n = new Float32Array(b * R * 4);
        v.ej.a8O(w, b, R, n);
        var j = Math.ceil(h * Math.sqrt(-2 * Math.log(.1))),
            y = new ArrayBuffer(X * 4),
            V = new Float32Array(y),
            O = new Float32Array(X),
            S = new Float32Array(X);
        for (var M = 0; M < X; M++) {
            var G = M * 4;
            V[M] = n[G];
            O[M] = n[G + 1];
            S[M] = n[G + 2]
        }
        v.PF.GD(V, V, o, j * 1 / 2.4, 2);
        v.PF.GD(O, O, o, j * 1 / 2.4, 2);
        v.PF.GD(S, S, o, j * 1 / 2.4, 2);
        for (var M = 0; M < X; M++) {
            var G = M * 4;
            n[G] = V[M];
            n[G + 1] = O[M];
            n[G + 2] = S[M]
        }
        var D = new Uint8Array(y);
        for (var M = 0; M < X; M++) {
            var G = M * 4,
                q = M * 4,
                V = n[G],
                O = n[G + 1],
                S = n[G + 2],
                T = Math.sqrt((V - S) * (V - S) + 4 * O * O),
                L = (V + S + T) * .5,
                N = (V + S - T) * .5,
                F = N - S,
                I = O,
                s = F * F + I * I;
            if (s != 0) {
                var u = Math.sqrt(s),
                    g = 1 / u;
                F *= g;
                I *= g
            }
            D[q] = 128 + 127 * F;
            D[q + 1] = 128 + 127 * I
        }
        var U = 1.3 * e + 2,
            r = P * (2 / 10),
            x = w.slice();
        if (d.cv) {
            var C = new Float32Array([1 / b, 1 / R]),
                p = d.Ap(0, b, R);
            p.set(x);
            var l = d.Ap(1, b, R);
            l.set(D);
            d.Qy(p, o);
            if (J) {
                p.zO(o);
                d.filter.fg({
                    type: d.filter.tQ,
                    Bi: C,
                    afB: 1 / Z,
                    aif: r
                }, p.ts)
            }
            p.zO(o);
            d.filter.fg({
                type: d.filter.zJ,
                _l: l.$Y,
                Bi: C,
                yF: U,
                O1: 2
            }, p.ts);
            if (J) {
                p.zO(o);
                d.filter.fg({
                    type: d.filter.Wr,
                    Bi: C,
                    anz: new Float32Array(k),
                    a8$: i
                }, p.ts)
            }
            p.get(Q)
        } else {
            if (J) v.ej.tb(1 / Z, r, x, b, R);
            v.ej.zJ(x, Q, D, b, R, U);
            if (J) v.ej.a5d(b, R, Q, k, i)
        }
        var c = X * 4;
        for (var M = 3; M < c; M += 4) Q[M] = w[M]
    };
    v.ej.zJ = function(w, o, Q, K, b, R) {
        var X = Math.ceil(2 * R),
            h = -1 / (2 * R * R),
            e = [],
            Z = 1;
        for (var M = 0; M < X + 20; M++) e[M] = Math.exp(M * M * h);
        var P = [0, 0, 0, 0];
        for (var J = 0; J < b; J++) {
            for (var i = 0; i < K; i++) {
                var k = J * K + i,
                    $ = k * 4,
                    n = 1,
                    j = w[$],
                    y = w[$ + 1],
                    V = w[$ + 2],
                    O = w[$ + 3],
                    S = (Q[$] - 128) * (1 / 127),
                    G = (Q[$ + 1] - 128) * (1 / 127),
                    D = S,
                    q = G,
                    T = i == 0 ? .51 : .49,
                    L = J == 0 ? .51 : .49;
                for (var M = 0; M < 2; M++) {
                    var N = i + T,
                        F = J + L,
                        I = 0;
                    while (I < X) {
                        if (N < .5 || K - .5 < N || F < .5 || b - .5 < F) break;
                        var s = ~~N,
                            u = ~~F,
                            g = u * K + s,
                            U = g * 4,
                            r = (Q[U] - 128) * (1 / 127),
                            x = (Q[U + 1] - 128) * (1 / 127);
                        if (r * D + x * q < 0) {
                            r = -r;
                            x = -x
                        }
                        D = r;
                        q = x;
                        N += Z * r;
                        F += Z * x;
                        if (N < .5 || K - .5 < N || F < .5 || b - .5 < F) break;
                        var C = ~~N,
                            p = ~~F,
                            l = p * K + C << 2;
                        I += Z;
                        var c = e[~~I];
                        v.Q.Gv(N, F, w, K, b, P);
                        j += P[0] * c;
                        y += P[1] * c;
                        V += P[2] * c;
                        O += P[3] * c;
                        n += c
                    }
                    D = -S;
                    q = -G
                }
                var t = 1 / n;
                o[$] = ~~(.5 + j * t);
                o[$ + 1] = ~~(.5 + y * t);
                o[$ + 2] = ~~(.5 + V * t);
                o[$ + 3] = ~~(.5 + O * t)
            }
        }
    };
    v.ej.a5d = function(w, o, Q, K, b) {
        for (var R = 0; R < o; R++)
            for (var X = 0; X < w; X++) {
                var h = R * w + X << 2,
                    e = 1 + v.ej.amy(X, R, Q, w, o, K) * b;
                Q[h] = Math.max(0, Math.min(255, Q[h] * e));
                Q[h + 1] = Math.max(0, Math.min(255, Q[h + 1] * e));
                Q[h + 2] = Math.max(0, Math.min(255, Q[h + 2] * e))
            }
    };
    v.ej.amy = function(w, o, Q, K, b, R) {
        var X = Q[(o * K + Math.max(0, w - 1)) * 4 + 3],
            h = Q[(o * K + Math.min(K - 1, w + 1)) * 4 + 3],
            e = Q[(Math.max(0, o - 1) * K + w) * 4 + 3],
            Z = Q[(Math.min(b - 1, o + 1) * K + w) * 4 + 3],
            P = .7,
            J = (h - X) * (1 / 255),
            i = .7,
            k = (Z - e) * (1 / 255),
            $ = -J * i,
            n = -P * k,
            j = P * i,
            y = Math.sqrt($ * $ + n * n + j * j),
            V = 1 / y,
            O = $ * V,
            S = n * V,
            G = j * V,
            D = R[0] * O + R[1] * S + R[2] * G;
        return D
    };
    v.ej.tb = function(w, o, Q, K, b) {
        function R(h, Z, P) {
            return Math.max(Z, Math.min(P, h))
        }
        for (var X = 0; X < b; X++)
            for (var h = 0; h < K; h++) {
                var e = v.ej.a5v(h + .5, X + .5, w, o);
                Q[(X * K + h) * 4 + 3] = Math.max(0, Math.min(255, e * 255))
            }
    };
    v.ej.a5v = function(w, o, Q, K) {
        function b(q, T, L) {
            return (1 - L) * q + L * T
        }
        var R = (w + 613) * Q,
            X = (o + 117) * Q,
            h = ~~R,
            e = ~~X,
            Z = R - h,
            P = X - e,
            J = Math.sin(11),
            i = Math.cos(h) * J,
            k = Math.cos(h + 1) * J,
            $ = Math.cos(e) * J,
            n = Math.cos(e + 1) * J,
            A = v.ej.hash(i, $),
            j = v.ej.hash(k, $),
            y = v.ej.hash(i, n),
            V = v.ej.hash(k, n),
            O = b(A, j, Z),
            S = b(y, V, Z),
            G = b(O, S, P);
        G = G < .5 ? 0 : 1;
        var D = G + K * v.ej.hash(Math.cos(R) * J, Math.cos(X) * J);
        return D * (1 / 3)
    };
    v.ej.hash = function(w, o) {
        var Q = Math.sin(w * 11.697096 + o * 73.32456) * 12157.47691;
        return Q - Math.floor(Q)
    };
    v.ej.a8O = function(w, o, Q, K) {
        var b = [-1, 0, 1, -2, 0, 2, -1, 0, 1],
            R = [-1, -2, -1, 0, 0, 0, 1, 2, 1],
            X = o - 1,
            h = Q - 1,
            e = o * 4;
        for (var Z = 1; Z < h; Z++)
            for (var P = 1; P < X; P++) {
                var M = Z * o + P,
                    J = M * 4,
                    i = v.ej.gh(w, J, e, b),
                    k = v.ej.gh(w, J, e, R),
                    $ = v.ej.gh(w, J + 1, e, b),
                    n = v.ej.gh(w, J + 1, e, R),
                    j = v.ej.gh(w, J + 2, e, b),
                    y = v.ej.gh(w, J + 2, e, R);
                K[J] = i * i + $ * $ + j * j;
                K[J + 1] = i * k + $ * n + j * y;
                K[J + 2] = k * k + n * n + y * y
            }
        v.ej.ann(K, o, Q)
    };
    v.ej.gh = function(w, o, Q, K) {
        return w[o - Q - 4] * K[0] + w[o - Q] * K[1] + w[o - Q + 4] * K[2] + w[o - 4] * K[3] + w[o] * K[4] + w[o + 4] * K[5] + w[o + Q - 4] * K[6] + w[o + Q] * K[7] + w[o + Q + 4] * K[8]
    };
    v.ej.ann = function(w, o, Q) {
        function K(e, M, Z) {
            var P = M * 4,
                J = Z * 4;
            e[J] = e[P];
            e[J + 1] = e[P + 1];
            e[J + 2] = e[P + 2]
        }
        var b = o - 1,
            R = Q - 1;
        K(w, o + 1, 0);
        K(w, 2 * o - 2, o - 1);
        for (var X = 1; X < b; X++) K(w, o + X, X);
        for (var h = 1; h < R; h++) {
            K(w, h * o + 1, h * o);
            K(w, h * o + o - 2, h * o + o - 1)
        }
        for (var X = 1; X < b; X++) K(w, (Q - 2) * o + X, (Q - 1) * o + X);
        K(w, (h - 2) * o + 1, (h - 1) * o);
        K(w, (h - 1) * o - 2, h * o - 1)
    };
    v.wW = {};
    v.wW.lT = function(w, o, Q, K) {
        var b = w[o * 2],
            R = w[o * 2 + 1],
            X = w[Q * 2],
            h = w[Q * 2 + 1],
            e = w[K * 2],
            Z = w[K * 2 + 1];
        return b * h + X * Z + e * R - e * h - X * R - b * Z
    };
    v.wW.Ta = function(w, o) {
        var Q = [],
            K = [],
            b = [],
            R = {};
        for (var M = 0; M < o.length; M += 3) {
            var X = ~~(M * (1 / 3)),
                h = o[M + 0],
                e = o[M + 1],
                Z = o[M + 2],
                P = v.wW.lT(w, h, e, Z);
            if (P > 0) {
                var J = e;
                e = Z;
                Z = J
            }
            var i = R[Z + "-" + e],
                k = R[e + "-" + h],
                $ = R[h + "-" + Z],
                n = [Z, i, X, null],
                j = [e, k, X, n],
                y = [h, $, X, j];
            n[3] = y;
            if (i) i[1] = n;
            if (k) k[1] = j;
            if ($) $[1] = y;
            R[Z + "-" + h] = y;
            R[h + "-" + e] = j;
            R[e + "-" + Z] = n;
            Q[h] = j;
            b[M] = j;
            Q[e] = n;
            b[M + 1] = n;
            Q[Z] = y;
            b[M + 2] = y;
            K[X] = j
        }
        return {
            cc: Q,
            X4: K,
            jo: b
        }
    };
    v.wW.acn = function(w) {
        var o = [],
            Q = w.X4;
        for (var M = 0; M < Q.length; M++) {
            var K = Q[M];
            o.push(K[0]);
            K = K[3];
            o.push(K[0]);
            K = K[3];
            o.push(K[0])
        }
        return o
    };
    v.wW.a3i = function(w, o, Q, K) {
        var b = w[o * 2],
            R = w[o * 2 + 1],
            X = w[Q * 2],
            h = w[Q * 2 + 1],
            e = w[K * 2],
            Z = w[K * 2 + 1],
            P = X - b,
            J = h - R,
            i = e - b,
            k = Z - R,
            $ = P * (b + X) + J * (R + h),
            n = i * (b + e) + k * (R + Z),
            j = 2 * (P * (Z - h) - J * (e - X));
        if (Math.abs(j) < 1e-5) {
            var y = Math.min(b, X, e),
                V = Math.min(R, h, Z),
                O = (Math.max(b, X, e) - y) * .5,
                S = (Math.max(R, h, Z) - V) * .5;
            return [y + O, V + S, O * O + S * S, 1]
        }
        var G = (k * $ - J * n) / j,
            D = (P * n - i * $) / j,
            O = G - b,
            S = D - R;
        return [G, D, O * O + S * S, 0]
    };
    v.wW.a0G = function(w, o, Q) {
        var K = Q[1],
            b = Q[3],
            R = b[3],
            X = K[3],
            h = X[3],
            e = Q[2],
            Z = K[2],
            P = Q[0],
            J = K[0],
            i = b[0],
            k = X[0],
            $ = v.wW.a3i(w, J, k, i),
            n = w[P * 2] - $[0],
            j = w[P * 2 + 1] - $[1],
            y = n * n + j * j > $[2] && $[3] == 0 && v.wW.lT(w, k, P, i) < 0 && v.wW.lT(w, i, J, k) < 0;
        if (y) {
            Q[0] = i;
            K[0] = k;
            Q[3] = R;
            R[3] = X;
            X[3] = Q;
            K[3] = h;
            h[3] = b;
            b[3] = K;
            b[2] = Z;
            X[2] = e;
            o.X4[Z] = h;
            o.X4[e] = R;
            o.cc[J] = X;
            o.cc[P] = b
        }
        return y
    };
    v.wW.SP = function(w, o, Q) {
        var K = w[o * 2] - w[Q * 2],
            b = w[o * 2 + 1] - w[Q * 2 + 1];
        return Math.sqrt(K * K + b * b)
    };
    v.wW.a9N = function(w, o, Q) {
        var K = Q[1],
            b = Q[3],
            R = b[3],
            X, h, e = Q[2],
            Z, P = Q[0],
            J = R[0],
            i = b[0],
            k;
        if (K) {
            X = K[3];
            h = X[3];
            Z = K[2];
            k = X[0]
        }
        var $ = w.length >>> 1;
        w[2 * $] = (w[2 * J] + w[2 * P]) * .5;
        w[2 * $ + 1] = (w[2 * J + 1] + w[2 * P + 1]) * .5;
        if (!0) {
            var n = e,
                j = Q,
                y = o.X4.length,
                V = [$, null, n, j],
                O = [i, V, y, R];
            V[1] = O;
            var S = [$, null, y, O];
            b[3] = V;
            R[3] = S;
            R[2] = y;
            o.X4[n] = b;
            o.X4[y] = S;
            o.cc[P] = b;
            o.cc[i] = R;
            o.jo.push(V, O, S)
        }
        if (K) {
            var G = Z,
                D = K,
                q = y + 1;
            S[1] = D, D[1] = S;
            var T = [$, null, G, D],
                L = [k, T, q, h];
            T[1] = L;
            var N = [$, j, q, L];
            j[1] = N;
            X[3] = T;
            h[3] = N;
            h[2] = q;
            o.X4[G] = X;
            o.X4[q] = h;
            o.cc[J] = X;
            o.cc[k] = h;
            o.jo.push(T, L, N)
        }
        o.cc[$] = j
    };
    v.wW.BU = function(w, o) {
        var Q = 0;
        while (!0) {
            var K = Q;
            for (var M = 0; M < o.jo.length; M++) {
                var b = o.jo[M];
                if (b[1] == null) continue;
                var R = v.wW.a0G(w, o, b);
                if (R) {
                    Q++;
                    break
                }
            }
            if (K == Q) break
        }
        return Q != 0
    };
    v.wW.amB = function(w, o, Q, K) {
        var b = 0;
        for (var M = 0; M < K; M++) {
            var R = null,
                X = 0;
            for (var h = 0; h < o.jo.length; h++) {
                var e = o.jo[h],
                    Z = v.wW.SP(w, e[0], e[3][3][0]) * (e[1] ? 1 : 2);
                if (Z > X) {
                    R = e;
                    X = Z
                }
            }
            if (X > Q) {
                v.wW.a9N(w, o, R);
                b++
            }
        }
        return b != 0
    };
    v.wW.a1F = function(w, o) {
        var Q = [],
            i = 0;
        for (var M = 0; M < w.length; M++) Q.push(0);
        for (var M = 0; M < o.jo.length; M++) {
            var K = o.jo[M],
                b = K[0],
                R = K[3][3][0],
                X = w[b * 2],
                h = w[b * 2 + 1],
                e = w[R * 2],
                Z = w[R * 2 + 1],
                P = X - e,
                J = h - Z;
            Q[b * 2] += -P;
            Q[b * 2 + 1] += -J;
            Q[R * 2] += P;
            Q[R * 2 + 1] += J
        }
        for (var M = 0; M < w.length; M += 2) {
            var k = M >>> 1,
                $ = o.cc[k],
                K = $,
                n = !0;
            do {
                if (K[1] == null) {
                    n = !1;
                    break
                }
                K = K[1][3]
            } while (K != $);
            if (n) {
                var j = .02;
                w[M] += j * Q[M];
                w[M + 1] += j * Q[M + 1];
                i += j * (Q[M] * Q[M] + Q[M + 1] * Q[M + 1])
            }
        }
        return i
    };
    v.wW.a4_ = function(w, o, Q) {
        var K = v.w.QT(w),
            b = v.wW.Ta(w, o);
        v.wW.BU(w, b);
        for (var R = 0; R < 300; R++) {
            var X = !1,
                h = !1;
            X = v.wW.amB(w, b, Q, 5);
            if (X) h = v.wW.BU(w, b);
            var e = v.wW.a1F(w, b);
            if (!X && !h && e < 1e-4) {
                break
            }
        }
        return v.wW.acn(b)
    };
    v.v4 = {};
    v.v4.vs = function(w) {
        var o = w.L7,
            Q = w.e1,
            K = w.da,
            b = w.BX,
            R = w.CS,
            X = w.$U,
            h = w.PG,
            e = v.M1._n,
            V, O, S = 0;

        function Z(A) {
            var cC = new Array(A);
            for (var M = 0; M < A; M++) cC[M] = 0;
            return cC
        }
        var P = Q.length >>> 1,
            J = Z(o._K * 2),
            i = Z(o._K),
            k = Z(o._K),
            $ = Date.now();
        for (var M = 0; M < w.Xf.length; M++) {
            var n = o.aaJ + M,
                j = o.i7 * (X[M * 2] + h[M * 2]),
                y = o.i7 * (X[M * 2 + 1] + h[M * 2 + 1]);
            J[n * 2] = j;
            J[n * 2 + 1] = y;
            i[n] = j;
            k[n] = y
        }
        o.abO.Sa(b, o.a5$._n(J), .01, V, O);
        for (var M = 0; M < o.xB.jo.length; M++) {
            var G = o.xB.jo[M],
                D = G[3][3][0],
                q = G[0],
                T = G[3][0],
                L = G[1] ? G[1][3][0] : T;
            if (G[1] && D > q) continue;
            var N = Q[D * 2],
                F = Q[D * 2 + 1],
                I = Q[q * 2],
                s = Q[q * 2 + 1],
                u = b[D * 2],
                g = b[D * 2 + 1],
                U = b[q * 2],
                r = b[q * 2 + 1],
                x = b[T * 2],
                C = b[T * 2 + 1],
                p = b[L * 2],
                l = b[L * 2 + 1],
                c = [u, g, U, r, x, C];
            if (G[1]) c.push(p, l);
            var t = e(o.a7G[S], c),
                H = t[0],
                gl = t[1],
                fk = 1 / Math.sqrt(H * H + gl * gl);
            H *= fk;
            gl *= fk;
            var h5 = I - N,
                cf = s - F;
            i[S] = H * h5 + gl * cf;
            k[S] = -gl * h5 + H * cf;
            S++
        }
        var f = new Array(P),
            gY = new Array(P);
        for (var M = 0; M < P; M++) {
            f[M] = R[M * 2];
            gY[M] = R[M * 2 + 1]
        }
        o.kt.Sa(f, o.f7._n(i), .5);
        o.kt.Sa(gY, o.f7._n(k), .5);
        for (var M = 0; M < P; M++) {
            R[M * 2] = f[M];
            R[M * 2 + 1] = gY[M]
        }
    };
    v.v4.tp = function(w) {
        var o = w.e1,
            Q = w.da,
            K = w.Xf,
            b = v.M1.multiply,
            R = Date.now(),
            X = v.wW.Ta(o, Q),
            h = o.length >>> 1,
            e = 0,
            $ = 0,
            gl = 1e3;
        for (var M = 0; M < X.jo.length; M++) e += X.jo[M][1] ? .5 : 1;
        var Z = e + K.length,
            P = [],
            J = new v.Fl(Z * 2, h * 2),
            i = new v.Fl(Z, h),
            k = [
                [
                    [-1, 0, 1, 0, 0, 0],
                    [0, -1, 0, 1, 0, 0]
                ],
                [
                    [-1, 0, 1, 0, 0, 0, 0, 0],
                    [0, -1, 0, 1, 0, 0, 0, 0]
                ]
            ],
            n = [],
            j = [];
        for (var M = 0; M < X.jo.length; M++) {
            var y = X.jo[M],
                V = y[3][3][0],
                O = y[0],
                S = y[3][0],
                G = y[1] ? y[1][3][0] : S;
            if (y[1] && V > O) continue;
            var D = o[V * 2],
                q = o[V * 2 + 1],
                T = o[O * 2],
                L = o[O * 2 + 1],
                N = o[S * 2],
                F = o[S * 2 + 1],
                I = o[G * 2],
                s = o[G * 2 + 1],
                u = [
                    [D, q, 1, 0],
                    [q, -D, 0, 1],
                    [T, L, 1, 0],
                    [L, -T, 0, 1],
                    [N, F, 1, 0],
                    [F, -N, 0, 1]
                ];
            if (y[1]) u.push([I, s, 1, 0], [s, -I, 0, 1]);
            var g = v.M1.o6(u),
                U = b(linear.invert(b(g, u)), g);
            U.pop();
            U.pop();
            P.push(U);
            var r = T - D,
                x = L - q,
                C = k[y[1] ? 1 : 0];
            C = v.M1.ZO(C, b([
                [r, x],
                [x, -r]
            ], U));
            var p = [V * 2, V * 2 + 1, O * 2, O * 2 + 1, S * 2, S * 2 + 1, G * 2, G * 2 + 1],
                l = y[1] ? 8 : 6,
                c = [];
            for (var t = 0; t < l; t++) c.push([p[t], C[0][t], C[1][t]]);
            c.sort(function(cC, cY) {
                return cC[0] - cY[0]
            });
            for (var H = 0; H < 2; H++) {
                for (var t = 0; t < l; t++) {
                    n[t] = c[t][0];
                    j[t] = c[t][1 + H]
                }
                J.av(j, n, l)
            }
            if (V < O) i.av([-1, 1], [V, O], 2);
            else i.av([1, -1], [O, V], 2);
            $++
        }
        for (var M = 0; M < K.length; M++) {
            var fk = K[M];
            J.av([gl], [fk * 2], 1);
            J.av([gl], [fk * 2 + 1], 1);
            i.av([gl], [fk], 1)
        }
        var h5 = J.o6(),
            cf = h5.wM(h5),
            f = i.o6(),
            gY = f.wM(f);
        return {
            aaJ: e,
            _K: Z,
            a5$: h5,
            abO: cf,
            f7: f,
            kt: gY,
            xB: X,
            a7G: P,
            i7: gl
        }
    };
    v.v4.a7R = function(w, o, Q, K, b) {
        var R = new B(0, 0, o, Q),
            X = v.$(R.O());
        v.KU(w, X, 3);
        v.round(X, 70);
        var h = v.JT(X, R),
            e = [.1, .065, .035][K] * Math.max(h.D, h.j),
            Z = b + 1,
            P = o + Z * 2,
            J = Q + Z * 2,
            i = new B(-Z, -Z, P, J),
            k = v.$(i.O());
        v.Hp(X, R, k, i);
        var $ = k.slice(0);
        for (var n = 0; n < b; n++) {
            for (var j = 1; j < J - 1; j++) {
                for (var y = 1; y < P - 1; y++) {
                    var M = j * P + y;
                    $[M] = k[M - P] | k[M - 1] | k[M] | k[M + 1] | k[M + P]
                }
            }
            var V = $;
            $ = k;
            k = V
        }
        var O = es.SJ(k, P, J, Math.round(h.O() * 5e-4)),
            S = es.a$(O),
            G = new dj(1, 0, 0, 1, -Z, -Z);
        for (var M = 0; M < S.length; M++) {
            var D = S[M];
            v.w.H(D.path.X, G, D.path.X);
            D.e1 = v.v4.adg(D.path);
            D.da = v.w.agK(D.e1);
            D.da = v.wW.a4_(D.e1, D.da, e)
        }
        return S
    };
    v.v4.adg = function(w) {
        var o = [],
            Q = w.X,
            K = w.Y.length - 1,
            b = 0,
            R = 0;
        for (var X = 0; X < K; X++) {
            var M = X * 6,
                h = Q[M + 6] - Q[M + 0],
                e = Q[M + 7] - Q[M + 1],
                Z = Math.ceil(Math.sqrt(h * h + e * e));
            for (var P = 0; P < Z; P++) {
                var J = P / Z,
                    i = 1 - J,
                    k = i * i * i * Q[M + 0] + 3 * i * i * J * Q[M + 2] + 3 * i * J * J * Q[M + 4] + J * J * J * Q[M + 6],
                    $ = i * i * i * Q[M + 1] + 3 * i * i * J * Q[M + 3] + 3 * i * J * J * Q[M + 5] + J * J * J * Q[M + 7];
                o.push(k, $);
                b = k;
                R = $
            }
        }
        o = v.w.Ln(o, 1);
        var n = [],
            j = o.length;
        for (var M = 0; M < j; M += 2) {
            var $ = o.pop(),
                k = o.pop();
            n.push(k, $)
        }
        return n
    };
    v.v4.ahq = function(w, o, Q, K) {
        function b(T, L, N, F, I) {
            var s = I[T * 2] - I[L * 2],
                u = I[T * 2 + 1] - I[L * 2 + 1],
                g = Math.sqrt(s * s + u * u);
            if (N[T].indexOf(L) == -1) {
                N[T].push(L);
                F[T].push(g)
            }
            if (N[L].indexOf(T) == -1) {
                N[L].push(T);
                F[L].push(g)
            }
        }
        var R = w.length >>> 1,
            X = new Array(R);
        if (Q.length == 0) {
            X.fill(0);
            return X
        }
        var h = new Array(R),
            e = new Array(R);
        for (var M = 0; M < R; M++) {
            h[M] = [];
            e[M] = []
        }
        for (var M = 0; M < o.length; M += 3) {
            b(o[M], o[M + 1], h, e, w);
            b(o[M], o[M + 2], h, e, w);
            b(o[M + 1], o[M + 2], h, e, w)
        }
        var Z = new Float64Array(R * 2),
            P = new Uint32Array(R * 2);
        Z.fill(1e9);
        var J = new Uint8Array(R);
        for (var i = 0; i < Q.length; i++) {
            J.fill(0);
            var k = ["---", [0, Q[i]]];
            while (k.length != 1) {
                var $ = v.yL.amU(k),
                    n = $[0],
                    j = $[1];
                if (J[j] == 1) continue;
                var y = j << 1;
                if (n < Z[y]) {
                    Z[y + 1] = Z[y];
                    P[y + 1] = P[y];
                    Z[y] = n;
                    P[y] = i
                } else if (n < Z[y + 1]) {
                    Z[y + 1] = n;
                    P[y + 1] = i
                }
                J[j] = 1;
                var V = h[j],
                    O = e[j];
                for (var M = 0; M < V.length; M++) {
                    var S = V[M];
                    if (J[S] != 1) {
                        v.yL.ah4(k, [n + O[M], S])
                    }
                }
            }
        }
        for (var M = 0; M < R; M++) {
            var y = M << 1,
                G = Z[y],
                D = Z[y + 1],
                q = 1 / (G + D);
            X[M] = (1 - G * q) * K[P[y]] + (1 - D * q) * K[P[y + 1]]
        }
        return X
    };
    v.v4.anb = function(w) {
        var o = {
                Y: [],
                X: []
            },
            Q = [w];
        while (Q.length != 0) {
            var K = Q.pop(),
                b = K.oX;
            if (K.akl instanceof Array || K.a9n instanceof Array) {
                o.Y.push("M", "L", "L", "L", "Z");
                o.X.push(b[0], b[1], b[2], b[1], b[2], b[3], b[0], b[3])
            } else Q.push(K.akl, K.a9n)
        }
        return o
    };
    v.v4.Ez = function(w, o, Q, K, b, R, X) {
        var h = Q.D,
            e = Q.j,
            Z = Math.round(X.length / 3),
            P = new Array(Z);
        for (var M = 0; M < Z; M++) P[M] = M;
        P.sort(function(i, k) {
            return R[X[i * 3]] - R[X[k * 3]]
        });
        for (var M = 0; M < Z; M++) {
            var J = P[M] * 3;
            v.v4.agJ(X[J] * 2, X[J + 1] * 2, X[J + 2] * 2, K, b, w, o, h, e)
        }
    };
    v.v4.agJ = function(w, o, Q, K, b, R, X, h, e) {
        var Z = v.v4.P0,
            P = [w, o, Q, 1.2, 1.2, 1.2, 0],
            J = [0, 0, 0, 0],
            i = b[w],
            k = b[w + 1],
            $ = b[o],
            n = b[o + 1],
            j = b[Q],
            y = b[Q + 1],
            V = Math.max(0, Math.min(h - 1, K[w])),
            O = Math.max(0, Math.min(h - 1, K[o])),
            S = Math.max(0, Math.min(h - 1, K[Q])),
            G = Math.max(0, Math.min(e - 1, K[w + 1])),
            D = Math.max(0, Math.min(e - 1, K[o + 1])),
            q = Math.max(0, Math.min(e - 1, K[Q + 1])),
            T = $ - i,
            L = n - k,
            N = j - i,
            F = y - k,
            I = 1 / (T * F - N * L + 1e-9),
            s = Math.max(0, Math.floor(Math.min(i, $, j))),
            u = Math.min(h, Math.ceil(Math.max(i, $, j))),
            g = Math.max(0, Math.floor(Math.min(k, n, y))),
            U = Math.min(e, Math.ceil(Math.max(k, n, y)));
        for (var r = g; r < U; r++)
            for (var x = s; x < u; x++) {
                var C = x + .5 - i,
                    p = r + .5 - k,
                    l = (C * F - N * p) * I,
                    c = (T * p - C * L) * I;
                if (l >= 0 && c >= 0 && l + c <= 1) {
                    var t = 1 - l - c,
                        H = V * t + O * l + S * c,
                        gl = G * t + D * l + q * c;
                    v.Q.Gv(H, gl, R, h, e, J);
                    v.v4.a5u(J, X, r * h + x << 2)
                }
            }
    };
    v.v4.a5u = function(w, o, Q) {
        var K = o[Q],
            b = o[Q + 1],
            R = o[Q + 2],
            X = o[Q + 3],
            h = 1 - w[3] * (1 / 255);
        o[Q] = ~~(.5 + w[0] + K * h);
        o[Q + 1] = ~~(.5 + w[1] + b * h);
        o[Q + 2] = ~~(.5 + w[2] + R * h);
        o[Q + 3] = ~~(.5 + w[3] + X * h)
    };
    v.v4.P0 = function() {
        var w = function(Q, K, b, R) {
                var X = R[0],
                    h = R[1],
                    e = R[2],
                    Z = Q[X + 0],
                    P = Q[X + 1],
                    J = Q[h + 0],
                    i = Q[h + 1],
                    k = Q[e + 0],
                    $ = Q[e + 1],
                    n = J - Z,
                    j = i - P,
                    y = k - Z,
                    V = $ - P,
                    O = K - Z,
                    S = b - P,
                    G = n * V - y * j,
                    D = 1 / (G + 1e-9),
                    q = (O * V - y * S) * D,
                    T = (n * S - O * j) * D;
                if (q >= 0 && T >= 0 && q + T <= 1) {
                    R[3] = 1 - q - T;
                    R[4] = q;
                    R[5] = T;
                    return 1
                }
                return 0
            },
            o = function(Q, K, b, R) {
                var X = [0, 0, 0, 0, 0, 0];
                for (var M = 0; M < K.length; M += 3) {
                    X[0] = K[M] * 2;
                    X[1] = K[M + 1] * 2;
                    X[2] = K[M + 2] * 2;
                    if (w(Q, b, R, X) == 1) return !0
                }
                return !1
            };
        return {
            aeZ: w,
            a7p: o
        }
    }();
    v.BF = {};
    v.BF.a60 = function(w, o, Q) {
        var K = v.$(o * Q * 4),
            b = !1;
        v.Q.JA(w, o, Q, K, [Q, o, 0, 1, 0, 1, 0, 0]);
        return [v.BF.Qx(w, o, Q, b), v.BF.Qx(K, Q, o, b)]
    };
    v.BF.H = function(w, o) {
        var Q = !1,
            K = w[0],
            b = w[1],
            R = K[1],
            X = K[2],
            h = K[3],
            e = o.D,
            Z = o.j;
        if (X == e && h == Z) R = R.slice(0);
        else if (h != Z) {
            var P = v.$(X * Z * 4);
            v.BF.wN(b, Z, P, Q);
            R = v.$(X * Z * 4);
            v.Q.JA(P, Z, X, R, [X, Z, 0, 1, 0, 1, 0, 0]);
            if (X != e) {
                K = v.BF.Qx(R, X, Z, Q);
                R = v.$(e * Z * 4);
                v.BF.wN(K, e, R, Q)
            }
        } else if (X != e) {
            R = v.$(e * h * 4);
            v.BF.wN(K, e, R, Q)
        }
        return R
    };
    v.BF.Qx = function(w, o, Q, K) {
        var b = Date.now(),
            R = new Uint16Array(o * Q),
            X = 1;
        v.BF.ec(w, o, Q, R);
        var h = Math.ceil(o / X),
            e = new Uint32Array(X),
            Z = new Uint32Array(X),
            h = Math.floor(o / X);
        for (var P = 0; P < X; P++) Z[P] = P < X - 1 ? h : o - (X - 1) * h;
        for (var J = 0; J < Q; J++) {
            var M = J * o;
            for (var P = 0; P < X; P++) {
                var h = Z[P];
                for (var i = 0; i < h; i++) e[P] += R[M + i];
                M += h
            }
        }
        if (K) {
            console.log(Date.now() - b, "cost");
            b = Date.now()
        }
        var k = new Uint32Array(o),
            $ = new Uint32Array(o),
            n = new Uint32Array(o * Q);
        for (var i = 0; i < o; i++) {
            n[(Q - 1) * o + i] = R[(Q - 1) * o + i]
        }
        for (var J = Q - 2; J >= 0; J--) {
            var j = J * o;
            for (var P = 0; P < X; P++) {
                var h = Z[P];
                n[j] = R[j] + Math.min(n[j + o], n[j + o + 1]);
                for (var i = 1; i < h - 1; i++) {
                    var M = j + i;
                    n[M] = R[M] + Math.min(n[M + o - 1], Math.min(n[M + o], n[M + o + 1]))
                }
                j += h - 1;
                n[j] = R[j] + Math.min(n[j + o - 1], n[j + o]);
                j++
            }
        }
        if (K) {
            console.log(Date.now() - b, "Building M");
            b = Date.now()
        }

        function y(F, I) {
            return F < I ? F : I
        }

        function V(M, F) {
            var I = $[M],
                s = n[F],
                u = ~~(I * s * 1e-4);
            return u
        }
        var O = new Uint8Array(o * Q),
            S = new Uint32Array(o);
        for (var M = 0; M < o; M++) {
            k[M] = M;
            $[M] = R[M]
        }
        for (var J = 1; J < Q; J++) {
            var G = 0,
                j = J * o;
            for (var P = 0; P < X; P++) {
                var h = Z[P],
                    M = j;
                S[G] = V(G, M);
                var D = S[G] + V(G + 1, M + 1),
                    q = V(G, M + 1) + V(G + 1, M);
                S[G + 1] = y(D, q);
                for (var i = 2; i < h; i++) {
                    var M = j + i,
                        T = S[G + i - 1] + V(G + i - 1, M - 1),
                        L = S[G + i - 2] + V(G + i - 1, M - 2) + V(G + i - 2, M - 1);
                    S[G + i] = y(T, L)
                }
                var i = h - 1;
                while (i >= 2) {
                    var M = j + i,
                        T = S[G + i - 1] + V(G + i - 1, M - 1),
                        L = S[G + i - 2] + V(G + i - 1, M - 2) + V(G + i - 2, M - 1);
                    if (S[G + i] == T) {
                        O[M - o] = 1;
                        i -= 1
                    } else {
                        O[M - o] = 0;
                        O[M - o - 1] = 2;
                        i -= 2
                    }
                }
                var M = j;
                if (i == 0) {
                    O[M - o] = 1
                } else {
                    if (S[G + 1] == D) {
                        O[M + 1 - o] = 1;
                        O[M - o] = 1
                    } else {
                        O[M + 1 - o] = 0;
                        O[M - o] = 2
                    }
                }
                j += h;
                G += h
            }
            v.BF.acC(J, o, O, R, k, $, !0, b)
        }
        if (K) {
            console.log(Date.now() - b, "Matching");
            b = Date.now()
        }
        var N = R;
        return [UZIP.adler(w, 0, w.length), w, o, Q, X, Z, e, k, $, O, N]
    };
    v.BF.wN = function(w, o, Q, K) {
        var b = w.slice(0),
            R = b.shift(),
            X = b.shift(),
            h = b.shift(),
            e = b.shift(),
            Z = b.shift(),
            P = b.shift(),
            J = b.shift(),
            i = b.shift(),
            k = b.shift().slice(0),
            $ = b.shift(),
            n = b.shift(),
            j = Date.now(),
            y = Math.abs(h - o),
            V = Math.floor(y / Z),
            O = new Uint32Array(Z),
            G = 0,
            D = 1e9,
            T = 0,
            L = 0,
            N = 0;
        for (var S = 0; S < Z; S++) O[S] = S < Z - 1 ? V : y - (Z - 1) * V;
        n.fill(0);
        for (var q = 0; q < h; q++) {
            G = Math.max(G, k[q]);
            D = Math.min(D, k[q])
        }
        for (var S = 0; S < Z; S++) {
            var F = P[S],
                V = O[S];
            for (var I = 0; I < V; I++) {
                var s = 0,
                    u = 1e9;
                for (var q = 0; q < F; q++)
                    if (k[L + q] < u) {
                        u = k[L + q];
                        s = L + q
                    } if (o < h) k[s] = 1e9;
                else k[s] *= 1.2;
                if (N < h / 3) T += u;
                var g = i[s],
                    U = n[g],
                    r = U < 65280 ? 65280 : U + 1;
                if (r < 65280) throw "e";
                for (var x = 0; x < e; x++) {
                    var M = x * h + g;
                    n[M] = r;
                    g += $[M] - 1
                }
                N++
            }
            L += F
        }
        if (K) {
            console.log(Date.now() - j, "Removing best seams");
            j = Date.now()
        }

        function C(M, l) {
            var c = M << 2,
                t = l << 2;
            Q[c] = X[t];
            Q[c + 1] = X[t + 1];
            Q[c + 2] = X[t + 2];
            Q[c + 3] = X[t + 3]
        }
        for (var x = 0; x < e; x++) {
            var p = 0,
                M = x * h;
            for (var q = 0; q < o; q++, p++) {
                if (o < h) {
                    while (n[M + p] == 65280) p++;
                    C(x * o + q, x * h + p)
                } else {
                    C(x * o + q, x * h + p);
                    while (n[M + p] >= 65280) {
                        n[M + p]--;
                        q++;
                        C(x * o + q, x * h + p)
                    }
                }
            }
        }
        if (K) {
            console.log(Date.now() - j, "Shifting image pixels");
            j = Date.now()
        }
    };
    v.BF.acC = function(w, o, Q, K, b, R) {
        var X = 0,
            M = w * o;
        while (X < o) {
            if (Q[M - o] == 1) {
                R[X] = R[X] + K[M];
                X++;
                M++
            } else {
                var h = b[X];
                b[X] = b[X + 1];
                b[X + 1] = h;
                var e = R[X];
                R[X] = R[X + 1] + K[M];
                R[X + 1] = e + K[M + 1];
                X += 2;
                M += 2
            }
        }
    };
    v.BF.ec = function(w, o, Q, K) {
        function b(w, M, e) {
            var J = M << 2,
                i = e << 2,
                k = w[J] - w[i],
                $ = w[J + 1] - w[i + 1],
                n = w[J + 2] - w[i + 2];
            return Math.abs(k) + Math.abs($) + Math.abs(n)
        }
        for (var R = 1; R < o; R++) {
            var X = b(w, R, R - 1);
            K[R - 1] += X;
            K[R] += X
        }
        for (var h = 1; h < Q; h++) {
            var e = h * o,
                X = b(w, e, e - o);
            K[e] += X;
            K[e - o] += X;
            for (var R = 1; R < o; R++) {
                var M = h * o + R,
                    Z = b(w, M, M - 1),
                    P = b(w, M, M - o);
                K[M - o] += P;
                K[M - 1] += Z;
                K[M] += P + Z
            }
        }
        for (var h = 0; h < Q; h++) {
            K[h * o] *= 2;
            K[h * o + o - 1] *= 2
        }
        for (var M = 0; M < K.length; M++)
            if (K[M] == 0) K[M] = 1
    };
    v.si = function() {
        var w = 0,
            o = 0,
            K = 15,
            R = 256;

        function Q(P, J, i, k, $, n) {
            var j = ($ - 1) * J,
                y = n * J;
            return P[y + k] - P[y + i - 1] - P[j + k] + P[j + i - 1]
        }
        var b = Math.round(K / 8),
            X = [];

        function h(P, J) {
            for (var i = 0; i < J.length; i++) {
                var k = J[i],
                    $ = 0,
                    n = 0,
                    j = P[k.yS],
                    y = j.N3,
                    V = j.i7,
                    O = j.Y7;
                for (var S = -K; S <= K; S++)
                    for (var G = -K; G <= K; G++) {
                        var D = G + k.Ji,
                            q = S + k.qg;
                        if (G * G + S * S > K * K || D < 0 || q < 0 || D >= V || q >= V) continue;
                        var T = y[q * V + D];
                        $ += G * T;
                        n += S * T
                    }
                k.aa = Math.atan2(n, $)
            }
        }

        function e(P, J, i, k, $) {
            var n = ~~(P + .5),
                j = ~~(J + .5);
            return Q(i, k, n - b, n + b, j - b, j + b)
        }

        function Z(P, J, i, k, $) {
            w = k;
            o = $;
            if (X.length == 0) {
                var n = new v.M.Cj(16200817),
                    O = 8,
                    S = 0;

                function j(aH) {
                    var N = aH[0] - aH[2],
                        F = aH[1] - aH[3];
                    return N * N + F * F
                }

                function y() {
                    var aH = 0,
                        gY = 0;
                    while (aH === 0) aH = n.get();
                    while (gY === 0) gY = n.get();
                    return Math.sqrt(-2 * Math.log(aH)) * Math.cos(2 * Math.PI * gY)
                }
                var V = y,
                    G = [];
                while (S != R) {
                    var D = Math.max(-K, Math.min(K, V() * O)),
                        q = Math.max(-K, Math.min(K, V() * O)),
                        T = Math.max(-K, Math.min(K, V() * O)),
                        L = Math.max(-K, Math.min(K, V() * O)),
                        N = D - T,
                        F = q - L,
                        I = Math.sqrt(N * N + F * F);
                    if (I < 3 || I > 12) continue;
                    X.push(D, q, T, L);
                    S++
                }
            }
            var s = 20;
            for (var u = 0; u < J.length; u++) {
                var g = J[u],
                    U = P[g.yS],
                    r = U.ld,
                    i = U.N3,
                    k = U.i7,
                    $ = U.Y7,
                    x = g.Ji,
                    C = g.qg,
                    p = g.aa,
                    l = Math.cos(p),
                    c = Math.sin(p),
                    t = new Uint8Array(R >>> 3);
                g.H8 = t;
                for (var M = 0; M < R; M++) {
                    var H = M * 4,
                        D = X[H + 0],
                        q = X[H + 1],
                        T = X[H + 2],
                        L = X[H + 3],
                        gl = l * D - c * q,
                        ie = c * D + l * q,
                        fk = l * T - c * L,
                        h5 = c * T + l * L,
                        cf = e(x + gl, C + ie, r, k, $),
                        f = e(x + fk, C + h5, r, k, $);
                    t[M >>> 3] |= (cf < f ? 0 : 1) << (M & 7)
                }
            }
        }
        return {
            acJ: h,
            amQ: Z
        }
    }();
    v.anA = function() {
        var w = 0,
            o = 0;

        function Q(R, X, h, e, Z, P) {
            var J = (Z - 1) * X,
                i = P * X;
            return R[i + e] - R[i + h - 1] - R[J + e] + R[J + h - 1]
        }

        function K(R, X, h) {
            var e = new Uint32Array(X * h);
            e[0] = R[0];
            for (var Z = 1; Z < X; Z++) e[Z] = e[Z - 1] + R[Z];
            for (var P = 1; P < h; P++) {
                var M = P * X;
                e[M] = e[M - X] + R[M];
                for (var Z = 1; Z < X; Z++) e[M + Z] = R[M + Z] + e[M + Z - 1] + e[M + Z - X] - e[M + Z - X - 1]
            }
            return e
        }

        function b(R, X) {
            var h = [
                    [9]
                ],
                e = Date.now(),
                Z = [];
            for (var P = 0; P < R.length; P++) {
                var J = R[P],
                    i = J.ld,
                    k = w = J.i7,
                    $ = o = J.Y7,
                    y = 9,
                    q = 1,
                    C = 24;
                if (i == null) continue;
                var n = new Float32Array(k * $),
                    j = new Uint8Array(k * $),
                    V = y >>> 1,
                    O = V >>> 1,
                    S = Math.round(y / 3);
                if (S != y / 3) throw "e";
                var G = 1 / (y * y),
                    D = 1.2 * (y / 9);
                for (var T = V + 1; T < $ - V; T += q)
                    for (var L = V + 1; L < k - V; L += q) {
                        var N = Q(i, k, L - O, L + O, T - V, T + V) - 3 * Q(i, k, L - O, L + O, T - V + S, T + V - S),
                            F = Q(i, k, L - V, L + V, T - O, T + O) - 3 * Q(i, k, L - V + S, L + V - S, T - O, T + O),
                            I = L - V + 1,
                            s = L + V - 1,
                            u = T - V + 1,
                            g = T + V - 1,
                            U = Q(i, k, I, L - 1, u, T - 1) + Q(i, k, L + 1, s, T + 1, g) - Q(i, k, L + 1, s, u, T - 1) - Q(i, k, I, L - 1, T + 1, g),
                            r = (F * N - .9 * U * (.9 * U)) * (G * G);
                        n[T * k + L] = Math.abs(r);
                        j[T * k + L] = r < 0 ? 0 : 1
                    }
                var x = k * q;
                for (var T = C; T < $ - C; T += q)
                    for (var L = C; L < k - C; L += q) {
                        var M = T * k + L,
                            p = n[M];
                        if (p < 16) continue;
                        if (n[M - q] >= p || n[M + q] >= p) continue;
                        if (n[M - x - q] >= p || n[M - x] >= p || n[M - x + q] >= p) continue;
                        if (n[M + x - q] >= p || n[M + x] >= p || n[M + x + q] >= p) continue;
                        Z.push({
                            x: ~~(L * J.QU + .5),
                            y: ~~(T * J.QU + .5),
                            Ji: L,
                            qg: T,
                            yS: P,
                            F: p,
                            yg: j[M],
                            sa: D
                        })
                    }
            }
            if (X != null) {
                Z.sort(function(h5, cf) {
                    return cf.F - h5.F
                });
                Z = Z.slice(0, X)
            }
            return Z;
            var l = [];
            for (var M = 0; M < Z.length; M++) {
                var c = !0,
                    t = Z[M];
                for (var H = 0; H < Z.length; H++) {
                    var gl = Z[H];
                    if (H != M && gl.F > t.F && (gl.yS == t.yS + 1 || gl.yS == t.yS - 1)) {
                        var ie = t.x - gl.x,
                            fk = t.y - gl.y;
                        if (ie * ie + fk * fk < 5) {
                            c = !1;
                            break
                        }
                    }
                }
                if (c) l.push(t)
            }
            console.log(Z.length, l.length);
            return l
        }
        return {
            akp: b
        }
    }();
    v.ox = {};
    v.ox.aaT = function(w) {
        var o = w.length,
            Q = v.ox.dy(w, !1),
            b = 0,
            R = 1;
        throw "e";
        var K = [];
        for (var M = 0; M < o; M++) K[M] = v.ox.P5(Q[M]);
        var X = w[0][1],
            h = v.ox.match(Q[b], Q[R], K[R]);
        console.log(h.length);
        var e = Math.max(Math.min(h.length, 40), h.length * .54);
        e = Math.min(e, 200);
        var Z = h.slice(0, e),
            P = v.zY.aad(Q[b], Q[R], Z, X.D, X.j),
            J = v.zY.a8F(P, [0, 0, 0], 1),
            i = X.D / 2,
            k = X.j / 2,
            $ = 1 / Math.max(i, k);
        for (var M = 0; M < 1; M++) {
            var n = Z[M],
                j = Q[b][n[0]],
                y = Q[R][n[1]],
                V = v.zY.amt(J, $ * (j.x - i), $ * (j.y - k), $ * (y.x - i), $ * (y.y - k))
        }
        var O = v.zY.a1a(P, X),
            S = [];
        for (var M = 0; M < 2; M++) {
            var G = O[M],
                D = [G[0][0], G[0][1], G[0][2], G[1][0], G[1][1], G[1][2], G[2][0], G[2][1]],
                q = z.Z.tG(w[M], null, D);
            S.push([q.buffer, q.rect])
        }
        return [v.ox.a70(S[0], S[1], Q[b], Q[R], Z, P, O, X)]
    };
    v.ox.yk = function(w, o) {
        var Q = w.length,
            K = !1,
            b = Date.now(),
            R = v.ox.dy(w, !1, 1e4);
        if (K) console.log("Descriptors ready", Date.now() - b);
        b = Date.now();
        for (var M = 0; M < Q; M++) {
            var X = w[M][1];
            for (var h = 0; h < R[M].length; h++) {
                R[M][h].x += X.x;
                R[M][h].y += X.y
            }
        }
        if (K) console.log("shifted", Date.now() - b);
        b = Date.now();
        var e = [];
        for (var M = 0; M < Q; M++) e[M] = v.ox.P5(R[M]);
        if (K) console.log("trees built", Date.now() - b);
        b = Date.now();
        var Z = [];
        for (var M = 0; M < Q - 1; M++)
            for (var h = M + 1; h < Q; h++) {
                var P = v.ox.match(R[M], R[h], e[h]);
                if (K) console.log("Matches found", M, h, P.length);
                P = P.slice(0, P.length >>> 1);
                if (P.length < 10) return null;
                var J = v.ox.acb(R[M], R[h], P, 2);
                Z.push([M, h, P, J])
            }
        Z.sort(function(L, N) {
            return N[2].length - L[2].length
        });
        if (K) console.log("Matches found", Date.now() - b);
        b = Date.now();
        var i = [],
            k = new UnionFind(Q);
        for (var M = 0; M < Z.length; M++) {
            var $ = Z[M],
                n = k.find($[0]),
                j = k.find($[1]);
            if (n != j) {
                i.push($);
                k.link(n, j)
            }
        }
        var y = [];
        for (var M = 0; M < Q; M++) y[M] = [1, 0, 0, 0, 1, 0, 0, 0];
        var V = [0],
            O = new Uint8Array(Q);
        O[V[0]] = 1;
        while (V.length != 0) {
            var j = V.pop(),
                J = y[j],
                S = [];
            for (var M = 0; M < i.length; M++) {
                var $ = i[M],
                    G = $[0],
                    D = $[1];
                if (G == j && O[D] == 0) {
                    y[D] = v.Q.A0(J, $[3]);
                    V.push(D);
                    O[D] = 1
                }
                if (D == j && O[G] == 0) {
                    y[G] = v.Q.A0(J, v.Q.MF($[3]));
                    V.push(G);
                    O[G] = 1
                }
            }
        }
        if (o == null) {
            var q = [];
            for (var M = 0; M < Q; M++) q.push([y[M][2], M]);
            q.sort(function(L, N) {
                return L[0] - N[0]
            });
            o = q[q.length >>> 1][1]
        }
        var T = v.Q.MF(y[o]);
        for (var M = 0; M < Q; M++) y[M] = v.Q.A0(y[M], T);
        if (K) console.log("Transforms reordered", Date.now() - b);
        b = Date.now();
        return y
    };
    v.ox.dy = function(w, o, Q) {
        var K = [],
            b = !1;
        for (var M = 0; M < w.length; M++) {
            var R = w[M][0],
                X = w[M][1],
                h = X.D,
                e = X.j,
                Z = v.$(X.O());
            v.wC(R, Z);
            var P = Date.now(),
                J = v.ox.acr(Z, X, !0);
            if (b) console.log("Pyramid built ---------------", Date.now() - P);
            P = Date.now();
            var i = v.anA.akp(J, Q);
            if (b) console.log("SURF Generation", Date.now() - P);
            P = Date.now();
            if (!o) {
                v.si.acJ(J, i);
                if (b) console.log("ORB Orientations", Date.now() - P);
                P = Date.now();
                v.si.amQ(J, i, Z, h, e);
                if (b) console.log("ORB Descriptors", Date.now() - P);
                P = Date.now()
            }
            K.push(i)
        }
        return K
    };
    v.ox.acr = function(w, o, Q) {
        function K(Z, J, i) {
            var $ = new Uint32Array(J * i);
            $[0] = Z[0];
            for (var n = 1; n < J; n++) $[n] = $[n - 1] + Z[n];
            for (var j = 1; j < i; j++) {
                var M = j * J;
                $[M] = $[M - J] + Z[M];
                for (var n = 1; n < J; n++) $[M + n] = Z[M + n] + $[M + n - 1] + $[M + n - J] - $[M + n - J - 1]
            }
            return $
        }
        var b = [],
            R = [w, o];
        v.rf(R);
        if (Q) {
            var X = v.Af(w, o),
                h = X.rect,
                e = [X.Sg, h];
            v.rf(e)
        }
        for (var M = 0; M < R.length; M++) {
            var Z = R[2 * M],
                P = R[2 * M + 1],
                J = P.D,
                i = P.j,
                k = Math.min(J, i);
            if (k < 30) break;
            if (k < 1600) b.push({
                N3: Z,
                i7: J,
                Y7: i,
                QU: 1 << M,
                ld: K(Z, J, i)
            });
            if (!Q) continue;
            var Z = e[2 * M],
                P = e[2 * M + 1],
                J = P.D,
                i = P.j,
                k = Math.min(J, i);
            if (k < 30) break;
            if (k < 1600) b.push({
                N3: Z,
                i7: J,
                Y7: i,
                QU: (1 << M) * 3 / 2,
                ld: K(Z, J, i)
            })
        }
        return b
    };
    v.ox.acb = function(w, o, Q, K) {
        var b = Date.now(),
            R, X = 0,
            h = 0,
            e = Q.length,
            Z = new Float64Array(2);
        for (var P = 0; P < 3e3; P++) {
            var J = ~~(Math.random() * e),
                i = ~~(Math.random() * e),
                k = ~~(Math.random() * e),
                $ = ~~(Math.random() * e),
                u = 0,
                g = 0;
            if (J == i || J == k || J == $ || i == k || i == $ || k == $) continue;
            var n = Q[J],
                j = Q[i],
                y = Q[k],
                V = Q[$],
                O = w[n[0]],
                S = o[n[1]],
                G = w[j[0]],
                D = o[j[1]],
                q = w[y[0]],
                T = o[y[1]],
                L = w[V[0]],
                N = o[V[1]],
                F = [O.x, O.y, G.x, G.y, q.x, q.y, L.x, L.y],
                I = [S.x, S.y, D.x, D.y, T.x, T.y, N.x, N.y],
                s = v.Q.Eq(F, I);
            if (s[0] == 0 && s[1] == 0 && s[3] == 0 && s[4] == 0) continue;
            var U = e - X + 2;
            for (var M = 0; M < e && M - u < U; M++) {
                var r = w[Q[M][0]],
                    x = o[Q[M][1]];
                v.Q.XG(x.x, x.y, s, Z);
                var C = Z[0] - r.x,
                    p = Z[1] - r.y,
                    l = C * C + p * p;
                if (l < K) {
                    u++;
                    g += l
                }
            }
            if (u > X || u == X && g < h) {
                R = s;
                X = u;
                h = g
            }
        }
        return R
    };
    var bV = new Uint8Array(256);
    for (var M = 0; M < 256; M++) {
        var f4 = 0,
            A = M;
        while (A != 0) {
            A = A & A - 1;
            f4++
        }
        bV[M] = f4
    }
    v.ox.a0S = function(w, o, Q) {
        var K = 0,
            b = w.length;
        for (var M = 0; M < b && K < Q; M++) K += bV[w[M] ^ o[M]];
        return K
    };
    v.ox.a6c = function(w, o, Q, top, K) {
        if (K[Q] == 1) return;
        var b = v.ox.a0S(w.H8, o.H8, top[0]);
        if (b < top[0]) {
            if (b < top[2]) {
                top[0] = top[2];
                top[1] = top[3];
                top[2] = b;
                top[3] = Q
            } else {
                top[0] = b;
                top[1] = Q
            }
        }
        K[Q] = 1
    };
    v.ox.P5 = function(w) {
        var o = [],
            Q = [],
            K = [
                [],
                []
            ],
            b = 4;
        for (var M = 0; M < w.length; M++)(w[M].yg == 0 ? o : Q).push(M);
        for (var R = 0; R < 2; R++) {
            var X = new Array(b),
                h = [],
                e = R == 0 ? o : Q,
                Z = e.length / 256,
                P = [];
            for (var J = 0; J < 32; J++) {
                var i = new Array(256),
                    n = 0;
                for (var k = 0; k < 256; k++) i[k] = [];
                for (var k = 0; k < e.length; k++) {
                    var $ = e[k];
                    i[w[$].H8[J]].push($)
                }
                for (var k = 0; k < 256; k++) n += Math.abs(i[k].length - Z);
                P.push([n, J, i])
            }
            P.sort(function(j, y) {
                return j[0] - y[0]
            });
            var h = [],
                X = [];
            K[R] = [h, X];
            for (var M = 0; M < b; M++) {
                h.push(P[M][1]);
                X.push(P[M][2])
            }
        }
        return K
    };
    v.ox.match = function(w, o, Q) {
        var K = [],
            b = new Uint16Array(o.length);
        b.fill(65535);
        var R = new Uint8Array(o.length),
            top = new Uint32Array(4),
            X = [];
        for (var h = 0; h < w.length; h++) {
            var e = w[h],
                Z = e.H8;
            top.fill(1e6);
            R.fill(0);
            var P = Q[e.yg];
            for (var J = 0; J < P[1].length; J++) {
                var i = P[1][J][Z[P[0][J]]];
                for (var k = 0; k < i.length; k++) {
                    var $ = i[k];
                    v.ox.a6c(e, o[$], $, top, R)
                }
            }
            if (top[2] < 50 && top[2] < top[0] * .5) {
                var n = b[top[3]];
                if (n == 65535) {
                    b[top[3]] = K.length;
                    K.push([h, top[3], top[2]])
                } else if (top[2] < K[n][2]) {
                    K[n] = [h, top[3], top[2]]
                }
            }
        }
        K.sort(function(j, y) {
            return j[2] - y[2]
        });
        return K
    };
    v.ox.a0U = function(w) {
        var o = new B;
        for (var M = 0; M < w.length; M++) o = o.OX(w[M][1]);
        var Q = v.$(o.O() * 4);
        for (var M = 0; M < w.length; M++) v.M.M$("norm", w[M][0], w[M][1], Q, o, o, 1);
        return [Q, o]
    };
    v.ox.a70 = function(w, o, Q, K, b, R, X, h) {
        var e = w[1].clone(),
            Z = e.clone();
        e.x = e.y = 0;
        var P = o[1].clone(),
            J = P.clone();
        P.x = P.y = 0;
        P.x = e.D;
        var i = e.OX(P),
            k = J.y - Z.y,
            $ = v.$(i.O() * 4);
        v.c1(w[0], e, $, i);
        v.c1(o[0], new B(P.x, P.y + k, P.D, P.j), $, i);
        var n = document.createElement("canvas");
        n.width = i.D;
        n.height = i.j;
        var j = n.getContext("2d");
        j.lineWidth = .5;
        j.putImageData(new ImageData(new Uint8ClampedArray($.buffer), i.D, i.j), 0, 0);
        if (R) {
            var y = R[0],
                V = v.M1.o6(y),
                O = e.D,
                S = h.D;
            for (var M = 0; M < b.length; M++) {
                var G = b[M],
                    w = Q[G[0]],
                    o = K[G[1]];
                j.strokeStyle = "#" + "ff0000";
                j.beginPath();
                var D = v.zY.ajM(V, X[0], o, 0, S),
                    q = v.zY.ajM(y, X[1], w, 0, S);
                j.moveTo(-Z.x + D[0], -Z.y + D[1]);
                j.lineTo(-Z.x + D[2], -Z.y + D[3]);
                j.moveTo(O - J.x + q[0], -J.y + k + q[1]);
                j.lineTo(O - J.x + q[2], -J.y + k + q[3]);
                j.stroke()
            }
        }
        if (b) {
            var T = b.length;
            for (var M = 0; M < T; M++) {
                var G = b[M],
                    w = Q[G[0]],
                    o = K[G[1]];
                j.strokeStyle = "#" + "ffff00"
            }
        }
        var L = new Uint8Array(j.getImageData(0, 0, i.D, i.j).data.buffer);
        if (!1) {
            for (var N = 0; N < 2; N++) {
                var F = N == 0 ? Q : K,
                    I = N * e.D;
                for (var M = 0; M < F.length; M++) {
                    var g = F[M],
                        U = ~~g.x,
                        r = ~~g.y,
                        x = (r * i.D + U + I) * 4;
                    L[x + 1] = L[x + 2] = g.a49 * 60;
                    L[x + 0] = 0;
                    L[x + 3] = 255
                }
            }
        }
        return [L, i]
    };
    v.stack = {};
    v.stack.stack = function(w, o, Q) {
        var K = w.length,
            b = o.length;
        if (K == 1) {
            o.set(w[0]);
            return
        }
        if (Q == "avrg" || Q == "stdv" || Q == "summ" || Q == "vari") {
            var R = 1 / K;
            for (var M = 0; M < b; M++) {
                var X = 0;
                for (var h = 0; h < K; h++) X += w[h][M];
                var e = ~~(X * R + .5);
                if (Q == "avrg" || (M & 3) == 3) o[M] = e;
                else if (Q == "summ") o[M] = 255 * Math.pow(Math.min(255, X) * (1 / 255), 1 / 2.4);
                else {
                    var Z = 0;
                    for (var h = 0; h < K; h++) {
                        var P = w[h][M] - e;
                        Z += P * P
                    }
                    var J = Math.sqrt(Z * R) * (1 / 255);
                    if (Q == "stdv") o[M] = 255 * Math.pow(J, 1 / 2.4);
                    else o[M] = 255 * Math.pow(J * J, 1 / 2.4)
                }
            }
        } else if (Q == "maxx") {
            for (var M = 0; M < b; M++) {
                var i = 0;
                for (var h = 0; h < K; h++) i = Math.max(i, w[h][M]);
                o[M] = i
            }
        } else if (Q == "minn") {
            for (var M = 0; M < b; M++) {
                var i = 255;
                for (var h = 0; h < K; h++) i = Math.min(i, w[h][M]);
                o[M] = i
            }
        } else if (Q == "medn" || Q == "rang") {
            var k = function(y, V) {
                    return y - V
                },
                $ = new Array(K),
                n = 0,
                j = 0;
            if (K % 1 == 0) {
                j = K >>> 1;
                n = j - 1
            } else {
                n = j = K >>> 1
            }
            for (var M = 0; M < b; M++) {
                for (var h = 0; h < K; h++) $[h] = w[h][M];
                $.sort(k);
                if (Q == "medn") o[M] = $[n] + $[j] >>> 1;
                else o[M] = (M & 3) == 3 ? $[K - 1] : $[K - 1] - $[0]
            }
        } else console.log(Q)
    };
    v.ic = {};
    v.ic.af9 = function(w, o, Q, K, b) {
        var R = v.ic.W_(w.buffer, o, Q).n1,
            X = Date.now(),
            h = new Uint32Array(R.length);
        for (var M = 0; M < R.length; M++) h[M] = R[M].Lu;
        var e = UPNG.quantize.getKDtree(new Uint8Array(h.buffer), K),
            Z = [o, 1, -o, -1, o + 1, -o + 1, -o - 1, o - 1, o + o, 2, -o - o, -2, o + o - 1, o + o + 1, o + 2, -o + 2, -o - o + 1, -o - o - 1, -o - 2, o - 2, o + o + 2, -o - o + 2 - o - o - 2, o + o - 2],
            P = new Uint8Array(o * Q),
            J = w;
        for (var i = 0; i < Q; i++)
            for (var k = 0; k < o; k++) {
                var M = i * o + k << 2,
                    $ = J[M] * (1 / 255),
                    n = J[M + 1] * (1 / 255),
                    j = J[M + 2] * (1 / 255),
                    y = J[M + 3] * (1 / 255),
                    V = v.ic.Ll(e, $, n, j, y, b);
                if (V == null) {
                    var O = [],
                        S = 0;
                    while (S < 20) {
                        var G = i * o + k + Z[S] << 2,
                            D = J[G] * (1 / 255),
                            q = J[G + 1] * (1 / 255),
                            T = J[G + 2] * (1 / 255),
                            L = J[G + 3] * (1 / 255),
                            N = v.ic.Ll(e, D, q, T, L, .005);
                        if (N != null) {
                            if (O.indexOf(N) == -1) {
                                O.push(N);
                                N.bW = 1
                            } else N.bW++
                        }
                        S++
                    }
                    O.sort(function(y, j) {
                        return j.bW - y.bW
                    });
                    while (O.length != 0 && O[O.length - 1].bW < 3) O.pop();
                    if (O.length == 0) V = v.ic.Ll(e, $, n, j, y, 100);
                    else if (O.length == 1) V = O[0];
                    else if (O.length == 2) {
                        var F = O[0],
                            I = O[1],
                            s = F.est.q,
                            u = I.est.q,
                            g = u[0] - s[0],
                            U = u[1] - s[1],
                            r = u[2] - s[2],
                            x = u[3] - s[3],
                            C = $ - s[0],
                            p = n - s[1],
                            l = j - s[2],
                            c = y - s[3],
                            t = g * g + U * U + r * r + x * x,
                            H = C * C + p * p + l * l + c * c,
                            gl = (C * g + p * U + l * r + c * x) / t,
                            ie = H - gl * gl * t;
                        if (ie < .5) V = gl < .5 ? F : I;
                        else {
                            V = v.ic.Ll(e, $, n, j, y, 100)
                        }
                    } else {
                        var F = O[0],
                            I = O[1],
                            fk = O[2],
                            s = F.est.q,
                            u = I.est.q,
                            h5 = fk.est.q,
                            cf = s[0] - h5[0],
                            f = s[1] - h5[1],
                            aH = s[2] - h5[2],
                            gY = s[3] - h5[3],
                            cC = u[0] - h5[0],
                            cY = u[1] - h5[1],
                            gJ = u[2] - h5[2],
                            bM = u[3] - h5[3],
                            cN = h5[0] - $,
                            eu = h5[1] - n,
                            cU = h5[2] - j,
                            h7 = h5[3] - y,
                            hn = cf * cf + f * f + aH * aH + gY * gY,
                            gS = cf * cC + f * cY + aH * gJ + gY * bM,
                            aq = cN * cf + eu * f + cU * aH + h7 * gY,
                            ef = cf * cC + f * cY + aH * gJ + gY * bM,
                            dU = cC * cC + cY * cY + gJ * gJ + bM * bM,
                            hO = cN * cC + eu * cY + cU * gJ + h7 * bM,
                            ao = 1 / (gS * ef - hn * dU),
                            gl = (dU * aq - hO * gS) * ao,
                            hI = (hO * hn - aq * ef) * ao,
                            a$ = 1 - gl - hI,
                            hH = Math.max(gl, hI, a$);
                        if (hH == gl) V = F;
                        else if (hH == hI) V = I;
                        else V = fk
                    }
                }
                P[M >> 2] = V.ind
            }
        return {
            da: P,
            n1: e[1]
        }
    };
    v.ic.W_ = function(w, o, Q) {
        var K = [],
            b = {},
            R = o - 1,
            X = Q - 1,
            h = 0,
            e = new Uint32Array(w),
            Z = [-o - 1, -o, -o + 1, -1, 1, o - 1, o, o + 1, o + o, 2, -o - o, -2, o + o - 1, o + o + 1, o + 2, -o + 2, -o - o + 1, -o - o - 1, -o - 2, o - 2, o + o + 2, -o - o + 2 - o - o - 2, o + o - 2];
        for (var P = 1; P < X; P++)
            for (var J = 1; J < R; J++) {
                var i = P * o + J,
                    k = e[i],
                    $ = !0;
                for (var M = 0; M < 8; M++) $ = $ && e[i + Z[M]] == k;
                if ($) {
                    h++;
                    var n = b[k];
                    if (n == null) {
                        b[k] = K.length;
                        K.push({
                            Lu: k,
                            f2: 1
                        })
                    } else K[n].f2++
                }
            }
        return {
            n1: K,
            a3G: h
        }
    };
    v.ic.Ll = function(w, o, Q, K, b, R) {
        var X = UPNG.quantize.getNearest(w[0], o, Q, K, b);
        return v.ic.a7T(X, o, Q, K, b) < R ? X : null
    };
    v.ic.a7T = function(w, o, Q, K, b) {
        var R = w.est.q,
            X = o - R[0],
            h = Q - R[1],
            e = K - R[2],
            Z = b - R[3];
        return X * X + h * h + e * e + Z * Z
    };
    v.ic.aft = function(w, o, Q, K) {
        var b = v.ic.a9B(w, o, Q, K),
            R = b.da,
            X = b.n1,
            h = b.afG,
            e = UPNG.quantize.getKDtree(new Uint8Array(h.buffer.slice(0)), 200),
            Z = [];
        for (var M = 0; M < X.length; M++) {
            var P = X[M].hJ,
                J = P[0],
                i = P[1],
                k = P[2],
                $ = P[3];
            if (Math.min(J, i, k, $) < 0) throw "e";
            var n = UPNG.quantize.getNearest(e[0], J / 255, i / 255, k / 255, $ / 255);
            Z.push(e[1].indexOf(n))
        }
        for (var M = 0; M < o * Q; M++) R[M] = Z[R[M]];
        return {
            da: R,
            n1: e[1]
        }
    };
    v.ic.a9B = function(w, o, Q, K) {
        var b = o * Q,
            R = 2 * b,
            X = v.ic.a7I(w, o, Q),
            h = 65535 + 1,
            e = new Uint32Array(h),
            P = 0;
        for (var M = 0; M < R; M++) e[X[M]]++;
        var Z = new Uint32Array(h);
        for (var M = 0; M < h; M++) {
            Z[M] = P;
            P += e[M]
        }
        var J = new Uint32Array(R);
        for (var M = 0; M < R; M++) {
            var i = X[M];
            J[Z[i]] = M;
            Z[i]++
        }
        var k = new UnionFind(b),
            $ = new Uint16Array(b),
            n = new Uint32Array(b);
        for (var M = 0; M < b; M++) n[M] = 1;
        var j = b,
            y = 1e5 / (K * 10);
        for (var V = 0; V < R; V++) {
            var O = J[V],
                S = X[O];
            if (S == 65535) continue;
            var M = O >> 1,
                G = M + ((O & 1) == 0 ? 1 : o),
                D = k.find(M),
                q = k.find(G),
                T = Math.min($[D] + y / Math.sqrt(n[D]), $[q] + y / Math.sqrt(n[q]));
            if (D != q && S <= T) {
                k.link(M, G);
                j--;
                var L = k.find(M);
                n[L] = n[D] + n[q];
                $[L] = S
            }
        }
        var N = [],
            F = {},
            I = new Uint16Array(b);
        for (var M = 0; M < b; M++) {
            var L = k.find(M),
                s = F[L];
            if (s == null) {
                F[L] = s = N.length;
                N.push({
                    f2: 0,
                    hJ: [0, 0, 0, 0]
                })
            }
            N[s].f2++;
            for (var G = 0; G < 4; G++) N[s].hJ[G] += w[(M << 2) + G];
            I[M] = s
        }
        var u = new Uint32Array(N.length);
        for (var M = 0; M < N.length; M++) {
            var s = N[M];
            for (var G = 0; G < 4; G++) s.hJ[G] = Math.round(s.hJ[G] / s.f2);
            u[M] = s.hJ[3] << 24 | s.hJ[2] << 16 | s.hJ[1] << 8 | s.hJ[0]
        }
        return {
            da: I,
            n1: N,
            afG: u
        }
    };
    v.ic.a7I = function(w, o, Q) {
        var K = new Uint16Array(o * Q * 2);
        for (var b = 0; b < Q; b++)
            for (var R = 0; R < o; R++) {
                var M = b * o + R;
                K[M + M] = R < o - 1 ? v.ic.tJ(w, M, M + 1) : 65535;
                K[M + M + 1] = b < Q - 1 ? v.ic.tJ(w, M, M + o) : 65535
            }
        return K
    };
    v.ic.tJ = function(w, M, o) {
        var Q = M << 2,
            K = o << 2,
            b = w[Q],
            R = w[Q + 1],
            X = w[Q + 2],
            h = w[Q + 3],
            e = w[K],
            Z = w[K + 1],
            P = w[K + 2],
            J = w[K + 3],
            i = b - e,
            k = R - Z,
            $ = X - P,
            n = h - J;
        return i * i + k * k + $ * $ + n * n >> 2
    };
    v.ic.op = function() {
        function w(y, V, O, S, G, D) {
            var q = [],
                T = D,
                L = D,
                N = D >>> 2;
            for (var F = 0; F < G; F++)
                for (var I = 0; I < S; I++) {
                    var s = ~~((I + .5) * T),
                        u = ~~((F + .5) * L),
                        g = 1e9,
                        U = Math.max(0, s - N),
                        r = Math.min(V, s + N + 1),
                        x = Math.max(0, u - N),
                        C = Math.min(O, u + N + 1);
                    for (var p = x; p < C; p++)
                        for (var l = U; l < r; l++) {
                            var c = o(y, V, l, p);
                            if (c < g) {
                                s = l;
                                u = p;
                                g = c
                            }
                        }
                    var t = (u * V + s) * 4;
                    q.push(s, u)
                }
            return q
        }

        function o(y, V, O, S) {
            var G = (S * V + O) * 4,
                D = V * 4,
                q = Q(y, G - 4, G) + Q(y, G, G + 4),
                T = Q(y, G - D, G) + Q(y, G, G + D);
            return q + T
        }

        function Q(y, V, O) {
            var S = y[V] - y[O],
                G = y[V + 1] - y[O + 1],
                D = y[V + 2] - y[O + 2];
            return S * S + G * G + D * D
        }
        var K = 0,
            b = 0;

        function R(y, V, O, S) {
            b++;
            if (S < K) K = S;
            y[S].push(V, O)
        }

        function X(y) {
            b--;
            while (y[K].length == 0) K++
        }

        function h(y, V, O) {
            K = 0;
            b = 0;
            var S = V * O,
                G = Math.round(Math.min(V, O) / 50),
                u = 0,
                g = 16;
            if (G == 0) G = 1;
            var D = 30 / G,
                q = Math.floor(V / G),
                T = Math.floor(O / G),
                L = new Uint16Array(S);
            for (var M = 0; M < S; M++) L[M] = 65535;
            var N = w(y, V, O, q, T, G),
                F = N.length >>> 1;
            if (F > 65535) throw F;
            var I = [];
            for (var M = 0; M < 1e3 + O; M++) I.push([]);
            var s = [0, 1, 0, -1, -1, 0, 1, 0],
                U = Math.min(T, 5),
                r = new Uint32Array(F * 6);
            for (var x = 0; x < T; x += U) {
                var C = Math.min(x + U + 1, T);
                for (var p = x; p < C; p++)
                    for (var l = 0; l < q; l++) {
                        var M = p * q + l,
                            c = M * 2,
                            t = N[c + 1] << 16 | N[c];
                        R(I, t, M, N[c + 1] >>> g)
                    }
                var H = Math.min(O, C * G);
                if (x + U >= T) H = O;
                while (b != 0) {
                    X(I);
                    var gl = I[K].pop(),
                        ie = I[K].pop(),
                        fk = ie >>> 16,
                        h5 = ie & 65535,
                        M = fk * V + h5;
                    if (L[M] == 65535) {
                        var cf = gl * 6,
                            f = M << 2;
                        L[M] = gl;
                        r[cf] += y[f];
                        r[cf + 1] += y[f + 1];
                        r[cf + 2] += y[f + 2];
                        r[cf + 3] += h5;
                        r[cf + 4] += fk;
                        r[cf + 5]++;
                        var aH = fk >>> g;
                        if (fk != H - 1 && L[M + V] == 65535) R(I, fk + 1 << 16 | h5, gl, e(y, V, D, h5, fk + 1, r, cf) + aH);
                        if (fk != 0 && L[M - V] == 65535) R(I, fk - 1 << 16 | h5, gl, e(y, V, D, h5, fk - 1, r, cf) + aH);
                        if (h5 != 0 && L[M - 1] == 65535) R(I, fk << 16 | h5 - 1, gl, e(y, V, D, h5 - 1, fk, r, cf) + aH);
                        if (h5 != V - 1 && L[M + 1] == 65535) R(I, fk << 16 | h5 + 1, gl, e(y, V, D, h5 + 1, fk, r, cf) + aH)
                    }
                }
                if (H != fk) {
                    var gY = (x + U) * q;
                    r.fill(0, gY * 6, (gY + q) * 6);
                    for (var fk = (x + U - 2) * G; fk < H; fk++)
                        for (var h5 = 0; h5 < V; h5++) {
                            var M = fk * V + h5;
                            if (L[M] >= gY) {
                                L[M] = 65535
                            }
                        }
                }
            }
            return {
                da: L,
                tf: F,
                Iw: r
            }
        }
        v.ic.g8 = function(y, V, O, S, G) {
            var D = y.tf,
                q = V * O,
                T = y.Iw,
                L = y.da,
                N = k(S, L, D, q),
                F = new UnionFind(D),
                r = 0;
            for (var I = 1; I < O; I++)
                for (var s = 1; s < V; s++) {
                    var M = I * V + s,
                        u = L[M],
                        g = 0;
                    if ((g = L[M - 1]) != u && N[g] == N[u] && Z(T, 0, u * 6, g * 6) < G) F.link(u, g);
                    if ((g = L[M - V]) != u && N[g] == N[u] && Z(T, 0, u * 6, g * 6) < G) F.link(u, g)
                }
            var U = new Uint16Array(D);
            U.fill(65535);
            var x = new Uint16Array(D);
            for (var M = 0; M < D; M++) {
                var C = F.find(M);
                if (U[C] == 65535) U[C] = r++;
                x[M] = U[C]
            }
            var p = new Uint16Array(q);
            for (var M = 0; M < q; M++) p[M] = x[L[M]];
            return {
                da: p,
                tf: r
            }
        };
        v.ic.H$ = function(y, V, O, S) {
            var G = v.$(O),
                D = V.length,
                q = 0;
            for (var M = 0; M < D && q != 3; M++) {
                var T = S[M];
                if (T == 0 || T == 255) {
                    var L = V[M],
                        N = 2 - (T >>> 7);
                    G[L] = q = G[L] | N
                }
            }
            return q != 3
        };

        function e(y, V, O, S, G, D, q) {
            var T = (G * V + S) * 4,
                L = D[q + 5],
                N = 1 / L,
                F = y[T] * L - D[q],
                I = y[T + 1] * L - D[q + 1],
                s = y[T + 2] * L - D[q + 2],
                u = S * L - D[q + 3],
                g = G * L - D[q + 4],
                U = Math.sqrt(F * F + I * I + s * s),
                r = Math.sqrt(u * u + g * g);
            return ~~((U + O * r) * N + .5)
        }

        function Z(y, V, O, S) {
            var G = 1 / y[O + 5],
                D = 1 / y[S + 5],
                q = y[O] * G - y[S] * D,
                T = y[O + 1] * G - y[S + 1] * D,
                L = y[O + 2] * G - y[S + 2] * D,
                N = y[O + 3] * G - y[S + 3] * D,
                F = y[O + 4] * G - y[S + 4] * D,
                I = Math.sqrt(q * q + T * T + L * L),
                s = Math.sqrt(N * N + F * F);
            return ~~(I + V * s + .5)
        }

        function P(y, V, O) {
            var S = v._x(y, new B(0, 0, V, O)),
                G = S.rect.D,
                D = S.rect.j,
                q = h(S.Sg, G, D),
                T = q.da,
                L = Date.now(),
                N = new Uint16Array(V * O);
            N.fill(65535);
            for (var F = 0; F < D; F++) {
                for (var I = 0; I < G; I++) {
                    var s = F * G + I,
                        M = (F << 1) * V + (I << 1),
                        u = T[s];
                    if (T[s - G] != u || T[s - 1] != u || T[s + 1] != u || T[s + G] != u) u = 65535;
                    N[M] = u;
                    N[M + 1] = u;
                    N[M + V] = u;
                    N[M + V + 1] = u
                }
            }
            q.da = N;
            return q
        }

        function J(y, V) {
            var M = 0,
                O = y.length;
            while (M != O && y[M] != V) M += 2;
            return M == O ? -1 : M
        }

        function i(y, M) {
            if (M == y.length - 2) {
                y.pop();
                y.pop()
            } else {
                y[M + 1] = y.pop();
                y[M] = y.pop()
            }
        }
        v.ic.anv = function(y, V, O, S, G) {
            var D = new Uint32Array(G * 4400),
                o = [];
            for (var M = 0; M < G; M++) o.push([]);
            for (var q = 0; q < O; q++)
                for (var T = 0; T < V; T++) {
                    var M = q * V + T,
                        L = M << 2,
                        N = S[M],
                        F = 0,
                        I = y[L] >>> 4,
                        s = y[L + 1] >>> 4,
                        u = y[L + 2] >>> 4;
                    D[N * 4400 + (I << 8 | s << 4 | u)]++;
                    D[N * 4400 + 4096]++;
                    D[N * 4400 + 4100 + (I << 4 | s)]++;
                    D[N * 4400 + 4360 + I]++;
                    if (T != 0 && (F = S[M - 1]) != N && J(o[N], F) == -1) {
                        o[N].push(F, 0);
                        o[F].push(N, 0)
                    }
                    if (q != 0 && (F = S[M - V]) != N && J(o[N], F) == -1) {
                        o[N].push(F, 0);
                        o[F].push(N, 0)
                    }
                }
            for (var M = 0; M < G; M++) {
                var u = o[M];
                for (var g = 0; g < u.length; g += 2) u[g + 1] = j(D, M, u[g])
            }
            return [D, o]
        };

        function k(y, V, O, S) {
            var G = v.$(O);
            for (var M = 0; M < S; M++) {
                var D = y[M];
                if (D == 0 || D == 255) G[V[M]] = 2 - (D >>> 7)
            }
            return G
        }
        v.ic.amj = function(y, V, O, S, G, D, q) {
            var T = V * O,
                L = q[0],
                o = q[1],
                N = new UnionFind(S),
                F = k(G, y, S, T),
                I = -1,
                s = !0,
                u = 0;
            for (var M = 0; M < S; M++)
                if (F[M] == 1) {
                    if (I == -1) I = M;
                    else N.link(M, I)
                } if (I == -1) {
                for (var M = 0; M < T; M++) D[M] = G[M] == 255 ? 255 : 0;
                return
            }
            while (s) {
                while (s) {
                    s = !1;
                    for (var M = 0; M < S; M++) {
                        if (F[M] == 0) {
                            var g = $(o[M]);
                            if (F[g] == 1) {
                                F[M] = F[g];
                                s = !0;
                                N.link(M, g)
                            }
                        }
                    }
                }
                s = !0;
                u = 0;
                while (s) {
                    s = !1;
                    for (var M = 0; M < S; M++) {
                        if (F[M] == 0) {
                            var g = $(o[M]);
                            if (F[g] == 0) {
                                var U = M * 4400,
                                    r = g * 4400;
                                for (var x = 0; x < 4400; x += 2) {
                                    L[U + x] += L[r + x];
                                    L[U + x + 1] += L[r + x + 1]
                                }
                                n(o, L, M, g);
                                u++;
                                F[g] = 3;
                                s = !0;
                                N.link(M, g)
                            }
                        }
                    }
                }
                s = u != 0
            }
            var C = N.find(I);
            for (var M = 0; M < S; M++) F[M] = N.find(M) == C ? 255 : 0;
            for (var M = 0; M < T; M++) {
                D[M] = F[y[M]]
            }
            for (var M = 0; M < T; M++) {
                var g = G[M];
                if (g == 0 || g == 255) D[M] = g
            }
        };

        function $(y) {
            var V = 0,
                O = 0,
                S = y.length;
            for (var G = 0; G < S; G += 2) {
                var D = y[G + 1];
                if (D > O) {
                    O = D;
                    V = G
                }
            }
            return y[V]
        }

        function n(o, y, V, O) {
            var S = o[V],
                G = o[O];
            i(S, J(S, O));
            i(G, J(G, V));
            for (var M = 0; M < G.length; M += 2) {
                var D = G[M],
                    q = o[D];
                i(q, J(q, O));
                if (J(q, V) == -1) {
                    q.push(V, 0);
                    S.push(D, 0)
                }
            }
            for (var M = 0; M < S.length; M += 2) {
                var D = S[M],
                    q = o[D],
                    T = j(y, V, D);
                S[M + 1] = T;
                q[J(q, V) + 1] = T
            }
        }

        function j(y, V, O) {
            var S = 0,
                G = 4096,
                D = V * 4400,
                q = O * 4400;
            for (var T = 0; T < 16; T++) {
                if (y[D + 4360 + T] == 0 || y[q + 4360 + T] == 0) continue;
                for (var L = 0; L < 16; L++) {
                    var N = T << 4 | L;
                    if (y[D + 4100 + N] == 0 || y[q + 4100 + N] == 0) continue;
                    var F = D + (N << 4),
                        I = q + (N << 4);
                    for (var M = 0; M < 16; M++) S += Math.sqrt(y[F + M] * y[I + M])
                }
            }
            var s = S / Math.sqrt(y[D + G] * y[q + G]);
            return ~~(999.99999 * s)
        }
        return h
    }();
    var es = function() {
        function w() {
            this.O = 0;
            this.r2 = 0;
            this.lp = {};
            this.ND = [];
            this.Ib = 1e5;
            this.Yt = 1e5;
            this.rT = -1;
            this.eB = -1;
            this.color = 0
        }

        function o(A) {
            this.xP = A;
            this.AP = new Array(A);
            this.Lu = new Array(A * 6);
            this.a0v = 0;
            this.lA = new Array(A * 2);
            this.alpha = new Array(A);
            this.oQ = new Array(A);
            this.BB = new Array(A)
        }

        function Q(b, R, X, h) {
            function e(j, y, b, R) {
                return b[R * y + j]
            }

            function Z(M) {
                var q = b.length;
                while (M < q && b[M] == 0) M++;
                return M < q ? M : -1
            }

            function P(j, y, q) {
                for (var M = 2; M < 5; M++) {
                    var T = 0;
                    for (var L = -M + 1; L <= M - 1; L++) {
                        T += e(j + L, y + M - 1, b, R) == q ? 1 : -1;
                        T += e(j + M - 1, y + L - 1, b, R) == q ? 1 : -1;
                        T += e(j + L - 1, y - M, b, R) == q ? 1 : -1;
                        T += e(j - M, y + L, b, R) == q ? 1 : -1
                    }
                    if (T > 0) return 1;
                    else if (T < 0) return 0
                }
                return 0
            }

            function J(q, $) {
                var n = new w,
                    j = q,
                    y = $,
                    T = 0,
                    L = 1,
                    N;
                n.color = b[$ * R + q];
                n.sign = e(q, $, b, R) == n.color ? "+" : "-";
                while (1) {
                    n.ND.push(j, y);
                    if (j > n.rT) n.rT = j;
                    if (j < n.Ib) n.Ib = j;
                    if (y > n.eB) n.eB = y;
                    if (y < n.Yt) n.Yt = y;
                    n.r2++;
                    j += T;
                    y += L;
                    n.O -= j * L;
                    if (j == q && y == $) break;
                    var F = e(j + (T + L - 1 >> 1), y + (L - T - 1 >> 1), b, R) == n.color,
                        I = e(j + (T - L - 1 >> 1), y + (L + T - 1 >> 1), b, R) == n.color;
                    if (I && !F) {
                        if (h.dm == "right" || h.dm == "black" && n.sign == "+" || h.dm == "white" && n.sign == "-" || h.dm == "majority" && P(j, y, n.color) || h.dm == "minority" && !P(j, y, n.color)) {
                            N = T;
                            T = -L;
                            L = N
                        } else {
                            N = T;
                            T = L;
                            L = -N
                        }
                    } else if (I) {
                        N = T;
                        T = -L;
                        L = N
                    } else if (!F) {
                        N = T;
                        T = L;
                        L = -N
                    }
                }
                return n
            }
            var i = 0,
                k = [];
            while (!0) {
                var i = Z(i);
                if (i == -1) break;
                var $ = Math.floor(i / R),
                    n = J(i - $ * R, $);
                for (var M = 0; M < n.ND.length - 2; M += 2) {
                    var j = n.ND[M],
                        y = n.ND[M + 1],
                        V = y * R + j;
                    if (j == n.ND[M + 2] && y + 1 == n.ND[M + 3] && b[V] != 0) es.fill(V, b, R, 0)
                }
                if (n.O > h.amO) k.push(n)
            }
            for (var M = 0; M < k.length; M++) k[M].parent = -1;
            var O = Date.now();
            for (var M = 1; M < k.length; M++) {
                var S = k[M];
                for (var G = M - 1; G >= 0; G--) {
                    var D = k[G];
                    if (S.Ib < D.Ib || S.rT > D.rT || S.Yt < D.Yt || S.eB > D.eB) continue;
                    if (!es.a3e(D.ND, S.ND[0] + .5, S.ND[1] + .5)) continue;
                    S.parent = G;
                    break
                }
            }
            return k
        }

        function K(b, R) {
            function X(T, L, N, F, I) {
                this.x = T;
                this.y = L;
                this.bH = N;
                this._6 = F;
                this.Kb = I
            }

            function h(T, A) {
                return (A + T) % A
            }

            function e(T, L, N, F) {
                return T * F - N * L
            }

            function Z(T, L, N, F) {
                return T * N + L * F
            }

            function P(T, L, N) {
                if (T <= N) return T <= L && L < N;
                else return T <= L || L < N
            }

            function J(T, L, N) {
                var F = 0;
                F += L * T[0] * L;
                F += L * T[1] * N;
                F += L * T[2];
                F += N * T[3] * L;
                F += N * T[4] * N;
                F += N * T[5];
                F += T[6] * L;
                F += T[7] * N;
                F += T[8];
                return F
            }

            function i(T, L, N) {
                return L + T * (N - L)
            }

            function k(T, L, N, F) {
                var I = Math.sign(N - T),
                    s = -Math.sign(F - L);
                return I * (N - T) - s * (F - L)
            }

            function $(T, L) {
                return Math.sqrt(T * T + L * L)
            }

            function n(T, L, N, F, I) {
                var s = 1 - T;
                return s * s * s * L + 3 * (s * s * T) * N + 3 * (T * T * s) * F + T * T * T * I
            }

            function j(T, L, N, F, I, s, u, g) {
                var U = e(T, L, u, g),
                    r = e(N, F, u, g),
                    x = e(I, s, u, g),
                    C = U - 2 * r + x,
                    p = -2 * U + 2 * r,
                    l = U,
                    c = p * p - 4 * C * l;
                if (C == 0 || c < 0) return -1;
                var t = Math.sqrt(c),
                    H = (-p + t) / (2 * C),
                    gl = (-p - t) / (2 * C);
                if (H >= 0 && H <= 1) return H;
                else if (gl >= 0 && gl <= 1) return gl;
                else return -1
            }

            function y(q) {
                var M, T, L;
                q.XS = q.ND[0];
                q.uu = q.ND[1];
                q.tl = [];
                var N = q.tl;
                N.push(new X(0, 0, 0, 0, 0));
                for (M = 0; M < q.r2; M++) {
                    T = q.ND[M << 1] - q.XS;
                    L = q.ND[(M << 1) + 1] - q.uu;
                    N.push(new X(N[M].x + T, N[M].y + L, N[M].bH + T * L, N[M]._6 + T * T, N[M].Kb + L * L))
                }
            }

            function V(q) {
                var A = q.r2,
                    T = q.ND,
                    L, N = new Array(A),
                    F = new Array(A),
                    I = new Array(4),
                    s, u, g, U, r, x, C, p, l, c, t, M, H, gl, ie, fk, h5, cf, f = 0;
                q.eX = new Array(A);
                for (M = A - 1; M >= 0; M--) {
                    if (T[M << 1] != T[f << 1] && T[(M << 1) + 1] != T[(f << 1) + 1]) f = M + 1;
                    F[M] = f
                }
                for (M = A - 1; M >= 0; M--) {
                    var aH = h(M + 1, A) << 1;
                    I[0] = I[1] = I[2] = I[3] = 0;
                    L = (3 + 3 * (T[aH] - T[M << 1]) + (T[aH + 1] - T[(M << 1) + 1])) / 2;
                    I[L]++;
                    s = 0;
                    u = 0;
                    g = 0;
                    U = 0;
                    f = F[M];
                    gl = M;
                    while (1) {
                        t = 0;
                        L = (3 + 3 * Math.sign(T[f * 2] - T[gl * 2]) + Math.sign(T[f * 2 + 1] - T[gl * 2 + 1])) / 2;
                        I[L]++;
                        if (I[0] && I[1] && I[2] && I[3]) {
                            N[M] = gl;
                            t = 1;
                            break
                        }
                        l = T[f * 2] - T[M * 2];
                        c = T[f * 2 + 1] - T[M * 2 + 1];
                        if (e(s, u, l, c) < 0 || e(g, U, l, c) > 0) {
                            break
                        }
                        if (Math.abs(l) <= 1 && Math.abs(c) <= 1) {} else {
                            r = l + (c >= 0 && (c > 0 || l < 0) ? 1 : -1);
                            x = c + (l <= 0 && (l < 0 || c < 0) ? 1 : -1);
                            if (e(s, u, r, x) >= 0) {
                                s = r;
                                u = x
                            }
                            r = l + (c <= 0 && (c < 0 || l < 0) ? 1 : -1);
                            x = c + (l >= 0 && (l > 0 || c < 0) ? 1 : -1);
                            if (e(g, U, r, x) <= 0) {
                                g = r;
                                U = x
                            }
                        }
                        gl = f;
                        f = F[gl];
                        if (!P(f, M, gl)) {
                            break
                        }
                    }
                    if (t == 0) {
                        C = Math.sign(T[f * 2] - T[gl * 2]);
                        p = Math.sign(T[f * 2 + 1] - T[gl * 2 + 1]);
                        l = T[gl * 2] - T[M * 2];
                        c = T[gl * 2 + 1] - T[M * 2 + 1];
                        ie = e(s, u, l, c);
                        fk = e(s, u, C, p);
                        h5 = e(g, U, l, c);
                        cf = e(g, U, C, p);
                        H = 1e7;
                        if (fk < 0) {
                            H = Math.floor(ie / -fk)
                        }
                        if (cf > 0) {
                            H = Math.min(H, Math.floor(-h5 / cf))
                        }
                        N[M] = h(gl + H, A)
                    }
                }
                H = N[A - 1];
                q.eX[A - 1] = H;
                for (M = A - 2; M >= 0; M--) {
                    if (P(M + 1, N[M], H)) {
                        H = N[M]
                    }
                    q.eX[M] = H
                }
                for (M = A - 1; P(h(M + 1, A), H, q.eX[M]); M--) {
                    q.eX[M] = H
                }
            }

            function O(q) {
                function T(q, M, L) {
                    var A = q.r2,
                        l = q.ND,
                        c = q.tl,
                        t, H, gl, ie, fk, F, h5, cf, p, f, aH, gY, cC, cY, gJ = 0;
                    if (L >= A) {
                        L -= A;
                        gJ = 1
                    }
                    if (gJ == 0) {
                        t = c[L + 1].x - c[M].x;
                        H = c[L + 1].y - c[M].y;
                        ie = c[L + 1]._6 - c[M]._6;
                        gl = c[L + 1].bH - c[M].bH;
                        fk = c[L + 1].Kb - c[M].Kb;
                        F = L + 1 - M
                    } else {
                        t = c[L + 1].x - c[M].x + c[A].x;
                        H = c[L + 1].y - c[M].y + c[A].y;
                        ie = c[L + 1]._6 - c[M]._6 + c[A]._6;
                        gl = c[L + 1].bH - c[M].bH + c[A].bH;
                        fk = c[L + 1].Kb - c[M].Kb + c[A].Kb;
                        F = L + 1 - M + A
                    }
                    aH = (l[M << 1] + l[L << 1]) / 2 - l[0];
                    gY = (l[(M << 1) + 1] + l[(L << 1) + 1]) / 2 - l[1];
                    cY = l[L << 1] - l[M << 1];
                    cC = -(l[(L << 1) + 1] - l[(M << 1) + 1]);
                    h5 = (ie - 2 * t * aH) / F + aH * aH;
                    cf = (gl - t * gY - H * aH) / F + aH * gY;
                    p = (fk - 2 * H * gY) / F + gY * gY;
                    f = cC * cC * h5 + 2 * cC * cY * cf + cY * cY * p;
                    return Math.sqrt(f)
                }
                var M, L, N, F, A = q.r2,
                    I = new Array(A + 1),
                    s = new Array(A + 1),
                    u = new Array(A),
                    g = new Array(A + 1),
                    U = new Array(A + 1),
                    r = new Array(A + 1),
                    x, C, p;
                for (M = 0; M < A; M++) {
                    p = h(q.eX[h(M - 1, A)] - 1, A);
                    if (p == M) {
                        p = h(M + 1, A)
                    }
                    if (p < M) {
                        u[M] = A
                    } else {
                        u[M] = p
                    }
                }
                L = 1;
                for (M = 0; M < A; M++) {
                    while (L <= u[M]) {
                        g[L] = M;
                        L++
                    }
                }
                M = 0;
                for (L = 0; M < A; L++) {
                    U[L] = M;
                    M = u[M]
                }
                U[L] = A;
                N = L;
                M = A;
                for (L = N; L > 0; L--) {
                    r[L] = M;
                    M = g[M]
                }
                r[0] = 0;
                I[0] = 0;
                for (L = 1; L <= N; L++) {
                    for (M = r[L]; M <= U[L]; M++) {
                        C = -1;
                        for (F = U[L - 1]; F >= g[M]; F--) {
                            x = T(q, F, M) + I[F];
                            if (C < 0 || x < C) {
                                s[M] = F;
                                C = x
                            }
                        }
                        I[M] = C
                    }
                }
                q.Wz = N;
                q.Sl = new Array(N);
                for (M = A, L = N - 1; M > 0; L--) {
                    M = s[M];
                    q.Sl[L] = M
                }
            }

            function S(q) {
                function T(q, M, x, u, g, bM) {
                    var A = q.r2,
                        cN = q.tl,
                        eu = 0,
                        p;
                    while (x >= A) {
                        x -= A;
                        eu += 1
                    }
                    while (M >= A) {
                        M -= A;
                        eu -= 1
                    }
                    while (x < 0) {
                        x += A;
                        eu -= 1
                    }
                    while (M < 0) {
                        M += A;
                        eu += 1
                    }
                    var cU = cN[x + 1].x - cN[M].x + eu * cN[A].x,
                        h7 = cN[x + 1].y - cN[M].y + eu * cN[A].y,
                        hn = cN[x + 1]._6 - cN[M]._6 + eu * cN[A]._6,
                        gS = cN[x + 1].bH - cN[M].bH + eu * cN[A].bH,
                        aq = cN[x + 1].Kb - cN[M].Kb + eu * cN[A].Kb,
                        C = x + 1 - M + eu * A;
                    u[bM] = cU / C;
                    u[bM + 1] = h7 / C;
                    var ef = (hn - cU * cU / C) / C,
                        dU = (gS - cU * h7 / C) / C,
                        hO = (aq - h7 * h7 / C) / C,
                        ao = (ef + hO + Math.sqrt((ef - hO) * (ef - hO) + 4 * dU * dU)) / 2;
                    ef -= ao;
                    hO -= ao;
                    if (Math.abs(ef) >= Math.abs(hO)) {
                        p = Math.sqrt(ef * ef + dU * dU);
                        if (p != 0) {
                            g[bM] = -dU / p;
                            g[bM + 1] = ef / p
                        }
                    } else {
                        p = Math.sqrt(hO * hO + dU * dU);
                        if (p != 0) {
                            g[bM] = -hO / p;
                            g[bM + 1] = dU / p
                        }
                    }
                    if (p == 0) {
                        g[bM] = g[bM + 1] = 0
                    }
                }
                var L = q.Wz,
                    N = q.Sl,
                    A = q.r2,
                    F = q.ND,
                    I = q.XS,
                    s = q.uu,
                    u = new Array(L * 2),
                    g = new Array(L * 2),
                    U = new Array(L),
                    r = new Array(3),
                    M, x, C, p, H, gl, ie, fk, h5, cf, f;
                q.lp = new o(L);
                for (M = 0; M < L; M++) {
                    x = N[h(M + 1, L)];
                    x = h(x - N[M], A) + N[M];
                    u[M << 1] = 0;
                    u[(M << 1) + 1] = 0;
                    g[M << 1] = 0;
                    g[(M << 1) + 1] = 0;
                    T(q, N[M], x, u, g, M << 1)
                }
                for (M = 0; M < L; M++) {
                    U[M] = [0, 0, 0, 0, 0, 0, 0, 0, 0];
                    var l = g[M << 1] * g[M << 1] + g[(M << 1) + 1] * g[(M << 1) + 1],
                        c = 1 / l;
                    if (l != 0) {
                        r[0] = g[(M << 1) + 1];
                        r[1] = -g[M << 1];
                        r[2] = -r[1] * u[(M << 1) + 1] - r[0] * u[M << 1];
                        for (p = 0; p < 3; p++) {
                            U[M][p * 3 + 0] = r[p] * r[0] * c;
                            U[M][p * 3 + 1] = r[p] * r[1] * c;
                            U[M][p * 3 + 2] = r[p] * r[2] * c
                        }
                    }
                }
                var t = [0, 0, 0, 0, 0, 0, 0, 0, 0];
                for (M = 0; M < L; M++) {
                    t[0] = t[1] = t[2] = t[3] = t[4] = t[5] = t[6] = t[7] = t[8] = t[9] = 0;
                    var aH = F[N[M] << 1] - I,
                        gY = F[(N[M] << 1) + 1] - s,
                        cC = 0,
                        cY = 0;
                    x = h(M - 1, L);
                    for (p = 0; p < 9; p += 3) {
                        t[p + 0] = U[x][p + 0] + U[M][p + 0];
                        t[p + 1] = U[x][p + 1] + U[M][p + 1];
                        t[p + 2] = U[x][p + 2] + U[M][p + 2]
                    }
                    while (1) {
                        var gJ = t[0] * t[4] - t[1] * t[3];
                        if (gJ != 0) {
                            cC = (-t[2] * t[4] + t[5] * t[0]) / gJ;
                            cY = (t[2] * t[3] - t[5] * t[0]) / gJ;
                            break
                        }
                        if (t[0] > t[4]) {
                            r[0] = -t[1];
                            r[1] = t[0]
                        } else if (t[4]) {
                            r[0] = -t[4];
                            r[1] = t[3]
                        } else {
                            r[0] = 1;
                            r[1] = 0
                        }
                        var l = r[0] * r[0] + r[1] * r[1],
                            c = 1 / l;
                        r[2] = -r[1] * gY - r[0] * aH;
                        for (p = 0; p < 3; p++) {
                            t[p * 3 + 0] += r[p] * r[0] * c;
                            t[p * 3 + 1] += r[p] * r[1] * c;
                            t[p * 3 + 2] += r[p] * r[2] * c
                        }
                    }
                    H = Math.abs(cC - aH);
                    gl = Math.abs(cY - gY);
                    if (H <= .5 && gl <= .5) {
                        q.lp.lA[M << 1] = cC + I;
                        q.lp.lA[(M << 1) + 1] = cY + s;
                        continue
                    }
                    ie = J(t, aH, gY);
                    h5 = aH;
                    cf = gY;
                    if (t[0] != 0) {
                        for (f = 0; f < 2; f++) {
                            cY = gY - .5 + f;
                            cC = -(t[1] * cY + t[2]) / t[0];
                            H = Math.abs(cC - aH);
                            fk = J(t, cC, cY);
                            if (H <= .5 && fk < ie) {
                                ie = fk;
                                h5 = cC;
                                cf = cY
                            }
                        }
                    }
                    if (t[4] != 0) {
                        for (f = 0; f < 2; f++) {
                            cC = aH - .5 + f;
                            cY = -(t[3] * cC + t[5]) / t[4];
                            gl = Math.abs(cY - gY);
                            fk = J(t, cC, cY);
                            if (gl <= .5 && fk < ie) {
                                ie = fk;
                                h5 = cC;
                                cf = cY
                            }
                        }
                    }
                    for (p = 0; p < 2; p++) {
                        for (C = 0; C < 2; C++) {
                            cC = aH - .5 + p;
                            cY = gY - .5 + C;
                            fk = J(t, cC, cY);
                            if (fk < ie) {
                                ie = fk;
                                h5 = cC;
                                cf = cY
                            }
                        }
                    }
                    q.lp.lA[M << 1] = h5 + I;
                    q.lp.lA[(M << 1) + 1] = cf + s
                }
            }

            function G(q) {
                var T = q.lp.xP,
                    L = q.lp,
                    M, N, F, I, s, u, g, U, r;
                for (M = 0; M < T; M++) {
                    N = h(M + 1, T);
                    F = h(M + 2, T);
                    var x = L.lA[M << 1],
                        C = L.lA[(M << 1) + 1],
                        p = L.lA[F << 1],
                        l = L.lA[(F << 1) + 1],
                        c = L.lA[N << 1],
                        t = L.lA[(N << 1) + 1],
                        H = i(.5, p, c),
                        gl = i(.5, l, t);
                    s = k(x, C, p, l);
                    if (s != 0) {
                        I = e(c - x, t - C, p - x, l - C) / s;
                        I = Math.abs(I);
                        u = I > 1 ? 1 - 1 / I : 0;
                        u = u * (1 / .75)
                    } else {
                        u = 4 / 3
                    }
                    L.oQ[N] = u;
                    var ie = 3 * N << 1;
                    if (u >= R.aeD) {
                        L.AP[N] = 0;
                        L.Lu[ie + 0] = L.Lu[ie + 1] = 0;
                        L.Lu[ie + 2] = c;
                        L.Lu[ie + 3] = t;
                        L.Lu[ie + 4] = H;
                        L.Lu[ie + 5] = gl
                    } else {
                        if (u < .55) {
                            u = .55
                        } else if (u > 1) {
                            u = 1
                        }
                        var fk = .5 + .5 * u;
                        L.AP[N] = 1;
                        L.Lu[ie] = i(fk, x, c);
                        L.Lu[ie + 1] = i(fk, C, t);
                        L.Lu[ie + 2] = i(fk, p, c);
                        L.Lu[ie + 3] = i(fk, l, t);
                        L.Lu[ie + 4] = H;
                        L.Lu[ie + 5] = gl
                    }
                    L.alpha[N] = u;
                    L.BB[N] = .5
                }
                L.aaR = 1
            }

            function D(q) {
                function T() {
                    this.Dy = 0;
                    this.h6 = 0;
                    this.S5 = 0;
                    this.E$ = 0;
                    this.vZ = 0;
                    this.Ve = 0;
                    this.sa = 0;
                    this.alpha = 0
                }

                function L(q, M, x, a$, hH, h5, cf) {
                    var F = q.lp.xP,
                        bq = q.lp.Lu,
                        dq = q.lp.lA;
                    if (M == x) return 1;
                    var g9 = M,
                        c = h(M + 1, F),
                        cx = h(g9 + 1, F),
                        gS = dq[M << 1],
                        aq = dq[(M << 1) + 1],
                        hp = dq[c << 1],
                        b0 = dq[(c << 1) + 1],
                        bh = h5[cx];
                    if (bh == 0) return 1;
                    var hA = $(gS - hp, aq - b0);
                    for (g9 = cx; g9 != x; g9 = cx) {
                        var cx = h(g9 + 1, F),
                            ft = h(g9 + 2, F),
                            c6 = dq[cx << 1],
                            ba = dq[(cx << 1) + 1],
                            f7 = dq[ft << 1],
                            an = dq[(ft << 1) + 1];
                        if (h5[cx] != bh) return 1;
                        if (Math.sign(e(hp - gS, b0 - aq, f7 - c6, an - ba)) != bh) return 1;
                        if (Z(hp - gS, b0 - aq, f7 - c6, an - ba) < hA * $(c6 - f7, ba - an) * -.999847695156) return 1
                    }
                    var b5 = h(M, F) * 3 + 2 << 1,
                        hG = h(M + 1, F) << 1,
                        eE = h(x, F) << 1,
                        aV = h(x, F) * 3 + 2 << 1,
                        bM = bq[b5],
                        cN = bq[b5 + 1],
                        dp = dq[hG],
                        en = dq[hG + 1],
                        f1 = dq[eE],
                        de = dq[eE + 1],
                        dM = bq[aV],
                        ih = bq[aV + 1],
                        f = dq[0],
                        aH = dq[1];
                    b5 = x * 3 + 2 << 1;
                    var fa = bq[b5],
                        eI = bq[b5 + 1],
                        t = cf[x] - cf[M];
                    t -= e(fa - f, eI - aH, fa - f, eI - aH) / 2;
                    if (M >= x) {
                        t += cf[F]
                    }
                    var gR = dp - bM,
                        hk = en - cN,
                        d3 = f1 - bM,
                        iB = de - cN,
                        gk = dM - bM,
                        d$ = ih - cN,
                        hx = e(gR, hk, d3, iB),
                        bz = e(gR, hk, gk, d$),
                        hY = e(d3, iB, gk, d$),
                        fL = hx + hY - bz;
                    if (bz == hx) return 1;
                    var fk = hY / (hY - fL),
                        ie = bz / (bz - hx),
                        c4 = bz * fk / 2;
                    if (c4 == 0) return 1;
                    var dF = t / c4,
                        H = 2 - Math.sqrt(4 - dF / .3);
                    a$.h6 = i(fk * H, bM, dp);
                    a$.S5 = i(fk * H, cN, en);
                    a$.E$ = i(ie * H, dM, f1);
                    a$.vZ = i(ie * H, ih, de);
                    a$.alpha = H;
                    a$.Ve = fk;
                    a$.sa = ie;
                    dp = a$.h6;
                    en = a$.S5;
                    f1 = a$.E$;
                    de = a$.vZ;
                    a$.Dy = 0;
                    for (g9 = h(M + 1, F); g9 != x; g9 = cx) {
                        cx = h(g9 + 1, F);
                        var co = dq[g9 << 1],
                            dg = dq[(g9 << 1) + 1],
                            c6 = dq[cx << 1],
                            ba = dq[(cx << 1) + 1];
                        fk = j(dp - bM, en - cN, f1 - dp, de - en, dM - f1, ih - de, c6 - co, ba - dg);
                        if (fk < -.5) return 1;
                        var bL = n(fk, bM, dp, f1, dM),
                            bg = n(fk, cN, en, de, ih),
                            hA = $(c6 - co, ba - dg);
                        if (hA == 0) return 1;
                        var fy = e(c6 - co, ba - dg, bL - co, bg - dg) / hA;
                        if (Math.abs(fy) > hH) return 1;
                        if (Z(c6 - co, ba - dg, bL - co, bg - dg) < 0 || Z(co - c6, dg - ba, bL - c6, bg - ba) < 0) {
                            return 1
                        }
                        a$.Dy += fy * fy
                    }
                    for (g9 = M; g9 != x; g9 = cx) {
                        cx = h(g9 + 1, F);
                        var b5 = g9 * 3 + 2 << 1,
                            hG = cx * 3 + 2 << 1,
                            bH = bq[b5],
                            e7 = bq[b5 + 1],
                            ep = bq[hG],
                            eV = bq[hG + 1];
                        fk = j(dp - bM, en - cN, f1 - dp, de - en, dM - f1, ih - de, ep - bH, eV - e7);
                        if (fk < -.5) return 1;
                        var bL = n(fk, bM, dp, f1, dM),
                            bg = n(fk, cN, en, de, ih),
                            hA = $(ep - bH, eV - e7);
                        if (hA == 0) return 1;
                        var fy = e(ep - bH, eV - e7, bL - bH, bg - e7) / hA,
                            d9 = e(ep - bH, eV - e7, dq[cx << 1] - bH, dq[(cx << 1) + 1] - e7) / hA;
                        d9 *= .75 * q.lp.alpha[cx];
                        if (d9 < 0) {
                            fy = -fy;
                            d9 = -d9
                        }
                        if (fy < d9 - hH) return 1;
                        if (fy < d9) {
                            a$.Dy += (fy - d9) * (fy - d9)
                        }
                    }
                    return 0
                }
                var N = q.lp,
                    F = N.xP,
                    I = N.lA,
                    s = new Array(F + 1),
                    u = new Array(F + 1),
                    g = new Array(F + 1),
                    U = new Array(F + 1),
                    r, M, x, C, p = new T,
                    l, c, t, H, gl, ie, fk, h5 = new Array(F),
                    cf = new Array(F + 1);
                for (M = 0; M < F; M++) {
                    if (N.AP[M] == "CURVE") {
                        var f = I[h(M - 1, F) << 1],
                            aH = I[(h(M - 1, F) << 1) + 1],
                            gY = I[M << 1],
                            cC = I[(M << 1) + 1],
                            cY = I[h(M + 1, F) << 1],
                            gJ = I[(h(M + 1, F) << 1) + 1];
                        h5[M] = Math.sign(e(gY - f, cC - aH, cY - gY, gJ - cC))
                    } else {
                        h5[M] = 0
                    }
                }
                t = 0;
                cf[0] = 0;
                var bM = N.lA[0],
                    cN = N.lA[1];
                for (M = 0; M < F; M++) {
                    c = h(M + 1, F);
                    if (N.AP[c] == "CURVE") {
                        H = N.alpha[c];
                        var eu = M * 3 + 2 << 1,
                            cU = c * 3 + 2 << 1,
                            h7 = N.Lu[eu],
                            hn = N.Lu[eu + 1],
                            gS = I[c << 1],
                            aq = I[(c << 1) + 1],
                            ef = N.Lu[cU],
                            dU = N.Lu[cU + 1];
                        t += .3 * H * (4 - H) * e(gS - h7, aq - hn, ef - h7, dU - hn) / 2;
                        t += e(h7 - bM, hn - cN, ef - bM, dU - cN) / 2
                    }
                    cf[M + 1] = t
                }
                s[0] = -1;
                u[0] = 0;
                g[0] = 0;
                for (x = 1; x <= F; x++) {
                    s[x] = x - 1;
                    u[x] = u[x - 1];
                    g[x] = g[x - 1] + 1;
                    for (M = x - 2; M >= 0; M--) {
                        C = L(q, M, h(x, F), p, R.agI, h5, cf);
                        if (C) {
                            break
                        }
                        if (g[x] > g[M] + 1 || g[x] == g[M] + 1 && u[x] > u[M] + p.Dy) {
                            s[x] = M;
                            u[x] = u[M] + p.Dy;
                            g[x] = g[M] + 1;
                            U[x] = p;
                            p = new T
                        }
                    }
                }
                r = g[F];
                gl = new o(r);
                ie = new Array(r);
                fk = new Array(r);
                x = F;
                for (M = r - 1; M >= 0; M--) {
                    var hO = h(x, F),
                        ao = M * 3 + 0 << 1,
                        hI = hO * 3 + 0 << 1;
                    if (s[x] == x - 1) {
                        gl.AP[M] = N.AP[hO];
                        gl.Lu[ao] = N.Lu[hI];
                        gl.Lu[ao + 1] = N.Lu[hI + 1];
                        gl.Lu[ao + 2] = N.Lu[hI + 2];
                        gl.Lu[ao + 3] = N.Lu[hI + 3];
                        gl.Lu[ao + 4] = N.Lu[hI + 4];
                        gl.Lu[ao + 5] = N.Lu[hI + 5];
                        gl.lA[M << 1] = N.lA[hO << 1];
                        gl.lA[(M << 1) + 1] = N.lA[(hO << 1) + 1];
                        gl.alpha[M] = N.alpha[hO];
                        gl.oQ[M] = N.oQ[hO];
                        gl.BB[M] = N.BB[hO];
                        ie[M] = fk[M] = 1
                    } else {
                        gl.AP[M] = "CURVE";
                        gl.Lu[ao] = U[x].h6;
                        gl.Lu[ao + 1] = U[x].S5;
                        gl.Lu[ao + 2] = U[x].E$;
                        gl.Lu[ao + 3] = U[x].vZ;
                        gl.Lu[ao + 4] = N.Lu[hI + 4];
                        gl.Lu[ao + 5] = N.Lu[hI + 5];
                        gl.lA[M << 1] = i(U[x].sa, N.Lu[hI + 4], I[hO << 1]);
                        gl.lA[(M << 1) + 1] = i(U[x].sa, N.Lu[hI + 5], I[(hO << 1) + 1]);
                        gl.alpha[M] = U[x].alpha;
                        gl.oQ[M] = U[x].alpha;
                        ie[M] = U[x].sa;
                        fk[M] = U[x].Ve
                    }
                    x = s[x]
                }
                for (M = 0; M < r; M++) {
                    c = h(M + 1, r);
                    gl.BB[M] = ie[M] / (ie[M] + fk[c])
                }
                gl.aaR = 1;
                q.lp = gl
            }
            for (var M = 0; M < b.length; M++) {
                var q = b[M];
                y(q);
                V(q);
                O(q);
                S(q);
                G(q);
                if (R.abx) D(q)
            }
        }
        return {
            anx: Q,
            aib: K
        }
    }();
    es.SJ = function(w, o, Q, K) {
        var b = {
                dm: "minority",
                amO: K,
                abx: !0,
                aeD: 1,
                agI: .2
            },
            R = es.anx(w, o, Q, b);
        es.aib(R, b);
        return R
    };
    es.a$ = function(w) {
        var o = [];
        for (var M = 0; M < w.length; M++) {
            var Q = w[M],
                K = Q.lp,
                b = ["M"],
                R = [K.Lu[(K.xP - 1) * 6 + 4], K.Lu[(K.xP - 1) * 6 + 5]];
            for (var X = 0; X < K.xP; X++) {
                var h = X * 6;
                if (K.AP[X] == 1) {
                    b.push("C");
                    for (var e = 0; e < 6; e++) R.push(K.Lu[h + e])
                } else if (K.AP[X] == 0) {
                    b.push("L");
                    for (var e = 2; e < 4; e++) R.push(K.Lu[h + e])
                }
            }
            b.push("Z");
            o.push({
                parent: Q.parent,
                color: Q.color,
                path: {
                    X: R,
                    Y: b
                }
            })
        }
        return o
    };
    es.aez = function(w, o, Q, K, b) {
        function R($) {
            function n(M) {
                var k = "C " + ($.Lu[M * 3 + 0 << 1] * o).toFixed(1) + " " + ($.Lu[(M * 3 + 0 << 1) + 1] * o).toFixed(1) + ",";
                k += ($.Lu[M * 3 + 1 << 1] * o).toFixed(1) + " " + ($.Lu[(M * 3 + 1 << 1) + 1] * o).toFixed(1) + ",";
                k += ($.Lu[M * 3 + 2 << 1] * o).toFixed(1) + " " + ($.Lu[(M * 3 + 2 << 1) + 1] * o).toFixed(1) + " ";
                return k
            }

            function j(M) {
                var V = "L " + ($.Lu[M * 3 + 1 << 1] * o).toFixed(1) + " " + ($.Lu[(M * 3 + 1 << 1) + 1] * o).toFixed(1) + " ";
                V += ($.Lu[M * 3 + 2 << 1] * o).toFixed(1) + " " + ($.Lu[(M * 3 + 2 << 1) + 1] * o).toFixed(1) + " ";
                return V
            }
            var A = $.xP,
                M, y = "M" + ($.Lu[(A - 1) * 3 + 2 << 1] * o).toFixed(1) + " " + ($.Lu[((A - 1) * 3 + 2 << 1) + 1] * o).toFixed(1) + " ";
            for (M = 0; M < A; M++) {
                if ($.AP[M] == 1) {
                    y += n(M)
                } else if ($.AP[M] == 0) {
                    y += j(M)
                }
            }
            return y
        }
        var Q = Q * o,
            K = K * o,
            X = w.length,
            h = [];
        for (var M = 0; M < 256; M++) h.push("rgb(" + Math.floor(Math.random() * 255) + "," + Math.floor(Math.random() * 255) + "," + Math.floor(Math.random() * 255) + ")");
        var e = "<svg id=\"svg\" version=\"1.1\" width=\"" + Q + "\" height=\"" + K + "\" xmlns=\"http://www.w3.org/2000/svg\">";
        for (var M = 0; M < X; M++) {
            var Z = b[w[M].color - 1].amp.S2;
            if ((Z >>> 24 & 255) == 0) continue;
            e += "<path d=\"";
            var P = w[M].lp;
            e += R(P);
            var J = Z >> 0 & 255,
                i = Z >> 8 & 255,
                k = Z >> 16 & 255,
                Z = "rgb(" + J + "," + i + "," + k + ")";
            e += "\" fill=\"" + Z + "\" fill-rule=\"evenodd\"/>"
        }
        e += "</svg>";
        return e
    };
    es.a3e = function(w, o, Q) {
        var A = w.length >> 1,
            K, b = w[2 * A - 3] - Q,
            R = w[2 * A - 2] - o,
            X = w[2 * A - 1] - Q,
            h = X > b,
            e = 0;
        for (var M = 0; M < A; M++) {
            K = R;
            b = X;
            R = w[2 * M] - o;
            X = w[2 * M + 1] - Q;
            if (b == X) continue;
            h = X > b
        }
        for (var M = 0; M < A; M++) {
            K = R;
            b = X;
            R = w[2 * M] - o;
            X = w[2 * M + 1] - Q;
            if (b < 0 && X < 0) continue;
            if (b > 0 && X > 0) continue;
            if (K < 0 && R < 0) continue;
            if (b == X && Math.min(K, R) <= 0) return !0;
            if (b == X) continue;
            var Z = K + (R - K) * -b / (X - b);
            if (Z == 0) return !0;
            if (Z > 0) e++;
            if (b == 0 && h && X > b) e--;
            if (b == 0 && !h && X < b) e--;
            h = X > b
        }
        return (e & 1) == 1
    };
    es.fill = function(w, o, Q, K) {
        var b = o[w],
            R = [w],
            X = 0;
        while (X < R.length) {
            var h = R[X];
            X++;
            o[h] = K;
            if (o[h - Q] == b) {
                R.push(h - Q);
                o[h - Q] = 254
            }
            if (o[h - 1] == b) {
                R.push(h - 1);
                o[h - 1] = 254
            }
            if (o[h + 1] == b) {
                R.push(h + 1);
                o[h + 1] = 254
            }
            if (o[h + Q] == b) {
                R.push(h + Q);
                o[h + Q] = 254
            }
        }
    };
    var d = {};
    d.cv = !1;
    d.uy = !1;
    d.V1 = !1;
    d.Q8 = document.createElement("canvas");
    d.H3 = null;
    d.J_ = null;
    d.Re = 0;
    (function() {
        var w = {
                alpha: !0,
                antialias: !1,
                depth: !1,
                premultipliedAlpha: !1
            },
            o;
        if (!o) o = d.Q8.getContext("webgl", w);
        if (!o) o = d.Q8.getContext("experimental-webgl", w);
        if (o) {
            d.cv = !0;
            d.uy = !0;
            d.H3 = o;
            d.J_ = o.createFramebuffer();
            o.bindFramebuffer(o.FRAMEBUFFER, d.J_);
            o.disable(o.BLEND);
            o.disable(o.DEPTH_TEST);
            var Q = o.createBuffer();
            o.bindBuffer(o.ARRAY_BUFFER, Q);
            o.bufferData(o.ARRAY_BUFFER, new Float32Array([0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1]), o.STATIC_DRAW);
            o.enableVertexAttribArray(0);
            o.vertexAttribPointer(0, 2, o.FLOAT, !1, 0, 0)
        }
    }());
    d.a0o = function(w) {
        w = w.replace(/\s\s+/g, " ");
        w = w.replace(/; /g, ";");
        w = w.replace(/} /g, "}");
        w = w.replace(/ }/g, "}");
        w = w.replace(/{ /g, "{");
        w = w.replace(/ {/g, "{");
        w = w.replace(/= /g, "=");
        w = w.replace(/ =/g, "=");
        w = w.replace(/\| /g, "|");
        w = w.replace(/ \|/g, "|");
        return w
    };
    d.abK = function(w) {
        var o = d.H3;
        if (w > o.getParameter(o.MAX_TEXTURE_SIZE)) {
            d.cv = !1;
            alert("Disabling WebGL")
        }
    };
    d.iE = function(w, o) {
        return new Float32Array([(w.x - o.x) / o.D, (w.y - o.y) / o.j, w.D / o.D, w.j / o.j])
    };
    d.Ww = function() {
        return this.Q8
    };
    d.Qy = function(w, o) {
        var Q = d.H3;
        Q.bindFramebuffer(Q.FRAMEBUFFER, d.J_);
        Q.framebufferTexture2D(Q.FRAMEBUFFER, Q.COLOR_ATTACHMENT0, Q.TEXTURE_2D, w.$Y, 0);
        Q.viewport(0, 0, w.D, w.j);
        if (o) {
            Q.enable(Q.SCISSOR_TEST);
            Q.scissor(o.x, o.y, o.D, o.j)
        } else Q.disable(Q.SCISSOR_TEST)
    };
    d.Kg = function(w, o, Q) {
        if (Q) throw "error";
        var K = d.H3;
        K.disable(K.SCISSOR_TEST);
        K.bindFramebuffer(K.FRAMEBUFFER, null);
        K.viewport(0, 0, w, o);
        if (Q) {
            K.enable(K.SCISSOR_TEST);
            K.scissor(Q.x, Q.y, Math.round(Q.D), Math.round(Q.j))
        } else K.disable(K.SCISSOR_TEST)
    };
    d.clear = function() {
        var w = d.H3;
        w.clearColor(0, 0, 0, 0);
        w.clear(w.COLOR_BUFFER_BIT)
    };
    d.V3 = function(w, o) {
        if (o == null) o = 0;
        var Q = (o >>> 0 & 255) == 0,
            K = (o >>> 8 & 255) == 0,
            b = (o >>> 16 & 255) == 0,
            R = (o >>> 24 & 255) == 0,
            X = (w >>> 0 & 255) * (1 / 255),
            h = (w >>> 8 & 255) * (1 / 255),
            e = (w >>> 16 & 255) * (1 / 255),
            Z = (w >>> 24 & 255) * (1 / 255),
            P = d.H3;
        P.colorMask(Q, K, b, R);
        P.clearColor(X, h, e, Z);
        P.clear(P.COLOR_BUFFER_BIT);
        P.colorMask(!0, !0, !0, !0)
    };
    d.XF = function(w, o, Q, K, b) {
        var R = o.z2(K);
        if (b) R = R.z2(b);
        if (R.Kx()) return;
        var X = d.H3;
        d.Qy(w);
        X.bindTexture(X.TEXTURE_2D, Q.$Y);
        X.copyTexSubImage2D(X.TEXTURE_2D, 0, R.x - K.x, R.y - K.y, R.x - o.x, R.y - o.y, R.D, R.j)
    };
    d.Ap = function(M, w, o) {
        var Q = d.N2[M];
        if (Q == null || Q.D != w || Q.j != o) {
            if (Q) Q.delete();
            Q = new d.Dz(w, o)
        }
        d.N2[M] = Q;
        return Q
    };
    d.N2 = [];
    d.RZ = function() {
        this.yU = null;
        this.Zj = null
    };
    d.RZ.eL = null;
    d.RZ.prototype.VP = function(w) {
        if (this.Zj) return;
        this.Zj = {};
        var o = d.H3,
            Q = this.yU,
            K = this.Zj;
        for (var M = 0; M < w.length; M++) {
            var b = w[M];
            K[b] = o.getUniformLocation(Q, b)
        }
    };
    d.RZ.prototype.u7 = function() {};
    d.RZ.prototype.P6 = function(w) {
        var o = d.H3;
        for (var M = 0; M < w.length; M += 2) {
            o.uniform1i(w[M], M >>> 1);
            o.activeTexture(o["TEXTURE" + (M >>> 1)]);
            o.bindTexture(o.TEXTURE_2D, w[M + 1])
        }
        o.activeTexture(o.TEXTURE0)
    };
    d.RZ.prototype.c6 = function(w, o) {
        var Q = d.H3,
            K = Q.createShader(Q.FRAGMENT_SHADER);
        Q.shaderSource(K, w);
        Q.compileShader(K);
        if (!Q.getShaderParameter(K, Q.COMPILE_STATUS)) console.log(Q.getShaderInfoLog(K));
        var b = Q.createShader(Q.VERTEX_SHADER);
        Q.shaderSource(b, o);
        Q.compileShader(b);
        if (!Q.getShaderParameter(b, Q.COMPILE_STATUS)) console.log(Q.getShaderInfoLog(b));
        var R = Q.createProgram();
        Q.attachShader(R, b);
        Q.attachShader(R, K);
        Q.linkProgram(R);
        if (!Q.getProgramParameter(R, Q.LINK_STATUS)) console.log("Could not initialise shaders");
        this.yU = R
    };
    d.RZ.prototype.po = function() {
        if (d.RZ.eL != this) {
            d.H3.useProgram(this.yU);
            d.RZ.eL = this
        }
    };
    d.Zb = function(w, o) {
        d.Yw++;
        d.Re += w * o;
        if (d.V1) console.log("GL.Channels instances: " + d.Yw + ", memory: " + d.Re);
        var Q = d.H3;
        this.D = w;
        this.j = o;
        this.$Y = Q.createTexture();
        this.ts = null;
        this.XY(this.$Y, w, o)
    };
    d.Zb.prototype.XY = function(w, o, Q) {
        var K = d.H3;
        K.bindTexture(K.TEXTURE_2D, w);
        K.texParameteri(K.TEXTURE_2D, K.TEXTURE_MIN_FILTER, K.NEAREST);
        K.texParameteri(K.TEXTURE_2D, K.TEXTURE_MAG_FILTER, K.NEAREST);
        K.texParameteri(K.TEXTURE_2D, K.TEXTURE_WRAP_S, K.CLAMP_TO_EDGE);
        K.texParameteri(K.TEXTURE_2D, K.TEXTURE_WRAP_T, K.CLAMP_TO_EDGE);
        K.texImage2D(K.TEXTURE_2D, 0, K.ALPHA, o, Q, 0, K.ALPHA, K.UNSIGNED_BYTE, null)
    };
    d.Zb.prototype.set = function(w) {
        var o = d.H3;
        o.bindTexture(o.TEXTURE_2D, this.$Y);
        o.pixelStorei(o.UNPACK_ALIGNMENT, 1);
        o.texImage2D(o.TEXTURE_2D, 0, o.ALPHA, this.D, this.j, 0, o.ALPHA, o.UNSIGNED_BYTE, w);
        o.pixelStorei(o.UNPACK_ALIGNMENT, 4)
    };
    d.Zb.prototype.delete = function() {
        var w = d.H3;
        if (this.$Y) {
            w.deleteTexture(this.$Y);
            d.Yw--;
            d.Re -= this.D * this.j
        }
        if (d.V1)
            if (d.V1) console.log("GL.Channels instances: " + d.Yw + ", memory: " + d.Re * 4)
    };
    d.Yw = 0;
    d.Dz = function(w, o, Q) {
        if (Q == null) Q = !1;
        d.Yw++;
        d.Re += w * o * 4;
        if (d.V1) console.log("GL.Channels instances: " + d.Yw + ", memory: " + d.Re);
        var K = d.H3;
        this.akr = Q;
        this.D = w;
        this.j = o;
        this.$Y = K.createTexture();
        this.ts = null;
        this.XY(this.$Y, w, o)
    };
    d.Dz.prototype.set = function(w, o) {
        var Q = d.H3;
        Q.disable(Q.SCISSOR_TEST);
        Q.bindTexture(Q.TEXTURE_2D, this.$Y);
        if (w == null || w instanceof Uint8Array) {
            var K = this.D * this.j;
            if (o == null || o.O() * 10 > K) Q.texImage2D(Q.TEXTURE_2D, 0, Q.RGBA, this.D, this.j, 0, Q.RGBA, Q.UNSIGNED_BYTE, w);
            else {
                var b = v.$(o.O() * 4);
                v.c1(w, new B(0, 0, this.D, this.j), b, o);
                Q.texSubImage2D(Q.TEXTURE_2D, 0, o.x, o.y, o.D, o.j, Q.RGBA, Q.UNSIGNED_BYTE, b)
            }
        } else Q.texImage2D(Q.TEXTURE_2D, 0, Q.RGBA, Q.RGBA, Q.UNSIGNED_BYTE, w)
    };
    d.Dz.prototype.get = function(w) {
        var o = d.H3;
        d.Qy(this);
        o.readPixels(0, 0, this.D, this.j, o.RGBA, o.UNSIGNED_BYTE, w)
    };
    d.Dz.prototype.zO = function(w) {
        if (w.Kx()) return;
        var o = d.H3;
        if (this.ts == null) {
            this.ts = o.createTexture();
            this.XY(this.ts, this.D, this.j);
            d.Yw++;
            d.Re += this.D * this.j * 4
        }
        o.bindFramebuffer(o.FRAMEBUFFER, d.J_);
        o.bindTexture(o.TEXTURE_2D, this.ts);
        if (w) {
            var Q = Math.max(w.x, 0),
                K = Math.max(w.y, 0);
            o.copyTexSubImage2D(o.TEXTURE_2D, 0, Q, K, Q, K, w.D, w.j)
        } else o.copyTexImage2D(o.TEXTURE_2D, 0, o.RGBA, 0, 0, this.D, this.j, 0)
    };
    d.Dz.prototype.XY = function(w, o, Q) {
        var K = d.H3;
        K.bindTexture(K.TEXTURE_2D, w);
        K.texParameteri(K.TEXTURE_2D, K.TEXTURE_MIN_FILTER, this.akr ? K.LINEAR : K.NEAREST);
        K.texParameteri(K.TEXTURE_2D, K.TEXTURE_MAG_FILTER, K.NEAREST);
        K.texParameteri(K.TEXTURE_2D, K.TEXTURE_WRAP_S, K.CLAMP_TO_EDGE);
        K.texParameteri(K.TEXTURE_2D, K.TEXTURE_WRAP_T, K.CLAMP_TO_EDGE);
        K.texImage2D(K.TEXTURE_2D, 0, K.RGBA, o, Q, 0, K.RGBA, K.UNSIGNED_BYTE, null)
    };
    d.Dz.prototype.delete = function() {
        var w = d.H3;
        if (this.$Y) {
            w.deleteTexture(this.$Y);
            d.Yw--;
            d.Re -= this.D * this.j * 4
        }
        if (this.ts) {
            w.deleteTexture(this.ts);
            d.Yw--;
            d.Re -= this.D * this.j * 4
        }
        if (d.V1)
            if (d.V1) console.log("GL.Channels instances: " + d.Yw + ", memory: " + d.Re)
    };
    d.Dz.prototype.clone = function() {
        var w = d.H3,
            o = new d.Dz(this.D, this.j);
        d.Qy(this);
        w.bindTexture(w.TEXTURE_2D, o.$Y);
        w.copyTexImage2D(w.TEXTURE_2D, 0, w.RGBA, 0, 0, this.D, this.j, 0);
        return o
    };
    d.oR = {
        amg: "  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",
        a7L: "  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",
        GC: "const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",
        Pd: " float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",
        oh: " float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",
        Yx: "float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",
        uE: "float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",
        N4: "vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",
        adL: "float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",
        tH: "vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",
        abk: "vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",
        E0: "vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",
        Bl: "bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",
        hash: "float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",
        uX: "vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",
        a2: "vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",
        gg: "float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",
        Zd: "vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",
        rp: "vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",
        TP: "\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",
        Vo: "\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"
    };
    d.uQ = {
        kD: {},
        MX: "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"
    };
    d.uQ.fg = function(w, o) {
        var Q = au.WB,
            K = [Q.nx, Q.Zq, Q.Mf, Q.ux, Q.D_, Q.b5, Q.MB, Q.Xu].indexOf(w.type),
            b = d.uQ.kD[w.type];
        if (b == null) b = d.uQ.kD[w.type] = new d.kD[K];
        b.po();
        b.u7(o, w);
        d.H3.drawArrays(d.H3.TRIANGLES, 0, 6)
    };
    d.kD = [];
    d.kD[0] = function() {
        d.RZ.call(this);
        this.h1 = {};
        var w = "\t\t\tprecision mediump float;\t\t\t" + d.oR.uE + "\t\t\t" + d.oR.GC + "\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
        this.c6(w, d.uQ.MX)
    };
    d.kD[0].prototype = new d.RZ;
    d.kD[0].prototype.u7 = function(w, o) {
        var Q = {
                W: o.Sw,
                a: o.eH,
                k: o.ae,
                K: v.$(o.Sw.length)
            },
            K = Q.W.length;
        if (this.h1["m" + K] == null) {
            this.h1["m" + K] = {
                a0C: new d.Dz(K, 1),
                Sg: v.$(K * 4)
            }
        }
        var b = this.h1["m" + K];
        v.GW(Q, b.Sg, 0);
        var R = b.a0C;
        R.set(b.Sg);
        this.VP(["source", "map", "toGray", "presLum"]);
        var X = d.H3,
            h = this.Zj;
        X.uniform1f(h.toGray, o.cB ? 1 : 0);
        X.uniform1f(h.presLum, o.wS ? 1 : 0);
        this.P6([h.source, w, h.map, R.$Y])
    };
    d.kD[1] = function() {
        d.RZ.call(this);
        this.qt = new d.Dz(256, 1);
        this.Cv = v.$(256 * 4);
        var w = "\t\t\t\tprecision mediump float;\t\t\t\t" + d.oR.gg + "\t\t\t\t" + d.oR.uX + "\t\t\t\t" + d.oR.a2 + "\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
        this.c6(w, d.uQ.MX)
    };
    d.kD[1].prototype = new d.RZ;
    d.kD[1].prototype.u7 = function(w, o) {
        v.GW({
            W: o.X5,
            a: o.IB,
            k: o.iy,
            K: v.$(256)
        }, this.Cv);
        this.qt.set(this.Cv);
        this.VP(["source", "map", "cfa", "cfb", "colorize"]);
        var Q = d.H3,
            K = this.Zj;
        Q.uniform1f(K.cfa, o.GR);
        Q.uniform1f(K.cfb, o.T8);
        Q.uniform1i(K.colorize, o.Rl);
        this.P6([K.source, w, K.map, this.qt.$Y])
    };
    d.kD[2] = function() {
        d.RZ.call(this);
        var w = "\t\t\tprecision mediump float;\t\t\t" + d.oR.gg + "\t\t\t" + d.oR.Zd + "\t\t\t" + d.oR.rp + "\t\t\t" + d.oR.uX + "\t\t\t" + d.oR.a2 + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
        this.c6(w, d.uQ.MX)
    };
    d.kD[2].prototype = new d.RZ;
    d.kD[2].prototype.u7 = function(w, o) {
        this.VP(["source", "vib", "sat"]);
        var Q = d.H3,
            K = this.Zj;
        Q.uniform1f(K.vib, o.pO[0] / 100);
        Q.uniform1f(K.sat, o.pO[1] / 100);
        this.P6([K.source, w])
    };
    d.kD[3] = function() {
        d.RZ.call(this);
        var w = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
        this.c6(w, d.uQ.MX)
    };
    d.kD[3].prototype = new d.RZ;
    d.kD[3].prototype.u7 = function(w, o) {
        this.VP(["source", "trf"]);
        var Q = d.H3,
            K = this.Zj;
        Q.uniformMatrix4fv(K.trf, !1, new Float32Array(v.AU.o6(o.M1)));
        this.P6([K.source, w])
    };
    d.kD[4] = function() {
        d.RZ.call(this);
        var w = "\t\t\tprecision mediump float; \t\t\t" + d.oR.TP + "\t\t\t" + d.oR.gg + "\t\t\t" + d.oR.a2 + "\t\t\t" + d.oR.uX + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
        this.c6(w, d.uQ.MX)
    };
    d.kD[4].prototype = new d.RZ;
    d.kD[4].prototype.u7 = function(w, o) {
        this.VP(["source", "mnm", "mxm", "shift", "lim"]);
        var Q = d.H3,
            K = this.Zj;
        Q.uniform3fv(K.mnm, new Float32Array(o.Rn));
        Q.uniform3fv(K.mxm, new Float32Array(o.gB));
        Q.uniform3fv(K.shift, new Float32Array(o.shift));
        Q.uniform1f(K.lim, o.lQ);
        this.P6([K.source, w])
    };
    d.kD[5] = function() {
        d.RZ.call(this);
        var w = "\t\t\tprecision mediump float;\t\t\t" + d.oR.GC + "\t\t\t" + d.oR.Pd + "\t\t\t" + d.oR.oh + "\t\t\t" + d.oR.uX + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
        this.c6(w, d.uQ.MX)
    };
    d.kD[5].prototype = new d.RZ;
    d.kD[5].prototype.u7 = function(w, o) {
        this.VP(["source", "cfs"]);
        var Q = d.H3,
            K = this.Zj;
        Q.uniform3fv(K.cfs, o.LG);
        this.P6([K.source, w])
    };
    d.kD[6] = function() {
        d.RZ.call(this);
        var w = "\t\t\tprecision mediump float;\t\t\t" + d.oR.gg + "\t\t\t" + d.oR.Pd + "\t\t\t" + d.oR.oh + "\t\t\t" + d.oR.uX + "\t\t\t" + d.oR.a2 + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
        this.c6(w, d.uQ.MX)
    };
    d.kD[6].prototype = new d.RZ;
    d.kD[6].prototype.u7 = function(w, o) {
        this.VP(["source", "wght", "prms"]);
        var Q = d.H3,
            K = this.Zj,
            b = [o.XQ, o.wa, o.uE, o.tX, o.XS, o.S4];
        Q.uniform1fv(K.wght, new Float32Array(o.I7));
        Q.uniform1fv(K.prms, new Float32Array(b));
        this.P6([K.source, w])
    };
    d.kD[7] = function() {
        d.RZ.call(this);
        this.PM = {};
        var w = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
        this.c6(w, d.uQ.MX)
    };
    d.kD[7].prototype = new d.RZ;
    d.kD[7].prototype.u7 = function(w, o) {
        this.VP(["source", "lut", "N"]);
        var Q = d.H3,
            K = this.Zj,
            b = o.f2,
            R = o.Hb;
        if (this.PM["m" + b] == null) this.PM["m" + b] = new d.Dz(b, b * b);
        var X = this.PM["m" + b];
        X.set(R);
        Q.uniform1f(K.N, b);
        this.P6([K.source, w, K.lut, X.$Y]);
        Q.activeTexture(Q.TEXTURE1);
        var h = Q.LINEAR;
        Q.texParameteri(Q.TEXTURE_2D, Q.TEXTURE_MIN_FILTER, h);
        Q.texParameteri(Q.TEXTURE_2D, Q.TEXTURE_MAG_FILTER, h);
        Q.activeTexture(Q.TEXTURE0)
    };
    d.filter = {
        aU: {},
        MX: "1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",
        Wr: 0,
        tQ: 1,
        zJ: 2,
        du: 3
    };
    d.filter.fg = function(w, o) {
        var Q = d.filter,
            K = [Q.Wr, Q.tQ, Q.zJ, Q.du].indexOf(w.type),
            b = d.filter.aU[w.type];
        if (b == null) b = d.filter.aU[w.type] = new d.aU[K];
        b.po();
        b.u7(o, w);
        d.H3.drawArrays(d.H3.TRIANGLES, 0, 6)
    };
    d.aU = [0, 0, 0, 0, 0, 0, 0];
    d.aU[3] = function() {
        d.RZ.call(this);
        var w = "1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
        this.c6(_.iZ(w), _.iZ(d.filter.MX))
    };
    d.aU[3].prototype = new d.RZ;
    d.aU[3].prototype.u7 = function(w, o) {
        this.VP("source iwh tdep rrad spec nois poly0 poly1".split(" "));
        var Q = d.H3,
            K = this.Zj;
        Q.uniform2fv(K.iwh, o.Bi);
        Q.uniform1f(K.tdep, o.a18);
        Q.uniform1f(K.rrad, o.akb);
        Q.uniform2fv(K.spec, o.a5h);
        Q.uniform3fv(K.nois, o.adb);
        Q.uniformMatrix4fv(K.poly0, !1, o.a7k);
        Q.uniformMatrix4fv(K.poly1, !1, o.akC);
        this.P6([K.source, w]);
        var b = Q.LINEAR;
        Q.activeTexture(Q.TEXTURE0);
        Q.texParameteri(Q.TEXTURE_2D, Q.TEXTURE_MIN_FILTER, b);
        Q.texParameteri(Q.TEXTURE_2D, Q.TEXTURE_MAG_FILTER, b);
        Q.activeTexture(Q.TEXTURE0)
    };
    d.aU[0] = function() {
        d.RZ.call(this);
        var w = "1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
        this.c6(_.iZ(w), _.iZ(d.filter.MX))
    };
    d.aU[0].prototype = new d.RZ;
    d.aU[0].prototype.u7 = function(w, o) {
        this.VP(["source", "iwh", "ld", "shine"]);
        var Q = d.H3,
            K = this.Zj;
        Q.uniform2fv(K.iwh, o.Bi);
        Q.uniform3fv(K.ld, o.anz);
        Q.uniform1f(K.shine, o.a8$);
        this.P6([K.source, w, K.tang, o._l])
    };
    d.aU[1] = function() {
        d.RZ.call(this);
        var w = "1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
        this.c6(_.iZ(w), _.iZ(d.filter.MX))
    };
    d.aU[1].prototype = new d.RZ;
    d.aU[1].prototype.u7 = function(w, o) {
        this.VP(["source", "iwh", "isc", "bristle"]);
        var Q = d.H3,
            K = this.Zj;
        Q.uniform2fv(K.iwh, o.Bi);
        Q.uniform1f(K.isc, o.afB);
        Q.uniform1f(K.bristle, o.aif);
        this.P6([K.source, w])
    };
    d.aU[2] = function() {
        d.RZ.call(this);
        var w = "1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
        this.c6(_.iZ(w), _.iZ(d.filter.MX))
    };
    d.aU[2].prototype = new d.RZ;
    d.aU[2].prototype.u7 = function(w, o) {
        this.VP(["source", "tang", "iwh", "sigma", "expo"]);
        var Q = d.H3,
            K = this.Zj;
        Q.uniform2fv(K.iwh, o.Bi);
        Q.uniform1f(K.sigma, o.yF);
        Q.uniform1f(K.expo, o.O1);
        this.P6([K.source, w, K.tang, o._l]);
        var b = Q.LINEAR;
        Q.activeTexture(Q.TEXTURE0);
        Q.texParameteri(Q.TEXTURE_2D, Q.TEXTURE_MIN_FILTER, b);
        Q.texParameteri(Q.TEXTURE_2D, Q.TEXTURE_MAG_FILTER, b);
        Q.activeTexture(Q.TEXTURE0)
    };
    d.M = {};
    d.M.U5 = {};
    d.M.zf = null;
    d.M.mL = null;
    d.M.zL = null;
    d.M.y_ = function(w, o, Q, K, b, R, X, h) {
        if (h == null) h = eg.UC();
        if ("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(w) == -1) {
            X = X * h.fill;
            h.fill = 1;
            h.style = !1
        }
        var e = w + (h.og ? "1" : "");
        if (d.M.U5[e] == null) d.M.U5[e] = new d.M.QW(w, h.og != null);
        var Z = d.M.U5[e],
            P = Q.z2(b).z2(R);
        P.offset(-b.x, -b.y);
        if (P.Kx()) return;
        var J = d.H3;
        d.Qy(K, P);
        K.zO(P);
        Z.po();
        Z.u7(o.$Y, K.ts, d.iE(Q, b), X, h.fill, h.style ? 1 : 0, h._m ? 1 : 0, h.og ? new Float32Array(h.og) : null);
        J.drawArrays(J.TRIANGLES, 0, 6)
    };
    d.M.xj = function(w, o, Q, K, b, R, X, h, e, Z, P) {
        if (d.M.zf == null) d.M.zf = new d.M.N1(!0, !0);
        if (d.M.mL == null) d.M.mL = new d.M.N1(!0, !1);
        if (d.M.zL == null) d.M.zL = new d.M.N1(!1, !0);
        var J = Z ? 1 : 0,
            i = w ? b ? d.M.zf : d.M.mL : d.M.zL,
            k = new Float32Array(P ? [P[0], P[1], P[2], 1] : [1, 1, 1, 1]),
            $ = o ? o.z2(K).z2(h) : K.z2(h);
        if ($.Kx()) return;
        $.offset(-K.x, -K.y);
        var n = d.H3;
        d.Qy(Q, $);
        Q.zO($);
        i.po();
        if (w == null) i.u7(null, Q.ts, b.$Y, d.iE(K, K), d.iE(R, K), X / 255, e, J, k);
        else if (b) i.u7(w.$Y, Q.ts, b.$Y, d.iE(o, K), d.iE(R, K), X / 255, e, J, k);
        else i.u7(w.$Y, Q.ts, null, d.iE(o, K), null, X / 255, e, J, k);
        n.drawArrays(n.TRIANGLES, 0, 6)
    };
    d.M.ae4 = function(w, o, Q) {
        if (d.M.aa1 == null) d.M.aa1 = new d.M.cC;
        var K = d.M.aa1,
            b = new B(0, 0, w.D, w.j),
            R = d.H3;
        d.Qy(o);
        o.zO(b);
        K.po();
        K.u7(b, w.$Y, o.ts, Q.$Y);
        R.drawArrays(R.TRIANGLES, 0, 6)
    };
    d.M.Jx = {
        norm: "return a;",
        diss: "return a;",
        dark: "return min(a,b);",
        "mul ": "return a*b;",
        idiv: "  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",
        lbrn: "return max(ZERO3, a*f+b-f);",
        dkCl: "return ( lum(a)<lum(b) ? a : b );",
        lite: "return max(a,b);",
        scrn: "return b+a-b*a;",
        "div ": "a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",
        lddg: "a*=f;  return min(ONE3,a+b);",
        lgCl: "return ( lum(a)>lum(b) ? a : b );",
        over: "return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",
        sLit: "return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",
        hLit: "return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",
        vLit: " return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",
        lLit: "return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",
        pLit: "return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",
        hMix: "if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",
        diff: "return abs(a*f-b);",
        smud: "return a+b-2.0*a*b;",
        fsub: "return max(b-a, ZERO3);",
        fdiv: "return min(b/a, ONE3);",
        "hue ": "return  setLum( setSat(a, sat(b)) , lum(b) ); ",
        "sat ": "return  setLum( setSat(b, sat(a)) , lum(b) ); ",
        colr: "return  setLum( a, lum(b) ); ",
        "lum ": "return  setLum( b, lum(a) ); "
    };
    d.M.QW = function(w, o) {
        d.RZ.call(this);
        var Q = "\t\t\tprecision mediump float;\t\t\t" + d.oR.GC + "\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t" + (o ? "uniform vec4 blIf[10];" : "") + "\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t" + d.oR.Yx + "\t\t\t" + d.oR.uE + "\t\t\t" + d.oR.N4 + "\t\t\t" + d.oR.amg + "\t\t\t" + d.oR.a7L + "\t\t\t" + d.oR.adL + "\t\t\t" + d.oR.tH + "\t\t\t" + d.oR.abk + "\t\t\t" + d.oR.E0 + "\t\t\t" + d.oR.hash + "\t\t\t" + (o ? d.oR.Vo : "") + "\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { " + d.M.Jx[w] + " } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",
            K = "\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
        if (w == "diss") Q += "\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
        else Q += "  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t" + (o ? "  as*=blendIf(src,tgt,blIf);  " : "") + "\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
        this.c6(Q, K)
    };
    d.M.QW.prototype = new d.RZ;
    d.M.QW.prototype.u7 = function(w, o, Q, K, b, R, X, h) {
        this.VP("srct alpha source target fill style keepBGA blIf".split(" "));
        var e = d.H3,
            Z = this.Zj;
        e.uniform4fv(Z.srct, Q);
        e.uniform1f(Z.alpha, K);
        e.uniform1f(Z.fill, b);
        e.uniform1f(Z.style, R);
        e.uniform1f(Z.keepBGA, X);
        if (h) e.uniform4fv(Z.blIf, h);
        this.P6([Z.source, w, Z.target, o])
    };
    d.M.N1 = function(w, o) {
        d.RZ.call(this);
        this.a8G = w;
        this.IR = o;
        var Q = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t" + d.oR.Bl + "\t\t\t" + d.oR.hash + "\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = " + (w ? "texture2D(source, sCoord)" : "vec4(0.0)") + "; \t\t\t\tfloat wg = awg " + (o ? "* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)" : "") + ";\t\t\t\t" + (w ? "" : "wg = 1.0-wg;") + "\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  " + (o ? "nc" : "cswitch*nc + (1.0- cswitch)*tgt") + ";    \t\t\t}",
            K = "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
        this.c6(Q, K)
    };
    d.M.N1.prototype = new d.RZ;
    d.M.N1.prototype.u7 = function(w, o, Q, K, b, R, X, h, e) {
        if (this.IR) this.VP("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
        else this.VP("srct awg dissv source target cswitch".split(" "));
        var Z = d.H3,
            P = this.Zj;
        Z.uniform4fv(P.srct, K);
        if (this.IR) {
            Z.uniform4fv(P.wrct, b);
            Z.uniform1f(P.wcolor, R)
        } else {
            Z.uniform4fv(P.cswitch, e)
        }
        Z.uniform1f(P.awg, X);
        Z.uniform1f(P.dissv, h);
        var J = [P.source, w, P.target, o];
        if (this.IR) J.push(P.weight, Q);
        this.P6(J)
    };
    d.M.cC = function() {
        d.RZ.call(this);
        var w = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",
            o = "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
        this.c6(w, o)
    };
    d.M.cC.prototype = new d.RZ;
    d.M.cC.prototype.u7 = function(w, o, Q, K) {
        this.VP(["rct", "prev", "next", "alpha"]);
        var b = d.H3,
            R = this.Zj;
        b.uniform4fv(R.rct, [0, 0, 1, 1]);
        this.P6([R.prev, o, R.next, Q, R.alpha, K])
    };

    function cl() {}
    cl.DG = function(w) {
        var o = new Uint8Array(w),
            Q = 0,
            K = {
                Pe: [],
                dg: [],
                list: []
            },
            b = W.r9(o, Q);
        Q += 2;
        if (b <= 2) {
            return cl.a7l(o)
        }
        var R = W.r9(o, Q);
        Q += 2;
        var X = W.Ui(o, Q, 8);
        Q += 8;
        var h = W.g(o, Q);
        Q += 4;
        if (h > 0) K.Pe = cl.VR(o, Q, h, R, b);
        Q += h;
        var e = W.Ui(o, Q, 8);
        Q += 8;
        var Z = W.g(o, Q);
        Q += 4;
        if (Z > 0) K.dg = gx.NG(o, Q, Z);
        Q += Z;
        var P = W.Ui(o, Q, 8);
        Q += 8;
        var J = W.g(o, Q);
        Q += 4;
        if (J > 0) {
            var i = {};
            bd.Da(o, i, Q + 4);
            K.list = i.Brsh.v
        }
        Q += J;
        var k = K.list;
        for (var M = 0; M < k.length; M++) {
            dI.Kw.check(k[M].v)
        }
        return K
    };
    cl.Pc = function(w, o) {
        w.v.Nm.v = o
    };
    cl.a7l = function(w) {
        var o = {
                Pe: [],
                dg: [],
                list: []
            },
            Q = 0,
            K = W.r9(w, Q);
        Q += 2;
        var b = W.r9(w, Q);
        Q += 2;
        for (var M = 0; M < b; M++) {
            var R = W.r9(w, Q);
            Q += 2;
            var X = W.g(w, Q);
            Q += 4;
            var h = Q;
            if (R == 2) {
                var e = {};
                o.Pe.push(e);
                var Z = W.g(w, h);
                h += 4;
                var P = W.r9(w, h);
                h += 2;
                if (K == 2) {
                    var J = W.Pv(w, h);
                    h += 4 + J.length * 2 + 2
                }
                e.id = fb.Fk() + "-d71c-11e5-b1ae-a548a96e5f9f";
                h++;
                h += 8;
                e.U = W.Er(w, h);
                h += 16;
                var i = W.r9(w, h);
                h += 2;
                var k = w[h];
                h++;
                e.channel = aU.Sj(!1, i, w, e.U.D, e.U.j, h, k);
                var $ = dI.cR(e.id),
                    n = $.Brsh.v;
                n.Dmtr.v.val = e.U.D;
                n.Spcn.v.val = P;
                o.list.push({
                    t: "Objc",
                    v: $
                })
            }
            Q += X
        }
        return o
    };
    cl.sc = function(w) {
        var o = new fY,
            Q = 0,
            K = 0;
        W.Ih(o, Q, 6);
        Q += 2;
        W.Ih(o, Q, 2);
        Q += 2;
        W.qH(o, Q, "8BIMsamp");
        Q += 8;
        Q += 4;
        K = Q;
        Q = cl.pC(o, Q, w.Pe);
        W.c5(o, K - 4, Q - K);
        W.qH(o, Q, "8BIMpatt");
        Q += 8;
        Q += 4;
        K = Q;
        Q = gx.Jb(o, Q, w.dg);
        W.c5(o, K - 4, Q - K);
        var b = {
            classID: "null",
            Brsh: {
                t: "VlLs",
                v: w.list
            }
        };
        W.qH(o, Q, "8BIMdesc");
        Q += 8;
        Q += 4;
        K = Q;
        W.c5(o, Q, 16);
        Q += 4;
        Q += bd.OQ(o, b, Q);
        W.c5(o, K - 4, Q - K);
        return o.data.slice(0, Q).buffer
    };
    cl.VR = function(w, o, Q, K, b) {
        var R = W.g,
            X = W.Er,
            h = o + Q,
            e = [];
        while (o < h) {
            var Z = {};
            e.push(Z);
            var P = R(w, o);
            o += 4;
            var J = o,
                i = W.Sh(w, o);
            o += i.length;
            Z.id = i.ct;
            if (K == 1) {
                o += 9;
                Z.U = X(w, o);
                o += 16
            } else {
                o += 7;
                var k = R(w, o);
                o += 4;
                Z.U = X(w, o);
                o += 16;
                var $ = R(w, o);
                o += 4;
                o += $ * 4;
                var n = R(w, o);
                o += 4;
                var j = R(w, o);
                o += 4;
                var y = X(w, o);
                o += 16
            }
            var V = W.r9(w, o);
            o += 2;
            var O = w[o];
            o += 1;
            Z.channel = aU.Sj(!1, V, w, Z.U.D, Z.U.j, o, O);
            if (P % 4 != 0) P += 4 - P % 4;
            o = J + P
        }
        return e
    };
    cl.pC = function(w, o, Q) {
        var K = W.c5,
            b = W.H_;
        for (var M = 0; M < Q.length; M++) {
            var R = Q[M],
                X = o + 4,
                e = 56,
                P = 1;
            o += 4;
            W.jq(w, o, R.id);
            o += R.id.length + 2;
            w.JL(o, 1);
            w.data[o] = 1;
            o += 3;
            K(w, o, 3);
            o += 4;
            var h = o;
            o += 4;
            b(w, o, R.U);
            o += 16;
            K(w, o, e);
            o += 4;
            o += e * 4;
            K(w, o - 4, 1);
            var Z = o;
            o += 4;
            K(w, o, 8);
            o += 4;
            b(w, o, R.U);
            o += 16;
            W.Ih(w, o, 8);
            o += 2;
            w.JL(o, 1);
            w.data[o] = P;
            o++;
            w.JL(o, R.U.O() * 2);
            o = aU.FY(R.channel, w.data, R.U.D, R.U.j, o, P);
            w.JL(o, 8);
            o += 8;
            var J = o - X;
            K(w, X - 4, J);
            K(w, h, J - 49);
            K(w, Z, J - 305);
            if (J % 4 != 0) o += 4 - J % 4
        }
        return o
    };

    function fd() {}
    fd.DG = function(w) {
        var o = new Uint8Array(w),
            Q = [],
            K = 0,
            b = W.r9(o, K);
        K += 2;
        if (b != 4) {
            throw "Unknown version of curves: " + b
        }
        var R = W.r9(o, K);
        K += 2;
        for (var M = 0; M < R; M++) {
            var X = fd.bd(o, K);
            K += 2 + 2 * X.length;
            Q.push(X)
        }
        if (K == o.length) return Q;
        var h = W.Ui(o, K, 4);
        K += 4;
        var e = W.r9(o, K);
        K += 2;
        var Z = W.r9(o, K);
        K += 2;
        if (Z != 0) throw "extra curves for channels";
        return Q
    };
    fd.lu = function(w, o, Q) {
        var K = o,
            b = [],
            R = w[o];
        o += 3;
        var X = W.g(w, o);
        o += 4;
        for (var M = 0; M < 4; M++) {
            var h = X >>> M & 1;
            if (h) {
                if (R == 0) {
                    var e = fd.bd(w, o);
                    o += 2 + 2 * e.length
                } else {
                    var e = fd.a1r(w, o);
                    o += 256
                }
                b.push(e)
            } else b.push(R == 0 ? [0, 0, 255, 255] : fd.a0r())
        }
        var Z = bf._R("curv");
        for (var M = 0; M < 4; M++) {
            if (R == 0) {
                var P = b[M],
                    J = [];
                for (var i = 0; i < P.length; i += 2) J.push(v.R2.va(P[i], P[i + 1], !0));
                fd.hU(Z, M, J)
            } else fd.hU(Z, M, b[M])
        }
        return Z
    };
    fd.a0r = function() {
        var w = [];
        for (var M = 0; M < 256; M++) w.push(M);
        return w
    };
    fd.hU = function(w, o, Q) {
        var K = fT.Ao("CrvA", o);
        if (Q.length < 256) K.Crv = {
            t: "VlLs",
            v: Q
        };
        else {
            K.Mpng = {
                t: "VlLs",
                v: []
            };
            for (var M = 0; M < 256; M++) K.Mpng.v[M] = {
                t: "long",
                v: Q[M]
            }
        }
        K = {
            t: "Objc",
            v: K
        };
        var b = w.Adjs.v,
            R = fT.DE(b, o);
        if (R == -1) b.push(K);
        else b[R] = K
    };
    fd.ns = function(w, o) {
        var Q = w.Adjs.v,
            K = fT.DE(Q, o);
        if (K == -1) {
            if (Q.length == 0 || Q[0].v.Crv) return [v.R2.va(0, 0, !0), v.R2.va(255, 255, !0)];
            var b = [];
            for (var M = 0; M < 256; M++) b.push(M);
            return b
        }
        var R = Q[K].v,
            X = R.Crv;
        if (X) return X.v;
        var b = [];
        for (var M = 0; M < 256; M++) b.push(R.Mpng.v[M].v);
        return b
    };
    fd.bd = function(w, o) {
        var Q = [],
            K = W.r9(w, o);
        o += 2;
        for (var b = 0; b < K; b++) {
            var R = W.r9(w, o);
            o += 2;
            var X = W.r9(w, o);
            o += 2;
            Q.push(X, R)
        }
        return Q
    };
    fd.ahQ = function(w, o, Q) {
        var K = Q.length / 2;
        W.Ih(w, o, K);
        o += 2;
        for (var b = 0; b < K; b++) {
            W.Ih(w, o, Q[b * 2 + 1]);
            o += 2;
            W.Ih(w, o, Q[b * 2 + 0]);
            o += 2
        }
    };
    fd.a1r = function(w, o) {
        var Q = [];
        for (var M = 0; M < 256; M++) Q.push(w[o + M]);
        return Q
    };
    fd.alC = function(w, o, Q) {
        w.JL(o, 256);
        for (var M = 0; M < 256; M++) w.data[o + M] = Q[M]
    };
    fd._r = function(w, o, Q) {
        var K = [];
        for (var M = 0; M < 4; M++) {
            var b = fd.ns(Q, M);
            if (b.length == 256) K.push(b);
            else {
                var R = [];
                for (var X = 0; X < b.length; X++) R.push(b[X].v.Hrzn.v, b[X].v.Vrtc.v);
                K.push(R)
            }
        }
        var h = o,
            e = K[0].length == 256 ? 1 : 0;
        w.JL(o, 3);
        w.data[o] = e;
        w.data[o + 1] = 0;
        w.data[o + 2] = 1;
        o += 3;
        W.c5(w, o, 15);
        o += 4;
        for (var M = 0; M < 4; M++) {
            var Z = K[M];
            if (e == 0) {
                fd.ahQ(w, o, Z);
                o += 2 + 2 * Z.length
            } else {
                fd.alC(w, o, Z);
                o += 256
            }
        }
        return o - h
    };

    function e4() {}
    e4.lu = function(w, o, Q) {
        var K = {},
            b = W.r9(w, o);
        o += 2;
        K.i0 = w[o] == 1;
        o++;
        o++;
        K.nX = [W.m2(w, o), W.m2(w, o + 2), W.m2(w, o + 4)];
        o += 6;
        K.ci = [W.m2(w, o), W.m2(w, o + 2), W.m2(w, o + 4)];
        o += 6;
        K.qp = [];
        for (var M = 0; M < 6; M++) {
            var R = {};
            R.oZ = [W.m2(w, o), W.m2(w, o + 2), W.m2(w, o + 4), W.m2(w, o + 6)];
            o += 8;
            R.QN = [W.m2(w, o), W.m2(w, o + 2), W.m2(w, o + 4)];
            o += 6;
            K.qp.push(R)
        }
        var X = bf._R("hue2"),
            h = K;
        if (X.Clrz == null) X.Clrz = {
            t: "bool",
            v: !1
        };
        X.Clrz.v = h.i0;
        for (var M = 0; M < 7; M++) {
            var e = M == 0 ? h.i0 ? h.nX : h.ci : h.qp[M - 1];
            e4.hU(X, M, e)
        }
        return X
    };
    e4.agF = function(w) {
        return {
            classID: "Hst2",
            H: {
                t: "long",
                v: w[0]
            },
            Strt: {
                t: "long",
                v: w[1]
            },
            Lght: {
                t: "long",
                v: w[2]
            }
        }
    };
    e4.DE = function(w, o) {
        for (var M = 0; M < w.length; M++) {
            var Q = w[M].v.LclR;
            if (o == 0 && Q == null || Q != null && Q.v == o) return M
        }
        return -1
    };
    e4.hU = function(w, o, Q) {
        var K = o == 0 ? Q : Q.QN,
            b = e4.agF(K);
        if (o != 0) {
            var R = Q.oZ;
            b.LclR = {
                t: "long",
                v: o
            }, b.BgnR = {
                t: "long",
                v: R[0]
            };
            b.BgnS = {
                t: "long",
                v: R[1]
            };
            b.EndS = {
                t: "long",
                v: R[2]
            };
            b.EndR = {
                t: "long",
                v: R[3]
            }
        }
        b = {
            t: "Objc",
            v: b
        };
        var X = w.Adjs.v,
            h = e4.DE(X, o);
        if (h == -1) X.push(b);
        else X[h] = b
    };
    e4.ns = function(w, o) {
        var Q = w.Adjs.v,
            K = e4.DE(Q, o);
        if (K == -1) {
            if (o == 0) return [0, 0, 0];
            else return [{
                oZ: [315, 345, 15, 45],
                QN: [0, 0, 0]
            }, {
                oZ: [15, 45, 75, 105],
                QN: [0, 0, 0]
            }, {
                oZ: [75, 105, 135, 165],
                QN: [0, 0, 0]
            }, {
                oZ: [135, 165, 195, 225],
                QN: [0, 0, 0]
            }, {
                oZ: [195, 225, 255, 285],
                QN: [0, 0, 0]
            }, {
                oZ: [255, 285, 315, 345],
                QN: [0, 0, 0]
            }][o - 1]
        }
        var b = Q[K].v,
            R = [b.H.v, b.Strt.v, b.Lght.v];
        if (o == 0) return R;
        return {
            QN: R,
            oZ: [b.BgnR.v, b.BgnS.v, b.EndS.v, b.EndR.v]
        }
    };
    e4._r = function(w, o, Q) {
        var K = {
            i0: Q.Clrz.v,
            qp: []
        };
        K.nX = K.ci = e4.ns(Q, 0);
        for (var M = 1; M < 7; M++) K.qp.push(e4.ns(Q, M));
        var b = 2 + 2 + 12 + 6 * 14,
            R = w.data;
        w.JL(o, b);
        W.lU(R, o, 2);
        o += 2;
        R[o] = K.i0 ? 1 : 0;
        o++;
        o++;
        W.G9(R, o + 0, K.nX[0]);
        W.G9(R, o + 2, K.nX[1]);
        W.G9(R, o + 4, K.nX[2]);
        o += 6;
        W.G9(R, o + 0, K.ci[0]);
        W.G9(R, o + 2, K.ci[1]);
        W.G9(R, o + 4, K.ci[2]);
        o += 6;
        for (var M = 0; M < 6; M++) {
            var X = K.qp[M].oZ,
                h = K.qp[M].QN;
            W.G9(R, o + 0, X[0]);
            W.G9(R, o + 2, X[1]);
            W.G9(R, o + 4, X[2]);
            W.G9(R, o + 6, X[3]);
            o += 8;
            W.G9(R, o + 0, h[0]);
            W.G9(R, o + 2, h[1]);
            W.G9(R, o + 4, h[2]);
            o += 6
        }
        return b
    };

    function fT() {}
    fT.DG = function(w) {
        var o = new Uint8Array(w),
            Q = 2,
            K = [];
        for (var M = 0; M < 29; M++) {
            var b = [];
            K.push(b);
            for (var R = 0; R < 5; R++) b.push(W.r9(o, Q + M * 10 + R * 2))
        }
        Q += 29 * 10;
        if (Q < o.length) {
            var X = W.Ui(o, Q, 4);
            Q += 4;
            var h = W.r9(o, Q);
            Q += 2;
            var e = W.r9(o, Q);
            Q += 2;
            var Z = e - 29;
            for (var M = 0; M < Z; M++) {
                var b = [];
                K.push(b);
                for (var R = 0; R < 5; R++) b.push(W.r9(o, Q + M * 10 + R * 2))
            }
        }
        var P = bf._R("levl");
        for (var M = 0; M < 4; M++) fT.hU(P, M, K[M]);
        return P
    };
    fT.Ao = function(w, M) {
        var o = ["Cmps", "Rd", "Grn", "Bl"],
            Q = {
                t: "obj ",
                v: [{
                    t: "Enmr",
                    v: {
                        classID: "Chnl",
                        typeID: "Chnl",
                        enum: o[M]
                    }
                }]
            };
        return {
            classID: w,
            Chnl: Q
        }
    };
    fT.DE = function(w, o) {
        var Q = {
            Cmps: 0,
            Rd: 1,
            Grn: 2,
            Bl: 3
        };
        for (var M = 0; M < w.length; M++) {
            var K = w[M].v,
                b = Q[K.Chnl.v[0].v.enum];
            if (b == o) return M
        }
        return -1
    };
    fT.hU = function(w, o, Q) {
        var K = fT.Ao("LvlA", o);
        K.Inpt = {
            t: "VlLs",
            v: [{
                t: "long",
                v: Q[0]
            }, {
                t: "long",
                v: Q[1]
            }]
        };
        K.Otpt = {
            t: "VlLs",
            v: [{
                t: "long",
                v: Q[2]
            }, {
                t: "long",
                v: Q[3]
            }]
        };
        K.Gmm = {
            t: "doub",
            v: Q[4] / 100
        };
        K = {
            t: "Objc",
            v: K
        };
        var b = w.Adjs.v,
            R = fT.DE(b, o);
        if (R == -1) b.push(K);
        else b[R] = K
    };
    fT.ns = function(w, o) {
        var Q = [0, 255, 0, 255, 100],
            K = w.Adjs.v,
            b = fT.DE(K, o);
        if (b == -1) return Q;
        var R = K[b].v;
        if (R.Inpt) {
            Q[0] = R.Inpt.v[0].v;
            Q[1] = R.Inpt.v[1].v
        }
        if (R.Otpt) {
            Q[2] = R.Otpt.v[0].v;
            Q[3] = R.Otpt.v[1].v
        }
        if (R.Gmm) {
            Q[4] = Math.round(R.Gmm.v * 100)
        }
        return Q
    };
    fT.sc = function(w, o) {
        var Q = [],
            K = 0;
        for (var M = 0; M < 4; M++) Q.push(fT.ns(o, M));
        while (Q.length < 29) Q.push([0, 255, 0, 255, 100]);
        w.JL(0, 2 + 10 * 29);
        W.lU(w.data, K, 2);
        K += 2;
        for (var M = 0; M < 29; M++) {
            var b = Q[M];
            for (var R = 0; R < 5; R++) W.lU(w.data, K + M * 10 + R * 2, b[R])
        }
        K += 29 * 10;
        if (Q.length == 29) return K;
        w.JL(K, 8 + 10 * (Q.length - 29));
        W.lo(w.data, K, "Lvls");
        K += 4;
        W.lU(w.data, K, 3);
        K += 2;
        W.lU(w.data, K, Q.length);
        K += 2;
        var X = Q.length - 29;
        for (var M = 0; M < X; M++) {
            var b = Q[29 + M];
            for (var R = 0; R < 5; R++) W.lU(w.data, K + M * 10 + R * 2, b[R])
        }
        K += 10 * X;
        return K
    };

    function bA() {}
    bA.DG = function(w) {
        var o = new Uint8Array(w),
            Q = 2,
            K = {
                EO: [],
                Gz: []
            },
            b = W.Ui(o, Q, 4);
        Q += 4;
        var R = W.r9(o, Q);
        Q += 2;
        var X = W.g(o, Q);
        Q += 4;
        K.EO = gx.NG(o, Q, X);
        Q += X;
        var h = W.g(o, Q);
        Q += 4;
        for (var M = 0; M < h; M++) {
            var e = W.g(o, Q);
            Q += 4;
            var Z = Q,
                P = {
                    LB: {},
                    Ze: {}
                };
            K.Gz.push(P);
            Q += 4;
            Q += bd.Da(o, P.LB, Q);
            Q += 4;
            Q += bd.Da(o, P.Ze, Q);
            Q = Z + e;
            var J = P.Ze.blendOptions,
                i = P.Ze.Lefx;
            if (J && Object.keys(J.v).length > 1) {}
            if (i) {
                if (i.v.masterFXSwitch == null) i.v.masterFXSwitch = {
                    t: "bool",
                    v: !0
                };
                fQ.RR(i.v)
            }
        }
        return K
    };
    bA.Pc = function(w, o) {
        w.LB.Nm.v = o
    };
    bA.sc = function(w) {
        var o = new fY,
            Q = 0;
        W.Ih(o, Q, 2);
        Q += 2;
        W.qH(o, Q, "8BSL");
        Q += 4;
        W.Ih(o, Q, 3);
        Q += 2;
        var K = Q;
        Q += 4;
        Q = gx.Jb(o, Q, w.EO);
        W.c5(o, K, Q - K - 4);
        var b = w.Gz.length;
        W.c5(o, Q, b);
        Q += 4;
        for (var M = 0; M < b; M++) {
            Q += 4;
            var R = Q,
                X = w.Gz[M];
            W.c5(o, Q, 16);
            Q += 4;
            Q += bd.OQ(o, X.LB, Q);
            var h = X.Ze.Lefx;
            if (h) {
                X.Ze.Lefx = JSON.parse(JSON.stringify(h));
                fQ.F$(X.Ze.Lefx.v)
            }
            W.c5(o, Q, 16);
            Q += 4;
            Q += bd.OQ(o, X.Ze, Q);
            if (h) X.Ze.Lefx = h;
            W.c5(o, R - 4, Q - R)
        }
        return o.data.slice(0, Q).buffer
    };

    function gf() {}
    gf.lu = function(w, o, Q) {
        var K = W.r9(w, o);
        o += 2;
        var b = {};
        b.MW = W.r9(w, o) == 1;
        o += 2;
        b.tN = [];
        for (var M = 0; M < 10; M++) {
            var R = [];
            b.tN.push(R);
            for (var X = 0; X < 4; X++) R.push(W.m2(w, o + X * 2));
            o += 8
        }
        var h = bf._R("selc");
        h.Mthd.v.CrcM = b.MW ? "Absl" : "Rltv";
        for (var M = 1; M < 10; M++) gf.hU(h, M - 1, b.tN[M]);
        return h
    };
    gf.kF = "Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
    gf.Ao = function(w, M) {
        var o = ["Cmps", "Rd", "Grn", "Bl"],
            Q = {
                t: "obj ",
                v: [{
                    t: "Enmr",
                    v: {
                        classID: "Chnl",
                        typeID: "Chnl",
                        enum: o[M]
                    }
                }]
            };
        return {
            classID: w,
            Chnl: Q
        }
    };
    gf.DE = function(w, o) {
        var Q = gf.kF;
        for (var M = 0; M < w.length; M++) {
            var K = w[M].v,
                b = Q.indexOf(K.Clrs.v.Clrs);
            if (b == o) return M
        }
        return -1
    };
    gf.hU = function(w, o, Q) {
        var K = ["Cyn", "Mgnt", "Ylw", "Blck"],
            b = {
                classID: "ClrC",
                Clrs: {
                    t: "enum",
                    v: {
                        Clrs: gf.kF[o]
                    }
                }
            };
        for (var R = 0; R < 4; R++) b[K[R]] = {
            t: "UntF",
            v: {
                type: "#Prc",
                val: Q[R]
            }
        };
        b = {
            t: "Objc",
            v: b
        };
        var X = w.ClrC.v,
            h = gf.DE(X, o);
        if (h == -1) X.push(b);
        else X[h] = b
    };
    gf.ns = function(w, o) {
        var Q = [0, 0, 0, 0],
            K = w.ClrC.v,
            b = gf.DE(K, o);
        if (b == -1) return Q;
        var R = ["Cyn", "Mgnt", "Ylw", "Blck"];
        for (var M = 0; M < 4; M++)
            if (K[b].v[R[M]]) Q[M] = K[b].v[R[M]].v.val;
        return Q
    };
    gf._r = function(w, o, Q) {
        var K = {
            MW: Q.Mthd.v.CrcM == "Absl",
            tN: [
                [0, 0, 0, 0]
            ]
        };
        for (var M = 0; M < 9; M++) K.tN.push(gf.ns(Q, M));
        w.JL(o, 84);
        W.lU(w.data, o, 1);
        o += 2;
        W.lU(w.data, o, K.MW ? 1 : 0);
        o += 2;
        for (var M = 0; M < 10; M++) {
            var b = K.tN[M];
            for (var R = 0; R < 4; R++) W.G9(w.data, o + R * 2, b[R]);
            o += 8
        }
        return 84
    };

    function f8() {}
    f8._R = function() {
        return {
            oX: new B(0, 0, 50, 50),
            LB: "",
            gr: "play",
            _: v.P.z_.aI([.1, .1, .9, .5, .1, .9], 0)
        }
    };
    f8.DG = function(w) {
        w = new Uint8Array(w);
        var o = 0,
            Q = [],
            K = Date.now(),
            b = W.Ui(w, 0, 4);
        o += 4;
        var R = W.g(w, o);
        o += 4;
        var X = W.g(w, o);
        o += 4;
        for (var M = 0; M < X; M++) {
            var h = W.Pv(w, o);
            o += h.length * 2 + 4 + 2;
            if ((h.length & 1) == 0) o += 2;
            o = f8.Ij(w, o, h, Q)
        }
        return Q
    };
    f8.Ij = function(w, o, Q, K) {
        var b = W.g(w, o);
        o += 4;
        var R = W.g(w, o);
        o += 4;
        var X = o,
            h = W.Sh(w, X).ct;
        X += h.length + 1;
        var e = W.Er(w, X);
        X += 16;
        var Z = f8.eS(w, X, R - (X - o)),
            P = v.P.g$(Z),
            J = v.w.QT(P),
            i = 1 / J.D,
            k = 1 / J.j;
        v.P.nB(Z, new dj(i, 0, 0, k, -J.x * i, -J.y * k));
        K.push({
            gr: Q,
            LB: h,
            _: Z,
            oX: e
        });
        o += R;
        return o
    };
    f8.Pc = function(w, o) {
        w.gr = o
    };
    f8.sc = function(w) {
        var o = new fY,
            Q = 0;
        W.qH(o, Q, "cush");
        Q += 4;
        W.c5(o, Q, 2);
        Q += 4;
        W.c5(o, Q, w.length);
        Q += 4;
        for (var M = 0; M < w.length; M++) {
            var K = w[M],
                b = K.gr + "\0";
            W.Hr(o, Q, b);
            Q += 4 + b.length * 2;
            if ((b.length & 1) == 1) Q += 2;
            W.c5(o, Q, 1);
            Q += 4;
            Q += 4;
            var R = Q;
            W.jq(o, Q, K.LB);
            Q += K.LB.length + 1;
            W.H_(o, Q, K.oX);
            Q += 16;
            o.JL(Q, K._.length * 26);
            f8.An(o.data, Q, K._, 1, 1);
            Q += K._.length * 26;
            var X = Q - R;
            if ((X & 3) != 0) X += 4 - (X & 3);
            W.c5(o, R - 4, X);
            Q = R + X
        }
        return o.data.slice(0, Q).buffer
    };
    f8.eS = function(w, o, Q, K, b) {
        if (K == null) K = 1;
        if (b == null) b = 1;
        var R = W.m2,
            X = W.acQ,
            h = [],
            e = Math.floor(Q / 26);
        for (var M = 0; M < e; M++) {
            var Z = o + M * 26,
                P = {},
                J = 0;
            h.push(P);
            P.type = R(w, Z);
            Z += 2;
            if (P.type == 6) {
                J = 24
            }
            if (P.type == 8) {
                P.all = R(w, Z);
                Z += 2;
                J = 22
            }
            if (P.type == 0 || P.type == 3) {
                P.length = R(w, Z);
                Z += 2;
                P.ID = R(w, Z);
                Z += 2;
                P.Ej = R(w, Z);
                Z += 2;
                P.ub = W.g(w, Z);
                Z += 4;
                P.EK = W.g(w, Z);
                Z += 4;
                J = 10
            }
            if (P.type == 1 || P.type == 2 || P.type == 4 || P.type == 5) {
                var i, k;
                k = X(w, Z);
                Z += 4;
                i = X(w, Z);
                Z += 4;
                P.M7 = new fB(i * K, k * b);
                k = X(w, Z);
                Z += 4;
                i = X(w, Z);
                Z += 4;
                P.L = new fB(i * K, k * b);
                k = X(w, Z);
                Z += 4;
                i = X(w, Z);
                Z += 4;
                P.WQ = new fB(i * K, k * b);
                J = 0
            }
            for (var $ = 0; $ < J; $++)
                if (w[Z + $] != 0) {
                    console.log("Unexpected non-zero byte!", P, $, w[Z + $])
                }
        }
        return h
    };
    f8.An = function(w, o, Q, K, b) {
        var R = W.G9,
            X = W.sJ,
            h = Q.length;
        for (var M = 0; M < h; M++) {
            var e = o + M * 26,
                Z = Q[M];
            R(w, e, Z.type);
            e += 2;
            if (Z.type == 6) {}
            if (Z.type == 8) R(w, e, Z.all);
            if (Z.type == 0 || Z.type == 3) {
                R(w, e, Z.length);
                e += 2;
                R(w, e, Z.ID);
                e += 2;
                R(w, e, Z.Ej);
                e += 2
            }
            if (Z.type == 1 || Z.type == 2 || Z.type == 4 || Z.type == 5) {
                X(w, e, Z.M7.y / b);
                e += 4;
                X(w, e, Z.M7.x / K);
                e += 4;
                X(w, e, Z.L.y / b);
                e += 4;
                X(w, e, Z.L.x / K);
                e += 4;
                X(w, e, Z.WQ.y / b);
                e += 4;
                X(w, e, Z.WQ.x / K);
                e += 4
            }
        }
    };

    function hM() {}
    hM.DG = function(w) {
        var o = new Uint8Array(w),
            Q = [],
            K = 0;
        K = hM.eJ(o, K, Q);
        if (K + 3 < o.length) {
            Q = [];
            K = hM.eJ(o, K, Q)
        }
        return Q
    };
    hM.eJ = function(w, o, Q) {
        var K = W.r9,
            b = W.m2,
            R = K(w, o);
        o += 2;
        var X = K(w, o);
        o += 2;
        for (var M = 0; M < X; M++) {
            var h = hM.nS(w, o);
            o += 10;
            if (R == 2) {
                h.YD = W.Pv(w, o);
                o += 4 + h.YD.length * 2 + 2
            }
            Q.push(h)
        }
        return o
    };
    hM.nS = function(w, o) {
        var Q = W.r9,
            K = W.m2,
            b = Q(w, o),
            k = null;
        o += 2;
        var R = Q(w, o);
        o += 2;
        var X = Q(w, o);
        o += 2;
        var h = Q(w, o);
        o += 2;
        var e = Q(w, o);
        o += 2;
        var Z = 1 / 65535,
            P = 255 / 65535,
            J = 100 / 65535,
            i = 255 / 1e4;
        if (b == 0) k = {
            W: R * P,
            a: X * P,
            k: h * P
        };
        else if (b == 1) {
            k = v.rp(R * Z, X * Z, h * Z);
            k.W *= 255;
            k.a *= 255;
            k.k *= 255
        } else if (b == 2) k = v.V.c2({
            classID: "CMYC",
            Cyn: {
                t: "doub",
                v: 100 - R * J
            },
            Mgnt: {
                t: "doub",
                v: 100 - X * J
            },
            Ylw: {
                t: "doub",
                v: 100 - h * J
            },
            Blck: {
                t: "doub",
                v: 100 - e * J
            }
        });
        else if (b == 7) {
            var $ = v._D(R / 100, K(w, o - 6) / 100, K(w, o - 4) / 100);
            k = $
        } else if (b == 8) {
            k = {
                W: 255 - R * i,
                a: 255 - X * i,
                k: 255 - h * i
            }
        } else throw "e " + b + ", ";
        return k
    };
    hM.sc = function(w) {
        var o = new fY,
            Q = 0,
            K = W.Ih;
        K(o, Q, 2);
        Q += 2;
        K(o, Q, w.length);
        Q += 2;
        for (var M = 0; M < w.length; M++) {
            var b = w[M];
            o.JL(Q, 10);
            hM.tc(o.data, Q, b);
            Q += 10;
            var R = (b.YD ? b.YD : "") + "\0";
            W.Hr(o, Q, R);
            Q += 4 + R.length * 2
        }
        return o.data.slice(0, Q).buffer
    };
    hM.Pc = function(w, o) {
        w.YD = o
    };
    hM.tc = function(w, o, Q) {
        var K = 65535 / 255,
            b = W.lU;
        b(w, o, 0);
        b(w, o + 2, Math.round(Q.W * K));
        b(w, o + 4, Math.round(Q.a * K));
        b(w, o + 6, Math.round(Q.k * K));
        b(w, o + 8, 0)
    };

    function dP() {}
    dP.DG = function(w) {
        var o = new Uint8Array(w),
            Q = 4,
            K = {};
        K.Wp = W.Pv(o, Q);
        Q += 4 + K.Wp.length * 2 + 2;
        K.exp = o[Q++] == 1;
        K.yG = [];
        var b = W.g(o, Q);
        Q += 4;
        for (var M = 0; M < b; M++) {
            var R = {};
            K.yG.push(R);
            R.qX = W.r9(o, Q);
            Q += 2;
            R.shift = o[Q++] == 1;
            R.ahc = o[Q++] == 1;
            R.color = W.r9(o, Q);
            Q += 2;
            R.Wp = W.Pv(o, Q);
            Q += 4 + R.Wp.length * 2 + 2;
            R.exp = o[Q++] == 1;
            R.yG = [];
            var eh = W.g(o, Q);
            Q += 4;
            for (var X = 0; X < eh; X++) {
                var h = {};
                R.yG.push(h);
                h.exp = o[Q++] == 1;
                h.l = o[Q++] == 1;
                h.a9M = o[Q++] == 1;
                h.a9U = o[Q++];
                var e = W.Ui(o, Q, 4);
                Q += 4;
                if (e == "TEXT") {
                    h.hj = dP.KA(o, Q);
                    Q += 4 + h.hj.length
                } else if (e == "long") {
                    h.hj = W.Ui(o, Q, 4);
                    Q += 4
                } else throw "e";
                h.FB = dP.KA(o, Q);
                Q += 4 + h.FB.length;
                var Z = W.Cd(o, Q);
                Q += 4;
                if (Z == -1) {
                    h.H8 = {};
                    var P = bd.Da(o, h.H8, Q);
                    Q += P
                }
            }
        }
        console.log(K);
        var J = new Uint8Array(dP.sc(K));
        for (var M = 0; M < J.length; M++)
            if (J[M] != o[M]) {
                console.log(o.length, J.length);
                var i = 4 * (M >>> 2) - 16;
                console.log(W.wX(o, i, 64));
                console.log(W.wX(J, i, 64));
                console.log(o.slice(i, i + 64));
                console.log(J.slice(i, i + 64));
                throw M
            } return [K]
    };
    dP.KA = function(w, o) {
        var Q = W.g(w, o);
        return W.Ui(w, o + 4, Q)
    };
    dP.eU = function(w, o, Q) {
        W.c5(w, o, Q.length);
        W.qH(w, o + 4, Q)
    };
    dP.sc = function(w) {
        var o = new fY,
            Q = 0;
        W.c5(o, Q, 16);
        Q += 4;
        W.Hr(o, Q, w.Wp + "\0");
        Q += 4 + w.Wp.length * 2 + 2;
        o.JL(Q, 1);
        o.data[Q++] = w.exp ? 1 : 0;
        var K = w.yG.length;
        W.c5(o, Q, K);
        Q += 4;
        for (var M = 0; M < K; M++) {
            var b = w.yG[M];
            W.Ih(o, Q, b.qX);
            Q += 2;
            o.JL(Q, 2);
            o.data[Q++] = b.shift ? 1 : 0;
            o.data[Q++] = b.ahc ? 1 : 0;
            W.Ih(o, Q, b.color);
            Q += 2;
            W.Hr(o, Q, b.Wp + "\0");
            Q += 4 + b.Wp.length * 2 + 2;
            o.JL(Q, 1);
            o.data[Q++] = b.exp ? 1 : 0;
            var eh = b.yG.length;
            W.c5(o, Q, eh);
            Q += 4;
            for (var R = 0; R < eh; R++) {
                var X = b.yG[R];
                o.JL(Q, 4);
                o.data[Q++] = X.exp ? 1 : 0;
                o.data[Q++] = X.l ? 1 : 0;
                o.data[Q++] = X.a9M ? 1 : 0;
                o.data[Q++] = X.a9U;
                var h = X.hj == "LqFy" || X.hj == "Avrg" || X.hj == "GEfc" || X.hj == "PbPl" || X.hj == "Fbrs" || X.hj == "Bokh";
                W.qH(o, Q, h ? "long" : "TEXT");
                Q += 4;
                if (!h) {
                    dP.eU(o, Q, X.hj);
                    Q += 4 + X.hj.length
                } else {
                    W.qH(o, Q, X.hj);
                    Q += 4
                }
                dP.eU(o, Q, X.FB);
                Q += 4 + X.FB.length;
                W.HT(o, Q, X.H8 ? -1 : 0);
                Q += 4;
                if (X.H8) {
                    var e = bd.OQ(o, X.H8, Q);
                    Q += e
                }
            }
        }
        return o.data.slice(0, Q).buffer
    };

    function hN() {}
    hN.DG = function(w) {
        var o = new Uint8Array(w),
            Q = 0,
            K = W.g(o, Q),
            e;
        Q += 4;
        var b = W.Ui(o, Q, 8);
        Q += 8;
        var R = W.Fh(o, Q);
        Q += 4;
        var X = W.Fh(o, Q);
        Q += 4;
        var h = W.Fh(o, Q);
        Q += 4;
        if (K == 2) {
            e = new Float32Array(w, 32, w.byteLength - 32 >>> 2)
        } else if (K == 3 || K == 4) {
            e = new Float32Array(X * h * 2);
            var Z = 0,
                P = 0,
                J = !0;
            Q = K == 3 ? 32 : 16 + 8 + 40;
            while (Q < o.length) {
                var i = W.Fh(o, Q);
                Q += 4;
                if (J) P += i;
                else {
                    for (var M = 0; M < i; M++) {
                        e[Z + P + M << 1] = W.X0(o, Q);
                        e[(Z + P + M << 1) + 1] = W.X0(o, Q + 4);
                        Q += 8
                    }
                    P += i
                }
                J = !J;
                if (i != 0 && P == X) {
                    Z += X;
                    P = 0;
                    J = !0;
                    if (Z == X * h) break
                }
            }
        } else throw "unknown Mesh version: " + K;
        return {
            i7: X,
            Y7: h,
            map: e
        }
    };
    hN.l8 = function(w) {
        var o = w.i7,
            Q = w.Y7,
            K = w.map,
            b = new Uint8Array(32 + Q * o * 8 + Q * 8),
            R = 0,
            X = 0;
        W.Oi(b, R, 3);
        R += 4;
        W.lo(b, R, "yfqLhseM");
        R += 8;
        W.LD(b, R, 2);
        R += 4;
        W.LD(b, R, o);
        R += 4;
        W.LD(b, R, Q);
        R += 4;
        W.LD(b, R, 0);
        R += 4;
        W.LD(b, R, 1);
        R += 4;
        for (var h = 0; h < Q; h++) {
            W.LD(b, R, 0);
            R += 4;
            W.LD(b, R, o);
            R += 4;
            for (var e = 0; e < o; e++) {
                W.r7(b, R, K[X]);
                W.r7(b, R + 4, K[X + 1]);
                X += 2;
                R += 8
            }
        }
        return b.buffer
    };

    function cg() {}
    cg.DG = function(w) {
        var o = new Uint8Array(w),
            Q = 0,
            K = W.Ui(o, Q, 4);
        Q += 4;
        var b = W.r9(o, Q);
        Q += 2;
        var R = W.g(o, Q);
        Q += 4;
        var X = [];
        for (var M = 0; M < R; M++) {
            var h = W.g(o, Q);
            Q += 4;
            var e = {
                classID: "ShpC",
                Nm: {
                    t: "TEXT",
                    v: ""
                },
                Crv: {
                    t: "VlLs",
                    v: []
                }
            };
            X.push(e);
            var Z = W.Pv(o, Q);
            e.Nm.v = Z;
            Q += 4 + Z.length * 2 + 2;
            var P = W.r9(o, Q);
            Q += 2;
            var J = W.r9(o, Q);
            Q += 2;
            for (var i = 0; i < J; i++) {
                var k = v.R2.va(0, 0, !0);
                k.v.Vrtc.v = W.r9(o, Q);
                Q += 2;
                k.v.Hrzn.v = W.r9(o, Q);
                Q += 2;
                e.Crv.v.push(k)
            }
            if (h == 1) {} else if (h == 2) {
                for (var i = 0; i < J; i++) {
                    e.Crv.v[i].v.Cnty.v = o[Q] == 1;
                    Q += 1
                }
            } else throw "error";
            var $ = W.g(o, Q);
            Q += 4;
            var n = W.g(o, Q);
            Q += 4
        }
        return X
    };
    cg.Pc = function(w, o) {
        w.Nm.v = o
    };
    cg.sc = function(w) {
        var o = new fY,
            Q = 0;
        W.qH(o, Q, "8BFS");
        Q += 4;
        W.Ih(o, Q, 1);
        Q += 2;
        W.c5(o, Q, w.length);
        Q += 4;
        for (var M = 0; M < w.length; M++) {
            W.c5(o, Q, 2);
            Q += 4;
            var K = w[M];
            W.Hr(o, Q, K.Nm.v + "\0");
            Q += 4 + K.Nm.v.length * 2 + 2;
            W.Ih(o, Q, 2);
            Q += 2;
            var b = K.Crv.v.length;
            W.Ih(o, Q, b);
            Q += 2;
            for (var R = 0; R < b; R++) {
                var X = K.Crv.v[R];
                W.Ih(o, Q, X.v.Vrtc.v);
                Q += 2;
                W.Ih(o, Q, X.v.Hrzn.v);
                Q += 2
            }
            o.JL(Q, b);
            for (var R = 0; R < b; R++) {
                o.data[Q] = K.Crv.v[R].v.Cnty.v;
                Q++
            }
            W.c5(o, Q, 0);
            Q += 4;
            W.c5(o, Q, 0);
            Q += 4
        }
        return o.data.slice(0, Q).buffer
    };

    function gx() {}
    gx.DG = function(w) {
        var o = new Uint8Array(w),
            Q = 4,
            K = W.r9(o, Q);
        Q += 2;
        var b = W.g(o, Q);
        Q += 4;
        var R = [];
        for (var M = 0; M < b; M++) {
            var X = {};
            R.push(X);
            Q = gx.c3(o, Q, X)
        }
        return R
    };
    gx.Pc = function(w, o) {
        w.name = o
    };
    gx.sc = function(w) {
        var o = new fY,
            Q = 0;
        W.qH(o, Q, "8BPT");
        Q += 4;
        W.Ih(o, Q, 1);
        Q += 2;
        W.c5(o, Q, w.length);
        Q += 4;
        for (var M = 0; M < w.length; M++) {
            Q = gx.p3(o, Q, w[M])
        }
        return o.data.slice(0, Q).buffer
    };
    gx.NG = function(w, o, Q) {
        var K = o + Q,
            b = [];
        while (o < K) {
            var R = {},
                X = W.g(w, o);
            o += 4;
            var h = o;
            o = gx.c3(w, o, R);
            if (!R.Ua[1].Kx()) b.push(R);
            if (X % 4 != 0) X += 4 - X % 4;
            o = h + X
        }
        return b
    };
    gx.Jb = function(w, o, Q) {
        for (var M = 0; M < Q.length; M++) {
            var K = Q[M];
            o += 4;
            var b = o;
            o = gx.p3(w, o, K);
            var R = o - b;
            W.c5(w, b - 4, R);
            if (R % 4 != 0) b += 4 - R % 4;
            o = b + R
        }
        return o
    };
    gx.c3 = function(w, o, Q) {
        var K = W.g(w, o);
        o += 4;
        if (K != 1) alert("Unknown version of pattern");
        var b = W.g(w, o);
        o += 4;
        if (b != 1 && b != 2 && b != 3) console.log("Unsupported mode of pattern: " + b);
        var R = W.r9(w, o);
        o += 2;
        var X = W.r9(w, o);
        o += 2;
        var h = new B(0, 0, X, R);
        Q.name = W.Pv(w, o);
        o += 4 + 2 * Q.name.length + 2;
        var e = w[o];
        o++;
        Q.id = W.Ui(w, o, e);
        o += Q.id.length;
        var Z = -1;
        if (b == 2) {
            Z = o;
            o += 3 * 256 + 4
        }
        var P = new v.Dz(X * R);
        o = gx.ah2(w, o, P);
        if (b == 2) {
            for (var M = 0; M < P.W.length; M++) {
                var J = 3 * P.W[M];
                P.W[M] = w[Z + J + 0];
                P.a[M] = w[Z + J + 1];
                P.k[M] = w[Z + J + 2]
            }
        }
        var i = v.$(h.O() * 4);
        v.GW(P, i);
        Q.Ua = [i, h];
        return o
    };
    gx.p3 = function(w, o, Q) {
        var K = Q.Ua[0],
            b = Q.Ua[1];
        W.c5(w, o, 1);
        o += 4;
        W.c5(w, o, 3);
        o += 4;
        W.Ih(w, o, b.j);
        o += 2;
        W.Ih(w, o, b.D);
        o += 2;
        W.Hr(w, o, Q.name + "\0");
        o += 4 + 2 * Q.name.length + 2;
        W.PL(w, o, Q.id.length);
        o++;
        W.qH(w, o, Q.id);
        o += Q.id.length;
        var R = new v.Dz(b.O());
        v.yn(K, R);
        o = gx.abX(w, o, R, b);
        return o
    };
    gx.ah2 = function(w, o, Q) {
        var K = o,
            b = {
                U: null,
                dN: [],
                ahz: null,
                Ue: null
            },
            R = W.g(w, o);
        o += 4;
        var X = W.g(w, o);
        o += 4;
        b.U = W.Er(w, o);
        o += 16;
        var h = W.g(w, o);
        o += 4;
        for (var M = 0; M < h + 2; M++) {
            var e = W.g(w, o);
            o += 4;
            if (e == 0) continue;
            var Z = W.g(w, o);
            o += 4;
            if (Z == 0) continue;
            var P = W.g(w, o);
            o += 4;
            var J = W.Er(w, o);
            o += 16;
            var i = W.r9(w, o);
            o += 2;
            var k = w[o];
            o++;
            var $ = aU.Sj(!1, P, w, J.D, J.j, o, k);
            if (M < h) b.dN.push($);
            if (M == h) b.ahz = $;
            if (M == h + 1) b.Ue = $;
            o += Z - 23
        }
        if (!b.U.Kx()) {
            if (b.dN[0]) Q.W = b.dN[0];
            if (b.dN[1]) Q.a = b.dN[1];
            else Q.a = v.clone(b.dN[0]);
            if (b.dN[2]) Q.k = b.dN[2];
            else Q.k = v.clone(b.dN[0]);
            if (b.Ue) Q.K = b.Ue;
            else v.set(Q.K, 255)
        }
        return o
    };
    gx.abX = function(w, o, Q, K) {
        var b = o,
            R = {
                U: K,
                dN: [Q.W, Q.a, Q.k],
                ahz: null,
                Ue: Q.K
            };
        W.c5(w, o, 3);
        o += 4;
        W.c5(w, o, 0);
        o += 4;
        W.H_(w, o, K);
        o += 16;
        W.c5(w, o, 24);
        o += 4;
        for (var M = 0; M < 24 + 2; M++) {
            var X = o,
                h = M < 3 || M == 25 ? 1 : 0;
            W.c5(w, o, h);
            o += 4;
            if (h == 0) continue;
            W.c5(w, o, 0);
            o += 4;
            W.c5(w, o, 8);
            o += 4;
            W.H_(w, o, K);
            o += 16;
            W.Ih(w, o, 8);
            o += 2;
            W.PL(w, o, 1, 1);
            o++;
            var e = M < 3 ? R.dN[M] : R.Ue;
            w.JL(o, K.O() + 2);
            o = aU.FY(e, w.data, K.D, K.j, o, 1);
            W.c5(w, X + 4, o - X - 8)
        }
        W.c5(w, b + 4, o - b - 8);
        return o
    };

    function cw() {}
    cw.DG = function(w) {
        var o = new Uint8Array(w),
            Q = 0,
            K = W.Ui(o, Q, 4);
        Q += 4;
        var b = W.r9(o, Q);
        Q += 2;
        var R = [];
        if (b <= 3) {
            var X = W.r9(o, Q);
            Q += 2;
            for (var M = 0; M < X; M++) {
                var h = o[Q++],
                    e = W.Ui(o, Q, h);
                Q += h;
                var Z = cw.AF(o, Q, e),
                    P = Z[0];
                Q = Z[1];
                R.push(P);
                Q += 6
            }
        } else {
            var Z = {},
                J = bd.Da(o, Z, Q + 4),
                i = Z.GrdL.v;
            for (var M = 0; M < i.length; M++) R[M] = i[M].v.Grad.v
        }
        return R
    };
    cw.Pc = function(w, o) {
        w.Nm.v = o
    };
    cw.sc = function(w) {
        var o = new fY,
            Q = 0;
        W.qH(o, Q, "8BGR");
        Q += 4;
        W.Ih(o, Q, 5);
        Q += 2;
        W.c5(o, Q, 16);
        Q += 4;
        var K = {
                classID: "null",
                GrdL: {
                    t: "VlLs",
                    v: []
                }
            },
            b = K.GrdL.v;
        for (var M = 0; M < w.length; M++) b[M] = {
            t: "Objc",
            v: {
                classID: "Grdn",
                __name: "Gradient ",
                Grad: {
                    t: "Objc",
                    v: w[M]
                }
            }
        };
        Q += bd.OQ(o, K, Q);
        return o.data.slice(0, Q).buffer
    };
    cw.AF = function(w, o, Q) {
        var K = {
                classID: "Grdn",
                Clrs: {
                    t: "VlLs",
                    v: []
                },
                GrdF: {
                    t: "enum",
                    v: {
                        GrdF: "CstS"
                    }
                },
                Intr: {
                    t: "doub",
                    v: 4096
                },
                Nm: {
                    t: "TEXT",
                    v: Q
                },
                Trns: {
                    t: "VlLs",
                    v: []
                }
            },
            b = W.r9(w, o);
        o += 2;
        if (b == 0) throw "e";
        for (var M = 0; M < b; M++) {
            var R = W.g(w, o),
                X = W.g(w, o + 4),
                h = hM.nS(w, o + 8),
                e = {
                    t: "Objc",
                    v: {
                        classID: "Clrt",
                        Clr: {
                            t: "Objc",
                            v: {
                                classID: "RGBC",
                                Rd: {
                                    t: "doub",
                                    v: h.W
                                },
                                Grn: {
                                    t: "doub",
                                    v: h.a
                                },
                                Bl: {
                                    t: "doub",
                                    v: h.k
                                }
                            }
                        },
                        Type: {
                            t: "enum",
                            v: {
                                Clry: "UsrS"
                            }
                        },
                        Lctn: {
                            t: "long",
                            v: R
                        },
                        Mdpn: {
                            t: "long",
                            v: X
                        }
                    }
                };
            K.Clrs.v.push(e);
            o += 20
        }
        var Z = W.r9(w, o);
        o += 2;
        for (var M = 0; M < Z; M++) {
            var R = W.g(w, o),
                X = W.g(w, o + 4),
                P = W.r9(w, o + 8),
                e = {
                    t: "Objc",
                    v: {
                        classID: "TrnS",
                        Opct: {
                            t: "UntF",
                            v: {
                                type: "#Prc",
                                val: Math.round(100 * P / 255)
                            }
                        },
                        Lctn: {
                            t: "long",
                            v: R
                        },
                        Mdpn: {
                            t: "long",
                            v: X
                        }
                    }
                };
            K.Trns.v.push(e);
            o += 10
        }
        return [K, o]
    };
    cw.am3 = function(w, o, Q) {
        var K = Q.Clrs.v.length;
        W.Ih(w, o, K);
        o += 2;
        for (var M = 0; M < K; M++) {
            var b = Q.Clrs.v[M];
            W.c5(w, o, b.v.Lctn.v);
            W.c5(w, o + 4, b.v.Mdpn.v);
            W.Ih(w, o + 8, 0);
            var R = v.V.Kt(v.V.c2(b.v.Clr.v)),
                X = [R.Rd.v, R.Grn.v, R.Bl.v, 0];
            for (var h = 0; h < 4; h++) W.Ih(w, o + 10 + h * 2, Math.round(65535 * (X[h] / 255)));
            o += 20
        }
        var e = Q.Trns.v.length;
        W.Ih(w, o, e);
        o += 2;
        for (var M = 0; M < e; M++) {
            var b = Q.Trns.v[M];
            W.c5(w, o, b.v.Lctn.v);
            W.c5(w, o + 4, b.v.Mdpn.v);
            W.Ih(w, o + 8, Math.round(255 * b.v.Opct.v.val / 100));
            o += 10
        }
        return o
    };

    function fw() {}
    fw.DG = function(w) {
        var o = new Uint8Array(w),
            Q = [],
            K = [],
            b = [],
            R = [],
            X = [],
            h = 0,
            e = W.Ui(o, h, 4);
        h += 4;
        var Z = W.g(o, h);
        h += 4;
        var P = W.g(o, h);
        h += 4;
        while (h < o.length) {
            var J = W.Ui(o, h, 4);
            h += 4;
            var i = W.Ui(o, h, 4);
            h += 4;
            var k = W.g(o, h);
            h += 4;
            if (i == "tppa") {
                K = gx.NG(o, h, k);
                h += k
            } else if (i == "tpbd") {
                b = cl.VR(o, h, k, 1, 1);
                h += k
            } else if (i == "tptp") {
                var $ = W.g(o, h);
                h += 4;
                for (var M = 0; M < $; M++) {
                    var n = W.Pv(o, h);
                    h += 6 + n.length * 2;
                    h += 4;
                    var j = {};
                    h += bd.Da(o, j, h);
                    Q.push([n, j])
                }
                while ((h & 3) != 0) h++
            } else if (i == "tpsh") {
                var y = h,
                    V = o.slice(h, h + k);
                while (h < y + k) {
                    var O = W.g(o, h);
                    h += 4;
                    h = f8.Ij(o, h, "Shape", R)
                }
                h = y + k
            } else if (i == "tpst") {
                var y = h;
                h += 4;
                while (h < y + k) {
                    var S = W.g(o, h);
                    h += 4;
                    var G = h,
                        D = W.g(o, h);
                    h += 4;
                    var j = {
                        LB: {},
                        Ze: {}
                    };
                    X.push(j);
                    h += 4;
                    h += bd.Da(o, j.LB, h);
                    h += 4;
                    h += bd.Da(o, j.Ze, h);
                    h = G + S;
                    var q = j.Ze.Lefx;
                    if (q) {
                        if (q.v.masterFXSwitch == null) q.v.masterFXSwitch = {
                            t: "bool",
                            v: !0
                        };
                        fQ.RR(q.v)
                    }
                }
                h = y + k
            } else {
                console.log(o.slice(h - 8, h + 64));
                console.log(W.Ui(o, h - 8, 64));
                throw i
            }
        }
        return {
            Pe: b,
            dg: K,
            list: Q,
            agg: R,
            Gz: X
        }
    };
    fw.Pc = function(w, o) {
        w[0] = o
    };
    fw.sc = function(w) {
        var o = new fY,
            Q = 0;
        W.qH(o, Q, "8BTP");
        Q += 4;
        W.c5(o, Q, 3);
        Q += 4;
        W.c5(o, Q, 1);
        Q += 4;
        var K = [w.dg, w.Pe, w.list];
        for (var M = 0; M < 3; M++) {
            if (K[M].length == 0) continue;
            W.qH(o, Q, "8BIM");
            Q += 4;
            var b = ["tppa", "tpbd", "tptp"][M];
            W.qH(o, Q, b);
            Q += 4;
            var R = Q;
            Q += 4;
            if (b == "tppa") {
                Q = gx.Jb(o, Q, w.dg)
            } else if (b == "tpbd") {
                Q = cl.pC(o, Q, w.Pe)
            } else if (b == "tptp") {
                W.c5(o, Q, w.list.length);
                Q += 4;
                for (var X = 0; X < w.list.length; X++) {
                    var h = w.list[X];
                    W.Hr(o, Q, h[0] + "\0");
                    Q += 6 + h[0].length * 2;
                    W.c5(o, Q, 16);
                    Q += 4;
                    Q += bd.OQ(o, h[1], Q)
                }
            }
            W.c5(o, R, Q - R - 4);
            while ((Q & 3) != 0) Q++;
            o.JL(Q, 0)
        }
        return o.data.slice(0, Q).buffer
    };

    function gD() {}
    gD.DG = function(w, o) {
        var Q = new Uint8Array(w),
            K;
        if (W.g(Q, 0) == Q.length) K = "icc";
        else if (Q[0] == "<".charCodeAt(0)) K = "look";
        else if (W.x$(Q, "LUT_3D_SIZE") != -1) K = "cube";
        else K = "3DL";
        if (K != "icc") {
            var b = gD.a3U(Q, K),
                R = gD.a7y(b[0], b[1]);
            Q = R
        }
        var X = [];
        for (var M = 0; M < Q.length; M++) X.push(Q[M]);
        return [{
            classID: "null",
            Dthr: {
                t: "bool",
                v: !0
            },
            Nm: {
                t: "TEXT",
                v: o ? o : "file.icc"
            },
            lookupType: {
                t: "enum",
                v: {
                    colorLookupType: "abstractProfile"
                }
            },
            profile: {
                t: "tdta",
                v: X
            }
        }]
    };
    gD.sc = function(w) {
        var o = w[0],
            Q = new Uint8Array(o.profile.v);
        return Q.buffer
    };
    gD.Pc = function(w, o) {
        w.Nm.v = o
    };
    gD.a7y = function(w, o) {
        var Q = new fY,
            K = 128;
        Q.JL(0, 128);
        var b = [0, 0, 14, 204, 65, 68, 66, 69, 4, 0, 0, 0, 108, 105, 110, 107, 82, 71, 66, 32, 82, 71, 66, 32, 7, 227, 0, 7, 0, 27, 0, 8, 0, 6, 0, 49, 97, 99, 115, 112, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 246, 214, 0, 1, 0, 0, 0, 0, 211, 45, 65, 68, 66, 69, 219, 126, 245, 21, 206, 223, 186, 23, 165, 212, 201, 219, 250, 10, 33, 62];
        for (var M = 0; M < b.length; M++) Q.data[M] = b[M];
        var R = ["desc", "A2B0"],
            X = R.length,
            h = 128 + 4 + X * 12;
        W.c5(Q, K, X);
        K += 4;
        for (var e = 0; e < X; e++) {
            var Z = R[e];
            W.qH(Q, K, Z);
            K += 4;
            W.c5(Q, K, h);
            K += 4;
            var P = h;
            if (Z == "desc") {
                W.qH(Q, P, "mluc");
                P += 4;
                P += 4;
                W.c5(Q, P, 1);
                P += 4;
                W.c5(Q, P, 12);
                P += 4;
                W.qH(Q, P, "enUS");
                P += 4;
                var J = "ICC by Photopea\0",
                    i = J.length * 2 + 2;
                W.c5(Q, P, i);
                P += 4;
                W.c5(Q, P, 28);
                P += 4;
                Q.JL(P, i);
                for (var M = 0; M < J.length; M++) Q.data[P + M * 2 + 1] = J.charCodeAt(M);
                P += i
            }
            if (Z == "A2B0") {
                W.qH(Q, P, "mAB ");
                P += 4;
                P += 4;
                Q.JL(P, 4);
                Q.data[P] = 3;
                Q.data[P + 1] = 3;
                P += 4;
                Q.JL(P, 4 * 5);
                P += 4 * 3;
                W.c5(Q, P, P + 8 - h);
                P += 4;
                P += 4;
                Q.JL(P, 20);
                Q.data[P] = w;
                Q.data[P + 1] = w;
                Q.data[P + 2] = w;
                P += 16;
                Q.data[P] = 2;
                P += 4;
                var k = w * w * w * 3;
                Q.JL(P, k * 2);
                for (var M = 0; M < k; M++) W.lU(Q.data, P + M * 2, Math.max(0, Math.min(65535, Math.round(o[M] * 65535))));
                P += k * 2
            }
            var $ = P - h;
            while (($ & 3) != 0) $++;
            W.c5(Q, K, $);
            K += 4;
            h += $
        }
        W.c5(Q, 0, h);
        return Q.data.slice(0, h)
    };
    gD.a3U = function(w, o) {
        o = "LUTFormat" + o.toUpperCase();
        var Q = [],
            K = 0,
            b = W.K1(w, 0, w.length),
            R = "";
        for (var M = 0; M < w.length && R == ""; M++) {
            if (w[M] == 10) R = "\n";
            else if (w[M] == 13) {
                R = "\r";
                if (w[M + 1] == 10) R += "\n"
            }
        }
        if (o == "LUTFormatCUBE") {
            var X = b.split(R);
            for (var M = 0; M < X.length; M++) {
                if (X[M] == "" || X[M][0] == "#") continue;
                var h = X[M].split(" "),
                    e = h[0];
                if (e == "LUT_3D_SIZE") {
                    K = parseInt(h[1]);
                    continue
                }
                if (["TITLE", "DOMAIN_MIN", "DOMAIN_MAX"].indexOf(e) != -1) continue;
                Q.push(parseFloat(h[0]), parseFloat(h[1]), parseFloat(h[2]))
            }
            Q = gD.SV(K, Q)
        } else if (o == "LUTFormat3DL") {
            var X = b.split(R),
                Z = 1 / 4095;
            for (var M = 0; M < X.length; M++) {
                var P = X[M];
                if (P == "" || P == "3DMESH" || P.startsWith("Mesh") || P[0] == "#") continue;
                var h = P.split(" "),
                    e = h[0];
                if (K == 0) {
                    K = h.length;
                    continue
                }
                Q.push(parseFloat(h[0]) * Z, parseFloat(h[1]) * Z, parseFloat(h[2]) * Z)
            }
        } else if (o == "LUTFormatLOOK") {
            var J = new DOMParser,
                i = J.parseFromString(b, "text/xml"),
                k = i.getElementsByTagName("LUT")[0],
                $ = k.children[0].textContent;
            K = parseInt(JSON.parse($));
            var n = k.children[1].textContent;
            n = n.replace(/"/g, "").replace(/\s/g, "");
            var j = 3 * K * K * K,
                y = j * 4,
                V = new Uint8Array(y);
            for (var M = 0; M < y; M++) {
                var O = n.charCodeAt(M * 2),
                    S = n.charCodeAt(M * 2 + 1),
                    G = O < 58 ? O - 48 : O - 55,
                    D = S < 58 ? S - 48 : S - 55;
                V[M] = (G << 4) + D
            }
            for (var M = 0; M < j; M++) Q.push(W.X0(V, M << 2));
            Q = gD.SV(K, Q)
        } else throw o;
        return [K, Q]
    };
    gD.aat = function(w, o, Q) {
        var K = ["#Created by www.Photopea.com", "TITLE \"" + Q + "\"", "", "#LUT size", "LUT_3D_SIZE " + o, "", "#data domain", "DOMAIN_MIN 0.0 0.0 0.0", "DOMAIN_MAX 1.0 1.0 1.0", "", "#LUT data points"],
            b = 6;
        for (var M = 0; M < w.length; M += 3) {
            K.push(w[M].toFixed(b) + " " + w[M + 1].toFixed(b) + " " + w[M + 2].toFixed(b))
        }
        K.push("");
        return W.wG(K.join("\n")).buffer
    };
    gD.SV = function(w, o) {
        var Q = [],
            K = w * w * w;
        for (var M = 0; M < K; M++) Q.push(0, 0, 0);
        for (var b = 0; b < w; b++)
            for (var R = 0; R < w; R++)
                for (var X = 0; X < w; X++) {
                    var M = 3 * (X + R * w + b * w * w),
                        h = 3 * (b + R * w + X * w * w);
                    Q[h] = o[M];
                    Q[h + 1] = o[M + 1];
                    Q[h + 2] = o[M + 2]
                }
        return Q
    };

    function bd() {}
    bd.Da = function(w, o, Q, K, b) {
        var R = Q,
            X;
        if (b == null) b = 0;
        var h = W.g(w, Q);
        if (h == 0) {
            X = "";
            Q += 4
        } else {
            X = W.Pv(w, Q);
            Q += 4 + 2 * X.length + 2
        }
        if (X != "") o.__name = X;
        o.classID = bd.c4(w, Q);
        if (K) console.log("\t".repeat(b), "- reading descriptor", o.classID, Q);
        Q += bd.VH(w, Q);
        var e = W.Cd(w, Q);
        Q += 4;
        for (var M = 0; M < e; M++) {
            var Z = bd.c4(w, Q);
            Q += bd.VH(w, Q);
            var P = bd.CF(w, Q, K, b);
            o[Z] = P;
            Q += P.size;
            delete P.size
        }
        return Q - R
    };
    bd.OQ = function(w, o, Q, K) {
        var b = Q,
            R = o.__name;
        if (R == null) R = "";
        R += "\0";
        W.Hr(w, Q, R);
        Q += 4 + 2 * R.length;
        bd.pX(w, Q, o.classID);
        Q += bd.VH(w.data, Q);
        W.HT(w, Q, Object.keys(o).length - 1 - (o.__name == null ? 0 : 1));
        Q += 4;
        for (var X in o) {
            if (X == "classID") continue;
            if (X == "__name") continue;
            bd.pX(w, Q, X);
            Q += bd.VH(w.data, Q);
            Q += bd.KN(w, Q, o[X])
        }
        return Q - b
    };
    bd.CF = function(w, o, Q, K) {
        var b = o,
            R = W.Ui(w, o, 4);
        o += 4;
        var X = {
            size: 0,
            t: R,
            v: null
        };
        if (Q) console.log("\t".repeat(K), "reading key", R, b);
        switch (R) {
            case "obj ":
            case "VlLs":
                X.v = [];
                var h = W.g(w, o);
                o += 4;
                for (var M = 0; M < h; M++) {
                    var e = bd.CF(w, o, Q, K + 1);
                    o += e.size;
                    delete e.size;
                    X.v.push(e)
                }
                break;
            case "UntF":
                X.v = {
                    type: W.Ui(w, o, 4),
                    val: W.Wg(w, o + 4)
                };
                o += 12;
                break;
            case "doub":
                X.v = W.Wg(w, o);
                o += 8;
                break;
            case "bool":
                X.v = w[o] == 1;
                o += 1;
                break;
            case "long":
                X.v = W.Cd(w, o);
                o += 4;
                break;
            case "comp":
                X.v = W.Cd(w, o + 4);
                o += 8;
                break;
            case "Objc":
                X.v = {};
                var Z = bd.Da(w, X.v, o, Q, K + 1);
                o += Z;
                break;
            case "TEXT":
                var P = W.g(w, o);
                if (P == 0) {
                    X.v = "";
                    o += 4
                } else {
                    X.v = W.Pv(w, o);
                    o += 4 + X.v.length * 2 + 2
                }
                break;
            case "enum":
                var J = bd.c4(w, o);
                o += bd.VH(w, o);
                var i = bd.c4(w, o);
                o += bd.VH(w, o);
                X.v = {};
                X.v[J] = i;
                break;
            case "tdta":
                var k = W.Cd(w, o);
                o += 4;
                X.v = [];
                for (var M = 0; M < k; M++) X.v.push(w[o + M]);
                o += k;
                break;
            case "ObAr":
                var $ = W.g(w, o);
                o += 4;
                var n = W.Pv(w, o);
                o += 4 + 2 * n.length + 2;
                if (n != "") throw n;
                var j = bd.c4(w, o);
                o += 4 + Math.max(4, j.length);
                X.v = {
                    classID: j,
                    arr: []
                };
                var y = W.g(w, o);
                o += 4;
                for (var M = 0; M < y; M++) {
                    var j = bd.c4(w, o);
                    o += 4 + Math.max(4, j.length);
                    var J = W.Ui(w, o, 4);
                    o += 4;
                    var V = W.Ui(w, o, 4);
                    o += 4;
                    var O = {
                        id: j,
                        type: J,
                        uID: V,
                        arr: []
                    };
                    X.v.arr.push(O);
                    var S = W.g(w, o, 4);
                    o += 4;
                    for (var G = 0; G < S; G++) {
                        var D = W.Wg(w, o);
                        o += 8;
                        O.arr.push(D)
                    }
                }
                break;
            case "Pth ":
                var q = o,
                    k = W.g(w, o);
                o += 4;
                var T = W.Ui(w, o, 4);
                o += 4;
                var L = W.Fh(w, o);
                o += 4;
                var N = W.a2I(w, o);
                o += 4 + N.length * 2;
                X.v = {
                    sig: T,
                    pth: N
                };
                break;
            case "Clss":
            case "type":
            case "rele":
                var N = W.Pv(w, o);
                o += 4 + N.length * 2 + 2;
                var F = bd.c4(w, o);
                o += 4 + Math.max(4, F.length);
                X.v = {
                    classID: F
                };
                if (N != "") X.v.__name = N;
                if (R == "rele") {
                    X.v.val = W.Cd(w, o);
                    o += 4
                }
                break;
            case "prop":
            case "Enmr":
            case "indx":
            case "name":
                var I = bd.p$[R],
                    N = W.Pv(w, o);
                o += 4 + N.length * 2 + 2;
                if (N.length != 0) {
                    console.log(R, N);
                    throw "e"
                }
                X.v = {};
                for (var M = 0; M < I.length; M++) {
                    var F = bd.c4(w, o);
                    o += 4 + Math.max(4, F.length);
                    X.v[I[M]] = F
                }
                if (R == "name") {
                    var N = W.Pv(w, o);
                    o += 4 + N.length * 2 + 2;
                    X.v.val = N
                }
                if (R == "indx") {
                    X.v.val = W.g(w, o);
                    o += 4
                }
                break;
            case "alis":
                var k = W.g(w, o);
                o += 4;
                X.v = W.Ui(w, o, k);
                o += k;
                break;
            default: {
                console.log("unknown oskey: " + R + ", " + b);
                throw "e";
                return X
            }
        }
        if (Q) {
            console.log("\t".repeat(K), X.v);
            console.log("\t".repeat(K), "======", o)
        }
        X.size = o - b;
        return X
    };
    bd.p$ = {
        name: ["classID"],
        prop: ["classID", "keyID"],
        Enmr: ["classID", "typeID", "enum"],
        indx: ["classID"]
    };
    bd.KN = function(w, o, Q) {
        var K = o,
            b = Q.t;
        Q = Q.v;
        W.qH(w, o, b);
        o += 4;
        switch (b) {
            case "obj ":
            case "VlLs":
                W.HT(w, o, Q.length);
                o += 4;
                for (var R = 0; R < Q.length; R++) {
                    var X = bd.KN(w, o, Q[R]);
                    o += X
                }
                break;
            case "UntF":
                W.qH(w, o, Q.type);
                W.t8(w, o + 4, Q.val);
                o += 12;
                break;
            case "doub":
                W.t8(w, o, Q);
                o += 8;
                break;
            case "bool":
                W.PL(w, o, Q ? 1 : 0, 1);
                o += 1;
                break;
            case "long":
                W.HT(w, o, Q);
                o += 4;
                break;
            case "comp":
                W.HT(w, o + 4, Q);
                o += 8;
                break;
            case "Objc":
                var X = bd.OQ(w, Q, o);
                o += X;
                break;
            case "TEXT":
                W.Hr(w, o, Q + "\0");
                o += 4 + Q.length * 2 + 2;
                break;
            case "enum":
                var h = Object.keys(Q)[0],
                    e = Q[h];
                bd.pX(w, o, h);
                o += bd.VH(w.data, o);
                bd.pX(w, o, e);
                o += bd.VH(w.data, o);
                break;
            case "tdta":
                W.c5(w, o, Q.length);
                o += 4;
                W.lN(w, o, Q);
                o += Q.length;
                break;
            case "ObAr":
                W.c5(w, o, Q.arr[0].arr.length);
                o += 4;
                W.Hr(w, o, "\0");
                o += 6;
                bd.pX(w, o, Q.classID);
                o += 4 + Math.max(4, Q.classID.length);
                W.c5(w, o, Q.arr.length);
                o += 4;
                for (var M = 0; M < Q.arr.length; M++) {
                    var Z = Q.arr[M];
                    bd.pX(w, o, Z.id);
                    o += 4 + Math.max(4, Z.id.length);
                    W.qH(w, o, Z.type);
                    o += 4;
                    W.qH(w, o, Z.uID);
                    o += 4;
                    W.c5(w, o, Z.arr.length);
                    o += 4;
                    for (var R = 0; R < Z.arr.length; R++) {
                        W.t8(w, o, Z.arr[R]);
                        o += 8
                    }
                }
                break;
            case "Pth ":
                var P = Q.pth.length * 2 + 4 + 8;
                W.c5(w, o, P);
                o += 4;
                W.qH(w, o, Q.sig);
                o += 4;
                W.Fi(w, o, P);
                o += 4;
                W.aeR(w, o, Q.pth);
                o += Q.pth.length * 2 + 4;
                break;
            case "Clss":
            case "type":
            case "rele":
                var J = Q.__name;
                if (J == null) J = "";
                W.Hr(w, o, J + "\0");
                o += 4 + J.length * 2 + 2;
                var i = Q.classID;
                bd.pX(w, o, i);
                o += 4 + Math.max(4, i.length);
                if (b == "rele") {
                    W.HT(w, o, Q.val);
                    o += 4
                }
                break;
            case "prop":
            case "Enmr":
            case "indx":
            case "name":
                var k = bd.p$[b];
                W.c5(w, o, 1);
                o += 6;
                for (var M = 0; M < k.length; M++) {
                    var i = Q[k[M]];
                    bd.pX(w, o, i);
                    o += 4 + Math.max(4, i.length)
                }
                if (b == "name") {
                    W.Hr(w, o, Q.val + "\0");
                    o += 4 + Q.val.length * 2 + 2
                }
                if (b == "indx") {
                    W.c5(w, o, Q.val);
                    o += 4
                }
                break;
            case "alis":
                var P = Q.length;
                W.c5(w, o, P);
                o += 4;
                W.qH(w, o, Q);
                o += P;
                break;
            default:
                console.log("unknown oskey: " + b);
                o = K;
                break
        }
        return o - K
    };
    bd.c4 = function(w, o) {
        var Q = W.Cd(w, o);
        if (Q > 1e3) throw "e";
        if (Q == 0) Q = 4;
        return W.Ui(w, o + 4, Q).trim()
    };
    bd.VH = function(w, o) {
        var Q = W.Cd(w, o);
        return Q == 0 ? 8 : 4 + Q
    };
    bd.pX = function(w, o, Q) {
        var K = "warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow trim then else".split(" "),
            b = 4 < Q.length || K.indexOf(Q) != -1;
        W.HT(w, o, b ? Q.length : 0);
        W.qH(w, o + 4, Q);
        if (Q.length < 4 && !b) {
            var R = "";
            for (var M = Q.length; M < 4; M++) R += " ";
            W.qH(w, o + 4 + Q.length, R)
        }
    };
    bd.aiI = function(w) {
        var o = {};
        for (var Q in w) {
            if (Q == "classID") o[Q] = w[Q];
            else if (Q == "__name") o[Q] = w[Q];
            else o[Q] = bd.V2(w[Q])
        }
        return o
    };
    bd.V2 = function(w) {
        if (w.Ve == "Objc") return bd.aiI(w.v);
        else if (w.Ve == "VlLs") {
            var o = [];
            for (var M = 0; M < w.v.length; M++) o.push(bd.V2(w.v[M]));
            return o
        } else if (w.Ve == "UntF") return w.v.val;
        else return w.v
    };

    function fQ() {}
    fQ.Ro = function(w, o, Q, K, b, R) {
        while (o < Q) {
            var X = W.Ui(w, o, 4);
            o += 4;
            if (X != "8BIM" && X != "8B64") {
                console.log("layer information signature error! " + X, "PSB = " + b);
                alert("Error in PSD file: wrong signature.");
                return Q
            }
            var h = W.Ui(w, o, 4);
            o += 4;
            var e = W.Cd(w, o);
            o += 4;
            if (b && "LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(h) != -1) {
                e = e << 32 | W.Cd(w, o);
                o += 4
            }
            if (b && ["pths"].indexOf(h) != -1) {
                e = e << 32 | W.Cd(w, o);
                o += 4
            }
            var Z = ["lrFX", "PlLd"];
            if (Z.indexOf(h) != -1) {
                if (e % 4 != 0) e += 4 - e % 4;
                o += e;
                continue
            }
            switch (h) {
                case "iOpa":
                    K[h] = w[o];
                    break;
                case "brst":
                    K[h] = [1, 1, 1];
                    for (var M = 0; M < e; M += 4) K[h][W.g(w, o + M)] = 0;
                    break;
                case "knko":
                    K[h] = w[o];
                    break;
                case "infx":
                    K[h] = w[o];
                    break;
                case "clbl":
                    K[h] = w[o];
                    break;
                case "lmgm":
                    K[h] = w[o];
                    break;
                case "vmgm":
                    K[h] = w[o];
                    break;
                case "lyid":
                    K[h] = W.g(w, o);
                    break;
                case "lsct":
                    K[h] = {
                        type: W.g(w, o)
                    };
                    if (e >= 12) K[h].TC = W.Ui(w, o + 8, 4);
                    break;
                case "lsdk":
                    K.lsct = {
                        type: W.g(w, o)
                    };
                    break;
                case "lyvr":
                    K[h] = W.g(w, o);
                    break;
                case "lnsr":
                    var P = {
                        artb: 1,
                        bgnd: 1,
                        cont: 1,
                        layr: 1,
                        lset: 1,
                        rend: 1,
                        shap: 1,
                        user: 1,
                        ____: null
                    };
                    K[h] = W.Ui(w, o, 4);
                    break;
                case "lspf":
                    K[h] = W.g(w, o);
                    break;
                case "lclr":
                    K[h] = W.r9(w, o);
                    break;
                case "luni":
                    K[h] = W.W9(w, o);
                    break;
                case "fxrp":
                    K[h] = new fB(W.Wg(w, o), W.Wg(w, o + 8));
                    break;
                case "artb":
                case "artd":
                    K[h] = {};
                    bd.Da(w, K[h], o + 4);
                    break;
                case "SoCo":
                    K[h] = {};
                    bd.Da(w, K[h], o + 4);
                    break;
                case "GdFl":
                    K[h] = {};
                    bd.Da(w, K[h], o + 4);
                    fQ.G_(K[h], h);
                    break;
                case "PtFl":
                    K[h] = {};
                    bd.Da(w, K[h], o + 4);
                    fQ.G_(K[h], h);
                    break;
                case "CgEd":
                    var J = K.brit = bf._R("brit"),
                        i = {};
                    bd.Da(w, i, o + 4);
                    J.Brgh.v = i.Brgh ? i.Brgh.v : 0;
                    J.Cntr.v = i.Cntr ? i.Cntr.v : 0;
                    J.useLegacy.v = i.useLegacy ? i.useLegacy.v : 0;
                    break;
                case "brit":
                    if (K.brit == null) {
                        var J = K.brit = bf._R("brit"),
                            i = {};
                        J.Brgh.v = W.m2(w, o);
                        J.Cntr.v = W.m2(w, o + 2);
                        J.useLegacy.v = !1
                    }
                    break;
                case "levl":
                    var k = w.buffer.slice(o, o + e);
                    K[h] = fT.DG(k);
                    break;
                case "curv":
                    K[h] = fd.lu(w, o, e);
                    break;
                case "expA":
                    var $ = W.r9(w, o),
                        n = K[h] = bf._R("expA");
                    n.Exps.v = W.If(w, o + 2);
                    n.Ofst.v = W.If(w, o + 6);
                    n.gammaCorrection.v = W.If(w, o + 10);
                    break;
                case "vibA":
                    K[h] = {};
                    bd.Da(w, K[h], o + 4);
                    break;
                case "hue2":
                    K[h] = e4.lu(w, o, e);
                    break;
                case "blnc":
                    var n = K[h] = bf._R(h);
                    n.PrsL.v = w[o + 18] == 1;
                    var j = ["ShdL", "MdtL", "HghL"];
                    for (var M = 0; M < 3; M++)
                        for (var y = 0; y < 3; y++) n[j[M]].v[y].v = W.m2(w, o + M * 6 + y * 2);
                    break;
                case "blwh":
                    var V = {};
                    bd.Da(w, V, o + 4);
                    var n = bf._R(h),
                        O = "Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
                    for (var M = 0; M < O.length; M++) {
                        n[O[M]] = V[O[M]];
                        delete V[O[M]]
                    }
                    K[h] = n;
                    break;
                case "phfl":
                    var n = K[h] = bf._R(h),
                        S = n.Clr.v,
                        $ = W.r9(w, o);
                    if ($ == 3) {
                        var G = [W.g(w, o + 2), W.g(w, o + 6), W.g(w, o + 10)],
                            D = 32768,
                            q = v.Bk(G[0] / D, G[1] / D, G[2] / D);
                        S.Lmnc.v = q.hc;
                        S.A.v = q.K;
                        S.B.v = q.k
                    }
                    if ($ == 2) {
                        var T = W.r9(w, o + 2);
                        if (T != 7) throw "e";
                        S.Lmnc.v = W.m2(w, o + 4) / 100;
                        S.A.v = W.m2(w, o + 6) / 100;
                        S.B.v = W.m2(w, o + 8) / 100
                    }
                    var L = o + 2 + ($ == 3 ? 12 : 10);
                    n.Dnst.v = W.g(w, L);
                    L += 4;
                    n.PrsL.v = w[L] == 1;
                    break;
                case "mixr":
                    var N = {
                        iq: W.r9(w, o + 2) == 1,
                        F: []
                    };
                    for (var M = 0; M < 20; M++) N.F.push(W.m2(w, o + 4 + M * 2));
                    K[h] = au.m1(N);
                    break;
                case "clrL":
                case "rplc":
                    K[h] = {};
                    bd.Da(w, K[h], o + 6);
                    break;
                case "nvrt":
                    K[h] = {};
                    break;
                case "post":
                    K[h] = bf._R("post");
                    K[h].Lvls.v = W.r9(w, o);
                    break;
                case "thrs":
                    K[h] = bf._R("thrs");
                    K[h].Lvl.v = W.r9(w, o);
                    break;
                case "grdm":
                    var F = {
                            rev: w[o + 2] == 1,
                            a5A: w[o + 3] == 1
                        },
                        I = o + 4,
                        s = W.W9(w, I);
                    I += 4 + s.length * 2;
                    var u = cw.AF(w, I, s),
                        g = u[0];
                    I = u[1];
                    var U = W.r9(w, I);
                    I += 2;
                    g.Intr.v = W.r9(w, I);
                    I += 2;
                    var r = W.r9(w, I);
                    I += 2;
                    F.mode = W.r9(w, I);
                    I += 2;
                    F.BJ = W.g(w, I);
                    I += 4;
                    F.aag = W.r9(w, I) == 1;
                    I += 2;
                    F.am2 = W.r9(w, I) == 1;
                    I += 2;
                    F.a0q = W.g(w, I);
                    I += 4;
                    F.aeP = W.r9(w, I);
                    I += 2;
                    F.vY = [];
                    for (var M = 0; M < 4; M++) F.vY.push(W.r9(w, I + M * 2));
                    I += 8;
                    F.W5 = [];
                    for (var M = 0; M < 4; M++) F.W5.push(W.r9(w, I + M * 2));
                    I += 8;
                    var x = W.r9(w, I);
                    I += 2;
                    var C = bf._R("grdm");
                    C.Rvrs.v = F.rev;
                    C.Grad.v = g;
                    K[h] = C;
                    break;
                case "selc":
                    K[h] = gf.lu(w, o, e);
                    break;
                case "vmsk":
                case "vsms":
                    var p = K.vmsk = new a.Y3,
                        l = W.Cd(w, o + 4),
                        c = (l >> 0 & 1) == 1;
                    p.Qu = (l >> 1 & 1) == 0;
                    p.isEnabled = (l >> 2 & 1) == 0;
                    p._ = f8.eS(w, o + 8, e - 8, R.D, R.j);
                    break;
                case "shmd":
                    K[h] = {};
                    var t = W.g(w, o),
                        L = o + 4;
                    for (var M = 0; M < t; M++) {
                        var X = W.Ui(w, L, 4);
                        L += 4;
                        var H = W.Ui(w, L, 4);
                        L += 4;
                        var ie = w[L];
                        L++;
                        if (Math.max(w[L], w[L + 1], w[L + 2]) != 0) throw "e";
                        L += 3;
                        var fk = W.g(w, L);
                        L += 4;
                        if (H == "cust" || H == "cmls" || H == "extn" || H == "mlst") {
                            var h5 = W.g(w, L);
                            if (h5 != 16) L += 4;
                            if (W.g(w, L) == 16) {
                                var V = {};
                                bd.Da(w, V, L + 4, !1);
                                K[h][H] = V;
                                if (H == "cmls") cr.ry.aaL(K[h][H])
                            }
                        } else {
                            console.log("unknown shmd key: " + H + ", size: " + fk)
                        }
                        L += fk
                    }
                    break;
                case "shpa":
                    var $ = W.g(w, o),
                        cf = W.g(w, o + 4);
                    if (cf != 0) console.log("some patterns present!");
                    break;
                case "TySh":
                    var f = K[h] = {},
                        $ = W.r9(w, o);
                    f.H = W.SZ(w, o + 2);
                    var aH = W.r9(w, o + 2 + 48);
                    f.zw = {};
                    var gY = bd.Da(w, f.zw, o + 56),
                        cC = fI.PA();
                    for (var cY in cC)
                        if (f.zw[cY] == null) f.zw[cY] = cC[cY];
                    f.OJ = {};
                    var gJ = bd.Da(w, f.OJ, o + 56 + gY + 6);
                    f.Hu = W.a35(w, o + 56 + gY + 6 + gJ);
                    f.rr = f0.DG(f.zw.EngineData.v);
                    fI.ag9(f.rr.EngineDict.StyleRun.RunArray);
                    if (f.rr.ResourceDict == null) f.rr.ResourceDict = JSON.parse(JSON.stringify(f.rr.DocumentResources));
                    delete f.zw.EngineData;
                    break;
                case "lfx2":
                case "lmfx":
                case "lfxs":
                    var bM = W.g(w, o),
                        cN = W.g(w, o + 4);
                    K.lmfx = {};
                    var gY = bd.Da(w, K.lmfx, o + 8);
                    fQ.RR(K.lmfx);
                    break;
                case "FMsk":
                    K[h] = W.iC(w, o, e);
                    break;
                case "Txt2":
                    K[h] = {};
                    K[h].raw = W.iC(w, o, e);
                    K[h].LX = dA.DG(K[h].raw);
                    break;
                case "Patt":
                    K[h] = gx.NG(w, o, e);
                    break;
                case "SoLd":
                    var eu = W.Ui(w, o, 4),
                        cU = W.g(w, o + 4),
                        h7 = W.g(w, o + 8);
                    K[h] = {};
                    var hn = bd.Da(w, K[h], o + 12);
                    if (K[h].nonAffineTransform == null) K[h].nonAffineTransform = JSON.parse(JSON.stringify(K[h].Trnf));
                    if (K[h].Impr == null) K[h].Impr = {
                        t: "Objc",
                        v: {
                            __name: "None",
                            classID: "none"
                        }
                    };
                    break;
                case "vstk":
                case "pths":
                    var cU = W.g(w, o);
                    K[h] = {};
                    var hn = bd.Da(w, K[h], o + 4);
                    break;
                case "vscg":
                    var H = W.Ui(w, o, 4),
                        cU = W.g(w, o + 4);
                    K[H] = {};
                    var hn = bd.Da(w, K[H], o + 8);
                    fQ.G_(K[H], H);
                    break;
                case "vogk":
                    var gS = W.g(w, o),
                        cU = W.g(w, o + 4);
                    K[h] = {};
                    var hn = bd.Da(w, K[h], o + 8);
                    K[h] = K[h].keyDescriptorList.v;
                    for (var M = 0; M < K[h].length; M++) {}
                    break;
                case "lnk2":
                case "lnkD__":
                case "lnk3__":
                    K[h] = [];
                    var I = o;
                    while (I < o + e) {
                        var aq = new a.Xd;
                        K[h].push(aq);
                        var r = W.Zo(w, I);
                        I += 8;
                        var ef = I;
                        aq.type = W.Ui(w, I, 4);
                        I += 4;
                        if (aq.type != "liFD") {
                            alert("Unknown Linked Layer type: " + aq.type);
                            break;
                            throw aq.type
                        }
                        aq.PB = W.g(w, I);
                        I += 4;
                        var dU = W.Sh(w, I);
                        I += 1 + dU.ct.length;
                        aq.eo = dU.ct;
                        aq.YG = W.Pv(w, I);
                        I += 4 + aq.YG.length * 2 + 2;
                        aq.o4 = W.Ui(w, I, 4);
                        I += 4;
                        aq.EL = W.Ui(w, I, 4);
                        I += 4;
                        var hO = W.Zo(w, I);
                        I += 8;
                        aq.open = w[I];
                        I += 1;
                        if (aq.open != 0) {
                            var ao = {},
                                gY = bd.Da(w, ao, I + 4);
                            if (gY % 4 != 0) gY += 4 - gY % 4;
                            console.log(ao);
                            I += gY + 4
                        }
                        aq.open = 0;
                        aq.raw = W.iC(w, I, hO);
                        I = ef + r;
                        if (r % 4 != 0) I += 4 - r % 4
                    }
                    break;
                case "FEid":
                    var I = o;
                    K[h] = [];
                    var hI = I + e,
                        $ = W.g(w, I);
                    I += 4;
                    while (I < hI) {
                        I += 4;
                        var r = W.g(w, I);
                        I += 4;
                        var u = {};
                        K[h].push(u);
                        u.id = W.Sh(w, I).ct;
                        I += u.id.length + 1;
                        var $ = W.g(w, I);
                        I += 4;
                        I += 4;
                        var a$ = W.g(w, I);
                        I += 4;
                        u.rect = W.Er(w, I);
                        I += 16;
                        var hH = W.g(w, I);
                        I += 4;
                        var bq = W.g(w, I);
                        I += 4;
                        var dq = new v.Dz(0);
                        for (var M = 0; M < bq + 2; M++) {
                            var g9 = W.g(w, I);
                            I += 4;
                            if (g9 != 0) {
                                I += 4;
                                var cx = W.g(w, I),
                                    hp = null;
                                I += 4;
                                if (M < 3 || M == 25) hp = aU.hH(!0, hH, w, u.rect.D, u.rect.j, I, cx);
                                if (M == 0) dq.W = hp;
                                if (M == 1) dq.a = hp;
                                if (M == 2) dq.k = hp;
                                if (M == 25) dq.K = hp;
                                I += cx
                            }
                        }
                        u.buffer = v.$(u.rect.O() * 4);
                        v.GW(dq, u.buffer);
                        v.Ay(u);
                        var b0 = w[I];
                        I++;
                        if (b0 != 0) {
                            u.q = new a.Zz;
                            u.q.rect = W.Er(w, I);
                            I += 16;
                            I += 4;
                            var bh = W.g(w, I);
                            I += 4;
                            u.q.channel = aU.hH(!0, hH, w, u.q.rect.D, u.q.rect.j, I, bh);
                            u.q.color = 255;
                            u.q.ei();
                            I += bh
                        }
                        if (r % 4 != 0) I += 4 - r % 4
                    }
                    break;
                case "Lr16":
                    bj.GQ(R, w, o);
                    break;
                default:
                    console.log("unknown layer tag: " + h + ", size: " + e);
                    break
            }
            var hA = "Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");
            if (hA.indexOf(h) == -1)
                if (e % 4 != 0) console.log("size not multiple of 4!!!", h);
            if (h != "luni" && h != "TySh" && h != "tySh" && h != "lfx2")
                if (e % 4 != 0) e += 4 - e % 4;
            o += e
        }
        var ft = [];
        for (var M = 0; M < ft.length; M++) delete K[ft[M]];
        return o
    };
    fQ.Qv = function(w, o, Q, K) {
        for (var b in Q)
            if (Q[b] == null) {
                alert("A bug occured (see console).");
                console.log("Please, report a bug, that \"" + b + "\" tag was present with a null value.");
                delete Q[b]
            } for (var b in Q) {
            W.qH(w, o, "8BIM");
            o += 4;
            var R = o,
                X = 0;
            W.qH(w, o, b);
            o += 4;
            W.HT(w, o, 0);
            o += 4;
            switch (b) {
                case "iOpa":
                    W.PL(w, o, Q[b], 1);
                    X = 4;
                    break;
                case "brst":
                    X = 0;
                    for (var M = 0; M < 3; M++)
                        if (Q[b][M] == 0) {
                            W.c5(w, o + X, M);
                            X += 4
                        } break;
                case "knko":
                    W.PL(w, o, Q[b], 1);
                    X = 4;
                    break;
                case "infx":
                    W.PL(w, o, Q[b], 1);
                    X = 4;
                    break;
                case "clbl":
                    W.PL(w, o, Q[b], 1);
                    X = 4;
                    break;
                case "lmgm":
                    W.PL(w, o, Q[b], 1);
                    X = 4;
                    break;
                case "vmgm":
                    W.PL(w, o, Q[b], 1);
                    X = 4;
                    break;
                case "lyid":
                    W.c5(w, o, Q[b]);
                    X = 4;
                    break;
                case "lsct":
                    W.c5(w, o, Q[b].type);
                    X = 4;
                    if (Q[b].TC) {
                        W.qH(w, o + 4, "8BIM");
                        W.qH(w, o + 8, Q[b].TC);
                        X = 12
                    }
                    break;
                case "lyvr":
                    W.c5(w, o, Q[b]);
                    X = 4;
                    break;
                case "lnsr":
                    W.qH(w, o, Q[b]);
                    X = 4;
                    break;
                case "lspf":
                    W.c5(w, o, Q[b]);
                    X = 4;
                    break;
                case "lclr":
                    W.Ih(w, o, Q[b]);
                    X = 8;
                    break;
                case "luni":
                    W.Hr(w, o, Q[b]);
                    X = 4 + 2 * Q[b].length;
                    break;
                case "fxrp":
                    W.t8(w, o, Q[b].x);
                    W.t8(w, o + 8, Q[b].y);
                    X = 16;
                    break;
                case "artb":
                case "artd":
                    W.c5(w, o, 16);
                    X = bd.OQ(w, Q[b], o + 4) + 4;
                    break;
                case "SoCo":
                    W.c5(w, o, 16);
                    X = bd.OQ(w, Q[b], o + 4) + 4;
                    break;
                case "GdFl":
                    W.c5(w, o, 16);
                    X = bd.OQ(w, Q[b], o + 4) + 4;
                    break;
                case "PtFl":
                    W.c5(w, o, 16);
                    X = bd.OQ(w, Q[b], o + 4) + 4;
                    break;
                case "CgEd":
                    var h = {
                            classID: "null",
                            Vrsn: {
                                t: "long",
                                v: 1
                            },
                            Brgh: {
                                t: "long",
                                v: 24
                            },
                            Cntr: {
                                t: "long",
                                v: 54
                            },
                            means: {
                                t: "long",
                                v: 127
                            },
                            Lab: {
                                t: "bool",
                                v: !1
                            },
                            useLegacy: {
                                t: "bool",
                                v: !1
                            },
                            Auto: {
                                t: "bool",
                                v: !0
                            }
                        },
                        e = h,
                        Z = Q[b];
                    e.Brgh.v = Z.Brgh.v;
                    e.Cntr.v = Z.Cntr.v;
                    e.useLegacy.v = Z.useLegacy.v;
                    W.c5(w, o, 16);
                    X = bd.OQ(w, h, o + 4) + 4;
                    break;
                case "brit":
                    w.JL(o, 8);
                    X = 8;
                    break;
                case "levl":
                    var P = new fY;
                    X = fT.sc(P, Q[b]);
                    W.lN(w, o, P.data);
                    break;
                case "curv":
                    X = fd._r(w, o, Q[b]);
                    break;
                case "expA":
                    X = 14;
                    w.JL(o, 14);
                    W.lU(w.data, o, 1);
                    W.g0(w.data, o + 2, Q[b].Exps.v);
                    W.g0(w.data, o + 6, Q[b].Ofst.v);
                    W.g0(w.data, o + 10, Q[b].gammaCorrection.v);
                    break;
                case "vibA":
                    W.c5(w, o, 16);
                    X = bd.OQ(w, Q[b], o + 4) + 4;
                    break;
                case "hue2":
                    X = e4._r(w, o, Q[b]);
                    break;
                case "blnc":
                    X = 19;
                    w.JL(o, X);
                    var J = ["ShdL", "MdtL", "HghL"];
                    for (var M = 0; M < 3; M++) {
                        var i = Q[b][J[M]].v;
                        for (var k = 0; k < 3; k++) i.push(W.G9(w.data, o + M * 6 + k * 2, i[k].v))
                    }
                    w.data[o + 18] = Q[b].PrsL.v ? 1 : 0;
                    break;
                case "blwh":
                    var h = {
                            classID: "null",
                            bwPresetKind: {
                                t: "long",
                                v: 1
                            },
                            blackAndWhitePresetFileName: {
                                t: "TEXT",
                                v: ""
                            }
                        },
                        $ = "Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
                    for (var M = 0; M < $.length; M++) {
                        h[$[M]] = Q[b][$[M]]
                    }
                    W.c5(w, o, 16);
                    X = bd.OQ(w, h, o + 4) + 4;
                    break;
                case "phfl":
                    W.Ih(w, o, 2);
                    var n = Q[b].Clr.v;
                    W.Ih(w, o + 2, 7);
                    W.Ih(w, o + 4, Math.round(n.Lmnc.v * 100));
                    W.Ih(w, o + 6, Math.round(n.A.v * 100));
                    W.Ih(w, o + 8, Math.round(n.B.v * 100));
                    W.Ih(w, o + 10, 0);
                    var j = o + 2 + 10;
                    w.JL(j, 5);
                    W.Oi(w.data, j, Q[b].Dnst.v);
                    j += 4;
                    w.data[j] = Q[b].PrsL.v ? 1 : 0;
                    j++;
                    X = j - o;
                    break;
                case "mixr":
                    X = 44;
                    w.JL(o, X);
                    var y = au.dS(Q[b]);
                    W.lU(w.data, o, 1);
                    W.lU(w.data, o + 2, y.iq ? 1 : 0);
                    for (var M = 0; M < 20; M++) W.G9(w.data, o + 4 + M * 2, y.F[M]);
                    break;
                case "clrL":
                case "rplc":
                    W.Ih(w, o, 1);
                    W.c5(w, o + 2, 16);
                    X = bd.OQ(w, Q[b], o + 6) + 6;
                    break;
                case "nvrt":
                    X = 0;
                    break;
                case "post":
                    W.Ih(w, o, Q[b].Lvls.v);
                    X = 2;
                    break;
                case "thrs":
                    W.Ih(w, o, Q[b].Lvl.v);
                    X = 2;
                    break;
                case "grdm":
                    var V = {
                            rev: Q[b].Rvrs.v,
                            a5A: !1,
                            mode: 0,
                            BJ: 867527939,
                            aag: !1,
                            am2: !0,
                            a0q: 2048,
                            aeP: 3,
                            vY: [0, 0, 0, 0],
                            W5: [32768, 32768, 32768, 32768]
                        },
                        O = Q[b].Grad.v;
                    w.JL(o, 4);
                    W.lU(w.data, o, 1);
                    w.data[o + 2] = V.rev ? 1 : 0;
                    w.data[o + 3] = V.a5A ? 1 : 0;
                    var S = o + 4;
                    W.Hr(w, S, O.Nm.v);
                    S += 4 + O.Nm.v.length * 2;
                    S = cw.am3(w, S, O);
                    W.Ih(w, S, 2);
                    S += 2;
                    W.Ih(w, S, O.Intr.v);
                    S += 2;
                    W.Ih(w, S, 32);
                    S += 2;
                    W.Ih(w, S, V.mode);
                    S += 2;
                    W.c5(w, S, V.BJ);
                    S += 4;
                    W.Ih(w, S, V.aag ? 1 : 0);
                    S += 2;
                    W.Ih(w, S, V.am2 ? 1 : 0);
                    S += 2;
                    W.c5(w, S, V.a0q);
                    S += 4;
                    W.Ih(w, S, V.aeP);
                    S += 2;
                    for (var M = 0; M < 4; M++) W.Ih(w, S + M * 2, V.vY[M]);
                    S += 8;
                    for (var M = 0; M < 4; M++) W.Ih(w, S + M * 2, V.W5[M]);
                    S += 8;
                    S += 2;
                    X = S - o;
                    break;
                case "selc":
                    X = gf._r(w, o, Q[b]);
                    break;
                case "FMsk":
                    W.lN(w, o, Q[b]);
                    X = Q[b].length;
                    break;
                case "Txt2":
                    var G = new fY,
                        D = dA.l8(Q[b].LX, G),
                        q = v.$(D, !0);
                    for (var M = 0; M < D; M++) q[M] = G.data[M];
                    W.lN(w, o, q);
                    X = q.length;
                    break;
                case "vmsk":
                    var T = Q[b],
                        L = 0;
                    W.c5(w, o, 3);
                    if (!T.Qu) L += 1 << 1;
                    if (!T.isEnabled) L += 1 << 2;
                    W.c5(w, o + 4, L);
                    X = 8;
                    var N = T._.length;
                    w.JL(o + 8, N * 26);
                    f8.An(w.data, o + 8, T._, K.D, K.j);
                    X += N * 26;
                    break;
                case "shmd":
                    W.c5(w, o, Object.keys(Q[b]).length);
                    var j = o + 4;
                    for (var F in Q[b]) {
                        W.qH(w, j, "8BIM");
                        j += 4;
                        W.qH(w, j, F);
                        j += 4;
                        W.c5(w, j, 0);
                        j += 4;
                        W.c5(w, j, 0);
                        j += 4;
                        W.c5(w, j, 16);
                        j += 4;
                        var I = bd.OQ(w, Q[b][F], j);
                        if (I % 4 != 0) I += 4 - I % 4;
                        W.c5(w, j - 8, I + 4);
                        j += I
                    }
                    X = j - o;
                    break;
                case "TySh":
                    var j = o;
                    W.DY(w, j, 1);
                    j += 2;
                    var s = Q[b],
                        G = new fY;
                    s.rr.DocumentResources = JSON.parse(JSON.stringify(s.rr.ResourceDict));
                    var D = f0.l8(s.rr, G),
                        q = v.$(D, !0);
                    for (var M = 0; M < D; M++) q[M] = G.data[M];
                    s.zw.EngineData = {
                        t: "tdta",
                        v: q
                    };
                    var u = s.rr.EngineDict.Editor.Text;
                    s.zw.Txt.v = u.substring(0, u.length - 1);
                    W.agN(w, j, s.H);
                    j += 48;
                    W.DY(w, j, 50);
                    j += 2;
                    W.c5(w, j, 16);
                    j += 4;
                    j += bd.OQ(w, s.zw, j);
                    W.DY(w, j, 1);
                    j += 2;
                    W.c5(w, j, 16);
                    j += 4;
                    j += bd.OQ(w, s.OJ, j);
                    W.a3E(w, j, s.Hu);
                    j += 16;
                    X = j - o;
                    break;
                case "lmfx":
                    W.c5(w, o, 0);
                    W.c5(w, o + 4, 16);
                    var h = JSON.parse(JSON.stringify(Q[b])),
                        g = !1;
                    fQ.F$(h);
                    for (var M = 0; M < b_.Ix.length; M++)
                        if (h[b_.Ix[M]] != null) g = !0;
                    W.qH(w, R, g ? "lmfx" : "lfx2");
                    X = bd.OQ(w, h, o + 8) + 8;
                    break;
                case "Patt":
                    var j = gx.Jb(w, o, Q[b]);
                    X = j - o;
                    break;
                case "SoLd":
                    W.qH(w, o, "soLD");
                    W.c5(w, o + 4, 4);
                    W.c5(w, o + 8, 16);
                    X = bd.OQ(w, Q[b], o + 12) + 12;
                    break;
                case "vstk":
                case "pths":
                    W.c5(w, o, 16);
                    X = bd.OQ(w, Q[b], o + 4) + 4;
                    break;
                case "vscg__":
                    W.qH(w, o, Q[b].key);
                    W.c5(w, o + 4, 16);
                    X = bd.OQ(w, Q[b].F, o + 8) + 8;
                    break;
                case "vogk":
                    W.c5(w, o, 1);
                    W.c5(w, o + 4, 16);
                    v.Wn.a5n(Q[b]);
                    for (var M = 0; M < Q[b].length; M++) {
                        var U = Q[b][M].v.keyOriginResolution;
                        if (U) U.v = K.cK
                    }
                    var r = {
                        classID: "null",
                        keyDescriptorList: {
                            t: "VlLs",
                            v: Q[b]
                        }
                    };
                    X = bd.OQ(w, r, o + 8) + 8;
                    break;
                case "lnkD":
                case "lnk2":
                case "lnk3":
                    var S = o;
                    for (var M = 0; M < Q[b].length; M++) {
                        var x = Q[b][M],
                            C = S;
                        W.$a(w, S, 0);
                        S += 8;
                        W.qH(w, S, x.type);
                        S += 4;
                        W.c5(w, S, x.PB);
                        S += 4;
                        w.JL(S, 1);
                        w.data[S] = x.eo.length;
                        S++;
                        W.qH(w, S, x.eo);
                        S += x.eo.length;
                        W.Hr(w, S, x.YG + "\0");
                        S += 4 + x.YG.length * 2 + 2;
                        W.qH(w, S, x.o4);
                        S += 4;
                        W.qH(w, S, x.EL);
                        S += 4;
                        W.$a(w, S, x.raw.length);
                        S += 8;
                        w.JL(S, 1);
                        w.data[S] = x.open;
                        S++;
                        W.lN(w, S, x.raw);
                        S += x.raw.length;
                        W.c5(w, S, 1);
                        S += 4;
                        S += 11;
                        var p = S - C - 8;
                        W.$a(w, C, p);
                        if (p % 4 != 0) {
                            w.JL(S, 4 - p % 4);
                            S += 4 - p % 4
                        }
                    }
                    X = S - o;
                    break;
                case "FEid":
                    var S = o;
                    W.c5(w, S, 3);
                    S += 4;
                    for (var l = 0; l < Q[b].length; l++) {
                        var c = Q[b][l];
                        S += 4;
                        var t = S;
                        S += 4;
                        W.jq(w, S, c.id);
                        S += c.id.length + 1;
                        W.c5(w, S, 1);
                        S += 4;
                        S += 4;
                        var H = S;
                        S += 4;
                        W.H_(w, S, c.rect);
                        S += 16;
                        W.c5(w, S, 8);
                        S += 4;
                        W.c5(w, S, 24);
                        S += 4;
                        var gl = new v.Dz(c.rect.O());
                        v.yn(c.buffer, gl);
                        for (var M = 0; M < 24 + 2; M++) {
                            var ie = null;
                            if (M == 0) ie = gl.W;
                            if (M == 1) ie = gl.a;
                            if (M == 2) ie = gl.k;
                            if (M == 25) ie = gl.K;
                            W.c5(w, S, ie != null ? 1 : 0);
                            S += 4;
                            if (ie != null) {
                                S += 4;
                                var fk = S;
                                S += 4;
                                w.JL(S, c.rect.O() + 2);
                                S = aU.ht(ie, w.data, c.rect.D, c.rect.j, S, 3);
                                W.c5(w, fk, S - (fk + 4))
                            }
                        }
                        W.c5(w, H, S - (H + 4));
                        w.JL(S, 1);
                        w.data[S] = c.q ? 1 : 0;
                        S++;
                        if (c.q != null) {
                            var h5 = c.q.rect,
                                cf = c.q.channel;
                            h5 = c.rect;
                            cf = v.$(h5.O());
                            v.set(cf, c.q.color);
                            v.Hp(c.q.channel, c.q.rect, cf, h5);
                            W.H_(w, S, h5);
                            S += 16;
                            S += 4;
                            var f = S;
                            S += 4;
                            w.JL(S, h5.O() + 2);
                            S = aU.ht(cf, w.data, h5.D, h5.j, S, 3);
                            W.c5(w, f, S - (f + 4))
                        }
                        var p = S - (t + 4);
                        W.c5(w, t, p);
                        if (p % 4 != 0) S += 4 - p % 4
                    }
                    X = S - o;
                    break;
                default:
                    console.log("unknown layer tag: " + b + ", size: " + X);
                    o -= 12;
                    continue
            }
            var aH = ["Txt2", "artd", "extd", "luni", "pths"];
            if (aH.indexOf(b) == -1)
                if (X % 4 != 0) X += 4 - X % 4;
            W.HT(w, o - 4, X);
            if (b != "luni" && b != "TySh")
                if (X % 4 != 0) X += 4 - X % 4;
            o += X
        }
        return o
    };
    fQ.RR = function(w) {
        for (var M = 0; M < b_.order.length; M++) {
            var o = b_.order[M],
                Q = b_.Ix[M];
            if (w[Q] == null) w[Q] = {
                t: "VlLs",
                v: []
            };
            if (w[o] != null) {
                w[Q].v.push(w[o]);
                delete w[o]
            }
            var K = [];
            for (var b = 0; b < w[Q].v.length; b++) {
                var R = w[Q].v[b];
                if (R.v.present == null || R.v.present.v == !0) K.push(R)
            }
            w[Q].v = K
        }
    };
    fQ.F$ = function(w) {
        for (var M = 0; M < b_.order.length; M++) {
            var o = b_.order[M],
                Q = b_.Ix[M],
                K = w[Q].v.length;
            if (K == 0) {
                delete w[Q];
                continue
            }
            if (K == 1) {
                w[o] = w[Q].v[0];
                delete w[Q];
                continue
            }
        }
    };
    fQ.G_ = function(w, o) {
        if (o == "GdFl") {
            if (w.Angl == null) w.Angl = {
                v: {
                    type: "#Ang",
                    val: 0
                },
                t: "UntF"
            };
            if (w.Algn == null) w.Algn = {
                v: !0,
                t: "bool"
            };
            if (w.Scl == null) w.Scl = {
                v: {
                    type: "#Prc",
                    val: 100
                },
                t: "UntF"
            };
            if (w.Ofst == null) w.Ofst = {
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        v: {
                            type: "#Prc",
                            val: 0
                        },
                        t: "UntF"
                    },
                    Vrtc: {
                        v: {
                            type: "#Prc",
                            val: 0
                        },
                        t: "UntF"
                    }
                },
                t: "Objc"
            };
            if (w.Rvrs == null) w.Rvrs = {
                v: !1,
                t: "bool"
            };
            if (w.Dthr == null) w.Dthr = {
                v: !1,
                t: "bool"
            }
        }
        if (o == "PtFl") {
            if (w.Algn == null) w.Algn = {
                v: !0,
                t: "bool"
            };
            if (w.Scl == null) w.Scl = {
                v: {
                    type: "#Prc",
                    val: 100
                },
                t: "UntF"
            };
            if (w.phase == null) w.phase = {
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        v: 0,
                        t: "doub"
                    },
                    Vrtc: {
                        v: 0,
                        t: "doub"
                    }
                },
                t: "Objc"
            }
        }
    };
    fQ.clone = function(w, o) {
        var Q = {};
        if (w == "TySh") {
            Q.H = o.H.clone();
            Q.zw = JSON.parse(JSON.stringify(o.zw));
            Q.OJ = JSON.parse(JSON.stringify(o.OJ));
            Q.Hu = o.Hu.clone();
            Q.rr = JSON.parse(JSON.stringify(o.rr));
            if (o.add) Q.add = {
                vmsk: o.add.vmsk.clone(),
                vogk: JSON.parse(JSON.stringify(o.add.vogk))
            };
            return Q
        } else if (w == "fxrp") return o.clone();
        else if (w == "vmsk") return o.clone();
        else return JSON.parse(JSON.stringify(o))
    };

    function ah(w, o) {}
    ah.DG = function(w, o, Q, K) {
        K = ah.ain(w, o, Q, K);
        return K
    };
    ah.l8 = function(w, o, Q, K, b) {
        K = ah.ae$(w, o, Q, K, b);
        return K
    };
    ah.ain = function(w, o, Q, K) {
        var b = K;
        w.rect = W.Er(Q, K);
        K += 16;
        var R = W.r9(Q, K);
        K += 2;
        w.K6 = [];
        var X = o.GA;
        for (var M = 0; M < R; M++) {
            w.K6[M] = {
                id: W.m2(Q, K),
                length: (X ? W.Zo : W.g)(Q, K + 2)
            };
            K += X ? 10 : 6
        }
        var h = W.Ui(Q, K, 4);
        K += 4;
        if (h != "8BIM") {
            console.log("Invalid Blend mode signature: " + h);
            alert("Error in Photoshop file: wrong signature.");
            throw "e"
        }
        w.TC = W.Ui(Q, K, 4);
        K += 4;
        w.opacity = Q[K];
        K += 1;
        w.xx = Q[K] == 1;
        K += 1;
        w.a1 = Q[K];
        K += 1;
        if (Q[K] != 0) console.log("error in filler!");
        K += 1;
        var e = W.g(Q, K);
        K += 4;
        var Z = K;
        K = ah.afZ(w, Q, K);
        K = ah.afh(w, Q, K);
        var P = W.Sh(Q, K);
        w.name = P.ct;
        K += P.length;
        if (P.length % 4 != 0) K += 4 - P.length % 4;
        K = fQ.Ro(Q, K, Z + e, w.add, X, o);
        if (w.uk) {
            var J = w.uk;
            if (w._f()) {
                w._f().v$ = J[0];
                w._f().YF = J[1]
            }
            if (w.add.vmsk) {
                w.add.vmsk.v$ = J[2];
                w.add.vmsk.YF = J[3]
            }
        }
        if (w.add.lsct) {
            if (w.add.lsct.TC) w.TC = w.add.lsct.TC;
            w.add.lsct = w.add.lsct.type
        }
        return K
    };
    ah.ae$ = function(w, o, Q, K, b) {
        var R = K;
        W.H_(Q, K, w.rect);
        K += 16;
        var X = w.AJ();
        W.Ih(Q, K, X.length);
        K += 2;
        b.push(K);
        for (var M = 0; M < X.length; M++) {
            W.DY(Q, K, X[M]);
            W.c5(Q, K + 2, 0);
            K += 6
        }
        W.qH(Q, K, "8BIM");
        K += 4;
        W.qH(Q, K, w.TC);
        K += 4;
        W.PL(Q, K, w.opacity, 1);
        K += 1;
        W.PL(Q, K, w.xx ? 1 : 0, 1);
        K += 1;
        W.PL(Q, K, w.a1, 1);
        K += 1;
        W.PL(Q, K, 0, 1);
        K += 1;
        var h = K;
        W.c5(Q, K, 0);
        K += 4;
        var e = K;
        K = ah.aiu(w, Q, K);
        K = ah.aea(w, Q, K);
        var Z = W.jq(Q, K, w.name.slice(0, 255));
        K += Z;
        if (Z % 4 != 0) K += 4 - Z % 4;
        if (w.add.lsct) {
            w.add.lsct = {
                type: w.add.lsct
            };
            if (w.TC == "pass") {
                w.add.lsct.TC = "pass";
                w.TC = "norm"
            }
        }
        if (w.TC == "pass") w.add.lsct = {
            type: w.add.lsct,
            TC: "pass"
        };
        if (w.add.brit) w.add.CgEd = w.add.brit;
        K = fQ.Qv(Q, K, w.add, o);
        delete w.add.CgEd;
        if (w.add.lsct) {
            if (w.add.lsct.TC) w.TC = w.add.lsct.TC;
            w.add.lsct = w.add.lsct.type
        }
        var P = K - e;
        W.c5(Q, h, P);
        return K
    };
    ah.afZ = function(w, o, Q) {
        var K = W.g(o, Q);
        Q += 4;
        if (K == 0) return Q;
        var b = Q;
        w.q = new a.Zz;
        w.q.rect = W.Er(o, Q);
        Q += 16;
        w.q.color = o[Q];
        Q += 1;
        var R = ah.Xc(w.q, o, Q);
        Q += 1;
        if (R) {
            var X = !1,
                h = 255,
                e = 0,
                Z = 255,
                P = 0;
            for (var M = 0; M < w.K6.length; M++)
                if (w.K6[M].id == -3) X = !0;
            if (X) {
                w.B3 = ah.MY(o, Q);
                Q += 18
            }
            var J = Q,
                i = o[Q];
            Q++;
            if (i >> 0 & 1) {
                h = o[Q];
                Q++
            }
            if (i >> 1 & 1) {
                e = W.Wg(o, Q);
                Q += 8
            }
            if (i >> 2 & 1) {
                Z = o[Q];
                Q++
            }
            if (i >> 3 & 1) {
                P = W.Wg(o, Q);
                Q += 8
            }
            if ((Q - J & 1) == 1) Q++;
            w.uk = [h, e, Z, P]
        } else {
            if (K == 20) Q += 2;
            else {
                w.B3 = ah.MY(o, Q);
                Q += 18
            }
        }
        return b + K
    };
    ah.aiu = function(w, o, Q) {
        W.c5(o, Q, 0);
        Q += 4;
        if (w.q == null) return Q;
        var K = Q,
            b = !0;
        W.c5(o, Q, 0);
        W.H_(o, Q, w.q.rect);
        Q += 16;
        W.PL(o, Q, w.q.color);
        Q += 1;
        ah.NW(w.q, o, Q, b);
        Q += 1;
        if (b) {
            if (w.B3) {
                ah.a6W(o, Q, w.B3);
                Q += 18
            }
            W.PL(o, Q, 15);
            Q += 1;
            var R = w._f(),
                X = w.add.vmsk;
            W.PL(o, Q, R ? R.v$ : 255);
            Q += 1;
            W.t8(o, Q, R ? R.YF : 0);
            Q += 8;
            W.PL(o, Q, X ? X.v$ : 255);
            Q += 1;
            W.t8(o, Q, X ? X.YF : 0);
            Q += 8;
            Q++;
            W.c5(o, K - 4, Q - K)
        }
        return Q
    };
    ah.MY = function(w, o) {
        var Q = new a.Zz;
        ah.Xc(Q, w, o);
        o += 1;
        Q.color = w[o];
        o += 1;
        Q.rect = W.Er(w, o);
        o += 16;
        return Q
    };
    ah.a6W = function(w, o, Q) {
        ah.NW(Q, w, o, !1);
        o += 1;
        W.PL(w, o, Q.color);
        o += 1;
        W.H_(w, o, Q.rect);
        o += 16
    };
    ah.Xc = function(w, o, Q) {
        var K = o[Q];
        w.Qu = (K >> 0 & 1) == 0;
        w.isEnabled = (K >> 1 & 1) == 0;
        w.ZU = (K >> 3 & 1) == 1;
        return K >> 4 & 1
    };
    ah.NW = function(w, o, Q, K) {
        var b = 0;
        if (!w.Qu) b += 1 << 0;
        if (!w.isEnabled) b += 1 << 1;
        if (w.ZU) b += 1 << 3;
        if (K) b += 1 << 4;
        W.PL(o, Q, b)
    };
    ah.afh = function(w, o, Q) {
        var K = W.g(o, Q);
        Q += 4;
        if (K == 0) return Q;
        if (K != 5 * 8) console.log("unexpected Layer Blending Ranges content, size:", K);
        for (var M = 0; M < K; M++) w.ZM[M] = o[Q + M];
        return Q + 40
    };
    ah.aea = function(w, o, Q) {
        W.c5(o, Q, w.ZM.length);
        Q += 4;
        o.JL(Q, 40);
        for (var M = 0; M < 40; M++) {
            o.data[Q + M] = w.ZM[M]
        }
        return Q + 40
    };

    function aU() {}
    aU.DG = function(w, o, Q, K) {
        K = aU.a24(o.GA, o.C_, o.Z9, w, Q, K);
        return K
    };
    aU.sc = function(w, o, Q, K, b) {
        Q = aU.ab$(w, o, Q, K, b);
        return Q
    };
    aU.a24 = function(w, o, Q, K, b, R) {
        var X = K.K6,
            h = {},
            e = R;
        for (var M = 0; M < X.length; M++) {
            var Z = X[M],
                P = Z.id,
                J = Z.length,
                i;
            if (P == -3) i = K.B3.rect;
            else if (P == -2) i = K.q.rect;
            else i = K.rect;
            var k = aU.hH(w, o, b, i.D, i.j, R, J);
            R += J;
            if (P == -3) K.B3.channel = k;
            else if (P == -2) K.q.channel = k;
            else h["c" + P] = k
        }
        var $ = new v.Dz(0);
        $.K = null;
        if (Q == 3) {
            $.W = h.c0;
            $.a = h.c1;
            $.k = h.c2;
            $.K = h["c-1"]
        } else if (Q == 1) {
            $.W = h.c0;
            $.a = h.c0;
            $.k = h.c0;
            $.K = h["c-1"]
        } else if (Q == 4) {
            var n = h.c0,
                j = h.c1,
                y = h.c2,
                V = h.c3,
                O = n.length,
                S = 1 / 255;
            for (var M = 0; M < O; M++) {
                var G = n[M],
                    D = j[M],
                    q = y[M],
                    T = V[M] * S;
                n[M] = Math.round(G * T);
                j[M] = Math.round((.2 * G + .8 * D) * T);
                y[M] = Math.round((.2 * D + .8 * q) * T)
            }
            $.W = n;
            $.a = j;
            $.k = y;
            $.K = h["c-1"];
            console.log("converting from CMYK to RGB")
        }
        if ($.W == null) $.W = v.$(0);
        if ($.K == null && $.W != null) {
            $.K = v.clone($.W);
            v.set($.K, 255)
        }
        if ($.a == null) $.a = $.W.slice(0);
        if ($.k == null) $.k = $.W.slice(0);
        K.buffer = v.$(Math.max(0, K.rect.O() * 4));
        v.GW($, K.buffer);
        return R
    };
    aU.ab$ = function(w, o, Q, K, b) {
        var R = w.AJ(),
            X = new v.Dz(w.rect.O());
        v.yn(w.buffer, X);
        for (var M = 0; M < R.length; M++) {
            var h = R[M],
                e, Z;
            if (h == -3) e = w.B3.rect;
            else if (h == -2) e = w.q.rect;
            else e = w.rect;
            if (h == -3) Z = w.B3.channel;
            if (h == -2) Z = w.q.channel;
            if (h == -1) Z = X.K;
            if (h == 0) Z = X.W;
            if (h == 1) Z = X.a;
            if (h == 2) Z = X.k;
            o.JL(Q, e.O() * 3 + 4);
            var P = Q;
            Q = aU.ht(Z, o.data, e.D, e.j, Q, b[1] ? 3 : 1);
            var J = Q - P;
            if (J % 2 != 0) {
                J += J % 2;
                Q++
            }
            W.Oi(o.data, K + M * 6 + 2, J)
        }
        return Q
    };
    aU.hH = function(w, o, Q, K, b, R, X) {
        var h = W.r9(Q, R);
        R += 2;
        return aU.Sj(w, o, Q, K, b, R, h, X - 2)
    };
    aU.ht = function(w, o, Q, K, b, R) {
        W.G9(o, b, R);
        b += 2;
        b = aU.FY(w, o, Q, K, b, R);
        return b
    };
    aU.Sj = function(w, o, Q, K, b, R, X, h) {
        var e, Z = K * b * (o >>> 3),
            P = Z & 3,
            J = Z + (P == 0 ? 0 : 4 - P);
        if (h <= 0) {
            return v.$(J)
        }
        if (X > 3) {
            console.log("unknown compression: " + X, K, b, K * b, h);
            X = 0
        }
        if (X == 0) {
            if (R + J <= Q.length) e = Q.slice(R, R + J);
            else {
                e = v.$(Z);
                for (var M = 0; M < Z; M++) e[M] = Q[R + M]
            }
            R += Z
        } else if (X == 1) {
            e = v.$(Z);
            var i = w ? 4 : 2,
                k = aU.bo(Q, e, K, b, R, R + i * b, i);
            R += i * b + k
        } else if (X == 2 || X == 3) {
            var $ = new Uint8Array(Q.buffer, R + 2, h - 6),
                n = pako.inflateRaw($);
            if (X == 3) {
                if (o == 8)
                    for (var j = 0; j < b; j++) {
                        var y = j * K + 1,
                            V = y + K - 1,
                            O = n[y - 1];
                        for (var S = y; S < V; S++) {
                            O += n[S];
                            n[S] = O & 255
                        }
                    } else
                        for (var j = 0; j < b; j++) {
                            var y = j * K + 1,
                                V = y + K - 1,
                                O = n[2 * y - 2] << 8 | n[2 * y - 1];
                            for (var S = y; S < V; S++) {
                                var G = S << 1;
                                O += n[G] << 8 | n[G + 1];
                                n[G] = O >>> 8;
                                n[G + 1] = O & 255
                            }
                        }
            }
            if (n.length == J) e = n;
            else {
                e = v.$(J);
                for (var M = 0; M < n.length; M++) e[M] = n[M]
            }
        }
        if (o == 16) {
            var D = v.$(K * b);
            for (var M = 0; M < Z; M += 2) D[M >>> 1] = e[M];
            e = D
        }
        return e
    };
    aU.FY = function(w, o, Q, K, b, R) {
        var X = Q * K;
        if (R == 0)
            for (var M = 0; M < X; M++) o[b++] = w[M];
        else if (R == 1) {
            var h = aU.bN(w, o, Q, K, b, b + 2 * K);
            b += 2 * K + h
        } else if (R == 2 || R == 3) {
            if (R == 3) {
                var e = new Uint8Array(w.length);
                for (var Z = 0; Z < K; Z++) {
                    var P = Z * Q + 1,
                        J = P + Q - 1,
                        i = w[P - 1];
                    e[P - 1] = i;
                    for (var k = P; k < J; k++) {
                        e[k] = w[k] + (256 - i) & 255;
                        i = w[k]
                    }
                }
                w = e
            }
            o[b] = 120;
            o[b + 1] = 156;
            b += 2;
            var $ = pako.deflateRaw(w, {
                a9x: 4
            });
            W.z$(o, b, $);
            b += $.length + 4
        } else console.log("Unknown compression: " + R);
        return b
    };
    aU.bo = function(w, o, Q, K, b, R, X) {
        var h = R,
            e = K | 0;
        if (X == 2)
            for (var M = 0; M < e; M++) {
                var Z = W.r9(w, b + (M << 1));
                aU.Xz(w, R, Z, o, M * Q, Q);
                R += Z
            } else
                for (var M = 0; M < e; M++) {
                    var Z = W.g(w, b + (M << 2));
                    aU.Xz(w, R, Z, o, M * Q, Q);
                    R += Z
                }
        return R - h
    };
    aU.bN = function(w, o, Q, K, b, R) {
        var X = R;
        for (var M = 0; M < K; M++) {
            var h = aU.adx(w, M * Q, Q, o, R);
            W.lU(o, b + M * 2, h);
            R += h
        }
        return R - X
    };
    aU.adx = function(w, o, A, Q, K) {
        var b, R, X, h, e, f4, Z;
        h = o + A;
        for (X = o, R = K; A > 0; X = b, A -= f4) {
            Z = A < 128 ? A : 128;
            if (X <= h - 3 && w[X + 1] == w[X + 0] && w[X + 2] == w[X + 0]) {
                for (b = X + 3; b < X + Z && w[b] == w[X + 0];) ++b;
                f4 = b - X;
                Q[R++] = 1 + 256 - f4;
                Q[R++] = w[X + 0]
            } else {
                for (b = X; b < X + Z;)
                    if (b <= h - 3 && w[b + 1] == w[b + 0] && w[b + 2] == w[b + 0]) break;
                    else ++b;
                f4 = b - X;
                Q[R++] = f4 - 1;
                for (var M = 0; M < f4; M++) Q[R + M] = w[X + M];
                R += f4
            }
        }
        return R - K
    };
    aU.Xz = function(w, o, Q, K, b, R) {
        for (var X = 0; X < Q;) {
            var A = w[o++];
            if (A >= 128) {
                var h = w[o++],
                    e = b + (257 - A);
                while (b + 1 < e) {
                    K[b++] = K[b++] = h
                }
                if (b < e) K[b++] = h;
                X += 2
            } else {
                for (var M = 0; M <= A; M++) K[b + M] = w[o + M];
                o += A + 1;
                b += A + 1;
                X += 1 + 1 + A
            }
        }
    };

    function bj() {}
    bj.DG = function(w, o) {
        o.GA = !1;
        o.C_ = 8;
        var Q = new Uint8Array(w),
            K = 0,
            b = 0,
            H, gJ = !1,
            bM = !0,
            cN = !1,
            eu = 0;
        b = bj.mW(o, Q, K);
        K = b;
        b = bj.acU(o, Q, K);
        K = b;
        b = bj.ai4(o, Q, K);
        K = b;
        b = bj.a7d(o, Q, K);
        K = b;
        b = bj.a9h(o, Q, K);
        K = b;
        if (o.t.length == 0) {
            var R = o._g();
            R.jG("Background");
            o.t.push(R);
            R.buffer = v.clone(o.buffer);
            R.rect = new B(0, 0, o.D, o.j)
        }
        if (o.pI.r1005) {
            o.cK = W.aei(o.pI.r1005, 0)
        }
        if (o.pI.r1026) {
            var Q = o.pI.r1026;
            for (var M = 0; M < Q.length; M += 2) {
                var b = o.t[M >>> 1];
                if (b) b.i1 = W.r9(Q, M)
            }
        }
        if (o.pI.r1032) {
            var Q = o.pI.r1032,
                X = W.g(Q, 12);
            for (var M = 0; M < X; M++) {
                var h = Q[16 + M * 5 + 4],
                    e = W.Cd(Q, 16 + M * 5) / 32;
                o.TH[h].push(e)
            }
        }
        delete o.pI.r1036;
        delete o.pI.r1039;
        if (o.pI.r1050) {
            var Z = W.g,
                P = o.pI.r1050,
                J = W.g(P, 0);
            if (J == 6) {
                var i = 4,
                    k = W.Er(P, i);
                i += 16;
                var $ = W.W9(P, i);
                i += 4 + $.length * 2;
                var n = Z(P, i);
                i += 4;
                var j = o.sY;
                for (var M = 0; M < n; M++) {
                    var y = z.Ig.DO(),
                        O;
                    j.push(y);
                    y = y.v;
                    y.sliceID.v = Z(P, i);
                    i += 4;
                    y.groupID.v = Z(P, i);
                    i += 4;
                    var V = Z(P, i);
                    i += 4;
                    if (V == 1) {
                        O = Z(P, i);
                        i += 4
                    }
                    var $ = W.W9(P, i);
                    i += 4 + $.length * 2;
                    var S = Z(P, i);
                    i += 4;
                    var G = [Z(P, i), Z(P, i + 4), Z(P, i + 8), Z(P, i + 12)];
                    i += 16;
                    z.Ig.Gf(j, j.length - 1, G);
                    var D = y.url.v = W.W9(P, i);
                    i += 4 + D.length * 2;
                    var q = y.null.v = W.W9(P, i);
                    i += 4 + q.length * 2;
                    var T = y.Msge.v = W.W9(P, i);
                    i += 4 + T.length * 2;
                    var L = y.altTag.v = W.W9(P, i);
                    i += 4 + L.length * 2;
                    y.cellTextIsHTML.v = P[i] == 1;
                    i++;
                    var N = y.cellText.v = W.W9(P, i);
                    i += 4 + N.length * 2;
                    var F = Z(P, i);
                    i += 4;
                    var I = Z(P, i);
                    i += 4;
                    var s = P.slice(i, i + 4);
                    i += 4;
                    if (V != 2) j.pop()
                }
            } else if (J == 8) {
                var u = {};
                bd.Da(P, u, 8, !1);
                var P = o.sY = u.slices.v;
                for (var M = 0; M < P.length; M++) {
                    if (P[M].v.origin.v.ESliceOrigin != "userGenerated") {
                        P.splice(M, 1);
                        M--
                    }
                }
            }
        }
        if (o.pI.r1058) {
            var g = o.pI.r1058,
                U = UTIF.decode(g.buffer, {
                    parseMN: !1,
                    debug: !1
                });
            d0.Uk(U[0], o._7);
            delete o.pI.r1058
        }
        if (o.pI.r1060) {
            var r = W.K1(o.pI.r1060);
            d0.g2(r, o._7);
            delete o.pI.r1060
        }
        if (o.pI.r1065) {
            var Q = o.pI.r1065;
            o.M2 = {};
            bd.Da(Q, o.M2, 4, !1)
        }
        if (o.pI.r1069) {
            var Q = o.pI.r1069,
                x = [];
            for (var M = 2; M < Q.length; M += 4) {
                var O = W.g(Q, M);
                for (var C = 0; C < o.t.length; C++) {
                    var b = o.t[C];
                    if (b.add.lyid == O && b.add.lsct != 3) x.push(C)
                }
            }
            o.u = x
        }
        if (o.pI.r1025) {
            var p = o.pI.r1025;
            delete o.pI.r1025;
            var l = f8.eS(p, 0, p.length, o.D, o.j),
                c = new a.Y3;
            c._ = l;
            o.BY[0] = fb.C2("Working Path", {
                vmsk: c
            })
        }
        var t = o.add.pths;
        delete o.add.pths;
        var gl = o.pI.r3000;
        if (gl) {
            H = {};
            bd.Da(gl, H, 4, !1);
            delete o.pI.r3000
        }
        for (var ie = 0; ie <= 997; ie++) {
            var fk = "r" + (2e3 + ie),
                p = o.pI[fk];
            if (p == null) break;
            var l = f8.eS(p, 0, p.length, o.D, o.j),
                h5 = t ? t.pathList.v[ie].v.pathUnicodeName.v : "Path " + ie,
                cf = H ? H.keyRootDescriptorList.v[ie].v.keyDescriptorList.v : a.Y1(l),
                c = new a.Y3;
            c._ = l;
            o.BY[ie + 1] = fb.C2(h5, {
                vmsk: c,
                vogk: cf
            });
            delete o.pI[fk]
        }
        delete o.GA;
        var f = new B(0, 0, o.D, o.j),
            aH = o.add.Txt2,
            gY = aH;
        if (gY) {
            gY = gY.LX;
            if (gY._DocumentResources == null) gY = cX.ahP(gY)
        }
        if (aH && aH.LX._DocumentResources != null) {
            var cC = "_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),
                cY = aH.LX._DocumentResources._TextFrameSet._Resources;
            for (var M = 0; M < cY.length; M++) {}
        }
        for (var M = 0; M < o.t.length; M++) {
            var b = o.t[M],
                cU = b.add.lsct,
                h7 = b.add.vmsk,
                hn = b._f();
            if (cU == bb.g4) {
                eu++;
                b.add.lspf = 0
            } else if (cU == bb.SI || cU == bb.RN) eu--;
            if (b.name == "") {
                b.name = "Layer " + (M + 1);
                cN = !0
            }
            if (cN && b.xI() && b.TC == "norm") b.TC = "pass";
            if (b.iD() && b.Ca(o).q) {
                var gS = b.Ca(o);
                gS.q.isEnabled = b.add.SoLd.filterFX.v.filterMaskEnable.v
            }
            if (h7 && b.hK()) {
                var aq = b_.fQ.default;
                if (b.add.vstk == null) b.add.vstk = JSON.parse(JSON.stringify(aq));
                else {
                    var ef = "strokeStyleLineDashSet";
                    if (b.add.vstk[ef] == null) b.add.vstk[ef] = JSON.parse(JSON.stringify(aq[ef]))
                }
            }
            if (h7 && (b.add.vogk == null || v.P.S3(h7._) != b.add.vogk.length)) b.Y1();
            if (b.add.SoLd && b.rect.Kx()) {
                console.log("redrawing smart instance");
                b.xL(o)
            }
            if (hn == null && b.q != null) {
                if (b.q.ZU == !1) {
                    b.q.ZU = !0;
                    b.B3 = b.q.clone()
                } else {
                    h7.B3 = b.q;
                    h7.eT = !1;
                    b.q.YF = h7.YF;
                    b.q.v$ = h7.v$
                }
            }
            if (hn != null && h7 != null && (hn.YF + h7.YF != 0 || hn.v$ + h7.v$ != 2 * 255)) b.b6(o);
            var dU = b.add.artb;
            if (dU && dU.artboardBackgroundType == null) dU.artboardBackgroundType = {
                t: "long",
                v: 1
            };
            if (dU && eu != 0) delete b.add.artb;
            var hO = b.add.vstk;
            if (b.hK() && (b.rect.Kx() || h7 && h7.YF != 0 || hO && !hO.fillEnabled.v && (!hO.strokeEnabled.v || hO.strokeStyleLineWidth.v.val == 0))) b.ym(o);
            if (b.add.TySh) {
                gJ = !0;
                if (!b.rect.Kx()) bM = !1
            }
            if (b.add.TySh && gY) {
                var ao = b.add.TySh.zw.TextIndex.v,
                    hI = b.add.TySh.rr,
                    a$ = fI.YN(hI),
                    hH = hI.EngineDict.ParagraphRun.RunArray,
                    bq = gY._DocumentObjects._TextObjects;
                if (bq.length <= ao) {
                    console.log("Txt2 incomplete");
                    continue
                }
                bq = bq[ao]._Model._ParagraphRun._RunArray;
                if (bq == null) bq = [];
                var dq = Math.min(bq.length, hH.length);
                for (var C = 0; C < dq; C++) {
                    var g9 = hH[C].ParagraphSheet.Properties,
                        cx = gY._DocumentResources._ParagraphSheetSet._Resources,
                        hp = bq[C]._RunData._ParagraphSheet;
                    if (typeof hp == "string") hp = cx[parseInt(hp.slice(1))]._Resource;
                    var b0 = hp._Parent == null ? hp : cx[parseInt(hp._Parent.slice(1))]._Resource,
                        bh = hp._Features._ParagraphDirection;
                    if (bh == null) bh = b0._Features._ParagraphDirection;
                    if (bh) g9._Direction = parseInt(bh.slice(1))
                }
                var hA = gY._DocumentResources,
                    ft = hA._TextFrameSet._Resources,
                    c6 = ft[ao]._Resource,
                    ba = c6._Data,
                    f7 = new dj(1, 0, 0, 1, 0, 0);
                if (c6._0) {
                    var an = parseFloat(c6._0[0].slice(1)),
                        b5 = parseFloat(c6._0[1].slice(1));
                    f7.translate(an, b5)
                }
                if (a$) {
                    f7.translate(a$[0], a$[1]);
                    fI.I5(hI, [0, 0, a$[2] - a$[0], a$[3] - a$[1]])
                } else {
                    if (c6._Bezier && c6._Bezier._Points) {
                        var l = c6._Bezier._Points,
                            an = parseFloat(l[0].slice(1)),
                            b5 = parseFloat(l[1].slice(1));
                        if (an != 0 || b5 != 0) {
                            f7.translate(an, b5)
                        }
                    }
                }
                if (c6._Data && c6._Data._FrameMatrix) {
                    var hG = c6._Data._FrameMatrix;
                    hG = hG.map(function(dp) {
                        return parseFloat(dp.slice(1))
                    });
                    f7.concat(new dj(hG[0], hG[1], hG[2], hG[3], hG[4], hG[5]))
                }
                f7.concat(b.add.TySh.H);
                b.add.TySh.H = f7;
                var S = ba._Type ? parseInt(ba._Type.slice(1)) : 0;
                if (S == 2 || S == 1 && ba._PathData._Spacing == "i-3") {
                    var eE = function(dp) {
                            return parseFloat(dp.slice(1))
                        },
                        l = c6._Bezier._Points.map(eE);
                    if (a$) v.w.H(l, new dj(1, 0, 0, 1, -a$[0], -a$[1]), l);
                    var aV = ba._PathData ? ba._PathData._Reversed : !1;
                    hI.Curve = {
                        Points: l,
                        TextOnPathTRange: ba._TextOnPathTRange.map(eE),
                        Reversed: aV == null ? !1 : aV
                    };
                    b.add.TySh.add = {
                        vmsk: new a.Y3,
                        vogk: null
                    };
                    fI.ne(b.add.TySh)
                }
            }
        }
        cr.ry.Fv(o, !0)
    };
    bj.l8 = function(w, o, Q) {
        cr.ry.Sf(w);
        cr.ry.Fv(w, !1);
        var K = [],
            b = [],
            R = [],
            X = [],
            h = [],
            L = 16,
            cf = 0;
        for (var M = 0; M < w.t.length; M++) {
            var e = w.t[M];
            if (e.iD() && e.Ca(w).q) {
                e.add.SoLd.filterFX.v.filterMaskEnable.v = e.Ca(w).q.isEnabled
            }
            if (e.add.SoLd) {
                b.push(e.add.SoLd.Idnt.v);
                R.push(e.add.SoLd.placed.v)
            }
            if (e.add.TySh) {
                var Z = e.add.TySh.rr,
                    P = fI.bv(Z);
                e.add.TySh.zw.TextIndex = {
                    t: "long",
                    v: K.length
                };
                K.push(Z);
                if (P == 2) fI.k8(e.add.TySh)
            }
            if (e.add.PtFl) X.push(e.add.PtFl.Ptrn.v.Idnt.v);
            if (e.add.lmfx) {
                for (var J = 0; J < b_.Ix.length; J++) {
                    var i = e.add.lmfx[b_.Ix[J]].v;
                    for (var k = 0; k < i.length; k++)
                        if (i[k].v.Ptrn) X.push(i[k].v.Ptrn.v.Idnt.v)
                }
            }
            var $ = e.add.vstk;
            if ($ && $.strokeStyleContent.v.classID == "patternLayer") {
                X.push($.strokeStyleContent.v.Ptrn.v.Idnt.v)
            }
            if (e.hK() || Q[2] && e.add.SoLd) {
                h[M] = [e.rect, e.buffer];
                e.rect = new B;
                e.buffer = v.$(0)
            }
        }
        if (K.length > 0) {
            var n = w.add.Txt2 ? w.add.Txt2.LX : null;
            w.add.Txt2 = {};
            w.add.Txt2.LX = dO.an7(K, null, n)
        }
        var j = w.add.lnk2;
        if (j) {
            var y = w.add.lnk2 = [];
            for (var M = 0; M < j.length; M++)
                if (b.indexOf(j[M].eo) != -1) y.push(j[M]);
            if (y.length == 0) delete w.add.lnk2
        }
        var V = w.add.FEid;
        if (V) {
            var O = w.add.FEid = [];
            for (var M = 0; M < V.length; M++)
                if (R.indexOf(V[M].id) != -1) O.push(V[M]);
            if (O.length == 0) delete w.add.FEid
        }
        var S = w.add.Patt;
        if (S) {
            var G = w.add.Patt = [];
            for (var M = 0; M < S.length; M++)
                if (X.indexOf(S[M].id) != -1) G.push(S[M])
        }
        w.pI.r1005 = new Uint8Array([0, 0, 0, 0, 0, 1, 0, 2, 0, 0, 0, 0, 0, 1, 0, 2]);
        W.ya(w.pI.r1005, 0, w.cK);
        W.ya(w.pI.r1005, 8, w.cK);
        if (w.q2()) {
            w.pI.r1022 = new Uint8Array([0, 3 + w.SF.length - 1, 0])
        } else delete w.pI.r1022;
        w.pI.r1026 = new Uint8Array(w.t.length * 2);
        for (var M = 0; M < w.t.length; M++) W.lU(w.pI.r1026, M * 2, w.t[M].i1);
        var D = w.TH,
            q = D[0].length + D[1].length,
            T = w.pI.r1032 = v.$(16 + 5 * q, !0);
        W.Oi(T, 0, 1);
        W.Oi(T, 4, 576);
        W.Oi(T, 8, 576);
        W.Oi(T, 12, q);
        for (var M = 0; M < 2; M++)
            for (var k = 0; k < D[M].length; k++) {
                W.aY(T, L, Math.round(D[M][k] * 32));
                T[L + 4] = M;
                L += 5
            }
        var N = v.HZ(w.buffer),
            F = [];
        if (N) F.push({
            name: "Transparency",
            vK: {
                W: 255,
                a: 0,
                k: 0
            },
            WE: 100,
            BL: 1
        });
        F = F.concat(w.SF);
        delete w.pI.r1045;
        delete w.pI.r1006;
        delete w.pI.r1077;
        var I = new fY;
        L = 0;
        var s = new Uint8Array(4 + F.length * 13);
        s[3] = 1;
        for (var M = 0; M < F.length; M++) {
            var u = F[M],
                g = u.name + "\0";
            W.Hr(I, L, g);
            L += 4 + g.length * 2;
            var U = 4 + M * 13;
            hM.tc(s, U, u.vK);
            s[U + 11] = u.WE;
            s[U + 12] = u.BL
        }
        w.pI.r1045 = I.data.slice(0, L);
        w.pI.r1077 = s;
        for (var M = 0; M < w.sY.length; M++) w.sY[w.sY.length - M - 1].v.sliceID.v = 2 + M * 3;
        var r = {
                classID: "null",
                baseName: {
                    t: "TEXT",
                    v: "User"
                },
                bounds: {
                    t: "Objc",
                    v: {
                        classID: "Rct1",
                        Top: {
                            t: "long",
                            v: 0
                        },
                        Left: {
                            t: "long",
                            v: 0
                        },
                        Btom: {
                            t: "long",
                            v: 0
                        },
                        Rght: {
                            t: "long",
                            v: 0
                        }
                    }
                },
                slices: {
                    t: "VlLs",
                    v: w.sY
                }
            },
            I = new fY;
        W.c5(I, 0, 8);
        W.c5(I, 4, 16);
        var x = bd.OQ(I, r, 8);
        w.pI.r1050 = I.data.slice(0, x + 8);
        var I = new fY;
        W.c5(I, 0, 16);
        var x = bd.OQ(I, w.M2, 4);
        w.pI.r1065 = I.data.slice(0, x + 4);
        var C = w.u;
        T = w.pI.r1069 = v.$(2 + C.length * 4, !0);
        W.lU(T, 0, C.length);
        for (var M = 0; M < C.length; M++) W.Oi(T, 2 + 4 * M, w.t[C[M]].add.lyid);
        delete w.pI.r1058;
        delete w.pI.r1060;
        if (Object.keys(w._7).length != 0) {
            var p = [{
                t274: [1],
                t282: [
                    [72, 1]
                ],
                t283: [
                    [72, 1]
                ],
                t296: [2]
            }, {
                t259: [6],
                t282: [
                    [72, 1]
                ],
                t283: [
                    [72, 1]
                ],
                t296: [2],
                t513: [302],
                t514: [0]
            }];
            d0.QV(w._7, p[0], Q[0] && Q[1]);
            w.pI.r1058 = new Uint8Array(UTIF.encode(p));
            var l = d0.P_(w._7);
            w.pI.r1060 = W.wG(l)
        }
        var c = [],
            t = [];
        for (var M = 0; M < w.BY.length; M++) {
            var H = w.BY[M],
                gl = H.add.vmsk._;
            if (M == 0 && gl.length == 2) continue;
            var fk = v.$(gl.length * 26);
            f8.An(fk, 0, gl, w.D, w.j);
            var h5 = M == 0 ? 1025 : 2e3 + M - 1;
            w.pI["r" + h5] = fk;
            if (M != 0) {
                c.push({
                    t: "Objc",
                    v: {
                        classID: "pathInfoClass",
                        pathUnicodeName: {
                            t: "TEXT",
                            v: H.name
                        }
                    }
                });
                t.push({
                    t: "Objc",
                    v: {
                        classID: "null",
                        keyDescriptorList: {
                            t: "VlLs",
                            v: H.add.vogk
                        }
                    }
                })
            }
        }
        if (c.length != 0) {
            w.add.pths = {
                classID: "pathsDataClass",
                pathList: {
                    t: "VlLs",
                    v: c
                }
            };
            t = {
                classID: "null",
                keyRootDescriptorList: {
                    t: "VlLs",
                    v: t
                }
            };
            var I = new fY;
            W.c5(I, 0, 16);
            var x = bd.OQ(I, t, 4);
            w.pI.r3000 = I.data.slice(0, x + 4)
        } else {
            delete w.add.pths;
            delete w.pI.r3000
        }
        cf = bj.ack(w, o, cf, 3 + F.length);
        cf = bj.ajO(w, o, cf);
        cf = bj.afN(w, o, cf);
        cf = bj.akH(w, o, cf, Q, N);
        cf = bj.ajm(w, o, cf, Q[0], N);
        var f = [1025, 2e3, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016];
        for (var M = 0; M < f.length; M++) delete w.pI["r" + f[M]];
        for (var M = 0; M < w.t.length; M++) {
            var e = w.t[M];
            if (e.hK() || Q[2] && e.add.SoLd) {
                e.rect = h[M][0];
                e.buffer = h[M][1]
            }
        }
        if (j) w.add.lnk2 = j;
        if (V) w.add.FEid = V;
        if (S) w.add.Patt = S;
        cr.ry.Fv(w, !0);
        return cf
    };
    bj.mW = function(w, o, Q) {
        var K = W.Ui(o, Q, 4);
        Q += 4;
        if (K != "8BPS") alert("invalid header signature: " + K);
        var b = W.r9(o, Q);
        Q += 2;
        w.GA = b == 2;
        if (b != 1 && b != 2) alert("invalid version: " + b);
        Q += 6;
        w.TL = W.r9(o, Q);
        Q += 2;
        w.j = W.Cd(o, Q);
        Q += 4;
        w.D = W.Cd(o, Q);
        Q += 4;
        w.C_ = W.r9(o, Q);
        Q += 2;
        w.Z9 = W.r9(o, Q);
        Q += 2;
        return Q
    };
    bj.ack = function(w, o, Q, K) {
        o.JL(0, 64);
        W.lo(o.data, Q, "8BPS");
        Q += 4;
        W.lU(o.data, Q, 1);
        Q += 2;
        W.Oi(o.data, Q, 0);
        Q += 4;
        W.lU(o.data, Q, 0);
        Q += 2;
        W.lU(o.data, Q, K);
        Q += 2;
        W.aY(o.data, Q, w.j);
        Q += 4;
        W.aY(o.data, Q, w.D);
        Q += 4;
        W.lU(o.data, Q, 8);
        Q += 2;
        W.lU(o.data, Q, 3);
        Q += 2;
        return Q
    };
    bj.acU = function(w, o, Q) {
        var K = W.Cd(o, Q);
        Q += 4;
        if (K != 0) w.qK = o.slice(Q, Q + K);
        Q += K;
        return Q
    };
    bj.ajO = function(w, o, Q) {
        W.HT(o, Q, 0);
        Q += 4;
        return Q
    };
    bj.ai4 = function(w, o, Q) {
        var K = W.g(o, Q),
            b = 0;
        Q += 4;
        var R = [];
        while (b < K) {
            var X = W.Ui(o, Q + b, 4);
            b += 4;
            var h = W.r9(o, Q + b);
            b += 2;
            var e = W.Sh(o, Q + b);
            b += e.length;
            if (X != "8BIM") {
                R.push(h);
                console.log("Unknown Image Resources signature: " + X + ", ID: " + h)
            }
            var Z = W.g(o, Q + b);
            b += 4;
            if (w.pI["r" + h] != null) console.log("--- two resources with same ID");
            w.pI["r" + h] = W.iC(o, Q + b, Z);
            b += Z + (Z & 1)
        }
        for (var M = 0; M < R.length; M++) delete w.pI["r" + R[M]];
        return Q + K
    };
    bj.afN = function(w, o, Q) {
        var K = Q,
            X = 0;
        Q += 4;
        var b = [];
        for (var R in w.pI) {
            b.push(parseInt(R.slice(1)))
        }
        b.sort(function(J, i) {
            return J - i
        });
        for (var M = 0; M < b.length; M++) {
            W.qH(o, Q + X, "8BIM");
            X += 4;
            var h = b[M];
            W.Ih(o, Q + X, h);
            X += 2;
            var e = W.jq(o, Q + X, "");
            X += e;
            var Z = w.pI["r" + h],
                P = Z.length;
            W.c5(o, Q + X, P);
            X += 4;
            W.lN(o, Q + X, Z);
            X += P;
            if (P % 2 == 1) X++
        }
        W.c5(o, K, X);
        return Q + X
    };
    bj.a7d = function(w, o, Q) {
        var K = Q,
            b, R = w.GA ? 8 : 4;
        if (w.GA) b = W.Zo(o, Q);
        else b = W.g(o, Q);
        Q += R;
        if (b == 0) return K + R;
        Q = bj.akU(w, o, Q);
        Q = bj.a5m(w, o, Q);
        Q = fQ.Ro(o, Q, K + R + b, w.add, w.GA, w);
        return K + R + b
    };
    bj.akH = function(w, o, Q, K, b) {
        var R = Q;
        W.c5(o, Q, 0);
        Q += 4;
        Q = bj.ac3(w, o, Q, K, b);
        Q = bj.afA(w, o, Q);
        Q = fQ.Qv(o, Q, w.add, w);
        W.c5(o, R, Q - R - 4);
        return Q
    };
    bj.akU = function(w, o, Q) {
        var K, b = w.GA ? 8 : 4;
        if (w.GA) K = W.Zo(o, Q);
        else K = W.g(o, Q);
        Q += b;
        if (K != 0) bj.GQ(w, o, Q);
        return Q + K
    };
    bj.GQ = function(w, o, Q) {
        var K = W.m2(o, Q);
        Q += 2;
        var b = Math.abs(K);
        for (var M = 0; M < b; M++) {
            var R = new a;
            Q = ah.DG(R, w, o, Q);
            w.t[M] = R
        }
        var X = new B(0, 0, w.D, w.j);
        for (var M = 0; M < b; M++) {
            var h = w.t[M];
            Q = aU.DG(h, w, o, Q);
            var e = h.rect.O(),
                Z = h.rect.z2(X),
                P = Z.O() / e;
            if (e > 2e3 * 3e3 && P < .5) {
                var J = v.$(Z.O() * 4);
                v.c1(h.buffer, h.rect, J, Z);
                h.buffer = J;
                h.rect = Z;
                alert("Removing hidden parts of layers")
            }
        }
    };
    bj.ac3 = function(w, o, Q, K, b) {
        var R = Q;
        W.c5(o, Q, 0);
        Q += 4;
        var X = w.t.length;
        W.Ih(o, Q, b ? -X : X);
        Q += 2;
        var h = [];
        for (var M = 0; M < X; M++) Q = ah.l8(w.t[M], w, o, Q, h);
        for (var M = 0; M < X; M++) Q = aU.sc(w.t[M], o, Q, h[M], K);
        var e = Q - R - 4;
        if (e % 2 != 0) e++;
        W.c5(o, R, e);
        return R + e + 4
    };
    bj.a5m = function(w, o, Q) {
        var K = W.g(o, Q);
        Q += 4;
        Q += K;
        return Q
    };
    bj.afA = function(w, o, Q) {
        var K = W.c5(o, Q, 0);
        Q += 4;
        return Q
    };
    bj.a9h = function(w, o, Q) {
        var K = w.Z9,
            b = "Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),
            R = [1, 1, 1, 3, 4, 1, 1, 3],
            X, n;
        if (K != 3) {
            if (K == 1 || K == 2 || K == 4) alert("Project will be converted from " + b[K] + " to " + b[3] + " mode.");
            else {
                alert("Color mode " + b[K] + " is not supported yet :(")
            }
        }
        if (w.pI.r1045) {
            X = [];
            var h = w.pI.r1045,
                e = 0;
            while (e < h.length) {
                var Z = W.Pv(h, e);
                X.push(Z);
                e += 4 + 2 + Z.length * 2
            }
        }
        var P = R[K] + (X == null || X[0] == "Transparency" ? 1 : 0),
            J = w.D,
            i = w.j,
            k = J * i,
            $ = W.r9(o, Q);
        Q += 2;
        w.buffer = v.$(k * 4);
        v.Fw(w.buffer, 4278190080);
        var j = Q;
        for (var y = 0; y < w.TL; y++) {
            if ($ == 0) {
                n = aU.Sj(w.GA, w.C_, o, J, i, Q, $);
                Q += k * (w.C_ >>> 3)
            } else if ($ == 1) {
                n = v.$(k);
                var V = w.GA ? 4 : 2;
                if (y == 0) Q += w.TL * i * V;
                Q += aU.bo(o, n, J, i, j + y * i * V, Q, V)
            } else {
                console.log("unknown compression of image data: ", $);
                return
            }
            if (y < P) {
                v.qh(n, w.buffer, y);
                if (w.TL == 1 && y == 0) {
                    v.qh(n, w.buffer, 1);
                    v.qh(n, w.buffer, 2)
                }
            } else {
                var O = new a.Zz,
                    S = y - P,
                    G = y - R[w.Z9];
                O.name = X ? X[G] : "Alpha";
                if (O.name == "Quick Mask") {
                    O.He = !0;
                    w.Od.push(S)
                }
                O.rect = new B(0, 0, J, i);
                O.channel = n;
                O.color = 0;
                O.ei();
                w.SF[S] = O;
                if (w.pI.r1077) {
                    var h = w.pI.r1077.slice(4 + G * 13);
                    O.vK = hM.nS(h, 0);
                    O.WE = h[11];
                    O.BL = h[12];
                    if (O.BL == 2) O.He = !0
                }
            }
        }
        w.TL = 4;
        if (w.Z9 == 2)
            for (var M = 0; M < k; M++) {
                var D = M * 4,
                    q = w.buffer[D];
                w.buffer[D] = w.qK[0 + q];
                w.buffer[D + 1] = w.qK[256 + q];
                w.buffer[D + 2] = w.qK[512 + q]
            }
        return Q
    };
    bj.ajm = function(w, o, Q, K, b) {
        var R = 1,
            X = 16,
            h = w.D,
            e = w.j,
            P, J;
        W.Ih(o, Q, R);
        Q += 2;
        var Z = h * e;
        if (!K) {
            J = new v.Dz(h * e);
            v.yn(w.buffer, J);
            var i = J.W,
                k = J.a,
                $ = J.k,
                n = J.K;
            for (var M = 0; M < Z; M++) {
                var j = n[M] * (1 / 255);
                i[M] = ~~(i[M] * j + 255 * (1 - j));
                k[M] = ~~(k[M] * j + 255 * (1 - j));
                $[M] = ~~($[M] * j + 255 * (1 - j))
            }
        } else P = v.$(Z);
        var y = [P, P, P];
        if (!K) y = [J.W, J.a, J.k];
        if (b) y.push(K ? P : J.K);
        for (var M = 0; M < w.SF.length; M++) {
            y.push(w.SF[M].Qj(new B(0, 0, w.D, w.j)))
        }
        var V = Q;
        for (var O = 0; O < y.length; O++) {
            o.JL(Q, h * e + 4);
            P = y[O];
            if (R == 0 || R == 2 || R == 3) Q = aU.FY(P, o.data, h, e, Q, R);
            else {
                if (O == 0) Q += y.length * e * 2;
                var S = Q;
                Q += aU.bN(P, o.data, h, e, V + O * e * 2, Q)
            }
        }
        return Q
    };

    function f0() {}
    f0.DG = function(w) {
        var o = {};
        f0.VL(w, o, 0, 0);
        return o
    };
    f0.l8 = function(w, o) {
        var Q = 0;
        Q = f0.RB(w, o, Q, 0);
        return Q
    };
    f0.VL = function(w, o, Q, K) {
        while (w[Q] != "<".charCodeAt(0)) Q++;
        Q += 2;
        while (!0) {
            if (w[Q] == "/".charCodeAt(0)) {
                Q++;
                var b = W.indexOf(w, " ".charCodeAt(0), Q, Q + 50),
                    R = W.indexOf(w, "\n".charCodeAt(0), Q, Q + 50);
                if (R == -1) R = Infinity;
                if (b == -1) b = Infinity;
                var X = Math.min(R, b),
                    h = W.Ui(w, Q, X - Q),
                    e = f0.t6(w, X + 1, K + 1, h);
                o[h] = e.F;
                Q = X + 1;
                Q += e.size
            } else if (w[Q] == ">".charCodeAt(0)) {
                Q += 2;
                break
            } else {
                var Z = w[Q];
                if (Z == 10 || Z == 9 || Z == 32) Q++;
                else {
                    console.log("unknown byte: " + Z + ", char: " + String.fromCharCode(Z), Q);
                    Q++
                }
            }
        }
        return Q
    };
    f0.RB = function(w, o, Q, K) {
        W.qH(o, Q, "<<\n");
        Q += 3;
        var b = f0.ahm;
        for (var R in w) {
            W.PL(o, Q, "\t".charCodeAt(0), K + 1);
            Q += K + 1;
            W.qH(o, Q, "/" + R);
            Q += 1 + R.length;
            if (b(w[R]) || w[R] instanceof Array) {
                W.qH(o, Q, " ");
                Q++
            } else {
                W.qH(o, Q, "\n");
                Q++;
                W.PL(o, Q, "\t".charCodeAt(0), K + 1);
                Q += K + 1
            }
            Q = f0.y1(w[R], o, Q, K + 1);
            W.qH(o, Q, "\n");
            Q++
        }
        W.PL(o, Q, "\t".charCodeAt(0), K);
        Q += K;
        W.qH(o, Q, ">>");
        Q += 2;
        return Q
    };
    f0.t6 = function(w, o, Q, K) {
        var b = o,
            R = {
                size: 0,
                F: 0
            };
        while (!0) {
            while (w[o] == " ".charCodeAt(0) || w[o] == "\t".charCodeAt(0) || w[o] == "\n".charCodeAt(0)) o++;
            if (w[o] == "<".charCodeAt(0)) {
                R.F = {};
                o = f0.VL(w, R.F, o, Q + 1);
                break
            } else if (w[o] == "(".charCodeAt(0)) {
                o += 3;
                var X = o;
                while (!0) {
                    if (w[X - 1] != "\\".charCodeAt(0) && w[X] == ")".charCodeAt(0) && (w[X + 1] == "\n".charCodeAt(0) || w[X + 1] == " ".charCodeAt(0))) break;
                    else X++
                }
                R.F = W.qF(w, o, X);
                o = X + 2;
                break
            } else if (w[o] == "[".charCodeAt(0)) {
                o++;
                R.F = [];
                while (w[o] == " ".charCodeAt(0) || w[o] == "\t".charCodeAt(0) || w[o] == "\n".charCodeAt(0)) o++;
                while (w[o] != "]".charCodeAt(0)) {
                    var h = f0.t6(w, o, Q + 1, K);
                    R.F.push(h.F);
                    o += h.size;
                    while (w[o] == " ".charCodeAt(0) || w[o] == "\t".charCodeAt(0) || w[o] == "\n".charCodeAt(0)) o++
                }
                o++;
                break
            } else {
                var e = W.indexOf(w, " ".charCodeAt(0), o, o + 50),
                    Z = W.indexOf(w, "\n".charCodeAt(0), o, o + 50);
                if (Z == -1) Z = Infinity;
                if (e == -1) e = Infinity;
                var P = W.Ui(w, o, Math.min(e, Z) - o).trim(),
                    J = parseFloat(P);
                if (!isNaN(J)) {
                    R.F = parseFloat(P);
                    o = Math.min(e, Z) + 1;
                    break
                } else if (P == "true" || P == "false") {
                    R.F = P == "true";
                    o = Math.min(e, Z) + 1;
                    break
                } else if (P == "null" || P == "NaN" || P == "undefined") {
                    R.F = 0;
                    o = Math.min(e, Z) + 1;
                    break
                } else {
                    console.log("unknown identifier: " + P);
                    throw "e"
                }
                o = Math.min(e, Z) + 1
            }
        }
        R.size = o - b;
        return R
    };
    f0.y1 = function(w, o, Q, K) {
        if (w instanceof Array) {
            var b = w.length == 0 || typeof w[0] == "number";
            if (b) {
                W.qH(o, Q, "[ ");
                Q += 2;
                for (var M = 0; M < w.length; M++) {
                    var R = w[M] + " ";
                    W.qH(o, Q, R);
                    Q += R.length
                }
                W.qH(o, Q, "]");
                Q += 1
            } else {
                W.qH(o, Q, "[\n");
                Q += 2;
                for (var M = 0; M < w.length; M++) {
                    W.PL(o, Q, "\t".charCodeAt(0), K);
                    Q += K;
                    Q = f0.y1(w[M], o, Q, K);
                    W.qH(o, Q, "\n");
                    Q++
                }
                W.PL(o, Q, "\t".charCodeAt(0), K);
                Q += K;
                W.qH(o, Q, "]");
                Q += 1
            }
        } else if (w instanceof Object) {
            Q = f0.RB(w, o, Q, K)
        } else if (typeof w == "string") {
            W.qH(o, Q, "(");
            Q++;
            W.PL(o, Q, 254);
            Q++;
            W.PL(o, Q, 255);
            Q++;
            Q = W.Eo(o, Q, w);
            W.qH(o, Q, ")");
            Q += 1
        } else {
            var R = w + "";
            W.qH(o, Q, R);
            Q += R.length
        }
        return Q
    };
    f0.ahm = function(w) {
        var o = typeof w;
        return o == "string" || o == "number" || o == "boolean"
    };

    function dA() {}
    dA.DG = function(w) {
        var o = {};
        dA.Fs(w, o, 0, 0);
        return o
    };
    dA.l8 = function(w, o) {
        var Q = 0;
        W.qH(o, Q, " ");
        Q++;
        Q = dA.Pp(w, o, Q, 0);
        Q--;
        o.JL(Q, 2);
        o.data[Q] = o.data[Q + 1] = 0;
        Q += 2;
        return Q
    };
    dA.VL = function(w, o, Q, K) {
        while (w[Q] != "<".charCodeAt(0)) {
            Q++;
            console.log("\u0161ipka")
        }
        Q += 2;
        Q = dA.Fs(w, o, Q, K);
        return Q
    };
    dA.RB = function(w, o, Q, K) {
        W.qH(o, Q, "<< ");
        Q += 3;
        Q = dA.Pp(w, o, Q, K);
        W.qH(o, Q, ">>");
        Q += 2;
        return Q
    };
    dA.qP = function(w) {
        return w == 9 || w == 10 || w == 32
    };
    dA.Fs = function(w, o, Q, K) {
        while (!0) {
            while (dA.qP(w[Q]) || w[Q] == 0) Q++;
            if (Q >= w.length) break;
            if (w[Q] == "/".charCodeAt(0)) {
                Q++;
                var b = Q;
                while (!dA.qP(w[b])) b++;
                var R = W.Ui(w, Q, b - Q);
                Q = b + 1;
                var X = dA.t6(w, Q, K, R);
                o["_" + R] = X.F;
                Q += X.size
            } else if (w[Q] == ">".charCodeAt(0)) {
                Q += 2;
                break
            } else {
                var h = w[Q];
                console.log(W.Ui(w, Q, Q + 100));
                console.log("unknown byte: " + h + ", char: " + String.fromCharCode(h) + ", offset: " + Q);
                Q++;
                throw "e";
                return -1
            }
        }
        return Q
    };
    dA.Pp = function(w, o, Q, K) {
        for (var b in w) {
            var R = b.substring(1, b.length);
            W.qH(o, Q, "/" + R);
            Q += 1 + R.length;
            W.qH(o, Q, " ");
            Q++;
            Q = dA.y1(w[b], o, Q, K + 1);
            W.qH(o, Q, " ");
            Q++
        }
        return Q
    };
    dA.t6 = function(w, o, Q, K) {
        var b = o,
            R = {
                type: "",
                size: 0,
                F: 0
            };
        while (dA.qP(w[o])) o++;
        if (w[o] == "<".charCodeAt(0)) {
            R.type = "Object";
            R.F = {};
            o = dA.VL(w, R.F, o, Q + 1)
        } else if (w[o] == "(".charCodeAt(0)) {
            R.type = "String";
            o++;
            if (w[o] == ")".charCodeAt(0)) {
                R.F = "s";
                o++
            } else {
                o += 2;
                var X = o,
                    eh = 0;
                while (!0) {
                    if (w[X] == ")".charCodeAt(0) && w[X - 1] != "\\".charCodeAt(0)) break;
                    else X += 1
                }
                R.F = "s" + W.qF(w, o, X);
                o = X + 2
            }
        } else if (w[o] == "[".charCodeAt(0)) {
            o++;
            R.F = [];
            R.type = "Array";
            while (dA.qP(w[o])) o++;
            while (w[o] != "]".charCodeAt(0)) {
                var h = dA.t6(w, o, Q + 1, K);
                if (h == -1) return -1;
                R.F.push(h.F);
                o += h.size;
                delete h.size;
                while (dA.qP(w[o])) o++
            }
            o++
        } else {
            var e = o;
            while (!dA.qP(w[e])) e++;
            var Z = W.Ui(w, o, e - o),
                P = parseFloat(Z);
            if (!isNaN(P) && Z.indexOf(".") != -1) {
                R.type = "Float";
                var J = parseFloat(Z);
                R.F = "f" + J
            } else if (!isNaN(P) && Z.indexOf(".") == -1) {
                R.type = "Integer";
                R.F = "i" + parseInt(Z)
            } else if (Z == "true" || Z == "false") {
                R.type = "Boolean";
                R.F = Z == "true"
            } else if (Z.charAt(0) == "/") {
                R.type = "BString";
                R.F = Z
            } else if (Z == "NaN") {
                R.type = "Float";
                R.F = "f0"
            } else {
                console.log("unknown value", JSON.stringify(Z));
                throw "e"
            }
            o = e + 1
        }
        R.size = o - b;
        return R
    };
    dA.adV = function(w) {
        if (w == Math.round(w)) return w + ".0";
        var o = w.toFixed(5);
        if (0 < w && w < 1) o = o.substring(1, o.length);
        if (-1 < w && w < 0) o = "-" + o.substring(2, o.length);
        return o
    };
    dA.y1 = function(w, o, Q, K) {
        var b = typeof w == "string" ? w.charAt(0) : "";
        if (w instanceof Array) {
            W.qH(o, Q, "[ ");
            Q += 2;
            for (var M = 0; M < w.length; M++) {
                Q = dA.y1(w[M], o, Q, K);
                W.qH(o, Q, " ");
                Q++
            }
            W.qH(o, Q, "]");
            Q += 1
        } else if (w instanceof Object) {
            Q = dA.RB(w, o, Q, K)
        } else if (b == "s") {
            W.qH(o, Q, "(");
            Q++;
            W.PL(o, Q, 254);
            Q++;
            W.PL(o, Q, 255);
            Q++;
            Q = W.Eo(o, Q, w.substring(1));
            W.qH(o, Q, ")");
            Q++
        } else if (b == "/") {
            W.qH(o, Q, w);
            Q += w.length
        } else if (b == "f") {
            var R = parseFloat(w.substring(1)),
                X = dA.adV(R);
            W.qH(o, Q, X);
            Q += X.length
        } else if (b == "i") {
            W.qH(o, Q, w.substring(1));
            Q += w.length - 1
        } else {
            var X = w + "";
            W.qH(o, Q, X);
            Q += X.length
        }
        return Q
    };

    function fB(w, o) {
        if (!w) w = 0;
        if (!o) o = 0;
        this.x = w;
        this.y = o
    }
    fB.prototype.add = function(w) {
        return new fB(this.x + w.x, this.y + w.y)
    };
    fB.prototype.clone = function() {
        return new fB(this.x, this.y)
    };
    fB.prototype.jH = function(w) {
        this.x = w.x;
        this.y = w.y
    };
    fB.prototype.Lb = function(w) {
        return this.x == w.x && this.y == w.y
    };
    fB.prototype.normalize = function(w) {
        var o = Math.sqrt(this.x * this.x + this.y * this.y);
        this.x *= w / o;
        this.y *= w / o
    };
    fB.prototype.offset = function(w, o) {
        this.x += w;
        this.y += o
    };
    fB.prototype.qQ = function(w, o) {
        this.x = w;
        this.y = o
    };
    fB.prototype.ZO = function(w) {
        return new fB(this.x - w.x, this.y - w.y)
    };
    fB.mp = function(w, o) {
        return fB.a1m(w.x, w.y, o.x, o.y)
    };
    fB.dT = function(w, o, Q) {
        return new fB(w.x + Q * (o.x - w.x), w.y + Q * (o.y - w.y))
    };
    fB.ae8 = function(w, o) {
        return new fB(w * Math.cos(o), w * Math.sin(o))
    };
    fB.a1m = function(w, o, Q, K) {
        return Math.sqrt((Q - w) * (Q - w) + (K - o) * (K - o))
    };
    fB.ST = {};
    fB.zu = {};
    fB.ST.create = function() {
        var w = new Float32Array(4);
        return w
    };
    fB.zu.create = function(w) {
        var o = new Float32Array(16);
        o[0] = o[5] = o[10] = o[15] = 1;
        if (w) fB.zu.set(w, o);
        return o
    };
    fB.ST.add = function(w, o, Q) {
        Q[0] = w[0] + o[0];
        Q[1] = w[1] + o[1];
        Q[2] = w[2] + o[2];
        Q[3] = w[3] + o[3]
    };
    fB.ST.set = function(w, o) {
        o[0] = w[0];
        o[1] = w[1];
        o[2] = w[2];
        o[3] = w[3]
    };
    fB.zu.set = function(w, o) {
        o[0] = w[0];
        o[1] = w[1];
        o[2] = w[2];
        o[3] = w[3];
        o[4] = w[4];
        o[5] = w[5];
        o[6] = w[6];
        o[7] = w[7];
        o[8] = w[8];
        o[9] = w[9];
        o[10] = w[10];
        o[11] = w[11];
        o[12] = w[12];
        o[13] = w[13];
        o[14] = w[14];
        o[15] = w[15]
    };
    fB.zu.multiply = function(w, o, Q) {
        var K = w[0],
            b = w[1],
            R = w[2],
            X = w[3],
            h = w[4],
            e = w[5],
            Z = w[6],
            P = w[7],
            J = w[8],
            i = w[9],
            k = w[10],
            $ = w[11],
            n = w[12],
            j = w[13],
            y = w[14],
            V = w[15],
            O = o[0],
            S = o[1],
            G = o[2],
            D = o[3];
        Q[0] = O * K + S * h + G * J + D * n;
        Q[1] = O * b + S * e + G * i + D * j;
        Q[2] = O * R + S * Z + G * k + D * y;
        Q[3] = O * X + S * P + G * $ + D * V;
        O = o[4];
        S = o[5];
        G = o[6];
        D = o[7];
        Q[4] = O * K + S * h + G * J + D * n;
        Q[5] = O * b + S * e + G * i + D * j;
        Q[6] = O * R + S * Z + G * k + D * y;
        Q[7] = O * X + S * P + G * $ + D * V;
        O = o[8];
        S = o[9];
        G = o[10];
        D = o[11];
        Q[8] = O * K + S * h + G * J + D * n;
        Q[9] = O * b + S * e + G * i + D * j;
        Q[10] = O * R + S * Z + G * k + D * y;
        Q[11] = O * X + S * P + G * $ + D * V;
        O = o[12];
        S = o[13];
        G = o[14];
        D = o[15];
        Q[12] = O * K + S * h + G * J + D * n;
        Q[13] = O * b + S * e + G * i + D * j;
        Q[14] = O * R + S * Z + G * k + D * y;
        Q[15] = O * X + S * P + G * $ + D * V;
        return Q
    };
    fB.zu.inverse = function(w, o) {
        var Q = w[0],
            K = w[1],
            b = w[2],
            R = w[3],
            X = w[4],
            h = w[5],
            e = w[6],
            Z = w[7],
            P = w[8],
            J = w[9],
            i = w[10],
            k = w[11],
            $ = w[12],
            n = w[13],
            j = w[14],
            y = w[15],
            V = Q * h - K * X,
            O = Q * e - b * X,
            S = Q * Z - R * X,
            G = K * e - b * h,
            D = K * Z - R * h,
            q = b * Z - R * e,
            T = P * n - J * $,
            L = P * j - i * $,
            N = P * y - k * $,
            F = J * j - i * n,
            I = J * y - k * n,
            s = i * y - k * j,
            u = V * s - O * I + S * F + G * N - D * L + q * T;
        if (!u) {
            return null
        }
        u = 1 / u;
        o[0] = (h * s - e * I + Z * F) * u;
        o[1] = (b * I - K * s - R * F) * u;
        o[2] = (n * q - j * D + y * G) * u;
        o[3] = (i * D - J * q - k * G) * u;
        o[4] = (e * N - X * s - Z * L) * u;
        o[5] = (Q * s - b * N + R * L) * u;
        o[6] = (j * S - $ * q - y * O) * u;
        o[7] = (P * q - i * S + k * O) * u;
        o[8] = (X * I - h * N + Z * T) * u;
        o[9] = (K * N - Q * I - R * T) * u;
        o[10] = ($ * D - n * S + y * V) * u;
        o[11] = (J * S - P * D - k * V) * u;
        o[12] = (h * L - X * F - e * T) * u;
        o[13] = (Q * F - K * L + b * T) * u;
        o[14] = (n * O - $ * G - j * V) * u;
        o[15] = (P * G - J * O + i * V) * u;
        return o
    };
    fB.zu.a6e = function(w, o, Q) {
        var K = o[0],
            b = o[1];
        Q[0] = K * w[0] + b * w[4] + w[12];
        Q[1] = K * w[1] + b * w[5] + w[13]
    };
    fB.zu.a9$ = function(w, o, Q) {
        var K = o[0],
            b = o[1],
            R = o[2],
            X = o[3];
        Q[0] = w[0] * K + w[4] * b + w[8] * R + w[12] * X;
        Q[1] = w[1] * K + w[5] * b + w[9] * R + w[13] * X;
        Q[2] = w[2] * K + w[6] * b + w[10] * R + w[14] * X;
        Q[3] = w[3] * K + w[7] * b + w[11] * R + w[15] * X
    };

    function dj(w, o, Q, K, b, R) {
        if (typeof w === "undefined") {
            w = 1;
            o = 0;
            Q = 0;
            K = 1;
            b = 0;
            R = 0
        }
        this.K = w;
        this.k = o;
        this.Lu = Q;
        this.TX = K;
        this.xy = b;
        this.r6 = R
    }
    dj.prototype.Qz = function() {
        return Math.sqrt(Math.abs(this.K * this.TX - this.k * this.Lu))
    };
    dj.prototype.Gr = function() {
        var w = this,
            o = function(Q) {
                return Math.abs(Q) < 1e-9 ? 0 : Q
            };
        w.K = o(w.K);
        w.k = o(w.k);
        w.Lu = o(w.Lu);
        w.TX = o(w.TX);
        w.xy = o(w.xy);
        w.r6 = o(w.r6)
    };
    dj.prototype.hv = function(w) {
        return new fB(w.x * this.K + w.y * this.Lu + this.xy, w.x * this.k + w.y * this.TX + this.r6)
    };
    dj.prototype.translate = function(w, o) {
        this.xy += w;
        this.r6 += o
    };
    dj.prototype.rotate = function(w) {
        var o = new dj(Math.cos(w), -Math.sin(w), Math.sin(w), Math.cos(w), 0, 0);
        this.concat(o)
    };
    dj.prototype.scale = function(w, o) {
        var Q = new dj(w, 0, 0, o, 0, 0);
        this.concat(Q)
    };
    dj.prototype.concat = function(w) {
        this.jH(new dj(this.K * w.K + this.k * w.Lu, this.K * w.k + this.k * w.TX, this.Lu * w.K + this.TX * w.Lu, this.Lu * w.k + this.TX * w.TX, this.xy * w.K + this.r6 * w.Lu + w.xy, this.xy * w.k + this.r6 * w.TX + w.r6))
    };
    dj.prototype.MF = function() {
        var w = this.K * this.TX - this.k * this.Lu;
        this.jH(new dj(this.TX / w, -this.k / w, -this.Lu / w, this.K / w, (this.Lu * this.r6 - this.TX * this.xy) / w, (this.k * this.xy - this.K * this.r6) / w))
    };
    dj.prototype.clone = function() {
        return new dj(this.K, this.k, this.Lu, this.TX, this.xy, this.r6)
    };
    dj.prototype.jH = function(w) {
        this.K = w.K;
        this.k = w.k;
        this.Lu = w.Lu;
        this.TX = w.TX;
        this.xy = w.xy;
        this.r6 = w.r6
    };

    function W() {}
    W.ajB = function(A) {
        var w = "";
        for (var M = 3; M >= 0; M--) w += String.fromCharCode(A >> M * 8 & 255);
        return w
    };
    W.afV = function(w) {
        var A = 0;
        for (var M = w.length - 1; M >= 0; M--) A |= w.charCodeAt(M) << (3 - M) * 8;
        return A
    };
    W.indexOf = function(w, o, Q, K) {
        if (Q == null) Q = 0;
        if (K == null) K = w.length;
        K = Math.min(K, w.length);
        for (var M = Q; M < K; M++)
            if (w[M] == o) return M;
        return -1
    };
    W.x$ = function(w, o, Q) {
        if (Q == null) Q = 0;
        if (typeof o == "string") {
            var K = [];
            for (var M = 0; M < o.length; M++) K.push(o.charCodeAt(M));
            o = K
        }
        for (var M = Q; M < w.length; M++) {
            var b = !0;
            for (var R = 0; R < o.length; R++)
                if (o[R] != w[M + R]) {
                    b = !1;
                    break
                } if (b) return M
        }
        return -1
    };
    W.qF = function(w, o, Q) {
        var K = [],
            R = "";
        while (o < Q) {
            var b = w[o++];
            if (b == "\\".charCodeAt(0)) K.push(w[o++]);
            else K.push(b)
        }
        for (var M = 0; M < K.length; M += 2) R += String.fromCharCode(K[M] << 8 | K[M + 1]);
        return R
    };
    W.aip = function(w, o, Q) {
        var K = new Uint8Array(2);
        for (var M = 0; M < Q.length; M++) {
            W.lU(K, 0, Q.charCodeAt(M));
            if (K[0] == ")".charCodeAt(0) || K[0] == "(".charCodeAt(0) || K[0] == "\\".charCodeAt(0)) {
                w[o] = "\\".charCodeAt(0);
                o++
            }
            w[o] = K[0];
            o++;
            if (K[1] == ")".charCodeAt(0) || K[1] == "(".charCodeAt(0) || K[1] == "\\".charCodeAt(0)) {
                w[o] = "\\".charCodeAt(0);
                o++
            }
            w[o] = K[1];
            o++
        }
        return o
    };
    W.Eo = function(w, o, Q) {
        w.JL(o, 4 * Q.length);
        return W.aip(w.data, o, Q)
    };
    W.Qo = function(w, o, Q) {
        var K = "";
        for (var M = 0; M < Q; M++) {
            var b = w[o++] | w[o++] << 8;
            K += String.fromCharCode(b)
        }
        return K
    };
    W.R4 = function(w, o, Q) {
        var K = "";
        for (var M = 0; M < Q; M++) {
            var b = w[o++] << 8 | w[o++];
            K += String.fromCharCode(b)
        }
        return K
    };
    W.an4 = function(w, o, Q) {
        for (var M = 0; M < Q.length; M++) {
            var K = Q.charCodeAt(M);
            W.Me(w, o + 2 * M, K)
        }
    };
    W.RU = function(w, o, Q) {
        for (var M = 0; M < Q.length; M++) {
            var K = Q.charCodeAt(M);
            W.lU(w, o + 2 * M, K)
        }
    };
    W.ac0 = function(w, o, Q) {
        w.JL(o, 2 * Q.length);
        W.RU(w.data, o, Q)
    };
    W.a7f = function(w, M, o) {
        var Q = [],
            K = 0,
            b = 0;
        o += M;
        while (M < o) {
            K = w[M++];
            if ((K & 128) == 0) b = K;
            else if ((K & 224) == 192) {
                b = (K & 31) << 6;
                K = w[M++];
                b |= K & 63
            } else if ((K & 240) == 224) {
                b = (K & 15) << 12;
                K = w[M++];
                b |= (K & 63) << 6;
                K = w[M++];
                b |= K & 63
            } else if ((K & 248) == 240) {
                b = (K & 7) << 18;
                K = w[M++];
                b |= (K & 63) << 12;
                K = w[M++];
                b |= (K & 63) << 6;
                K = w[M++];
                b |= K & 63
            } else throw "e";
            Q.push(b)
        }
        return Q
    };
    W.jO = window.TextDecoder ? new window.TextDecoder("utf8") : null;
    W.K1 = function(w, o, Q) {
        if (o == null) o = 0;
        if (Q == null) Q = w.length;
        if (W.jO && o == 0 && Q == w.length) return W.jO.decode(w);
        var K = W.a7f(w, o, Q),
            b = K.length;
        for (var M = 0; M < b; M++) K[M] = String.fromCharCode(K[M]);
        return K.join("")
    };
    W.EF = window.TextEncoder ? new window.TextEncoder("utf8") : null;
    W.wG = function(w) {
        if (W.EF) return W.EF.encode(w);
        var o = new Uint8Array(w.length * 4),
            Q = W.oi(w, o, 0);
        return o.slice(0, Q)
    };
    W.oi = function(w, o, Q) {
        var K = w.length,
            M = 0;
        for (var b = 0; b < K; b++) {
            var R = w.charCodeAt(b);
            if ((R & 4294967295 - (1 << 7) + 1) == 0) {
                o[Q + M] = R;
                M++
            } else if ((R & 4294967295 - (1 << 11) + 1) == 0) {
                o[Q + M] = 192 | R >> 6;
                o[Q + M + 1] = 128 | R >> 0 & 63;
                M += 2
            } else if ((R & 4294967295 - (1 << 16) + 1) == 0) {
                o[Q + M] = 224 | R >> 12;
                o[Q + M + 1] = 128 | R >> 6 & 63;
                o[Q + M + 2] = 128 | R >> 0 & 63;
                M += 3
            } else if ((R & 4294967295 - (1 << 21) + 1) == 0) {
                o[Q + M] = 240 | R >> 18;
                o[Q + M + 1] = 128 | R >> 12 & 63;
                o[Q + M + 2] = 128 | R >> 6 & 63;
                o[Q + M + 3] = 128 | R >> 0 & 63;
                M += 4
            } else throw "e"
        }
        return M
    };
    W.w0 = function(w, o) {
        var Q = W.g(w, o),
            K = W.K1(w, o + 4, Q - 1);
        return {
            sa: K,
            _Z: 4 + Q
        }
    };
    W.a2I = function(w, o) {
        var Q = W.Fh(w, o),
            K = W.Qo(w, o + 4, Q);
        return K
    };
    W.W9 = function(w, o) {
        var Q = W.g(w, o),
            K = W.R4(w, o + 4, Q);
        return K
    };
    W.Pv = function(w, o) {
        var Q = W.g(w, o),
            K = W.R4(w, o + 4, Q - 1);
        return K
    };
    W.a9a = function(w, o, Q) {
        W.LD(w, o, Q.length);
        o += 4;
        W.an4(w, o, Q)
    };
    W.ae6 = function(w, o, Q) {
        W.Oi(w, o, Q.length);
        o += 4;
        W.RU(w, o, Q)
    };
    W.Hr = function(w, o, Q) {
        w.JL(o, 4 + 2 * Q.length);
        W.ae6(w.data, o, Q)
    };
    W.aeR = function(w, o, Q) {
        w.JL(o, 4 + 2 * Q.length);
        W.a9a(w.data, o, Q)
    };
    W.wX = function(w, o, Q) {
        var K = [];
        for (var M = 0; M < Q; M++) K.push(String.fromCharCode(w[o + M]));
        return K
    };
    W.alj = function(w, o, Q) {
        var K = !1,
            b = w.length - Q.length;
        for (var M = o; M < b; M++) {
            for (var R = 0; R < Q.length; R++) {
                if (w[M + R] != Q.charCodeAt(R)) break;
                if (R == Q.length - 1) return M
            }
        }
    };
    W.Ui = function(w, o, Q) {
        var K = "";
        for (var M = 0; M < Q; M++) K += String.fromCharCode(w[o + M]);
        return K
    };
    W.lo = function(w, o, Q) {
        for (var M = 0; M < Q.length; M++) w[o + M] = Q.charCodeAt(M)
    };
    W.qH = function(w, o, Q) {
        w.JL(o, Q.length);
        W.lo(w.data, o, Q)
    };
    W.ai7 = function(w, o, Q) {
        var K = "";
        for (var M = 0; M < Q; M++) {
            var b = w[o + M];
            if (b < 10) K += "  ";
            else if (b < 100) K += " ";
            K += b + ", "
        }
        return K
    };
    W.r9 = function(w, o) {
        return w[o] << 8 | w[o + 1]
    };
    W.lU = function(w, o, A) {
        w[o] = A >> 8 & 255;
        w[o + 1] = A & 255
    };
    W.Ih = function(w, o, A) {
        w.JL(o, 4);
        W.lU(w.data, o, A)
    };
    W.aei = function(w, o) {
        var Q = W.r9(w, o),
            K = W.r9(w, o + 2);
        return Q + K * (1 / 65536)
    };
    W.ya = function(w, o, A) {
        var Q = Math.floor(A),
            K = Math.floor((A - Q) * 65536);
        W.lU(w, o, Q);
        W.lU(w, o + 2, K)
    };
    W.o_ = function(w, o) {
        return w[o + 1] << 8 | w[o]
    };
    W.Me = function(w, o, A) {
        w[o + 1] = A >> 8 & 255;
        w[o] = A & 255
    };
    W.JE = function(w, o, A) {
        w.JL(o, 4);
        W.Me(w.data, o, A)
    };
    W.m2 = function(w, o) {
        W.q4[0] = w[o + 1];
        W.q4[1] = w[o];
        return W.RC[0]
    };
    W.hg = function(w, o) {
        W.q4[0] = w[o];
        W.q4[1] = w[o + 1];
        return W.RC[0]
    };
    W.G9 = W.lU;
    W.DY = W.Ih;
    W.Cd = function(w, o) {
        W.lx[0] = w[o + 3];
        W.lx[1] = w[o + 2];
        W.lx[2] = w[o + 1];
        W.lx[3] = w[o];
        return W.c8[0]
    };
    W.aY = function(w, o, A) {
        W.c8[0] = A;
        w[o + 3] = W.lx[0];
        w[o + 2] = W.lx[1];
        w[o + 1] = W.lx[2];
        w[o + 0] = W.lx[3]
    };
    W.HT = function(w, o, A) {
        w.JL(o, 4);
        W.aY(w.data, o, A)
    };
    W.dF = function(w, o, Q, K) {
        Q[K + 0] = w[o + 0];
        Q[K + 1] = w[o + 1];
        Q[K + 2] = w[o + 2];
        Q[K + 3] = w[o + 3]
    };
    W.Fh = function(w, o) {
        W.dF(w, o, W.lx, 0);
        return W.KZ[0]
    };
    W.LD = function(w, o, A) {
        W.KZ[0] = A;
        W.dF(W.lx, 0, w, o)
    };
    W.Fi = function(w, o, A) {
        w.JL(o, 4);
        W.LD(w.data, o, A)
    };
    W.fD = function(w, o) {
        W.dF(w, o, W.lx, 0);
        return W.c8[0]
    };
    W.ajA = function(w, o, A) {
        W.c8[0] = A;
        W.dF(W.lx, 0, w, o)
    };
    W.adG = function(w, o, A) {
        w.JL(o, 4);
        W.ajA(w.data, o, A)
    };
    W.g = function(w, o) {
        var Q = w[o] * (256 * 256 * 256) + (w[o + 1] << 16 | w[o + 2] << 8 | w[o + 3]);
        return Q
    };
    W.Oi = function(w, o, A) {
        w[o] = A >> 24 & 255;
        w[o + 1] = A >> 16 & 255;
        w[o + 2] = A >> 8 & 255;
        w[o + 3] = A >> 0 & 255
    };
    W.c5 = function(w, o, A) {
        w.JL(o, 4);
        W.Oi(w.data, o, A)
    };
    W.Zo = function(w, o) {
        return W.g(w, o) << 32 | W.g(w, o + 4)
    };
    W.aiF = function(w, o, A) {
        W.Oi(w, o, A >> 16 >> 16);
        W.Oi(w, o + 4, A & 4294967295)
    };
    W.$a = function(w, o, A) {
        w.JL(o, 8);
        W.aiF(w.data, o, A)
    };
    W.Wg = function(w, o) {
        var Q = new Uint8Array(8);
        for (var M = 0; M < 8; M++) Q[M] = w[o + 7 - M];
        var K = new Float64Array(Q.buffer);
        return K[0]
    };
    W.aan = function(w, o) {
        var Q = new Uint8Array(8);
        for (var M = 0; M < 8; M++) Q[M] = w[o + M];
        var K = new Float64Array(Q.buffer);
        return K[0]
    };
    W.dL = function(w, o, A) {
        var Q = new Float64Array(1);
        Q[0] = A;
        var K = new Uint8Array(Q.buffer);
        for (var M = 0; M < 4; M++) {
            var b = K[M];
            K[M] = K[7 - M];
            K[7 - M] = b
        }
        for (var M = 0; M < 8; M++) w[o + M] = K[M]
    };
    W.t8 = function(w, o, A) {
        w.JL(o, 8);
        W.dL(w.data, o, A)
    };
    W.If = function(w, o) {
        W.lx[0] = w[o + 3];
        W.lx[1] = w[o + 2];
        W.lx[2] = w[o + 1];
        W.lx[3] = w[o + 0];
        return W.cj[0]
    };
    W.X0 = function(w, o) {
        W.lx[0] = w[o + 0];
        W.lx[1] = w[o + 1];
        W.lx[2] = w[o + 2];
        W.lx[3] = w[o + 3];
        return W.cj[0]
    };
    W.g0 = function(w, o, A) {
        W.cj[0] = A;
        w[o + 0] = W.lx[3];
        w[o + 1] = W.lx[2];
        w[o + 2] = W.lx[1];
        w[o + 3] = W.lx[0]
    };
    W.a31 = function(w, o, A) {
        w.JL(o, 4);
        W.g0(w.data, o, A)
    };
    W.r7 = function(w, o, A) {
        W.cj[0] = A;
        w[o + 0] = W.lx[0];
        w[o + 1] = W.lx[1];
        w[o + 2] = W.lx[2];
        w[o + 3] = W.lx[3]
    };
    W.a3K = function(w, o, A) {
        w.JL(o, 4);
        W.r7(w.data, o, A)
    };
    W.acQ = function(w, o) {
        var Q = W.Cd(w, o),
            K = Q * (1 / (1 << 24));
        return K
    };
    W.sJ = function(w, o, Q) {
        var K = Math.floor(Q * (1 << 24));
        W.aY(w, o, K)
    };
    W.a4H = function(w, o, Q) {
        w.JL(o, 4);
        W.sJ(w.data, o, Q)
    };
    W.Sh = function(w, o) {
        var Q = w[o],
            K = W.Ui(w, o + 1, Q);
        Q += 1 - Q % 2;
        return {
            ct: K,
            length: Q + 1
        }
    };
    W.adc = function(w, o, Q) {
        var K = Q.length;
        w[o] = K;
        W.lo(w, o + 1, Q);
        if (K % 2 == 0) {
            w[o + 1 + K] = 0;
            ++K
        }
        return K + 1
    };
    W.jq = function(w, o, Q) {
        w.JL(o, Q.length + 2);
        return W.adc(w.data, o, Q)
    };
    W.SZ = function(w, o) {
        var Q = new dj;
        Q.K = W.Wg(w, o + 0 * 8);
        Q.k = W.Wg(w, o + 1 * 8);
        Q.Lu = W.Wg(w, o + 2 * 8);
        Q.TX = W.Wg(w, o + 3 * 8);
        Q.xy = W.Wg(w, o + 4 * 8);
        Q.r6 = W.Wg(w, o + 5 * 8);
        return Q
    };
    W.gu = function(w, o, Q) {
        W.dL(w, o + 0 * 8, Q.K);
        W.dL(w, o + 1 * 8, Q.k);
        W.dL(w, o + 2 * 8, Q.Lu);
        W.dL(w, o + 3 * 8, Q.TX);
        W.dL(w, o + 4 * 8, Q.xy);
        W.dL(w, o + 5 * 8, Q.r6)
    };
    W.agN = function(w, o, Q) {
        w.JL(o, 48);
        W.gu(w.data, o, Q)
    };
    W.a35 = function(w, o) {
        var Q = W.If(w, o),
            K = W.If(w, o + 4),
            b = W.If(w, o + 8),
            R = W.If(w, o + 12);
        return new B(Q, K, b - Q, R - K)
    };
    W.amP = function(w, o, Q) {
        W.g0(w, o, Q.x);
        W.g0(w, o + 4, Q.y);
        W.g0(w, o + 8, Q.x + Q.D);
        W.g0(w, o + 12, Q.y + Q.j)
    };
    W.a3E = function(w, o, Q) {
        w.JL(o, 16);
        W.amP(w.data, o, Q)
    };
    W.Er = function(w, o) {
        var Q = W.Cd(w, o),
            K = W.Cd(w, o + 4),
            b = W.Cd(w, o + 8),
            R = W.Cd(w, o + 12);
        return new B(K, Q, R - K, b - Q)
    };
    W.P7 = function(w, o, Q) {
        W.aY(w, o, Q.y);
        W.aY(w, o + 4, Q.x);
        W.aY(w, o + 8, Q.y + Q.j);
        W.aY(w, o + 12, Q.x + Q.D)
    };
    W.H_ = function(w, o, Q) {
        w.JL(o, 16);
        W.P7(w.data, o, Q)
    };
    W.iC = function(w, o, Q) {
        var K = new Uint8Array(Q);
        for (var M = 0; M < Q; M++) K[M] = w[o + M];
        return K
    };
    W.z$ = function(w, o, Q) {
        w.set(Q, o)
    };
    W.lN = function(w, o, Q) {
        w.JL(o, Q.length);
        W.z$(w.data, o, Q)
    };
    W.adQ = function(w, o, Q, A) {
        if (!A) A = 1;
        for (var M = 0; M < A; M++) w[o + M] = Q
    };
    W.PL = function(w, o, Q, A) {
        if (!A) A = 1;
        w.JL(o, A);
        W.adQ(w.data, o, Q, A)
    };
    W.RC = new Int16Array(1);
    W.q4 = new Uint8Array(W.RC.buffer);
    W.c8 = new Int32Array(1);
    W.KZ = new Uint32Array(W.c8.buffer);
    W.lx = new Uint8Array(W.c8.buffer);
    W.cj = new Float32Array(W.c8.buffer);

    function B(w, o, Q, K) {
        if (!w) w = 0;
        if (!o) o = 0;
        if (!Q) Q = 0;
        if (!K) K = 0;
        this.x = w;
        this.y = o;
        this.D = Q;
        this.j = K
    }
    B.prototype.O = function() {
        return this.D * this.j
    };
    B.prototype.clone = function() {
        return new B(this.x, this.y, this.D, this.j)
    };
    B.prototype.contains = function(w, o) {
        return w >= this.x && w <= this.x + this.D && (o >= this.y && o <= this.y + this.j)
    };
    B.prototype.V5 = function(w) {
        return this.contains(w.x, w.y)
    };
    B.prototype.Fq = function(w) {
        return this.x <= w.x && this.y <= w.y && w.x + w.D <= this.x + this.D && w.y + w.j <= this.y + this.j
    };
    B.prototype.jH = function(w) {
        this.x = w.x;
        this.y = w.y;
        this.D = w.D;
        this.j = w.j
    };
    B.prototype.Lb = function(w) {
        return this.x == w.x && this.y == w.y && this.D == w.D && this.j == w.j
    };
    B.prototype.Nn = function(w, o) {
        this.x -= w;
        this.y -= o;
        this.D += 2 * w;
        this.j += 2 * o
    };
    B.prototype.ag_ = function(w) {
        this.Nn(w.x, w.y)
    };
    B.prototype.z2 = function(w) {
        var o = Math.max(this.x, w.x),
            Q = Math.max(this.y, w.y),
            K = Math.min(this.x + this.D, w.x + w.D),
            b = Math.min(this.y + this.j, w.y + w.j);
        if (K < o || b < Q) return new B;
        else return new B(o, Q, K - o, b - Q)
    };
    B.prototype.Ic = function(w) {
        if (w.y + w.j < this.y || w.x > this.x + this.D || w.y > this.y + this.j || w.x + w.D < this.x) return !1;
        return !0
    };
    B.prototype.Kx = function() {
        return this.D <= 0 || this.j <= 0
    };
    B.prototype.offset = function(w, o) {
        this.x += w;
        this.y += o
    };
    B.prototype.Ml = function(w) {
        this.offset(w.x, w.y)
    };
    B.prototype.ajY = function() {
        this.x = this.y = this.D = this.j = 0
    };
    B.prototype.qQ = function(w, o, Q, K) {
        this.x = w;
        this.y = o;
        this.D = Q;
        this.j = K
    };
    B.prototype.OX = function(w) {
        if (this.Kx()) return w.clone();
        if (w.Kx()) return this.clone();
        var o = this.clone();
        o.aeo(w);
        return o
    };
    B.kj = new Float32Array(2);
    B.prototype.aeo = function(w) {
        if (w.Kx()) return;
        if (this.Kx()) {
            this.jH(w);
            return
        }
        this.Ts(w.x, w.y);
        this.Ts(w.x + w.D, w.y + w.j)
    };
    B.prototype.Ts = function(w, o) {
        var Q = Math.min(this.x, w),
            K = Math.min(this.y, o);
        this.D = Math.max(this.x + this.D, w) - Q;
        this.j = Math.max(this.y + this.j, o) - K;
        this.x = Q;
        this.y = K
    };
    B.prototype.a8P = function(w, o, Q, K) {
        if (this.D == 0 && this.j == 0) this.a52(w, o);
        else this.Ts(w, o);
        this.Ts(Q, K)
    };
    B.prototype.a52 = function(w, o) {
        this.x = w;
        this.y = o;
        this.D = this.j = 0
    };

    function bO() {}
    bO.DG = function(w, o) {
        var Q = new Uint8Array(w),
            K = 0,
            b = W.Ui(Q, K, 9),
            h = 4,
            e = 100;
        K += 9;
        var R = W.Ui(Q, K, 4);
        K += 4;
        K++;
        o.D = W.g(Q, K);
        K += 4;
        o.j = W.g(Q, K);
        K += 4;
        var X = W.g(Q, K);
        K += 4;
        if (X != 0) alert("Unsupported image format, not RGB!");
        if (["file", "v001", "v002", "v003"].indexOf(R) == -1) {
            e = W.g(Q, K);
            K += 4;
            if (parseInt(R.slice(1)) >= 7) {
                e = e
            } else alert("Unknown XCF version: " + R);
            h = 8
        }
        var Z = {};
        K = bO.km(Q, K, Z);
        var P = [];
        K = bO.nM(Q, K, P, h);
        var J = [];
        K = bO.nM(Q, K, J, h);
        o.Ju = 0;
        for (var M = 0; M < P.length; M++) bO.abg(Q, P[M], o, Z, h, e);
        while (o.Ju > 0) {
            o.t.push(o.JG());
            o.Ju--
        }
        o.t.reverse();
        delete o.Ju;
        o.buffer = v.$(o.D * o.j * 4);
        if (o.t.length == 0) console.log("No layers!!!");
        for (var M = 0; M < J.length; M++) {
            var i = bO.Rv(Q, J[M], Z, h, e);
            if (i.Op[fg.a3m]) o.o = {
                channel: i.N3,
                rect: new B(0, 0, o.D, o.j)
            }
        }
    };
    bO.abg = function(w, o, Q, K, b, R) {
        var X = Q._g(),
            h = W.g(w, o),
            J = 0;
        o += 4;
        var e = W.g(w, o);
        o += 4;
        X.rect = new B(0, 0, h, e);
        var Z = W.g(w, o);
        o += 4;
        var P = W.w0(w, o);
        o += P._Z;
        X.jG(P.sa);
        var i = {};
        o = bO.km(w, o, i);
        if (i[fg.X6]) {
            var k = i[fg.X6];
            J = k.length / 4 - 1
        }
        if (i[fg.It]) {
            X.rect.x = W.Cd(i[fg.It], 0);
            X.rect.y = W.Cd(i[fg.It], 4)
        }
        if (i[fg.x2]) {
            X.opacity = W.g(i[fg.x2], 0)
        }
        if (i[fg.ant]) {
            X.add.lsct = bb.SI;
            X.rect = new B(0, 0, 0, 0);
            X.buffer = v.$(0);
            X.a1 = 24
        }
        if (i[fg.fi]) {
            var $ = W.g(i[fg.fi], 0);
            X.TC = fg.ajx[$];
            if (X.xI() && X.TC == "norm") X.TC = "pass"
        }
        if (i[fg.Nz]) {
            if (W.g(i[fg.Nz], 0) == 0) X.a1 += 2
        }
        if (i[fg.QM]) {
            var n = W.g(i[fg.QM], 0);
            X.add.lsct = n & 1 == 1 ? bb.SI : bb.RN
        }
        if (i[fg.tM]) {
            var j = i[fg.tM];
            for (var y in j) {
                var V = j[y];
                if (y == "gimp-text-layer") {
                    var O = bO.ah0(V),
                        S = O.text,
                        G = O.font,
                        D = O.color,
                        q = O["font-size"];
                    if (S == null && O.markup) {
                        var T = new DOMParser,
                            L = T.parseFromString(O.markup, "image/svg+xml");
                        while (L.firstChild != null && L.firstChild.tagName != null) {
                            L = L.firstChild;
                            var N = L.getAttribute("font"),
                                F = L.getAttribute("foreground"),
                                I = L.getAttribute("size");
                            if (N != null) G = N;
                            if (F != null) {
                                F = CSS.nS(F);
                                D = [1, F.W / 255, F.a / 255, F.k / 255]
                            }
                            if (I != null) {
                                q = "" + parseFloat(I) / 245
                            }
                        }
                        S = L.textContent
                    }
                    X.add.lnsr = "rend";
                    X.add.TySh = fI.Uy(0, 0);
                    X.add.TySh.Hu = new B(0, 0, 100, 100);
                    X.add.TySh.H = new dj(1, 0, 0, 1, X.rect.x, X.rect.y);
                    var s = X.add.TySh.rr;
                    fI.L$(s, 0, S);
                    var u = fI.UP(s, 0, 0),
                        g = O.justify,
                        U = O["line-spacing"];
                    if (D) u.Bq.FillColor = {
                        Type: 1,
                        Values: [1, parseFloat(D[1]), parseFloat(D[2]), parseFloat(D[3])]
                    };
                    if (q) {
                        q = Math.round(parseFloat(q));
                        u.Bq.FontSize = q;
                        X.add.TySh.H.r6 += Math.min(17, q * .17)
                    }
                    if (U) {
                        U = Math.round(parseFloat(U) + u.Bq.FontSize * 1.2);
                        u.Bq.Leading = U;
                        u.Bq.AutoLeading = !1
                    }
                    if (g) u.j_.Justification = ["left", "right", "center", "fill"].indexOf(g);
                    if (G && G != "Sans-serif") {
                        var r = G.toLowerCase(),
                            x = "bold italic semi extra regular condensed light".split(" "),
                            C = r.length;
                        for (var M = 0; M < x.length; M++) {
                            var p = r.indexOf(x[M]);
                            if (p != -1 && p < C && r[p - 1] == " ") C = p
                        }
                        if (C != r.length) G = G.slice(0, C - 1).split(" ").join("") + "-" + G.slice(C).split(" ").join("");
                        fI.aE(u, G)
                    }
                    fI.Lj(s, 0, S.length, u);
                    var l = O["box-width"],
                        c = O["box-height"],
                        t = l ? parseFloat(l) : X.rect.D,
                        H = c ? parseFloat(c) : X.rect.j;
                    fI.c9(s, 1);
                    fI.I5(s, [0, 0, Math.ceil(t), Math.ceil(H)])
                } else console.log("Unknown property " + y)
            }
        }
        while (Q.Ju > J) {
            Q.t.push(Q.JG());
            Q.Ju--
        }
        Q.Ju = J;
        if (X.add.lsct == bb.SI || X.add.lsct == bb.RN) Q.Ju++;
        var gl = b == 4 ? W.g : W.Zo;
        if (X.GZ()) {
            X.buffer = v.$(X.rect.O() * 4);
            var fk = new v.Dz(X.rect.O()),
                h5 = gl(w, o);
            o += b;
            var cf = gl(w, o);
            o += b;
            bO.uS(w, h5, fk, K, b, R);
            v.GW(fk, X.buffer);
            if (cf != 0) {
                X.q = new a.Zz;
                X.q.color = 0;
                X.q.rect = X.rect.clone();
                X.q.channel = bO.Rv(w, cf, K, b, R).N3;
                if (i[fg.ly]) X.q.isEnabled = W.g(i[fg.ly], 0) == 1
            }
        }
        Q.t.push(X)
    };
    bO.ah0 = function(w) {
        var o = "(" + W.K1(w, 0, w.length - 1) + ")",
            Q = [],
            K = {};
        bO.$$(o, 1, Q);
        bO.afd(Q, K);
        return K
    };
    bO.afd = function(w, o) {
        for (var M = 0; M < w.length; M++) {
            var Q = w[M],
                K = Q[0];
            if (Q.length == 2) o[K] = Q[1];
            else o[K] = Q.slice(1)
        }
    };
    bO.$$ = function(w, o, Q) {
        while (!0) {
            if (o >= w.length) throw "e";
            var K = w.charAt(o);
            o++;
            if (K == "(") {
                var b = [];
                o = bO.$$(w, o, b);
                Q.push(b)
            } else if (K == " " || K == "\n" || K == "\r") {} else if (K == ")") return o;
            else if (K == "\"") {
                var R = o;
                while (!0) {
                    var X = w[o];
                    o++;
                    if (X == "\"") break;
                    if (X == "\\") o++
                }
                Q.push(JSON.parse(w.slice(R - 1, o)))
            } else {
                var R = o - 1;
                while (w[o] != " " && w[o] != ")") o++;
                Q.push(w.slice(R, o))
            }
        }
    };
    bO.Rv = function(w, o, Q, K, b) {
        var R = W.g(w, o);
        o += 4;
        var X = W.g(w, o);
        o += 4;
        var h = W.w0(w, o);
        o += h._Z;
        var e = {};
        o = bO.km(w, o, e);
        var Z = new v.Dz(R * X),
            P = K == 4 ? W.g : W.Zo,
            J = P(w, o);
        o += K;
        bO.uS(w, J, Z, Q, K, b);
        return {
            N3: Z.W,
            Op: e
        }
    };
    bO.uS = function(w, o, Q, K, b, R) {
        var X = W.g(w, o);
        o += 4;
        var h = W.g(w, o);
        o += 4;
        var e = W.g(w, o);
        o += 4;
        var Z = b == 4 ? W.g : W.Zo,
            P = Z(w, o);
        o += b;
        bO.a1N(w, P, Q, K, e, b, R)
    };
    bO.a1N = function(w, o, Q, K, b, R, X) {
        var h = W.g(w, o),
            P = 0,
            M = 0;
        o += 4;
        var e = W.g(w, o);
        o += 4;
        var Z = new B(0, 0, h, e);
        if (X == 100 || X == 150) P = 1;
        else if (X == 200 || X == 250) P = 2;
        else if (X == 300 || X == 350) P = 4;
        else if (X == 500 || X == 550) P = 2;
        else if (X == 600 || X == 650) P = 4;
        else if (X == 700 || X == 750) P = 8;
        else {
            alert("unsupported bit depth " + X);
            throw "e"
        }
        var J = b / P,
            P = Math.round(b / J),
            i = [];
        o = bO.nM(w, o, i, R);
        var k = new v.Dz(64 * 64 * P),
            $ = new B,
            n = K[fg.alK][0],
            j = [k.W, k.a, k.k, k.K];
        if (J == 3) v.set(k.K, 255);
        var y = Date.now();
        for (var V = 0; V < e; V += 64)
            for (var O = 0; O < h; O += 64) {
                var S = Math.min(h - O, 64),
                    G = Math.min(e - V, 64),
                    D = S * G;
                $.qQ(O, V, S, G);
                bO.a0D(w, i[M++], D * P, n, J, j);
                if (X == 100 || X == 150) {} else if (X == 250) {
                    for (var q = 0; q < J; q++) {
                        var T = j[q];
                        for (var L = 0; L < D; L++) {
                            var N = T[L] << 8 | T[D + L];
                            T[L] = Math.min(N >>> 8, 255)
                        }
                    }
                } else if (X == 600) {
                    var F = bO.aeX(),
                        I = new Uint32Array(1),
                        s = new Float32Array(I.buffer);
                    for (var q = 0; q < J; q++) {
                        var T = j[q];
                        for (var L = 0; L < D; L++) {
                            I[0] = T[L] << 24 | T[D + L] << 16 | T[(D << 1) + L] << 8 | T[(D << 1) + D + L] << 0;
                            var u = s[0];
                            if (u < 0) u = 0;
                            else if (u > 1) u = 1;
                            T[L] = F[~~(.5 + u * 1e3)]
                        }
                    }
                } else console.log("unknown data format", X);
                v.XF(k, $, Q, Z)
            }
    };
    bO.aeX = function() {
        var w = bO.a2r;
        if (w != null) return w;
        w = bO.a2r = new Uint8Array(1001);
        for (var M = 0; M < 1001; M++) w[M] = ~~(.49 + 255 * v.IY(M * .001));
        return w
    };
    bO.a0D = function(w, o, Q, K, b, R) {
        if (K == 1) {
            for (var X = 0; X < b; X++) {
                var h = R[X],
                    e = 0;
                while (e < Q) {
                    var A = w[o];
                    o++;
                    if (A < 127) {
                        var Z = w[o];
                        o++;
                        A++;
                        for (var M = 0; M < A; M++) h[e + M] = Z
                    } else if (A == 127) {
                        var P = w[o];
                        o++;
                        var J = w[o];
                        o++;
                        var Z = w[o];
                        o++;
                        A = P << 8 | J;
                        for (var M = 0; M < A; M++) h[e + M] = Z
                    } else if (A == 128) {
                        var P = w[o];
                        o++;
                        var J = w[o];
                        o++;
                        A = P << 8 | J;
                        for (var M = 0; M < A; M++) h[e + M] = w[o + M];
                        o += A
                    } else {
                        A = 256 - A;
                        for (var M = 0; M < A; M++) h[e + M] = w[o + M];
                        o += A
                    }
                    e += A
                }
            }
        } else if (K == 2) {
            var i = pako.inflate(w.slice(o)),
                k = Math.round(i.length / Q);
            for (var M = 0; M < Q; M++) {
                var $ = M * k;
                R[0][M] = i[$];
                R[1][M] = i[$ + 1];
                R[2][M] = i[$ + 2];
                R[3][M] = k == 3 ? 255 : i[$ + 3]
            }
        } else alert("Unknown compression " + K)
    };
    bO.nM = function(w, o, Q, K) {
        var b = K == 4 ? W.g : W.Zo;
        while (!0) {
            var R = b(w, o);
            o += K;
            if (R == 0) break;
            else Q.push(R)
        }
        return o
    };
    bO.km = function(w, o, Q) {
        while (!0) {
            var K = W.g(w, o);
            o += 4;
            var b = W.g(w, o);
            o += 4;
            if (K == fg.aio) break;
            else if (K == fg.tM) Q[K] = bO.a2J(w, o, o + b);
            else Q[K] = W.iC(w, o, b);
            o += b
        }
        return o
    };
    bO.a2J = function(w, o, Q) {
        var K = {};
        while (o < Q) {
            var b = W.w0(w, o);
            o += b._Z;
            var R = W.g(w, o);
            o += 4;
            if (R != 1) console.log("unknown flags", R);
            var X = W.g(w, o);
            o += 4;
            K[b.sa] = W.iC(w, o, X);
            o += X
        }
        return K
    };
    var fg = {
        aio: 0,
        a6J: 1,
        anl: 2,
        a87: 3,
        a3m: 4,
        ajD: 5,
        x2: 6,
        fi: 7,
        Nz: 8,
        a37: 9,
        ahw: 10,
        ly: 11,
        am_: 12,
        a2Z: 13,
        akX: 14,
        It: 15,
        am8: 16,
        alK: 17,
        abD: 18,
        adI: 19,
        akq: 20,
        tM: 21,
        aar: 22,
        alv: 23,
        a6w: 24,
        a5R: 25,
        aeF: 26,
        a3C: 27,
        adv: 28,
        ant: 29,
        X6: 30,
        QM: 31,
        agy: 32,
        ahk: 33,
        am6: 34,
        a2e: 35,
        amk: 36,
        a14: 37,
        amn: 38,
        a8a: 0,
        a4a: 1,
        a6V: 2,
        ad2: 3,
        a8M: 1,
        aiS: 2,
        aef: 0,
        an1: 1,
        anC: 1
    };
    fg.ajx = "norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");

    function h6() {}
    h6.DG = function(w, o) {
        var Q = h6,
            K = b8.parse(w),
            R = 0;
        if (K.pages.length > 1) console.log(K.pages.length, "pages");
        var b = [],
            X = new B;
        for (var h = 0; h < K.pages.length; h++) {
            var e = K.pages[h],
                Z = e.layers,
                P = Q.QT(Z, h),
                i = !1;
            if (P.O() > 8e3 * 8e3 || P.D > 3e4 || P.j > 3e4) {
                Q.rS(Z, !0);
                var J = Q.QT(Z, h);
                if (J.O() >= P.O()) Q.rS(Z, !1)
            }
            P = Q.QT(Z, h);
            for (var k = 0; k < Z.length; k++) {
                var $ = Z[k];
                if (Q.cY($) == "artboard") i = !0
            }
            if (!i) {
                console.log("no artboard");
                var n = {};
                for (var j in e) n[j] = e[j];
                n._class = "group";
                e.layers = [n]
            }
            b.push(P.clone());
            if (P.Kx()) continue;
            P.x = 0;
            P.y = R;
            R += P.j + 200;
            X = X.OX(P)
        }
        var y = {};
        if (K.foreignSymbols)
            for (var M = 0; M < K.foreignSymbols.length; M++) {
                var V = K.foreignSymbols[M].symbolMaster;
                y[V.symbolID] = {
                    t3: V
                }
            }
        Q.Ki(K.pages, y, o);
        for (var O in y) {
            var $ = y[O].t3,
                S = Q.UW($.layers)
        }
        var G = h6.xh(X, 8192 * 8192);
        o.DF = !0;
        o.D = Math.round(X.D / G);
        o.j = Math.round(X.j / G);
        o.buffer = v.$(o.D * o.j * 4);
        o.hu(K.pages[0].layers.length);
        o.na = {};
        o.Mr = [];
        R = 0;
        for (var h = 0; h < K.pages.length; h++) {
            var D = K.pages[h],
                P = b[h],
                q = new dj(G, 0, 0, G, P.x, P.y - R);
            Q.me(D.layers, o, q, K, y, {}, []);
            R += P.j + 200
        }
        delete o.na;
        delete o.Mr;
        if (G != 1) alert("File scaled down " + G + "x");
        o.a6G()
    };
    h6.agq = 0;
    h6.cY = function(w) {
        return w._class ? w._class : w.$class
    };
    h6.xh = function(w, o) {
        var Q = 1;
        while (Math.round(w.D / Q) * Math.round(w.j / Q) > o || Math.max(Math.round(w.D / Q), Math.round(w.j / Q)) > 3e4) Q++;
        if (Q != 1 && 1) Q = 1;
        return Q
    };
    h6.QT = function(w, o) {
        var Q = [],
            K = h6;
        for (var b = 0; b < w.length; b++) {
            var R = w[b],
                X = K.Er(R.frame);
            if (o == 0 || K.cY(R) == "artboard") Q.push(X)
        }
        return v.rect.r_(Q)
    };
    h6.rS = function(w, o) {
        var Q = [],
            K = h6;
        for (var b = 0; b < w.length; b++) {
            var R = w[b],
                X = K.Er(R.frame);
            X.D += 150;
            X.j += 150;
            Q.push(X)
        }
        var h = v.rect.r_(Q);
        v.rect.a9I(Q, o);
        var e = v.rect.r_(Q);
        if (e.O() * 1.5 < h.O() || h.D > 3e4 && e.D <= 3e4 || h.j > 3e4 && e.j <= 3e4) {
            alert("Re-arranging artboards");
            for (var b = 0; b < w.length; b++) {
                var Z = Q[b],
                    R = w[b],
                    P = R.frame;
                P.x = Z.x;
                P.y = Z.y
            }
        }
    };
    h6.Ki = function(w, o, Q) {
        var K = h6;
        for (var b = 0; b < w.length; b++) {
            var R = w[b],
                X = K.cY(R);
            if (["page", "artboard", "group"].indexOf(X) != -1) K.Ki(R.layers, o, Q);
            else if (X == "symbolMaster") o[R.symbolID] = {
                t3: R
            }
        }
    };
    h6.UW = function(w) {
        var o = h6;
        for (var Q = 0; Q < w.length; Q++) {
            var K = w[Q],
                b = o.cY(K),
                R = null;
            if (["page", "artboard", "group"].indexOf(b) != -1) R = o.UW(K.layers);
            if (b == "symbolMaster" || b == "symbolInstance") R = K;
            if (R != null) return R
        }
        return null
    };
    h6.me = function(w, o, Q, K, b, R, X) {
        var h = h6,
            e = [];
        for (var Z = 0; Z < w.length; Z++) {
            var P = w[Z],
                J = P.frame ? h.Er(P.frame) : null,
                i = P.style,
                y = "",
                q = null,
                T = !1;
            if (i == null) {
                console.log("no styles")
            }
            var k = h.gA(P, Q),
                $ = h.cY(P),
                n = $ == "shapeGroup" || $ == "shapePath" || $ == "rectangle" || $ == "oval" || $ == "triangle",
                j = ["page", "artboard", "group"].indexOf($) != -1;
            if ($ == "shapeGroup") {
                for (var M = 0; M < P.layers.length; M++)
                    if (h.cY(P.layers[M]) == "shapeGroup") j = !0
            }
            var V = P.exportOptions;
            if (V) {
                var O = V.exportFormats;
                if (O == null) O = V.sizes;
                if ($ != "artboard" && (O && O.length != 0)) {
                    var S = O[0].scale
                }
            }
            var G = o._g();
            G.BZ(P.isVisible);
            var D = P.name;
            if (!(typeof D == "string")) D = $;
            G.jG(y + D.slice(0, 250));
            if (i != null) q = h.aci(K, o, i, J, k, G.getName(), n || $ == "artboard" || j);
            if ($ == "rectangle" && i && i.fills && i.fills[0]) {
                var L = i.fills[0];
                if (L.fillType == 4 && L.patternFillType > 1 && L.image != null) T = !0
            }
            if (P.shouldBreakMaskChain) {
                while (e.length != 0) h.WU(e.pop(), o)
            }
            if (j) {
                G.add.lsct = P.layerListExpandedType == 2 ? bb.SI : bb.RN;
                G.TC = "pass";
                G.a1 = 24;
                G.BZ(P.isVisible);
                o.t.push(o.JG());
                if ($ == "artboard") {
                    var N = J.clone(),
                        F = k.Qz();
                    N.x = -Math.floor(k.xy / F);
                    N.y = -Math.floor(k.r6 / F);
                    N.D = Math.floor(N.D / F);
                    N.j = Math.floor(N.j / F);
                    G.vm(N);
                    var I = P.backgroundColor;
                    G.add.artb.Clr = {
                        t: "Objc",
                        v: v.V.Kt({
                            W: 255 * I.red,
                            a: 255 * I.green,
                            k: 255 * I.blue
                        })
                    };
                    G.add.artb.artboardBackgroundType = {
                        t: "long",
                        v: 4
                    }
                }
                h.me(P.layers, o, k, K, b, R, X)
            } else if (n && !T) {
                G.add.vmsk = new a.Y3;
                G.add.vstk = JSON.parse(JSON.stringify(b_.fQ.default));
                G.add.vstk.strokeEnabled.v = !1;
                G.add.vogk = [];
                var s = q != null && q.frameFXMulti.v.length == 1,
                    u = i ? i.fills : null,
                    g = i ? h.rm(K, u, J, k, G.getName(), o, h.HG(X, P.do_objectID + "_image")) : [];
                if (g.length == 0) {
                    if (s) G.add.vstk.fillEnabled.v = !1;
                    else G.add.iOpa = 0;
                    G.add.SoCo = {
                        classID: "null",
                        Clr: {
                            t: "Objc",
                            v: v.V.Kt({
                                W: 0,
                                a: 0,
                                k: 0
                            })
                        }
                    }
                } else {
                    var U = g[0],
                        r = null,
                        x = null;
                    if (U.type == "SoFi") {
                        r = "SoCo";
                        x = b_.vu
                    }
                    if (U.type == "GrFl") {
                        r = "GdFl";
                        x = b_.$w
                    }
                    if (U.type == "patternFill") {
                        r = "PtFl";
                        x = b_.$F
                    }
                    if (r != null) {
                        G.add[r] = {
                            classID: "null"
                        };
                        for (var M = 0; M < x.length; M++) {
                            var C = x[M];
                            G.add[r][C] = U.F.v[C]
                        }
                        var p = U.F.v.Opct.v.val;
                        if (s && p == 0) G.add.vstk.fillEnabled.v = !1;
                        else G.add.iOpa = Math.round(255 * p / 100)
                    }
                }
                G.a1 |= 16;
                G.add.vmsk._ = h.ww(P.layers ? P.layers : [P], P.layers ? k : Q, G.add.vogk);
                var l = i ? i.blur : null;
                if (l && l.isEnabled && l.type <= 1) G.add.vmsk.YF = l.radius;
                if (G.add.vmsk._.length == 2) {
                    console.log("shape with no content:", G.getName())
                }
                if (s) {
                    var c = q.frameFXMulti.v[0].v,
                        t = G.add.vstk,
                        H = i.borders[0];
                    q.frameFXMulti.v = [];
                    eg.sB(c, t);
                    var gl = i.borderOptions,
                        ie = i.miterLimit;
                    if (gl) {
                        var fk = gl.dashPattern;
                        t.strokeStyleLineCapType.v.strokeStyleLineCapType = b_.fQ.mg[gl.lineCapStyle];
                        t.strokeStyleLineJoinType.v.strokeStyleLineJoinType = b_.fQ.join[gl.lineJoinStyle];
                        if (fk) t.strokeStyleLineDashSet.v = eg.xo(fk, 1 / c.Sz.v.val);
                        if (ie != null) t.strokeStyleMiterLimit.v = ie
                    }
                }
                G.b6(o)
            } else if ($ == "bitmap" || T) {
                var h5 = T ? i.fills[0] : null,
                    cf = T ? h5.image.bdata : P.image.bdata,
                    f = o.x5(cf, G.getName(), 0, 0);
                f.a1 = G.a1;
                G = f;
                var l = i.blur,
                    aH = i.colorControls;
                if (l || aH) {
                    G.add.SoLd.filterFX = bf.eh();
                    o.iT({
                        id: G.add.SoLd.placed.v,
                        rect: new B,
                        buffer: v.$(1),
                        q: new a.Zz
                    });
                    var u = G.add.SoLd.filterFX.v.filterFXList.v;
                    if (l) {
                        var gY = bf.qU("GsnB", {});
                        gY.v.enab.v = l.isEnabled;
                        gY.v.Fltr.v.Rds.v.val = l.radius;
                        u.push(gY)
                    }
                    if (aH) {
                        var cC = aH.brightness,
                            cY = aH.contrast,
                            gJ = aH.hue,
                            bM = aH.saturation;
                        if (gJ != 0 || bM != 1) {
                            var gY = bf.qU("hue2", {});
                            gY.v.enab.v = aH.isEnabled;
                            e4.hU(gY.v.Fltr.v, 0, [Math.round(gJ * 180 / Math.PI), Math.round((bM - 1) * 100), 0]);
                            u.push(gY)
                        }
                        if (cC != 0 || cY != 1) {
                            var gY = bf.qU("brit", {});
                            gY.v.enab.v = aH.isEnabled;
                            cY = cY - 1;
                            if (cY > 0) cY /= 2;
                            var cN = gY.v.Fltr.v;
                            cN.Brgh.v = Math.round(cC * 255);
                            cN.Cntr.v = Math.round(cY * 255);
                            cN.useLegacy.v = !0;
                            u.push(gY)
                        }
                    }
                }
                if (T) {
                    var eu = h5.patternFillType;
                    if (eu == 3) {
                        var cU = G.rect.D / G.rect.j,
                            h7 = J.D / J.j;
                        if (cU < h7) {
                            k.translate(-(J.D * (1 - cU / h7)) / 2, 0);
                            k.scale(h7 / cU, 1)
                        } else {
                            k.translate(0, -(J.j * (1 - h7 / cU)) / 2);
                            k.scale(1, cU / h7)
                        }
                    }
                }
                J.x = J.y = 0;
                var hn = v.w.NU(J).X;
                k.MF();
                v.w.H(hn, k, hn);
                G.add.SoLd.Trnf = z.Z.Tm(hn);
                G.add.SoLd.nonAffineTransform = z.Z.Tm(hn);
                G.xL(o, !1)
            } else if ($ == "text") {
                if (P.attributedString == null) continue;
                var gS = k.clone(),
                    aq, ef, a$ = 0;
                gS.MF();
                gS.K = gS.TX = Math.min(gS.K, gS.TX);
                G.add.lnsr = "rend";
                G.add.TySh = fI.Uy(0, 0);
                G.add.TySh.Hu = new B(0, 0, J.D, J.j);
                G.add.TySh.H = gS;
                var dU = P.attributedString;
                if (dU.archivedAttributedString) dU = dU.archivedAttributedString;
                var hO = dU.NSString;
                if (hO == null) hO = dU.string;
                if (hO == null) hO = "";
                if (hO["NS.string"]) hO = hO["NS.string"];
                if (R[P.do_objectID] != null) hO = R[P.do_objectID];
                var ao = h.HG(X, P.do_objectID + "_stringValue");
                if (ao) hO = ao.value;
                if (dU.attributes != null) {
                    aq = [];
                    ef = [];
                    var hI = dU.attributes;
                    for (var M = 0; M < hI.length; M++) {
                        aq.push(hI[M].length, M);
                        ef.push(hI[M].attributes)
                    }
                } else if (dU.NSAttributeInfo == null) {
                    aq = [hO.length, 0];
                    ef = [dU.NSAttributes]
                } else {
                    aq = dU.NSAttributeInfo["NS.data"];
                    ef = dU.NSAttributes;
                    aq = h6.a2Y(aq, ef)
                }
                for (var M = 0; M < aq.length; M += 2) a$ += aq[M];
                if (a$ != hO.length) {
                    while (a$ > hO.length) {
                        aq[aq.length - 2]--;
                        a$--;
                        if (aq[aq.length - 2] == 0) {
                            aq.pop();
                            aq.pop()
                        }
                    }
                    aq[aq.length - 2] += hO.length - a$
                }
                hO = hO.replace(/\u2028/g, "\n");
                hO = hO.replace(/\u2029/g, "\n");
                hO = hO.replace(/\r/g, "\n");
                var hH = G.add.TySh.rr;
                fI.L$(hH, 0, hO);
                if (hO != "") {
                    var bq = P.textBehaviour,
                        dq = i.textStyle,
                        g9 = dq ? dq.verticalAlignment : 0,
                        cx = h.ada(hH, aq, ef, hO),
                        F = gS.Qz(),
                        hp = fI.UP(hH, 0, 1),
                        hA = 0;
                    if (hp.Bq.Font) {
                        var b0 = hp.IF[hp.Bq.Font].Name;
                        if (b0 == "FontAwesome" || b0 == "Ionicons") cx *= .87
                    }
                    var bh = hp.Bq.AutoLeading ? 0 : hp.Bq.Leading * .6,
                        ft = Math.max(cx, bh) * F,
                        c6 = J.D,
                        ba = J.j;
                    if (bq == 0) {
                        fI.c9(hH, 0);
                        var f7 = fI.Lv(hp.j_);
                        if (f7 == 1) hA = c6 * F;
                        if (f7 == 2) hA = c6 * F * .5;
                        if (g9 == 0) ft *= 1;
                        else ft *= .9
                    } else {
                        fI.c9(hH, 1);
                        fI.I5(hH, [0, 0, Math.round(c6), Math.round(ba)]);
                        if (bq == 2 && g9 == 0) ft = ft * .2;
                        else if (bq == 2 && g9 == 1) {
                            ft = F * .5 * (ba - hp.Bq.FontSize)
                        } else if (bq == 1 && g9 == 0) ft = ft * .2;
                        else ft = ft * .35
                    }
                    G.add.TySh.H.translate(hA, ft)
                }
            } else if ($ == "symbolInstance" || $ == "symbolMaster") {
                var an = P.symbolID;
                if (R[P.do_objectID]) an = R[P.do_objectID].symbolID;
                var b5 = h.HG(X, P.do_objectID + "_symbolID");
                if (b5) an = b5.value;
                if (an == "") continue;
                var hG = {};
                for (var C in R) hG[C] = R[C];
                if (P.overrides)
                    for (var C in P.overrides) hG[C] = P.overrides[C];
                var eE = X.slice(0);
                if (P.overrideValues) eE = eE.concat(P.overrideValues);
                var aV = b[an];
                if (aV == null) {
                    console.log("Unknown master master", P.symbolID);
                    continue
                }
                var dp = h6.Er(aV.t3.frame),
                    en = dp.D / J.D,
                    f1 = dp.j / J.j,
                    de = k.clone();
                de.scale(en, f1);
                G.add.lsct = bb.RN;
                G.TC = "pass";
                G.a1 = 24;
                G.BZ(P.isVisible);
                o.t.push(o.JG());
                var dM = aV.t3;
                if (o.Mr.indexOf(dM) == -1) {
                    o.Mr.push(dM);
                    h.me(dM.layers, o, de, K, b, hG, eE);
                    o.Mr.pop()
                }
            } else if ($ == "slice") {
                console.log("slice layers are ignored by now");
                continue
            } else {
                console.log("unknown layer type: " + $, P);
                continue
            }
            if (i && i.contextSettings) {
                var ih = i.contextSettings,
                    fa = ih.blendMode;
                if (fa < h.TD.length) {
                    G.TC = hL.IM[hL.ja.indexOf(h.TD[fa])];
                    if (j && G.TC == "norm") G.TC = "pass"
                }
                G.opacity = Math.round(G.opacity * ih.opacity)
            }
            if (q != null) {
                G.add.lmfx = q
            }
            o.t.push(G);
            if (P.hasClippingMask && w.length > 1) {
                e.push(G);
                o.t.push(o.JG())
            }
        }
        while (e.length != 0) h.WU(e.pop(), o)
    };
    h6.HG = function(w, o) {
        for (var M = 0; M < w.length; M++)
            if (w[M].overrideName.startsWith(o)) return w[M]
    };
    h6.a2Y = function(w, o) {
        var Q = 0,
            K = [];
        while (Q + 1 < w.length) {
            var b = w[Q];
            Q++;
            if (b > 127) {
                b += 128 * (w[Q] - 1);
                Q++;
                if (w[Q - 1] > 127) {
                    b += 128 * (w[Q] - 1);
                    Q++
                }
            }
            var R = w[Q];
            Q++;
            K.push(b, R)
        }
        return K
    };
    h6.ada = function(w, o, Q, K) {
        var b = h6,
            R = 0,
            P = 0,
            J = 0;
        for (var M = 0; M < K.length; M++) {
            var X = K.charCodeAt(M),
                h = 1473 <= X && X <= 1479 || 1488 <= X && X <= 1514 || 1520 <= X && X <= 1524,
                e = 1569 <= X && X <= 1594 || 1600 <= X && X <= 1749;
            if (h || e) R++
        }
        var Z = R > K.length / 2;
        for (var M = 0; M < o.length; M += 2) {
            var i = o[M],
                G = 14,
                D = "DejaVuSans";
            if (i == 0) continue;
            var k = o[M + 1],
                $ = Q[k],
                n = fI.UP(w, P, P + i - 1),
                j = $.NSColor;
            if (j == null) {
                var j = $.MSAttributedStringColorDictionaryAttribute;
                if (j == null) j = $.MSAttributedStringColorAttribute;
                if (j == null) j = "0 0 0";
                else j = [j.red, j.green, j.blue].join(" ")
            } else if (b.cY(j) == "MSArchivedColor") j = j.dr + " " + j.dg + " " + j.db;
            else if (j.NSRGB) {
                j = j.NSRGB;
                j = W.Ui(j, 0, j.length - 1)
            } else if (j.NSCMYK) {
                j = j.NSCMYK;
                j = W.Ui(j, 0, j.length - 1);
                j = j.split(" ").map(parseFloat);
                var y = 1 - j[0],
                    V = 1 - j[1],
                    O = 1 - j[2],
                    S = 1 - j[3];
                j = y * S + " " + V * S + " " + O * S
            } else if (j.NSWhite) {
                j = "1 1 1"
            }
            j = j.split(" ");
            n.Bq.FillColor = {
                Type: 1,
                Values: [1, parseFloat(j[0]), parseFloat(j[1]), parseFloat(j[2])]
            };
            var q = $.MSAttributedStringFontAttribute;
            if ($.NSFont) {
                G = $.NSFont.NSSize;
                D = $.NSFont.NSName
            } else if (q) {
                if (q.attributes) {
                    q = q.attributes;
                    G = q.size;
                    D = q.name
                } else {
                    var T = q.NSFontDescriptorAttributes;
                    if (T == null) T = q.UIFontDescriptorAttributes;
                    q = T;
                    G = q.NSFontSizeAttribute;
                    D = q.NSFontNameAttribute
                }
                if (D == null) D = "DejaVuSans"
            }
            var J = Math.max(J, G);
            n.Bq.FontSize = Math.round(G);
            fI.aE(n, D);
            var L = $.NSKern;
            if (L == null) L = $.kerning;
            if (L != null) n.Bq.Tracking = Math.round(1e3 * L / G);
            if ($.NSUnderline != null) n.Bq.Underline = $.NSUnderline > 0;
            var N = $.NSStrikethrough;
            if (N == null) N = $.strikethroughStyle;
            if (N != null) n.Bq.Strikethrough = N > 0;
            if ($.MSAttributedStringTextTransformAttribute == 1) n.Bq.FontCaps = 2;
            var F = $.NSParagraphStyle;
            if (F == null) F = $.paragraphStyle;
            if (F) {
                var I = F.paragraphSpacing;
                if (I != null) {
                    n.j_.SpaceAfter = I
                }
                var s = F.NSAlignment;
                if (s == null) s = F.alignment;
                if (s != null) {
                    var u = 0;
                    if (!1) {} else if (s == 1) u = 1;
                    else if (s == 2) u = 2;
                    else if (s == 4) u = 0;
                    else {
                        u = s;
                        console.log("unknown align", s)
                    }
                    if (Z && u < 2) u = 1 - u;
                    n.j_.Justification = u
                }
                var g = F.NSMinLineHeight;
                if (g == null) g = F.minimumLineHeight;
                if (g != null) {
                    n.Bq.AutoLeading = !1;
                    n.Bq.Leading = g
                }
            }
            n.j_._Direction = Z ? 1 : 0;
            fI.Lj(w, P, P + i, n);
            P += i
        }
        return J
    };
    h6.aci = function(w, o, Q, K, b, R, X) {
        var h = h6,
            e = JSON.parse(b_.default),
            Z = !1;
        for (var M = 0; M < b_.order.length; M++) e[b_.Ix[M]] = {
            t: "VlLs",
            v: []
        };
        var P = Q.fills,
            J = h.rm(w, P, K, b, R, o);
        for (var i = 0; i < 2; i++) {
            var k = Q[["shadows", "innerShadows"][i]];
            if (k == null) continue;
            var $ = ["DrSh", "IrSh"][i],
                n = b_.Ix[b_.order.indexOf($)];
            for (var M = 0; M < k.length; M++) {
                var j = k[M];
                if (!j.isEnabled) continue;
                if (j.contextSettings.opacity == 0 || j.color.alpha == 0) continue;
                var y = JSON.parse(b_.l1[b_.order.indexOf($)]);
                e[n].v.unshift({
                    t: "Objc",
                    v: y
                });
                Z = !0;
                y.Clr.v = h.nS(j.color);
                y.blur.v.val = Math.round(j.blurRadius / b.Qz());
                var V = b.clone();
                V.xy = V.r6 = 0;
                V.MF();
                var O = V.hv(new fB(j.offsetX, j.offsetY)),
                    S = Math.sqrt(O.x * O.x + O.y * O.y);
                y.Dstn.v.val = Math.round(S);
                y.lagl.v.val = Math.round(Math.atan2(O.y, -O.x) * (180 / Math.PI));
                if (y.layerConceals) y.layerConceals.v = J.length != 0;
                h.TV(j, y)
            }
        }
        var G = Q.borders;
        if (G != null && (J.length == 0 || Q.blur == null || !Q.blur.isEnabled))
            for (var M = 0; M < G.length; M++) {
                var D = G[M];
                if (!D.isEnabled) continue;
                var y = JSON.parse(b_.l1[b_.order.indexOf("FrFX")]),
                    n = b_.Ix[b_.order.indexOf("FrFX")];
                e[n].v.unshift({
                    t: "Objc",
                    v: y
                });
                Z = !0;
                y.Clr.v = h.nS(D.color);
                if (D.fillType != 0 && D.gradient) {
                    var q = h.Tp(D.gradient, K, b, R),
                        T = ["Type", "Angl", "Ofst", "Scl"];
                    for (var M = 0; M < T.length; M++) y[T[M]] = q[T[M]];
                    y.Grad.v = q.Grad.v;
                    y.PntT.v.FrFl = "GrFl"
                }
                y.Sz.v.val = D.thickness / b.Qz();
                y.Styl.v.FStl = ["CtrF", "InsF", "OutF"][D.position];
                h.TV(D, y)
            }
        for (var M = X ? 1 : 0; M < J.length; M++) {
            var L = J[M],
                n = b_.Ix[b_.order.indexOf(L.type)];
            e[n].v.unshift(L.F);
            Z = !0
        }
        return Z ? e : null
    };
    h6.rm = function(w, o, Q, K, b, R, X) {
        if (o == null) return [];
        var h = h6,
            e = [];
        for (var M = 0; M < o.length; M++)
            if (o[M].isEnabled) e.push(o[M]);
        o = e;
        var Z = [];
        for (var M = 0; M < o.length; M++) {
            var P = o[M],
                J = null,
                i = null;
            if (P.fillType == 0) {
                J = "SoFi";
                var k = JSON.parse(b_.l1[b_.order.indexOf("SoFi")]);
                i = {
                    t: "Objc",
                    v: k
                };
                i.v.Clr.v = h.nS(P.color)
            } else if (P.fillType == 1) {
                J = "GrFl";
                i = {
                    t: "Objc",
                    v: h.Tp(P.gradient, Q, K, b)
                }
            } else if (P.fillType == 4 && P.image != null) {
                var $ = P.image;
                if (X) $ = X.value;
                var n = ip.jF($.bdata.buffer);
                if (n != null && n != "pdf" && n != "eps") {
                    var j, D = 0,
                        q = 0,
                        T = 0;
                    if (R.na[$.key]) j = R.na[$.key];
                    else {
                        var y = ip.pR(n).p5($.bdata)[0],
                            V = y.Ip.clone();
                        j = {};
                        j.id = fb.Fk() + "-d71c-11e5-b1ae-a548a96e5f9f";
                        j.name = "someImage";
                        j.Ua = [new Uint8Array(y.data), V];
                        R.vk(j);
                        R.na[$.key] = j
                    }
                    var O = j.Ua[1],
                        k = JSON.parse(b_.l1[b_.order.indexOf("patternFill")]);
                    J = "patternFill";
                    i = {
                        t: "Objc",
                        v: k
                    };
                    var S = P.patternFillType,
                        G = P.patternTileScale;
                    k.Algn.v = !0;
                    k.Ptrn.v.Idnt.v = j.id;
                    if (S == 0) {
                        D = G * O.D / Math.min(O.D, O.j);
                        q = -K.xy;
                        T = -K.r6
                    } else {
                        D = Math.max(Q.D / O.D, Q.j / O.j);
                        q = -K.xy - (O.D * D - Q.D) / 2;
                        T = -K.r6 - (O.j * D - Q.j) / 2
                    }
                    k.Scl.v.val = 100 * D * (1 / K.Qz());
                    k.phase.v.Hrzn.v = Math.round(q / K.Qz());
                    k.phase.v.Vrtc.v = Math.round(T / K.Qz())
                }
            } else if (P.fillType == 5) {
                console.log("fill type Noise not supported yet")
            } else console.log("unknown fill type", P.fillType);
            if (J != null) {
                h.TV(P, i.v);
                Z.push({
                    type: J,
                    F: i
                })
            }
        }
        return Z
    };
    h6.a6d = function(w) {
        var o = h6,
            Q = new B(0, 0, 1, 1);
        w = w.slice(0);
        while (!0) {
            var K = !1;
            for (var M = 0; M < w.length - 1; M++) {
                var b = w[M],
                    R = w[M + 1],
                    X = null,
                    h = b.contextSettings;
                if (b.fillType == 0 && (h == null || h.opacity == 1 && h.blendMode == 0) && b.color.alpha == 1) {
                    var e = "norm",
                        Z = 1,
                        h = R.contextSettings;
                    if (h) {
                        Z = h.opacity;
                        e = hL.$v(o.TD[h.blendMode])
                    }
                    if (R.fillType == 0) {
                        X = JSON.parse(JSON.stringify(R));
                        o.Ti(X.color, b.color, X.color, Q, e, Z)
                    }
                    if (R.fillType == 1) {
                        X = JSON.parse(JSON.stringify(R));
                        var P = X.gradient.stops;
                        for (var J = 0; J < P.length; J++) o.Ti(P[J].color, b.color, P[J].color, Q, e, Z)
                    }
                    if (X != null && X.contextSettings) {
                        var h = X.contextSettings;
                        h.opacity = 1;
                        h.blendMode = 0
                    }
                }
                if (X != null) {
                    w.splice(M, 0, X);
                    K = !0;
                    break
                }
            }
            if (!K || w.length < 2) break
        }
        return w
    };
    h6.Ti = function(w, o, Q, K, b, R) {
        var X = h6,
            h = v.$(4);
        X.yP(w, h);
        var e = v.$(4);
        X.yP(o, e);
        v.M.M$(b, h, K, e, K, K, R);
        X.a6R(e, Q)
    };
    h6.yP = function(w, o) {
        o[0] = 255 * w.red;
        o[1] = 255 * w.green;
        o[2] = 255 * w.blue;
        o[3] = 255 * w.alpha
    };
    h6.a6R = function(w, o) {
        o.red = w[0] / 255;
        o.green = w[1] / 255;
        o.blue = w[2] / 255;
        o.alpha = w[3] / 255
    };
    h6.WU = function(w, o) {
        w = w.clone();
        w.a1 = 24;
        w.jG("Mask by " + w.getName());
        o.t.push(w);
        w.add.lsct = bb.SI;
        w.add.lyid = o.DC();
        delete w.add.lmfx;
        delete w.add.SoCo;
        delete w.add.GdFl;
        delete w.add.PtFl;
        delete w.add.iOpa;
        if (w.add.vmsk) w.add.vmsk.eT = !0;
        w.b6(o);
        if ((w.a1 & 16) == 16) w.a1 -= 16;
        if ((w.a1 & 2) == 2) w.a1 -= 2;
        w.TC = "pass";
        w.opacity = 255
    };
    h6.TD = "Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
    h6.Tp = function(w, o, Q, K) {
        Q = Q.clone();
        Q.MF();
        Q.xy = Q.r6 = 0;
        var b = Q.Qz(),
            i = 0,
            k = 0;
        Q.scale(1 / b, 1 / b);
        var R = h6,
            X = JSON.parse(b_.l1[b_.order.indexOf("GrFl")]),
            h = X.Grad.v;
        h.Intr.v = 0;
        if (w == null) return X;
        var e = w.gradientType,
            Z = R.os(w.from),
            P = R.os(w.to);
        Z.offset(-.5, -.5);
        P.offset(-.5, -.5);
        Z = Q.hv(Z);
        P = Q.hv(P);
        var J = Math.atan2(-(P.y - Z.y), P.x - Z.x);
        X.Type.v.GrdT = ["Lnr", "Rdl", "Angl"][e];
        X.Scl.v.val = 100 * fB.mp(Z, P);
        if (e == 0) {
            X.Angl.v.val = 180 / Math.PI * J;
            X.Scl.v.val = 100 * fB.mp(Z, P);
            i = (Z.x + P.x) / 2;
            k = (Z.y + P.y) / 2
        }
        if (e == 1) {
            X.Scl.v.val = 200 * fB.mp(Z, P);
            i = Z.x;
            k = Z.y
        }
        if (e == 2) {
            X.Angl.v.val = 180 / Math.PI * (J - Math.PI / 2)
        }
        var $ = X.Ofst.v;
        $.Hrzn.v.val = i * 100;
        $.Vrtc.v.val = k * 100;
        var n = [];
        for (var M = 0; M < w.stops.length; M++) {
            var j = w.stops[M],
                y = j.color;
            n.push([j.position, y ? [y.red, y.green, y.blue] : [0, 0, 0], y.alpha])
        }
        v.V.Hm(n, h);
        return X
    };
    h6.TV = function(w, o) {
        var Q = h6,
            K = 1,
            b = w.contextSettings;
        if (b != null) {
            o.Md.v.BlnM = Q.TD[b.blendMode];
            K *= b.opacity
        } else o.Md.v.BlnM = Q.TD[0];
        o.enab.v = w.isEnabled;
        if (o.uglg != null) o.uglg.v = !1;
        if (w.color != null) K *= w.color.alpha;
        o.Opct.v.val = Math.round(K * 100)
    };
    h6.nS = function(w) {
        return v.V.Kt(w ? {
            W: w.red * 255,
            a: w.green * 255,
            k: w.blue * 255
        } : {
            W: 0,
            a: 0,
            k: 0
        })
    };
    h6.ww = function(w, o, Q) {
        var K = h6,
            b = [{
                type: 6
            }, {
                type: 8,
                all: 0
            }];
        for (var R = 0; R < w.length; R++) {
            var X = w[R],
                h = X.booleanOperation,
                e = 0,
                Z = X._class,
                n = !1;
            if (Z == "group" || Z == "text" || Z == "symbolInstance" || Z == "slice") {
                console.log(Z + " inside ShapeGroup");
                continue
            }
            if (h == -1) e = 0;
            else if (h == 0) e = 1;
            else if (h == 1) e = 2;
            else if (h == 2) e = 3;
            else if (h == 3) e = 0;
            if (R == 0) e = 1;
            var P = h6.Er(X.frame),
                J = K.gA(X, o),
                i = X.path ? X.path : X,
                k = [{
                    type: 0,
                    length: 0,
                    ID: e,
                    Ej: 2,
                    ub: 0,
                    EK: 0
                }],
                $ = i.points;
            for (var M = 0; M < $.length; M++) {
                var j = $[M],
                    y = K.os(j.curveTo),
                    V = K.os(j.point),
                    O = K.os(j.curveFrom);
                n = n || j.hasCurveFrom && !O.Lb(V) || j.hasCurveTo && !y.Lb(V)
            }
            var S = [];
            if (!n) {
                var G = [],
                    A = $.length;
                if (A == 0) continue;
                for (var M = 0; M < A; M++) {
                    S[M] = $[M].cornerRadius;
                    var j = K.os($[M].point);
                    G.push(j.x, j.y)
                }
                J.scale(1 / P.D, 1 / P.j);
                J.MF();
                v.w.H(G, J, G);
                var D = v.P.mC(G, S);
                k = k.concat(D);
                k[0].length = k.length - 1
            } else {
                var q = $.length;
                k[0].length = q;
                for (var M = 0; M < q; M++) {
                    var j = $[M],
                        T = j.curveMode,
                        L = K.os(j.point);
                    k[1 + M] = {
                        type: T == 2 || T == 4 ? 1 : 2,
                        M7: j.hasCurveTo ? K.os(j.curveTo) : L.clone(),
                        L: L,
                        WQ: j.hasCurveFrom ? K.os(j.curveFrom) : L.clone()
                    }
                }
                J.scale(1 / P.D, 1 / P.j);
                J.MF();
                v.P.nB(k, J);
                var S = [];
                for (var M = 0; M < q; M++) {
                    var j = $[M],
                        T = j.curveMode,
                        N = j.cornerRadius;
                    if (T == 1 && N != 0) S.push(N);
                    else S.push(0)
                }
            }
            if (!i.isClosed)
                for (var M = 0; M < k.length; M++) k[M].type += 3;
            b = b.concat(k);
            var F = v.Wn.pa(),
                I = K.cY(X);
            if (J.k == 0 && J.Lu == 0) {
                var s = J.xy,
                    u = J.r6,
                    g = s + J.K,
                    U = u + J.TX,
                    r = [s, u, g, U];
                if (I == "rectangle" && S.length == 4) F = v.Wn.HO(2, r, S);
                if (I == "oval") F = v.Wn.HO(5, r)
            }
            Q.push(F)
        }
        return b
    };
    h6.gA = function(w, o) {
        var Q = o.clone(),
            K = w.frame ? h6.Er(w.frame) : null;
        if (K) Q.translate(-K.x - K.D / 2, -K.y - K.j / 2);
        if (w.isFlippedHorizontal) Q.scale(-1, 1);
        if (w.isFlippedVertical) Q.scale(1, -1);
        Q.rotate(-w.rotation * (Math.PI / 180));
        if (K) Q.translate(K.D / 2, K.j / 2);
        return Q
    };
    h6.os = function(w) {
        w = w.slice(1, w.length - 1).split(",");
        return new fB(parseFloat(w[0]), parseFloat(w[1]))
    };
    h6.Er = function(w) {
        return new B(w.x, w.y, w.width, w.height)
    };
    h6.P7 = function(w) {
        return {
            _class: "rect",
            constrainProportions: !1,
            x: w.x,
            y: w.y,
            width: w.D,
            height: w.j
        }
    };

    function eo() {}
    eo.DG = function(w, o) {
        var Q = Date.now(),
            K = eo,
            b = UZIP.parse(w),
            R = JSON.parse(W.K1(b.manifest)),
            X = JSON.parse(W.K1(b["resources/graphics/graphicContent.agc"])).resources,
            h = [],
            e = R.children;
        for (var M = 0; M < e.length; M++) {
            var Z = e[M];
            if (Z.name == "artwork") {
                var P = Z.children;
                for (var J = 0; J < P.length; J++)
                    if (P[J]["uxdesign#bounds"]) {
                        var i = P[J],
                            k = JSON.parse(W.K1(b["artwork/" + i.path + "/graphics/graphicContent.agc"]));
                        if (k.children.length != 1) throw "e";
                        i._node = k.children[0];
                        h.push(i)
                    }
            }
        }
        var $ = [],
            n = new B;
        for (var M = 0; M < h.length; M++) {
            var i = h[M],
                j = h6.Er(i["uxdesign#bounds"]);
            $.push(j);
            n = n.OX(j)
        }
        var y = h6.xh(n, 8192 * 8192);
        o.DF = !0;
        o.D = Math.round(n.D / y);
        o.j = Math.round(n.j / y);
        o.buffer = v.$(o.D * o.j * 4);
        o.hu(h.length);
        var V = new dj(y, 0, 0, y, n.x, n.y);
        o.na = {};
        for (var M = 0; M < h.length; M++) {
            var i = h[M],
                j = h6.Er(i["uxdesign#bounds"]),
                O = i._node,
                S = V.clone(),
                G = j.clone(),
                D = S.Qz();
            S.translate(-j.x, -j.y);
            G.x = -Math.floor(S.xy / D);
            G.y = -Math.floor(S.r6 / D);
            G.D = Math.floor(G.D / D);
            G.j = Math.floor(G.j / D);
            S.translate(j.x, j.y);
            eo.Ly(O, o, S, X, b, G);
            var q = o.t[o.t.length - 1];
            q.jG(i.name);
            q.vm(G);
            if (M != h.length - 1) q.add.lsct = bb.RN
        }
        delete o.na
    };
    eo.SZ = function(w) {
        if (w == null) return new dj;
        return new dj(w.a, w.b, w.c, w.d, w.tx, w.ty)
    };
    eo.Ly = function(w, o, Q, K, b, R) {
        var X = eo,
            h = w.type,
            e = w[h],
            Z = w.style,
            P = X.SZ(w.transform),
            $, n = "none",
            j, y = "none",
            V, O;
        P.MF();
        var J = Q.clone();
        J.concat(P);
        var i = o._g(),
            k = w.name;
        i.jG(k ? k.slice(0, 250) : "Layer");
        if (w.visible != null) i.BZ(w.visible);
        if (Z) {
            $ = Z.stroke;
            n = $ ? $.type : "none";
            j = Z.fill;
            y = j ? j.type : "none";
            V = Z.filters;
            O = Z.clipPath;
            if (O && K.clipPaths[O.ref]) O = K.clipPaths[O.ref].children;
            else O = null;
            if (Z.opacity) i.opacity = Math.round(255 * Z.opacity);
            if (y == "solid" && j.color.alpha) i.opacity = Math.round(i.opacity * j.color.alpha);
            if (V) {
                i.add.lmfx = X.a3N(V);
                for (var M = 0; M < V.length; M++)
                    if (V[M].type == "uxdesign#blur") {
                        var S = V[M],
                            G = S.params,
                            D = G.brightnessAmount;
                        if (D == null) D = 0;
                        D = Math.abs(D / 100);
                        if ((S.visible == null || S.visible == !0) && G.backgroundEffect) i.opacity = Math.round(i.opacity * (D + (1 - D) * G.fillOpacity))
                    }
            }
            if (y == "pattern" && j.pattern.meta.ux.uid == "") y = "none"
        }
        if (O == null && w.meta && w.meta.ux && w.meta.ux.clipPathResources) O = w.meta.ux.clipPathResources.children;
        if (h == "artboard" || h == "group") {
            if (O) {
                var q = O[0],
                    T = q.shape,
                    L = T != null && T.type == "rect" && T.width * T.height > 1e6;
                if (q.type != "text" && !L) {
                    if (T) {
                        var P = X.SZ(q.transform);
                        P.MF();
                        var N = J.clone();
                        N.concat(P);
                        i.add.vmsk = new a.Y3;
                        i.add.vmsk._ = X.ww(T);
                        N = N.clone();
                        N.MF();
                        v.P.nB(i.add.vmsk._, N);
                        i.b6(o)
                    }
                } else if (!L) alert("Clipping by text has been ignored")
            }
            i.add.lsct = bb.SI;
            i.TC = "pass";
            i.a1 = 24;
            if (w.visible != null) i.BZ(w.visible);
            o.t.push(o.JG());
            var F = e.children,
                I = j;
            if (I) I = I.color;
            if (I) I = I.value;
            if (j) {
                if (h == "artboard" && y == "solid") {
                    i.vm(new B(0, 0, 10, 10));
                    i.add.artb.Clr = {
                        t: "Objc",
                        v: v.V.Kt({
                            W: I.r,
                            a: I.g,
                            k: I.b
                        })
                    };
                    i.add.artb.artboardBackgroundType = {
                        t: "long",
                        v: 4
                    }
                } else {
                    var s = o._g();
                    s.jG("BACKGROUND");
                    s.a1 |= 16;
                    s.add.vstk = JSON.parse(JSON.stringify(b_.fQ.default));
                    s.add.vmsk = new a.Y3;
                    s.add.vmsk._ = X.ww({
                        type: "rect",
                        x: R.x,
                        y: R.y,
                        width: R.D,
                        height: R.j
                    });
                    X.VD(j, y, J, R, R, s, o, K, b);
                    s.b6(o);
                    o.t.push(s)
                }
            }
            for (var M = 0; M < F.length; M++) {
                eo.Ly(F[M], o, J, K, b, R)
            }
        } else if (h == "shape" && w.shape.type == "rect" && (w.shape.r == null || w.shape.r == 0) && y == "pattern" && Math.abs(w.shape.width / w.shape.height - j.pattern.width / j.pattern.height) < .01) {
            var u = j.pattern,
                g = u.meta.ux,
                U = g.uid,
                r = b["resources/" + U];
            if (r == null) {
                console.log(u);
                return
            }
            var x = o.x5(r, i.getName(), 0, 0);
            x.a1 = i.a1;
            x.opacity = i.opacity;
            i = x;
            var C = v.w.NU(new B(0, 0, u.width, u.height)).X,
                p = new dj;
            p.scale(u.width / w.shape.width, u.height / w.shape.height);
            if (g.offsetX) p.translate(-g.offsetX * u.width, 0);
            if (g.offsetY) p.translate(0, -g.offsetY * u.height);
            J.concat(p);
            J.MF();
            v.w.H(C, J, C);
            i.add.SoLd.Trnf = z.Z.Tm(C);
            i.add.SoLd.nonAffineTransform = z.Z.Tm(C);
            i.xL(o, !1)
        } else if (h == "shape") {
            i.a1 |= 16;
            i.add.vstk = JSON.parse(JSON.stringify(b_.fQ.default));
            i.add.vmsk = new a.Y3;
            i.add.vmsk._ = X.ww(e);
            var l = v.P.bj(i.add.vmsk._, null),
                N = J.clone();
            N.MF();
            v.P.nB(i.add.vmsk._, N);
            var c = v.P.bj(i.add.vmsk._, null);
            if (n == "none") {} else {
                var t = $.color.value,
                    H, gl;
                H = "SoFi";
                var ie = JSON.parse(b_.l1[b_.order.indexOf("SoFi")]);
                gl = {
                    t: "Objc",
                    v: ie
                };
                gl.v.Clr.v = v.V.Kt({
                    W: t.r,
                    a: t.g,
                    k: t.b
                });
                var fk = $.align,
                    h5 = $.cap;
                if (fk == null) fk = "center";
                var cf = i.add.vstk;
                cf.strokeEnabled.v = !0;
                cf.strokeStyleLineWidth.v.val = $.width;
                if (fk) cf.strokeStyleLineAlignment.v.strokeStyleLineAlignment = b_.fQ.So[["inside", "center", "outside"].indexOf(fk)];
                if (h5) cf.strokeStyleLineCapType.v.strokeStyleLineCapType = b_.fQ.mg[["butt", "round", "square"].indexOf(h5)];
                var f = ["SoFi", "GrFl", "patternFill"].indexOf(H),
                    aH = [b_.vu, b_.$w, b_.$F][f];
                cf.strokeStyleContent.v = {
                    classID: b_.fQ.xM[0]
                };
                var gY = cf.strokeStyleContent.v = {
                    classID: b_.fQ.xM[f]
                };
                for (var M = 0; M < aH.length; M++) gY[aH[M]] = gl.v[aH[M]]
            }
            if (V)
                for (var M = 0; M < V.length; M++)
                    if (V[M].type == "uxdesign#blur" && V[M].visible) {
                        var cC = V[M];
                        i.add.vmsk.YF = cC.params.blurAmount
                    } X.VD(j, y, J, l, c, i, o, K, b);
            i.b6(o)
        } else if (h == "text" && w.text) {
            var cY = w.text,
                gJ = cY.frame,
                bM = Z.font,
                cN = Z.textAttributes,
                P = J.clone(),
                aq = 0;
            P.MF();
            i.add.lnsr = "rend";
            i.add.TySh = fI.Uy(0, 0);
            i.add.TySh.Hu = new B(0, 0, 100, 100);
            i.add.TySh.H = P;
            var eu = i.add.TySh.rr,
                cU = cY.rawText.replace(/\r/g, "\n").replace(/\u000b/g, "\n");
            fI.L$(eu, 0, cU);
            if (cU != "") {
                var h7 = fI.UP(eu, 0, 1),
                    hn = bM.postscriptName;
                if (hn == null) hn = bM.family;
                fI.aE(h7, hn);
                h7.Bq.FontSize = Math.round(bM.size);
                if (j) {
                    var t = j.color.value;
                    h7.Bq.FillColor = {
                        Type: 1,
                        Values: [1, t.r / 255, t.g / 255, t.b / 255]
                    }
                }
                if (cN) {
                    if (cN.paragraphAlign) h7.j_.Justification = ["left", "right", "center"].indexOf(cN.paragraphAlign);
                    if (cN.letterSpacing) h7.Bq.Tracking = Math.round(cN.letterSpacing);
                    if (cN.lineHeight) {
                        h7.Bq.AutoLeading = !1;
                        h7.Bq.Leading = Math.round(cN.lineHeight)
                    }
                }
                fI.Lj(eu, 0, cU.length, h7)
            }
            var gS = w.meta.ux.rangedStyles;
            if (gS)
                for (var M = 0; M < gS.length; M++) {
                    var e = gS[M],
                        ef = Math.min(e.length, cU.length - aq),
                        h7 = fI.UP(eu, aq, aq + ef),
                        hn = e.postscriptName;
                    if (hn == null) hn = e.family;
                    if (hn != null) fI.aE(h7, hn);
                    var dU = e.textScript,
                        hO = e.underline,
                        ao = e.fontSize,
                        S = e.fill,
                        hI = e.textTransform;
                    if (dU && dU != "none") h7.Bq.FontBaseline = dU == "superscript" ? 1 : 2;
                    if (hO != null) h7.Bq.Underline = hO;
                    if (ao != null) h7.Bq.FontSize = Math.round(ao);
                    if (hI != null) h7.Bq.FontCaps = hI == "uppercase" ? 2 : 0;
                    if (S != null) {
                        var a$ = S.value;
                        h7.Bq.FillColor = {
                            Type: 1,
                            Values: [1, (a$ >>> 16 & 255) / 255, (a$ >>> 8 & 255) / 255, (a$ >>> 0 & 255) / 255]
                        }
                    }
                    fI.Lj(eu, aq, aq + ef, h7);
                    aq += ef
                }
            if (gJ.type == "area") {
                fI.c9(eu, 1);
                fI.I5(eu, [0, 0, gJ.width, gJ.height])
            }
        } else console.log(h, w);
        o.t.push(i)
    };
    eo.ww = function(w) {
        var o = w.type,
            Q = [{
                type: 6
            }, {
                type: 8,
                all: 0
            }];
        if (o == "rect") {
            var K = w.r,
                b = w.x,
                R = w.y,
                X = w.width,
                h = w.height;
            if (K == null) Q = v.P.z_.Rect(b, R, X, h, 0);
            else Q = Q.concat([{
                type: 0,
                ID: 1,
                length: 8,
                ub: 0,
                EK: 0,
                Ej: 1
            }]).concat(v.P.mC([b, R, b + X, R, b + X, R + h, b, R + h], K, !1))
        } else if (o == "circle") {
            var K = w.r;
            Q = v.P.z_.eG(w.cx - K, w.cy - K, 2 * K, 2 * K)
        } else if (o == "ellipse") {
            var e = w.rx,
                Z = w.ry;
            Q = v.P.z_.eG(w.cx - e, w.cy - Z, 2 * e, 2 * Z)
        } else if (o == "path" || o == "compound") {
            var P = Typr.U.SVGToPath(w.path);
            Q = v.w.IT({
                Y: P.cmds,
                X: P.crds
            }, !1)
        } else if (o == "line") {
            var J = w.x1,
                i = w.x2,
                k = w.y1,
                $ = w.y2;
            Q = Q.concat([{
                type: 0,
                ID: 1,
                length: 2,
                ub: 0,
                EK: 0,
                Ej: 1
            }]).concat(v.P.mC([J, k, i, $], 0, !0))
        } else if (o == "polygon") {
            var n = w.points,
                j = [];
            for (var M = 0; M < n.length; M++) j.push(n[M].x, n[M].y);
            Q = Q.concat(v.P.z_.aI(j, 0, !1).slice(2))
        } else console.log(o, w);
        return Q
    };
    eo.a3N = function(w) {
        var o = JSON.parse(b_.default);
        for (var M = 0; M < b_.order.length; M++) o[b_.Ix[M]] = {
            t: "VlLs",
            v: []
        };
        for (var M = 0; M < w.length; M++) {
            var Q = w[M],
                K = Q.type,
                b = Q.params,
                R = Q.visible;
            if (K == "dropShadow") {
                var X = b_.Ix[b_.order.indexOf("DrSh")],
                    h = JSON.parse(b_.l1[b_.order.indexOf("DrSh")]);
                o[X].v.unshift({
                    t: "Objc",
                    v: h
                });
                var e = b.dropShadows;
                if (e.length != 1) throw "e";
                var Z = e[M],
                    P = Z.color,
                    J = P.value,
                    i = Z.dx,
                    k = Z.dy;
                h.Clr.v = v.V.Kt({
                    W: J.r,
                    a: J.g,
                    k: J.b
                });
                h.Opct.v.val = Math.round((P.alpha != null ? P.alpha : 1) * 100);
                h.uglg.v = !1;
                h.enab.v = R != null ? R : !0;
                h.lagl.v.val = Math.round(180 / Math.PI * Math.atan2(k, -i));
                h.Dstn.v.val = Math.round(Math.sqrt(i * i + k * k));
                h.blur.v.val = Math.round(Z.r * 2.3)
            }
        }
        return o
    };
    eo.VD = function(w, o, Q, K, b, R, X, h, e) {
        var Z = eo;
        if (o == "none") {
            R.add.vstk.fillEnabled.v = !1;
            R.add.SoCo = {
                classID: "null",
                Clr: {
                    t: "Objc",
                    v: v.V.Kt({
                        W: 0,
                        a: 0,
                        k: 0
                    })
                }
            }
        } else {
            var P, J, i;
            if (o == "solid") {
                var k = w.color.value;
                P = "SoCo";
                J = b_.vu;
                var $ = JSON.parse(b_.l1[b_.order.indexOf("SoFi")]);
                i = {
                    t: "Objc",
                    v: $
                };
                i.v.Clr.v = v.V.Kt({
                    W: k.r,
                    a: k.g,
                    k: k.b
                })
            } else if (o == "gradient") {
                P = "GdFl";
                J = b_.$w;
                var $ = JSON.parse(b_.l1[b_.order.indexOf("GrFl")]),
                    n = $.Grad.v,
                    S, G, D;
                n.Intr.v = 0;
                var j = w[o],
                    y = j.ref ? h.gradients[j.ref] : j.meta.ux.gradientResources,
                    V = ["linear", "radial"].indexOf(y.type),
                    O = y.stops;
                $.Type.v.GrdT = ["Lnr", "Rdl", "Angl"][V];
                if (V == 0) {
                    var S = new fB(j.x1, j.y1),
                        G = new fB(j.x2, j.y2);
                    S.x = G.x + .5 * (S.x - G.x);
                    S.y = G.y + .5 * (S.y - G.y)
                } else {
                    var S = new fB(j.cx, j.cy),
                        G = new fB(j.cx + j.r, j.cy)
                }
                D = b;
                if (j.units == "objectBoundingBox") {
                    var q = new dj(K.D, 0, 0, K.j, K.x, K.y);
                    S = q.hv(S);
                    G = q.hv(G)
                }
                var q = Z.SZ(j.transform);
                S = q.hv(S);
                G = q.hv(G);
                q = Q.clone();
                q.MF();
                S = q.hv(S);
                G = q.hv(G);
                v.V.Pq(S, G, D, $);
                var T = [];
                for (var M = 0; M < O.length; M++) {
                    var L = O[M],
                        N = L.color,
                        k = N.value,
                        F = N.alpha;
                    if (F == null) F = 1;
                    T.push([L.offset, [k.r / 255, k.g / 255, k.b / 255], F])
                }
                v.V.Hm(T, n);
                i = {
                    t: "Objc",
                    v: $
                }
            } else if (o == "pattern") {
                P = "PtFl";
                J = b_.$F;
                var $ = JSON.parse(b_.l1[b_.order.indexOf("patternFill")]),
                    r, c = 1,
                    t = 0,
                    H = 0,
                    gl = 1;
                i = {
                    t: "Objc",
                    v: $
                };
                var I = w[o],
                    s = I.meta.ux,
                    u = s.uid,
                    g = e["resources/" + u].buffer,
                    U = ip.jF(g);
                if (X.na[u]) r = X.na[u];
                else {
                    var x = new B(0, 0, I.width, I.height),
                        C;
                    if (x.Kx()) {
                        x = new B(0, 0, 1, 1);
                        C = new ArrayBuffer(4)
                    } else {
                        var p = ip.pR(U);
                        if (p.Jh) {
                            var l = new fb;
                            p.p5(g, l);
                            C = l.X_().buffer
                        } else C = p.p5(g)[0].data
                    }
                    r = {};
                    r.id = fb.Fk() + "-d71c-11e5-b1ae-a548a96e5f9f";
                    r.name = "someImage";
                    r.Ua = [new Uint8Array(C), x];
                    X.vk(r);
                    X.na[u] = r
                }
                var x = r.Ua[1];
                $.Algn.v = !0;
                $.Ptrn.v.Idnt.v = r.id;
                if (s.scaleBehavior == "cover") {
                    c = gl * Math.max(b.D / x.D, b.j / x.j);
                    var ie = c;
                    if (s.scale != null) c *= s.scale;
                    t = b.x - (x.D * c - b.D) / 2;
                    H = b.y - (x.j * c - b.j) / 2;
                    if (s.offsetX != null) t += s.offsetX * x.D * ie;
                    if (s.offsetY != null) H += s.offsetY * x.j * ie
                } else if (s.scaleBehavior == "fill") {
                    c = gl * Math.min(b.D, b.j) / Math.max(x.D, x.j);
                    t = b.x - (x.D * c - b.D) / 2;
                    H = b.y - (x.j * c - b.j) / 2
                } else throw "Unknown scale behaviour";
                $.Scl.v.val = 100 * c;
                $.phase.v.Hrzn.v = Math.round(t);
                $.phase.v.Vrtc.v = Math.round(H)
            } else console.log(o);
            if (P != null) {
                R.add[P] = {
                    classID: "null"
                };
                for (var M = 0; M < J.length; M++) {
                    var fk = J[M];
                    R.add[P][fk] = i.v[fk]
                }
            }
        }
    };

    function fU() {}
    fU.DG = function(w, o, Q) {
        w = new Uint8Array(w);
        var K = W.K1(w, 0, w.length),
            b = new DOMParser,
            R = b.parseFromString(K, "image/svg+xml"),
            X = R.getElementsByTagName("style")[0],
            k = 1;
        if (X) X = Typr.U.SVG.cssMap(X.textContent);
        else X = {};
        var h = R.firstChild;
        while (h.tagName != "svg") h = h.nextSibling;
        var e = new B(0, 0, 100, 100),
            Z = h.getAttribute("viewBox"),
            P = h.getAttribute("width"),
            J = h.getAttribute("height");
        if (Z) {
            var i = fU.XT(Z);
            e.x = i[0];
            e.y = i[1];
            e.D = i[2];
            e.j = i[3]
        } else if (P != null || J != null) {
            e.D = P != null ? parseFloat(P) : parseFloat(J);
            e.j = J != null ? parseFloat(J) : parseFloat(P)
        }
        e = v.w.ri(e);
        while (Q && Math.max(e.D * k, e.j * k) < Math.max(Q[0], Q[1])) k++;
        while (Q == null && Math.max(e.D, e.j) * k > 8192) k *= .5;
        o.DF = !0;
        o.D = ~~(e.D * k);
        o.j = ~~(e.j * k);
        o.buffer = v.$(o.D * o.j * 4);
        var $ = new dj(k, 0, 0, k, -e.x * k, -e.y * k),
            n = {
                Ze: fU.Gc(h),
                agU: X
            };
        fU.GQ(R, h.children, o, $, n, new dj, 0);
        if (o.t.length == 0) {
            var j = o._g();
            j.jG("Layer");
            o.t.push(j)
        }
    };
    fU.XT = function(w) {
        var o = " ";
        if (w.indexOf(",") != -1) o = ",";
        return w.split(o).map(parseFloat)
    };
    fU.GQ = function(w, o, Q, K, b, R, X) {
        var h = fU,
            e = ["display", "opacity", "fill-opacity"];
        for (var Z = 0; Z < o.length; Z++) {
            var P = o[Z],
                J = P.tagName,
                i = P.getAttribute("id"),
                k = h.Gc(P, b.agU),
                n = 13,
                S = 1,
                q = "clip-path",
                T = null;
            for (var $ in b.Ze)
                if (e.indexOf($) == -1 && k[$] == null) k[$] = b.Ze[$];
            if (k["font-size"]) n = h.ip(k["font-size"], n);
            if (P.getAttribute("dx")) K.xy += h.ip(P.getAttribute("dx"), n);
            if (P.getAttribute("dy")) K.r6 += h.ip(P.getAttribute("dy"), n);
            var j = h.oz(P);
            j.concat(K);
            var y = P.getAttribute("visibility"),
                V = k.display,
                O = Q._g();
            if (y == "hidden" || V == "none") O.BZ(!1);
            O.jG(i != null ? i.split(":::")[0] : "Layer");
            if (k.opacity) S *= parseFloat(k.opacity);
            if (k["fill-opacity"]) {
                var G = parseFloat(k["fill-opacity"]);
                if (G != 0) S *= G
            }
            O.opacity = Math.round(255 * S);
            if (k["mix-blend-mode"]) {
                var D = hL.uI.indexOf(k["mix-blend-mode"]);
                if (D != -1) O.TC = hL.IM[D]
            }
            if (P.getAttribute(q) == null) q = "mask";
            if (P.getAttribute(q) != null) {
                var L = P.getAttribute(q);
                L = L.slice(4, L.length - 1);
                var N = w.getElementById(L.slice(1));
                if (N) {
                    var F = N.children;
                    T = Q._g();
                    T.jG("Clip-Path" + (i ? ": " + i : ""));
                    T.add.lsct = X < 2 ? bb.SI : bb.RN;
                    T.TC = "pass";
                    T.a1 = 24;
                    var I = T.add.vmsk = new a.Y3;
                    Q.t.push(Q.JG());
                    var s = [];
                    if (N.getAttribute(q)) {
                        var L = N.getAttribute(q);
                        L = L.slice(4, L.length - 1);
                        s = w.getElementById(L.slice(1)).children
                    }
                    for (var M = 0; M < F.length; M++) {
                        var u = h.oz(F[M]);
                        u.concat(j);
                        var g = h.ww(w, F[M], !1).slice(2);
                        v.P.nB(g, u);
                        I._ = I._.concat(g)
                    }
                    for (var M = 0; M < s.length; M++) {
                        var u = h.oz(F[M]);
                        u.concat(j);
                        var g = h.ww(w, s[M], !1).slice(2);
                        for (var U = 0; U < g.length; U++)
                            if (g[M].ID != null) g[M].ID = 3;
                        v.P.nB(g, u);
                        I._ = I._.concat(g)
                    }
                    T.Y1();
                    T.b6();
                    X++
                }
            }
            if (J == "g" || J == "a" || J == "svg" || J == "switch" || (J == "text" || J == "textPath") && P.children.length > 0) {
                if (J == "text") R = h.fj(P, R);
                var r = P.getAttribute("viewBox"),
                    x = P.getAttribute("width"),
                    C = P.getAttribute("height");
                if (r && x && C) {
                    var p = fU.XT(r),
                        l = h.fj(P),
                        c = new dj;
                    c.translate(-p[0], -p[1]);
                    c.scale(parseFloat(x) / p[2], parseFloat(C) / p[3]);
                    c.translate(l.xy, l.r6);
                    c.concat(j);
                    j = c
                }
                var t = P.children.length,
                    H = b.Ze;
                b.Ze = k;
                var gl = J != "text" && J != "textPath" || t > 1;
                if (gl) {
                    var ie = O.HY();
                    O.add.lsct = X < 2 && ie && (i == null || !i.endsWith(":::")) ? bb.SI : bb.RN;
                    O.TC = "pass";
                    O.a1 = 24;
                    O.BZ(ie);
                    Q.t.push(Q.JG())
                }
                h.GQ(w, P.children, Q, j, b, R, X + 1);
                if (gl) Q.t.push(O);
                else {
                    var fk = Q.t[Q.t.length - 1];
                    fk.opacity = O.opacity;
                    fk.TC = O.TC
                }
                b.Ze = H
            } else if (J == "use") {
                var c = h.fj(P);
                c.concat(j);
                var h5 = h.DQ(P),
                    cf = w.getElementById(h5.slice(1)),
                    H = b.Ze;
                b.Ze = k;
                h.GQ(w, [cf], Q, c, b, R, X + 1);
                b.Ze = H
            } else if (J == "path" || J == "rect" || J == "circle" || J == "ellipse" || J == "polygon" || J == "polyline" || J == "line") {
                O.a1 |= 16;
                O.add.vmsk = new a.Y3;
                O.add.vstk = JSON.parse(JSON.stringify(b_.fQ.default));
                O.add.vstk.strokeEnabled.v = !1;
                var f = O.add.vstk,
                    I = O.add.vmsk;
                I._ = h.ww(w, P, k["fill-rule"] == "evenodd");
                v.P.nB(I._, j);
                var aH = v.P.bj(I._),
                    gY = k.stroke,
                    cC = k["stroke-width"],
                    cY = k["stroke-dasharray"],
                    gJ = k.fill,
                    bM = k["stroke-linejoin"],
                    cN = k["stroke-linecap"],
                    eu = k["paint-order"];
                if (gY == null || gY == "none" || gY == "null") {} else {
                    var cU = h.UU(w, gY, j, aH),
                        h7 = ["SoFi", "GrFl", "patternFill"].indexOf(cU.type),
                        hn = cU.F.v.Opct.v,
                        ef = 1;
                    if (hn.val != 100) {
                        O.opacity = Math.round(O.opacity * hn.val / 100);
                        hn.val = 100
                    }
                    var gS = [b_.vu, b_.$w, b_.$F][h7],
                        aq = f.strokeStyleContent.v = {
                            classID: b_.fQ.xM[h7]
                        };
                    for (var M = 0; M < gS.length; M++) aq[gS[M]] = cU.F.v[gS[M]];
                    cC = cC ? parseFloat(cC) : 1;
                    if (eu && eu.replace(/\s\s+/g, " ").slice(0, 11) == "stroke fill") {
                        ef = 2;
                        cC /= 2
                    }
                    f.strokeEnabled.v = !0;
                    if (bM) f.strokeStyleLineJoinType.v.strokeStyleLineJoinType = b_.fQ.join[["miter", "round", "bevel"].indexOf(bM)];
                    if (cN) f.strokeStyleLineCapType.v.strokeStyleLineCapType = b_.fQ.mg[["butt", "round", "square"].indexOf(cN)];
                    f.strokeStyleLineWidth.v.val = cC * z.Z.Qz(j);
                    f.strokeStyleLineAlignment.v.strokeStyleLineAlignment = b_.fQ.So[ef];
                    f.strokeStyleOpacity.v.val = 100 * (k["stroke-opacity"] ? parseFloat(k["stroke-opacity"]) : 1);
                    if (cY != null && cY != "none") f.strokeStyleLineDashSet.v = eg.xo(cY.split(",").map(parseFloat), 1 / cC)
                }
                if (gJ == "none" || k["fill-opacity"] && parseFloat(k["fill-opacity"]) == 0) {
                    O.add.vstk.fillEnabled.v = !1;
                    O.add.SoCo = {
                        classID: "null",
                        Clr: {
                            t: "Objc",
                            v: v.V.Kt({
                                W: 0,
                                a: 0,
                                k: 0
                            })
                        }
                    }
                } else {
                    var cU = h.UU(w, gJ, j, aH),
                        dU = null,
                        hO = null;
                    if (cU.type == "SoFi") {
                        dU = "SoCo";
                        hO = b_.vu
                    }
                    if (cU.type == "GrFl") {
                        dU = "GdFl";
                        hO = b_.$w
                    }
                    if (cU.type == "patternFill") {
                        dU = "PtFl";
                        hO = b_.$F
                    }
                    if (dU != null) {
                        O.add[dU] = {
                            classID: "null"
                        };
                        for (var M = 0; M < hO.length; M++) {
                            var $ = hO[M];
                            O.add[dU][$] = cU.F.v[$]
                        }
                    }
                }
                if (k.filter && k.filter != "none") {
                    var ao = k.filter;
                    ao = ao.slice(5, ao.length - 1);
                    if (w.getElementById(ao)) {
                        var hI = w.getElementById(ao).children[0];
                        if (hI.tagName == "feGaussianBlur") {
                            O.add.vmsk.YF = parseFloat(hI.getAttribute("stdDeviation")) * z.Z.Qz(j)
                        }
                    }
                }
                O.Y1();
                O.b6(Q);
                Q.t.push(O)
            } else if ((J == "text" || J == "tspan") && P.textContent != "") {
                R = h.fj(P, R);
                var c = R.clone(),
                    bh = 0;
                c.concat(j);
                if (P.children.length > 0) {
                    var a$ = h.Gc(P.children[0], b.agU);
                    for (var $ in a$)
                        if (e.indexOf($) == -1) k[$] = a$[$]
                }
                var hH = k["xml:space"],
                    bq = P.textContent;
                if (hH == "preserve") bq = bq.replace(/\t/g, " ").replace(/\n/g, " ");
                if (i == null) O.jG(bq);
                O.add.lnsr = "rend";
                O.add.TySh = fI.Uy(0, 0);
                O.add.TySh.Hu = new B(0, 0, 100, 100);
                O.add.TySh.H = c.clone();
                var dq = O.add.TySh.rr;
                fI.L$(dq, 0, bq);
                var gJ = k.fill,
                    g9 = k["font-weight"],
                    cx = k["font-family"],
                    hp = k["text-decoration"],
                    gY = k.stroke,
                    cC = k["stroke-width"],
                    b0 = k["dominant-baseline"];
                if (b0 == "text-before-edge") bh = n;
                else if (b0 == "middle") bh = n / 2;
                else if (b0 == "hanging") bh = n;
                if (bh != 0) O.add.TySh.H.translate(0, bh);
                var hA = fI.UP(dq, 0, 1);
                if (gJ && gJ != "none") {
                    var ft = CSS.nS(gJ);
                    hA.Bq.FillColor = {
                        Type: 1,
                        Values: [1, ft.W / 255, ft.a / 255, ft.k / 255]
                    }
                }
                if (hp == "underline") hA.Bq.Underline = !0;
                hA.Bq.FontSize = Math.round(n);
                fI.aE(hA, "LiberationSans");
                if (g9 == "bold") fI.aE(hA, "LiberationSans-Bold");
                if (cx) {
                    cx = cx.split(",")[0].trim();
                    if (cx[0] == "\"") cx = cx.slice(1);
                    if (cx[cx.length - 1] == "\"") cx = cx.slice(0, cx.length - 1);
                    var c6 = cx + ":" + (g9 ? g9 : "normal"),
                        ba = {
                            "'DejaVu Sans':normal": "DejaVuSans",
                            "'DejaVu Sans':bold": "DejaVuSans-Bold",
                            "'Nimbus Sans L':normal": "NimbusSanL-Reg",
                            "'Nimbus Sans L':bold": "NimbusSanL-Bol",
                            "Libre Franklin:300": "LibreFranklin-Light",
                            "Libre Franklin:400": "LibreFranklin-Regular",
                            "Libre Franklin:500": "LibreFranklin-Medium",
                            "Libre Franklin:600": "LibreFranklin-SemiBold",
                            "Libre Franklin:700": "LibreFranklin-Bold"
                        };
                    if (ba[c6]) fI.aE(hA, ba[c6]);
                    else fI.aE(hA, cx)
                }
                if (k["text-anchor"]) hA.j_.Justification = ["start", "end", "middle"].indexOf(k["text-anchor"]);
                fI.Lj(dq, 0, bq.length, hA);
                if (gY == null || gY == "none") {} else {
                    var f7 = JSON.parse(b_.l1[b_.order.indexOf("FrFX")]);
                    f7.Clr.v = v.V.Kt(CSS.nS(gY));
                    f7.Sz.v.val = Math.round(parseFloat(cC) * z.Z.Qz(c));
                    var an = JSON.parse(b_.default);
                    for (var M = 0; M < b_.order.length; M++) an[b_.Ix[M]] = {
                        t: "VlLs",
                        v: []
                    };
                    an.frameFXMulti.v.push({
                        t: "Objc",
                        v: f7
                    });
                    O.add.lmfx = an
                }
                Q.t.push(O)
            } else if (J == "image") {
                var h5 = h.DQ(P);
                if (h5.slice(0, 4) == "data") {
                    var b5 = ip.kH(h5),
                        hG = b5,
                        eE = Q.x5(hG, O.getName(), 0, 0);
                    eE.a1 = O.a1;
                    O = eE;
                    var aV = O.rect.clone();
                    aV.x = aV.y = 0;
                    var dp = P.getAttribute("width"),
                        en = P.getAttribute("height");
                    if (dp) aV.D = parseFloat(dp);
                    if (en) aV.j = parseFloat(en);
                    var f1 = h.fj(P);
                    f1.concat(j);
                    var de = v.w.NU(aV).X;
                    v.w.H(de, f1, de);
                    O.add.SoLd.Trnf = z.Z.Tm(de);
                    O.add.SoLd.nonAffineTransform = z.Z.Tm(de);
                    O.xL(Q, !1);
                    Q.t.push(O)
                }
            } else console.log("unknown tag: " + J, P.children.length, P.textContent.length);
            if (T != null) {
                Q.t.push(T);
                X--
            }
        }
    };
    fU.ww = function(w, o, Q) {
        var K = fU,
            b = [{
                type: 6
            }, {
                type: 8,
                all: 0
            }],
            R = o.tagName;
        if (R == "use") {
            var X = K.DQ(o),
                h = w.getElementById(X.slice(1)),
                e = new dj;
            if (h.tagName != "rect") e = K.fj(h);
            e.concat(K.oz(h));
            b = K.ww(w, h, Q);
            v.P.nB(b, e)
        } else if (R == "path") {
            var Z = o.getAttribute("d");
            if (Z == null) return b;
            var P = Typr.U.SVGToPath(Z);
            b = v.w.IT({
                X: P.crds,
                Y: P.cmds
            }, Q)
        } else if (R == "rect") {
            var J = o.getAttribute("rx"),
                i = K.fj(o);
            b = v.P.z_.Rect(i.xy, i.r6, parseFloat(o.getAttribute("width")), parseFloat(o.getAttribute("height")), J ? parseFloat(J) : 0)
        } else if (R == "circle" || R == "ellipse") {
            var k = [0, 0, 0, 0],
                $ = ["cx", "cy", "rx", "ry", "r"];
            for (var M = 0; M < 5; M++) {
                var n = o.getAttribute($[M]);
                if (n) {
                    n = parseFloat(n);
                    if (M < 4) k[M] = n;
                    else k[2] = k[3] = n
                }
            }
            b = v.P.z_.eG(k[0] - k[2], k[1] - k[3], 2 * k[2], 2 * k[3])
        } else if (R == "polygon" || R == "polyline" || R == "line") {
            var j;
            if (R == "line") j = [o.getAttribute("x1"), o.getAttribute("y1"), o.getAttribute("x2"), o.getAttribute("y2")].map(parseFloat);
            else j = o.getAttribute("points").trim().replace(/\s\s+/g, " ").split(",").join(" ").split(" ").map(parseFloat);
            b = v.P.z_.aI(j, 0, R != "polygon")
        }
        return b
    };
    fU.ip = function(w, o) {
        if (w.charAt(w.length - 1) == "m") return o * parseFloat(w.slice(0, w.length - 2));
        else return parseFloat(w)
    };
    fU.UU = function(w, o, Q, K) {
        var b, R, X = fU,
            h = JSON.parse(b_.l1[b_.order.indexOf("SoFi")]),
            e = o != null ? o.indexOf("(") : -1;
        if (e != -1) {
            var Z = o.indexOf(")"),
                P = o.slice(0, e).trim(),
                J = o.slice(e + 1, Z).trim();
            if (J.charAt(0) == "'") J = J.slice(1, J.length - 1);
            if (P == "url") {
                if (J.charAt(0) == "#") {
                    var i = w.getElementById(J.slice(1));
                    if (i && i.tagName.toLowerCase().endsWith("gradient")) {
                        var k = X.Tp(w, i, Q, K);
                        b = "GrFl";
                        R = {
                            t: "Objc",
                            v: k
                        }
                    } else {
                        b = "SoFi";
                        R = {
                            t: "Objc",
                            v: h
                        }
                    }
                } else console.log("unknown url", J)
            } else if (P == "rgb" || P == "rgba") {
                b = "SoFi";
                R = {
                    t: "Objc",
                    v: h
                };
                R.v.Clr.v = v.V.Kt(CSS.nS(o));
                if (P == "rgba") R.v.Opct.v.val = Math.round(100 * parseFloat(o.split(",").pop()))
            } else console.log("unknown fill", o)
        } else {
            b = "SoFi";
            R = {
                t: "Objc",
                v: h
            };
            R.v.Clr.v = v.V.Kt(CSS.nS(o))
        }
        return {
            type: b,
            F: R
        }
    };
    fU.oz = function(w) {
        var o = new dj,
            Q = w.getAttribute("transform");
        if (Q) o = fU.mA(Q);
        var K = w.getAttribute("style");
        if (K != null) {
            var b = {};
            fU._u(b, K, ["transform"]);
            K = b.transform;
            if (K) o.concat(fU.mA(K))
        }
        return o
    };
    fU.fj = function(w, o) {
        var Q = new dj,
            K = w.getAttribute("x"),
            b = w.getAttribute("y");
        if (K) Q.xy = parseFloat(K);
        else if (o) Q.xy = o.xy;
        if (b) Q.r6 = parseFloat(b);
        else if (o) Q.r6 = o.r6;
        return Q
    };
    fU.mA = function(w) {
        var o = Typr.U.SVG.readTrnf(w);
        return new dj(o[0], o[1], o[2], o[3], o[4], o[5])
    };
    fU.Gc = function(w, o) {
        var Q = {},
            K = "fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
        for (var M = 0; M < K.length; M++) {
            var b = w.getAttribute(K[M]);
            if (b != null && b != "inherit") Q[K[M]] = b
        }
        var R = w.getAttribute("class");
        if (o != null && R != null && o["." + R] != null) fU._u(Q, o["." + R], K);
        var X = w.getAttribute("id");
        if (o != null && X != null && o["#" + X] != null) fU._u(Q, o["#" + X], K);
        var h = w.getAttribute("style");
        if (h != null) fU._u(Q, h, K);
        return Q
    };
    fU._u = function(w, o, Q) {
        o = o.trim().split(";");
        for (var M = 0; M < o.length; M++) {
            var K = o[M].split(":"),
                b = K[0] ? K[0].trim() : "",
                R = K[1] ? K[1].trim() : "";
            for (var X = 0; X < Q.length; X++)
                if (b == Q[X] && R != "inherit") w[Q[X]] = R
        }
    };
    fU.DQ = function(w) {
        var o = w.getAttribute("xlink:href");
        if (o == null) o = w.getAttribute("href");
        return o
    };
    fU.Tp = function(w, o, Q, K) {
        var b = fU,
            R = new dj,
            X = o.getAttribute("gradientTransform");
        if (X) R = b.mA(X);
        R.concat(Q);
        var h = JSON.parse(b_.l1[b_.order.indexOf("GrFl")]),
            e = h.Grad.v;
        e.Intr.v = 0;
        var Z = o.tagName,
            P = new fB(0, 0),
            J = new fB(K.D, 0);
        if (Z == "linearGradient") {
            h.Type.v.GrdT = "Lnr";
            if (o.getAttribute("x1")) P.x = parseFloat(o.getAttribute("x1"));
            if (o.getAttribute("y1")) P.y = parseFloat(o.getAttribute("y1"));
            if (o.getAttribute("x2")) J.x = parseFloat(o.getAttribute("x2"));
            if (o.getAttribute("y2")) J.y = parseFloat(o.getAttribute("y2"));
            P.x = J.x + .5 * (P.x - J.x);
            P.y = J.y + .5 * (P.y - J.y)
        }
        if (Z == "radialGradient") {
            h.Type.v.GrdT = "Rdl";
            if (o.getAttribute("cx")) P.x = parseFloat(o.getAttribute("cx"));
            if (o.getAttribute("cy")) P.y = parseFloat(o.getAttribute("cy"));
            J.qQ(P.x, P.y);
            if (o.getAttribute("r")) J.x += parseFloat(o.getAttribute("r"))
        }
        if (o.getAttribute("gradientUnits") == "userSpaceOnUse") {
            P = R.hv(P);
            J = R.hv(J)
        } else {
            P.x = K.x + P.x * K.D;
            P.y = K.y + P.y * K.j;
            J.x = K.x + J.x * K.D;
            J.y = K.y + J.y * K.j
        }
        v.V.Pq(P, J, K, h);
        var i = o.children;
        if (i.length == 0) {
            var k = b.DQ(o);
            if (k == null) throw "gradient has no stops";
            var $ = w.getElementById(k.slice(1));
            if ($ == null) {
                console.log(k.slice(1));
                throw "e"
            }
            var n = b.Tp(w, $, R, K);
            h.Grad = n.Grad
        } else {
            var j = [];
            for (var M = 0; M < i.length; M++) {
                var y = i[M],
                    V = b.Gc(y),
                    O = V["stop-color"],
                    S = V["stop-opacity"],
                    G = y.getAttribute("offset");
                if (O == null) O = "#000000";
                if (S == null) S = "1";
                var D = G ? parseFloat(G) : 0;
                O = CSS.nS(O);
                j.push([D, [O.W / 255, O.a / 255, O.k / 255], parseFloat(S)])
            }
            v.V.Hm(j, e)
        }
        return h
    };
    fU.sc = function(w, o, Q) {
        var K = [],
            b = fU;
        b.kg = o.yC ? "\t" : "";
        var R = o.a29,
            X = o.agd;
        K.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 " + w.D + " " + w.j + "\" width=\"" + R + "\" height=\"" + X + "\">");
        var h = {
            RS: [],
            yG: [],
            LS: 0,
            dW: 0,
            XH: 0,
            Zh: {},
            MK: {},
            Du: 0,
            Gz: {},
            Al: {},
            Gq: 0,
            md: []
        };
        fU.n8(w, h, w.root.children, 1, o, Q);
        if (h.RS.length != 0) {
            K.push(b.wv(1) + "<defs>");
            K = K.concat(h.RS);
            K.push(b.wv(1) + "</defs>")
        }
        K.push(b.wv(1) + "<style>");
        K.push(b.wv(2) + "tspan { white-space:pre }");
        for (var e in h.Gz) K.push(b.wv(2) + "." + e + " { " + h.Gz[e] + " } ");
        K.push(b.wv(1) + "</style>");
        K = K.concat(h.yG);
        K.push("</svg>");
        K = K.join(o.yC ? "\n" : "");
        var Z = v.$(Math.round(K.length * 1.5)),
            P = W.oi(K, Z, 0);
        if (b.TK) {
            console.log(b.TK);
            var J = "SVGParser.gen.db = [\n";
            for (var M = 0; M < b.TK.length; M++) {
                var i = b.TK[M];
                J += "{\n\tnam: \"" + i.mN + "\",\n\tpts: [\n";
                for (var k = 0; k < i.zi.length; k++) {
                    var $ = i.zi[k];
                    J += "\t\t[\"" + $[0] + "\", { cmds: " + JSON.stringify($[1].Y) + ", crds:" + JSON.stringify($[1].X) + " } ]" + (k == i.zi.length - 1 ? "" : ",") + "\n"
                }
                J += "\t]\n}" + (M == b.TK.length - 1 ? "" : ",") + "\n"
            }
            J += "]\n";
            console.log(J)
        }
        return Z.buffer.slice(0, P)
    };
    fU.kg = "";
    fU.wv = function(A) {
        var w = "";
        for (var M = 0; M < A; M++) w += fU.kg;
        return w
    };
    fU.SL = function(A) {
        return "" + parseFloat(A.toFixed(3))
    };
    fU.n8 = function(w, o, Q, K, b, R) {
        var X = fU;
        for (var h = 0; h < Q.length; h++) {
            var e = Q[h].p,
                Z = e.add.lsct,
                P = e.add.vmsk,
                J = e.add.vstk,
                i = e.add.TySh,
                k = [];
            if (!b.hidden && !e.HY()) continue;
            var $ = e.opacity / 255,
                n = e.add.iOpa ? e.add.iOpa / 255 : 1;
            if ($ != 1) k.push("opacity: " + X.SL($));
            if (n != 1) k.push("fill-opacity: " + X.SL(n));
            if (e.TC != "norm") {
                var j = hL.uI[hL.IM.indexOf(e.TC)];
                if (j != null) k.push("mix-blend-mode: " + j)
            }
            if (!e.HY()) k.push("display: none");
            var y = [],
                V = [],
                O = e.getName(),
                S = O.indexOf(" .");
            if (S != -1) {
                V.push(O.slice(S + 2));
                O = O.slice(0, S)
            }
            if (b.names) y.push("id=\"" + X.ct(O) + "\"");
            var G = e.add.lmfx;
            if (G) G = G.solidFillMulti.v[0];
            if (G) G = G.v;
            if (G && !G.enab.v) G = null;
            if (e.xI()) {
                var D = Q[h].children;
                if (!(D.length == 1 && D[0].p.add.SoLd && !b.Qs)) {
                    if (X.TK && e.getName().split("-").length == 3) {
                        X.TK.push({
                            mN: e.getName(),
                            r2: 0,
                            zi: []
                        })
                    }
                    if (P || e.add.artb) {
                        var q;
                        if (P) q = v.P.Q$(P._).Ri;
                        else {
                            var T = e.xi(),
                                L = v.w.NU(T);
                            q = Typr.U.pathToSVG({
                                crds: L.X,
                                cmds: L.Y
                            }, 2)
                        }
                        o.XH++;
                        y.push("clip-path=\"url(#cp" + o.XH + ")\"");
                        o.RS.push(X.wv(2) + "<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp" + o.XH + "\">");
                        o.RS.push(X.wv(3) + "<path d=\"" + q + "\" />");
                        o.RS.push(X.wv(2) + "</clipPath>")
                    }
                    if (k.length != 0) y.push("style=\"" + k.join(";") + "\"");
                    o.yG.push(X.wv(K) + "<g " + X.Uo(y, V) + ">");
                    X.n8(w, o, D, K + 1, b, R);
                    o.yG.push(X.wv(K) + "</g>")
                }
            } else if (e.hK() && P == null) {
                var N = new B(0, 0, w.D, w.j);
                X.oK(k, e.add, o, N);
                if (k.length != 0) y.push("style=\"" + k.join(";") + "\"");
                o.yG.push(X.wv(K) + "<rect width=\"" + w.D + "\" height=\"" + w.j + "\" " + X.Uo(y, V) + " />")
            } else if (P) {
                var N = v.P.bj(P._),
                    q = v.P.Q$(P._);
                if (q.p1 != 0) {
                    y.push("fill-rule=\"evenodd\"")
                }
                var F = q.Ri;
                X.oK(k, e.add, o, N);
                if (k.length != 0) {
                    var I = k.join(";"),
                        s = o.Al[I];
                    if (s == null) {
                        s = "shp" + o.Gq;
                        o.Gq++;
                        o.Al[I] = s;
                        o.Gz[s] = I
                    }
                    V.push(s)
                }
                o.yG.push(X.wv(K) + "<path " + X.Uo(y, V) + " d=\"" + F + "\" />");
                if (X.TK && X.TK[X.TK.length - 1]) {
                    var u = v.w.Si(P._);
                    u.X = u.X.map(Math.round);
                    var g = X.TK[X.TK.length - 1];
                    g.r2 += JSON.stringify(u).length;
                    g.zi.push([k[0].split("#").pop(), u])
                }
            } else if (i && b.aai) {
                var U = i.rr,
                    r = new gm(U, R);
                if (G) y.push("fill=\"" + CSS.gN(G.Clr.v) + "\"");
                var x = g1.bU(r, i),
                    C = v.w.ng(x);
                for (var p in C) {
                    if (G == null) y.push("fill=\"" + p + "\"");
                    var L = C[p],
                        F = Typr.U.pathToSVG({
                            crds: L.X,
                            cmds: L.Y
                        }, 2);
                    o.yG.push(X.wv(K) + "<path " + X.Uo(y, V) + " d=\"" + F + "\" />");
                    if (G == null) y.pop()
                }
            } else if (i && !b.aiM) {
                var U = i.rr,
                    l = i.H.clone(),
                    gY = 0,
                    cC = 0;
                if (fI.bv(U) == 1) {
                    var c = fI.UP(U, 0, 0).j_.Justification,
                        t = 0,
                        H = fI.YN(U)[2];
                    if (c == 2) t = H / 2;
                    if (c == 1) t = H;
                    l.translate(t, 0)
                }
                k.push("transform: " + X.gu(l));
                var gl = fI.KG(U),
                    fk = U.EngineDict.ParagraphRun,
                    h5 = fk.RunArray,
                    cf = fk.RunLengthArray;
                if (k.length != 0) y.push("style=\"" + k.join(";") + "\"");
                o.yG.push(X.wv(K) + "<text " + X.Uo(y, V) + " >");
                var f = e.add.lmfx;
                if (f) f = f.frameFXMulti.v[0];
                if (f) f = f.v;
                var aH = G ? CSS.gN(G.Clr.v) : null;
                for (var M = 0; M < h5.length; M++) {
                    var cY = [],
                        gJ = cf[M],
                        bM = gl.slice(gY, gY + gJ - 1),
                        cN = fI.UP(U, gY, gY),
                        eu = cN.IF[cN.Bq.Font].Name;
                    if (o.md.indexOf(eu) == -1) o.md.push(eu);
                    CSS.T4(cY, cN, i.H, !0, !0, aH);
                    if (f) {
                        k.push("stroke: " + CSS.gN(f.Clr.v));
                        k.push("stroke-width: " + f.Sz.v.val)
                    }
                    var cU = cN.Bq.FontSize * 1.12;
                    if (M == 0) cU = fI.bv(U) == 0 ? 0 : cN.Bq.FontSize;
                    cC += cU;
                    if (bM != "") {
                        var I = cY.join(";"),
                            s = o.Al[I],
                            hn = "";
                        if (s == null) {
                            s = "txt" + o.Gq;
                            o.Gq++;
                            o.Al[I] = s;
                            o.Gz[s] = I
                        }
                        var h7 = cN.Bq.Tracking;
                        if (h7 != null && h7 != 0) {
                            h7 = Math.round(h7 * cN.Bq.FontSize / 1e3);
                            hn = " dx=\"0";
                            for (var gS = 1; gS < bM.length; gS++) hn += " " + h7;
                            hn += "\" "
                        }
                        o.yG.push(X.wv(K + 1) + "<tspan x=\"0\" y=\"" + X.SL(cC) + "\" class=\"" + s + "\"" + hn + ">" + X.ct(bM) + "</tspan>")
                    }
                    gY += gJ
                }
                o.yG.push(X.wv(K) + "</text>")
            } else if (e.add.SoLd && b.Qs) {
                var aq = e.add.SoLd,
                    ef = aq.Idnt.v,
                    dU = 0,
                    hO = aq.Crop ? aq.Crop.v : null;
                if (o.MK[ef] != null) dU = o.MK[ef];
                else {
                    o.Du++;
                    dU = o.Du;
                    o.MK[ef] = o.Du;
                    var ao = w.j6(ef, hO),
                        hH = "";
                    if (ao == null) return;
                    var hI = ao.qr,
                        a$ = ip.jF(ao.raw.buffer);
                    if (a$ == "pdf") {
                        var bq = new fb("h");
                        ip.pR("PDF").p5(ao.raw.buffer, bq);
                        bq.tE();
                        bq.gp();
                        bq.C();
                        bq.rW();
                        if (aq.Crop && aq.Crop.v == 1) {
                            z.U0.HV(bq, bq.root.vG(bq, !0))
                        }
                        var dq = ip.pR("SVG").nl(bq, bq.D, bq.j, null, {
                            md: R
                        });
                        hH = "data:image/svg+xml;base64," + ip.IS(dq)
                    } else if (a$ == "jpg" || a$ == "png" || a$ == "gif" || a$ == "svg") {
                        var g9 = {
                            jpg: "image/jpg",
                            png: "image/png",
                            jpg: "image/jpg",
                            svg: "image/svg+xml"
                        };
                        hH = "data:" + g9[a$] + ";base64," + ip.IS(ao.raw.buffer)
                    } else {
                        hH = ip.Lx(hI[0].buffer, hI[1].D, hI[1].j)
                    }
                    o.RS.push(X.wv(2) + "<image width=\"" + hI[1].D + "\" height=\"" + hI[1].j + "\" id=\"img" + dU + "\" href=\"" + hH + "\"/>")
                }
                var cx = v.Q.zH(aq);
                if (k.length != 0) y.push("style=\"" + k.join(";") + "\"");
                var hp = X.Uo(y, V);
                o.yG.push(X.wv(K) + "<use " + hp + " href=\"#img" + dU + "\" transform=\"" + X.gu(cx) + "\"/>")
            } else if (!e.rect.Kx() && (b.Qs || i)) {
                if (k.length != 0) y.push("style=\"" + k.join(";") + "\"");
                var hp = X.Uo(y, V),
                    b0 = e.buffer;
                if (G) b0 = eg.x9(b0, G, e.rect);
                var bh = e.rect;
                o.Du++;
                var hH = ip.Lx(b0.buffer, bh.D, bh.j, "png", null, !0);
                o.RS.push(X.wv(2) + "<image width=\"" + e.rect.D + "\" height=\"" + e.rect.j + "\" id=\"img" + o.Du + "\" href=\"" + hH + "\"/>");
                o.yG.push(X.wv(K) + "<use " + hp + " href=\"#img" + o.Du + "\" x=\"" + bh.x + "\" y=\"" + bh.y + "\" />")
            }
        }
    };
    fU.Uo = function(w, o) {
        if (o.length != 0) w.push("class=\"" + o.join(" ") + "\"");
        return w.join(" ")
    };
    fU.ct = function(w) {
        return String(w).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\u0022/g, "&quot;")
    };
    fU.gu = function(w) {
        var o = [w.K, w.k, w.Lu, w.TX, w.xy, w.r6].map(fU.SL);
        return "matrix(" + o.join(",") + ")"
    };
    fU.oK = function(w, o, Q, K) {
        var b = fU,
            R = o.vstk,
            X = o.vmsk,
            h = o.lmfx;
        if (X && X.YF != 0) {
            var e = b.SL(X.YF);
            if (Q.Zh[e] == null) {
                Q.dW++;
                Q.Zh[e] = Q.dW;
                Q.RS.push(b.wv(2) + "<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt" + Q.dW + "\"> <feGaussianBlur stdDeviation=\"" + e + "\" /> </filter>")
            }
            w.push("filter: url(#flt" + Q.Zh[e] + ")")
        }
        var Z = eg.QS(h, o),
            P = Z[0],
            J = Z[1];
        if (R && !R.fillEnabled.v) w.push("fill: none");
        else if (P) {
            var i = CSS.gN(P.Clr.v);
            w.push("fill: " + i)
        } else if (J) {
            b.TN(J, Q, K);
            w.push("fill: url(#grd" + Q.LS + ")")
        }
        if (R == null || !R.strokeEnabled.v) R = eg.RY(h);
        if (R && R.strokeEnabled.v) {
            var k = R.strokeStyleContent.v,
                $ = k.classID;
            if ($ == "solidColorLayer") w.push("stroke: " + CSS.gN(k.Clr.v));
            else {
                b.TN(k, Q, K);
                w.push("stroke: url(#grd" + Q.LS + ")")
            }
            var n = b_.fQ.mg.indexOf(R.strokeStyleLineCapType.v.strokeStyleLineCapType),
                j = b_.fQ.join.indexOf(R.strokeStyleLineJoinType.v.strokeStyleLineJoinType),
                y = R.strokeStyleOpacity.v.val / 100,
                V = R.strokeStyleLineWidth.v.val,
                O = b_.fQ.So.indexOf(R.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
            if (O == 2) {
                V *= 2;
                w.push("paint-order:stroke fill markers")
            }
            var S = R.strokeStyleLineDashSet.v,
                G = [];
            for (var M = 0; M < S.length; M++) G.push(Math.round(S[M].v.val * V));
            if (n != 0) w.push("stroke-linecap:" + ["butt", "round", "square"][n]);
            if (j != 0) w.push("stroke-linejoin:" + ["miter", "round", "bevel"][j]);
            if (y != 1) w.push("stroke-opacity:" + b.SL(y));
            if (V != 1) w.push("stroke-width: " + b.SL(V));
            if (G.length != 0) w.push("stroke-dasharray: " + G.join(","))
        }
    };
    fU.TN = function(w, o, Q) {
        o.LS++;
        var K = fU,
            b = w.Grad.v,
            R = b.Clrs.v.slice(0),
            X = b.Trns.v.slice(0),
            h = w.Ofst.v,
            e = w.Type.v.GrdT == "Rdl" ? 1 : 0,
            Z = (e == 1 ? "radial" : "linear") + "Gradient",
            P = v.V.Zn(w, Q);
        if (e == 0) {
            P[0].x = P[1].x + 2 * (P[0].x - P[1].x);
            P[0].y = P[1].y + 2 * (P[0].y - P[1].y)
        }
        var J = K.wv(2) + "<" + Z + " id=\"grd" + o.LS + "\" gradientUnits=\"userSpaceOnUse\" ";
        if (e == 0) o.RS.push(J + " x1=\"" + K.SL(P[0].x) + "\" y1=\"" + K.SL(P[0].y) + "\" x2=\"" + K.SL(P[1].x) + "\" y2=\"" + K.SL(P[1].y) + "\">");
        if (e == 1) o.RS.push(J + " cx=\"" + K.SL(P[0].x) + "\" cy=\"" + K.SL(P[0].y) + "\" r=\"" + K.SL(fB.mp(P[0], P[1])) + "\">");
        var i = w.Rvrs.v;
        if (i) {
            R.reverse();
            X.reverse()
        }
        for (var M = 0; M < R.length; M++) {
            var k = R[M].v,
                $ = M < X.length ? X[M].v.Opct.v.val / 100 : 1,
                $ = $ == 1 ? "" : "stop-opacity=\"" + K.SL($) + "\"",
                n = k.Lctn.v / 4096;
            if (i) n = 1 - n;
            o.RS.push(K.wv(3) + "<stop offset=\"" + K.SL(n) + "\" stop-color=\"" + CSS.gN(k.Clr.v) + "\" " + $ + " />")
        }
        o.RS.push(K.wv(2) + "</" + Z + ">")
    };
    fU.z_ = function(w, o, Q, K, b) {
        var R = [],
            X = fU.z_,
            h = !1,
            e = {
                i7: w,
                Y7: o,
                T_: [!0, !0, !0],
                py: !1,
                BJ: Q,
                acH: 0
            };
        e.pB = Math.round(Math.max(w, o) * (.02 + X.OL(e) * .03));
        e.Px = X.a3s(e);
        e.xR = X.ab3(e.Px, (X.OL(e) < .5 ? -1 : 1) * (.2 + X.OL(e) * .3));
        if (X.OL(e) < .5) {
            var Z = e.Px;
            e.Px = e.xR;
            e.xR = Z
        }
        e.ad8 = X.OL(e) < .4 && X.a99(e.xR, {
            W: 1,
            a: 1,
            k: 1
        }) > .3;
        e.a88 = X.OL(e) < .5 ? 0 : 1;
        R.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 " + w + " " + o + "\" width=\"" + w + "\" height=\"" + o + "\">");
        e.CY = K[Math.floor(X.KQ(e) * K.length)];
        e.Sq = K[Math.floor(X.KQ(e) * K.length)];
        R.push("<style>");
        R.push("@font-face {  font-family: " + e.CY[2] + ";  src: url(rsrc/fonts/" + e.CY[5] + ");  }");
        R.push("@font-face {  font-family: " + e.Sq[2] + ";  src: url(rsrc/fonts/" + e.Sq[5] + ");  }");
        R.push("</style>");
        var P = [0, 0, w, o],
            J = P;
        if (b == null) R.push("<path style=\"fill: " + X.lq(e.Px) + "\" d=\"" + X.Rect(P[0], P[1], P[2] - P[0], P[3] - P[1]) + "\" id=\"Background\" />");
        else {
            e.py = !0;
            X.mR(e, P, R, b)
        }
        if (X.OL(e) < .25 && !e.py) {
            e.T_[0] = e.T_[2] = !1;
            X.akI(P, e, R);
            J = P
        } else if (X.OL(e) < .25 || e.py) J = P;
        else {
            var i = .52 + X.OL(e) * .2;
            if (X.OL(e) < .5) i = 1 - i;
            var k = P.slice(0),
                $ = P.slice(0);
            if (X.OL(e) < .5) k[2] = $[0] = Math.round(i * w);
            else k[3] = $[1] = Math.round(i * o);
            if (X.OL(e) < .5) {
                var Z = k;
                k = $;
                $ = Z
            }
            J = k;
            X.ahy(e, $, R, b)
        }
        X.a84(e, J, R);
        R.push("</svg>");
        R = R.join("\n");
        var n = v.$(Math.round(R.length * 1.5)),
            j = W.oi(R, n, 0);
        return [n.buffer.slice(0, j), e.Cm]
    };
    fU.z_.akI = function(w, o, Q) {
        var K = fU.z_,
            b = w[2] - w[0],
            R = w[3] - w[1];
        if (K.OL(o) < .5) {
            Q.push("<path id=\"Border\" style=\"fill: " + K.lq(o.xR) + "\" d=\"" + K.a3T(w[0], w[1], w[2] - w[0], w[3] - w[1], o.pB) + "\" />")
        } else if (K.OL(o) < -.4) {
            K.a4$(o, w, Q)
        } else {
            var X = K.OL(o) < .5 ? 0 : 1,
                h = (X == 0 ? R : b) / 4,
                e = K.iL(o, X, w, Q, h, !0),
                e = K.iL(o, X + 2, w, Q, h, !0, e)
        }
    };
    fU.z_.a84 = function(w, o, Q) {
        var K = fU.z_,
            b = "Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),
            R = 2 * Math.floor(K.OL(w) * b.length / 2),
            X = o[2] - o[0],
            h = o[3] - o[1],
            Z = 0,
            J = 0;
        w.Jx = (w.i7 + X) * .5 * (.04 + K.OL(w) * .05);
        w.Jx = Math.min(w.Jx, h * .4, X * .12);
        w.Jx = Math.round(w.Jx);
        var e = Math.min(w.Jx * b[R].length * (.35 + .3 * K.OL(w)), X * .9),
            P = (o[1] + o[3]) / 2,
            i = v.uE(w.Px) < .85 ? {
                W: 1,
                a: 1,
                k: 1
            } : {
                W: .1,
                a: .1,
                k: .1
            };
        if (K.OL(w) < .25 && w.T_[0]) {
            J = 0;
            Z = o[0] + w.pB
        } else if (K.OL(w) < .33 && w.T_[2]) {
            J = 2;
            Z = o[2] - w.pB
        } else {
            J = 1;
            Z = (o[0] + o[2]) / 2
        }
        var k = i.W == 1 ? "0,0,0" : "255,255,255",
            $ = w.py && K.OL(w) < 1;
        if ($) {
            var n = o[0],
                j = X,
                y = P - w.Jx * 1.1,
                V = w.Jx * 2.2,
                O = .7;
            if (J == 1 && K.OL(w) < .5) {
                n = y = .2 * Math.min(X, h);
                j = X - 2 * y;
                V = h - y - y
            } else if (K.OL(w) < .7) {
                n = y = 0;
                j = X;
                V = h;
                O = .25
            }
            Q.push("<path id=\"Strip\" style=\"fill: rgb(" + k + "); opacity: " + O + "\" d=\"" + K.Rect(n, y, j, V) + "\" />")
        }
        if (K.OL(w) < .4) {
            var S = w.Jx * .07;
            S *= 1.5 + K.OL(w) * 1;
            if (J == -1 && X / h < 3 && !$) {
                Q.push("<path id=\"Bar-bottom\" style=\"fill: " + K.lq(i) + "\" d=\"" + K.Rect(Z - e / 2, P + w.Jx * 1.1 - S / 2, e, S) + "\" />");
                Q.push("<path id=\"Bar-top\"    style=\"fill: " + K.lq(i) + "\" d=\"" + K.Rect(Z - e / 2, P - w.Jx * 1.1 - S / 2, e, S) + "\" />")
            }
            if (J != 1) {
                Q.push("<path id=\"Bar\" style=\"fill: " + K.lq(i) + "\" d=\"" + K.Rect(Z - S / 2, P - w.Jx * .8, S, w.Jx * .8 * 2) + "\" />");
                Z += (J == 0 ? 1 : -1) * w.Jx / 3
            }
        }
        var G = w.Jx * .4;
        Q.push(K.hO(b[R + 1], Z, P + G * 1.6, G, i, J, w.Sq));
        Q.push(K.hO(b[R], Z, P + w.Jx * .04, w.Jx, i, J, w.CY))
    };
    fU.z_.ahy = function(w, o, Q, K) {
        var b = o[2] - o[0],
            R = o[3] - o[1],
            X = Math.max(b, R),
            h = Math.min(b, R),
            e = fU.z_;
        if (X / h < 5 && !w.py && !1) {
            e.mR(w, o, Q, K)
        } else if (e.OL(w) < 0) Q.push("<path style=\"fill: " + e.lq(w.xR) + "\" d=\"" + e.Rect(o[0], o[1], b, R) + "\" />");
        else {
            var Z = 0;
            if (o[3] != w.Y7) Z = 0;
            if (o[2] != w.i7) Z = 3;
            if (o[0] != 0) Z = 1;
            if (o[1] != 0) Z = 2;
            var P = Z + 2 & 3;
            if (X / h < 3) {
                var J = e.a50(P),
                    i = J[Math.round(e.OL(w) * (J.length - 1))],
                    k = i.mN.slice(0, 4),
                    $ = k.indexOf(1);
                i = JSON.parse(JSON.stringify(i));
                var n = -1;
                if (k != "0000") {
                    var j = new dj;
                    if (i.mN[5] == "0") {
                        if ($ == 3 && Z == 1) {
                            n = 1;
                            j.scale(-1, 1)
                        } else n = $
                    } else {
                        var y = P;
                        while (y == P) y = Math.floor(e.OL(w) * 4) & 3;
                        j.rotate((-$ + y) * Math.PI / 2)
                    }
                    e.H(i, j)
                }
                var V = e.QT(i),
                    O = b - 2 * w.pB,
                    S = R - 2 * w.pB;
                if (n != -1) {
                    if ((n & 1) == 0) S -= w.pB;
                    else O -= w.pB
                }
                var G = Math.min(O / V.D, S / V.j),
                    D = new dj;
                D.translate(-V.x, -V.y);
                D.scale(G, G);
                var q = (b - V.D * G) / 2,
                    T = (R - V.j * G) / 2;
                if (n != -1) {
                    if (n == 3) q = 0;
                    if (n == 0) T = 0;
                    if (n == 1) q = b - V.D * G;
                    if (n == 2) T = R - V.j * G
                }
                D.translate(o[0] + q, o[1] + T);
                e.ti(w, i, D, w.xR, Q)
            } else {
                e.iL(w, Z, o, Q, 1e9)
            }
        }
    };
    fU.z_.mR = function(w, o, Q, K) {
        var b = o[2] - o[0],
            R = o[3] - o[1],
            X = Math.max(b, R),
            h = Math.min(b, R),
            e = fU.z_,
            Z = e.KQ(w),
            P, J, i, k = K[0] instanceof ArrayBuffer;
        if (k) {
            P = "data:image/jpg;base64," + eP.MI(K[0]);
            J = K[1];
            i = K[2]
        } else {
            var $ = Math.floor(Z * K.length),
                n = K[$];
            w.Cm = n;
            P = n.webformatURL;
            J = n.webformatWidth;
            i = n.webformatHeight
        }
        var j = o[0],
            y = o[1],
            V = b,
            O = R;
        if (b / R > J / i) {
            O = V * i / J;
            y = y - (O - R) / 2
        } else {
            V = O * J / i;
            j = j - (V - b) / 2
        }
        if (k) {
            Q.push("<defs>");
            Q.push("<image width=\"" + J + "\" height=\"" + i + "\" id=\"Background\" href=\"" + P + "\" />");
            Q.push("</defs>");
            var S = V / J;
            Q.push("<use href=\"#Background\" transform=\"" + fU.gu(new dj(S, 0, 0, S, j, y)) + "\" />")
        } else {
            var G = "cp" + Math.random();
            Q.push("<clipPath id=\"" + G + "\">");
            Q.push("<path style=\"fill: " + e.lq(w.xR) + "\" d=\"" + e.Rect(o[0], o[1], b, R) + "\" />");
            Q.push("</clipPath>");
            Q.push("<image  clip-path=\"url(#" + G + ")\" xlink:href=\"" + P + "\" x=\"" + j + "\" y=\"" + y + "\" width=\"" + V + "\" height=\"" + O + "\" />")
        }
    };
    fU.z_.hO = function(w, o, Q, K, b, R, X) {
        var h = fU.z_;
        return "<text x=\"" + o + "\" y=\"" + Q + "\" style=\"fill:" + h.lq(b) + "; font-size:" + K + "px; text-anchor:" + ["start", "middle", "end"][R] + "; font-family:" + X[2] + ";\"><tspan>" + w + "</tspan></text>"
    };
    fU.z_.ti = function(w, o, Q, K, b) {
        var R = fU.z_,
            X = [];
        for (var M = 0; M < o.zi.length; M++) {
            X.push(K);
            if (w.ad8) {
                K = (M & 1) == w.a88 ? {
                    W: 1,
                    a: 1,
                    k: 1
                } : X[0]
            }
        }
        b.push("<g id=\"" + o.mN.split("-")[2] + ":::\" style=\"transform: " + fU.gu(Q) + ";\" >");
        for (var M = 0; M < o.zi.length; M++) {
            var h = o.zi[M];
            K = X.pop();
            b.push("<path style=\"fill: " + (K ? R.lq(K) : "#" + h[0]) + "\" d=\"" + Typr.U.pathToSVG({
                crds: h[1].X,
                cmds: h[1].Y
            }) + "\" />")
        }
        b.push("</g>")
    };
    fU.z_.a4$ = function(w, o, Q) {
        var K = fU.z_,
            b = fU.z_.VI,
            R = [];
        for (var M = 0; M < b.length; M++) {
            var X = b[M],
                h = X.mN.slice(0, 4);
            if (h != "1001") continue;
            R.push(X)
        }
        var X = R[Math.floor(K.OL(w) * R.length)];
        if (K.OL(w) < .5) K.H(X, new dj(0, 1, 1, 0, 0, 0));
        var e = o[3] - o[1],
            Z = o[2] - o[0],
            P = K.QT(X),
            J = .7 * Math.min(Z, e, .5 * Math.max(Z, e)) / Math.max(P.D, P.j),
            i = new dj;
        i.scale(J, J);
        if (K.OL(w) < .5) {
            i.scale(1, -1);
            i.translate(0, e)
        }
        K.ti(w, X, i, w.xR, Q);
        i.rotate(Math.PI);
        i.translate(Z, e);
        K.ti(w, X, i, w.xR, Q)
    };
    fU.z_.a50 = function(w) {
        var o = fU.z_.VI,
            Q = [];
        for (var M = 0; M < o.length; M++) {
            var K = o[M],
                b = K.mN.slice(0, 4);
            if (b == "0000") {
                Q.push(K);
                continue
            }
            if (["1000", "0100", "0010", "0001"].indexOf(b) == -1) continue;
            var R = b.indexOf("1");
            if (K.mN[5] == "0" && w == R && R != 3) continue;
            Q.push(K)
        }
        return Q
    };
    fU.z_.iL = function(w, o, Q, K, b, R, X) {
        var h = fU.z_.VI,
            e = fU.z_,
            Z = [],
            V, O;
        for (var M = 0; M < h.length; M++) {
            var P = h[M],
                J = P.mN.slice(0, 4);
            if (["1110", "1101", "1011", "0111"].indexOf(J) == -1) continue;
            var i = J.indexOf("0") + 2 & 3;
            if (P.mN[5] == "0")
                if (R == !0 || o != i && !(o == 1 && i == 3)) continue;
            Z.push(P)
        }
        var k = X != null ? X : Math.floor(e.OL(w) * Z.length),
            P = Z[k],
            P = JSON.parse(JSON.stringify(P)),
            J = P.mN.slice(0, 4),
            i = J.indexOf("0") + 2 & 3;
        if (i == 3 && o == 1) v.H(P, new dj(1, 0, 0, -1, 0, 1e3));
        var $ = new dj;
        $.translate(-500, -500);
        $.rotate(-i * Math.PI / 2);
        $.translate(500, 500);
        e.H(P, $);
        var n = Q[3] - Q[1],
            j = Q[2] - Q[0],
            y = e.QT(P);
        if (y.y < 0) {
            y.j += y.y;
            y.y = 0
        }
        if (y.y > 0) {
            y.j += y.y;
            y.y = 0
        }
        if ((o & 1) == 0) {
            O = n;
            V = j
        } else {
            V = n;
            O = j
        }
        var S = Math.min(Math.min(.5 + .5 * e.OL(w)) * Math.min(j, n), b) / y.j,
            G = Math.ceil(V / (1e3 * S)),
            D = new dj,
            q = new dj;
        q.scale(S, S);
        if (o == 0 || o == 2) {
            q.translate(-(j / 2), -(n / 2));
            q.rotate(-o * Math.PI / 2);
            q.translate(j / 2 + Q[0], n / 2 + Q[1])
        } else {
            q.rotate(Math.PI / 2);
            q.scale(1, -1);
            q.translate(Q[0], Q[1]);
            if (o == 1) {
                q.scale(-1, 1);
                q.translate(j, 0)
            }
        }
        K.push("<g id=\"Border-" + ["top", "right", "bottom", "left"][o] + ":::\">");
        for (var M = 0; M < G; M++) {
            var T = D.clone();
            T.concat(q);
            e.ti(w, P, T, w.xR, K);
            D.translate(1e3 - 2, 0)
        }
        K.push("</g>");
        return k
    };
    fU.z_.Rect = function(w, o, Q, K) {
        return Typr.U.pathToSVG({
            crds: [w, o, w + Q, o, w + Q, o + K, w, o + K],
            cmds: ["M", "L", "L", "L", "Z"]
        })
    };
    fU.z_.a3T = function(w, o, Q, K, b) {
        var R = [w, o, w + Q, o, w + Q, o + K, w, o + K];
        w += b;
        o += b;
        Q -= 2 * b;
        K -= 2 * b;
        R.push(w, o, w, o + K, w + Q, o + K, w + Q, o);
        return Typr.U.pathToSVG({
            crds: R,
            cmds: "M L L L Z M L L L Z".split(" ")
        })
    };
    fU.z_.ab3 = function(w, o) {
        var Q = v.uX(w.W, w.a, w.k);
        Q._Z = Math.max(.1, Math.min(.9, Q._Z + o));
        return v.a2(Q.Y7, Q.sa, Q._Z)
    };
    fU.z_.a5g = function(w, o) {
        var Q = v.uX(w.W, w.a, w.k);
        Q.Y7 += o;
        return v.a2(Q.Y7, Q.sa, Q._Z)
    };
    fU.z_.a8D = function(w) {
        var o = v.uX(w.W, w.a, w.k);
        o._Z = 1 - o._Z;
        return v.a2(o.Y7, o.sa, o._Z)
    };
    fU.z_.a99 = function(w, o) {
        var Q = w.W - o.W,
            K = w.a - o.a,
            b = w.k - o.k;
        return Math.sqrt(Q * Q + K * K + b * b)
    };
    fU.z_.a3s = function(w) {
        var o = fU.z_;
        return {
            W: o.OL(w),
            a: o.OL(w),
            k: o.OL(w)
        }
    };
    fU.z_.lq = function(w) {
        return CSS.tc({
            W: w.W * 255,
            a: w.a * 255,
            k: w.k * 255
        })
    };
    fU.z_.QT = function(w) {
        var o = w.zi,
            Q = new B;
        for (var M = 0; M < o.length; M++) Q = Q.OX(v.w.QT(o[M][1].X));
        return Q
    };
    fU.z_.H = function(w, o) {
        var Q = w.zi;
        for (var M = 0; M < Q.length; M++) v.w.H(Q[M][1].X, o, Q[M][1].X)
    };
    fU.z_.OL = function(w) {
        w.acH++;
        var o = w.acH & 3;
        if (o == 0) w.BJ = fU.z_.yT(w.BJ);
        var Q = w.BJ >>> 8 * o & 255;
        return Q * (.99999999 / 255)
    };
    fU.z_.KQ = function(w) {
        var o = fU.z_.yT(w.BJ);
        w.BJ = fU.z_.yT(o);
        return o * (1 / 4294967295)
    };
    fU.z_.yT = function(w) {
        w = (w ^ 61 ^ w >>> 16) >>> 0;
        w = w + (w << 3) >>> 0;
        w = (w ^ w >>> 4) >>> 0;
        w = w * 668265261 >>> 0;
        w = (w ^ w >>> 15) >>> 0;
        return w
    };
    fU.z_.VI = [{
        mN: "0001-0-bird",
        zi: [
            ["4b3c34", {
                Y: "M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),
                X: [208, 16, 253, 5, 247, 86, 228, 104, 218, 108, 253, 60, 235, 12, 211, 18, 210, 18, 209, 17, 208, 16, 208, 16, 187, 140, 238, 125, 326, 133, 319, 189, 318, 198, 307, 210, 299, 207, 297, 205, 307, 208, 316, 195, 317, 188, 320, 126, 208, 137, 174, 149, 187, 140, 137, 75, 156, 79, 177, 94, 164, 157, 173, 147, 177, 101, 165, 79, 142, 75, 137, 75, 368, 59, 165, 59, 182, 233, 0, 210, 0, 225, 161, 250, 194, 61, 364, 63, 367, 61, 368, 59, 368, 59, 368, 59]
            }],
            ["3c7040", {
                Y: "M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),
                X: [345, 123, 324, 113, 331, 70, 284, 80, 287, 79, 310, 89, 314, 103, 314, 104, 306, 90, 284, 82, 281, 81, 270, 85, 268, 86, 274, 117, 335, 119, 345, 123, 345, 123, 270, 0, 283, 29, 282, 58, 244, 66, 258, 62, 265, 40, 269, 27, 265, 37, 256, 56, 249, 58, 242, 31, 263, 18, 270, 0, 270, 0, 89, 100, 81, 136, 47, 182, 101, 196, 90, 189, 92, 157, 91, 145, 94, 160, 93, 191, 109, 195, 148, 158, 96, 129, 89, 100, 89, 100, 230, 187, 201, 240, 160, 226, 133, 198, 150, 191, 172, 197, 187, 198, 166, 193, 153, 190, 134, 193, 159, 162, 207, 194, 230, 187, 230, 187, 126, 177, 131, 159, 129, 150, 119, 139, 122, 122, 145, 112, 147, 97, 166, 128, 164, 155, 134, 168, 139, 154, 146, 142, 145, 131, 143, 145, 133, 159, 126, 177, 126, 177, 209, 86, 195, 86, 166, 91, 173, 109, 177, 102, 181, 97, 191, 96, 180, 99, 174, 113, 175, 113, 194, 114, 200, 96, 209, 86, 209, 86, 278, 175, 254, 167, 235, 168, 231, 143, 245, 143, 248, 151, 256, 158, 252, 147, 243, 144, 240, 142, 276, 147, 265, 171, 278, 175]
            }],
            ["b588c1", {
                Y: "M C C C C C C C C C C C C L Z".split(" "),
                X: [189, 40, 188, 42, 186, 44, 184, 47, 184, 52, 183, 55, 181, 59, 175, 70, 160, 78, 147, 79, 142, 79, 131, 78, 127, 75, 118, 74, 95, 71, 93, 70, 89, 70, 88, 70, 69, 72, 74, 66, 82, 68, 93, 65, 78, 64, 83, 62, 95, 59, 128, 50, 128, 33, 155, 29, 162, 16, 180, 13, 189, 31, 193, 31, 196, 34, 198, 37, 197, 37, 193, 39, 189, 40, 189, 40]
            }]
        ]
    }, {
        mN: "0001-0-bird2",
        zi: [
            ["ff7f2a", {
                Y: "M L L L Z M L L L Z".split(" "),
                X: [296, 0, 296, 62, 335, 62, 296, 0, 357, 0, 357, 62, 318, 62, 357, 0]
            }],
            ["b588c1", {
                Y: "M C C C C C C C C C C C L Z".split(" "),
                X: [321, 48, 344, 48, 379, 67, 396, 121, 408, 176, 396, 230, 337, 255, 303, 265, 265, 268, 217, 235, 191, 217, 170, 188, 186, 180, 195, 177, 199, 187, 205, 192, 203, 185, 199, 178, 207, 172, 217, 165, 224, 178, 225, 182, 227, 196, 231, 203, 250, 206, 273, 205, 290, 196, 292, 165, 289, 133, 269, 118, 268, 101, 267, 77, 288, 49, 321, 48, 321, 48]
            }],
            ["74439e", {
                Y: "M C C C C C C L Z M C C Z".split(" "),
                X: [337, 187, 329, 202, 317, 204, 304, 204, 293, 204, 284, 205, 293, 224, 286, 216, 278, 209, 268, 214, 257, 220, 262, 237, 269, 243, 284, 258, 310, 256, 323, 243, 337, 227, 339, 208, 337, 187, 337, 187, 340, 77, 310, 78, 287, 81, 315, 96, 269, 83, 309, 75, 340, 77]
            }],
            ["000000", {
                Y: "M L L L Z M L L L Z".split(" "),
                X: [326, 258, 334, 315, 323, 316, 326, 258, 298, 262, 296, 318, 286, 317, 298, 262]
            }],
            ["4b3c34", {
                Y: "M L C C C C C C C C L Z".split(" "),
                X: [0, 272, 0, 336, 63, 296, 119, 296, 175, 320, 205, 330, 229, 339, 278, 338, 322, 337, 354, 322, 405, 325, 443, 329, 482, 332, 501, 377, 501, 366, 502, 348, 474, 328, 464, 320, 440, 312, 384, 309, 296, 309, 300, 333, 186, 293, 118, 264, 54, 250, 0, 272, 0, 272]
            }],
            ["3c7040", {
                Y: "M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),
                X: [58, 260, 44, 247, 27, 239, 20, 208, 15, 188, 32, 182, 43, 198, 59, 227, 56, 242, 58, 260, 181, 323, 167, 336, 150, 345, 143, 375, 138, 396, 155, 401, 166, 385, 182, 356, 179, 342, 181, 323, 60, 260, 79, 249, 100, 243, 113, 214, 122, 194, 102, 186, 86, 200, 62, 227, 65, 242, 60, 260, 60, 260, 499, 378, 479, 377, 462, 372, 435, 388, 417, 399, 425, 415, 444, 411, 476, 403, 484, 390, 499, 378, 499, 378, 501, 379, 494, 397, 482, 411, 488, 442, 491, 463, 511, 461, 514, 442, 520, 410, 508, 397, 501, 379, 501, 379, 503, 378, 513, 390, 516, 402, 531, 413, 546, 421, 557, 412, 548, 401, 534, 382, 519, 379, 503, 378]
            }]
        ]
    }, {
        mN: "0000-1-flower",
        zi: [
            ["7a59a2", {
                Y: "M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),
                X: [468, 470, 411, 473, 371, 480, 351, 495, 332, 509, 322, 536, 325, 581, 325, 601, 328, 621, 325, 637, 346, 634, 371, 638, 397, 637, 427, 636, 456, 626, 465, 611, 478, 596, 485, 553, 489, 490, 477, 489, 470, 483, 468, 470, 445, 563, 435, 583, 425, 591, 415, 590, 401, 588, 401, 572, 410, 549, 388, 558, 375, 557, 369, 546, 366, 533, 374, 524, 390, 517, 416, 506, 441, 498, 465, 495, 463, 519, 455, 542, 445, 563, 445, 563, 489, 450, 486, 392, 480, 352, 465, 332, 451, 313, 425, 302, 380, 305, 360, 305, 340, 307, 324, 304, 327, 324, 322, 350, 323, 376, 323, 406, 332, 435, 347, 444, 362, 457, 405, 465, 468, 470, 469, 458, 476, 451, 489, 450, 489, 450, 395, 424, 376, 415, 368, 405, 369, 394, 371, 380, 387, 380, 410, 390, 402, 368, 403, 355, 414, 349, 427, 346, 436, 355, 443, 370, 454, 397, 460, 422, 463, 446, 439, 443, 417, 435, 395, 424, 395, 424, 508, 470, 566, 468, 606, 462, 626, 447, 645, 433, 656, 407, 654, 362, 654, 342, 652, 322, 655, 306, 634, 309, 609, 304, 583, 305, 553, 305, 524, 314, 514, 329, 501, 344, 493, 387, 488, 449, 500, 451, 507, 457, 508, 470, 508, 470, 534, 377, 544, 357, 554, 350, 564, 351, 578, 353, 578, 369, 568, 392, 590, 384, 604, 385, 609, 396, 612, 409, 603, 418, 588, 425, 561, 435, 536, 442, 512, 445, 515, 421, 523, 399, 534, 377, 534, 377, 488, 490, 492, 547, 499, 587, 514, 607, 528, 626, 554, 636, 600, 633, 619, 632, 640, 630, 656, 633, 652, 612, 656, 587, 655, 560, 655, 531, 645, 502, 629, 493, 614, 480, 571, 473, 508, 469, 507, 481, 501, 488, 488, 490, 488, 490, 582, 513, 602, 523, 610, 533, 609, 543, 607, 557, 591, 557, 568, 548, 577, 570, 576, 583, 565, 589, 552, 592, 542, 584, 535, 568, 524, 542, 517, 517, 514, 493, 538, 495, 560, 503, 582, 513, 582, 513]
            }]
        ]
    }, {
        mN: "0000-1-flower",
        zi: [
            ["d13777", {
                Y: "M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),
                X: [474, 503, 457, 528, 452, 530, 450, 528, 450, 523, 469, 498, 464, 493, 388, 522, 332, 552, 314, 585, 297, 628, 322, 660, 372, 639, 361, 698, 421, 709, 450, 665, 467, 649, 477, 596, 482, 505, 474, 503, 474, 503, 439, 563, 431, 563, 424, 556, 424, 548, 424, 539, 431, 532, 439, 532, 447, 532, 454, 539, 454, 548, 454, 556, 447, 563, 439, 563, 462, 475, 432, 467, 429, 463, 430, 460, 435, 458, 465, 469, 468, 463, 417, 399, 371, 356, 335, 348, 288, 345, 265, 379, 300, 420, 241, 428, 249, 488, 301, 503, 321, 513, 374, 507, 462, 483, 462, 475, 462, 475, 394, 460, 391, 452, 396, 444, 404, 441, 412, 438, 420, 443, 423, 451, 426, 459, 421, 467, 413, 470, 405, 473, 396, 468, 394, 460, 484, 455, 483, 424, 486, 419, 489, 420, 492, 424, 492, 456, 498, 457, 543, 389, 570, 332, 566, 294, 554, 249, 515, 238, 487, 284, 461, 231, 406, 256, 408, 310, 405, 333, 427, 381, 477, 458, 484, 455, 484, 455, 477, 385, 484, 380, 494, 382, 499, 389, 504, 396, 502, 405, 496, 410, 489, 415, 479, 414, 474, 407, 469, 400, 471, 390, 477, 385, 511, 470, 539, 459, 545, 461, 545, 463, 542, 467, 512, 477, 513, 483, 592, 505, 654, 513, 688, 497, 728, 472, 726, 432, 674, 419, 717, 378, 675, 334, 625, 353, 602, 356, 563, 393, 506, 464, 511, 470, 511, 470, 575, 442, 581, 447, 583, 456, 578, 463, 573, 470, 563, 472, 557, 467, 550, 462, 548, 452, 553, 445, 558, 438, 568, 437, 575, 442, 505, 499, 524, 523, 524, 529, 521, 531, 517, 529, 498, 503, 492, 506, 496, 588, 508, 650, 533, 677, 570, 707, 607, 693, 603, 639, 656, 667, 685, 614, 651, 572, 641, 551, 594, 525, 509, 493, 505, 499, 505, 499, 551, 552, 548, 560, 540, 564, 532, 561, 524, 559, 519, 550, 522, 542, 524, 534, 533, 530, 541, 532, 549, 535, 554, 543, 551, 552]
            }]
        ]
    }, {
        mN: "0000-1-flower",
        zi: [
            ["ffac42", {
                Y: "M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),
                X: [646, 471, 646, 446, 626, 426, 601, 426, 599, 426, 597, 426, 595, 427, 596, 426, 598, 424, 599, 423, 616, 406, 616, 378, 599, 360, 581, 343, 553, 343, 536, 360, 534, 361, 533, 363, 532, 364, 532, 363, 532, 361, 532, 359, 532, 335, 512, 315, 488, 315, 463, 315, 443, 335, 443, 359, 443, 361, 443, 363, 443, 365, 442, 364, 441, 363, 440, 362, 422, 344, 394, 344, 377, 362, 359, 379, 359, 407, 377, 425, 378, 426, 380, 427, 381, 429, 379, 428, 378, 428, 376, 428, 351, 428, 331, 448, 331, 473, 331, 498, 351, 518, 376, 518, 378, 518, 380, 517, 382, 517, 381, 518, 379, 519, 378, 521, 361, 538, 361, 566, 378, 584, 396, 601, 424, 601, 441, 584, 443, 582, 444, 581, 445, 579, 445, 581, 445, 583, 445, 584, 445, 609, 465, 629, 490, 629, 514, 629, 534, 609, 534, 584, 534, 582, 534, 580, 534, 579, 535, 580, 536, 581, 537, 582, 555, 600, 583, 600, 600, 582, 618, 565, 618, 537, 600, 519, 599, 518, 597, 516, 596, 515, 598, 515, 599, 516, 601, 516, 626, 516, 646, 496, 646, 471, 489, 552, 444, 552, 409, 516, 409, 472, 409, 428, 444, 392, 489, 392, 533, 392, 569, 428, 569, 472, 569, 516, 533, 552, 489, 552]
            }]
        ]
    }, {
        mN: "0000-1-flower",
        zi: [
            ["d04040", {
                Y: "M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),
                X: [691, 424, 690, 369, 680, 330, 660, 303, 634, 320, 601, 361, 568, 406, 568, 406, 568, 327, 578, 326, 585, 317, 585, 306, 585, 294, 576, 284, 564, 284, 552, 284, 542, 294, 542, 306, 542, 317, 550, 326, 560, 327, 560, 406, 559, 406, 540, 359, 522, 311, 501, 291, 475, 319, 453, 360, 433, 407, 431, 406, 431, 327, 441, 326, 448, 317, 448, 306, 448, 294, 439, 284, 427, 284, 415, 284, 405, 294, 405, 306, 405, 317, 412, 326, 423, 327, 423, 404, 390, 363, 360, 326, 341, 308, 296, 401, 299, 489, 360, 567, 396, 613, 443, 639, 500, 638, 624, 636, 694, 524, 692, 424, 691, 424, 389, 543, 370, 514, 379, 498, 399, 504, 439, 518, 470, 564, 488, 613, 455, 600, 414, 580, 389, 543, 481, 480, 488, 445, 505, 441, 515, 459, 533, 497, 524, 552, 501, 599, 487, 567, 472, 523, 481, 480, 481, 480, 624, 523, 610, 563, 565, 595, 515, 613, 528, 580, 548, 538, 585, 514, 614, 494, 629, 503, 624, 523, 624, 523]
            }]
        ]
    }, {
        mN: "0000-1-flower",
        zi: [
            ["ec7272", {
                Y: "M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),
                X: [447, 475, 452, 450, 452, 438, 437, 423, 422, 407, 407, 412, 390, 383, 398, 418, 421, 415, 433, 434, 445, 453, 446, 474, 447, 475, 495, 446, 520, 439, 529, 433, 535, 412, 542, 390, 529, 380, 546, 351, 520, 376, 533, 394, 523, 414, 513, 434, 495, 445, 495, 446, 545, 473, 564, 490, 574, 495, 595, 490, 617, 485, 620, 469, 653, 468, 619, 459, 610, 479, 587, 480, 565, 482, 546, 472, 545, 473, 545, 473, 549, 533, 543, 558, 543, 569, 559, 585, 574, 601, 589, 596, 606, 624, 597, 590, 575, 592, 563, 573, 551, 555, 550, 534, 549, 533, 549, 533, 504, 562, 480, 570, 470, 575, 464, 596, 458, 618, 470, 628, 454, 657, 479, 632, 466, 614, 476, 594, 486, 575, 504, 563, 504, 562, 459, 536, 440, 519, 430, 513, 409, 518, 387, 524, 384, 539, 351, 540, 385, 549, 394, 529, 417, 528, 439, 527, 457, 536, 459, 536, 459, 536]
            }],
            ["333333", {
                Y: "M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),
                X: [534, 455, 584, 415, 579, 358, 577, 335, 574, 315, 585, 304, 585, 304, 585, 304, 568, 308, 561, 312, 554, 316, 520, 333, 500, 363, 479, 392, 493, 437, 486, 456, 479, 476, 452, 485, 452, 485, 452, 485, 471, 474, 475, 454, 479, 434, 460, 402, 482, 365, 505, 328, 565, 292, 597, 294, 612, 295, 591, 298, 587, 316, 583, 333, 593, 373, 584, 404, 574, 440, 533, 456, 534, 455, 534, 455, 559, 506, 619, 530, 666, 497, 685, 483, 701, 471, 716, 475, 716, 475, 716, 475, 704, 463, 697, 459, 690, 454, 657, 434, 622, 431, 587, 428, 554, 462, 534, 465, 513, 469, 492, 451, 492, 451, 492, 451, 511, 461, 530, 455, 549, 448, 568, 416, 611, 417, 654, 418, 716, 452, 730, 481, 737, 495, 724, 478, 706, 483, 689, 489, 660, 516, 628, 524, 592, 534, 558, 506, 559, 506, 559, 506, 524, 552, 534, 615, 586, 640, 607, 649, 625, 657, 629, 672, 629, 672, 629, 672, 634, 655, 634, 647, 634, 639, 636, 601, 621, 569, 606, 537, 560, 525, 547, 509, 534, 494, 539, 466, 539, 466, 539, 466, 539, 488, 554, 501, 569, 514, 607, 514, 627, 552, 648, 590, 650, 660, 632, 687, 623, 700, 631, 680, 617, 667, 605, 656, 566, 644, 543, 621, 517, 594, 524, 551, 524, 552, 524, 552, 467, 546, 417, 585, 421, 643, 424, 665, 426, 686, 415, 697, 415, 697, 415, 697, 432, 693, 439, 689, 446, 684, 481, 667, 501, 638, 521, 609, 508, 563, 515, 544, 522, 524, 548, 515, 548, 515, 548, 515, 530, 527, 526, 546, 522, 566, 540, 598, 518, 635, 496, 672, 436, 709, 404, 706, 388, 705, 409, 702, 413, 684, 417, 667, 408, 628, 417, 596, 426, 561, 467, 544, 467, 546, 467, 546, 442, 495, 383, 472, 336, 504, 317, 518, 301, 530, 286, 526, 286, 526, 286, 526, 298, 539, 305, 543, 312, 547, 344, 568, 380, 571, 415, 574, 448, 539, 468, 536, 488, 532, 510, 551, 510, 551, 510, 551, 490, 540, 471, 547, 452, 553, 434, 585, 391, 584, 348, 583, 286, 550, 272, 521, 265, 507, 278, 524, 296, 518, 313, 513, 342, 485, 373, 477, 409, 468, 444, 495, 442, 495, 442, 495, 476, 449, 467, 386, 415, 361, 394, 352, 375, 344, 371, 329, 371, 329, 371, 329, 366, 346, 366, 354, 366, 362, 364, 400, 379, 433, 394, 465, 440, 476, 453, 492, 467, 508, 462, 535, 462, 535, 462, 535, 461, 513, 446, 500, 431, 487, 394, 487, 373, 449, 352, 411, 350, 341, 368, 314, 377, 301, 369, 321, 383, 334, 396, 345, 434, 357, 457, 380, 483, 407, 477, 450, 476, 449, 476, 449]
            }]
        ]
    }, {
        mN: "0000-0-hearts",
        zi: [
            ["d17070", {
                Y: "M C C C C C C C C C L Z".split(" "),
                X: [415, 584, 413, 585, 411, 586, 409, 587, 392, 596, 389, 620, 395, 633, 401, 647, 414, 663, 450, 668, 485, 674, 487, 681, 494, 690, 491, 679, 487, 673, 507, 643, 527, 613, 524, 593, 518, 579, 512, 566, 493, 552, 475, 558, 467, 561, 451, 566, 448, 586, 435, 578, 423, 581, 415, 584, 415, 584]
            }],
            ["6bcc6b", {
                Y: "M C C C C C C C C C L Z".split(" "),
                X: [595, 451, 593, 449, 590, 448, 588, 448, 563, 439, 537, 457, 529, 475, 521, 493, 516, 520, 542, 560, 568, 601, 563, 609, 559, 623, 568, 611, 571, 602, 618, 595, 666, 589, 684, 567, 692, 550, 700, 532, 697, 501, 674, 488, 665, 482, 645, 472, 622, 486, 619, 465, 606, 456, 595, 451, 595, 451]
            }],
            ["5c5cc2", {
                Y: "M C C C C C C C C C L Z".split(" "),
                X: [341, 362, 338, 364, 335, 366, 332, 368, 304, 385, 301, 424, 312, 446, 323, 468, 345, 494, 405, 501, 465, 508, 468, 520, 480, 534, 475, 516, 468, 506, 499, 455, 531, 404, 524, 370, 514, 348, 503, 325, 470, 304, 440, 315, 427, 320, 401, 331, 397, 364, 374, 351, 355, 356, 341, 362, 341, 362]
            }]
        ]
    }, {
        mN: "0000-0-anchor",
        zi: [
            ["2a3b66", {
                Y: "M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),
                X: [495, 315, 490, 315, 488, 318, 489, 323, 491, 328, 502, 326, 502, 320, 502, 317, 501, 316, 497, 315, 496, 315, 496, 315, 495, 315, 495, 315, 496, 303, 509, 303, 521, 320, 514, 327, 511, 330, 513, 345, 517, 348, 519, 350, 531, 352, 546, 354, 570, 357, 572, 357, 578, 354, 588, 347, 592, 351, 592, 369, 592, 385, 588, 390, 580, 385, 576, 383, 570, 383, 552, 384, 524, 387, 519, 389, 517, 397, 515, 404, 517, 515, 520, 554, 522, 583, 525, 599, 530, 606, 534, 610, 555, 617, 565, 617, 584, 616, 607, 602, 635, 572, 639, 568, 641, 566, 644, 563, 633, 559, 616, 557, 616, 557, 675, 533, 675, 533, 671, 605, 669, 609, 667, 611, 664, 591, 658, 577, 657, 579, 657, 580, 656, 582, 628, 638, 603, 660, 565, 664, 545, 666, 521, 672, 514, 675, 512, 677, 507, 682, 504, 688, 501, 693, 497, 698, 496, 698, 494, 698, 490, 693, 487, 688, 484, 682, 480, 677, 477, 675, 471, 672, 447, 666, 427, 664, 391, 660, 367, 640, 340, 591, 335, 604, 332, 621, 331, 619, 329, 615, 325, 544, 325, 544, 384, 568, 384, 568, 368, 569, 357, 573, 385, 602, 408, 616, 426, 617, 437, 617, 458, 610, 461, 606, 466, 599, 470, 583, 472, 554, 474, 515, 476, 404, 475, 397, 473, 389, 468, 387, 440, 384, 422, 383, 416, 383, 412, 385, 403, 390, 400, 385, 400, 369, 400, 351, 403, 347, 414, 354, 419, 357, 421, 357, 446, 354, 460, 352, 473, 350, 475, 348, 478, 345, 481, 330, 478, 327, 470, 320, 483, 303, 496, 303, 496, 303]
            }]
        ]
    }, {
        mN: "0000-1-leaf",
        zi: [
            ["fbb600", {
                Y: "M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),
                X: [642, 726, 633, 723, 632, 707, 591, 631, 570, 582, 526, 521, 537, 547, 535, 579, 517, 598, 501, 619, 486, 602, 414, 634, 412, 606, 379, 609, 346, 611, 394, 557, 406, 547, 401, 539, 386, 532, 319, 519, 337, 508, 332, 493, 320, 478, 326, 464, 302, 450, 287, 436, 303, 436, 324, 441, 330, 432, 346, 434, 359, 434, 359, 415, 377, 428, 397, 431, 417, 432, 442, 440, 437, 418, 417, 416, 406, 372, 401, 370, 395, 367, 389, 355, 417, 363, 408, 339, 406, 323, 416, 312, 427, 303, 417, 276, 433, 295, 444, 297, 452, 294, 479, 321, 490, 313, 496, 294, 503, 322, 510, 329, 517, 338, 522, 353, 530, 371, 530, 379, 546, 402, 551, 389, 555, 378, 578, 333, 606, 333, 628, 304, 652, 280, 646, 306, 644, 327, 657, 329, 649, 356, 658, 374, 679, 384, 666, 392, 656, 415, 645, 432, 627, 457, 653, 451, 661, 457, 692, 460, 698, 473, 715, 481, 697, 485, 678, 488, 669, 509, 656, 523, 655, 533, 666, 539, 659, 537, 659, 542, 643, 531, 630, 535, 613, 543, 608, 539, 598, 535, 594, 542, 590, 553, 590, 566, 594, 564, 596, 569, 568, 575, 551, 543, 531, 519, 575, 577, 597, 628, 639, 708, 642, 726]
            }]
        ]
    }, {
        mN: "0000-1-acorn",
        zi: [
            ["a05a2c", {
                Y: "M C C C C C C C L Z".split(" "),
                X: [506, 453, 450, 426, 413, 422, 398, 444, 374, 480, 374, 533, 384, 573, 391, 602, 407, 625, 430, 645, 451, 658, 487, 654, 509, 647, 554, 633, 587, 605, 612, 565, 635, 527, 591, 500, 565, 482, 557, 476, 515, 457, 506, 453, 506, 453]
            }],
            ["502d16", {
                Y: "M C C C C C C C C C C C Z".split(" "),
                X: [640, 524, 639, 539, 623, 540, 623, 540, 627, 522, 607, 504, 583, 488, 547, 465, 507, 445, 470, 434, 439, 426, 412, 417, 400, 437, 400, 437, 391, 424, 400, 414, 434, 370, 498, 356, 551, 376, 555, 349, 583, 317, 597, 321, 612, 326, 621, 346, 620, 350, 619, 354, 594, 352, 584, 368, 580, 375, 577, 382, 575, 387, 619, 412, 649, 460, 640, 524]
            }]
        ]
    }, {
        mN: "0000-0-skull",
        zi: [
            ["808080", {
                Y: "M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),
                X: [396, 410, 398, 415, 398, 420, 398, 424, 420, 437, 433, 404, 465, 382, 501, 382, 538, 382, 569, 404, 582, 435, 602, 424, 602, 419, 603, 415, 604, 410, 604, 410, 609, 392, 622, 379, 633, 382, 643, 384, 648, 402, 643, 420, 643, 421, 642, 421, 642, 422, 643, 422, 643, 422, 644, 422, 662, 427, 675, 440, 672, 450, 669, 461, 652, 465, 633, 460, 628, 459, 624, 457, 620, 455, 589, 473, 588, 491, 582, 507, 572, 520, 607, 540, 611, 538, 615, 536, 620, 535, 639, 530, 656, 535, 659, 545, 662, 556, 649, 568, 630, 573, 630, 574, 629, 574, 629, 574, 629, 574, 629, 575, 629, 575, 634, 594, 630, 611, 619, 614, 609, 617, 596, 604, 591, 585, 590, 580, 589, 576, 589, 571, 565, 557, 564, 592, 536, 619, 501, 619, 466, 619, 438, 591, 437, 557, 412, 572, 411, 576, 411, 580, 410, 585, 410, 585, 405, 604, 392, 617, 381, 614, 371, 611, 366, 593, 371, 575, 371, 574, 371, 574, 372, 574, 371, 573, 371, 573, 370, 573, 352, 568, 339, 556, 342, 545, 345, 534, 362, 530, 381, 535, 385, 536, 390, 538, 394, 540, 430, 519, 421, 507, 415, 491, 414, 475, 380, 455, 376, 457, 372, 459, 367, 460, 367, 460, 349, 465, 331, 461, 328, 450, 326, 440, 338, 427, 357, 422, 357, 422, 358, 422, 358, 422, 358, 421, 358, 421, 358, 420, 353, 402, 357, 384, 368, 381, 379, 379, 391, 391, 396, 410, 463, 439, 445, 439, 431, 453, 431, 470, 431, 488, 445, 502, 463, 502, 480, 502, 494, 488, 494, 470, 494, 453, 480, 439, 463, 439, 540, 439, 522, 439, 508, 453, 508, 470, 508, 488, 522, 502, 540, 502, 557, 502, 571, 488, 571, 470, 571, 453, 557, 439, 540, 439, 483, 528, 518, 528, 500, 503, 483, 528]
            }]
        ]
    }, {
        mN: "0000-0-ghost",
        zi: [
            ["e6e6e6", {
                Y: "M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),
                X: [653, 486, 653, 574, 689, 597, 689, 638, 689, 661, 640, 644, 620, 656, 601, 666, 609, 682, 583, 692, 563, 700, 538, 666, 512, 666, 490, 666, 451, 695, 433, 686, 415, 677, 416, 646, 388, 644, 367, 641, 313, 671, 313, 648, 313, 619, 346, 588, 346, 486, 346, 388, 415, 308, 500, 308, 584, 308, 653, 388, 653, 486, 653, 486, 449, 396, 428, 396, 412, 415, 412, 439, 412, 462, 428, 482, 449, 482, 465, 482, 478, 470, 484, 454, 489, 470, 503, 482, 519, 482, 539, 482, 556, 462, 556, 439, 556, 415, 539, 396, 519, 396, 503, 396, 489, 407, 484, 423, 478, 407, 465, 396, 449, 396, 482, 505, 441, 505, 465, 560, 482, 560, 503, 560, 524, 505, 482, 505]
            }],
            ["000000", {
                Y: "M C C C C Z M C C C C Z".split(" "),
                X: [526, 446, 526, 455, 519, 462, 510, 462, 501, 462, 494, 455, 494, 446, 494, 437, 501, 430, 510, 430, 519, 430, 526, 437, 526, 446, 475, 446, 475, 455, 468, 462, 459, 462, 450, 462, 442, 455, 442, 446, 442, 437, 450, 430, 459, 430, 468, 430, 475, 437, 475, 446]
            }]
        ]
    }, {
        mN: "1001-1-rose",
        zi: [
            ["9e1460", {
                Y: "M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),
                X: [568, 83, 558, 83, 548, 88, 539, 96, 538, 98, 536, 99, 535, 101, 522, 115, 513, 134, 517, 149, 522, 172, 561, 200, 592, 207, 604, 210, 611, 215, 615, 221, 622, 234, 611, 258, 611, 258, 613, 260, 615, 264, 618, 264, 627, 266, 638, 241, 640, 236, 660, 188, 614, 83, 568, 83, 526, 125, 527, 97, 567, 68, 593, 75, 616, 81, 642, 121, 649, 152, 651, 165, 656, 172, 662, 176, 675, 183, 698, 173, 698, 173, 698, 173, 698, 173, 698, 173, 704, 176, 705, 179, 705, 180, 706, 189, 681, 199, 678, 200, 678, 200, 677, 201, 677, 201, 627, 220, 524, 170, 526, 125]
            }],
            ["020304", {
                Y: "M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),
                X: [60, 151, 60, 151, 37, 125, 60, 98, 83, 72, 95, 91, 115, 66, 134, 42, 117, 26, 120, 30, 123, 34, 146, 83, 132, 114, 114, 154, 60, 151, 60, 151, 280, 70, 280, 70, 258, 97, 283, 122, 308, 147, 318, 127, 339, 150, 361, 173, 344, 190, 347, 186, 350, 182, 370, 132, 354, 101, 333, 62, 280, 70, 280, 70, 61, 150, 61, 150, 27, 143, 30, 108, 33, 73, 54, 81, 55, 50, 57, 19, 33, 16, 38, 17, 43, 19, 91, 44, 98, 78, 107, 121, 61, 150, 61, 150, -27, 185, 184, 158, 222, 43, 352, 32, 444, 24, 538, 97, 538, 97, 538, 97, 453, 45, 354, 48, 241, 51, 185, 170, -27, 185]
            }]
        ]
    }, {
        mN: "1001-1-curls",
        zi: [
            ["53a7ab", {
                Y: "M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),
                X: [68, 114, 121, 103, 159, 110, 183, 135, 212, 169, 211, 204, 189, 237, 162, 277, 124, 291, 86, 276, 52, 263, 38, 236, 47, 202, 55, 168, 79, 151, 121, 156, 147, 162, 165, 177, 160, 205, 155, 228, 135, 241, 113, 237, 97, 234, 92, 221, 96, 205, 98, 195, 105, 194, 115, 200, 124, 205, 133, 204, 135, 197, 139, 183, 122, 167, 95, 171, 68, 176, 54, 193, 68, 220, 84, 252, 131, 261, 165, 238, 201, 202, 199, 164, 158, 136, 118, 113, 52, 122, -23, 151, 2, 134, 33, 122, 68, 114, 68, 114, 71, 83, 119, 75, 163, 79, 198, 107, 226, 129, 247, 174, 271, 207, 291, 229, 316, 241, 342, 232, 370, 222, 394, 206, 418, 209, 443, 212, 461, 238, 485, 258, 500, 272, 522, 276, 543, 271, 543, 271, 524, 279, 518, 281, 500, 287, 483, 277, 466, 256, 453, 243, 441, 230, 427, 223, 413, 217, 392, 220, 372, 229, 372, 230, 371, 230, 370, 230, 354, 241, 337, 251, 315, 250, 283, 248, 253, 222, 229, 172, 209, 133, 178, 106, 137, 94, 103, 84, 52, 94, -30, 133, -3, 108, 30, 91, 71, 83, 71, 83, 83, 54, 122, 46, 166, 49, 195, 67, 219, 82, 250, 122, 290, 168, 308, 186, 330, 194, 355, 192, 393, 183, 400, 145, 383, 118, 372, 101, 355, 91, 328, 91, 313, 92, 303, 98, 300, 109, 298, 116, 299, 125, 304, 131, 315, 147, 327, 152, 340, 149, 349, 149, 354, 132, 343, 131, 330, 131, 326, 129, 328, 120, 332, 97, 355, 100, 365, 114, 381, 137, 367, 165, 343, 168, 321, 170, 289, 150, 288, 117, 290, 77, 319, 58, 352, 64, 388, 74, 405, 104, 404, 141, 403, 177, 382, 202, 345, 207, 312, 211, 284, 191, 260, 161, 245, 141, 229, 122, 213, 106, 196, 84, 166, 73, 129, 67, 80, 62, 28, 79, -26, 108, 10, 79, 46, 63, 83, 54, 83, 54]
            }],
            ["bbdc54", {
                Y: "M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),
                X: [321, 315, 287, 324, 252, 312, 211, 219, 217, 284, 239, 326, 279, 341, 324, 352, 362, 329, 398, 291, 316, 305, 258, 269, 217, 196, 238, 284, 274, 319, 321, 315, 321, 315, 211, 261, 223, 300, 234, 345, 252, 374, 220, 378, 194, 367, 193, 324, 194, 306, 198, 288, 206, 270, 197, 315, 204, 340, 221, 351, 206, 327, 202, 297, 211, 261, 211, 261, 206, 246, 193, 301, 170, 317, 138, 297, 162, 281, 184, 254, 205, 222, 201, 246, 191, 267, 174, 283, 186, 279, 197, 267, 206, 246, 206, 246, 378, 233, 370, 286, 337, 299, 294, 270, 312, 277, 330, 276, 347, 267, 294, 278, 259, 252, 234, 203, 280, 259, 327, 278, 378, 233, 378, 233, 626, 217, 604, 273, 555, 313, 511, 315, 484, 316, 438, 289, 432, 232, 450, 253, 488, 296, 511, 291, 532, 286, 551, 277, 566, 261, 527, 269, 498, 263, 480, 243, 478, 241, 478, 237, 480, 235, 486, 230, 504, 220, 519, 226, 537, 233, 551, 242, 567, 241, 591, 236, 611, 228, 626, 217, 626, 217, 411, 192, 432, 183, 439, 166, 420, 136, 443, 144, 460, 158, 466, 182, 470, 165, 456, 149, 430, 133, 459, 136, 485, 145, 505, 165, 503, 143, 463, 133, 434, 128, 486, 127, 526, 124, 539, 118, 505, 123, 470, 124, 435, 122, 461, 111, 483, 96, 500, 76, 475, 95, 450, 110, 424, 118, 450, 96, 465, 72, 466, 48, 458, 75, 440, 98, 419, 112, 424, 106, 428, 99, 428, 91, 429, 68, 413, 57, 393, 51, 419, 70, 426, 92, 411, 110, 408, 77, 385, 58, 343, 52, 383, 26, 422, 25, 445, 62, 458, 47, 465, 29, 467, 8, 477, 27, 479, 51, 475, 76, 497, 64, 515, 49, 528, 29, 524, 57, 515, 82, 496, 103, 521, 113, 549, 111, 579, 99, 560, 122, 535, 136, 502, 137, 518, 149, 521, 173, 514, 205, 505, 181, 492, 166, 476, 158, 483, 188, 470, 205, 447, 216, 456, 183, 451, 166, 438, 157, 444, 193, 426, 211, 379, 207, 403, 193, 416, 172, 416, 140, 434, 156, 428, 173, 411, 192, 411, 192]
            }]
        ]
    }, {
        mN: "0111-0-pines",
        zi: [
            ["e9e9e9", {
                Y: "M C C C C C C C C L L L Z".split(" "),
                X: [0, 946, 0, 946, 54, 960, 99, 944, 149, 927, 182, 954, 205, 956, 245, 960, 298, 940, 382, 974, 435, 995, 478, 957, 538, 956, 571, 955, 597, 969, 631, 968, 663, 967, 701, 938, 749, 944, 805, 950, 851, 960, 893, 946, 950, 928, 1e3, 946, 1e3, 946, 1e3, 1e3, 0, 1e3, 0, 946]
            }],
            ["437a26", {
                Y: "M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),
                X: [119, 801, 120, 801, 148, 859, 148, 859, 137, 853, 137, 853, 155, 890, 155, 891, 156, 892, 138, 887, 140, 888, 141, 888, 171, 925, 171, 925, 126, 924, 125, 943, 125, 943, 105, 944, 106, 944, 107, 944, 106, 924, 106, 924, 61, 925, 93, 886, 77, 891, 100, 854, 89, 860, 89, 860, 119, 801, 119, 801, 286, 871, 286, 871, 303, 905, 303, 905, 296, 902, 296, 902, 307, 924, 307, 924, 307, 925, 297, 922, 297, 922, 298, 922, 316, 944, 316, 944, 289, 944, 289, 955, 289, 955, 277, 956, 278, 956, 278, 956, 278, 944, 278, 944, 251, 944, 270, 921, 260, 924, 274, 902, 268, 906, 268, 906, 285, 871, 286, 871, 526, 863, 526, 863, 546, 903, 546, 903, 538, 899, 538, 899, 550, 924, 550, 925, 550, 926, 539, 922, 540, 922, 540, 922, 561, 948, 561, 948, 530, 947, 529, 960, 529, 960, 516, 961, 517, 961, 518, 961, 517, 947, 517, 947, 486, 948, 508, 921, 497, 925, 513, 899, 505, 903, 505, 903, 526, 863, 526, 863, 731, 841, 731, 841, 752, 883, 752, 883, 744, 879, 744, 879, 757, 907, 757, 908, 758, 908, 745, 905, 746, 905, 747, 905, 769, 932, 769, 932, 736, 932, 735, 946, 735, 946, 721, 946, 721, 946, 722, 947, 721, 932, 721, 932, 688, 932, 712, 903, 700, 908, 717, 880, 709, 884, 709, 884, 731, 841, 731, 841, 889, 826, 889, 826, 914, 876, 914, 876, 904, 871, 904, 871, 920, 904, 920, 905, 920, 906, 906, 901, 907, 902, 908, 902, 934, 934, 934, 934, 894, 933, 894, 950, 894, 950, 877, 951, 878, 951, 879, 951, 878, 933, 878, 933, 838, 934, 866, 900, 852, 905, 872, 872, 862, 877, 862, 877, 889, 826, 889, 826]
            }]
        ]
    }, {
        mN: "0111-0-flowers",
        zi: [
            ["8cae40", {
                Y: "M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),
                X: [182, 866, 160, 879, 146, 903, 135, 929, 135, 844, 177, 842, 228, 831, 230, 796, 231, 770, 207, 765, 182, 779, 160, 792, 146, 816, 135, 843, 135, 713, 135, 711, 134, 710, 132, 710, 130, 710, 128, 711, 128, 713, 128, 841, 117, 815, 103, 791, 82, 779, 57, 764, 33, 769, 34, 795, 36, 830, 86, 841, 128, 844, 128, 930, 117, 903, 103, 880, 82, 867, 57, 853, 33, 858, 34, 884, 36, 919, 86, 930, 128, 932, 128, 1009, 128, 1010, 130, 1012, 132, 1012, 134, 1012, 135, 1010, 135, 1009, 135, 931, 177, 928, 228, 918, 230, 882, 231, 856, 207, 851, 182, 866, 182, 866, 447, 904, 430, 898, 412, 904, 394, 916, 394, 861, 413, 873, 431, 879, 447, 873, 458, 868, 458, 852, 447, 848, 430, 841, 412, 848, 394, 859, 394, 788, 394, 787, 393, 786, 391, 786, 389, 786, 388, 787, 388, 788, 388, 859, 370, 847, 352, 841, 336, 848, 325, 852, 325, 868, 336, 873, 352, 879, 370, 873, 388, 862, 388, 915, 370, 904, 352, 898, 336, 904, 325, 909, 325, 925, 336, 929, 352, 936, 370, 930, 388, 918, 388, 1009, 388, 1010, 389, 1011, 391, 1011, 393, 1011, 394, 1010, 394, 1009, 394, 918, 413, 930, 431, 936, 447, 929, 458, 925, 458, 909, 447, 904, 447, 904, 662, 943, 650, 954, 641, 972, 634, 993, 634, 914, 659, 907, 680, 895, 692, 873, 707, 846, 686, 836, 662, 859, 650, 870, 641, 888, 634, 909, 634, 818, 634, 816, 632, 815, 631, 815, 629, 815, 628, 816, 628, 818, 628, 908, 621, 887, 612, 870, 600, 859, 576, 836, 555, 846, 570, 873, 582, 895, 603, 907, 628, 914, 628, 992, 621, 971, 612, 954, 600, 943, 576, 920, 555, 930, 570, 957, 582, 978, 603, 990, 628, 998, 628, 1009, 628, 1010, 629, 1011, 631, 1011, 632, 1011, 634, 1010, 634, 1009, 634, 998, 659, 991, 680, 978, 692, 957, 707, 930, 686, 920, 662, 943, 662, 943, 892, 842, 875, 857, 862, 882, 850, 912, 850, 822, 874, 817, 896, 805, 908, 778, 919, 755, 896, 751, 877, 769, 866, 779, 857, 796, 850, 815, 850, 737, 850, 736, 848, 735, 847, 735, 845, 735, 844, 736, 844, 737, 844, 815, 836, 795, 828, 779, 817, 769, 798, 751, 775, 755, 785, 777, 797, 804, 820, 817, 844, 822, 844, 912, 832, 882, 818, 857, 801, 842, 772, 816, 737, 822, 753, 854, 772, 894, 806, 911, 844, 918, 844, 1009, 844, 1010, 845, 1011, 847, 1011, 848, 1011, 850, 1010, 850, 1009, 850, 918, 887, 911, 922, 894, 941, 854, 957, 822, 922, 816, 892, 842, 892, 842]
            }],
            ["d13777", {
                Y: "M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),
                X: [125, 603, 115, 617, 112, 619, 110, 618, 111, 615, 122, 600, 119, 597, 75, 614, 43, 631, 32, 650, 22, 675, 36, 694, 65, 682, 59, 716, 94, 722, 111, 696, 120, 687, 126, 657, 129, 604, 125, 603, 125, 603, 104, 638, 99, 638, 95, 634, 95, 629, 95, 624, 99, 620, 104, 620, 109, 620, 113, 624, 113, 629, 113, 634, 109, 638, 104, 638, 117, 587, 100, 582, 98, 579, 99, 578, 102, 577, 119, 583, 121, 580, 92, 543, 65, 517, 44, 513, 17, 512, 4, 531, 24, 555, -10, 560, -6, 594, 24, 603, 36, 609, 67, 605, 118, 591, 118, 587, 117, 587, 78, 578, 77, 573, 79, 568, 84, 567, 88, 565, 93, 568, 95, 573, 96, 577, 94, 582, 89, 584, 85, 585, 80, 583, 78, 578, 130, 575, 130, 557, 131, 554, 133, 555, 135, 557, 135, 575, 138, 576, 164, 537, 180, 504, 177, 482, 171, 456, 148, 449, 132, 476, 117, 445, 85, 460, 86, 491, 84, 504, 97, 532, 126, 577, 130, 575, 130, 575, 126, 535, 130, 532, 136, 533, 139, 537, 142, 541, 141, 546, 137, 549, 133, 552, 127, 551, 125, 547, 122, 543, 122, 538, 126, 535, 146, 584, 162, 577, 165, 578, 166, 580, 164, 582, 146, 588, 147, 591, 193, 604, 229, 609, 249, 600, 271, 585, 271, 562, 240, 554, 265, 530, 241, 505, 212, 516, 199, 518, 176, 539, 143, 580, 146, 584, 146, 584, 183, 567, 187, 570, 187, 576, 185, 580, 182, 584, 176, 585, 172, 582, 168, 579, 167, 573, 170, 569, 173, 565, 179, 565, 183, 567, 142, 601, 153, 615, 153, 618, 152, 619, 149, 618, 138, 603, 135, 605, 137, 652, 144, 688, 159, 704, 180, 721, 202, 713, 199, 681, 230, 698, 246, 667, 227, 643, 221, 631, 194, 616, 145, 597, 142, 601, 142, 601, 169, 631, 167, 636, 162, 638, 158, 637, 153, 635, 151, 630, 152, 625, 154, 621, 159, 618, 163, 620, 168, 621, 170, 626, 169, 631, 376, 691, 343, 693, 320, 697, 309, 706, 297, 714, 291, 729, 294, 756, 294, 767, 295, 779, 294, 788, 305, 786, 320, 788, 335, 788, 353, 787, 369, 782, 375, 773, 382, 764, 386, 739, 388, 703, 381, 702, 377, 699, 376, 691, 363, 745, 357, 757, 351, 761, 345, 761, 337, 760, 337, 751, 343, 737, 330, 742, 322, 742, 319, 735, 317, 728, 322, 723, 331, 718, 346, 712, 360, 708, 374, 706, 373, 720, 369, 733, 363, 745, 363, 745, 388, 680, 387, 646, 383, 623, 375, 612, 366, 600, 351, 594, 325, 596, 314, 596, 302, 597, 293, 595, 295, 607, 292, 622, 292, 637, 292, 654, 298, 671, 306, 676, 315, 684, 340, 689, 376, 692, 377, 684, 381, 680, 388, 680, 388, 680, 334, 665, 323, 659, 318, 654, 319, 648, 320, 639, 329, 640, 343, 645, 338, 632, 339, 625, 345, 621, 352, 620, 358, 625, 362, 634, 368, 649, 372, 664, 373, 677, 360, 676, 347, 671, 334, 665, 334, 665, 399, 691, 433, 690, 456, 686, 467, 678, 479, 670, 485, 655, 484, 629, 484, 617, 482, 606, 484, 597, 472, 598, 458, 595, 442, 596, 425, 596, 409, 601, 403, 610, 395, 618, 391, 643, 388, 679, 395, 680, 399, 684, 399, 691, 399, 691, 414, 638, 420, 626, 426, 622, 432, 622, 440, 624, 440, 633, 434, 646, 447, 641, 455, 642, 458, 648, 459, 656, 454, 661, 445, 665, 430, 671, 416, 675, 402, 677, 403, 663, 408, 650, 414, 638, 414, 638, 388, 703, 390, 736, 394, 759, 403, 770, 411, 782, 426, 788, 452, 785, 464, 785, 475, 784, 485, 785, 483, 774, 485, 759, 485, 744, 484, 726, 479, 710, 470, 704, 461, 697, 436, 693, 400, 691, 399, 698, 395, 702, 388, 703, 388, 703, 442, 716, 453, 722, 458, 728, 458, 734, 456, 742, 447, 742, 434, 736, 439, 749, 438, 757, 432, 760, 425, 762, 419, 757, 415, 748, 409, 733, 404, 719, 403, 705, 416, 706, 429, 710, 442, 716, 442, 716, 722, 716, 722, 701, 710, 690, 696, 690, 695, 690, 694, 690, 693, 690, 693, 689, 694, 689, 695, 688, 705, 678, 705, 662, 695, 651, 685, 641, 668, 641, 658, 651, 658, 652, 657, 653, 656, 654, 656, 653, 656, 652, 656, 651, 656, 637, 645, 625, 630, 625, 616, 625, 605, 637, 605, 651, 605, 652, 605, 653, 605, 654, 604, 654, 604, 653, 603, 652, 593, 642, 576, 642, 566, 652, 556, 662, 556, 679, 566, 689, 567, 690, 568, 690, 569, 691, 568, 691, 567, 691, 566, 691, 552, 691, 540, 702, 540, 717, 540, 731, 552, 743, 566, 743, 567, 743, 568, 743, 569, 742, 569, 743, 568, 744, 567, 744, 557, 754, 557, 771, 567, 781, 577, 791, 594, 791, 604, 781, 605, 780, 605, 779, 606, 778, 606, 779, 606, 780, 606, 781, 606, 795, 617, 807, 632, 807, 646, 807, 657, 795, 657, 781, 657, 780, 657, 779, 657, 778, 658, 779, 658, 779, 659, 780, 669, 790, 686, 790, 696, 780, 706, 770, 706, 754, 696, 743, 695, 743, 694, 742, 693, 741, 694, 741, 695, 741, 696, 741, 710, 741, 722, 730, 722, 716, 631, 762, 605, 762, 585, 742, 585, 716, 585, 691, 605, 670, 631, 670, 657, 670, 677, 691, 677, 716, 677, 742, 657, 762, 631, 762, 958, 602, 957, 570, 951, 547, 940, 532, 925, 541, 905, 565, 887, 591, 886, 591, 886, 546, 892, 545, 897, 540, 897, 533, 897, 527, 891, 521, 884, 521, 877, 521, 872, 527, 872, 533, 872, 540, 876, 545, 882, 546, 882, 591, 882, 591, 870, 564, 860, 536, 848, 525, 833, 541, 820, 565, 808, 592, 807, 592, 807, 546, 813, 545, 817, 540, 817, 533, 817, 527, 812, 521, 805, 521, 798, 521, 792, 527, 792, 533, 792, 540, 797, 545, 802, 546, 802, 590, 784, 567, 766, 545, 755, 534, 729, 588, 731, 639, 766, 684, 787, 711, 814, 726, 847, 725, 919, 724, 960, 659, 958, 602, 958, 602, 783, 671, 772, 653, 777, 645, 789, 648, 812, 656, 830, 682, 840, 711, 821, 704, 797, 692, 783, 671, 836, 634, 840, 614, 850, 612, 856, 622, 867, 644, 861, 676, 848, 703, 840, 684, 831, 659, 836, 634, 836, 634, 919, 659, 911, 682, 885, 701, 856, 711, 863, 692, 875, 668, 896, 654, 913, 642, 922, 647, 919, 659, 919, 659]
            }]
        ]
    }, {
        mN: "1101-1-confetti",
        zi: [
            ["e789ff", {
                Y: "M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
                X: [170, 439, 169, 438, 59, 370, 108, 300, 152, 238, 298, 276, 318, 337, 338, 398, 265, 380, 285, 358, 312, 328, 185, 247, 121, 307, 72, 353, 171, 440, 170, 439, 318, 338, 336, 399, 262, 408, 184, 346, 138, 309, 73, 237, 112, 174, 167, 88, 345, 115, 377, 222, 393, 276, 296, 260, 335, 236, 375, 212, 236, 111, 155, 183, 73, 254, 265, 380, 285, 358, 312, 328, 318, 338, 318, 338, 377, 222, 394, 276, 318, 288, 243, 236, 187, 197, 146, 120, 201, 56, 254, -5, 365, 26, 407, 68, 407, 68, 414, 94, 378, 71, 344, 50, 258, 31, 221, 89, 178, 154, 297, 260, 336, 235, 374, 211, 377, 222, 377, 222, 406, 70, 452, 115, 432, 189, 324, 115, 214, 39, 323, -85, 322, -85, 320, -85, 229, 38, 331, 100, 439, 166, 413, 95, 377, 72, 343, 51, 364, 28, 406, 70, 346, 405, 369, 418, 356, 441, 333, 428, 346, 405, 513, 298, 536, 311, 523, 334, 500, 321, 513, 298, 891, 91, 914, 104, 901, 127, 878, 114, 891, 91, 24, 123, 47, 136, 34, 159, 11, 146, 24, 123, 664, 33, 687, 46, 674, 69, 651, 56, 664, 33, 910, 482, 933, 495, 920, 518, 897, 505, 910, 482]
            }],
            ["666666", {
                Y: "M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
                X: [919, 442, 917, 443, 802, 510, 764, 432, 730, 364, 837, 250, 901, 261, 965, 272, 913, 329, 903, 301, 889, 262, 755, 338, 777, 424, 794, 490, 920, 442, 919, 442, 901, 261, 964, 274, 936, 345, 842, 386, 787, 410, 690, 435, 654, 370, 604, 279, 716, 132, 827, 153, 883, 164, 821, 244, 819, 197, 817, 150, 659, 228, 682, 335, 706, 443, 913, 329, 903, 301, 889, 262, 901, 261, 901, 261, 827, 153, 884, 163, 857, 238, 774, 281, 711, 313, 622, 313, 593, 233, 564, 157, 647, 71, 705, 54, 705, 54, 732, 60, 694, 82, 658, 102, 599, 170, 632, 231, 669, 301, 822, 244, 819, 197, 816, 150, 827, 153, 827, 153, 706, 54, 769, 34, 825, 87, 706, 149, 583, 213, 527, 56, 526, 57, 526, 59, 590, 200, 696, 137, 807, 70, 732, 60, 694, 82, 658, 102, 648, 73, 706, 54, 362, 328, 383, 340, 371, 361, 350, 349, 362, 328, 52, 189, 73, 201, 61, 222, 40, 210, 52, 189, 509, 119, 530, 131, 517, 152, 496, 140, 509, 119, 912, 16, 933, 28, 921, 49, 900, 37, 912, 16, 629, 380, 650, 392, 638, 413, 617, 401, 629, 380, 77, 414, 98, 426, 86, 447, 65, 435, 77, 414, 240, 76, 261, 88, 249, 109, 228, 97, 240, 76]
            }]
        ]
    }, {
        mN: "1101-1-branch",
        zi: [
            ["7f500b", {
                Y: "M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),
                X: [144, -14, 144, -14, 149, -12, 150, -12, 150, -12, 106, 22, 86, 75, 63, 137, 93, 193, 69, 238, 64, 236, 89, 174, 53, 146, 80, 72, 99, 19, 144, -14, 144, -14, 280, -18, 281, -18, 276, -20, 276, -20, 276, -20, 282, 23, 264, 64, 244, 113, 196, 129, 185, 168, 189, 170, 209, 120, 244, 123, 269, 66, 288, 25, 280, -18, 280, -18, 429, -5, 429, -5, 434, -4, 434, -4, 435, -4, 405, 28, 396, 72, 386, 124, 415, 164, 402, 203, 398, 202, 410, 150, 379, 132, 391, 70, 399, 26, 429, -5, 429, -5, 514, -7, 514, -7, 519, -12, 519, -12, 520, -12, 532, 50, 577, 96, 630, 151, 703, 150, 738, 197, 733, 201, 681, 144, 635, 166, 571, 101, 526, 54, 514, -7, 514, -7, 666, -67, 666, -68, 663, -65, 662, -64, 662, -64, 704, -52, 734, -18, 768, 22, 763, 72, 793, 99, 796, 96, 760, 57, 778, 26, 737, -22, 708, -56, 666, -67, 666, -67, 936, -8, 936, -8, 932, -9, 931, -9, 931, -9, 947, 32, 938, 76, 927, 127, 884, 154, 881, 194, 886, 195, 895, 142, 930, 138, 943, 76, 952, 32, 936, -8, 936, -8]
            }],
            ["5c7f0b", {
                Y: "M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),
                X: [119, 6, 121, 16, 113, 31, 81, 33, 58, 34, 27, 27, 27, 27, 27, 27, 53, 5, 70, -1, 93, -9, 117, -4, 119, 6, 124, 8, 132, 1, 151, 12, 165, 33, 179, 54, 180, 87, 180, 87, 180, 87, 153, 75, 139, 60, 122, 41, 115, 14, 124, 8, 78, 74, 82, 83, 76, 97, 48, 103, 27, 108, -2, 105, -2, 105, -2, 105, 19, 81, 33, 74, 53, 64, 75, 65, 78, 74, 83, 75, 90, 68, 108, 76, 124, 93, 139, 110, 144, 140, 144, 140, 144, 140, 117, 132, 104, 121, 85, 105, 76, 83, 83, 75, 72, 152, 75, 159, 72, 172, 48, 179, 30, 185, 6, 185, 6, 185, 6, 185, 22, 163, 33, 156, 49, 145, 68, 145, 72, 152, 76, 153, 81, 146, 98, 151, 112, 165, 126, 178, 133, 203, 133, 203, 133, 203, 110, 199, 97, 190, 80, 178, 70, 160, 76, 153, 73, 206, 75, 213, 71, 224, 49, 228, 34, 232, 12, 230, 12, 230, 12, 230, 28, 212, 39, 206, 53, 199, 70, 200, 73, 206, 76, 207, 81, 202, 95, 207, 107, 220, 118, 233, 122, 255, 122, 255, 122, 255, 102, 250, 92, 241, 78, 230, 71, 213, 76, 207, 70, 232, 78, 236, 76, 252, 66, 269, 56, 286, 33, 297, 33, 297, 33, 297, 33, 274, 39, 260, 46, 241, 62, 228, 70, 232, 285, 3, 278, 8, 274, 21, 291, 39, 304, 52, 325, 63, 325, 63, 325, 63, 323, 36, 316, 24, 308, 7, 291, -2, 285, 3, 281, 1, 280, -7, 263, -10, 244, -5, 224, 1, 205, 20, 205, 20, 205, 20, 228, 27, 244, 25, 264, 22, 283, 10, 281, 1, 270, 65, 264, 69, 259, 80, 272, 99, 281, 112, 299, 125, 299, 125, 299, 125, 300, 100, 296, 88, 290, 72, 277, 61, 270, 65, 267, 64, 267, 56, 252, 51, 234, 53, 216, 56, 197, 71, 197, 71, 197, 71, 216, 80, 230, 80, 249, 80, 267, 72, 267, 64, 231, 116, 225, 119, 220, 128, 230, 145, 237, 157, 251, 170, 251, 170, 251, 170, 254, 148, 251, 138, 248, 123, 237, 113, 231, 116, 228, 114, 229, 108, 217, 102, 201, 103, 186, 103, 168, 115, 168, 115, 168, 115, 184, 124, 196, 126, 212, 127, 228, 121, 228, 114, 201, 148, 196, 151, 192, 160, 202, 174, 209, 184, 222, 194, 222, 194, 222, 194, 223, 175, 220, 166, 216, 154, 206, 145, 201, 148, 198, 147, 198, 141, 187, 137, 174, 139, 160, 141, 145, 152, 145, 152, 145, 152, 160, 159, 171, 159, 185, 160, 198, 153, 198, 147, 188, 165, 182, 163, 173, 174, 170, 190, 167, 205, 173, 224, 173, 224, 173, 224, 186, 210, 191, 198, 197, 183, 195, 166, 188, 165, 415, 10, 417, 18, 413, 31, 389, 36, 371, 39, 347, 37, 347, 37, 347, 37, 364, 16, 377, 9, 393, 0, 412, 2, 415, 10, 418, 11, 424, 4, 440, 11, 453, 27, 466, 43, 470, 69, 470, 69, 470, 69, 448, 62, 436, 52, 420, 38, 412, 17, 418, 11, 391, 69, 394, 76, 392, 89, 371, 96, 355, 102, 333, 103, 333, 103, 333, 103, 346, 81, 357, 74, 371, 64, 388, 63, 391, 69, 395, 70, 399, 63, 414, 68, 428, 80, 441, 92, 448, 116, 448, 116, 448, 116, 427, 113, 415, 105, 400, 94, 390, 77, 395, 70, 395, 133, 398, 139, 397, 150, 379, 158, 367, 164, 348, 167, 348, 167, 348, 167, 358, 148, 366, 140, 377, 130, 391, 128, 395, 133, 398, 134, 401, 128, 414, 130, 427, 140, 439, 149, 447, 169, 447, 169, 447, 169, 429, 167, 418, 162, 404, 154, 394, 140, 398, 134, 401, 177, 404, 182, 402, 192, 386, 198, 374, 202, 358, 203, 358, 203, 358, 203, 368, 187, 375, 181, 386, 173, 399, 172, 401, 177, 404, 178, 408, 173, 419, 176, 429, 185, 439, 194, 445, 212, 445, 212, 445, 212, 429, 210, 420, 204, 408, 196, 401, 183, 404, 178, 402, 198, 408, 201, 409, 214, 403, 229, 397, 244, 381, 255, 381, 255, 381, 255, 378, 236, 381, 224, 385, 208, 396, 196, 402, 198, 519, 23, 531, 26, 543, 42, 528, 75, 518, 99, 495, 125, 495, 125, 495, 125, 485, 87, 487, 67, 490, 40, 508, 19, 519, 23, 523, 19, 521, 7, 542, -6, 571, -8, 600, -10, 636, 6, 636, 6, 636, 6, 609, 27, 586, 32, 557, 39, 526, 32, 523, 19, 570, 100, 581, 102, 594, 115, 585, 147, 579, 170, 562, 197, 562, 197, 562, 197, 548, 163, 547, 145, 547, 120, 560, 98, 570, 100, 574, 97, 570, 86, 587, 72, 613, 66, 639, 60, 673, 71, 673, 71, 673, 71, 652, 93, 632, 101, 607, 110, 578, 107, 574, 97, 649, 149, 659, 150, 670, 160, 666, 188, 662, 208, 650, 232, 650, 232, 650, 232, 635, 205, 633, 189, 631, 168, 640, 149, 649, 149, 652, 146, 648, 137, 662, 123, 683, 116, 705, 109, 734, 116, 734, 116, 734, 116, 718, 137, 702, 145, 681, 155, 657, 155, 652, 146, 707, 178, 715, 179, 724, 189, 718, 213, 714, 230, 701, 250, 701, 250, 701, 250, 690, 225, 690, 211, 689, 193, 699, 177, 707, 178, 710, 175, 707, 167, 720, 156, 739, 151, 759, 147, 784, 155, 784, 155, 784, 155, 768, 172, 753, 177, 734, 185, 713, 183, 710, 175, 732, 194, 740, 189, 757, 199, 770, 218, 782, 237, 783, 266, 783, 266, 783, 266, 758, 254, 746, 240, 730, 223, 724, 199, 732, 194, 687, -62, 688, -54, 699, -45, 722, -53, 739, -59, 759, -73, 759, -73, 759, -73, 733, -82, 719, -82, 701, -81, 685, -71, 687, -62, 684, -60, 676, -62, 666, -48, 662, -28, 659, -9, 669, 17, 669, 17, 669, 17, 684, -1, 689, -16, 696, -35, 692, -57, 684, -60, 737, -23, 738, -15, 746, -5, 768, -9, 784, -12, 804, -23, 804, -23, 804, -23, 782, -34, 769, -36, 752, -38, 736, -30, 737, -23, 734, -20, 727, -24, 716, -13, 711, 5, 705, 22, 711, 46, 711, 46, 711, 46, 727, 33, 734, 20, 742, 3, 742, -17, 734, -20, 766, 35, 766, 41, 772, 50, 792, 48, 806, 47, 823, 40, 823, 40, 823, 40, 805, 28, 795, 26, 780, 23, 766, 28, 766, 35, 763, 37, 758, 33, 747, 42, 741, 56, 735, 70, 738, 91, 738, 91, 738, 91, 753, 81, 760, 71, 768, 57, 769, 40, 763, 37, 782, 76, 783, 82, 789, 89, 806, 86, 818, 84, 832, 76, 832, 76, 832, 76, 816, 67, 806, 66, 794, 65, 782, 70, 782, 76, 780, 78, 775, 75, 766, 84, 762, 97, 758, 110, 762, 128, 762, 128, 762, 128, 775, 118, 779, 108, 786, 95, 785, 80, 780, 78, 792, 94, 788, 100, 794, 112, 807, 122, 819, 131, 839, 133, 839, 133, 839, 133, 832, 116, 823, 107, 812, 95, 796, 89, 792, 94, 945, 11, 939, 18, 938, 31, 959, 45, 974, 55, 997, 62, 997, 62, 997, 62, 989, 36, 980, 25, 968, 11, 950, 5, 945, 11, 941, 11, 938, 3, 921, 3, 903, 13, 885, 22, 871, 45, 871, 45, 871, 45, 894, 47, 909, 42, 929, 35, 944, 19, 941, 11, 944, 75, 938, 80, 935, 93, 952, 108, 964, 119, 984, 128, 984, 128, 984, 128, 980, 104, 974, 93, 965, 78, 949, 70, 944, 75, 940, 75, 938, 67, 923, 65, 906, 71, 889, 77, 873, 96, 873, 96, 873, 96, 894, 101, 908, 99, 926, 95, 942, 82, 940, 75, 916, 133, 911, 137, 907, 147, 920, 162, 930, 172, 946, 182, 946, 182, 946, 182, 944, 160, 940, 151, 933, 137, 921, 129, 916, 133, 913, 132, 912, 125, 899, 123, 884, 127, 869, 130, 854, 145, 854, 145, 854, 145, 871, 151, 883, 150, 899, 148, 913, 139, 913, 132, 893, 171, 888, 175, 887, 184, 899, 196, 908, 204, 923, 211, 923, 211, 923, 211, 920, 193, 915, 184, 909, 173, 897, 167, 893, 171, 890, 170, 889, 165, 877, 163, 864, 168, 851, 172, 839, 187, 839, 187, 839, 187, 855, 190, 865, 188, 879, 186, 891, 176, 890, 170, 884, 190, 877, 190, 871, 202, 871, 218, 871, 234, 881, 251, 881, 251, 881, 251, 891, 234, 893, 222, 896, 206, 890, 190, 884, 190]
            }]
        ]
    }, {
        mN: "1101-1-sticks",
        zi: [
            ["ec7272", {
                Y: "M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
                X: [260, 148, 297, 180, 286, 192, 249, 160, 260, 148, 114, 31, 161, 47, 155, 63, 109, 47, 114, 31, 931, 91, 902, 52, 915, 42, 945, 81, 931, 91, 711, 19, 746, -15, 758, -3, 723, 31, 711, 19, 812, 161, 782, 122, 795, 112, 825, 151, 812, 161, 389, 34, 424, 0, 436, 12, 401, 46, 389, 34, 431, 209, 465, 175, 477, 186, 442, 221, 431, 209, 282, 90, 282, 41, 299, 41, 299, 90, 282, 90, 58, 233, 29, 194, 42, 184, 72, 223, 58, 233, 574, 58, 621, 74, 615, 90, 569, 74, 574, 58]
            }],
            ["0000ff", {
                Y: "M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),
                X: [722, 208, 733, 161, 717, 157, 706, 205, 722, 208, 843, 12, 797, 28, 802, 44, 849, 28, 843, 12, 31, 74, 60, 35, 47, 25, 18, 64, 31, 74, 220, 21, 185, -13, 173, -1, 208, 33, 220, 21, 140, 166, 170, 127, 157, 117, 127, 156, 140, 166, 558, 148, 523, 114, 511, 126, 546, 160, 558, 148, 562, 9, 516, 25, 521, 41, 568, 25, 562, 9, 697, 105, 726, 66, 713, 56, 684, 95, 697, 105, 961, 180, 990, 141, 977, 131, 948, 170, 961, 180, 399, 97, 353, 113, 358, 129, 405, 113, 399, 97]
            }]
        ]
    }, {
        mN: "1101-1-dots",
        zi: [
            ["ec7272", {
                Y: "M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),
                X: [154, 47, 144, 47, 136, 39, 136, 29, 136, 19, 144, 11, 154, 11, 164, 11, 172, 19, 172, 29, 172, 39, 164, 47, 154, 47, 272, 164, 262, 164, 254, 156, 254, 146, 254, 136, 262, 128, 272, 128, 282, 128, 290, 136, 290, 146, 290, 156, 282, 164, 272, 164, 529, 48, 519, 48, 511, 40, 511, 30, 511, 20, 519, 12, 529, 12, 539, 12, 547, 20, 547, 30, 547, 40, 539, 48, 529, 48, 696, 101, 686, 101, 678, 93, 678, 83, 678, 73, 686, 65, 696, 65, 706, 65, 714, 73, 714, 83, 714, 93, 706, 101, 696, 101, 929, 91, 919, 91, 911, 83, 911, 73, 911, 63, 919, 55, 929, 55, 939, 55, 947, 63, 947, 73, 947, 83, 939, 91, 929, 91]
            }],
            ["0000ff", {
                Y: "M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),
                X: [66, 122, 56, 122, 48, 114, 48, 104, 48, 94, 56, 86, 66, 86, 76, 86, 84, 94, 84, 104, 84, 114, 76, 122, 66, 122, 309, 55, 299, 55, 291, 47, 291, 37, 291, 27, 299, 19, 309, 19, 319, 19, 327, 27, 327, 37, 327, 47, 319, 55, 309, 55, 785, 180, 775, 180, 767, 172, 767, 162, 767, 152, 775, 144, 785, 144, 795, 144, 803, 152, 803, 162, 803, 172, 795, 180, 785, 180, 459, 147, 449, 147, 441, 139, 441, 129, 441, 119, 449, 111, 459, 111, 469, 111, 477, 119, 477, 129, 477, 139, 469, 147, 459, 147, 811, 48, 801, 48, 793, 40, 793, 30, 793, 20, 801, 12, 811, 12, 821, 12, 829, 20, 829, 30, 829, 40, 821, 48, 811, 48]
            }],
            ["88a500", {
                Y: ["M", "C", "C", "Z"],
                X: [389, 224, 389, 224, 410, 230, 410, 230, 410, 230, 389, 224, 389, 224]
            }]
        ]
    }, {
        mN: "1101-1-strips",
        zi: [
            ["ffc88c", {
                Y: "M L L L L Z M L L L L Z M L L L L Z".split(" "),
                X: [-40, 0, 44, 0, 137, 99, 53, 99, -40, 0, 296, 0, 380, 0, 473, 99, 389, 99, 296, 0, 632, 0, 716, 0, 809, 99, 725, 99, 632, 0]
            }],
            ["88a500", {
                Y: "M L L L L Z M L L L L Z M L L L L Z".split(" "),
                X: [128, 0, 212, 0, 305, 99, 221, 99, 128, 0, 464, 0, 548, 0, 641, 99, 557, 99, 464, 0, 800, 0, 884, 0, 977, 99, 893, 99, 800, 0]
            }],
            ["88a500", {
                Y: ["M", "C", "C", "Z"],
                X: [407, 217, 407, 217, 428, 223, 428, 223, 428, 223, 407, 217, 407, 217]
            }]
        ]
    }, {
        mN: "1101-1-circs",
        zi: [
            ["ec7272", {
                Y: "M C C C C Z M C C C C Z".split(" "),
                X: [61, 209, 27, 209, 0, 181, 0, 147, 0, 113, 27, 86, 61, 86, 96, 86, 123, 113, 123, 147, 123, 181, 96, 209, 61, 209, 551, 209, 517, 209, 489, 181, 489, 147, 489, 113, 517, 86, 551, 86, 585, 86, 612, 113, 612, 147, 612, 181, 585, 209, 551, 209]
            }],
            ["217995", {
                Y: "M C C C C Z M C C C C Z".split(" "),
                X: [303, 209, 269, 209, 241, 181, 241, 147, 241, 113, 269, 86, 303, 86, 337, 86, 364, 113, 364, 147, 364, 181, 337, 209, 303, 209, 799, 209, 765, 209, 738, 181, 738, 147, 738, 113, 765, 86, 799, 86, 834, 86, 861, 113, 861, 147, 861, 181, 834, 209, 799, 209]
            }],
            ["88a500", {
                Y: ["M", "C", "C", "Z"],
                X: [530, 273, 530, 273, 551, 279, 551, 279, 551, 279, 530, 273, 530, 273]
            }]
        ]
    }, {
        mN: "1101-1-squares",
        zi: [
            ["014ea7", {
                Y: "M L L L L Z M L L L L Z".split(" "),
                X: [0, 120, 124, 120, 124, 244, 0, 244, 0, 120, 497, 120, 621, 120, 621, 244, 497, 244, 497, 120]
            }],
            ["fc54ff", {
                Y: "M L L L L Z M L L L L Z".split(" "),
                X: [249, 120, 373, 120, 373, 244, 249, 244, 249, 120, 746, 120, 870, 120, 870, 244, 746, 244, 746, 120]
            }],
            ["88a500", {
                Y: ["M", "C", "C", "Z"],
                X: [389, 354, 389, 354, 410, 360, 410, 360, 410, 360, 389, 354, 389, 354]
            }]
        ]
    }, {
        mN: "1101-0-christmas",
        zi: [
            ["014ea7", {
                Y: "M C C C C Z M C C C C Z M L L L L Z".split(" "),
                X: [255, 480, 178, 480, 116, 418, 116, 341, 116, 264, 178, 202, 255, 202, 332, 202, 394, 264, 394, 341, 394, 418, 332, 480, 255, 480, 255, 232, 236, 232, 221, 217, 221, 198, 221, 179, 236, 164, 255, 164, 274, 164, 289, 179, 289, 198, 289, 217, 274, 232, 255, 232, 251, -152, 260, -152, 260, 248, 251, 248, 251, -152]
            }],
            ["ff9518", {
                Y: "M C C C C Z M C C C C Z M L L L L Z".split(" "),
                X: [746, 623, 669, 623, 607, 561, 607, 484, 607, 407, 669, 345, 746, 345, 823, 345, 885, 407, 885, 484, 885, 561, 823, 623, 746, 623, 747, 376, 728, 376, 713, 361, 713, 342, 713, 323, 728, 308, 747, 308, 766, 308, 781, 323, 781, 342, 781, 361, 766, 376, 747, 376, 742, -8, 751, -8, 751, 392, 742, 392, 742, -8]
            }]
        ]
    }];
    var b8 = {};
    b8.parse = function(w) {
        var o = new Uint8Array(w),
            Q = null;
        if (o[0] == 80 && o[1] == 75) {
            var K = Date.now(),
                b = UZIP.parse(o.buffer),
                Q = b["document.json"];
            Q = JSON.parse(W.K1(Q, 0, Q.length));
            b8.Y_(Q, b)
        } else {
            var R = e$.parse(w);
            Q = b8.mX(R[2][0][1])
        }
        return Q
    };
    b8.Y_ = function(w, o) {
        var Q = typeof w;
        if (Q == "string" || Q == "number" || Q == "boolean") return w;
        if (w instanceof Array) {
            for (var M = 0; M < w.length; M++) w[M] = b8.Y_(w[M], o);
            return w
        }
        var K = w._class;
        if (K == null) return w;
        if (K == "MSJSONFileReference") {
            var b = w._ref;
            if (!1) {} else if (o[b + ".json"] != null) {
                var R = o[b + ".json"],
                    X = R.length;
                for (var M = 0; M < X; M++)
                    if (R[M] == 11 || R[M] == 3) R[M] = 32;
                var h = W.K1(R, 0, X);
                w = JSON.parse(h)
            } else if (o[b + ".png"] != null) return {
                key: b.split("/").pop(),
                bdata: o[b + ".png"]
            };
            else if (o[b + ".jpg"] != null) return {
                key: b.split("/").pop(),
                bdata: o[b + ".jpg"]
            };
            else if (o[b + ".pdf"] != null) return {
                key: b.split("/").pop(),
                bdata: o[b + ".pdf"]
            };
            else if (o[b] != null) return {
                key: b.split("/").pop(),
                bdata: o[b]
            };
            else {
                console.log(w, o);
                return
            }
        } else if (K == "MSAttributedString") {
            var h = atob(w.archivedAttributedString._archive),
                e = h.length - 1,
                Z = new Uint8Array(e);
            for (var M = 0; M < e; M++) Z[M] = h.charCodeAt(M);
            w.archivedAttributedString = b8.mX(Z)
        }
        for (var P in w) w[P] = b8.Y_(w[P], o);
        return w
    };
    b8.Is = function(w, o, Q, K) {
        if (w instanceof Uint8Array) return null;
        if (K.indexOf(w) != -1) return null;
        K.push(w);
        if (w == o) return Q;
        for (var b in w) {
            Q.push(b);
            var R = b8.Is(w[b], o, Q, K);
            if (R) {
                console.log(w, R);
                throw "e"
            }
            Q.pop()
        }
    };
    b8.mX = function(w) {
        var o = ci.parse(w, 0),
            Q = o.$objects,
            K = new Uint8Array(Q.length),
            b = b8._T(Q, K, o.$top.root);
        for (var M = 0; M < Q.length; M++)
            if (K[M] == 0 && M != 0) {
                console.log(M, Q[M]);
                b8.Is(b, M, [], [])
            } for (var M = 0; M < Q.length; M++) {
            var R = Q[M];
            if (R._class && (R._class == "bitmap" || R._class == "fill" && R.fillType == 4 && (R.image || R.imageSHA))) {
                var X = R.image,
                    h = R.imageSHA,
                    e = null,
                    Z = null;
                if (X == "$null") X = null;
                if (h == "$null") h = null;
                if (X && X.data) {
                    Z = X.sha1["NS.bytes"];
                    Z = btoa(W.Ui(Z, 0, Z.length));
                    e = X.data instanceof Uint8Array ? X.data : X.data["NS.bytes"]
                } else if (X == null && h == null) {
                    var P = ip.pR("PNG").nl([
                        [v.$(4).buffer]
                    ], 1, 1);
                    e = new Uint8Array(P)
                } else {
                    var J = (b.assets ? b.assets.imageCollection : b.images).images;
                    if (h) Z = h instanceof Uint8Array ? h : h["NS.bytes"];
                    else Z = X.sha1["NS.bytes"];
                    Z = btoa(W.Ui(Z, 0, Z.length));
                    var e = J[Z].data;
                    if (e["NS.bytes"]) e = e["NS.bytes"]
                }
                e = new Uint8Array(e.buffer.slice(e.byteOffset, e.byteOffset + e.length));
                delete R.imageSHA;
                R.image = {
                    key: Z,
                    bdata: e
                }
            }
        }
        return b
    };
    b8.ae9 = function(w) {
        return w.slice(0, 11) == "MSImmutable" ? "MS" + w.slice(11) : w
    };
    b8._T = function(w, o, Q) {
        var K = w[Q];
        if (o[Q] == 1) {
            return K
        }
        o[Q] = 1;
        if (typeof K == "string") return K;
        if (typeof K == "number") return K;
        if (typeof K == "boolean") return K;
        if (K instanceof Array) return K;
        if (K instanceof Uint8Array) {
            return K
        }
        if (w[K.$class] == null) {
            if (K.$class == null && K["NS.data"] != null) return K;
            console.log(Q, K);
            throw "e"
        }
        var b = w[K.$class],
            R = b8.ae9(b.$classname);
        o[K.$class] = 1;
        K.$class = R;
        if (b8.cA[R]) {
            delete K.$class;
            K._class = b8.cA[R]
        }
        var X = b8._T;
        if (R == "NSMutableArray" || R == "NSArray") {
            var h = [];
            if (K["NS.objects"] != null)
                for (var M = 0; M < K["NS.objects"].length; M++) h.push(X(w, o, K["NS.objects"][M]));
            else
                for (var M = 0; K["NS.object." + M] != null; M++) h.push(X(w, o, K["NS.object." + M]));
            w[Q] = h;
            return h
        }
        if (R == "NSDictionary" || R == "NSMutableDictionary") {
            var e = {
                $class: R
            };
            if (K["NS.keys"] != null)
                for (var M = 0; M < K["NS.keys"].length; M++) {
                    var Z = X(w, o, K["NS.keys"][M]);
                    if (Z instanceof Uint8Array) Z = btoa(b8.t9.Ui(Z, 0, Z.length));
                    else if (typeof Z != "string" && typeof Z != "number") Z = btoa(b8.t9.Ui(Z["NS.bytes"], 0, Z["NS.bytes"].length));
                    e[Z] = X(w, o, K["NS.objects"][M])
                } else
                    for (var M = 0; K["NS.key." + M] != null; M++) {
                        var Z = X(w, o, K["NS.key." + M]);
                        if (Z instanceof Uint8Array) Z = btoa(b8.t9.Ui(Z, 0, Z.length));
                        else if (typeof Z != "string" && typeof Z != "number") Z = btoa(b8.t9.Ui(Z["NS.bytes"], 0, Z["NS.bytes"].length));
                        e[Z] = X(w, o, K["NS.object." + M])
                    }
            for (var P in K) delete K[P];
            for (var P in e) K[P] = e[P];
            return K
        }
        if (R == "NSURL") return {
            $class: R,
            base: X(w, o, K["NS.base"]),
            relative: X(w, o, K["NS.relative"])
        };
        if (b8.adr.indexOf(R) != -1) {
            w[Q] = X(w, o, K.array_do);
            return w[Q]
        }
        if (K.do_objectID != null) K.do_objectID = X(w, o, K.do_objectID);
        if (b8.ae_.indexOf(R) != -1) return K;
        var J = b8.amT[R];
        if (J == null) {
            console.log(w, K);
            throw "unknown class " + R
        }
        for (var M = 0; M < J.length; M++)
            if (K[J[M]] != null) K[J[M]] = X(w, o, K[J[M]]);
        if (R == "MSTextLayer") {
            var i = K,
                k, $, n, j;
            if (i.attributedString) k = i.attributedString.archivedAttributedString;
            else k = i.storage;
            j = k.NSString;
            if (typeof j != "string") j = W.K1(j["NS.bytes"], 0, j["NS.bytes"].length);
            if (k.NSAttributeInfo) $ = k.NSAttributeInfo["NS.bytes"];
            else {
                var y = j.length,
                    V = [];
                while (y > 0) {
                    var O = Math.min(100, y);
                    V.push(O, 0);
                    y -= O
                }
                $ = new Uint8Array(V)
            }
            n = k.NSAttributes instanceof Array ? k.NSAttributes : [k.NSAttributes];
            var S = {
                $class: "NSAttributedString",
                NSString: j,
                NSAttributes: n
            };
            i.attributedString = {
                _class: "MSAttributedString",
                archivedAttributedString: S
            };
            S.NSAttributeInfo = {
                $class: "NSMutableData",
                "NS.data": $
            };
            delete i.storage
        }
        return K
    };
    b8.t9 = {
        r9: function(w, o) {
            return w[o + 1] << 8 | w[o]
        },
        g: function(w, o) {
            return w[o + 3] << 24 | w[o + 2] << 16 | w[o + 1] << 8 | w[o]
        },
        Ui: function(w, o, Q) {
            var K = "";
            for (var M = 0; M < Q; M++) K += String.fromCharCode(w[o + M]);
            return K
        }
    };
    b8.cA = {
        MSPage: "page",
        MSArtboardGroup: "artboard",
        MSShapeGroup: "shapeGroup",
        MSLayerGroup: "group",
        MSBitmapLayer: "bitmap",
        MSTextLayer: "text",
        MSSliceLayer: "slice",
        MSSymbolMaster: "symbolMaster",
        MSSymbolInstance: "symbolInstance",
        MSStyleFill: "fill",
        MSShapePathLayer: "shapePath",
        MSRectangleShape: "rectangle",
        MSOvalShape: "oval",
        MSTriangleShape: "triangle"
    };
    b8.adr = ["MSArray", "MSFillStyleCollection", "MSBorderStyleCollection", "MSShadowStyleCollection", "MSInnerShadowStyleCollection"];
    b8.ae_ = "MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
    b8.amT = {
        MSAssetCollection: ["gradients", "colors", "imageCollection", "images"],
        MSImageCollection: ["images"],
        MSSharedStyleContainer: ["objects"],
        MSSharedTextStyleContainer: ["objects"],
        MSSharedLayerStyleContainer: ["objects"],
        MSSharedLayerTextStyleContainer: ["objects"],
        MSSharedLayerContainer: ["objects"],
        MSSymbolContainer: ["objects"],
        MSGradient: ["stops", "from", "to", "points"],
        MSGradientStop: ["color"],
        MSStyleFill: ["color", "gradient", "contextSettings", "image", "imageSHA"],
        MSExportFormat: ["fileFormat", "name"],
        MSExportOptions: ["exportFormats", "includedLayerIds", "sizes"],
        MSRulerData: ["guides"],
        MSStyle: "textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),
        MSSharedStyle: ["name", "value"],
        MSSymbol: ["name", "value"],
        MSAttributedString: ["archivedAttributedString"],
        MSSharedLayerStyle: ["name", "value", "instances"],
        MSSharedLayer: ["name", "value", "instances"],
        MSDocumentData: "assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),
        MSShapePathLayer: "exportOptions frame name userInfo path originalObjectID".split(" "),
        MSOvalShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
        MSRectangleShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
        MSPolygonShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
        MSTriangleShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
        MSStarShape: "exportOptions frame name userInfo path originalObjectID".split(" "),
        MSBitmapLayer: "exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),
        MSTextLayer: "exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),
        MSShapeGroup: "exportOptions frame name userInfo style originalObjectID layers".split(" "),
        MSLayerGroup: "exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),
        MSArtboardGroup: "exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),
        MSPage: "exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),
        MSSymbolMaster: "exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),
        MSSymbolInstance: "exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),
        MSSliceLayer: ["exportOptions", "frame", "name", "userInfo", "backgroundColor"],
        MSTextStyle: ["attributes", "encodedAttributes"],
        MSShapePath: ["points"],
        MSPointArray: ["points"],
        MSImageData: ["data", "sha1", "name"],
        MSCurvePoint: ["curveFrom", "curveTo", "point"],
        MSImageProxy: ["sha1"],
        MSStyleBorder: ["color", "gradient", "contextSettings"],
        MSStyleBlur: ["center"],
        MSStyleShadow: ["color", "contextSettings"],
        MSStyleInnerShadow: ["color", "contextSettings"],
        MSExportSize: ["format", "name"],
        MSStyleBorderOptions: ["dashPattern"],
        NSFont: ["NSName", "NSDescriptor"],
        NSColor: ["NSCustomColorSpace"],
        NSFontDescriptor: ["NSFontDescriptorAttributes"],
        NSMutableParagraphStyle: ["NSTextBlocks", "NSTabStops", "NSTextLists"],
        NSAttributedString: ["NSAttributes", "NSString", "NSAttributeInfo"],
        NSTextStorage: ["NSAttributeInfo", "NSAttributes", "NSString"],
        NSColorSpace: ["NSICC"],
        NSParagraphStyle: ["NSTabStops", "NSTextBlocks", "NSTextLists"],
        NSTextList: ["NSMarkerFormat"],
        NSTextTab: ["NSTabOptions"],
        UIFontDescriptor: ["UIFontDescriptorAttributes"]
    };
    var ci = {};
    ci.parse = function(w, o) {
        var Q = W.Ui(w, o, 8);
        o += 8;
        var K = ci.parse.a7V(w, w.length - 31),
            b = [];
        if (K.bV == 1) {
            var o = w.length - 31 - K.bV * K.$_;
            for (var M = 0; M < K.$_; M++) b.push(w[o + M])
        } else if (K.bV == 2) {
            var o = w.length - 31 - K.bV * K.$_;
            for (var M = 0; M < K.$_; M++) b.push(W.r9(w, o + M * 2))
        } else if (K.bV == 4) {
            var o = w.length - 31 - K.bV * K.$_;
            for (var M = 0; M < K.$_; M++) b.push(W.g(w, o + M * 4))
        } else {
            throw "e"
        }
        var R = ci.parse._T(w, b, K.root, K);
        return R
    };
    ci.parse._T = function(w, o, Q, K) {
        var b = ci.t9,
            R = K.a2p,
            X = R == 4 ? b.g : R == 2 ? b.r9 : b.a6X,
            h = ci.parse,
            e = o[Q],
            Z = w[e],
            P = Z >> 4,
            J = Z & 15,
            k = null;
        e += 1;
        if ([4, 5, 6, 10, 12, 13].indexOf(P) != -1 && J == 15) {
            var i = h.Cd(w, e);
            e += i.r2;
            J = i.F
        }
        if (!1) {} else if (P == 0) k = J == 8 ? !1 : J == 9 ? !0 : null;
        else if (P == 1) k = h.Cd(w, e - 1).F;
        else if (P == 2) k = 1 << J == 4 ? W.If(w, e) : W.Wg(w, e);
        else if (P == 3) k = W.Wg(w, e);
        else if (P == 4) k = new Uint8Array(w.buffer, e, J);
        else if (P == 5) k = W.Ui(w, e, J);
        else if (P == 6) k = W.R4(w, e, J);
        else if (P == 8) {
            k = 0;
            for (var M = 0; M < J + 1; M++) k = k << 8 | w[e + M]
        } else if (P == 10) {
            k = [];
            for (var M = 0; M < J; M++) k.push(h._T(w, o, X(w, e + R * M), K))
        } else if (P == 12) {
            k = [];
            for (var M = 0; M < J; M++) k.push(h._T(w, o, X(w, e + R * M), K))
        } else if (P == 13) {
            k = {};
            for (var M = 0; M < J; M++) {
                var $ = h._T(w, o, X(w, e + R * M), K),
                    n = h._T(w, o, X(w, e + R * (J + M)), K);
                k[$] = n
            }
        } else throw "unknown mask " + P;
        return k
    };
    ci.parse.Cd = function(w, o) {
        var Q = 1 << (w[o] & 15),
            K = 0;
        for (var M = 0; M < Q; M++) K = K << 8 | w[o + 1 + M];
        return {
            F: K,
            r2: Q + 1
        }
    };
    ci.parse.a7V = function(w, o) {
        var Q = {};
        o += 6;
        Q.bV = w[o];
        o++;
        Q.a2p = w[o];
        o++;
        o += 4;
        Q.$_ = W.g(w, o);
        o += 4;
        o += 4;
        Q.root = W.g(w, o);
        o += 4;
        o += 4;
        Q.ad7 = W.g(w, o);
        o += 4;
        return Q
    };
    ci.t9 = {
        a6X: function(w, o) {
            return w[o]
        },
        r9: function(w, o) {
            return w[o] << 8 | w[o + 1]
        },
        g: function(w, o) {
            return w[o] << 24 | w[o + 1] << 16 | w[o + 2] << 8 | w[o + 3]
        },
        Ui: function(w, o, Q) {
            var K = "";
            for (var M = 0; M < Q; M++) K += String.fromCharCode(w[o + M]);
            return K
        }
    };
    var e$ = {
        parse: function(w) {
            var o = new Uint8Array(w),
                Q = e$.mW(o),
                K = [],
                b = new Uint8Array(o.length),
                R = [];
            K.push(R);
            e$.Tf(o, Q, 1, b, R);
            for (var M = 0; M < R.length; M++) {
                var X = [];
                K.push(X);
                e$.Tf(o, Q, R[M][3], b, X);
                R[M][3] = M + 1
            }
            return K
        },
        Tf: function(w, o, Q, K, b) {
            Q--;
            var R = Q * o.Tr + (Q == 0 ? 100 : 0),
                X = w[R],
                h = e$.r9(w, R + 1);
            if (h != 0) throw "free block in a page";
            var e = e$.r9(w, R + 3),
                Z = e$.r9(w, R + 5);
            if (Z == 0) Z = 65536;
            var P = w[R + 7],
                J = e$.r9(w, R + 8);
            if (X == 2 || X == 5) R += 4;
            else J = 0;
            for (var i = 0; i < e; i++) {
                var k = Q * o.Tr + e$.r9(w, R + 8 + 2 * i),
                    $ = -1,
                    n = 0,
                    j = 0,
                    y = 0;
                if (X == 2 || X == 5) {
                    $ = e$.g(w, k);
                    k += 4
                }
                if (X == 2 || X == 10 || X == 13) {
                    n = e$.Id(w, k);
                    k += n.r2
                }
                if (X == 5 || X == 13) {
                    j = e$.Id(w, k);
                    k += j.r2
                }
                if (X == 5) {
                    e$.Tf(w, o, $, K, b);
                    continue
                }
                var V = o.Tr - (Q == 0 ? 100 : 0),
                    O = n.O_,
                    S = X == 13 ? V - 35 : Math.floor((V - 12) * 64 / 255) - 23,
                    G = Math.floor((V - 12) * 32 / 255) - 23,
                    D = G + (O - G) % (V - 4);
                if (O <= S) {
                    e$.gb(w, k, K, 0, O)
                } else {
                    var q = D <= S ? D : G,
                        T = 0;
                    e$.gb(w, k, K, 0, q);
                    T += q;
                    y = e$.g(w, k + q);
                    while (y != 0) {
                        var L = (y - 1) * o.Tr;
                        y = e$.g(w, L);
                        var N = Math.min(o.Tr - 4, O - T);
                        e$.gb(w, L + 4, K, T, N);
                        T += N
                    }
                }
                b.push(e$.ahR(K, O))
            }
        },
        ahR: function(w, o) {
            var Q = 0,
                K = e$.Id(w, Q);
            Q += K.r2;
            var b = [],
                R = [];
            while (Q < K.O_) {
                var X = e$.Id(w, Q);
                Q += X.r2;
                b.push(X.O_)
            }
            if (Q != K.O_) throw "e";
            for (var M = 0; M < b.length; M++) {
                var X = b[M];
                if (!1) {} else if (X == 0) R.push(null);
                else if (X == 1) {
                    R.push(e$.ajQ(w, Q));
                    Q += 1
                } else if (X == 2) {
                    R.push(e$.m2(w, Q));
                    Q += 2
                } else if (X == 3) {
                    R.push(e$.ahM(w, Q));
                    Q += 3
                } else if (X == 4) {
                    R.push(e$.Cd(w, Q));
                    Q += 4
                } else if (X == 7) {
                    R.push(e$.adB(w, Q));
                    Q += 16
                } else if (X == 8) R.push(0);
                else if (X == 9) R.push(1);
                else if (X >= 12 && (X & 1) == 0) {
                    var h = X - 13 >> 1,
                        e = new Uint8Array(h);
                    e$.gb(w, Q, e, 0, h);
                    R.push(e);
                    Q += h
                } else if (X >= 13 && (X & 1) == 1) {
                    var h = X - 12 >> 1;
                    R.push(e$.K1(w, Q, h));
                    Q += h
                } else throw "unknonw type " + X
            }
            return R
        },
        mW: function(w) {
            if (!(w[18] == 1 && w[19] == 1 && w[20] == 0 && w[21] == 64 && w[22] == 32 && w[23] == 32)) throw "unexpected SQL3 header";
            var o = {
                zb: e$.Ui(w, 0, 15),
                Tr: e$.r9(w, 16),
                a76: e$.g(w, 24),
                size: e$.g(w, 28),
                aeh: e$.g(w, 32),
                adW: e$.g(w, 36),
                aaa: e$.g(w, 40),
                a3y: e$.g(w, 44),
                a0B: e$.g(w, 48),
                a8X: e$.g(w, 52),
                alU: e$.g(w, 56),
                a95: e$.g(w, 60),
                akn: e$.g(w, 64) != 0,
                a4G: e$.g(w, 68),
                a53: e$.g(w, 92),
                ale: e$.g(w, 96)
            };
            if (o.Tr == 1) o.Tr = 65536;
            if (o.alU != 1) throw "unsupported text encoding " + o.alU;
            return o
        },
        akW: function(w, o) {
            return w[o] << 16 | w[o + 1] << 8 | w[o + 2]
        },
        ahM: function(w, o) {
            var Q = e$.akW(w, o),
                K = Q & 8388608;
            return K ? -(16777215 - Q + 1) : Q
        },
        ajQ: function(w, o) {
            e$.jX[0] = w[o];
            return e$.ah6[0]
        },
        Cd: function(w, o) {
            var Q = e$.jX;
            for (var M = 0; M < 4; M++) Q[M] = w[o + 3 - M];
            return e$.a1x[0]
        },
        m2: function(w, o) {
            var Q = e$.jX;
            Q[0] = w[o + 1];
            Q[1] = w[o];
            return e$.alI[0]
        },
        r9: function(w, o) {
            return w[o] << 8 | w[o + 1]
        },
        g: function(w, o) {
            return w[o] << 24 | w[o + 1] << 16 | w[o + 2] << 8 | w[o + 3]
        },
        adB: function(w, o) {
            var Q = e$.jX;
            for (var M = 0; M < 8; M++) Q[M] = w[o + 7 - M];
            return e$.a9_[0]
        },
        Id: function(w, o) {
            var Q = o,
                A = 0;
            while (!0) {
                var K = w[o];
                o++;
                A = A * 128 + (K & 127);
                if (K < 128) break
            }
            return {
                O_: A,
                r2: o - Q
            }
        },
        Ui: function(w, o, Q) {
            var K = "";
            for (var M = 0; M < Q; M++) K += String.fromCharCode(w[o + M]);
            return K
        },
        K1: function(w, o, Q) {
            var K = "";
            for (var M = 0; M < Q; M++) K += "%" + e$.aal(w[o + M].toString(16));
            return decodeURIComponent(K)
        },
        gb: function(w, o, Q, K, b) {
            if (w[o + b - 1] == null || Q[K + b - 1] == null) {
                console.log(o, K, b);
                throw "e"
            }
            for (var M = 0; M < b; M++) Q[K + M] = w[o + M]
        },
        aal: function(A) {
            return A.length < 2 ? "0" + A : A
        }
    };
    e$.jX = new Uint8Array(8);
    e$.ah6 = new Int8Array(e$.jX.buffer);
    e$.alI = new Int16Array(e$.jX.buffer);
    e$.a1x = new Int32Array(e$.jX.buffer);
    e$.a9_ = new Float64Array(e$.jX.buffer);

    function c8(w, o, Q) {
        this.AZ = w;
        this.h_ = o;
        this.ajf = Q;
        this.J1 = new fB(0, 0);
        this.R5 = -1;
        this.Mw = 0;
        this.wZ = 0;
        this.mn = new B;
        this.ov = [];
        this.rA = null;
        this.a5q = null;
        this.P$ = null;
        this.qy = null;
        this.wm = null;
        this.a1h = null
    }
    c8.prototype.StartPage = function(w, o, Q, K, b) {
        var R = this.h_,
            X = R.Qz(),
            h = 1,
            e = (Q - w) * (K - o);
        if (b != null) e = b;
        while (e * X * X / (h * h) > 2 * 8192 * 8192) h++;
        R.scale(1 / h, 1 / h);
        this.a5q = [w, o, Q, K];
        var h = R.Qz();
        w = Math.round(w * h);
        o = Math.round(o * h);
        Q = Math.round(Q * h);
        K = Math.round(K * h);
        var Z = this.AZ,
            P = this.P$;
        if (P == null) {
            R.xy = -w
        } else {
            var J = P[2] - P[0] + 30,
                i = Math.round(Q - w) + 30;
            if (this.J1.x + J + i > 8192) {
                R.xy = -w;
                this.J1.x = 0;
                this.J1.y += this.wZ + 120;
                this.wZ = 0
            } else {
                R.xy += J;
                this.J1.x += J
            }
        }
        R.r6 = this.J1.y + (this.ajf ? K : -o);
        this.wZ = Math.max(this.wZ, Math.round(K - o));
        this.P$ = [w, o, Q, K];
        Z.t.push(Z.JG())
    };
    c8.prototype.Cp = function() {
        var w = this.AZ,
            o = w.t[w.t.length - 1];
        return o
    };
    c8.prototype.Ee = function() {
        var w = JSON.parse(JSON.stringify(b_.fQ.default));
        w.strokeStyleLineAlignment.v.strokeStyleLineAlignment = "strokeStyleAlignCenter";
        w.strokeEnabled.v = !1;
        w.fillEnabled.v = !1;
        return w
    };
    c8.prototype.Um = function() {
        var w = this.AZ,
            o = w._g();
        o.jG("Path " + w.t.length);
        this.AZ.t.push(o);
        o.a1 |= 16;
        o.add.SoCo = {
            classID: "null",
            Clr: {
                t: "Objc",
                v: v.V.Kt({
                    W: 0,
                    a: 0,
                    k: 0
                })
            }
        };
        o.add.vmsk = new a.Y3;
        o.add.vstk = this.Ee();
        return o
    };
    c8.prototype.RO = function(w) {
        var o = {
                X: w.crds,
                Y: w.cmds
            },
            Q = v.w.IT(o, !1);
        v.P.nB(Q, this.h_);
        return Q
    };
    c8.a25 = function(w, o) {
        for (var M = 0; M < w.length; M++)
            if (w[M].ID != null) w[M].ID = o
    };
    c8.ahs = function(w) {
        return Math.sqrt(Math.abs(w[0] * w[3] - w[1] * w[2]))
    };
    c8.FG = function(w) {
        return v.V.Kt({
            W: w[0] * 255,
            a: w[1] * 255,
            k: w[2] * 255
        })
    };
    c8.wp = function(w) {
        return new dj(w[0], w[1], w[2], w[3], w[4], w[5])
    };
    c8.prototype.Stroke = function(w) {
        if (this.R5 != -1 && this.R5 != this.Mw) return;
        if (w.pth.cmds.length <= 1) return;
        var o = this.RO(w.pth);
        if (o.length <= 2) return;
        this.nL(w);
        c8.a25(o, -1);
        o[2].ID = 1;
        var Q = c8.FG(w.COLR),
            K = this.Cp(),
            b = this.Ee();
        b.strokeEnabled.v = !0;
        b.strokeStyleMiterLimit.v = w.mlimit;
        b.strokeStyleLineDashSet.v = eg.xo(w.dash, 1 / w.lwidth);
        b.strokeStyleLineDashOffset.v.val = w.doff;
        b.strokeStyleLineJoinType.v.strokeStyleLineJoinType = b_.fQ.join[w.ljoin];
        b.strokeStyleLineCapType.v.strokeStyleLineCapType = b_.fQ.mg[w.lcap];
        b.strokeStyleLineWidth.v.val = Math.max(.4, w.lwidth * c8.ahs(w.ctm) * this.h_.Qz());
        b.strokeStyleContent.v.Clr.v = Q;
        var R = K != null && K.add.vmsk != null && !K.xI(),
            X = R && !K.add.vstk.strokeEnabled.v && a.Y3.a3g(K.add.vmsk._, o, !0),
            h = R && !K.add.vstk.fillEnabled.v && JSON.stringify(b) == JSON.stringify(K.add.vstk);
        if (h) {
            K.add.vmsk._ = K.add.vmsk._.concat(o.slice(2))
        } else if (X) {
            K.add.vstk = b;
            b.fillEnabled.v = !0
        } else {
            K = this.Um();
            K.add.vmsk._ = o;
            K.add.vstk = b
        }
    };
    c8.prototype.Fill = function(w, o) {
        if (this.R5 != -1 && this.R5 != this.Mw) return;
        if (w.ca == 0) return;
        var Q = w.pth.cmds;
        if (Q.length == 0) return;
        if (Q.length == 2 && JSON.stringify(Q) == "[\"M\",\"L\"]") return;
        var K = v.w.QT(w.cpth.crds),
            b = v.w.QT(w.pth.crds);
        if (b.z2(K).Kx()) return;
        var R = w.pth;
        if (this.qy == null && UDOC.G.isBox(R, [b.x, b.y, b.x + b.D, b.y + b.j]) && b.Fq(K)) {
            R = w.cpth
        } else this.nL(w);
        var X = this.RO(R),
            h = v.w.NU(b);
        v.w.H(h.X, this.h_, h.X);
        b = v.w.QT(h.X);
        var e = c8.Kz(w.colr, this.h_, b),
            Z = this.Cp(),
            P = Z != null && Z.opacity == Math.round(255 * w.ca) && Z.add.vstk != null && !Z.add.vstk.strokeEnabled.v && Z.add.SoCo && e.type == "SoFi" && JSON.stringify(Z.add.SoCo.Clr.v) == JSON.stringify(e.F.v.Clr.v);
        if (P) {
            var J = !1;
            for (var M = 0; M < X.length; M++) {
                if (X[M].ID == 0 || X[M].ID == 2) J = !0
            }
            if (J) {
                var i = v.w.QT(v.P.g$(Z.add.vmsk._)),
                    k = v.w.QT(v.P.g$(X));
                P = i.z2(k).Kx()
            }
        }
        if (P) {
            var $ = Z.add.vmsk._;
            for (var M = 2; M < X.length; M++) $.push(X[M])
        } else {
            Z = this.Um();
            delete Z.add.SoCo;
            Z.add.vmsk._ = a.Y3.DK(X);
            c8.VD(w.colr, Z, this.h_, b);
            c8.D7(w, Z)
        }
    };
    c8.VD = function(w, o, Q, K) {
        var b = c8.Kz(w, Q, K),
            R = null,
            X = null;
        o.add.vstk.fillEnabled.v = !0;
        if (b.type == "SoFi") {
            R = "SoCo";
            X = b_.vu
        }
        if (b.type == "GrFl") {
            R = "GdFl";
            X = b_.$w
        }
        if (b.type == "patternFill") {
            R = "PtFl";
            X = b_.$F
        }
        if (R != null) {
            o.add[R] = {
                classID: "null"
            };
            for (var M = 0; M < X.length; M++) {
                var h = X[M];
                o.add[R][h] = b.F.v[h]
            }
        }
    };
    c8.prototype.nL = function(w) {
        var o = this.AZ,
            Q = w.cpth,
            K = Q.cmds.join(""),
            b = Q.crds,
            R = K + " " + b.join(","),
            X = UDOC.G.isBox(Q, this.a5q);
        if (X && this.qy == null) return;
        if (R == this.qy) return;
        this.zI();
        if (!X) {
            this.qy = R;
            o.t.push(o.JG());
            var h = o._g();
            h.jG("Mask");
            h.add.lsct = bb.RN;
            h.TC = "pass";
            h.a1 = 24;
            var e = h.add.vmsk = new a.Y3;
            e._ = this.RO(w.cpth);
            if (UDOC.G.isBox(Q)) {
                this.wm = v.P.bj(e._);
                this.wm.Nn(3, 3)
            } else this.wm = null;
            this.a1h = h
        }
    };
    c8.prototype.zI = function() {
        var w = this.AZ;
        if (this.qy != null) {
            var o = w.t.length - 1,
                M = o,
                Q = !1;
            while (M >= 0 && w.t[M].add.lsct != bb.g4) M--;
            var K = this.wm;
            if (K) {
                var b = new B,
                    R = o;
                while (R > M) {
                    b = w.t[R].IJ(this.AZ, !1, !0);
                    R--
                }
                Q = K.Fq(b)
            }
            if (Q) {
                this.ov.splice(M, 1);
                w.t.splice(M, 1)
            } else {
                w.t.push(this.a1h)
            }
            this.qy = null
        }
    };
    c8.Kz = function(w, o, Q) {
        var K, b;
        if (w.length != null) {
            K = "SoFi";
            var R = JSON.parse(b_.l1[b_.order.indexOf("SoFi")]);
            b = {
                t: "Objc",
                v: R
            };
            b.v.Clr.v = c8.FG(w)
        } else {
            var X = c8.a5Q(w, o, Q);
            K = "GrFl";
            b = {
                t: "Objc",
                v: X
            }
        }
        return {
            type: K,
            F: b
        }
    };
    c8.a5Q = function(w, o, Q) {
        var K = JSON.parse(b_.l1[b_.order.indexOf("GrFl")]),
            b = K.Grad.v;
        b.Intr.v = 0;
        var R = c8.wp(w.mat);
        R.concat(o);
        var X = new fB(0, 0),
            h = new fB(Q.D, 0),
            e = w.crds;
        if (w.typ == "rad") {
            K.Type.v.GrdT = "Rdl";
            var Z = .7;
            X.x = (1 - Z) * e[0] + Z * e[3];
            X.y = (1 - Z) * e[1] + Z * e[4];
            h.x = X.x;
            h.y = X.y;
            h.x += Math.max(e[2], e[5])
        } else {
            K.Type.v.GrdT = "Lnr";
            X.x = e[0];
            X.y = e[1];
            h.x = e[2];
            h.y = e[3];
            X.x = h.x + .5 * (X.x - h.x);
            X.y = h.y + .5 * (X.y - h.y)
        }
        X = R.hv(X);
        h = R.hv(h);
        v.V.Pq(X, h, Q, K);
        var P = w.grad;
        v.V.Hm(P, b);
        return K
    };
    c8.prototype.PutText = function(w, o, Q, K) {
        var b = o.charCodeAt(0),
            i = null;
        if (this.R5 != -1 && this.R5 != this.Mw) return;
        if (o.length == 0 || o.length == 1 && (b == 0 || b == 8203)) return;
        this.nL(w);
        var R = this.AZ,
            X = w.font,
            h = c8.wp(w.ctm);
        h.concat(this.h_);
        var e = c8.wp(X.Tm);
        e.concat(h);
        var Z = z.Z.Qz(e),
            P = new dj(1 / Z, 0, 0, -1 / Z, 0, 0);
        P.concat(e);
        var J = X.Tfs * Z;
        if (X.Th != 100 || X.Trise != 0) {
            console.log(X)
        }
        var k = R.t.length - 1;
        while (k >= 0 && R.t[k].add.TySh == null) k--;
        if (P.k * P.k + P.Lu * P.Lu < .001 && K == null && k >= 0 && R.t[k].add.TySh && R.t[k].opacity == Math.round(255 * w.ca)) {
            var $ = R.t[k],
                n = this.ov[k],
                j = $.add.TySh.H,
                y = (j.xy + n.nF - P.xy) / J,
                V = Math.abs(y),
                O = o.indexOf(" ") == -1,
                S = j.K == P.K && j.k == P.k && j.Lu == P.Lu && j.TX == P.TX,
                G = S && Math.abs(n.cM - P.r6) < 1e-5 && V < .6,
                D = P.r6 - n.cM;
            if (G) {
                i = $;
                n.nF = P.xy - j.xy;
                if (y > .2 && O && [".", ",", "?", ":", "!"].indexOf(o) == -1) o = " " + o
            } else if (S && Math.abs(P.xy - j.xy) < 1e-5 && 0 < D && D < J * 1.7 && n.ahu == J) {
                i = $;
                this.am(n);
                n.cM = P.r6;
                o = "\n" + o
            }
        }
        if (i == null) {
            k = R.t.length;
            this.ov[k] = {
                Hg: [],
                nF: 0,
                cM: P.r6,
                Rh: "",
                ahu: J
            };
            i = R._g();
            R.t.push(i);
            i.add.lnsr = "rend";
            i.add.TySh = fI.Uy(0, 0);
            i.add.TySh.H = P
        }
        var n = this.ov[k];
        n.nF += Q * J;
        n.Rh += o;
        var q = i.add.TySh.rr,
            T = fI.KG(q);
        if (K) {
            fI.c9(q, 1);
            var L = [0, 0, Math.ceil(K[0] * Z), Math.ceil(K[1] * Z)];
            fI.I5(q, L)
        }
        var N = T.length - 1,
            F = N + o.length;
        fI.L$(q, N, o);
        if (this.rA == null) this.rA = fI.UP(q, N, N);
        var I = this.rA;
        I.Bq.FontSize = Math.round(J);
        I.Bq.Tracking = Math.round(X.Tc * 100);
        I.Bq.Underline = X.Tun == 1;
        I.Bq.FillColor = {
            Type: 1,
            Values: [1, w.colr[0], w.colr[1], w.colr[2]]
        };
        if (X.Tal != null) I.j_.Justification = X.Tal;
        if (n.Hg.length != 0) {
            I.Bq.AutoLeading = !1;
            I.Bq.Leading = n.cM - n.Hg[n.Hg.length - 1].y
        }
        var s = X.Tf;
        s = s.replace(/#2B/g, "+");
        s = s.replace(/#2C/g, "-");
        s = s.split("+").pop();
        var u = {
            "NimbusRomNo9L-Medi": "NimbusRomNo9L-Med",
            "NimbusRomNo9L-Regu": "NimbusRomNo9L-Reg",
            "NimbusRomNo9L-MediItal": "NimbusRomNo9L-MedIta",
            "NimbusRomNo9L-ReguItal": "NimbusRomNo9L-RegIta",
            CMTT9: "NimbusMono-Regular",
            Arial: "ArialMT",
            "BebasNeue-Regular": "BebasNeueRegular"
        };
        if (u[s]) s = u[s];
        fI.aE(I, s);
        fI.Lj(q, N, F - 1, I);
        i.fR();
        i.opacity = Math.round(255 * w.ca)
    };
    c8.prototype.am = function(w) {
        w.Hg.push({
            i7: w.nF,
            Ve: w.Rh.slice(w.Hg.length == 0 ? 0 : 1) + "\n",
            y: w.cM,
            sa: w.ahu
        });
        w.nF = 0;
        w.Rh = ""
    };
    c8.prototype.PutImage = function(w, o, Q, K, b, R, X) {
        if (this.R5 != -1 && this.R5 != this.Mw) return;
        var h = this.AZ,
            e = w.font.Tmode;
        if (e == 7 && h.t[h.t.length - 1].add.TySh) {
            return
        }
        this.nL(w);
        var Z = c8.wp(w.ctm);
        Z.concat(this.h_);
        var P = new dj(1 / Q, 0, 0, -1 / K, 0, 1);
        P.concat(Z);
        Z = P;
        o = c8.em(o, Q, K);
        if (b) b = c8.em(b, Q, K);
        if (b == null) {
            if (o.length == Q * K * 4) o = new Uint8Array(ip.pR("PNG").nl([
                [o.buffer, 0]
            ], Q, K))
        } else {
            o = this.cm(o, Q, K, R, !1);
            b = this.cm(b, Q, K, X, !0);
            var J = v.$(Q * K);
            v.KU(b, J, 0);
            v.qh(J, o, 3);
            o = new Uint8Array(ip.pR("PNG").nl([
                [o.buffer, 0]
            ], Q, K))
        }
        var i = h.x5(o, "Bitmap", 0, 0),
            k = i.rect.clone();
        k.x = k.y = 0;
        var $ = v.w.NU(k).X;
        v.w.H($, Z, $);
        i.add.SoLd.Trnf = z.Z.Tm($);
        i.add.SoLd.nonAffineTransform = z.Z.Tm($);
        i.xL(h, !1);
        c8.D7(w, i);
        h.t.push(i)
    };
    c8.D7 = function(w, o) {
        o.opacity = Math.round(255 * w.ca);
        var Q = c8.ZB[w.bmode];
        if (Q == null) console.log("Unknown blend mode", Q);
        else o.TC = Q
    };
    c8.ZB = {
        "/Normal": "norm",
        "/Multiply": "mul ",
        "/Screen": "scrn",
        "/Overlay": "over",
        "/Darken": "dark",
        "/Lighten": "lite",
        "/ColorDodge": "div ",
        "/ColorBurn": "idiv",
        "/HardLight": "hLit",
        "/SoftLight": "sLit",
        "/Difference": "diff",
        "/Exclusion": "smud",
        "/Hue": "hue ",
        "/Saturation": "sat ",
        "/Color": "colr",
        "/Luminosity": "lum "
    };
    c8.PC = function(w) {
        for (var o in c8.ZB)
            if (c8.ZB[o] == w) return o
    };
    c8.em = function(w, o, Q) {
        var K = ip.jF(w.buffer);
        if (K == "jpg") {
            try {
                w = new Uint8Array(ip.pR("JPG").ady(w.buffer))
            } catch (b6) {
                w = new Uint8Array(o * Q * 4)
            }
        } else if (w.length != o * Q * 4) {
            var b = new Uint8Array(o * Q * 4),
                R = new Uint8Array(Math.ceil(o * Q / 8));
            UTIF.decode._decodeG4(w, 0, w.length, R, 0, o, 1);
            for (var M = 0; M < o * Q; M++) {
                var X = M * 4,
                    h = (R[M >> 3] >> 7 - (M & 7) & 1) * 255;
                b[X] = h;
                b[X + 1] = h;
                b[X + 2] = h;
                b[X + 3] = 255
            }
            w = b
        }
        return w
    };
    c8.prototype.cm = function(w, o, Q, K, b) {
        if (w.length != o * Q * 4) {
            var R = ip.jF(w.buffer),
                X = ip.pR(R);
            if (X == null || R == "tga") X = ip.pR("jpg");
            w = new Uint8Array(X.p5(w, K, b)[0].data)
        }
        return w
    };
    c8.prototype.ShowPage = function() {
        var w = this.AZ;
        this.Mw++;
        var o = this.P$;
        this.zI();
        var Q = w._g();
        w.t.push(Q);
        var K = new B(Math.round(this.J1.x), Math.round(this.J1.y), Math.round(o[2] - o[0]), Math.round(o[3] - o[1]));
        this.mn = this.mn.OX(K);
        Q.vm(K);
        Q.jG("Page " + this.Mw);
        Q.add.lsct = bb.RN;
        Q.TC = "pass";
        Q.a1 = 24
    };
    c8.prototype.Print = function(w) {
        console.log("Print:", w)
    };
    c8.prototype.Done = function() {
        var w = this.AZ;
        if (this.Mw == 1) w.t[w.t.length - 1].add.lsct = bb.SI;
        w.hu(this.Mw);
        for (var M = 0; M < w.t.length; M++) {
            var o = w.t[M],
                Q = o.add.vmsk,
                K = o.add.TySh,
                b = this.ov[M];
            o.Y1();
            o.b6(w);
            if (K && b.Hg.length != 0) {
                this.am(b);
                var R = K.rr,
                    X = b.Hg.length,
                    h = b.Hg[0],
                    e = 0,
                    P = 0;
                for (var Z = 0; Z < X; Z++) e = Math.max(e, b.Hg[Z].i7);
                fI.c9(R, 1);
                K.H.r6 -= h.sa * .7;
                fI.I5(R, [0, 0, Math.ceil(e * 1.1), Math.ceil(b.Hg[X - 1].y - h.y + h.sa * 2)])
            }
            if (K) {
                var R = K.rr;
                fI.aeq(R);
                var J = fI.KG(R).split("\n");
                for (var Z = 0; Z < J.length - 1; Z++) {
                    var i = J[Z],
                        k = 0;
                    for (var $ = 0; $ < i.length; $++) {
                        var n = i.charCodeAt($);
                        if (1473 <= n && n <= 1524) k++
                    }
                    if (k > i.length / 2) {
                        J[Z] = i.split("").reverse().join("");
                        var j = R.EngineDict.ParagraphRun.RunArray[Z].ParagraphSheet.Properties;
                        j._Direction = 1;
                        j.Justification = fI.Lv(j)
                    }
                }
                fI.oe(R, J.join("\n"))
            }
        }
        w.DF = !0;
        w.D = this.mn.D;
        w.j = this.mn.j;
        w.buffer = v.$(this.mn.O() * 4)
    };
    var cE = {};
    cE.sc = function(w, o, Q, K) {
        var b = !1,
            R = [w.root],
            X = w.root.children;
        if (w.add.artd) {
            b = !0;
            for (var M = 0; M < X.length; M++)
                if (X[M].p.add.artb == null) b = !1;
            if (b) R = X
        }
        var h = new B(0, 0, w.D, w.j),
            e = o[0];
        e = e.replace(/,/g, " ").replace(/\-/g, " - ").replace(/  +/g, " ").trim();
        e = e.split(" ");
        var Z = [];
        for (var M = 0; M < e.length; M++) {
            var P = e[M];
            if (P == "-") {
                var J = Z.pop(),
                    i = parseInt(e[M + 1]);
                while (J < i) {
                    Z.push(J);
                    J++
                }
            } else Z.push(parseInt(P))
        }
        e = Z;
        for (var M = 0; M < e.length; M++)
            if (isNaN(e[M]) || e[M] < 1 || e[M] > R.length) {
                e.splice(M, 1);
                M--
            } var k = 72 / w.cK;
        for (var M = 0; M < R.length; M++) {
            if (e.length != 0 && e.indexOf(M + 1) == -1) continue;
            var $ = R[M],
                n = b ? $.p.xi() : h,
                j = Math.round(n.D * k),
                y = Math.round(n.j * k);
            Q.StartPage(0, 0, j, y);
            var V = UDOC.getState([
                    [0, 0, j, y]
                ]),
                O = new dj;
            O.translate(-n.x, -n.y - n.j);
            O.scale(k, -k);
            if (o[2]) {
                var S = w.X_();
                if (!h.Lb(n)) {
                    S = v.$(n.O() * 4);
                    v.c1(w.X_(), h, S, n)
                }
                if (o[1] != 100) {
                    var G = ip.pR("JPG").nl([
                        [S.buffer]
                    ], n.D, n.j, [o[1]]);
                    S = new Uint8Array(G)
                }
                var D = new dj;
                D.translate(n.x, n.y);
                cE.Dd(V, Q, S, n, D, O)
            } else cE.Uz(w, $, V, Q, O, o, K);
            Q.ShowPage()
        }
        Q.Done()
    };
    cE.d1 = function(w) {
        w = v.V.c2(w);
        return [w.W / 255, w.a / 255, w.k / 255]
    };
    cE.Uz = function(w, o, Q, K, b, R, X) {
        var h = o.p,
            e = h.add.lsct,
            Z = h.add.lmfx,
            P = h.add.vmsk,
            J = h.add.vstk,
            i = h.add.TySh,
            j, y;
        if (!h.HY()) return;
        var k = h.opacity / 255,
            $ = h.add.iOpa ? h.add.iOpa / 255 : 1;
        Q.bmode = c8.PC(h.TC);
        Q.ca = Q.CA = k * $;
        var n = Z;
        if (n) n = n.solidFillMulti.v[0];
        if (n) n = n.v;
        if (n && !n.enab.v) n = null;
        if (h.$J() && !h.xI()) {
            j = v.$(h.rect.O());
            v.KU(h.buffer, j, 3);
            y = eg.Co(Z, null, j, h.rect, w, h.rect).type
        }
        if (y) cE.xc(h, j, y, Q, K, b, R, !0);
        if (h.xI()) {
            for (var M = 0; M < o.children.length; M++) cE.Uz(w, o.children[M], Q, K, b, R, X)
        } else if (P) {
            var V = P._,
                O = v.P.bj(V),
                S = v.w.Si(V),
                G = !1,
                D = !1,
                q = !1;
            v.w.H(S.X, b, S.X);
            Q.pth = {
                cmds: S.Y,
                crds: S.X
            };
            if (J.fillEnabled.v) {
                var T = eg.QS(Z, h.add),
                    L = T[0],
                    N = T[1];
                if (L) {
                    Q.colr = cE.d1(L.Clr.v)
                } else if (N) {
                    var F = N,
                        I = [],
                        s, u = F.Type.v.GrdT == "Rdl" ? "rad" : "lin",
                        g = v.V.Zn(F, O),
                        U = b.hv(g[0]),
                        r = b.hv(g[1]);
                    if (u == "rad") s = [U.x, U.y, 0, U.x, U.y, fB.mp(U, r)];
                    else {
                        U.qQ(r.x + (U.x - r.x) * 2, r.y + (U.y - r.y) * 2);
                        s = [U.x, U.y, r.x, r.y]
                    }
                    var x = F.Grad.v.Clrs.v;
                    for (var M = 0; M < x.length; M++) {
                        var C = x[M].v;
                        I.push([C.Lctn.v / 4096, cE.d1(C.Clr.v)])
                    }
                    Q.colr = {
                        typ: u,
                        mat: [1, 0, 0, 1, 0, 0],
                        grad: I,
                        crds: s
                    }
                }
                G = !0
            }
            var p = eg.RY(Z);
            if (!J.strokeEnabled.v && p) J = p;
            if (J.strokeEnabled.v) {
                var l = J.strokeStyleContent.v,
                    c = J.strokeStyleLineDashSet.v,
                    t = b_.fQ.So.indexOf(J.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
                if (l.Clr == null) return;
                var H = v.V.c2(l.Clr.v);
                Q.COLR = [H.W / 255, H.a / 255, H.k / 255];
                Q.lwidth = J.strokeStyleLineWidth.v.val * (t == 2 ? 2 : 1) * b.Qz();
                Q.mlimit = J.strokeStyleMiterLimit.v;
                Q.doff = J.strokeStyleLineDashOffset.v.val;
                Q.ljoin = b_.fQ.join.indexOf(J.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
                Q.lcap = b_.fQ.mg.indexOf(J.strokeStyleLineCapType.v.strokeStyleLineCapType);
                Q.dash = [];
                for (var M = 0; M < c.length; M++) Q.dash.push(c[M].v.val * Q.lwidth);
                if (Q.dash.length == 1 && Q.dash[0] == 0) Q.dash = [];
                D = !0;
                if (t == 2) q = !0
            }
            if (G && !q) K.Fill(Q);
            if (D) K.Stroke(Q);
            if (G && q) K.Fill(Q)
        } else if (i && R[4]) {
            var gl = i.rr,
                fk = new gm(gl, X),
                S = g1.bU(fk, i),
                h5 = v.w.ng(S);
            for (var H in h5) {
                var cf = parseInt(H.slice(1), 16);
                Q.colr = n ? cE.d1(n.Clr.v) : [(cf >>> 16 & 255) / 255, (cf >>> 8 & 255) / 255, (cf & 255) / 255];
                var f = h5[H];
                v.w.H(f.X, b, f.X);
                f = v.w.a1j(f);
                Q.pth = {
                    cmds: f.Y,
                    crds: f.X
                };
                K.Fill(Q)
            }
        } else if (i && R[3] == !1) {
            var gl = i.rr,
                aH = i.H.clone(),
                gY = new dj(1, 0, 0, -1, 0, 0);
            gY.concat(aH);
            gY.concat(b);
            var cC = fI.KG(gl),
                fk = new gm(gl, X);
            for (var M = 0; M < fk.j_.length; M++) {
                var cY = fk.j_[M];
                if (cY.GH.length == 1 && cY.GH[0].sN) continue;
                for (var gJ = 0; gJ < cY.JR.length; gJ++) {
                    var bM = cY.JR[gJ],
                        cN = cY.kL.y + bM.kL.y,
                        eu = cY.GH[bM.start].start,
                        cU = cY.GH[bM.end - 1].end,
                        h7 = fI.a8S(gl, eu, cU);
                    for (var hn = 0; hn < h7.length; hn++) {
                        var gS = fk.eb(eu),
                            aq = h7[hn],
                            ef = fI.UP(gl, eu, eu),
                            dU = ef.IF[ef.Bq.Font].Name;
                        Q.font.Tf = dU;
                        var H = fI.c2(ef.Bq);
                        Q.colr = n ? cE.d1(n.Clr.v) : [H.W / 255, H.a / 255, H.k / 255];
                        Q.font.Tfs = Math.round(ef.Bq.FontSize);
                        var hO = cC.slice(eu, eu + aq);
                        if (ef.Bq.FontCaps == 2) hO = hO.toUpperCase();
                        var ao = new dj;
                        ao.translate(gS.U.x, -cN);
                        ao.concat(gY);
                        Q.ctm = [ao.K, ao.k, ao.Lu, ao.TX, ao.xy, ao.r6];
                        K.PutText(Q, hO, 0);
                        Q.ctm = [1, 0, 0, 1, 0, 0];
                        eu += aq
                    }
                }
            }
        } else if (!h.rect.Kx()) {
            var hI, a$, hH = !1,
                bq = new dj;
            if (h.add.SoLd) {
                var dq = h.add.SoLd,
                    g9 = dq.Idnt.v,
                    cx = w.j6(g9, dq.Crop ? dq.Crop.v : null),
                    bh = "";
                if (cx == null) return;
                var hp = cx.qr,
                    b0 = ip.jF(cx.raw.buffer);
                if (R[5].indexOf(b0) != -1) {
                    hI = cx.raw;
                    hH = !0
                } else hI = hp[0];
                a$ = hp[1];
                bq = v.Q.zH(dq)
            } else {
                hI = h.buffer;
                a$ = h.rect;
                bq.translate(a$.x, a$.y)
            }
            if (n && !hH) hI = eg.x9(hI, n, a$);
            cE.Dd(Q, K, hI, a$, bq, b);
            if (n && hH) {
                var s = [0, 0, a$.D, 0, a$.D, a$.j, 0, a$.j];
                v.w.H(s, bq, s);
                v.w.H(s, b, s);
                var hA = JSON.parse(JSON.stringify(Q));
                hA.ca = n.Opct.v.val / 100;
                hA.pth = {
                    cmds: ["M", "L", "L", "L", "Z"],
                    crds: s
                };
                hA.colr = cE.d1(n.Clr.v);
                K.Fill(hA)
            }
        }
        if (y) cE.xc(h, j, y, Q, K, b, R, !1)
    };
    cE.xc = function(w, o, Q, K, b, R, X, h) {
        var e = w.rect.clone(),
            Z = o;
        if (w.add.TySh && !X[3] && !X[4]) return;
        console.log(X);
        var P = K.ca,
            J = K.bmode;
        for (var M = b_.order.length - 1; M >= 0; M--) {
            var i = b_.order[M];
            if (i == "GrFl" || i == "SoFi") continue;
            if (w.add.vmsk && i == "FrFX") continue;
            var k = Q[i],
                $ = M > 7 || i == "FrFX";
            if ($ != h) continue;
            for (var n = 0; n < k.length; n++) {
                var j = k[n];
                console.log($, i, j);
                var y = j.H9.clone();
                y.offset(w.rect.x, w.rect.y);
                if (!$) {
                    if (!e.Fq(y)) {
                        var V = e.OX(y),
                            O = v.$(V.O());
                        v.Hp(Z, e, O, V);
                        Z = O;
                        e = V
                    }
                    v.BQ(Z, e, j.Sg, y)
                }
                if ($ && i == "FrFX" && j.kO) v.BQ(j.kO, y, j.Sg, y);
                var S = new dj;
                S.translate(y.x, y.y);
                K.ca = j.Xm;
                K.bmode = c8.PC(j.ae);
                cE.Dd(K, b, j.Sg, y, S, R)
            }
        }
        K.ca = P;
        K.bmode = J
    };
    cE.Dd = function(w, o, Q, K, b, R) {
        var X = new dj;
        X.scale(K.D, -K.j);
        X.translate(0, K.j);
        X.concat(b);
        X.concat(R);
        w.ctm = [X.K, X.k, X.Lu, X.TX, X.xy, X.r6];
        o.PutImage(w, Q, K.D, K.j);
        w.ctm = [1, 0, 0, 1, 0, 0]
    };
    var b1 = {};
    b1.DG = function(w) {
        var o = new Uint8Array(w);
        return b1.Uv(o, 0)
    };
    b1.Uv = function(w, o) {
        var Q = W.g,
            K = W.Ui,
            b = {
                eo: K(w, o, 4),
                n: o + 8,
                size: Q(w, o + 4)
            },
            R = b.eo == "FORM" || b.eo == "LIST" || b.eo == "CAT ";
        if (R) b.xM = K(w, o + 8, 4);
        if (b.size < 0 || b.n + b.size > w.length) throw "e";
        if (R) {
            b.sub = [];
            o += 12;
            var X = b.n + b.size;
            while (o < X) {
                var h = b1.Uv(w, o);
                b.sub.push(h);
                o += 8 + h.size + (h.size & 1)
            }
        }
        return b
    };
    var ae = {};
    ae.DG = function(w, o) {
        var Q = new Uint8Array(w);
        return ae.Uv(Q, 0, o)
    };
    ae.Uv = function(w, o, Q) {
        var K = W.Fh,
            b = W.Ui,
            R = {
                eo: b(w, o, 4),
                n: o + 8,
                size: K(w, o + 4)
            };
        if (Q && Q[R.size] != null) R.size = Q[R.size];
        if (R.eo == "RIFF" || R.eo == "LIST") {
            R.xM = b(w, o + 8, 4)
        }
        if (R.size < 0 || R.n + R.size > w.length) throw "e";
        if (R.eo == "RIFF" || R.eo == "LIST" && (R.xM != "cmpr" && R.xM != "stlt")) {
            R.sub = [];
            o += 12;
            var X = R.n + R.size;
            while (o < X) {
                var h = ae.Uv(w, o, Q);
                R.sub.push(h);
                o += 8 + h.size + (h.size & 1)
            }
        }
        return R
    };
    var b1 = {};
    b1.DG = function(w) {
        var o = new Uint8Array(w);
        return b1.Uv(o, 0)
    };
    b1.Uv = function(w, o) {
        var Q = W.g,
            K = W.Ui,
            b = {
                eo: K(w, o, 4),
                n: o + 8,
                size: Q(w, o + 4)
            },
            R = b.eo == "FORM" || b.eo == "LIST" || b.eo == "CAT ";
        if (R) b.xM = K(w, o + 8, 4);
        if (b.size < 0 || b.n + b.size > w.length) throw "e";
        if (R) {
            b.sub = [];
            o += 12;
            var X = b.n + b.size;
            while (o < X) {
                var h = b1.Uv(w, o);
                b.sub.push(h);
                o += 8 + h.size + (h.size & 1)
            }
        }
        return b
    };

    function dt() {}
    dt.DG = function(w, o) {
        var Q = new Uint8Array(w);
        o.DF = !0;
        var K = W.Ui(Q, 0, 2);
        if (K == "WL") {
            alert("Unsupported CDR version")
        } else {
            var b = dt.ni,
                R = ae.DG(Q.buffer),
                X = {
                    data: Q,
                    n: 0,
                    th: dt.aeL(Q[11])
                },
                i = 300;
            X.jA = X.th < 600 ? 16 : 32;
            dt.vw(X, R.sub, o, 0);
            var h = b(R, "cmpr").sub,
                e = h[0],
                Z = h.slice(1),
                P = b(e, "mcfg").F,
                J = P.ad3;
            i /= h6.xh(new B(0, 0, Math.round(J.x * i), Math.round(J.y * i)), 8192 * 8192);
            var k = Math.round(J.x * i),
                $ = Math.round(J.y * i);
            o.D = k;
            o.j = $;
            o.buffer = v.$(o.D * o.j * 4);
            var n = b(e, "filt").sub,
                j = b(e, "otlt").sub;
            e.vn = {};
            for (var M = 0; M < n.length; M++) e.vn[n[M].sub[0].F.id] = n[M].sub[0].F;
            e.FE = {};
            for (var M = 0; M < j.length; M++) e.FE[j[M].F.id] = j[M].F;
            var y = new dj(i, 0, 0, -i, J.x * i / 2, J.y * i / 2),
                V = Z[1];
            dt.Ly(V, e, o, y);
            o.hu(1);
            o.t[o.t.length - 1].vm(new B(0, 0, k, $))
        }
    };
    dt.ni = function(w, o) {
        var Q = null;
        for (var M = 0; M < w.sub.length; M++) {
            var K = w.sub[M];
            if (K.eo == o || K.xM == o) Q = K
        }
        return Q
    };
    dt.Ly = function(w, o, Q, K) {
        var b = dt.ni,
            R = w.xM ? w.xM : w.eo,
            X = b(w, "lgob"),
            h = b(w, "txsm"),
            e, Z;
        if (X) {
            e = b(X, "trfl");
            Z = b(X, "loda")
        }
        var P = e ? e.sub[0].M1.clone() : new dj;
        P.concat(K);
        var J = Q._g();
        if (R == "page" || R == "layr" || R == "grp ") {
            J.jG((R == "page" ? "Page" : "Group") + " " + Q.t.length);
            J.add.lsct = bb.SI;
            J.TC = "pass";
            J.a1 = 24;
            var i = [];
            if (R == "page") i = b(w, "gobj").sub;
            if (R == "layr") i = w.sub.slice(2);
            if (R == "grp ") i = w.sub.slice(4);
            if (i.length == 0) return;
            Q.t.push(Q.JG());
            for (var M = i.length - 1; M >= 0; M--) dt.Ly(i[M], o, Q, K)
        } else if (R == "obj " && Z.F && Z.F.path) {
            J.jG("Object " + Q.t.length);
            var k = o.vn[Z.F.agX],
                $ = o.FE[Z.F.aaZ],
                n = J.getName(),
                j = k && k.type != 0,
                y = j && k.F != null ? k.F : [0, 0, 0];
            J.a1 |= 16;
            J.add.vstk = JSON.parse(JSON.stringify(b_.fQ.default));
            var V = J.add.vstk;
            V.strokeEnabled.v = !1;
            J.add.vmsk = new a.Y3;
            if ($ && $.a3D != 1) {
                V.strokeEnabled.v = !0;
                V.strokeStyleLineAlignment.v.strokeStyleLineAlignment = "strokeStyleAlignCenter";
                V.strokeStyleLineWidth.v.val = $.lineWidth * K.Qz();
                var O = $.color;
                V.strokeStyleContent.v.Clr.v = v.V.Kt({
                    W: O[0] * 255,
                    a: O[1] * 255,
                    k: O[2] * 255
                })
            }
            var S = Z.F.path;
            J.add.vmsk._ = v.w.IT(S, !1);
            v.P.nB(J.add.vmsk._, P);
            c8.VD(y, J, P, v.P.bj(J.add.vmsk._));
            V.fillEnabled.v = j;
            J.Y1();
            J.b6(Q)
        } else if (R == "obj " && h) {
            var G = Z.F.ads,
                D = Z.F.a4R,
                L = "";
            J.add.TySh = fI.Uy(0, 0);
            var q = P.Qz();
            J.add.TySh.H.translate(P.xy, P.r6);
            var T = J.add.TySh.rr,
                N = h.F.a1t;
            for (var M = 0; M < N.length; M++) {
                var F = N[M],
                    I = L.length;
                L += F.text + "\n";
                fI.L$(T, I, F.text + "\n");
                var s = dt.a57(F.aej, o),
                    u = fI.UP(T, I, L.length);
                if (s.align == 3) u.j_.Justification = 1;
                else u.j_.Justification = 0;
                var g = s.fill.F;
                u.Bq.FillColor = {
                    Type: 1,
                    Values: [1, g[0], g[1], g[2]]
                };
                u.Bq.FontSize = Math.round(s.ac2.fontSize * P.Qz());
                fI.Lj(T, I, L.length - 1, u)
            }
            if (D) {
                fI.c9(T, 0)
            } else {
                fI.c9(T, 1);
                fI.I5(T, [0, 0, Math.round(G.x * P.K), Math.round(-G.y * P.TX)])
            }
            J.jG(L.slice(0, 10))
        } else {
            J = null
        }
        if (J) Q.t.push(J)
    };
    dt.a57 = function(w, o) {
        var Q = dt.ni(o, "stlt").F,
            K = JSON.parse(JSON.stringify(Q.Rb[w]));
        if (K.FD != 0) {
            var b = Q.Rb[K.FD];
            for (var R in b)
                if (K[R] == null || K[R] == 0) K[R] = b[R];
            delete K.FD
        }
        K.align = Q.ai8[K.a2o];
        K.fill = o.vn[Q.agv[K.a0I]];
        K.a1Z = o.FE[Q.a4K[K.abu]];
        K.ac2 = Q.adF[K.aa5];
        return K
    };
    dt.abU = function(M) {
        var A = M.data[M.n];
        M.n += 1;
        return A
    };
    dt.B_ = function(M) {
        var A = W.o_(M.data, M.n);
        M.n += 2;
        return A
    };
    dt.lF = function(M) {
        var A = W.Fh(M.data, M.n);
        M.n += 4;
        return A
    };
    dt.alN = function(M) {
        var A = W.Fh(M.data, M.n);
        M.n += 8;
        return A
    };
    dt.uF = function(M) {
        var A = W.hg(M.data, M.n);
        M.n += 2;
        return A
    };
    dt.ma = function(M) {
        var A = W.fD(M.data, M.n);
        M.n += 4;
        return A
    };
    dt.Wg = function(M) {
        var A = W.aan(M.data, M.n);
        M.n += 8;
        return A
    };
    dt.KA = function(M) {
        if (M.n >= M.data.length) throw "e";
        var w = 0;
        while (M.data[M.n + w] != 0) w++;
        var o = W.Ui(M.data, M.n, w);
        M.n += w + 1;
        return o
    };
    dt.an0 = function(w) {
        if (w.th < 600) return Math.PI * dt.uF(w) / 1800;
        return Math.PI * dt.ma(w) / 18e7
    };
    dt.a5I = function(w) {
        if (w.th < 1500) return dt.Cl(w);
        else return dt.Wg(w) / 254e3
    };
    dt.Cl = function(w) {
        if (w.th < 600) return dt.uF(w) / 1e3;
        else return dt.ma(w) / 254e3
    };
    dt.ali = function(w) {
        if (w.th < 600) return CRDParser.B_(w);
        else return dt.lF(w)
    };
    dt.aaw = function(w) {
        if (w.th < 600) return CRDParser.uF(w);
        else return dt.ma(w)
    };
    dt.vw = function(w, o, Q, K) {
        var b = dt,
            R = b.abU,
            X = b.B_,
            h = b.lF,
            e = b.alN,
            Z = b.uF,
            P = b.ma,
            J = b.Wg,
            i = b.Cl,
            k = b.a5I,
            $ = b.an0,
            n = b.ali,
            j = b.aaw;
        for (var y = 0; y < o.length; y++) {
            var V = w.th,
                O = o[y];
            w.n = O.n + (O.eo == "LIST" ? 4 : 0);
            if (O.eo == "vrsn") {
                var S = X(w);
                w.th = S;
                console.log("Version", S);
                w.jA = S < 600 ? 16 : 32
            } else if (O.eo == "DISP") {} else if (O.eo == "LIST" && O.xM == "cmpr") {
                var G = h(w),
                    D = h(w),
                    q = h(w),
                    T = h(w),
                    L = new Uint8Array(w.data.buffer, w.n + 8 + 2, G - 6 - 8),
                    N = pako.inflateRaw(L),
                    u = 0;
                w.n += G;
                L = new Uint8Array(w.data.buffer, w.n + 8 + 2);
                var F = pako.inflateRaw(L),
                    I = [];
                for (var s = 0; s < F.length; s += 4) I.push(W.Fh(F, s));
                O.sub = [];
                while (u < N.length) {
                    var g = ae.Uv(N, u, I);
                    u = g.n + g.size;
                    O.sub.push(g)
                }
                var U = {
                    data: N,
                    n: 0,
                    th: V,
                    jA: w.jA
                };
                dt.vw(U, O.sub, Q, K + 1)
            } else if (O.eo == "LIST" && O.xM == "stlt") {
                var r = w.n,
                    gY = 32;
                O.F = {};
                var x = h(w);
                if (x == 0) return;
                O.F.agv = dt.Ea(w, V >= 1300);
                O.F.a4K = dt.Ea(w);
                O.F.adF = {};
                var C = h(w);
                for (var M = 0; M < C; M++) {
                    var p = h(w);
                    w.n += V < 1e3 ? 12 : 20;
                    var l = X(w),
                        c = X(w);
                    w.n += 8;
                    var t = i(w);
                    w.n += V < 1e3 ? 12 : 20;
                    O.F.adF[p] = {
                        aaG: l,
                        a8c: c,
                        fontSize: t
                    }
                }
                O.F.ai8 = dt.Ea(w);
                var H = h(w);
                w.n += 52 * H;
                var gl = h(w);
                w.n += 152 * gl;
                var ie = h(w);
                w.n += 784 * ie;
                var fk = h(w);
                for (var M = 0; M < fk; M++) {
                    w.n += 40;
                    if (V > 1300) w.n += 4;
                    if (V >= 1300) {
                        if (h(w)) w.n += 68;
                        else w.n += 12
                    } else {
                        w.n += 20;
                        if (V >= 1e3) w.n += 8;
                        if (h(w)) w.n += 8;
                        w.n += 8
                    }
                }
                var h5 = h(w);
                O.F.a22 = {};
                for (var M = 0; M < h5; M++) {
                    var cf = h(w),
                        f = {};
                    w.n += 12;
                    f.right = i(w);
                    f.a4d = i(w);
                    f.left = i(w);
                    O.F.a22[cf] = f
                }
                var aH = h(w);
                if (V >= 1300) gY += 4;
                w.n += gY * aH;
                var cC = h(w);
                w.n += 28 * cC;
                if (V > 800) {
                    var cY = h(w);
                    w.n += 12 * cY
                }
                O.F.Rb = {};
                for (var M = 0; M < x; M++) {
                    var gJ = h(w),
                        bM = h(w),
                        cN = {};
                    cN.FD = h(w);
                    w.n += 8;
                    var eu = h(w);
                    if (V >= 1200) eu *= 2;
                    w.n += eu;
                    cN.a0I = h(w);
                    cN.abu = h(w);
                    if (gJ > 1) {
                        cN.aa5 = h(w);
                        cN.a2o = h(w);
                        cN.acX = h(w);
                        cN.ah3 = h(w);
                        if (V > 800) cN.adJ = h(w)
                    }
                    if (gJ > 2) {
                        cN.akQ = h(w);
                        cN.abV = h(w);
                        cN.ade = h(w);
                        cN.a05 = h(w);
                        cN.a5z = h(w)
                    }
                    O.F.Rb[bM] = cN
                }
            } else if (O.eo == "LIST") dt.vw(w, O.sub, Q, K + 1);
            else if (O.eo == "txsm") {
                O.F = {};
                if (V < 600) throw "e";
                if (V < 700) throw "e";
                if (V >= 1600) throw "e";
                if (V >= 1500) w.n += 37;
                else w.n += 36;
                if (h(w)) {
                    if (V < 800) w.n += 32
                }
                if (V < 800) w.n += 4;
                O.F.alH = h(w);
                O.F.a1t = [];
                w.n += 48;
                if (V >= 800) {
                    if (h(w)) {
                        w.n += 32;
                        if (V >= 1300) w.n += 8
                    }
                }
                if (V >= 1500) w.n += 12;
                var gJ = h(w),
                    cU = 1,
                    h7 = !1;
                if (!gJ) {
                    if (V >= 800) w.n += 4;
                    if (V > 800) w.n += 2;
                    if (V >= 1400) w.n += 2;
                    w.n += 24;
                    if (V < 800) w.n += 8;
                    cU = h(w)
                }
                for (var s = 0; s < cU; s++) {
                    var hn = h(w),
                        M = 0;
                    if (V >= 1300 && gJ) w.n++;
                    w.n++;
                    var x = h(w),
                        gS = [];
                    for (M = 0; M < x; M++) {
                        var aq = R(w),
                            dU = 0;
                        R(w);
                        var ef = R(w);
                        if (V >= 800) dU = R(w);
                        var cN = {};
                        if (ef & 1) {
                            cN.aaG = X(w);
                            var hO = X(w);
                            if (hO) cN.ael = hO
                        }
                        if (ef & 2) w.n += 4;
                        if (ef & 4) cN.a5W = i(w);
                        if (ef & 8) w.n += 4;
                        if (ef & 16) w.n += 4;
                        if (ef & 32) w.n += 4;
                        if (ef & 64) {
                            cN.a0I = h(w);
                            if (V >= 1500) w.n += 48
                        }
                        if (ef & 128) {
                            cN.abu = h(w)
                        }
                        if (dU & 8) {
                            if (V >= 1300) {
                                var ao = h(w);
                                if (w.n + ao * 2 >= w.data.length) {
                                    h7 = !0;
                                    break
                                }
                                w.n += ao * 2
                            } else w.n += 4
                        }
                        if (dU & 32) {
                            var hI = R(w);
                            if (hI) w.n += 52
                        }
                        if (aq == 2)
                            if (V >= 1300) w.n += 48;
                        gS.push(cN)
                    }
                    if (h7) {
                        break
                    }
                    var a$ = h(w);
                    if (w.n + a$ * 4 > w.data.length) break;
                    var hH = [];
                    for (M = 0; M < a$; M++) {
                        var bq = 0;
                        if (V >= 1200) bq = e(w) & 4294967295;
                        else bq = h(w);
                        hH[M] = bq >> 16 | bq & 1
                    }
                    var dq = a$;
                    if (V >= 1200) dq = h(w);
                    var g9 = dt.KA(w);
                    O.F.a1t.push({
                        aej: hn,
                        text: g9,
                        Rb: gS
                    })
                }
            } else if (O.eo == "font") {
                var cx = X(w),
                    hp = X(w);
                w.n += 14;
                var b0 = dt.KA(w);
                O.F = {
                    id: cx,
                    a3$: hp,
                    name: b0
                }
            } else if (["IKEY", "ICMT", "pfrd", "bcfg"].indexOf(O.eo) != -1) {} else if (O.eo == "flgs") O.F = h(w);
            else if (O.eo == "bbox") {
                var bh = i(w),
                    hA = i(w),
                    ft = i(w),
                    c6 = i(w);
                O.F = new B(bh, hA, ft - bh, c6 - hA)
            } else if (O.eo == "fild") {
                var ba = h(w),
                    f7 = 0,
                    b5;
                if (V >= 1300) {
                    w.n += 4;
                    f7 = X(w);
                    w.n += 2
                }
                var an = X(w);
                if (an == 0) {} else if (an == 1) {
                    w.n += V >= 1300 ? 13 : 2;
                    b5 = dt.nS(w)
                } else if (an == 2) {
                    w.n += V >= 1300 ? 8 : 2;
                    var hG = R(w),
                        eE = 0;
                    if (V >= 1300) {
                        w.n += 17;
                        eE = Z(w)
                    } else if (V >= 600) {
                        w.n += 19;
                        eE = P(w)
                    } else {
                        w.n += 11;
                        eE = Z(w)
                    }
                    var aV = $(w),
                        dp = .5 + j(w),
                        en = .5 + j(w) - .5;
                    if (V >= 600) w.n += 2;
                    var f1 = n(w) & 255,
                        de = R(w) / 100;
                    w.n++;
                    var dM = n(w) & 65535;
                    if (V >= 1300) w.n += 3;
                    var ih = [];
                    for (var M = 0; M < dM; M++) {
                        var fa = dt.nS(w);
                        if (V >= 1300) {
                            if (f7 == 158 || V >= 1600 && f7 == 150) w.n += 26;
                            else w.n += 5
                        }
                        var eI = n(w) / 100;
                        if (V >= 1300) w.n += 3;
                        ih.push([eI, fa])
                    }
                    b5 = {
                        typ: hG == 1 ? "lin" : "rad",
                        crds: [dp - Math.cos(aV) / 2, en - Math.sin(aV) / 2, dp, en],
                        grad: ih,
                        mat: [1, 0, 0, 1, 0, 0]
                    }
                } else console.log("Unknown fill type", an);
                O.F = {
                    id: ba,
                    type: an,
                    F: b5
                }
            } else if (O.eo == "outl") {
                var gR = h(w);
                if (V >= 1300) {
                    var hk = 0,
                        d3 = 0;
                    while (hk != 1) {
                        w.n += d3;
                        hk = h(w);
                        d3 = h(w)
                    }
                }
                var iB = X(w),
                    gk = X(w),
                    d$ = X(w);
                if (V < 1300 && V >= 600) w.n += 2;
                var hx = i(w),
                    bz = X(w) / 100;
                if (V >= 600) w.n += 2;
                var hY = $(w);
                if (V >= 1300) w.n += 46;
                else if (V >= 600) w.n += 52;
                var b5 = dt.nS(w, gR == 270963208 || gR == 276198e3, gR);
                O.F = {
                    id: gR,
                    a3D: iB,
                    aaP: gk,
                    amz: d$,
                    lineWidth: hx,
                    color: b5
                }
            } else if (O.eo == "mcfg") {
                if (1300 <= V) w.n += 12;
                else if (900 <= V) w.n += 4;
                else if (600 <= V && V < 700) w.n += 28;
                var fL = 0,
                    c4 = 0;
                if (V < 400) throw "e";
                else {
                    fL = i(w);
                    c4 = i(w)
                }
                O.F = {
                    ad3: new fB(fL, c4)
                }
            } else if (O.eo == "loda") {
                var r = w.n,
                    dF = n(w),
                    co = n(w),
                    dg = n(w),
                    bL = n(w),
                    bg = n(w),
                    fy = [],
                    bH = [];
                w.n = r + dg;
                for (var M = 0; M < co; M++) fy[M] = n(w);
                w.n = r + bL;
                for (var M = co - 1; M >= 0; M--) bH[M] = n(w);
                O.F = {};
                for (var M = 0; M < co; M++) {
                    w.n = r + fy[M];
                    var e7 = bH[M];
                    if (e7 == 10) O.F.aaZ = h(w);
                    else if (e7 == 20) O.F.agX = h(w);
                    else if (e7 == 200) O.F.adA = n(w);
                    else if (e7 == 30) {
                        if (V < 400) bg--;
                        if (bg == 1) {
                            var bh = k(w),
                                hA = k(w),
                                ep = 0,
                                eV = 0,
                                d9 = 0,
                                ad = 0;
                            if (V < 1500) {
                                ad = k(w);
                                d9 = V < 900 ? ad : k(w);
                                eV = V < 900 ? ad : k(w);
                                ep = V < 900 ? ad : k(w)
                            } else throw "e";
                            O.F.path = v.w.Si(v.P.z_.Rect(0, 0, bh, hA, ep))
                        } else if (bg == 2) {
                            var gE = i(w),
                                aQ = i(w),
                                cO = $(w),
                                e8 = $(w),
                                fh = Math.abs(gE),
                                aX = Math.abs(aQ);
                            O.F.path = v.w.Si(v.P.z_.eG(0, 0, fh, -aX))
                        } else if (bg == 3) {
                            O.F.path = dt.a5B(w)
                        } else if (bg == 4) {
                            O.F.a4R = dt.a5S(w)
                        } else if (bg == 6) {
                            O.F.ads = dt.agb(w)
                        } else if (bg == 37) {
                            O.F.path = dt.ne(w)
                        } else console.log(bg)
                    }
                }
            } else if (O.eo == "trfd") {
                var r = w.n,
                    dF = n(w),
                    co = n(w),
                    dg = n(w);
                w.n = r + dg;
                var fy = [];
                for (var M = 0; M < co; M++) fy[M] = n(w);
                for (var M = 0; M < co; M++) {
                    w.n = r + fy[M];
                    if (V >= 1300) w.n += 8;
                    var cu = X(w);
                    if (cu == 8) {
                        var eF, i6, bh, b3, aR, hA;
                        if (V >= 600) w.n += 6;
                        if (V >= 500) {
                            eF = J(w);
                            i6 = J(w);
                            bh = J(w) / (V < 600 ? 1e3 : 254e3);
                            b3 = J(w);
                            aR = J(w);
                            hA = J(w) / (V < 600 ? 1e3 : 254e3)
                        } else throw "e";
                        O.M1 = new dj(eF, b3, i6, aR, bh, hA)
                    } else console.log(cu)
                }
            } else if (!1) {
                console.log(O);
                var cj = Math.min(O.size, 32);
                console.log(W.wX(data, O.n, cj));
                console.log(W.ai7(data, O.n, cj))
            }
        }
    };
    dt.Ea = function(w, o) {
        var Q = dt.lF,
            K = {},
            b = Q(w);
        for (var M = 0; M < b; M++) {
            var R = Q(w);
            w.n += 4;
            var X = Q(w);
            K[R] = X;
            if (o) w.n += 48
        }
        return K
    };
    dt.a5S = function(w) {
        var o = dt,
            Q = o.Cl,
            K = Q(w),
            b = Q(w);
        return new fB(K, b)
    };
    dt.agb = function(w) {
        var o = dt,
            Q = o.Cl;
        w.n += 4;
        var K = Q(w),
            b = Q(w);
        return new fB(K, b)
    };
    dt.ne = function(w) {
        var o = dt,
            Q = o.lF,
            K = o.B_,
            b = o.Cl;
        w.n += 4;
        var R = K(w) + K(w);
        w.n += 16;
        var X = dt.ba(w, R);
        return X
    };
    dt.a5B = function(w) {
        var o = dt.B_(w);
        w.n += 2;
        return dt.ba(w, o)
    };
    dt.ba = function(w, o) {
        var Q = dt,
            K = Q.Cl,
            b = w.th < 600 ? 2 : 4,
            R = w.n,
            X = {
                X: [],
                Y: []
            },
            h = 0,
            e = 0,
            Z = 0;
        for (var M = 0; M < o; M++) {
            var h = K(w),
                e = K(w),
                P = w.data[R + o * b * 2 + M];
            if (!(P & 64) && !(P & 128)) {
                X.X.push(h, e);
                X.Y.push("M");
                Z += 2
            } else if (P & 64 && !(P & 128)) {
                X.X.push(h, e);
                X.Y.push("L");
                Z += 2
            } else if (!(P & 64) && P & 128) {
                X.X.push(h, e);
                X.Y.push("C");
                Z += 6
            } else if (P & 64 && P & 128) {
                X.X.push(h, e)
            }
        }
        if (Z != X.X.length) throw "e";
        return X
    };
    dt.ajT = function(w, o) {
        var Q = W.Fh;
        o += 8;
        var K = Q(w, o);
        o += 4;
        var b = Q(w, o);
        o += 4;
        o += 4 * 7;
        var R = o,
            X = v.$(K * b * 4);
        o += 1024;
        for (var h = 0; h < b; h++)
            for (var e = 0; e < K; e++) {
                var M = h * K + e,
                    Z = (b - h - 1) * K + e,
                    P = w[o + M] << 2,
                    J = Z << 2;
                X[J + 0] = w[R + P + 2];
                X[J + 1] = w[R + P + 1];
                X[J + 2] = w[R + P + 0];
                X[J + 3] = 255
            }
        return {
            Sg: X,
            rect: new B(0, 0, K, b)
        }
    };
    dt.aeL = function(w) {
        if (w == 32) return 300;
        else if (w < 49) return 0;
        else if (w < 58) return 100 * (w - 48);
        else if (w < 65) return 0;
        return 100 * (w - 55)
    };
    dt.nS = function(w, o, Q) {
        var K = dt.B_,
            b = dt.lF,
            R = w.th,
            X = 0,
            h = 0;
        if (R >= 500) {
            X = K(w);
            if (X == 1 && R >= 1300) X = 25;
            if (X == 25 || X == 30) {
                var e = 0;
                if (X == 30) {
                    X = 25;
                    e = 30
                } else {
                    e = K(w);
                    w.n += 4
                }
                var Z = K(w),
                    P = K(w)
            } else if (X == 14) throw "e";
            else {
                w.n += 6;
                h = b(w)
            }
        } else throw "e";
        var J = [];
        if (X == 2 || X == 9 || X == 17) {
            var i = [h >>> 0 & 255, h >>> 8 & 255, h >>> 16 & 255, h >>> 24 & 255];
            if (X == 2)
                for (var M = 0; M < 4; M++) i[M] = Math.round(255 * i[M] / 100);
            for (var M = 0; M < 4; M++) i[M] /= 255;
            J = UDOC.C.cmykToRgb(i)
        } else if (X == 1 || X == 5) {
            J = [h >>> 0 & 255, h >>> 8 & 255, h >>> 16 & 255];
            for (var M = 0; M < 3; M++) J[M] = J[M] / 255
        } else console.log("Unknown color model " + X, h, h.toString(16));
        return J
    };
    var hw = {};
    hw.cS = function() {
        var w = new ArrayBuffer(4);
        return [new Uint8Array(w), new Uint32Array(w), new Float32Array(w)]
    }();
    hw.FL = function(w, o, Q, K, b) {
        function R(u, g) {
            for (var U = 0; U < u.length; U++)
                if (u[U][0] == g) return u[U]
        }

        function X() {
            var T = 0,
                u = 0,
                g = 0;
            do {
                g = w[o++];
                T |= (g & 127) << u;
                u += 7
            } while (g & 128 && u < 35);
            return T >>> 0
        }
        var h = hw.cS,
            e = h[0],
            Z = h[1],
            P = h[2],
            J = "",
            n = 1;
        for (var M = 0; M < b; M++) J += "    ";
        var i = K[0] == "mesg",
            k = K[2],
            $ = {},
            j = i ? 1e9 : k.length;
        while (n <= j) {
            var y = n;
            if (i) {
                y = w[o++];
                if (y > 127) {
                    if (w[o] != 1) throw "e";
                    o++
                }
                if (y == 0) break
            }
            var V = R(k, y),
                O = V[2],
                S = V[1] == 1,
                G = S ? X() : 1,
                D = new Array(G);
            if (O == 3) {
                if (!S) throw "e";
                D = w.slice(o, o + G);
                o += G
            } else
                for (var M = 0; M < G; M++) {
                    var q;
                    if ((O & 1) == 1) {
                        if (O == 1) q = w[o++] == 1;
                        else if (O == 3) q = w[o++];
                        else if (O == 5) {
                            var T = X();
                            q = T & 1 ? ~(T >>> 1) : T >>> 1
                        } else if (O == 7) q = X();
                        else if (O == 9) {
                            if (w[o] == 0) {
                                q = 0;
                                o++
                            } else {
                                e[0] = w[o];
                                e[1] = w[o + 1];
                                e[2] = w[o + 2];
                                e[3] = w[o + 3];
                                var L = Z[0];
                                Z[0] = L << 23 | L >>> 9;
                                q = P[0];
                                o += 4
                            }
                        } else if (O == 11) {
                            var N = hw.af6(w, o);
                            q = N[0];
                            o += N[1] + 1
                        } else throw O
                    } else {
                        var F = Q[O >>> 1];
                        if (F[0] == "enum") {
                            var I = w[o++];
                            if (I > 127) throw "e";
                            q = F[2][I]
                        } else {
                            var s = hw.FL(w, o, Q, F, b + 1);
                            q = s[0];
                            o = s[1]
                        }
                    }
                    D[M] = q
                }
            $[V[3]] = S ? D : D[0];
            n++
        }
        return [$, o]
    };
    hw.af6 = function(w, o) {
        var Q = o;
        while (w[Q] != 0) Q++;
        return [W.K1(w, o, Q - o), Q - o]
    };
    hw.a11 = function(w, o) {
        var Q = o;
        while (w[Q] != 0) Q++;
        for (var M = o; M < Q; M++)
            if (w[M] > 127) throw "e";
        return W.Ui(w, o, Q - o)
    };
    hw.aet = function(w, o) {
        var Q = hw.a11,
            K = 1,
            b = [];
        while (K < w.length) {
            var R = K,
                X = b.length,
                h = Q(w, K);
            K += h.length + 1;
            var e = w[K++];
            if (e == 0) {
                var Z = w[K++];
                if (Z > 127) K++;
                var P = [];
                for (var M = 0; M < Z; M++) {
                    var J = Q(w, K);
                    K += J.length + 1;
                    var i = w[K++];
                    if (i != 0) throw i;
                    var k = w[K++];
                    if (k != 0) throw k;
                    var $ = w[K++];
                    if ($ > 127) {
                        if (w[K] != 1) throw "e";
                        K++
                    }
                    if ($ != M) throw $;
                    P.push(J)
                }
                b.push(["enum", h, P])
            } else if (e == 1) {
                var Z = w[K++],
                    P = [];
                for (var M = 0; M < Z; M++) {
                    var J = Q(w, K);
                    K += J.length + 1;
                    var i = w[K++];
                    if (i > 127) {
                        if (w[K] != 1) throw "e";
                        K++
                    }
                    var k = w[K++];
                    if (k > 127) {
                        if (w[K] != 1) throw "e";
                        K++
                    }
                    var $ = w[K++];
                    if ($ > 127) {
                        if (w[K] != 1) throw "e";
                        K++
                    }
                    P.push([$, k, i, J])
                }
                b.push(["strc", h, P])
            } else if (e == 2) {
                var Z = w[K++];
                if (Z > 127) K++;
                var P = [];
                for (var M = 0; M < Z; M++) {
                    var J = Q(w, K);
                    K += J.length + 1;
                    var i = w[K++];
                    if (i > 127) {
                        if (w[K] != 1) throw "e";
                        K++
                    }
                    var k = w[K++];
                    if (k > 127) {
                        if (w[K] != 1) throw "e";
                        K++
                    }
                    var $ = w[K++];
                    if ($ > 127) {
                        if (w[K] != 1) throw "e";
                        K++
                    }
                    P.push([$, k, i, J])
                }
                b.push(["mesg", h, P])
            } else throw e
        }
        return b
    };

    function dd() {}
    dd.DG = function(w, o) {
        var Q = new Uint8Array(w),
            K = 8,
            b = W.Fh(Q, K),
            g = 0;
        K += 4;
        var R = [];
        while (K < Q.length) {
            var X = W.Fh(Q, K);
            K += 4;
            var h = Q.slice(K, K + X);
            if (Q[K] == 137 && Q[K + 1] == 80) {} else h = UZIP.inflateRaw(h);
            R.push(h);
            K += X
        }
        var e = hw.aet(R[0]),
            Z = hw.FL(R[1], 0, e, e[e.length - 1], 0)[0],
            P = {
                QE: {},
                Vp: {},
                alV: {}
            },
            J = Z.nodeChanges;
        for (var i = 0; i < J.length; i++) {
            var k = J[i],
                $ = k.guid;
            P.Vp[$.sessionID + "," + $.localID] = k
        }
        for (var i = 0; i < J.length; i++) {
            var k = J[i],
                $ = k.parentIndex;
            if ($) {
                var n = dd.r5(P.Vp, $.guid);
                if (n.children == null) n.children = [];
                n.children.push(k)
            }
        }
        var j = J[0],
            y = j.children,
            V = new B,
            O = [],
            S = [];
        for (var $ = 0; $ < y.length; $++) {
            var G = y[$],
                D = G.children;
            if (G.name == "Internal Only Canvas" || D == null) continue;
            var q = new B;
            for (var M = 0; M < D.length; M++) {
                var T = D[M],
                    L = T.transform,
                    N = T.size;
                if (L.m00 == 1 && L.m10 == 0 && L.m01 == 0 && L.m11 == 1) {
                    var F = new B(L.m02, L.m12, N.x, N.y);
                    q = q.OX(F)
                }
            }
            var I = V.j == 0 ? 0 : V.j + 100,
                s = q.clone();
            s.x = 0;
            s.y = I;
            V = V.OX(s);
            O[$] = q;
            S[$] = I
        }
        var u = h6.xh(new B(0, 0, V.D, V.j), 8192 * 8192);
        o.D = Math.round(V.D / u);
        o.j = Math.round(V.j / u);
        o.buffer = v.$(o.D * o.j * 4);
        for (var $ = 0; $ < y.length; $++) {
            var G = y[$],
                D = G.children;
            if (G.name == "Internal Only Canvas" || D == null) continue;
            D.sort(dd.O0);
            var U = new dj(1, 0, 0, 1, -O[$].x, S[$] - O[$].y);
            U.scale(1 / u, 1 / u);
            for (var M = 0; M < D.length; M++) {
                var T = D[M];
                dd.Ly(T, [], U, Z.blobs, o, 0, P);
                g++
            }
        }
        o.hu(g);
        o.DF = !0;
        if (u != 1) alert("File scaled down " + u + "x")
    };
    dd.Ly = function(w, o, Q, K, b, R, X) {
        var h = dd,
            L = !1,
            N, F, s, u, g;
        for (var M = 0; M < o.length; M++) {
            var e = o[M],
                Z = e.guidPath.guids[0];
            if (h.a6P(Z, w.guid)) {
                var P = {};
                for (var J in w) P[J] = e[J] != null ? e[J] : w[J];
                w = P
            }
        }
        var i = w.type,
            k = w.children,
            $ = w.size,
            n = w.effects,
            j = b._g();
        j.jG(w.name);
        j.BZ(w.visible);
        j.opacity = Math.round(w.opacity * 255);
        var y = h.SZ(w.transform),
            V = y.clone();
        V.concat(Q);
        var O = new B(Math.round(V.xy), Math.round(V.r6), Math.round($.x * V.Qz()), Math.round($.y * V.Qz())),
            S = w.fillPaints,
            G = w.inheritFillStyleID;
        if (G) {
            var P = h.r5(X.Vp, G);
            if (P) S = P.fillPaints
        }
        if (S == null) S = [];
        var S = h.eW(S),
            D = S[0],
            q = w.strokePaints,
            G = w.inheritFillStyleIDForStroke;
        if (G) {
            var P = h.r5(X.Vp, G);
            if (P) q = P.fillPaints
        }
        if (q == null) q = [];
        var q = h.eW(q),
            T = "BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON".split(" ").indexOf(i) != -1;
        if (T || i == "FRAME") {
            N = new a.Y3;
            F = [];
            h.B7(w, K, N, F);
            L = v.P.EE(N._);
            v.P.nB(N._, V);
            O = v.P.bj(N._);
            if (X.QE.gM && D) {
                var I = a.Y3.DK(X.QE.gM._);
                for (var M = 2; M < I.length; M++)
                    if (I[M].ID != null) I[M].ID = 3;
                N._ = N._.concat(I.slice(2));
                F = F.concat(JSON.parse(JSON.stringify(X.QE.Wn)))
            }
        }
        if (D && D.type == "IMAGE") {
            g = D.imageScaleMode;
            s = h.X_(K, D.image.dataBlob);
            var U = s.Ip.D / s.Ip.j,
                r = $.x / $.y;
            u = Math.abs(U - r)
        }
        if (i == "FRAME") {} else if (T && L && s && (g == "FIT" || g == "FILL" && u <= .05)) {
            var x = K[D.image.dataBlob].bytes,
                C = b.x5(x, j.getName(), 0, 0);
            C.a1 = j.a1;
            C.opacity = j.opacity;
            j = C;
            var p = new B(0, 0, $.x, $.y);
            if (g == "FIT") {
                var l = s.Ip.D,
                    c = s.Ip.j,
                    t = Math.min($.x / l, $.y / c),
                    H = l * t,
                    gl = c * t;
                p = new B(p.x + (p.D - H) / 2, p.y + (p.j - gl) / 2, H, gl)
            }
            var ie = v.w.NU(p).X;
            v.w.H(ie, V, ie);
            j.add.SoLd.Trnf = z.Z.Tm(ie);
            j.add.SoLd.nonAffineTransform = z.Z.Tm(ie);
            var fk = [],
                n = w.effects,
                h5 = D.paintFilter;
            if (n)
                for (var M = 0; M < n.length; M++)
                    if (n[M].type == "FOREGROUND_BLUR") {
                        var cf = n[M],
                            f = bf.qU("GsnB", {});
                        fk.push(f);
                        f.v.enab.v = cf.visible;
                        f.v.Fltr.v.Rds.v.val = cf.radius / 2.4
                    } if (h5 && h5.exposure != 0) {
                var f = bf.qU("brit", {});
                fk.push(f);
                f.v.Fltr.v.Brgh.v = Math.round(h5.exposure * 160);
                f.v.Fltr.v.useLegacy.v = !0
            }
            if (fk.length != 0) {
                j.add.SoLd.filterFX = bf.eh();
                b.iT({
                    id: j.add.SoLd.placed.v,
                    rect: new B,
                    buffer: v.$(1),
                    q: new a.Zz
                });
                j.add.SoLd.filterFX.v.filterFXList.v = fk
            }
            j.xL(b, !1);
            h.hZ(X, j, b)
        } else if (T) {
            j.a1 |= 16;
            j.add.vogk = F;
            j.add.vmsk = N;
            var aH = j.add.vstk = JSON.parse(JSON.stringify(b_.fQ.default)),
                gY = h.it(w, D, V, O, K, b, X);
            if (gY[0] == "None") {
                aH.fillEnabled.v = !1;
                j.add.SoCo = gY[1]
            } else {
                var cC = gY[1].Opct.v.val;
                if (cC != 100) j.opacity = Math.round(j.opacity / 255 * (cC / 100) * 255);
                j.add[gY[0]] = gY[1]
            }
            var gY = h.it(w, q[0], V, O, K, b, X);
            if (gY[0] != "None") {
                aH.strokeEnabled.v = !0;
                aH.strokeStyleLineWidth.v.val = w.strokeWeight * V.Qz();
                aH.strokeStyleLineAlignment.v.strokeStyleLineAlignment = b_.fQ.So[["INSIDE", "CENTER", "OUTSIDE"].indexOf(w.strokeAlign)];
                var cY = {
                        SoCo: "SoFi",
                        GdFl: "GrFl"
                    } [gY[0]],
                    gJ = ["SoFi", "GrFl", "patternFill"].indexOf(cY),
                    bM = [b_.vu, b_.$w, b_.$F][gJ];
                aH.strokeStyleContent.v = {
                    classID: b_.fQ.xM[0]
                };
                aH.strokeStyleLineDashSet.v = eg.xo(w.dashPattern, 1 / w.strokeWeight);
                var cN = aH.strokeStyleContent.v = {
                    classID: b_.fQ.xM[gJ]
                };
                for (var M = 0; M < bM.length; M++) cN[bM[M]] = gY[1][bM[M]]
            }
            if (n)
                for (var M = 0; M < n.length; M++) {
                    var cf = n[M];
                    if (cf.type != "FOREGROUND_BLUR") continue;
                    N.YF = cf.radius / 2.4
                }
            j.b6(b)
        } else if (i == "TEXT") {
            var eu = w.textData,
                cU = eu.layoutSize,
                h7 = ["LEFT", "RIGHT", "CENTER"].indexOf(w.textAlignHorizontal);
            j.add.lnsr = "rend";
            j.add.TySh = fI.Uy(0, 0);
            j.add.TySh.Hu = new B(0, 0, 100, 100);
            var hn = V.clone();
            j.add.TySh.H = hn;
            var gS = j.add.TySh.rr,
                aq = eu.characters;
            if (w.textCase == "TITLE") {
                for (var M = 0; M < aq.length; M++)
                    if (M == 0 || aq[M - 1] == " ") {
                        var ef = aq.slice(0, M),
                            dU = aq.slice(M + 1);
                        aq = ef + aq[M].toUpperCase() + dU
                    }
            }
            aq = aq.replace(/\u2028/g, "\n");
            aq = aq.replace(/\u2029/g, "\n");
            aq = aq.replace(/\r/g, "\n");
            fI.L$(gS, 0, aq);
            var hO = w.textAutoResize,
                ao = eu.baselines;
            if (hO == "WIDTH_AND_HEIGHT") {
                var hI = h7 == 0 ? 0 : h7 == 1 ? cU.x : cU.x / 2,
                    a$ = ao ? ao[0].position.y : 0;
                hn.translate(hI * V.Qz(), a$ * V.Qz());
                fI.c9(gS, 0)
            } else if (hO == "HEIGHT" || hO == "NONE" || hO == null) {
                var a$ = ao ? ao[0].position.y - w.fontSize * .7 : 0;
                hn.translate(0, a$ * V.Qz());
                fI.c9(gS, 1);
                fI.I5(gS, [0, 0, Math.round(cU.x), Math.round(1.2 * cU.y)])
            } else throw hO;
            if (aq != "") {
                var hH = fI.UP(gS, 0, 1);
                h.sH(w, V, $, hH, j, K, b, X);
                fI.Lj(gS, 0, aq.length, hH);
                var bq = eu.characterStyleIDs,
                    dq = eu.styleOverrideTable;
                if (bq)
                    for (var M = 0; M < bq.length; M++) {
                        var g9 = bq[M];
                        if (aq[M] == "\n") continue;
                        if (g9 != 0) {
                            var cx;
                            for (var hp = 0; hp < dq.length; hp++)
                                if (dq[hp].styleID == g9) cx = dq[hp];
                            var hH = fI.UP(gS, M, M + 1);
                            h.sH(cx, V, $, hH, j, K, b, X);
                            fI.Lj(gS, M, M + 1, hH)
                        }
                    }
            }
        } else if (i == "SYMBOL") {} else if (i == "INSTANCE") {
            var b0 = w.symbolData,
                bh = b0.symbolOverrides,
                P = h.r5(X.Vp, b0.symbolID);
            if (P) k = P.children;
            else console.log(w.name, "symbol not found", b0.symbolID);
            o = o.slice(0);
            for (var M = 0; M < bh.length; M++) o.push(bh[M])
        } else console.log(i);
        if (!1) {} else if (k && !T) {
            k.sort(h.O0);
            if (R == 0 && i != "SYMBOL" && i != "INSTANCE") {
                j.vm(O);
                var hA = S ? S[0] : null;
                if (hA && hA.type == "SOLID") {
                    var ft = hA.color;
                    j.add.artb.artboardBackgroundType.v = 4;
                    j.add.artb.Clr = h.nS(ft)
                }
            }
            b.t.push(b.JG());
            var c6 = X.QE;
            X.QE = {};
            for (var ba = 0; ba < k.length; ba++) h.Ly(k[ba], o, V, K, b, R + 1, X);
            X.QE = c6;
            j.add.lsct = !1 ? bb.SI : bb.RN;
            j.TC = "pass";
            var f7 = j.HY();
            j.a1 = 24;
            j.BZ(f7);
            var an = R != 0 && S.length != 0 && !w.frameMaskDisabled && w.containerSupportsFillStrokeAndCorners;
            if (an && N) {
                j.add.vmsk = N;
                j.add.vogk = F;
                j.b6(b)
            } else h.hZ(X, j, b);
            b.t.push(j)
        } else if (w.mask) {
            if (N) {
                X.QE.gM = N;
                X.QE.Wn = F
            }
        } else {
            var b5 = [],
                de = 1;
            if (n)
                for (var hG = 0; hG < n.length; hG++) {
                    var cf = n[hG],
                        eE = cf.color,
                        aV = cf.type,
                        dp = ["DROP_SHADOW", "INNER_SHADOW"].indexOf(aV);
                    if (dp != -1) {
                        var en = ["DrSh", "IrSh"][dp],
                            f1 = JSON.parse(b_.l1[b_.order.indexOf(en)]);
                        b5.push([en, f1]);
                        f1.enab.v = cf.visible;
                        f1.Md.v.BlnM = hL.vI(h.a3x(cf.blendMode));
                        f1.Opct.v.val = Math.round(100 * eE.a);
                        f1.blur.v.val = Math.round(cf.radius * V.Qz());
                        f1.Clr = h.nS(eE);
                        var hI = cf.offset.x,
                            a$ = cf.offset.y;
                        f1.uglg.v = !1;
                        f1.lagl.v.val = Math.round(180 / Math.PI * Math.atan2(a$, -hI));
                        f1.Dstn.v.val = Math.round(Math.sqrt(hI * hI + a$ * a$) * V.Qz())
                    }
                }
            if (i == "TEXT" && S[0] && S[0].type != "SOLID") de = 0;
            for (var M = de; M < S.length; M++) {
                var dM = S[M],
                    ih = h.it(w, dM, V, O, K, b, X);
                if (ih[0] == "GdFl") b5.push(["GrFl", ih[1]]);
                else if (ih[0] == "SoCo") b5.push(["SoFi", ih[1]]);
                else if (ih[0] == "PtFl") b5.push(["patternFill", ih[1]]);
                else throw ih
            }
            if (b5.length != 0) {
                var fa = JSON.parse(b_.default);
                for (var M = 0; M < b_.order.length; M++) fa[b_.Ix[M]] = {
                    t: "VlLs",
                    v: []
                };
                for (var M = 0; M < b5.length; M++) {
                    var eI = b5[M],
                        en = b_.Ix[b_.order.indexOf(eI[0])];
                    fa[en].v.unshift({
                        t: "Objc",
                        v: eI[1]
                    })
                }
                if (k == null) j.add.lmfx = fa
            }
            b.t.push(j)
        }
    };
    dd.O0 = function(w, o) {
        var Q = w.parentIndex.position,
            K = o.parentIndex.position;
        return Q > K ? 1 : -1
    };
    dd.eW = function(w) {
        for (var M = 1; M < w.length; M++) {
            var o = w[M];
            if (o.type == "IMAGE" && o.opacity == 1) {
                w = w.slice(M);
                break
            }
        }
        for (var M = 0; M < w.length; M++) {
            var o = w[M],
                Q = o.imageThumbnail;
            if (o.type == "IMAGE" && o.image.dataBlob == null && Q && Q.dataBlob) o.image = Q;
            if (!o.visible || o.type == "IMAGE" && o.image.dataBlob == null) {
                w.splice(M, 1);
                M--
            }
        }
        return w
    };
    dd.hZ = function(w, o, Q) {
        if (w.QE.gM) {
            o.add.vmsk = w.QE.gM.clone();
            o.add.vogk = JSON.parse(JSON.stringify(w.QE.Wn));
            o.b6(Q)
        }
    };
    dd.sH = function(w, o, Q, K, b, R, X, h) {
        var e = w.fontSize,
            Z = w.lineHeight,
            P = w.fontName,
            J = w.textAlignHorizontal,
            i = w.textTracking,
            k = w.textCase;
        if (e == null) e = K.Bq.FontSize;
        if (P) fI.aE(K, P.postscript);
        if (e != null) K.Bq.FontSize = Math.round(e);
        if (i) K.Bq.Tracking = Math.round(i * 1e3);
        if (k) K.Bq.FontCaps = k == "UPPER" ? 2 : 0;
        if (Z && (Z.units != "PERCENT" || Z.value != 100)) {
            var $ = Z.value;
            if (Z.units == "PERCENT") $ = 1 * e * $ / 100;
            if (Z.units == "RAW") $ = 1 * e * $;
            K.Bq.AutoLeading = !1;
            K.Bq.Leading = Math.round($)
        }
        if (J) K.j_.Justification = ["LEFT", "RIGHT", "CENTER"].indexOf(J);
        var n = w.fillPaints,
            j = w.inheritFillStyleID;
        if (j) {
            var y = dd.r5(h.Vp, j);
            if (y) n = y.fillPaints
        }
        if (n && n[0]) {
            var V = dd.it(w, n[0], o, Q, R, X, h);
            if (V[0] == "SoCo") {
                var O = v.V.c2(V[1].Clr.v);
                K.Bq.FillColor = {
                    Type: 1,
                    Values: [1, O.W / 255, O.a / 255, O.k / 255]
                };
                b.opacity = Math.round(b.opacity / 255 * (V[1].Opct.v.val / 100) * 255)
            }
        }
    };
    dd.it = function(w, o, Q, K, b, R, X) {
        var h = dd,
            e, Z, P = w.size;
        if (o) {
            var J = o.type,
                i = ["GRADIENT_LINEAR", "GRADIENT_RADIAL", "GRADIENT_DIAMOND", "GRADIENT_ANGULAR"].indexOf(J);
            if (J == "SOLID") {
                e = "SoCo";
                var k = o.color;
                Z = JSON.parse(b_.l1[b_.order.indexOf("SoFi")]);
                Z.Clr = h.nS(k)
            } else if (i != -1) {
                var $ = JSON.parse(b_.l1[b_.order.indexOf("GrFl")]),
                    n = $.Grad.v;
                n.Intr.v = 0;
                $.Type.v.GrdT = ["Lnr", "Rdl", "Dmnd", "Angl"][i];
                var j = [],
                    y = o.stops;
                for (var M = 0; M < y.length; M++) {
                    var V = y[M],
                        O = V.color;
                    j.push([V.position, [O.r, O.g, O.b], O.a])
                }
                v.V.Hm(j, n);
                var S = h.SZ(o.transform);
                S.MF();
                var G = S.clone();
                G.scale(P.x, P.y);
                G.concat(Q);
                var D = new fB(0, .5),
                    q = new fB(1, .5);
                D = G.hv(D);
                q = G.hv(q);
                if (!0) {
                    D.x = q.x + .5 * (D.x - q.x);
                    D.y = q.y + .5 * (D.y - q.y)
                }
                v.V.Pq(D, q, K, $);
                if (i == 3) {
                    if (G.K * G.TX - G.k * G.Lu < 0) $.Rvrs.v = !$.Rvrs.v
                }
                e = "GdFl";
                Z = $
            } else if (J == "IMAGE") {
                var $ = JSON.parse(b_.l1[b_.order.indexOf("patternFill")]),
                    T = $.phase.v,
                    L = o.image.dataBlob,
                    N = X.alV[L],
                    C = 1;
                if (N == null) {
                    var F = h.X_(b, L);
                    N = X.alV[L] = {};
                    N.id = fb.Fk() + "-d71c-11e5-b1ae-a548a96e5f9f";
                    N.Ua = [new Uint8Array(F.data), F.Ip];
                    N.name = "someImage";
                    R.vk(N)
                }
                $.Algn.v = !0;
                $.Ptrn.v.Idnt.v = N.id;
                var I = Q.xy,
                    s = Q.r6,
                    u = o.imageScaleMode,
                    S = h.SZ(o.transform);
                S.MF();
                var g = K.D,
                    U = K.j,
                    r = N.Ua[1].D,
                    x = N.Ua[1].j;
                if (u == "FILL") {
                    C = Math.max(g / r, U / x);
                    C = Math.round(C * 100) / 100
                } else if (u == "FIT") {
                    C = Math.min(g / r, U / x);
                    C = Math.round(C * 100) / 100
                } else if (u == "STRETCH") {
                    var p = g * S.K,
                        l = U * S.TX;
                    C = .5 * (p / r + l / x);
                    C = Math.round(C * 100) / 100;
                    I += (p - g) / 2 + S.xy * g;
                    s += (l - U) / 2 + S.r6 * U
                } else if (u == "TILE") {
                    C = o.scale;
                    C = Math.round(C * 100) / 100;
                    I += (p - g) / 2;
                    s += (l - U) / 2
                }
                var c = C * r,
                    t = C * x;
                I += -(c - g) / 2;
                s += -(t - U) / 2;
                $.Scl.v.val = Math.round(100 * C);
                T.Hrzn.v = Math.round(I);
                T.Vrtc.v = Math.round(s);
                e = "PtFl";
                Z = $
            } else throw J;
            if (Z) Z.Opct = {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: Math.round(o.opacity * 100)
                }
            }
        } else {
            e = "None";
            Z = {
                classID: "null",
                Clr: {
                    t: "Objc",
                    v: v.V.Kt({
                        W: 0,
                        a: 0,
                        k: 0
                    })
                }
            }
        }
        return [e, Z]
    };
    dd.X_ = function(w, o) {
        var Q = w[o];
        if (Q.rslt) return Q.rslt;
        var K = Q.bytes.buffer,
            b = ip.jF(K),
            R = ip.pR(b);
        try {
            Q.rslt = R.p5(K)[0]
        } catch (b6) {
            Q.rslt = {
                data: v.$(4),
                Ip: new B(0, 0, 1, 1)
            }
        }
        return Q.rslt
    };
    dd.B7 = function(w, o, Q, K) {
        var b = w.type,
            R = w.size,
            X = w.cornerRadius,
            J;
        if (X == null) X = 0;
        var h = v.Wn.pa(),
            e = R.x,
            Z = R.y,
            P = [X, X, X, X],
            i = ["rectangleTopLeftCornerRadius", "rectangleTopRightCornerRadius", "rectangleBottomRightCornerRadius", "rectangleBottomLeftCornerRadius"];
        for (var M = 0; M < 4; M++)
            if (w[i[M]] != null) P[M] = w[i[M]];
        if (b == "RECTANGLE" || b == "ROUNDED_RECTANGLE" || b == "FRAME") {
            J = v.P.z_.Rect(0, 0, e, Z, P)
        } else if (b == "ELLIPSE") {
            var k = w.arcData,
                $ = k ? k.startingAngle : 0,
                n = k ? k.endingAngle : 2 * Math.PI,
                j = k ? k.innerRadius : 0;
            if ($ == 0 && n > 1.999 * Math.PI) J = v.P.z_.eG(0, 0, e, Z, 0);
            else J = v.P.z_.ak8(e / 2, Z / 2, Z / 2, $, n);
            if (j != 0 && j != 1) {
                var y = a.Y3.DK(J).slice(3);
                y.reverse();
                for (var M = 0; M < y.length; M++) {
                    var V = y[M],
                        O = V.M7;
                    V.M7 = V.WQ;
                    V.WQ = O
                }
                var S = new dj;
                S.translate(-e / 2, -Z / 2);
                S.scale(j, j);
                S.translate(e / 2, Z / 2);
                v.P.nB(y, S);
                J = J.concat(y);
                J[2].length *= 2
            }
        } else if (b == "LINE") {
            J = v.P.z_.Rect(0, 0, e, Z, 0);
            J.pop();
            J.pop();
            J[2].length = 2
        } else if (b == "REGULAR_POLYGON") {
            J = v.P.z_.cz(.5, .5, .5, Math.PI / 2, w.count, 0);
            var G = new dj;
            G.scale(e, Z);
            v.P.nB(J, G)
        } else if (b == "BOOLEAN_OPERATION") {
            J = [{
                type: 6
            }, {
                type: 8,
                all: 0
            }];
            var D = w.children,
                q = ["XOR", "UNION", "SUBTRACT", "INTERSECT"].indexOf(w.booleanOperation);
            if (q == -1) throw w;
            if (D == null) D = [];
            for (var M = 0; M < D.length; M++) {
                var T = D[M],
                    L = new a.Y3,
                    N = [],
                    F = dd.B7(T, o, L, N);
                if (L._ == null) continue;
                v.P.nB(L._, dd.SZ(T.transform));
                J = J.concat(L._.slice(2));
                for (var I = 0; I < N.length; I++) K.push(N[I])
            }
            for (var M = 3; M < J.length; M++)
                if (J[M].ID != null) J[M].ID = q;
            h = null
        } else if (b == "VECTOR") {
            var s, u;
            if (!0) {
                var g = w.vectorData;
                s = g.normalizedSize;
                u = g.vectorNetworkBlob
            } else {
                s = R;
                u = bH[0].commandsBlob;
                console.log(bH)
            }
            var U = o[u].bytes,
                r = new Uint32Array(U.buffer),
                x = new Float32Array(U.buffer),
                C = r[0],
                p = r[1],
                l = [];
            for (var M = 0; M < C; M++) {
                var c = 3 + M * 3,
                    H = new fB(x[c + 1], x[c + 2]);
                l.push(H)
            }
            var gl = [],
                ie = 3 + C * 3;
            for (var M = 0; M < p; M++) {
                var fk = ie + M * 7,
                    h5 = r[fk + 1],
                    cf = r[fk + 4];
                gl.push([h5, cf, x[fk + 2], x[fk + 3], x[fk + 5], x[fk + 6]])
            }
            var f = -1;
            for (var M = 0; M < p; M++) {
                if (f == -1) {} else {
                    var aH = -1;
                    for (var I = M; I < p; I++)
                        if (gl[I][1] == f) aH = I;
                    for (var I = M; I < p; I++)
                        if (gl[I][0] == f) aH = I;
                    if (aH != -1) {
                        var gY = 0,
                            O = gl[aH];
                        gl[aH] = gl[M];
                        gl[M] = O;
                        if (O[0] != f) {
                            gY = O[0];
                            O[0] = O[1];
                            O[1] = gY;
                            gY = O[2];
                            O[2] = O[4];
                            O[4] = gY;
                            gY = O[3];
                            O[3] = O[5];
                            O[5] = gY
                        }
                    }
                }
                f = gl[M][1]
            }
            var cC = [],
                cY = [],
                gJ = -1;
            f = -1;
            for (var M = 0; M < p; M++) {
                var bM = gl[M],
                    h5 = bM[0],
                    cf = bM[1],
                    cN = l[h5],
                    eu = l[cf];
                if (f != h5) {
                    cY.push("M");
                    cC.push(cN.x, cN.y);
                    gJ = h5
                }
                cC.push(cN.x + bM[2], cN.y + bM[3]);
                cC.push(eu.x + bM[4], eu.y + bM[5]);
                cY.push("C");
                cC.push(eu.x, eu.y);
                f = cf;
                if (gJ == cf) {
                    cY.push("Z");
                    gJ = f = -1
                }
            }
            J = v.w.IT({
                X: cC,
                Y: cY
            }, !0);
            if (X != 0) {
                var P = [],
                    cU = J[2].length;
                for (var M = 0; M < cU; M++) P.push(X);
                if (v.P.ZS(J)) v.P.Ad(J, 2, P)
            }
            var h7 = new dj;
            h7.scale(s.x == 0 ? 1 : R.x / s.x, s.y == 0 ? 1 : R.y / s.y);
            v.P.nB(J, h7)
        }
        Q._ = J;
        if (h) K.push(h)
    };
    dd.r5 = function(w, o) {
        return w[o.sessionID + "," + o.localID]
    };
    dd.a6P = function(w, o) {
        return w.sessionID == o.sessionID && w.localID == o.localID
    };
    dd.a3x = function(w) {
        var o = {
            NORMAL: "norm",
            MULTIPLY: "mul ",
            SCREEN: "scrn"
        } [w];
        if (o == null) throw w;
        return o
    };
    dd.nS = function(w) {
        return {
            t: "Objc",
            v: v.V.Kt({
                W: w.r * 255,
                a: w.g * 255,
                k: w.b * 255
            })
        }
    };
    dd.SZ = function(w) {
        var o = [w.m00, w.m10, w.m01, w.m11, w.m02, w.m12];
        for (var M = 0; M < 6; M++)
            if (Math.abs(o[M]) < 1e-20) o[M] = 0;
        return new dj(o[0], o[1], o[2], o[3], o[4], o[5])
    };
    var z = {};
    z.Vb = function(w, o, Q) {
        this.name = w;
        this.id = o;
        this.hf = null;
        if (Q != null) this.dR = Q
    };
    z.Vb.prototype.Sx = function(w, o, Q, K, b) {};
    z.Vb.prototype.enable = function(w, o, Q, K, b, R) {
        var X = new Y(_.E.N, !0);
        X.data = {
            e: _.S.Gi,
            hr: "default"
        };
        o.A(X)
    };
    z.Vb.prototype.disable = function(w, o, Q, K, b) {};
    z.Vb.prototype.H4 = function(w, o, Q, K, b) {
        return !1
    };
    z.Vb.prototype.Br = function(w, o, Q, K, b) {};
    z.Vb.prototype.iM = function(w, o, Q, K, b) {};
    z.Vb.prototype.$z = function(w, o, Q, K, b) {};
    z.Vb.prototype.IN = function(w, o, Q, K, b) {};
    z.Vb.prototype.ml = function(w, o, Q, K, b) {};
    z.Vb.prototype.Yq = function(w, o, Q, K) {};
    z.Vb.prototype.iI = function(w, o, Q, K) {};
    z.Vb.prototype.ju = function(w, o) {};
    z.Vb.prototype.Di = function(w, o) {};
    z.Vb.prototype.wx = function(w, o, Q, K, b) {};
    z.Vb.prototype.yy = function(w, o) {};
    z.Vb.prototype.jy = function(w, o) {
        return !1
    };
    z.Vb.prototype.sT = function(w, o) {
        return !1
    };
    z.Vb.prototype.AO = function() {
        return !1
    };
    z.Vb.prototype.Td = function(w, o) {
        return !0
    };
    z.Vb.prototype.Pl = function() {
        return null
    };
    z.Vb.prototype.om = function(w, o, Q) {};
    z.Vb.prototype.aF = function() {
        return !1
    };
    z.Vb.prototype.mm = function(w, o, Q, K) {};
    z.Vb.prototype.track = function(w) {
        var o = new Y(_.E.e9, !0);
        o.data = w;
        w.dw = !0;
        this.hf.A(o)
    };
    z.Vb.Tn = function(w, o, Q, K, b) {
        z.Vb.lV(w, o, [b6.get([12, 41]).charAt(0) + ": " + v.JU.IH(Q.D, K.cK, b, K.D, !0), b6.get([12, 42]).charAt(0) + ": " + v.JU.IH(Q.j, K.cK, b, K.j, !0)], K)
    };
    z.Vb.lV = function(w, o, Q, K) {
        var b = 14,
            R = 130,
            X = Q.length * 17 + 8,
            h = new B(w, o - X, R, X),
            e = z.Vb.qC;
        if (e == null) e = z.Vb.qC = document.createElement("canvas");
        e.width = R;
        e.height = X;
        var Z = e.getContext("2d");
        Z.fillStyle = "rgba(0,0,1,1)";
        Z.fillRect(0, 0, R, X);
        Z.font = b + "px monospace";
        Z.fillStyle = "rgba(255,255,255,1)";
        for (var M = 0; M < Q.length; M++) Z.fillText(Q[M], 6, (M + 1) * 17);
        K.r.aG = [
            [Z.getImageData(0, 0, R, X).data, h.clone()]
        ]
    };
    z.Vb.qC = null;
    z.sk = "0";
    z.By = "1";
    z.aa7 = "2";
    z.agO = "3";
    z.RM = "5";
    z.ah1 = "6";
    z.a6m = "7";
    z.BC = "8";
    z.YJ = "9";
    z.V_ = "10";
    z.qN = "11";
    z.tD = "12";
    z.b4 = "13";
    z.mY = "14";
    z.als = "16";
    z.x0 = "18";
    z.fP = "19";
    z.gF = "20";
    z.zj = "21";
    z.uC = "22";
    z.IA = "23";
    z.kW = "24";
    z.TJ = "25";
    z.zr = "27";
    z.Cg = "31";
    z.ans = "32";
    z.a20 = "34";
    z.a8d = "35";
    z.je = "36";
    z.hP = "37";
    z.CJ = "38";
    z.vH = "39";
    z.yK = "40";
    z.JD = "41";
    z.Uu = "42";
    z.cb = "43";
    z.wy = "47";
    z.k9 = "51";
    z.aD = "52";
    z.t2 = "54";
    z.eF = "55";
    z.vh = "56";
    z.xQ = "57";
    z.gR = "58";
    z.l4 = "59";
    z.am1 = "60";
    z.xT = "61";
    z.Go = "100";
    z.CK = "101";
    z.Vz = "102";
    z.Ce = "120";
    z.U1 = "230";
    z.a3H = "231";
    z.Rq = "232";
    z.lz = "233";
    z.ii = "234";
    z.uB = "235";
    z.fG = "236";
    z.Cs = function(w) {
        var o = z.Qf,
            Q = null;
        for (var K in o)
            if (o[K][1].indexOf(w[1].classID) != -1) Q = K;
        return Q
    };
    z.Qf = {};
    z.Qf[z.IA] = ["tools/brush", ["PbTl"]];
    z.Qf[z.kW] = ["tools/pencil", ["PcTl"]];
    z.Qf[z.Cg] = ["tools/eraser", ["ErTl"]];
    z.bA = function(w, o, Q) {
        z.Vb.call(this, w, o, Q);
        this.GJ = {
            brush: w ? dI.cR() : null,
            bmode: "norm",
            opacity: 1,
            flow: 1,
            smth: 0,
            samp: 0,
            prsr: [!1, !0],
            emode: 0,
            wconf: [40, !0, !0],
            algnd: !1,
            sfrom: 0,
            alt: [!1],
            expo: .5,
            rng: 1,
            strn: .5,
            pdetail: !0,
            smode: 1,
            qsmode: 0,
            setop: "front",
            patch: 0
        };
        this.AL = null;
        this.$h = null;
        this._w = null;
        this.sy = null;
        this.Z0 = null;
        this.Mj = null;
        this.Og = null;
        this.h9 = null;
        this.bZ = null;
        this.J5 = null;
        this.RI = null;
        this.Ge = null;
        this.Ab = null;
        this.D9 = 1;
        this.hp = !1;
        this.bt = null;
        this.caller = null
    };
    z.bA.prototype = new z.Vb;
    z.bA.prototype.sT = function(w, o) {
        return w.L8 && o.i(E.lK)
    };
    z.bA.prototype.iM = function(w, o, Q, K, b) {
        if (K.i(E.O4)) {
            this.Mj = new fB(b.x, b.y);
            var R = this.GJ.brush.Brsh.v,
                X = R.Dmtr.v.val,
                h = R.Hrdn != null ? R.Hrdn.v.val : -1;
            this.Og = [X, h, !0, JSON.parse(JSON.stringify(this.GJ.brush)), b];
            this.Oy(Q)
        }
    };
    z.bA.prototype.h0 = function(w, o, Q) {
        var K = this.Og,
            b = w.m.I,
            R = Q.x - K[4].x,
            X = Q.y - K[4].y,
            h = K[0],
            e = K[1],
            Z = Math.abs(R) > Math.abs(X);
        if (Z && K[2]) {
            var P = Math.round(2 * R / b);
            h += P;
            Q.x -= R - .5 * P * b
        }
        if (!Z && !K[2] && e != -1) {
            var P = Math.round(.25 * X);
            e += P;
            Q.y -= X - 4 * P
        }
        h = Math.max(1, h);
        e = K[1] == -1 ? -1 : Math.max(0, Math.min(100, e));
        var J = K[3];
        J.Brsh.v.Dmtr.v.val = h;
        if (e != -1) J.Brsh.v.Hrdn.v.val = e;
        this.Og = [h, e, Z, J, Q];
        var i = dR.Ul(J, o.Yf.Pe, b),
            k = i[1];
        k.x = Math.round(this.Mj.x - k.D / 2);
        k.y = Math.round(this.Mj.y - k.j / 2);
        w.r.CT = [i];
        var $ = w.m.WD(this.Mj.x, this.Mj.y);
        w.r.pM = {
            GP: [],
            hV: [$.x - h / 2, $.y, $.x + h / 2, $.y]
        };
        if (e != -1) w.r.pM.hV.push($.x + 50 / b, $.y - e / 2, $.x + 50 / b, $.y + e / 2);
        w.n9 = !0
    };
    z.bA.prototype.ml = function(w, o, Q, K, b) {
        if (this.id == z.gF) return;
        if (this.Mj) {
            this.Mj = null;
            this.kA(JSON.parse(JSON.stringify(this.Og[3])));
            w.r.CT = [];
            w.r.pM = null;
            w.n9 = !0;
            return
        }
        var R = new Y(_.E.N, !0);
        R.data = {
            e: _.S.X3,
            f: this.id,
            afg: "showBrushOpts",
            KI: new fB(b.qb + 4, b.Nh)
        };
        o.A(R)
    };
    z.bA.prototype.kA = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.UA,
            pO: d5.mO,
            L4: w
        };
        this.caller.A(o)
    };
    z.bA.M3 = function(w, o, Q, K) {
        if (w == null) w = "FrgC";
        if (o == null) o = "norm";
        if (Q == null) Q = 1;
        var b = {
            classID: "Fl",
            Usng: {
                t: "enum",
                v: {
                    FlCn: w
                }
            },
            Opct: {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: Math.round(Q * 100)
                }
            },
            Md: {
                t: "enum",
                v: {
                    BlnM: hL.vI(o)
                }
            }
        };
        if (w == "Clr") b.Clr = {
            t: "Objc",
            v: K
        };
        if (w == "contentAware") b.contentAwareColorAdaptationFill = {
            t: "bool",
            v: !0
        };
        return {
            hj: "fill",
            H8: b
        }
    };
    z.bA.prototype.Sx = function(w, o, Q, K, b) {
        this.hf = o;
        var R = Q.Od.length;
        if (R == 0 && !Q.yD()) return;
        var X = R != 0 ? -1 - Q.Od[0] : Q.u[0],
            h = Q.t[X];
        if (w.e == "fromAction") {
            var e = w.Nl,
                Z = e.H8;
            if (e.hj == "fill") {
                var P = (Z.Opct ? Z.Opct.v.val : 100) / 100,
                    J = Z.Md ? hL.$v(Z.Md.v.BlnM) : "norm",
                    i = Z.Usng.v.FlCn,
                    k;
                if (i == "contentAware") {
                    if (Q.o == null) {
                        alert("Select an area to heal first.");
                        return
                    }
                    if (!Q.yD()) return;
                    this.hw(Q);
                    var $ = Q.o,
                        n = v.$($.rect.O() * 4);
                    v.qh($.channel, n, 3);
                    this.LJ(Q, "sheal", n, $.rect, $.rect);
                    this.C(Q, $.rect);
                    this.finish(Q, $.rect)
                } else {
                    if (i == "FrgC") k = b.x1;
                    else if (i == "BckC") k = b.TT;
                    else if (i == "Blck") k = 0;
                    else if (i == "Wht") k = 16777215;
                    else if (i == "Gry") k = 8421504;
                    else if (i == "Clr") {
                        var j = v.V.c2(Z.Clr.v);
                        k = j.W << 16 | j.a << 8 | j.k
                    }
                    var y = k >> 16 & 255,
                        V = k >> 8 & 255,
                        O = k >> 0 & 255;
                    this.el(Q, h, Q.o, y, V, O, Math.round(255 * P), J, [2, 3])
                }
            } else if (e.hj == "delete") {
                var S = X < 0 ? 1 : h.lY,
                    $ = Q.o,
                    L;
                if ($ == null) return;
                var G = X < 0 ? Q.SF[-X - 1] : S <= 0 ? null : S == 1 ? h._f() : h.Ca(Q).q,
                    D = S <= 0 ? h.rect : G.rect,
                    q = S <= 0 ? $.rect.z2(D) : $.rect.clone();
                if (q.Kx()) return;
                var T = q.O();
                if (S <= 0) {
                    L = v.$(T * 4);
                    v.c1(h.buffer, h.rect, L, q)
                } else {
                    L = v.$(T);
                    G.extend(q);
                    v.Hp(G.channel, G.rect, L, q)
                }
                if (0 <= X && h.Bb(Q, $)) {
                    if (S <= 0) {
                        v.Fw(L, 0);
                        v.c1(h.Xa.oX, h.Xa.tS, L, q)
                    } else {
                        v.set(L, 255);
                        v.Hp(h.Xa.oX, h.Xa.tS, L, q)
                    }
                } else {
                    if (S <= 0) {
                        var N = v.$(L.length >> 2);
                        v.KU(L, N, 3);
                        v.M.K_(v.pa($.rect.O()), $.rect, N, q, $.channel, q, 1);
                        v.qh(N, L, 3)
                    } else {
                        var F = v.$($.rect.O()),
                            y = b.TT >> 16 & 255,
                            V = b.TT >> 8 & 255,
                            O = b.TT >> 0 & 255;
                        v.set(F, Math.round(v.hn(y, V, O)));
                        v.M.K_(F, $.rect, L, q, $.channel, q, 1)
                    }
                }
                this.oI(Q, !0, [2, 2], X, S, q, L)
            }
        }
        if (w.e == "stroke") {
            var I = w.a73,
                $ = Q.o;
            if ($ == null) {
                $ = {
                    rect: h.rect.clone(),
                    channel: v.$(h.rect.O())
                };
                v.KU(h.buffer, $.channel, 3)
            }
            var s = eg.d2(I),
                u = z.hz.Tv($, Math.ceil(s[0]), Math.ceil(s[1])),
                k = v.V.c2(I.Clr.v),
                y = Math.round(k.W),
                V = Math.round(k.a),
                O = Math.round(k.k);
            this.el(Q, h, u, y, V, O, Math.round(255 * I.Opct.v.val / 100), hL.$v(I.Md.v.BlnM), [14, 9])
        }
        if (w.e == "fillBMP") {
            this.fl(Q, h, Q.o, w.y8, w.ae, w.Wp)
        }
        if (w.e == "draw") {
            var g = w.nd,
                U = g.rect;
            this.hw(Q);
            var r = Q.t[Q.u[0]];
            if (w.a7O && r && r.lY <= 0 && Q.Od.length == 0) {
                U = cr.Ud.Et(g, Q);
                r.buffer = g.buffer.slice(0);
                r.rect = U.clone()
            } else {
                var x = this.GJ.bmode;
                this.GJ.bmode = "norm";
                this.LJ(Q, "draw", g.buffer, U, U.z2(new B(0, 0, Q.D, Q.j)));
                this.GJ.bmode = x
            }
            this.C(Q, U);
            Q.ot = !0;
            this.finish(Q, U, w.Wp, w.a7O)
        }
    };
    z.bA.prototype.el = function(w, o, Q, K, b, R, X, h, e) {
        var Z = Q == null ? new B(0, 0, w.D, w.j) : Q.rect,
            P = X << 24 | R << 16 | b << 8 | K << 0,
            J = v.$(Z.O() * 4);
        v.Fw(J, P);
        this.fl(w, o, Q, J, h, e)
    };
    z.bA.prototype.fl = function(w, o, Q, K, b, R) {
        var X = w.Od.length != 0 ? -1 - w.Od[0] : w.u[0],
            h = X < 0 ? 1 : o.lY,
            e = X < 0 ? w.SF[-1 - X] : h <= 0 ? null : h == 1 ? o._f() : o.Ca(w).q,
            Z = h <= 0 ? o.rect : e.rect,
            P = Q == null ? new B(0, 0, w.D, w.j) : Q.rect,
            J = Q == null ? v.lP(w.D * w.j) : Q.channel,
            i = P.O(),
            k, $ = null;
        if (h <= 0) {
            k = v.$(i * 4);
            v.c1(o.buffer, o.rect, k, P)
        } else {
            k = v.$(i);
            e.extend(P);
            v.Hp(e.channel, e.rect, k, P)
        }
        if (Q != null) v.Xb(J, K);
        if (h > 0) {
            $ = v.$(i);
            v.wC(K, $)
        }
        if (0 <= X && Q && o.Bb(w, Q)) {
            var n = o.Xa.DL,
                j = v.clone(o.Xa.DL);
            if (h <= 0) v.gb(K, j);
            else v.gb($, j);
            var y = new hl([2, 3], this);
            y.data = {
                e: "drawtemp",
                p: w.u[0],
                Bu: h,
                akz: n,
                a3Q: j
            };
            w.be(y);
            this.ju(y.data, w)
        } else {
            if (h <= 0) {
                var V;
                if (o.cp(0)) {
                    V = v.$(P.O());
                    v.KU(k, V, 3)
                }
                v.M.M$(b, K, P, k, P, P, 1);
                if (o.cp(0)) v.qh(V, k, 3)
            } else v.M.K_($, P, k, P, J, P, 1);
            this.oI(w, !0, R, X, h, P, k)
        }
    };
    z.bA.prototype.jy = function(w) {
        if (E.bz.indexOf(w) != -1) return !0;
        return !1
    };
    z.bA.prototype.Yq = function(w, o, Q, K) {
        var b = this.GJ.brush,
            R = K.i(E.O4),
            X = R != this.hp,
            h = z.bA._1(b, K);
        if (h != null) this.kA(h);
        if (!K.i(E.HE) && K.I8() != -1) {
            var e = _.Ht(Math.round(this.GJ.opacity * 100), K.I8()) / 100;
            this.hs({
                opacity: e
            }, o)
        }
        if (this.id == z.BC && X && w != null) {
            var Z = this.GJ.qsmode;
            if (Z == 2) Z = w.o == null ? 0 : 1;
            else Z = 2;
            this.hs({
                qsmode: Z
            }, o)
        }
        this.hp = R;
        if (X) {
            if (w) this.D9 = w.m.I;
            this.Oy(Q, K)
        }
    };
    z.bA._1 = function(w, o) {
        var Q = w.Brsh.v.Dmtr.v.val,
            K = w.Brsh.v.Hrdn != null ? w.Brsh.v.Hrdn.v.val : -1,
            b = Q,
            R = K,
            X = o.i(E.lK);
        if (o.i(E.dr)) {
            if (X) K = 25 * Math.floor((K - 1) / 25);
            else {
                if (Q <= 10) Q--;
                else if (Q <= 50) Q = 5 * Math.floor((Q - 1) / 5);
                else if (Q <= 100) Q = 10 * Math.floor((Q - 1) / 10);
                else if (Q <= 200) Q = 25 * Math.floor((Q - 1) / 25);
                else if (Q <= 400) Q = 50 * Math.floor((Q - 1) / 50);
                else Q = 100 * Math.floor((Q - 1) / 100)
            }
        }
        if (o.i(E.OB)) {
            if (X) K = 25 * Math.ceil((K + 1) / 25);
            else {
                if (Q < 10) Q++;
                else if (Q < 50) Q = 5 * Math.ceil((Q + 1) / 5);
                else if (Q < 100) Q = 10 * Math.ceil((Q + 1) / 10);
                else if (Q < 200) Q = 25 * Math.ceil((Q + 1) / 25);
                else if (Q < 400) Q = 50 * Math.ceil((Q + 1) / 50);
                else Q = 100 * Math.ceil((Q + 1) / 100)
            }
        }
        Q = Math.max(1, Q);
        K = Math.max(0, Math.min(100, K));
        if (R == -1) K = -1;
        if (Q != b || K != R) {
            var h = JSON.parse(JSON.stringify(w));
            h.Brsh.v.Dmtr.v.val = Q;
            if (R != -1) h.Brsh.v.Hrdn.v.val = K;
            return h
        }
        return null
    };
    z.bA.prototype.Oy = function(w, o, Q, K) {
        if (w.Yf.list.length == 0) return;
        var b = this.id,
            R;
        if ((b == z.zr || b == z.fP || b == z.IA || b == z.kW) && (o != null && o.i(E.O4) || this.GJ.alt[0])) R = "crosshair";
        else {
            var X = this.D9,
                h = this.GJ.brush,
                e;
            if (Q && Q.u.length != 0) e = Q.t[Q.u[0]];
            if ((b == z.zr || b == z.fP) && e != null && e.lY <= 0 && this.Ge) {
                var Z = Q.m.WD(K.x, K.y),
                    P = this.Tl(Z),
                    J = this.Ge,
                    i = this.RI,
                    k = new B(i.x + P.x, i.y + P.y, i.D, i.j),
                    $ = dR.Ul(h, w.Yf.Pe, X),
                    n = $[0],
                    j = $[1],
                    y = Math.ceil(j.D / X),
                    V = new B(Math.round(Z.x - y / 2), Math.round(Z.y - y / 2), y, y),
                    O = v.$(V.O() * 4),
                    S, G;
                v.c1(J, k, O, V);
                if (X == 1) {
                    S = O;
                    G = V
                } else if (X < 1) {
                    var D = v.rX(O, V, X);
                    S = D.Sg;
                    G = D.rect;
                    if (G.O() != j.O()) {
                        G = j.clone();
                        G.x = D.rect.x;
                        G.y = D.rect.y;
                        S = v.$(G.O() * 4);
                        v.c1(D.Sg, D.rect, S, G)
                    }
                } else {
                    S = n.slice(0);
                    G = j;
                    v.scale.QA(O, V.D, V.j, S, G.D, G.j, X)
                }
                var q = this.GJ.opacity / 255;
                for (var M = 0; M < S.length; M += 4) S[M + 3] = q * (n[M + 3] * S[M + 3]);
                R = {
                    Cm: S,
                    U: G,
                    Ut: new fB(G.D / 2, G.j / 2)
                }
            } else R = dR.VV(h, w.Yf.Pe, X, b == z.TJ)
        }
        var T = new Y(_.E.N, !0);
        T.data = {
            e: _.S.Gi,
            hr: R
        };
        if (this.caller) this.caller.A(T)
    };
    z.bA.prototype.enable = function(w, o, Q, K) {
        this.AL = Q;
        this.caller = o;
        this.kA(JSON.parse(JSON.stringify(this.GJ.brush)));
        if (w && w.m.I != 0) this.D9 = w.m.I;
        this.Oy(Q, K)
    };
    z.bA.prototype.yy = function(w, o) {
        if (o == d5.mO) {
            this.GJ.brush = w.Yf.Uw;
            this.Oy(w)
        }
    };
    z.bA.prototype.wx = function(w, o, Q, K, b) {
        for (var R in w) this.GJ[R] = w[R];
        if (this.GJ.alt[0]) this.Oy(b, K, Q)
    };
    z.bA.prototype.Wb = function(w) {
        var o = w.Od.length != 0 ? -1 - w.Od[0] : w.u[0],
            Q = w.t[o],
            K = o < 0 ? 1 : Q.lY,
            b = o < 0 ? w.SF[-o - 1] : K <= 0 ? null : K == 1 ? Q._f() : Q.Ca(w).q,
            R = b ? b.channel : Q.buffer,
            X = (b ? b.rect : Q.rect).clone();
        return [Q, K, b, R, X]
    };
    z.bA.prototype.hw = function(w, o) {
        this.Ab = w.o == null ? null : {
            rect: w.o.rect.clone(),
            channel: w.o.channel.slice(0)
        };
        var Q = this.Wb(w),
            K = Q[0],
            b = Q[1],
            R = Q[2];
        this.J5 = Q[3];
        this.bZ = Q[4];
        var X = new B(0, 0, w.D, w.j),
            h = X.OX(this.bZ);
        if ((this.hF() && b <= 0 || h.Lb(this.bZ)) && o != !0) this.J5 = this.J5.slice(0);
        else {
            if (R) R.extend(h);
            else K.extend(h)
        }
    };
    z.bA.prototype.YY = function(w) {
        var o = this.Wb(w),
            Q = o[1],
            K = o[3],
            b = o[4],
            R = [K, b],
            X = this.GJ.sfrom;
        if (Q <= 0 && X != 0) {
            R[1] = new B(0, 0, w.D, w.j);
            R[0] = v.clone(w.X_(X == 1 && w.u[0] != w.t.length - 1 ? w.u[0] : null))
        }
        this.Ge = R[0].slice(0);
        this.RI = R[1].clone()
    };
    z.bA.prototype.Bm = function(w, o, Q) {
        if (w.i(E.O4)) {
            var K = new Y(_.E.z, !0);
            K.f = z.mY;
            K.data = {
                e: "pickhere",
                ajy: Q
            };
            o.A(K);
            return !0
        }
        return !1
    };
    z.bA.prototype.Db = function(w, o, Q, K, b, R) {
        if (!w.yD(this.caller)) {
            this.$h = null;
            return
        }
        this.hw(w);
        var X = new B(0, 0, w.D, w.j),
            h = null;
        if (R != null) {
            var e = w.Od.length != 0 ? -1 - w.Od[0] : w.u[0],
                Z = w.t[e],
                P = e < 0 ? w.SF[-e - 1] : Z.lY <= 0 ? null : Z.lY == 1 ? Z._f() : Z.Ca(w).q;
            h = v.$(X.O() * 4);
            if (P) z.bA.QO(this.J5, this.bZ, P.color, h, X);
            else v.c1(this.J5, this.bZ, h, X)
        }
        var J = this.GJ;
        if (this.$h && this.id == z.BC && J.qsmode != 0 && w.o != null) {} else {
            var i = o.x1,
                k = o.TT;
            if (this.bt == "erase") {
                var $ = i;
                i = k;
                k = $
            }
            var n = this.id == z.BC ? this.bZ : X;
            this.$h = new dR(J.brush, o.Yf.Pe, o.Yf.dg, {
                FV: b,
                Yg: R,
                acS: J.smth * 50 * _.J() / w.m.I,
                Vl: this.id == z.kW || J.emode == 1,
                Oe: J.prsr
            }, i, k, n, h)
        }
        if (this.id == z.BC) {
            this.$h.PS(J.brush, J.qsmode == 2 ? 0 : 16777215)
        }
        var j = w.m.WD(K.x, K.y);
        if (Q.i(E.lK) && this._w) {
            var y = this._w;
            this.$h.moveTo(y.x, y.y, K.vi);
            this.$h.lineTo(.001 * y.x + .999 * j.x, .001 * y.y + .999 * j.y, K.vi);
            this.$h.lineTo(j.x, j.y, K.vi)
        } else this.$h.moveTo(j.x, j.y, K.vi);
        this._w = j;
        this.sy = j.clone();
        this.Z0 = new bT(j, w.m.im)
    };
    z.bA.prototype.Lf = function(w, o, Q) {
        if (w && w.m.I != 0 && w.m.I != this.D9) {
            this.D9 = w.m.I;
            this.Oy(Q)
        }
    };
    z.bA.prototype.V4 = function(w, o, Q, K) {
        if (this.$h == null) return;
        var b = w.t[w.u[0]],
            R = w.m.WD(K.x, K.y),
            X = this.Z0.q3(R, Q);
        if (X.Lb(this._w)) return 1;
        this.$h.lineTo(X.x, X.y, K.vi);
        this._w = X;
        if (this.id == z.zr || this.id == z.fP) {
            var h = this.t$(),
                e = 11;
            h = w.m.BT(R.x - h.x, R.y - h.y);
            var Z = e >>> 1,
                P = new B(Math.round(h.x) - Z, Math.round(h.y) - Z, e, e),
                J = v.$(P.O() * 4);
            v.Fw(16777215);
            for (var M = 0; M < e; M++) J[(M * e + Z) * 4 + 3] = J[(e * Z + M) * 4 + 3] = 255;
            w.r.aG = [
                [J, P]
            ];
            w.n9 = !0
        }
    };
    z.bA.prototype.iI = function(w, o, Q, K) {
        if (Q.jM != this.id) return;
        if (this.id != z.BC || w == null) return;
        if (w.o == null || w.u[0] != this.a97) {
            this.a97 = w.u[0];
            this.hs({
                qsmode: 0
            }, o)
        }
    };
    z.bA.prototype.C = function(w, o) {
        if (w.Od.length != 0) {
            w.n9 = !0;
            return
        }
        var Q = w.t[w.u[0]];
        if (o == null) {
            o = this.$h.x8();
            if (this.hF() && Q.lY <= 0) o = o.z2(this.bZ)
        }
        if (o.Kx()) return;
        if (Q.lY <= 0) {
            Q.C(o)
        }
        if (Q.lY == 1) {
            Q._f().eT = !0;
            Q.b6(w)
        }
        if (Q.lY == 3) {
            Q.C()
        }
        w.C(w.root.J2(o, w, w.u[0], !0))
    };
    z.bA.prototype.IN = function(w, o, Q, K, b) {
        if (this.$h == null) return;
        this.$h.finish();
        if (this.id != z.x0 && this.id != z.fP && this.id != z.BC) this.Ra(w);
        if (this.id == z.zr || this.id == z.fP) {
            w.r.aG = [];
            w.n9 = !0
        }
        if (this.id == z.BC) {
            var R = w.o;
            w.o = this.Ab;
            var X = new Y(_.E.z, !0);
            X.data = {
                e: "setsel",
                Wp: this.name,
                o: R
            };
            X.f = z.By;
            o.A(X);
            if (this.GJ.qsmode == 0) this.hs({
                qsmode: 1
            }, o)
        } else {
            this.finish(w, this.$h.Tj());
            this.$h = null;
            this.h9 = null
        }
        this.dir = 0
    };
    z.bA.prototype.hs = function(w, o) {
        for (var Q in w) this.GJ[Q] = w[Q];
        var K = new Y(_.E.N, !0);
        K.data = {
            e: _.S.X3,
            f: this.id,
            l_: w
        };
        o.A(K)
    };
    z.bA.prototype.hF = function() {
        var w = this.id;
        return w == z.BC || w == z.Cg || w == z.vH || w == z.yK || w == z.JD || w == z.uC
    };
    z.bA.prototype.finish = function(w, o, Q, K, b) {
        var R = w.Od.length != 0 ? -1 - w.Od[0] : w.u[0],
            X = w.t[R],
            h = R < 0 ? 1 : X.lY,
            e = R < 0 ? w.SF[-R - 1] : h <= 0 ? null : h == 1 ? X._f() : X.Ca(w).q,
            Z = e ? e.rect : X.rect,
            i;
        if (this.hF() || !Z.Lb(this.bZ)) {
            if (e == null) {
                if (this.hF()) X.ei();
                else {
                    var P = o.OX(this.bZ),
                        J = v.$(P.O() * 4);
                    v.c1(X.buffer, X.rect, J, P);
                    X.buffer = J;
                    X.rect = P
                }
            } else e.ei();
            this.C(w, Z)
        }
        if (h <= 0) {
            i = v.$(o.O() * 4);
            v.c1(this.J5, this.bZ, i, o)
        } else {
            i = v.$(o.O());
            v.set(i, e.color);
            v.Hp(this.J5, this.bZ, i, o)
        }
        this.oI(w, !1, Q ? Q : this.name, R, h, o, i, K, b)
    };
    z.bA.prototype.oI = function(w, o, Q, K, b, R, X, h, e) {
        var Z = X;
        if (b > 0) {
            Z = v.$(R.O() * 4);
            z.bA.QO(X, R, 0, Z, R)
        }
        var P = new hl(Q, this);
        P.data = [{
            p: K,
            Bu: b,
            U: R,
            Hb: Z
        }];
        if (h) P.data.T6 = [w.o, null];
        if (e) P.data.T6 = [this.Ab, w.o];
        w.be(P);
        if (o) this.ju(P.data, w);
        else if (h) w.o = null;
        cr.Xp.j2(w, P.data)
    };
    z.bA.prototype.Di = function(w, o) {
        this.iW(w, o, !1)
    };
    z.bA.prototype.ju = function(w, o) {
        this.iW(w, o, !0)
    };
    z.bA.prototype.iW = function(w, o, Q) {
        if (w.e == "drawtemp") {
            var K = Q ? w.a3Q : w.akz,
                b = o.t[w.p];
            b.Xa.DL = K;
            b.k3(o, 0, 0, o.o);
            b.C();
            o.ot = !0
        } else {
            cr.Xp.$O(o, w);
            if (w.T6) {
                o.o = w.T6[Q ? 1 : 0];
                o.Yr = !0
            }
        }
        o.C()
    };
    z.bA.prototype.Ra = function(w) {
        this.LJ(w, this.bt, this.$h.bK(), this.$h.vG(), this.$h.x8());
        this.C(w)
    };
    z.bA.prototype.LJ = function(w, o, Q, K, b) {
        var R = this.GJ,
            X = w.t[w.u[0]],
            h = w.Od.length != 0 ? w.SF[w.Od[0]] : X.lY <= 0 ? null : X.lY == 1 ? X._f() : X.Ca(w).q,
            e = v.$(b.O() * 4),
            Z, P = X.cp(0);
        if (h == null) {
            if (this.id == z.zj && o == "heal") v.c1(X.buffer, X.rect, e, b);
            else v.c1(this.J5, this.bZ, e, b);
            if (P) {
                Z = v.$(b.O());
                v.KU(e, Z, 3)
            }
        } else {
            z.bA.QO(this.J5, this.bZ, h.color, e, b)
        }
        if (w.o && o != "qselect") {
            var J = b.z2(w.o.rect),
                i = v.$(J.O() * 4);
            if (o == "copy") {
                var k = v.$(J.O());
                v.Hp(w.o.channel, w.o.rect, k, J);
                v.c1(e, b, i, J);
                v.M.uG(Q, K, i, J, k, J, 0, J, 1, !1)
            } else {
                v.c1(Q, K, i, J);
                v.BQ(w.o.channel, w.o.rect, i, J)
            }
            Q = i;
            K = J
        }
        if (o == "idraw" || o == "ierase") {
            if (this.h9 == null) this.h9 = v.$(this.bZ.O());
            var $ = this.GJ.samp,
                n = this.AL.TT,
                j = $ == 0 ? this._w : this.sy,
                y = j.x,
                V = j.y,
                O = z.J7.Yv(this.J5, this.bZ, [j, new fB(y - 2, V), new fB(y + 2, V), new fB(y, V - 2), new fB(y, V + 2)]);
            if ($ == 2) O = [
                [n >>> 16 & 255, n >>> 8 & 255, n >>> 0 & 255, 255]
            ];
            var S = z.J7.ML(e, b, this._w, O, this.GJ.wconf),
                G = v.$(b.O());
            v.Hp(this.h9, this.bZ, G, b);
            v.MQ.OX(S, G, G);
            v.Hp(G, b, this.h9, this.bZ);
            v.BQ(G, b, Q, K);
            o = o.slice(1)
        }
        if (o == "erase" && (cr.Xp.Wl(w) != 16777215 || h)) o = "draw";
        if (o == "draw") v.M.M$(R.bmode, Q, K, e, b, b, R.opacity);
        else if (o == "erase") {
            var D = v.$(b.O() * 4);
            v.c1(Q, K, D, b);
            if (h == null) {
                var q = v.$(b.O());
                v.KU(D, q, 3);
                v.JW(q, R.opacity);
                v.MF(q);
                v.BQ(q, b, e, b)
            } else {
                v.Fw(D, 0, 4278190080);
                v.M.M$("norm", D, b, e, b, b, R.opacity)
            }
        } else if (o == "clone" || o == "heal") {
            var T = this.t$(),
                L = this.RI.clone();
            L.offset(T.x, T.y);
            var N = b.clone();
            N.Nn(1, 1);
            var F = v.$(N.O() * 4),
                I = v.$(N.O());
            v.c1(Q, K, F, N);
            v.KU(F, I, 3);
            v.Fw(F, 0);
            if (h == null) {
                v.c1(this.Ge, L, F, N);
                var s = v.$(N.O());
                v.KU(F, s, 3);
                v.nK(s, I)
            } else z.bA.QO(this.J5, L, h.color, F, N);
            if (o == "clone") {
                v.qh(I, F, 3);
                v.M.M$(R.bmode, F, N, e, b, b, R.opacity)
            }
            if (o == "heal") {
                var u = v.clone(I);
                v.round(u, 20);
                var g = v.$(N.O() * 4);
                if (this.id == z.zj) v.c1(X.buffer, X.rect, g, N);
                else v.c1(this.J5, this.bZ, g, N);
                v.M.uG(F, N, g, N, u, N, 0, N, 1, !1);
                v.M_.ur(g, u, N);
                v.M.uG(g, N, e, b, I, N, 0, b, 1, !1)
            }
        } else if (o == "dodge" || o == "burn") {
            var F = v.$(b.O() * 4),
                x = 1,
                C = 0,
                p = 0,
                l = 0;
            v.c1(Q, K, F, b);
            var U = b.O() * 4,
                r = z.bA.gs;
            if (this.hp) {
                if (o == "dodge") o = "burn";
                else o = "dodge"
            }
            var c = R.rng;
            if (o == "dodge") {
                C = [1 - x / 2, 1, 1 + x][c];
                p = [1, 1 / (1 + x), 1][c];
                l = [x / 2, 0, 0][c]
            }
            if (o == "burn") {
                C = [1 / (1 - x / 2), 1, 1 - x / 2][c];
                p = [1, 1 + x, 1][c];
                l = [-(x / 2) / (1 - x / 2), 0, 0][c]
            }
            for (var M = 0; M < U; M += 4) {
                var t = F[M + 3];
                e[M + 0] = r(e[M + 0], C, p, l, t);
                e[M + 1] = r(e[M + 1], C, p, l, t);
                e[M + 2] = r(e[M + 2], C, p, l, t)
            }
        } else if (o == "sponge" || o == "redeye") {
            var F = v.$(b.O() * 4),
                I = v.$(b.O());
            v.c1(Q, K, F, b);
            v.KU(F, I, 3);
            v.gb(e, F);
            var H = R.smode;
            if (this.hp) H = 1 - H;
            var gl = bf._R("hue2");
            if (o == "sponge") e4.hU(gl, 0, [0, [-50, 46][H],
                [6, 5][H]
            ]);
            else e4.hU(gl, 1, {
                oZ: [265, 305, 25, 55],
                QN: [0, -90, -70]
            });
            var ie = au.Xw("hue2", gl);
            au.WL(ie, F, F, b);
            v.M.uG(F, b, e, b, I, b, 0, b, 1, !1)
        } else if (o == "copy") v.c1(Q, K, e, b);
        else if (o == "sheal") {
            var F = v.$(b.O() * 4),
                I = v.$(b.O());
            v.c1(Q, K, F, b);
            v.KU(F, I, 3);
            v.ie.ur(this.J5, this.bZ, I, e, b)
        } else if (o == "qselect") {
            var fk = this.bZ,
                h5 = fk.D,
                cf = fk.j,
                f = h5 * cf,
                aH = this.$h.bK(),
                O = this.J5,
                gY = z.hz.On,
                I = gY.eQ;
            I.fill(128);
            for (var M = 0; M < f; M++) {
                var cC = aH[M << 2],
                    cY = aH[(M << 2) + 3];
                if (cY == 255 && (cC == 0 || cC == 255)) I[M] = cC
            }
            I[0] = I[h5 - 1] = 0;
            I[(cf >>> 1) * h5] = I[(cf >>> 1) * h5 + h5 - 1] = 0;
            z.VE.Cq(gY, !0);
            w.o = {
                rect: fk,
                channel: gY.o.slice(0)
            };
            w.Yr = !0
        }
        if (h == null) {
            if (P) v.qh(Z, e, 3);
            v.c1(e, b, X.buffer, X.rect)
        } else z.bA.sv(e, b, h)
    };
    z.bA.t$ = function() {
        return null
    };
    z.bA.gs = function(w, o, Q, K, b) {
        var R = w * (1 / 255),
            X = K + o * Math.pow(R, Q),
            h = Math.round(X * b + R * (255 - b));
        return Math.max(0, Math.min(255, h))
    };
    z.bA.QO = function(w, o, Q, K, b) {
        var R = v.$(b.O());
        v.set(R, Q);
        v.Hp(w, o, R, b);
        v.Fw(K, 4278190080);
        v.nP(R, K)
    };
    z.bA.sv = function(w, o, Q) {
        var K = v.$(o.O());
        v.wC(w, K);
        v.Hp(K, o, Q.channel, Q.rect)
    };
    z.hz = function(w, o, Q) {
        z.Vb.call(this, w, o, Q);
        this.GJ = {
            Xm: "front",
            YF: 0,
            pe: {
                Ve: 0,
                x: 3,
                y: 2
            },
            rx: [16, !0, !0]
        };
        this.ln = new fB(-1, -1);
        this.w$ = new fB(-1, -1);
        this.Uj = "default";
        this.hf = null;
        this.abw = !0;
        this.S7 = !1;
        this.hR = !1;
        this.hp = !1;
        this.i4 = 0;
        this.e4 = 0;
        this.rK = !1;
        this.Kl = null;
        this.oy = null;
        this.hk = !1
    };
    z.hz.prototype = new z.Vb;
    z.hz.prototype.adj = function() {
        var w = this.GJ,
            o = [{
                front: 0,
                union: 1,
                difference: 2,
                intersection: 3
            } [w.Xm], w.YF];
        if (this.id == z.YJ) o.push(w.rx);
        return o
    };
    z.hz.prototype.a6u = function(w, o, Q) {
        var K = this.GJ;
        K.Xm = ["front", "union", "difference", "intersection"][w[0]];
        K.YF = w[1];
        K.rx = w[2];
        var b = new Y(_.E.N, !0);
        b.data = {
            e: _.S.X3,
            f: this.id,
            NC: K
        };
        Q.A(b)
    };
    z.hz.On = {
        key: ""
    };
    z.hz.mf = function(w, o) {
        var Q = {
            hj: w,
            H8: {
                classID: "setd",
                null: {
                    t: "obj ",
                    v: [{
                        t: "prop",
                        v: {
                            classID: "Chnl",
                            keyID: "fsel"
                        }
                    }]
                }
            }
        };
        if (o) Q.H8.T = o;
        return Q
    };
    z.hz.aA = function(w, o) {
        return z.hz.mf("set", {
            t: "Objc",
            v: {
                classID: w,
                Top: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: o.y
                    }
                },
                Left: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: o.x
                    }
                },
                Btom: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: o.y + o.j
                    }
                },
                Rght: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: o.x + o.D
                    }
                }
            }
        })
    };
    z.hz.KX = function(w, o) {
        var Q = [],
            K = [],
            R = "set";
        for (var M = 0; M < w.length; M += 2) {
            Q.push(w[M]);
            K.push(w[M + 1])
        }
        var b = {
            t: "Objc",
            v: {
                classID: "Plgn",
                Pts: {
                    t: "ObAr",
                    v: {
                        classID: "Pnt",
                        arr: [{
                            id: "Hrzn",
                            type: "UnFl",
                            uID: "#Pxl",
                            arr: Q
                        }, {
                            id: "Vrtc",
                            type: "UnFl",
                            uID: "#Pxl",
                            arr: K
                        }]
                    }
                }
            }
        };
        if (o) R = {
            front: "set",
            union: "addTo",
            difference: "subtractFrom",
            intersection: "interfaceWhite"
        } [o];
        return z.hz.mf(R, b)
    };
    z.hz.agw = function(w, o) {
        var Q = {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: w.x
                        }
                    },
                    Vrtc: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: w.y
                        }
                    }
                }
            },
            K = z.hz.mf("set", Q);
        K.H8.Tlrn = {
            t: "long",
            v: o[0]
        };
        K.H8.AntA = {
            t: "bool",
            v: o[1]
        };
        K.H8.Cntg = {
            t: "bool",
            v: o[2]
        };
        return K
    };
    z.hz.RL = function(w) {
        return z.hz.mf("set", {
            t: "enum",
            v: {
                Ordn: w ? "Al" : "None"
            }
        })
    };
    z.hz.a8V = function(w, o, Q) {
        var K = {
            classID: "null"
        };
        if (w != "border") K.selectionModifyEffectAtCanvasBounds = {
            t: "bool",
            v: Q
        };
        var b = {
            e: "By",
            c: "By",
            b: "Wdth",
            f: "Rds",
            s: "Rds"
        } [w[0]];
        K[b] = {
            t: "UntF",
            v: {
                type: "#Pxl",
                val: o
            }
        };
        return {
            hj: w,
            H8: K
        }
    };
    z.hz.az = function(w, o, Q) {
        var K = {
                t: "obj ",
                v: [{
                    t: "prop",
                    v: {
                        classID: "Chnl",
                        keyID: "fsel"
                    }
                }]
            },
            b = {
                t: "obj ",
                v: [{
                    t: "Enmr",
                    v: {
                        classID: "Chnl",
                        typeID: "Chnl",
                        enum: o
                    }
                }]
            };
        if (Q) b.v.push({
            t: "name",
            v: {
                classID: "Lyr",
                val: Q
            }
        });
        var R = [{
                classID: "null",
                null: K,
                T: b
            }, {
                classID: "null",
                null: b,
                T: K
            }, {
                classID: "null",
                null: b,
                From: K
            }, {
                classID: "null",
                null: b,
                With: K
            }],
            X = ["set", "add", "subtract", "interfaceIconFrameDimmed"];
        return {
            hj: X[w],
            H8: R[w]
        }
    };
    z.hz.DI = function(w, o) {
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.UA,
            pO: d5.Nc
        };
        if (!o.O2) w.A(Q);
        Q.data = {
            e: _.S.UA,
            pO: d5.r1
        };
        if (!o.w1.Rx) w.A(Q)
    };
    z.hz.prototype.Sx = function(w, o, Q, K, b) {
        z.hz.DI(o, b);
        this.hf = o;
        var R = w.e,
            X, h, e = new B(0, 0, Q.D, Q.j),
            cU = !1,
            h7, hn, gS, aq;
        if (R == "fromAction") {
            var Z = w.Nl,
                P = Z.hj,
                J = Z.H8,
                i = J ? J.selectionModifyEffectAtCanvasBounds : null,
                k = i && i.v;
            if (P == "inverse") {
                if (Q.o == null) {
                    alert("No selection!");
                    return
                }
                X = {
                    channel: v.$(e.O()),
                    rect: e
                };
                v.Hp(Q.o.channel, Q.o.rect, X.channel, X.rect);
                v.MF(X.channel);
                h = [7, 2]
            } else if (P == "expand") {
                var $ = J.By.v.val,
                    n = Q.o.rect.clone();
                n.Nn($, $);
                var j = v.$(n.O()),
                    y = v.$(n.O());
                v.Hp(Q.o.channel, Q.o.rect, y, n);
                v.style.stroke(y, j, n, $);
                X = {
                    channel: j,
                    rect: n
                };
                h = [7, 4]
            } else if (P == "contract") {
                var $ = J.By.v.val,
                    V = Q.o.rect.clone();
                V.Nn(1, 1);
                if (!k) V = V.z2(e);
                var y = v.$(V.O()),
                    O = v.$(y.length);
                v.Hp(Q.o.channel, Q.o.rect, y, V);
                v.MF(y);
                v.style.stroke(y, O, V, $);
                v.MF(O);
                X = {
                    channel: O,
                    rect: V
                };
                v.ei(X);
                h = [7, 5]
            } else if (P == "border") {
                var $ = J.Wdth.v.val;
                X = z.hz.Tv(Q.o, $ / 2, $ / 2);
                h = [7, 9]
            } else if (P == "feather" || P == "smoothness") {
                var $ = J.Rds.v.val;
                X = z.hz.q9(Q.o, $, P == "smoothness", e, k);
                h = P == "feather" ? [7, 6] : [19, 3, 0]
            } else {
                var S = J.null.v;

                function G(ft) {
                    var c6 = ft.Top.v.val,
                        a$ = ft.Left.v.val;
                    return new B(a$, c6, ft.Rght.v.val - a$, ft.Btom.v.val - c6)
                }

                function D(ft) {
                    var c6 = ft[0].arr,
                        ba = ft[1].arr,
                        f7 = {
                            X: [],
                            Y: []
                        };
                    for (var M = 0; M < c6.length; M++) {
                        f7.Y.push(M == 0 ? "M" : "L");
                        f7.X.push(c6[M], ba[M])
                    }
                    f7.Y.push("Z");
                    return f7
                }
                var q = ["set", "addTo", "subtractFrom", "interfaceWhite"].indexOf(P),
                    T = J.T ? J.T.v : null;
                if (T && T.classID == "Elps") {
                    X = this.A9(z.nh.LP(G(T)));
                    h = [10, 4]
                } else if (T && T.classID == "Rctn") {
                    var L = G(T);
                    X = {
                        channel: v.$(L.O()),
                        rect: L.clone()
                    };
                    v.set(X.channel, 255);
                    h = [10, 15]
                } else if (T && T.classID == "ObSl") {
                    var L = G(T),
                        N = z.hz.On,
                        F = N.rect,
                        I = N.eQ,
                        s = F.D,
                        u = F.j,
                        g = L.x - F.x,
                        U = g + L.D - 1,
                        r = Math.max(g, Math.min(U, g + U >>> 1)),
                        x = L.y - F.y,
                        C = x + L.j - 1,
                        p = Math.max(x, Math.min(C, x + C >>> 1)),
                        l = Math.max(g, 0),
                        c = Math.min(U, s),
                        t = Math.max(x, 0),
                        H = Math.min(C, u);
                    I.fill(128);
                    if (0 <= x)
                        for (var gl = l; gl < c; gl++) I[x * s + gl] = 0;
                    if (C < u)
                        for (var gl = l; gl < c; gl++) I[C * s + gl] = 0;
                    if (0 <= g)
                        for (var ie = t; ie < H; ie++) I[ie * s + g] = 0;
                    if (U < s)
                        for (var ie = t; ie < H; ie++) I[ie * s + U] = 0;
                    var fk = z.Hc.VF,
                        h5 = Math.round(L.D * fk),
                        cf = Math.round(L.j * fk);
                    for (var gl = Math.max(0, r - h5); gl < Math.min(s, r + h5); gl++) I[p * s + gl] = 255;
                    for (var ie = Math.max(0, p - cf); ie < Math.min(u, p + cf); ie++) I[ie * s + r] = 255;
                    z.VE.Cq(N, !0);
                    X = {
                        channel: N.o.slice(0),
                        rect: F.clone()
                    };
                    h = [10, 44]
                } else if (T && T.classID == "Plgn") {
                    X = this.A9(D(T.Pts.v.arr));
                    h = [10, 9]
                } else if (T && T.classID == "Pnt") {
                    X = z.J7.IK(Q, new fB(T.Hrzn.v.val, T.Vrtc.v.val), [J.Tlrn.v, J.AntA == null || J.AntA.v, J.Cntg == null || J.Cntg.v]);
                    h = [10, 12]
                } else if (T && T.Ordn == "None") {
                    X = null;
                    h = [7, 1]
                } else if (T && T.Ordn == "Al") {
                    X = {
                        channel: v.$(e.O()),
                        rect: e
                    };
                    v.set(X.channel, 255);
                    h = [7, 0]
                } else if (T && T[0] && T[0].v.keyID == "WrPt") {
                    var f = {
                        e: "frompath",
                        EG: [-1, 0, 0]
                    };
                    this.Sx(f, o, Q, K, b);
                    return
                } else {
                    var aH = ["set", "add", "subtract", "interfaceIconFrameDimmed"].indexOf(P),
                        gY = P == "set" ? T : S,
                        cC = gY[0].v.enum,
                        f;
                    if (cC == "Trsp" || cC == "Msk" || cC == "vectorMask") {
                        var cY = Q.u[0];
                        if (gY.length == 2) cY = hX.Jt(Q, gY[1]);
                        var gJ = ["Trsp", "Msk", "vectorMask"].indexOf(cC);
                        f = {
                            e: "fromlayer",
                            EG: [cY, gJ, aH]
                        }
                    } else {
                        if (gY[0].t == "name") {
                            var cY = 0;
                            for (var M = 0; M < Q.SF.length; M++)
                                if (Q.SF[M].name == gY[0].v.val) cY = M;
                            f = {
                                e: "fromchannel",
                                EG: [-5 - cY, 0, aH]
                            }
                        } else {
                            var bM = ["RGB", "Rd", "Grn", "Bl"].indexOf(cC);
                            f = {
                                e: "fromchannel",
                                EG: [-1 - bM, 0, aH]
                            }
                        }
                    }
                    this.Sx(f, o, Q, K, b);
                    return
                }
                if (J.Fthr) X = z.hz.q9(X, J.Fthr.v.val, !1);
                if (P != "set" && Q.o != null) X = v.MQ.Mx(X, Q.o, ["", "union", "difference", "intersection"][q])
            }
            if (P == "expand" || P == "contract")
                if (!k && !e.contains(X.rect)) {
                    var cN = X.rect.z2(e),
                        eu = v.$(cN.O());
                    v.Hp(X.channel, X.rect, eu, cN);
                    X.channel = eu;
                    X.rect = cN
                }
        }
        if (R == "qmask") {
            cU = !0;
            var ef = Q.q2(),
                dU = new B(0, 0, Q.D, Q.j);
            if (ef) {
                X = ef.rect.Lb(dU) && v.$u(ef.channel, 255) ? null : {
                    rect: ef.rect.clone(),
                    channel: ef.channel.slice(0)
                };
                h7 = ef
            } else {
                X = null;
                hn = new a.Zz;
                hn.color = 0;
                hn.name = "Quick Mask";
                hn.He = !0;
                if (Q.o) {
                    hn.rect = Q.o.rect.clone();
                    hn.channel = Q.o.channel.slice(0)
                } else {
                    hn.rect = dU;
                    hn.channel = v.$(hn.rect.O());
                    v.set(hn.channel, 255)
                }
            }
            h = [6, 6, 1]
        }
        if (R == "setsel") {
            X = w.o;
            h = w.Wp
        }
        if (R == "crange") {
            var hO = w.Rn,
                ao = w.gB;
            X = z.hz.oc(Q, hO, ao, w.lQ);
            h = [7, 8];
            hO = {
                t: "Objc",
                v: {
                    classID: "LbCl",
                    Lmnc: {
                        t: "doub",
                        v: hO.hc
                    },
                    A: {
                        t: "doub",
                        v: hO.K
                    },
                    B: {
                        t: "doub",
                        v: hO.k
                    }
                }
            };
            ao = {
                t: "Objc",
                v: {
                    classID: "LbCl",
                    Lmnc: {
                        t: "doub",
                        v: ao.hc
                    },
                    A: {
                        t: "doub",
                        v: ao.K
                    },
                    B: {
                        t: "doub",
                        v: ao.k
                    }
                }
            };
            this.track({
                hj: "colorRange",
                H8: {
                    __name: "Color Range",
                    classID: "ClrR",
                    Fzns: {
                        t: "long",
                        v: Math.round(w.lQ * 200)
                    },
                    Mnm: hO,
                    Mxm: ao,
                    colorModel: {
                        t: "long",
                        v: 0
                    }
                }
            })
        }
        if (R == "fromlayer" || R == "fromchannel" || R == "frompath") {
            var hI = w.EG[0],
                gJ = w.EG[1],
                q = w.EG[2];
            if (R == "fromlayer") {
                if (hI == null) hI = Q.u[0];
                var a$ = Q.t[hI];
                if (gJ == 0) {
                    var hH = a$.rect,
                        bq = a$.buffer;
                    if (hH.Kx()) return;
                    var dq = v.$(bq.length >>> 2);
                    v.KU(bq, dq, 3);
                    X = {
                        channel: dq,
                        rect: hH.clone()
                    }
                } else {
                    if (a$.q == null) a$.b6(Q);
                    var g9 = gJ == 1 ? a$._f() : a$.q;
                    X = z.hz.B1(g9, e)
                }
                this.track(z.hz.az(q, ["Trsp", "Msk"][gJ], a$.getName()))
            } else if (R == "frompath") {
                var cx = Q.a$(),
                    hp = cx[1],
                    cx = cx[0];
                if (hI == null)
                    if (cx.length == 0 || hp.length == 0) return;
                var b0 = cx[hp[0]];
                if (hI != null)
                    for (var M = 0; M < cx.length; M++)
                        if (cx[M].qX == hI) b0 = cx[M];
                var g9 = b0.add.vmsk._f(),
                    bh = g9.vG();
                if (bh.O() == 0) return;
                var dq = g9.oD();
                if (w.EG[3] != null) this.abw = w.EG[3];
                if (this.abw) {
                    dq = dq.slice(0);
                    v.round(dq)
                }
                gS = [JSON.stringify(Q.A6), JSON.stringify(Q.Yd)];
                aq = ["[]", "[]"];
                Q.A6 = [];
                Q.Yd = [];
                X = {
                    channel: dq,
                    rect: bh
                }
            } else {
                if (hI == null) hI = z.hz.zk(Q);
                X = z.hz.Om(Q, hI)
            }
            if (q != 0 && Q.o) X = v.MQ.Mx(X, Q.o, ["", "union", "difference", "intersection"][q]);
            h = [14, 11]
        }
        if (X != null && v.$u(X.channel, 0)) {
            X = null;
            h = [7, 1]
        }
        if (X) v.ei(X);
        var hA = new hl(h, this);
        hA.data = {
            e: "changesel",
            Ab: Q.o,
            Dr: X,
            q2: cU,
            a4w: h7,
            a5G: hn,
            if: gS,
            ak3: aq
        };
        Q.be(hA);
        this.ju(hA.data, Q)
    };
    z.hz.zk = function(w) {
        var o = 0;
        if (w.Od.length != 0) o = -5 - w.Od[0];
        else if (JSON.stringify(w.m.dN) == "[1,1,1]") o = -1;
        else o = -2 - w.m.dN.indexOf(1);
        return o
    };
    z.hz.Om = function(w, o) {
        var Q, K = new B(0, 0, w.D, w.j);
        if (-5 < o & o < 0) {
            var b = -o - 1,
                R = w.X_(),
                X = v.$(K.O());
            if (b == 0) v.wC(R, X);
            else v.KU(R, X, b - 1);
            Q = {
                channel: X,
                rect: K.clone()
            }
        }
        if (o < -4) {
            Q = z.hz.B1(w.SF[-o - 5], K)
        }
        return Q
    };
    z.hz.B1 = function(w, o) {
        var Q, K;
        if (w.c2() == 0) {
            K = w.vG();
            if (K.O() == 0) return;
            Q = w.oD()
        } else {
            K = o;
            Q = v.$(K.O());
            w.Qj(K, Q)
        }
        return {
            channel: Q,
            rect: K
        }
    };
    z.hz.prototype.sT = function(w) {
        return this.rK || w.L8 && this.id != z.RM
    };
    z.hz.prototype.qJ = function(w, o, Q) {
        var K = new Y(o, !0);
        K.data = Q;
        w.A(K)
    };
    z.hz.prototype.h7 = function(w, o) {
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.Gi,
            hr: o
        };
        w.A(Q)
    };
    z.hz.prototype.vG = function(w, o, Q) {
        o = w.o == null || this.i4 > 1 || this.e4 > 1 ? o : null;
        var K = this.ln,
            b = this.w$;
        if (Q) {
            K.x = Math.max(0, Math.min(w.D, K.x));
            K.y = Math.max(0, Math.min(w.j, K.y));
            b.x = Math.max(0, Math.min(w.D, b.x));
            b.y = Math.max(0, Math.min(w.j, b.y))
        }
        var R = z.ti.w9(K, b, o, !0, this.GJ.pe),
            X = R[0].x,
            h = R[0].y;
        return new B(X, h, R[1].x - X, R[1].y - h)
    };
    z.hz.prototype.Br = function(w, o, Q, K, b) {
        if (this.fH()) return;
        this.hf = o;
        this.S7 = !1;
        this.hR = K.i(E.lK);
        this.hp = K.i(E.O4);
        this.i4 = this.hR ? 0 : 1;
        this.e4 = this.hp ? 0 : 1;
        this.ln = w.m.WD(b.x, b.y);
        this.ln = z.uA.K$(w, this.ln, Q);
        if (this.HA(w, this.ln, K)) {
            this.rK = !0;
            this.Kl = w.o.rect.clone();
            return
        }
        this.MM(w, Q, K, b);
        w.m.$G = new B
    };
    z.hz.prototype.HA = function(w, o, Q) {
        var K = Q.i(E.lK),
            b = Q.i(E.O4);
        if (w.o && !K && !b && this.GJ.Xm == "front") return v.UO(o, w.o.channel, w.o.rect);
        return !1
    };
    z.hz.prototype.$z = function(w, o, Q, K, b) {
        this.hf = o;
        if (this.hk) return;
        var R = w.m.WD(b.x, b.y);
        if (fB.mp(this.ln, R) * w.m.I > 5) this.S7 = !0;
        if (K.i(E.$0)) {
            if (this.oy == null) this.oy = new fB(R.x - this.ln.x, R.y - this.ln.y);
            this.ln.x = R.x - this.oy.x;
            this.ln.y = R.y - this.oy.y
        } else this.oy = null;
        this.w$ = R;
        if (!this.rK) this.w$ = z.uA.K$(w, this.w$, Q);
        if (this.HA(w, this.w$, K)) this.h7(o, "move");
        else this.h7(o, this.Uj);
        if (this.rK) {
            var X = this.Kl.clone();
            X.x += this.w$.x - this.ln.x;
            X.y += this.w$.y - this.ln.y;
            var h = z.uA.I9(w, X, Q);
            w.o.rect.x = Math.round(this.w$.x - this.ln.x + this.Kl.x + h[0]);
            w.o.rect.y = Math.round(this.w$.y - this.ln.y + this.Kl.y + h[1]);
            w.Yr = !0;
            z.uA.cd(w, X, h);
            return
        }
        this.Le(w, Q, K, b);
        if (w.m.$G) w.m.$G = this.vG(w, K)
    };
    z.hz.prototype.fH = function() {
        return !1
    };
    z.hz.prototype.IN = function(w, o, Q, K, b) {
        w.m.$G = null;
        this.w$ = w.m.WD(b.x, b.y);
        this.w$ = z.uA.K$(w, this.w$, Q);
        if (this.rK) {
            this.rK = !1;
            if (this.w$.Lb(this.ln) && this.I6() == "front") {
                this.qJ(o, _.E.e9, z.hz.RL());
                return
            }
            this.T0(w, this.Kl, w.o.rect.clone());
            if (w != null && w.r.es) {
                w.r.es = null;
                w.n9 = !0
            }
            return
        }
        this.Fo(w, Q, K, b);
        z.hz.DI(o, Q)
    };
    z.hz.prototype.T0 = function(w, o, Q) {
        var K = w.Z6();
        if (K != null && K.f == this && K.data.e == "movesel") {} else {
            K = new hl([7, 7], this);
            K.data = {
                e: "movesel",
                kK: o
            };
            w.be(K)
        }
        K.data.mM = Q;
        this.ju(K.data, w)
    };
    z.hz.prototype.iM = function(w, o, Q, K, b) {
        this.hk = !0
    };
    z.hz.prototype.ml = function(w, o, Q, K, b) {
        var R = new Y(_.E.N, !0);
        R.data = {
            e: _.S.X3,
            f: this.id,
            GF: b,
            AZ: w,
            f8: Q
        };
        o.A(R);
        this.hk = !1
    };
    z.hz.prototype.Yq = function(w, o, Q, K) {
        var b = K.i(E.lK),
            R = K.i(E.O4);
        if (this.S7) {
            if (this.i4 == 0 && !b) this.i4++;
            if (this.i4 == 1 && b) this.i4++;
            if (this.e4 == 0 && !R) this.e4++;
            if (this.e4 == 1 && R) this.e4++
        }
        if (w != null && w.o != null) {
            var X = K.Tg();
            if (X.x != 0 || X.y != 0) {
                var h = w.o.rect.clone();
                h.x += X.x;
                h.y += X.y;
                this.T0(w, w.o.rect.clone(), h)
            }
        }
        var e = z.hz.Kv(this.GJ.Xm, b, R),
            Z = new Y(_.E.N, !0);
        Z.data = {
            e: _.S.X3,
            f: this.id,
            Xm: e
        };
        o.A(Z)
    };
    z.hz.prototype.finish = function(w, o, Q, K) {
        var b = w.o,
            R = this.getSelection(w, o, Q, K);
        if (R == null) R = z.hz.RL();
        else {
            var X = this.GJ.YF,
                h = this.I6();
            if (X != 0) R.H8.Fthr = {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: X
                }
            };
            if (h != "front" && h != "xor") R.hj = {
                union: "addTo",
                difference: "subtractFrom",
                intersection: "interfaceWhite"
            } [h]
        }
        this.qJ(this.hf, _.E.e9, R);
        this.ln.qQ(-1, -1);
        this.w$.qQ(-1, -1)
    };
    z.hz.prototype.I6 = function() {
        return z.hz.Kv(this.GJ.Xm, this.hR, this.hp)
    };
    z.hz.Kv = function(w, o, Q) {
        if (o) w = "union";
        if (Q) w = "difference";
        if (o && Q) w = "intersection";
        return w
    };
    z.hz.prototype.getSelection = function(w, o, Q, K) {
        return null
    };
    z.hz.prototype.MM = function(w, o, Q, K) {};
    z.hz.prototype.Le = function(w, o, Q, K) {};
    z.hz.prototype.Fo = function(w, o, Q, K) {};
    z.hz.prototype.Di = function(w, o) {
        var Q = w.e;
        if (Q == "changesel") o.o = w.Ab;
        if (Q == "movesel") o.o.rect = w.kK;
        if (w.q2) {
            if (w.a4w) {
                o.Od = [o.SF.length];
                o.SF.push(w.a4w)
            } else {
                o.SF.pop();
                o.Od = []
            }
        }
        if (w.if) {
            o.A6 = JSON.parse(w.if[0]);
            o.Yd = JSON.parse(w.if[1])
        }
        o.Yr = !0
    };
    z.hz.prototype.ju = function(w, o) {
        var Q = w.e;
        if (Q == "changesel") o.o = w.Dr;
        if (Q == "movesel") o.o.rect = w.mM;
        if (w.q2) {
            if (w.a5G) {
                o.Od = [o.SF.length];
                o.SF.push(w.a5G)
            } else {
                o.SF.pop();
                o.Od = []
            }
        }
        if (w.if) {
            o.A6 = JSON.parse(w.ak3[0]);
            o.Yd = JSON.parse(w.ak3[1])
        }
        o.Yr = !0
    };
    z.hz.prototype.wx = function(w) {
        this.GJ = w
    };
    z.hz.prototype.A9 = function(w) {
        var o = v.w.C$(w.X);
        if (o.Kx()) return null;
        var Q = _.B("canvas", "");
        Q.width = o.D;
        Q.height = o.j;
        var K = Q.getContext("2d");
        K.beginPath();
        K.translate(-o.x, -o.y);
        Typr.U.pathToContext({
            cmds: w.Y,
            crds: w.X
        }, K);
        K.closePath();
        K.fill();
        var b = v.$(o.O()),
            R = K.getImageData(0, 0, Q.width, Q.height);
        v.KU(R.data, b, 3);
        return {
            rect: o,
            channel: b
        }
    };
    z.hz.q9 = function(w, o, Q, K, b) {
        if (Q) o = Math.round(o * .7);
        var R = Math.ceil(2.6 * o),
            X = w.rect.clone();
        X.Nn(R, R);
        if (K && !b) X = X.z2(K);
        var h = v.$(X.O()),
            e = v.$(h.length);
        v.Hp(w.channel, w.rect, e, X);
        v.PF.ew(e, h, X, o);
        if (Q) {
            var Z = h.length;
            for (var M = 0; M < Z; M++) {
                var P = (h[M] - 128) * o * 2.5;
                h[M] = Math.max(0, Math.min(255, Math.round(128 + P)))
            }
        }
        return {
            channel: h,
            rect: X
        }
    };
    z.hz.Tv = function(w, o, Q) {
        var K = Math.max(1, Math.ceil(Q)),
            b = w.rect.clone();
        b.Nn(K, K);
        var R = b.O(),
            X = {
                channel: v.$(R),
                rect: b
            },
            h = v.$(R);
        v.Hp(w.channel, w.rect, h, X.rect);
        if (Q != 0) v.style.stroke(h, X.channel, X.rect, Q);
        else v.gb(h, X.channel);
        var e = v.$(R);
        v.MF(h);
        if (o != 0) v.style.stroke(h, e, X.rect, o);
        else v.gb(h, e);
        v.MQ.z2(X.channel, e, X.channel);
        return X
    };
    z.hz.oc = function(w, o, Q, K) {
        var b = new B(0, 0, w.D, w.j),
            R = w.X_();
        if (w.o) {
            var X = w.o.rect.z2(b),
                h = v.$(X.O() * 4);
            v.c1(R, b, h, X);
            b = X;
            R = h
        }
        var e = b.O(),
            Z = v.$(e),
            P = 1 / K;
        for (var M = 0; M < e; M++) {
            var J = M << 2,
                i = v.TP(R[J], R[J + 1], R[J + 2]),
                k = v.VO(i, o, Q, K, P);
            Z[M] = R[J + 3] * k
        }
        return {
            rect: b,
            channel: Z
        }
    };
    z.Yo = function() {
        z.bA.call(this, [10, 18], z.je, "tools/blur");
        this.bt = "copy"
    };
    z.Yo.prototype = new z.bA;
    z.Yo.prototype.Br = function(w, o, Q, K, b) {
        var R = K.i(E.O4) ? dR.Ws : dR.je;
        this.Db(w, Q, K, b, this.GJ.strn, R);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.Yo.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.hI = function() {
        z.bA.call(this, [10, 0], z.IA, "tools/brush");
        this.bt = "draw"
    };
    z.hI.prototype = new z.bA;
    z.hI.prototype.Br = function(w, o, Q, K, b) {
        if (this.Bm(K, o, b)) return;
        this.Db(w, Q, K, b, this.GJ.flow);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.hI.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.BG = function() {
        z.bA.call(this, [10, 42], z.TJ, "tools/crepl");
        this.bt = "idraw";
        this.GJ.bmode = "hue "
    };
    z.BG.prototype = new z.bA;
    z.BG.prototype.Br = function(w, o, Q, K, b) {
        if (this.Bm(K, o, b)) return;
        this.Db(w, Q, K, b, this.GJ.flow);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.BG.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.Bz = function() {
        z.bA.call(this, [10, 43], z.uC, "tools/redeye");
        this.GJ.smode = 0;
        this.bt = "redeye"
    };
    z.Bz.prototype = new z.bA;
    z.Bz.prototype.Br = function(w, o, Q, K, b) {
        this.Db(w, Q, K, b, this.GJ.flow);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.Bz.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.qE = function() {
        z.bA.call(this, [10, 38], z.kW, "tools/pencil");
        this.bt = "draw"
    };
    z.qE.prototype = new z.bA;
    z.qE.prototype.Br = function(w, o, Q, K, b) {
        if (this.Bm(K, o, b)) return;
        this.Db(w, Q, K, b, this.GJ.flow);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.qE.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.rk = function() {
        z.bA.call(this, [10, 22], z.yK, "tools/burn");
        this.bt = "burn"
    };
    z.rk.prototype = new z.bA;
    z.rk.prototype.Br = function(w, o, Q, K, b) {
        this.Db(w, Q, K, b, this.GJ.expo / Math.E);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.rk.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.g6 = function(w, o, Q) {
        z.bA.call(this, w == "" ? null : w ? w : [10, 1], o ? o : z.zr, Q ? Q : "tools/clone");
        this.bt = "clone";
        this.hb = null;
        this.n = null
    };
    z.g6.prototype = new z.bA;
    z.g6.prototype.Br = function(w, o, Q, K, b) {
        var R = this.GJ,
            X = R.alt[0];
        if (K.i(E.O4) || K.i(E.tf) || X) {
            this.hb = w.m.WD(b.x, b.y);
            this.n = null;
            if (X) this.hs({
                alt: [!1]
            }, o);
            this.YY(w);
            this.Oy(Q, K, w, b);
            return
        }
        if (this.hb == null) {
            alert(b6.get([15, 7, 0]));
            return
        }
        this.Oy(Q, K);
        this.Db(w, Q, K, b, this.GJ.flow);
        if (this.$h == null) return;
        this.n = this.Tl(w.m.WD(b.x, b.y));
        this.Ra(w)
    };
    z.g6.prototype.Tl = function(w) {
        var o = this.n;
        if (o == null || !this.GJ.algnd) o = new fB(Math.round(w.x - this.hb.x), Math.round(w.y - this.hb.y));
        return o
    };
    z.g6.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) {
            if (this.hb != null) this.Oy(Q, K, w, b);
            return
        }
        if (!b.L8 || this.hb == null) return;
        this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.g6.prototype.t$ = function() {
        return this.n
    };
    z.U0 = function(w, o, Q) {
        z.Vb.call(this, w, o, Q);
        this.h2 = {
            dj: {
                Ve: 0,
                x: 0,
                y: 0
            },
            HV: !1
        };
        this.gw = null;
        this.cursor = null;
        this.afs = 0;
        this.dz = null;
        this.ln = null;
        this.rN = null
    };
    z.U0.prototype = new z.Vb;
    z.U0.prototype.AO = function() {
        return this.gw != null
    };
    z.U0.prototype.sT = function(w) {
        return this.gw && this.gw.aJ()
    };
    z.U0.prototype.Br = function(w, o, Q, K, b) {
        this.dz = b;
        var R = w.m.WD(b.x, b.y);
        R.x = Math.round(R.x);
        R.y = Math.round(R.y);
        var X = this.h2.dj,
            h = X.Ve != 0 ? X.x / X.y : null;
        if (this.gw) this.gw.Br(w, Q, K, R, h, !1);
        else this.ln = z.uA.K$(w, R, Q)
    };
    z.U0.prototype.xw = function(w, o) {
        var Q = [w.x, w.y, w.x + w.D, w.y, w.x + w.D, w.y + w.j, w.x, w.y + w.j];
        return new dG(Q, !0, !1, this.id == z.qN, !0, o, this.id == z.qN ? 2 : 0, this.id == z.qN)
    };
    z.U0.prototype.Oy = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.Gi,
            hr: this.cursor
        };
        w.A(o)
    };
    z.U0.prototype.enable = function(w, o, Q, K) {
        this.cursor = "crosshair";
        this.Oy(o);
        if (w != null && w.o) {
            var b = this.h2.dj = {
                Ve: 0,
                x: 0,
                y: 0
            };
            this.qJ(o, _.E.N, {
                e: _.S.X3,
                f: this.id,
                co: !1,
                pe: b
            });
            this.wx({
                qv: "cropby",
                a6N: 3
            }, o, w, K, Q)
        }
    };
    z.U0.prototype.$z = function(w, o, Q, K, b) {
        this.dz = b;
        var R = w.m.WD(b.x, b.y);
        if (!b.L8) {
            var X = "crosshair";
            if (this.gw) {
                var h = this.gw.Te(R, w.m.I);
                if (h) X = h;
                else X = "default"
            }
            if (X != this.cursor) {
                this.cursor = X;
                this.Oy(o)
            }
        }
        if (this.gw) this.gw.$z(w, Q, K, R);
        else if (this.ln) {
            var e = z.ti.w9(this.ln, z.uA.K$(w, R, Q), K, !0, this.h2.dj),
                Z = e[0].x,
                P = e[0].y,
                J = this.rN = new B(Z, P, e[1].x - Z, e[1].y - P);
            w.r.Sb = v.w.NU(J);
            w.n9 = !0;
            z.Vb.Tn(b.x + 10, b.y - 10, J, w, Q)
        }
    };
    z.U0.prototype.IN = function(w, o, Q, K, b) {
        this.dz = b;
        if (this.gw == null) {
            if (this.ln) {
                var R = this.rN;
                if (R) {
                    var X = this.h2.dj;
                    this.gw = this.xw(R, X.Ve != 0);
                    this.gw.wb(w, Q);
                    this.rN = null;
                    this.qJ(o, _.E.N, {
                        e: _.S.X3,
                        f: this.id,
                        co: !0
                    })
                }
                this.ln = null;
                w.r.aG = [];
                w.n9 = !0
            }
            return
        }
        var h = w.m.WD(b.x, b.y);
        this.gw.IN(w, Q, K, h);
        this.qJ(o, _.E.N, {
            e: _.S.X3,
            f: this.id,
            co: !0
        });
        var e = this.gw.CP();
        if (Math.abs(e[0] - e[4]) < 2 || Math.abs(e[1] - e[5]) < 2) {
            this.disable(w, o, null, K);
            return
        }
        if (Date.now() - this.afs < 200 && this.gw.ao(h)) {
            this.Ga(w, Q);
            this.disable(w, o, Q, K);
            return
        }
        this.afs = Date.now()
    };
    z.U0.prototype.Yq = function(w, o, Q, K) {
        var b = this.gw;
        if (b == null || this.dz && this.dz.L8) return;
        if (K.i(E.$g)) {
            this.Ga(w, Q);
            this.disable(w, o, Q, K)
        } else if (K.i(E.EI)) {
            this.disable(w, o, Q, K)
        } else b.Yq(w, Q, K)
    };
    z.U0.FJ = function(w, o) {
        if (o == null) o = [!0, !0, !0, !0];
        var Q = {
                classID: "trim",
                trimBasedOn: {
                    t: "enum",
                    v: {
                        trimBasedOn: ["topLeftPixelColor", "bottomRightPixelColor", "Trns"][w]
                    }
                }
            },
            K = ["Top", "Left", "Btom", "Rght"];
        for (var M = 0; M < 4; M++) Q[K[M]] = {
            t: "bool",
            v: o[M]
        };
        return {
            hj: "trim",
            H8: Q
        }
    };
    z.U0.ES = function(w, o, Q, K) {
        var b = {
            classID: "null"
        };
        if (K != null) {
            b.Wdth = {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: w
                }
            };
            b.Hght = {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: o
                }
            };
            b.Intr = {
                t: "enum",
                v: {
                    Intp: ["Nrst", "Blnr", "bicubicSharper"][K]
                }
            }
        }
        if (Q != null) b.Rslt = {
            t: "UntF",
            v: {
                type: "#Rsl",
                val: Q
            }
        };
        return {
            hj: "imageSize",
            H8: b
        }
    };
    z.U0.TA = function(w, o, Q) {
        if (Q == null) Q = 4;
        var K = Math.floor(Q / 3),
            b = Q % 3;
        return {
            hj: "canvasSize",
            H8: {
                classID: "null",
                Wdth: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: w
                    }
                },
                Hght: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: o
                    }
                },
                Hrzn: {
                    t: "enum",
                    v: {
                        HrzL: ["Left", "Cntr", "Rght"][b]
                    }
                },
                Vrtc: {
                    t: "enum",
                    v: {
                        VrtL: ["Top", "Cntr", "Btom"][K]
                    }
                }
            }
        }
    };
    z.U0.prototype.Sx = function(w, o, Q, K, b) {
        var R = new B(0, 0, Q.D, Q.j),
            X = [11, 3],
            h = Q.cK,
            e = Q.D / 2,
            Z = Q.j / 2,
            P = 1,
            C, p;
        if (w.e == "fromAction") {
            var J = w.Nl,
                i = J.hj,
                k = J.H8,
                $ = Q.D / Q.j,
                n = k.Wdth ? k.Wdth.v.val : -1,
                j = k.Hght ? k.Hght.v.val : -1,
                h = k.Rslt ? k.Rslt.v.val : null,
                y = k.Wdth ? k.Wdth.v.type : k.Hght ? k.Hght.v.type : -1,
                V = 1,
                O;
            if (i == "imageSize") {
                if (k.Intr) {
                    if (k.Intr.v.Intp == "Nrst") V = 0;
                    if (k.Intr.v.Intp == "bicubicSharper") V = 2;
                    if (n == -1 && j == -1) {
                        var S = h / Q.cK;
                        n = Math.round(Q.D * S);
                        j = Math.round(Q.j * S)
                    } else if (y == "#Prc") {
                        if (n != -1) n = Math.round(Q.D * n / 100);
                        if (j != -1) j = Math.round(Q.j * j / 100)
                    }
                    if (k.CnsP && k.CnsP.v) {
                        if (n == -1) n = Math.round(j * $);
                        if (j == -1) j = Math.round(n / $)
                    }
                } else {
                    if (y == "#Prc") h = Math.round(Q.cK / ((n != -1 ? n : j) / 100));
                    else if (y == -1) h = Math.round(h);
                    else throw "e";
                    n = Q.D;
                    j = Q.j
                }
                O = {
                    e: "imgsize",
                    Yc: n,
                    ap: j,
                    fy: h,
                    Jd: V
                }
            } else if (i == "canvasSize") {
                if (n == -1) n = Q.D;
                if (j == -1) j = Q.j;
                if (k.Rltv && k.Rltv.v == !0) {
                    if (k.Wdth) n += Q.D;
                    if (k.Hght) j += Q.j
                }
                var G = k.Vrtc ? k.Vrtc.v.VrtL : "Cntr",
                    D = k.Hrzn ? k.Hrzn.v.HrzL : "Cntr";
                O = {
                    e: "canvsize",
                    Yc: n,
                    ap: j,
                    Qg: 3 * ["Top", "Cntr", "Btom"].indexOf(G) + ["Left", "Cntr", "Rght"].indexOf(D)
                }
            } else if (i == "revealAll") {
                O = {
                    e: "revealAll"
                }
            } else if (i == "trim") {
                var q = {
                    topLeftPixelColor: 0,
                    bottomRightPixelColor: 1,
                    Trns: 2
                } [k.trimBasedOn.v.trimBasedOn];
                if (q == null) throw "e";
                var T = ["Top", "Left", "Btom", "Rght"],
                    L = [!0, !0, !0, !0];
                for (var M = 0; M < 4; M++)
                    if (k[T[M]]) L[M] = k[T[M]].v;
                O = {
                    e: "trim",
                    a4z: q,
                    pe: L
                }
            }
            if (O) this.Sx(O, o, Q, K, b);
            return
        } else if (w.e == "imgsize") {
            R = new B(0, 0, w.Yc, w.ap);
            if (w.fy) h = w.fy;
            P = w.Jd
        } else if (w.e == "canvsize") {
            var N = w.Qg != null ? w.Qg : 0;
            R = new B(0, 0, w.Yc, w.ap);
            var F = Q.D - w.Yc,
                I = Q.j - w.ap,
                s = Math.round(F / 2),
                u = Math.round(I / 2);
            if (N == 1 || N == 4 || N == 7) R.x = s;
            if (N == 2 || N == 5 || N == 8) R.x = F;
            if (N == 3 || N == 4 || N == 5) R.y = u;
            if (N == 6 || N == 7 || N == 8) R.y = I;
            if (w.n) {
                R.x = w.n.x;
                R.y = w.n.y
            }
        } else if (w.e == "rot" && (w.F + 2 * Math.PI) % (Math.PI / 2) != 0) {
            var g = v.w.NU(R).X,
                U = new dj;
            U.translate(-e, -Z);
            U.rotate(w.F);
            U.translate(e, Z);
            v.w.H(g, U, g);
            R = v.w.C$(g)
        } else if (w.e == "rot" && w.F != Math.PI && w.F != -Math.PI) {
            R = new B(e - Q.j / 2, Z - Q.D / 2, Q.j, Q.D);
            if ((Q.D + Q.j & 1) == 1) {
                e = Math.floor(e);
                Z = Math.floor(Z);
                R = new B(e - Math.floor(Q.j / 2), Z - Math.floor(Q.D / 2), Q.j, Q.D);
                if ((Q.D & 1) == 1 && w.F != -Math.PI / 2) R.y--;
                if ((Q.j & 1) == 1 && w.F == -Math.PI / 2) R.x--
            }
        } else if (w.e == "trim") {
            X = [11, 12, 0];
            var r = Q.X_(),
                x = new B(0, 0, Q.D, Q.j);
            R = v.Zk(r, x, w.a4z, w.pe);
            if (R.Kx()) R = x
        } else if (w.e == "cropbysel") {
            X = [11, 12, 1];
            R = Q.o.rect.clone()
        } else if (w.e == "revealAll") {
            X = [11, 12, 2];
            R = Q.root.vG(Q, !0)
        }
        if (w.e == "imgsize" || w.e == "rot" || w.e == "scl") {
            var l = new dj;
            if (w.e == "imgsize") {
                X = [11, 10];
                l.scale(w.Yc / Q.D, w.ap / Q.j)
            } else {
                l.translate(-e, -Z);
                if (w.e == "rot") l.rotate(w.F);
                if (w.e == "scl") l.scale(w.F.x, w.F.y);
                l.translate(e, Z);
                X = w.Wp
            }
            p = v.Q.k1(l);
            C = this.NE(Q, b, !0, p, P)
        } else if (w.e == "auto-align") {
            if (Q.u.length < 2) {
                alert("Select two or more layers.");
                return
            }
            var c = [];
            for (var M = 0; M < Q.u.length; M++) {
                var t = Q.t[Q.u[M]];
                if (!t.GZ() && t.add.SoLd == null) {
                    alert("Unsupported layer selected.");
                    return
                }
                if (t.rect.Kx()) {
                    alert("Empty layer selected.");
                    return
                }
                c.push([t.buffer, t.rect])
            }
            var H = v.ox.yk(c, 0);
            if (H == null) {
                alert("No similarity found.");
                return
            }
            p = H[1];
            var gl = Q.u;
            Q.u = Q.u.slice(1);
            C = this.NE(Q, b, !1, H.slice(1), P);
            Q.u = gl;
            R = Q.root.vG(Q, !0);
            X = [2, 10, 1]
        }
        var ie = new B(0, 0, Q.D, Q.j);
        if (!R.Kx() && (!R.Lb(ie) || C != null)) {
            var fk = new hl(X, this);
            fk.data = {
                kK: ie,
                mM: R,
                a4M: Q.cK,
                fy: h,
                TE: C,
                yE: p,
                KJ: z.U0.eO(Q, R, ie, C != null)
            };
            Q.be(fk);
            this.ju(fk.data, Q)
        }
    };
    z.U0.eO = function(w, o, Q, K) {
        if (w.sY.length == 0) return null;
        var b = JSON.stringify(w.sY),
            R = JSON.parse(b);
        z.Ig.an2(R, o, Q, K);
        R = JSON.stringify(R);
        return [b, R]
    };
    z.U0.prototype.NE = function(w, o, Q, K, b, R) {
        var X = {
            t: [],
            WG: null,
            Pn: null
        };
        if (Q) {
            for (var M = 0; M < w.t.length; M++) X.t.push(M);
            for (var M = 0; M < w.BY.length; M++) X.t.push(-1 - M);
            for (var M = 0; M < w.SF.length; M++) X.t.push(-1e3 - M)
        } else X.t = w.u.slice(0);
        X.WG = z.Z.iR(w, X.t, !0);
        z.Z.H0(w, o, X.t, X.WG, b, K, null, !0, R);
        X.Pn = z.Z.iR(w, X.t, !0);
        return X
    };
    z.U0.prototype.ju = function(w, o) {
        if (w.fy) o.cK = w.fy;
        if (w.KJ) o.sY = JSON.parse(w.KJ[1]);
        if (w.TE) {
            z.U0.k$(o, v.Q.oC(w.yE));
            z.Z.qG(o, w.TE.t, w.TE.Pn)
        }
        z.U0.HV(o, w.mM)
    };
    z.U0.prototype.Di = function(w, o) {
        if (w.a4M) o.cK = w.a4M;
        if (w.KJ) o.sY = JSON.parse(w.KJ[0]);
        var Q = w.kK.clone();
        Q.offset(-w.mM.x, -w.mM.y);
        z.U0.HV(o, Q);
        if (w.XB) o.m.n.jH(w.XB);
        o.FA();
        if (w.TE) {
            var K = v.Q.oC(w.yE).clone();
            K.MF();
            z.U0.k$(o, K);
            z.Z.qG(o, w.TE.t, w.TE.WG)
        }
    };
    z.U0.k$ = function(w, o) {
        for (var M = 0; M < w.t.length; M++) {
            var Q = w.t[M];
            if (Q.add.artb == null) continue;
            var K = v.w.NU(Q.xi()).X;
            v.w.H(K, o, K);
            var b = v.w.C$(K);
            Q.vm(b)
        }
    };
    z.U0.HV = function(w, o) {
        w.D = o.D;
        w.j = o.j;
        var Q = [];
        for (var M = 0; M < w.t.length; M++) Q.push(M);
        z.uA.EM(w, Q, null, -o.x, -o.y);
        for (var M = 0; M < w.t.length; M++) {
            w.t[M].b6(w)
        }
        w.FA();
        w.m.n.qQ(0, 0);
        if (w.o) w.o.rect.offset(-o.x, -o.y);
        for (var M = 0; M < 2; M++)
            for (var K = 0; K < w.TH[M].length; K++) w.TH[M][K] -= M == 0 ? o.x : o.y;
        for (var M = 0; M < w.SF.length; M++) w.SF[M].rect.offset(-o.x, -o.y)
    };
    z.U0.prototype.wx = function(w, o, Q, K, b) {
        if (w.qv == "commit") {
            this.Ga(Q, b);
            this.disable(Q, o, null, K)
        } else if (w.qv == "cancel") {
            this.disable(Q, o, null, K)
        }
        var R = null,
            X = new B(0, 0, Q.D, Q.j),
            h = this.h2.dj;
        if (w.qv == "config") {
            this.h2 = w.h2;
            h = this.h2.dj;
            if (this.h2.HV != null) return;
            if (Q == null) return;
            R = X;
            if (h.Ve == 1) {
                var e = h.x / h.y;
                R.j = Math.round(R.D / e)
            }
            if (h.Ve == 2) {
                R.D = h.x;
                R.j = h.y
            }
            R.x = Math.round((Q.D - R.D) / 2);
            R.y = Math.round((Q.j - R.j) / 2)
        }
        if (w.qv == "cropby") {
            if (Q == null) return;
            var Z = w.a6N,
                R;
            if (Z == 0) R = Q.root.vG(Q, !0);
            if (Z == 1) {
                if (Q.u.length == 0) alert("No layer is selected.");
                else {
                    var P = Q.root.o8(Q.u[0]);
                    R = P.vG(Q, !0)
                }
            }
            if (Z == 2) {
                if (Q.u.length == 0) alert("No layer is selected.");
                else {
                    R = v.Zk(Q.X_(), X, 0);
                    if (R.Kx()) R = X.clone()
                }
            }
            if (Z == 3) {
                if (Q.o != null) R = Q.o.rect;
                else alert("There is no selection.")
            }
        }
        if (R && R.Kx()) R = null;
        if (R != null) {
            this.gw = this.xw(R, h.Ve != 0);
            this.gw.wb(Q, b);
            this.qJ(o, _.E.N, {
                e: _.S.X3,
                f: this.id,
                co: !0
            })
        }
    };
    z.U0.prototype.Ga = function(w, o) {
        var Q = this.gw.CP(),
            K = v.w.C$(Q),
            b = this.a1Y(w, Q),
            R = !1,
            X = this.h2.dj,
            h = this.h2.HV,
            e = X.x,
            Z = X.y,
            i;
        if (this.id == z.V_ && X.Ve == 2 && b.O() != e * Z) {
            b = new B(b.x, b.y, e, Z);
            R = !0
        }
        var P = v.Q.RP(Q, b);
        P = v.Q.MF(P);
        var J = v.Q.w4(P),
            k = Math.atan2(P[3], P[0]);
        if (Math.abs(k) > 1e-9 || !J || R || h) i = this.NE(w, o, !0, P, 1, K);
        var $ = new hl(this.name, this),
            n = new B(0, 0, w.D, w.j);
        $.data = {
            kK: n,
            mM: b,
            TE: i,
            yE: P,
            XB: w.m.n.clone(),
            KJ: z.U0.eO(w, b, n, !1)
        };
        w.be($);
        this.ju($.data, w)
    };
    z.U0.prototype.a1Y = function(w, o) {
        var Q = v.Q.RP(o),
            K = v.Q.w4(Q),
            b = v.Q.oC(Q),
            R = b.xy,
            X = b.r6,
            h = Math.atan2(b.k, b.K);
        b.rotate(h);
        var e = new B(R, X, b.K, b.TX);
        if (!K) {
            function Z(O, M, S) {
                var G = O[M] - O[S],
                    D = O[M + 1] - O[S + 1];
                return Math.sqrt(G * G + D * D)
            }
            var P = Z(o, 0, 2),
                J = Z(o, 4, 6),
                i = Math.max(P, J),
                k = Z(o, 2, 4),
                $ = Z(o, 6, 0),
                n = Math.max(k, $),
                j = z.U0.abJ(o, w.D / 2, w.j / 2),
                y, V;
            if (isNaN(j) || j == Infinity || j == -Infinity || Math.min(j, 1 / j) < .1) j = (P + J) / (k + $);
            if (i / n > j) {
                y = i * 1;
                V = y / j
            } else {
                V = n * 1;
                y = V * j
            }
            e.D = y;
            e.j = V
        }
        e.x = Math.round(e.x);
        e.y = Math.round(e.y);
        e.D = Math.round(e.D);
        e.j = Math.round(e.j);
        return e
    };
    z.U0.abJ = function(w, o, Q) {
        var K = w[0] - o,
            b = w[1] - Q,
            R = w[2] - o,
            X = w[3] - Q,
            h = w[6] - o,
            e = w[7] - Q,
            Z = w[4] - o,
            P = w[5] - Q,
            J = ((b - P) * h - (K - Z) * e + K * P - b * Z) / ((X - P) * h - (R - Z) * e + R * P - X * Z),
            i = ((b - P) * R - (K - Z) * X + K * P - b * Z) / ((e - P) * R - (h - Z) * X + h * P - e * Z),
            k = -((i * e - b) * (J * X - b) + (i * h - K) * (J * R - K)) / ((i - 1) * (J - 1));

        function $(j) {
            return j * j
        }
        var n = Math.sqrt(($(J - 1) + $(J * X - b) / k + $(J * R - K) / k) / ($(i - 1) + $(i * e - b) / k + $(i * h - K) / k));
        if (J == 1 && i == 1) n = Math.sqrt(($(X - b) + $(R - K)) / ($(e - b) + $(h - K)));
        return n
    };
    z.U0.prototype.disable = function(w, o, Q, K) {
        if (w == null) return;
        if (this.gw) this.gw.clear(w);
        this.gw = null;
        this.qJ(o, _.E.N, {
            e: _.S.X3,
            f: this.id,
            co: !1
        })
    };
    z.U0.prototype.qJ = function(w, o, Q, K) {
        var b = new Y(o, !0);
        b.data = Q;
        if (K) b.f = K;
        w.A(b)
    };
    z.e6 = function() {
        z.U0.call(this, [10, 2], z.V_, "tools/rcrop")
    };
    z.e6.prototype = new z.U0;
    z.UK = function() {
        z.U0.call(this, [10, 39], z.qN, "tools/pcrop")
    };
    z.UK.prototype = new z.U0;
    z.Aw = function() {
        z.bA.call(this, [10, 21], z.vH, "tools/dodge");
        this.bt = "dodge"
    };
    z.Aw.prototype = new z.bA;
    z.Aw.prototype.Br = function(w, o, Q, K, b) {
        this.Db(w, Q, K, b, this.GJ.expo / Math.PI);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.Aw.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.l2 = function() {
        z.bA.call(this, [10, 3], z.Cg, "tools/eraser");
        this.bt = "erase"
    };
    z.l2.prototype = new z.bA;
    z.l2.prototype.Br = function(w, o, Q, K, b) {
        this.Db(w, Q, K, b, this.GJ.flow);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.l2.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        var R = this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.cE = function() {
        z.bA.call(this, [10, 45], z.ans, "tools/beraser");
        this.bt = "ierase"
    };
    z.cE.prototype = new z.bA;
    z.cE.prototype.Br = function(w, o, Q, K, b) {
        if (this.Bm(K, o, b)) return;
        this.Db(w, Q, K, b, this.GJ.flow);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.cE.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.s6 = function() {
        z.hz.call(this, [10, 15], z.By, "tools/rselect");
        this.Uj = "crosshair"
    };
    z.s6.prototype = new z.hz;
    z.s6.prototype.Le = function(w, o, Q, K) {
        if (!K.L8 || !this.S7) return;
        var b = this.vG(w, Q, !0);
        w.r.Sb = v.w.NU(b);
        w.n9 = !0;
        z.Vb.Tn(K.x + 10, K.y - 10, b, w, o)
    };
    z.s6.prototype.Fo = function(w, o, Q, K) {
        w.r.Sb = null;
        w.r.aG = [];
        w.n9 = !0;
        this.finish(w, o, Q, K)
    };
    z.s6.prototype.getSelection = function(w, o, Q, K) {
        if (this.ln.Lb(this.w$) || !this.S7) return null;
        var b = this.vG(w, Q, !0);
        if (b.Kx()) return null;
        return z.hz.aA("Rctn", b)
    };
    z.nh = function() {
        z.hz.call(this, [10, 4], z.aa7, "tools/eselect");
        this.Uj = "crosshair"
    };
    z.nh.prototype = new z.hz;
    z.nh.prototype.Le = function(w, o, Q, K) {
        if (!K.L8 || !this.S7) return;
        var b = this.vG(w, Q);
        w.r.Sb = z.nh.LP(b);
        w.n9 = !0;
        z.Vb.Tn(K.x + 10, K.y - 10, b, w, o)
    };
    z.nh.prototype.Fo = function(w, o, Q, K) {
        w.r.Sb = null;
        w.r.aG = [];
        w.n9 = !0;
        this.finish(w, o, Q, K)
    };
    z.nh.prototype.getSelection = function(w, o, Q, K) {
        if (this.ln.Lb(this.w$) || !this.S7) return null;
        var b = this.vG(w, Q);
        if (!b.Ic(new B(0, 0, w.D, w.j))) return null;
        return z.hz.aA("Elps", b)
    };
    z.nh.LP = function(w) {
        var o = w.x,
            Q = w.y,
            K = w.x + w.D,
            b = w.y + w.j,
            R = (o + K) / 2,
            X = (Q + b) / 2,
            h = (o - K) / 2,
            e = (Q - b) / 2,
            Z = .5522848,
            P = {
                X: [R, X - e],
                Y: ["M", "C", "C", "C", "C"]
            };
        P.X.push(R + Z * h, X - e, R + h, X - Z * e, R + h, X);
        P.X.push(R + h, X + Z * e, R + Z * h, X + e, R, X + e);
        P.X.push(R - Z * h, X + e, R - h, X + Z * e, R - h, X);
        P.X.push(R - h, X - Z * e, R - Z * h, X - e, R, X - e);
        return P
    };
    z.Qw = function() {
        z.Vb.call(this, [10, 5], z.mY, "tools/eyedropper");
        this.FW = !1;
        this.pY = 1
    };
    z.Qw.prototype = new z.Vb;
    z.Qw.prototype.sT = function(w) {
        return w.L8
    };
    z.Qw.prototype.Sx = function(w, o, Q, K, b) {
        if (w.e == "pickhere") this.oE(Q, o, b, K, w.ajy)
    };
    z.Qw.prototype.Br = function(w, o, Q, K, b) {
        this.FW = !0;
        this.oE(w, o, Q, K, b)
    };
    z.Qw.prototype.$z = function(w, o, Q, K, b) {
        if (this.FW) this.oE(w, o, Q, K, b)
    };
    z.Qw.prototype.IN = function(w, o, Q, K, b) {
        this.FW = !1
    };
    z.Qw.prototype.oE = function(w, o, Q, K, b) {
        var R = z.Qw.xZ(w, b, this.pY),
            X = new Y(_.E.N);
        X.data = {
            e: _.S.UA,
            pO: d5.Ba,
            D3: 0,
            F: R
        };
        o.A(X)
    };
    z.Qw.xZ = function(w, o, Q) {
        var K = w.m.WD(o.x, o.y),
            b = Math.floor(K.x),
            R = Math.floor(K.y),
            X = (Q - 1) / 2,
            h = Math.max(0, b - X),
            e = Math.max(0, R - X),
            Z = Math.min(w.D, b + X + 1),
            P = Math.min(w.j, R + X + 1),
            J = (Z - h) * (P - e),
            i = w.X_(),
            k = 0,
            $ = 0,
            n = 0;
        for (var b = h; b < Z; b++)
            for (var R = e; R < P; R++) {
                var M = 4 * (R * w.D + b);
                k += i[M];
                $ += i[M + 1];
                n += i[M + 2]
            }
        k = Math.round(k / J);
        $ = Math.round($ / J);
        n = Math.round(n / J);
        return k << 16 | $ << 8 | n
    };
    z.Qw.prototype.wx = function(w) {
        this.pY = w.pY
    };
    z.w5 = function() {
        z.Vb.call(this, [10, 6], z.a20, "tools/gradient");
        this.GJ = {
            V: JSON.parse(b_.pA.un).v,
            Ze: "Lnr",
            VS: !1,
            a4Z: !1,
            a3h: "norm",
            FV: 1
        };
        this.JY = !1;
        this.XM = null
    };
    z.w5.prototype = new z.Vb;
    z.w5.prototype.enable = function(w, o, Q, K) {
        var b = new Y(_.E.N, !0);
        b.data = {
            e: _.S.Gi,
            hr: "default"
        };
        o.A(b)
    };
    z.w5.prototype.wx = function(w) {
        this.GJ = w.pO
    };
    z.w5.prototype.Br = function(w, o, Q, K, b) {
        if (!w.yD()) return;
        this.XM = w.m.WD(b.x, b.y);
        this.XM = z.uA.K$(w, this.XM, Q);
        this.JY = !0
    };
    z.w5.prototype.$z = function(w, o, Q, K, b) {
        if (!this.JY) return;
        var R = w.m.WD(b.x, b.y);
        R = z.uA.K$(w, R, Q);
        if (K.i(E.lK)) R = z.w5.Z8(this.XM, R);
        w.r.Sb = {
            X: [this.XM.x, this.XM.y, R.x, R.y],
            Y: ["M", "L"]
        };
        w.r.Pi = [this.XM.x, this.XM.y, R.x, R.y];
        w.n9 = !0
    };
    z.w5.prototype.IN = function(w, o, Q, K, b) {
        if (!this.JY) return;
        var R = w.t[w.u[0]],
            X = w.m.WD(b.x, b.y);
        X = z.uA.K$(w, X, Q);
        if (K.i(E.lK)) X = z.w5.Z8(this.XM, X);
        var h = X.ZO(this.XM),
            e = fB.dT(this.XM, X, .5),
            Z = Math.atan2(h.y, h.x),
            P = fB.mp(this.XM, X),
            J = Math.sin(Z),
            i = Math.cos(Z);
        if (P > 2) {
            var k;
            if (w.o) k = w.o.rect;
            else k = new B(0, 0, w.D, w.j);
            var $ = v.$(k.O() * 4),
                n = this.GJ,
                j = n.Ze;
            if (j != "Lnr") {
                P *= 2;
                e = this.XM
            }
            v.V.TZ(n.V, $, k, [i * 1 / P, J * 1 / P, -J * 1 / P, i * 1 / P], e.x, e.y, n.VS, b_.V.types.indexOf(j), Q.x1, Q.TT, null, n.a4Z);
            var y = Math.round(n.FV * 256),
                V = $.length;
            if (y != 256)
                for (var M = 0; M < V; M += 4) $[M + 3] = $[M + 3] * y >>> 8;
            var O = new Y(_.E.z);
            O.f = z.Cg;
            O.data = {
                e: "fillBMP",
                y8: $,
                ae: n.a3h,
                Wp: this.name
            };
            o.A(O)
        }
        w.r.Sb = null;
        w.r.Pi = [];
        w.n9 = !0;
        this.JY = !1
    };
    z.w5.Z8 = function(w, o) {
        if (w.Lb(o)) return w;
        var Q = o.x - w.x,
            K = o.y - w.y,
            b = Math.abs(Q),
            R = Math.abs(K);
        if (b > R) R = b / 2 > R ? 0 : b;
        if (R > b) b = R / 2 > b ? 0 : R;
        b = Q > 0 ? b : -b;
        R = K > 0 ? R : -R;
        var X = Math.sqrt(Q * Q + K * K) / Math.sqrt(b * b + R * R);
        return new fB(w.x + b * X, w.y + R * X)
    };
    z.w5.Il = function(w, o, Q, K, b, R, X) {
        if (X == null) X = _.B("canvas", "");
        var h = X.getContext("2d");
        X.width = o;
        X.height = Q;
        var e = new B(0, 0, o, Q),
            Z = v.$(o * Q * 4);
        v.fr(Z, o, Q, 4, 0, 0);
        var P = Math.sin(K),
            J = Math.cos(K),
            i = v.$(o * Q * 4);
        v.V.TZ(w, i, e, [J * 1 / o, P * 1 / o, -P * 1 / Q, J * 1 / Q], o / 2, Q / 2, !1, 0, b, R);
        v.M.M$("norm", i, e, Z, e, e, 1);
        var k = h.getImageData(0, 0, o, Q);
        v.gb(Z, k.data);
        h.putImageData(k, 0, 0);
        return X.toDataURL()
    };
    z.w5.a4N = function(w, o, Q) {
        var K = JSON.parse(JSON.stringify(w));
        for (var M = 0; M < K.Clrs.v.length; M++) {
            var b = K.Clrs.v[M].v,
                R = b.Type.v.Clry;
            if (R == "UsrS") continue;
            var X = R == "FrgC" ? o : Q;
            b.Type.v.Clry = "UsrS";
            b.Clr = {
                t: "Objc",
                v: v.V.Kt({
                    W: X >> 16 & 255,
                    a: X >> 8 & 255,
                    k: X & 255
                })
            }
        }
        return K
    };
    z.Ry = function() {
        z.Vb.call(this, [10, 7], z.l4, "tools/hand");
        this.Pz = new fB(0, 0);
        this.UR = null
    };
    z.Ry.prototype = new z.Vb;
    z.Ry.prototype.Sx = function(w, o, Q, K, b) {
        var R = w.e;
        if (R == "setcls") {
            Q.m.dN = w.dN;
            Q.n9 = !0;
            Q.rn = !0
        }
        if (R == "scroll" && !K.i(E.O4)) {
            if (K.i(E.HE)) z.Ry.Cw(Q, Q.m.n.x - w.iJ.y, Q.m.n.y - w.iJ.x);
            else z.Ry.Cw(Q, Q.m.n.x - w.iJ.x, Q.m.n.y - w.iJ.y)
        }
    };
    z.Ry.prototype.enable = function(w, o, Q, K) {
        this.UR = null;
        var b = new Y(_.E.N, !0);
        b.data = {
            e: _.S.Gi,
            hr: "grab"
        };
        o.A(b)
    };
    z.Ry.prototype.Br = function(w, o, Q, K, b) {
        this.UR = w.m.n.clone();
        this.Pz.qQ(b.x, b.y)
    };
    z.Ry.prototype.$z = function(w, o, Q, K, b) {
        if (!b.L8) return;
        if (this.UR == null) this.Br(w, o, Q, K, b);
        z.Ry.Cw(w, this.UR.x + (b.x - this.Pz.x), this.UR.y + (b.y - this.Pz.y))
    };
    z.Ry.prototype.IN = function(w, o, Q, K, b) {
        this.UR = null
    };
    z.Ry.Cw = function(w, o, Q) {
        var K = w.m.I;
        if (w.D * K < w.m.yG.D && w.j * K < w.m.yG.j) w.m.n.qQ(0, 0);
        else {
            w.m.n.x = o;
            w.m.n.y = Q
        }
        w.rn = !0
    };
    z.ey = function() {
        z.Vb.call(this, [10, 47], z.am1, "tools/rview");
        this.Pz = new fB(0, 0);
        this._w = null;
        this.alQ = null
    };
    z.ey.prototype = new z.Vb;
    z.ey.prototype.enable = function(w, o, Q, K) {
        this.UR = null;
        var b = new Y(_.E.N, !0);
        b.data = {
            e: _.S.Gi,
            hr: "grab"
        };
        o.A(b);
        if (w) this.N6(w, o)
    };
    z.ey.prototype.disable = function(w, o, Q, K, b) {
        if (w) this.N6(w, o)
    };
    z.ey.prototype.mm = function(w, o, Q, K) {
        if (w) this.N6(w, o)
    };
    z.ey.prototype.Br = function(w, o, Q, K, b) {
        this.Pz.qQ(b.x, b.y);
        var R = w.m;
        this._w = R.WD(R.yG.D / 2, R.yG.j / 2);
        this.alQ = R.SA()
    };
    z.ey.prototype.$z = function(w, o, Q, K, b) {
        if (!b.L8) return;
        var R = w.m,
            X = this._w,
            h = this.Pz,
            e = new fB(R.yG.D / 2, R.yG.j / 2),
            Z = Math.atan2(b.y - e.y, b.x - e.x),
            P = Math.atan2(h.y - e.y, h.x - e.x);
        this.rb(w, o, this.alQ.clone(), X, Z - P)
    };
    z.ey.prototype.wx = function(w, o, Q, K) {
        this.rb(Q, o, null, null, w.aa - Q.m.im);
        Q.m.im = w.aa
    };
    z.ey.prototype.rb = function(w, o, Q, K, b) {
        var R = w.m;
        if (Q == null) Q = R.SA();
        if (K == null) K = R.WD(R.yG.D / 2, R.yG.j / 2);
        Q.translate(-K.x, -K.y);
        Q.rotate(b);
        Q.translate(K.x, K.y);
        R.q6(Q);
        if (w.D * R.I < R.yG.D && w.j * R.I < R.yG.j) R.n.qQ(0, 0);
        w.n9 = !0;
        this.N6(w, o)
    };
    z.ey.prototype.N6 = function(w, o) {
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.X3,
            f: this.id,
            aa: w.m.im
        };
        o.A(Q)
    };
    z.K2 = function() {
        z.g6.call(this, [10, 25], z.fP, "tools/hbrush")
    };
    z.K2.prototype = new z.g6("");
    z.K2.prototype.IN = function(w, o, Q, K, b) {
        if (this.$h == null) return;
        this.LJ(w, "heal", this.$h.bK(), this.$h.vG(), this.$h.Tj());
        this.C(w, this.$h.Tj());
        z.bA.prototype.IN.call(this, w, o, Q, K, b);
        if (!this.GJ.algnd) this.n = null
    };
    z.ZX = function() {
        z.Vb.call(this, [10, 8], z.wy, "tools/htype");
        this.ab = [];
        this.xN = null;
        this.f8 = null;
        this.caller = null;
        this.pm = 1;
        this.pc = null;
        this.ami = 0;
        this.Uh = 0;
        this.aaX = null;
        this.at = null;
        this.KW = null;
        this.gq = null;
        this._y = null;
        this.pU = null;
        this.afv = null;
        this.vX = null;
        this.gw = null;
        this.ir = null;
        this.al0 = null;
        this.vP = !1;
        this.go = !1;
        this.Vn = !1;
        this.C6 = null;
        this.oO = null;
        this.aaU = null;
        this.Hh = !1;
        this.J9 = !1;
        this.YW = -1;
        this.VX = -1;
        this.XE = document.createElement("textarea");
        this.XE.setAttribute("style", "font-family:Arial; font-size:14px; z-index:-1; " + " position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:" + (window.innerWidth - 10) + "px; height:150px;");
        this.XE.addEventListener("input", this.M5.bind(this), !1);
        this.XE.addEventListener("keydown", this.anF.bind(this), !1)
    };
    z.ZX.prototype = new z.Vb;
    z.ZX.prototype.sT = function(w) {
        return w.L8
    };
    z.ZX.prototype.iI = function(w, o, Q, K) {
        if (this.KW != null) return;
        this.caller = o;
        this.xN = w;
        var b = this._i(w);
        if (b.length != 0) {
            var R = null,
                X = [],
                h = [];
            for (var M = 0; M < b.length; M++) {
                var e = w.t[b[M]],
                    Z = e.add.TySh,
                    P = 0,
                    J = fI.KG(Z.rr).length - 2,
                    i = fI.UP(Z.rr, P, J);
                fI.Fr(i, z.Z.Qz(Z.H));
                if (i.Bq.Font != null) i.Bq.Font = i.IF[i.Bq.Font].Name;
                R = i.IF;
                X.push(i.Bq);
                h.push(i.j_)
            }
            var i = {
                IF: R,
                Bq: fI.A0(X),
                j_: fI.A0(h)
            };
            if (i.Bq.Font) fI.aE(i, i.Bq.Font);
            this.FX(o, i, Z)
        }
    };
    z.ZX.prototype._i = function(w) {
        var o = [];
        for (var M = 0; M < w.u.length; M++)
            if (w.t[w.u[M]] && w.t[w.u[M]].add.TySh) o.push(w.u[M]);
        return o
    };
    z.ZX.prototype.Sx = function(w, o, Q, K, b) {
        if (w.e == "insertText" && this.KW) {
            var R = this.XE,
                X = R.value,
                h = R.selectionStart,
                e = R.selectionEnd;
            R.value = X.slice(0, h) + w.F + X.slice(e);
            R.selectionStart = R.selectionEnd = h + w.F.length;
            this.M5(null);
            R.focus()
        }
        if (w.e == "updateStyles") {
            if (this.KW == null) {
                var Z = this._i(Q),
                    P = !1;
                if (Z.length != 0) {
                    this.f4(Q, o, b, Z);
                    for (var M = 0; M < Z.length; M++) {
                        var J = Q.t[Z[M]],
                            i = J.add.TySh;
                        fI.KS(i, this.pm);
                        this.KW = J;
                        var k = fI.KG(i.rr);
                        this.YW = 0;
                        this.VX = k.length - 1;
                        fI.Lj(i.rr, this.YW, this.VX, this.sW(b, i));
                        var $ = this.VG(Q, b);
                        if ($ == !1) P = !0
                    }
                    if (P) {
                        this.Hh = !0;
                        return
                    }
                    this.uf(Q, o)
                }
                return
            }
            this.pj(b)
        }
        if (w.e.startsWith("warp")) {
            var n = this.J9;
            if (w.e == "warp" || w.e == "warpCancel") {
                if (w.e == "warp") this.KW.add.TySh.OJ = w.AD;
                else this.KW.add.TySh.OJ = this.afv;
                var Q = this.xN;
                this.VG(Q, b);
                if (!n) this.ob(Q)
            }
            if (w.e != "warp") this.XE.focus();
            if ((w.e == "warpConfirm" || w.e == "warpCancel") && n) {
                this.J9 = !1;
                if (w.e == "warpConfirm") this.uf(Q, o);
                else this.Cr(Q, o)
            }
        }
        if (w.e == "editCurr") {
            if (b.jM != z.wy) {
                this.pc = b.jM;
                var j = new Y(_.E.N, !0);
                j.data = {
                    e: _.S.Lz,
                    f: z.wy
                };
                o.A(j)
            }
            if (this.KW != null) this.disable(Q, o, b, K);
            this.xN = Q;
            this.f8 = b;
            this.caller = o;
            this.f4(Q, o, b, [w.cn]);
            var k = fI.KG(this.KW.add.TySh.rr);
            this.YW = 0;
            this.VX = k.length - 1;
            this.ob(Q);
            this.X7();
            this.XE.focus()
        }
        if (w.e == "switchPntPrgr") {
            var J = Q.t[Q.u[0]],
                i = J.add.TySh,
                y = i.H.Qz(),
                V = JSON.parse(JSON.stringify(i.rr)),
                O = fI.bv(V),
                S = O == 1 ? fI.YN(V) : [0, 0, Math.round(J.rect.D * 1.05 / y), Math.round(J.rect.j * 1.25 / y)],
                G = fI.UP(V, 0, 0),
                D = G.IF[G.Bq.Font].Name,
                q = b.md.aS(D),
                T = [0, S[2], S[2] / 2][G.j_.Justification % 3],
                L = q ? gm.qn(q, D) * (1 / q.head.unitsPerEm) * G.Bq.FontSize : G.Bq.FontSize * .8;
            fI.c9(V, 1 - O);
            if (O == 0) {
                T = -T;
                L = -L;
                fI.I5(V, [0, 0, S[2], S[3]])
            }
            var N = new dj(1, 0, 0, 1, T, L);
            N.concat(i.H);
            this.Sx({
                Gu: Q.u[0],
                e: "newED",
                RG: V,
                H: N
            }, o, Q, K, b)
        }
        if (w.e == "newED") {
            var J = Q.t[w.Gu],
                i = J.add.TySh,
                F = this.Hs(Q, [w.Gu]);
            i.rr = w.RG;
            if (w.H) i.H = w.H;
            var I = new gm(i.rr, b.md),
                s = g1.Ez(I, i);
            J.rect = s.U;
            J.buffer = s.Sg;
            J.C();
            Q.C();
            var u = new hl(this.name, this);
            u.data = {
                vB: F,
                cI: this.Hs(Q, [w.Gu])
            };
            Q.be(u)
        }
        if (w.e == "fromAction") {
            var g = w.Nl.H8.Usng.v,
                U = g.TxtC.v,
                r = [];
            for (var M = 0; M < 2; M++) {
                var x = U[M == 0 ? "Hrzn" : "Vrtc"].v,
                    C = x.val;
                if (x.type == "#Prc") C = (M == 0 ? Q.D : Q.j) * (C / 100);
                r[M] = C
            }
            this.zq(Q, o, b, K, Q.m.BT(r[0], r[1]));
            var J = Q.t[Q.u[0]],
                i = J.add.TySh,
                p = i.rr,
                X = fI.KG(p);
            fI.Nf(p, 0, X.length - 1);
            fI.L$(p, 0, g.Txt.v.replace(/\r/g, "\n"));
            for (var O = 0; O < 2; O++) {
                var l = g[O == 0 ? "Txtt" : "paragraphStyleRange"].v;
                for (var M = 0; M < l.length; M++) {
                    var c = l[M].v,
                        h = c.From.v,
                        e = c.T.v - 1;
                    c = c[O == 0 ? "TxtS" : "paragraphStyle"].v;
                    var t = fI.UP(p, h, e),
                        H = O == 0 ? t.Bq : t.j_;
                    for (var gl in c) {
                        var fk = c[gl].v;
                        if (gl == "Sz") H.FontSize = Math.round(fk.val);
                        if (gl == "fontPostScriptName") fI.aE(t, fk);
                        if (gl == "Algn") H.Justification = {
                            Cntr: 2
                        } [fk.Alg]
                    }
                    fI.Lj(p, h, e, t)
                }
            }
            var I = new gm(i.rr, b.md),
                s = g1.Ez(I, i);
            J.rect = s.U;
            J.buffer = s.Sg;
            J.C();
            Q.C();
            this.uf(Q, o)
        }
    };
    z.ZX.prototype.pj = function(w) {
        var o = Math.min(this.YW, this.VX),
            Q = Math.max(this.YW, this.VX),
            K = this.KW.add.TySh;
        fI.KS(K, this.pm);
        fI.Lj(K.rr, o, Q - 1, this.sW(w, K));
        var b = this.xN,
            R = this.VG(b, w);
        if (R) this.ob(b);
        if (document.activeElement.tagName.toLowerCase() != "input") this.XE.focus()
    };
    z.ZX.prototype.jy = function(w) {
        return this.ab.indexOf(w) != -1
    };
    z.ZX.prototype.enable = function(w, o, Q, K) {
        var b = this.XE;
        if (!_.wH(b)) o.d.appendChild(b);
        this.vX = "default";
        this.Oy(o)
    };
    z.ZX.prototype.AO = function() {
        return this.KW != null
    };
    z.ZX.HN = function(w, o) {
        for (var M = w.t.length - 1; M >= 0; M--) {
            var Q = w.t[M];
            if (Q.add.TySh && Q.rect.V5(o) && w.Zm(M)) {
                var K = Q.cp(2) || Q.cp(31);
                return K ? -2 : M
            }
        }
        return -1
    };
    z.ZX.prototype.Br = function(w, o, Q, K, b) {
        this.xN = w;
        this.f8 = Q;
        this.caller = o;
        var R = w.m.WD(b.x, b.y),
            X = this.KW == null;
        if (X) {
            var h = z.ZX.HN(w, R);
            if (h == -2) {
                alert(b6.get([6, 57, 0]));
                return
            }
            if (h >= 0) {
                if (!g1.Yk(w.t[h].add.TySh, Q.md)) {
                    alert("Fonts not loaded yet");
                    return
                }
                this.f4(w, o, Q, [h])
            } else {
                this.Vn = !0;
                this.C6 = b;
                return
            }
        }
        var e = X ? -1 : fI.bv(this.KW.add.TySh.rr),
            Z = this.ir ? this.ir : this.gw;
        if (Z && Z.Br(w, Q, K, R) && v.AD.WZ(this.KW.add.TySh.OJ) || !X && v.w.OZ(R, this.KW.rect) > 20 / w.m.I && (e == 0 || e == 1)) {
            this.vP = !0;
            this.oO = R;
            this.aaU = this.KW.add.TySh.H.clone();
            if (this.YW == -1 && this.VX == -1) this.YW = this.VX = this.hC(R)
        } else {
            if (this._y == null) {
                alert("Fonts not loaded yet");
                return
            }
            this.go = !0;
            this.YW = this.VX = this.hC(R);
            var P = Date.now();
            if (P - this.ami > 300) this.Uh = 0;
            this.Uh++;
            this.ami = P;
            if (this.Uh == 2) this.a9k();
            if (this.Uh == 3) this.a5o();
            if (this.Uh > 1) {
                this.go = !1
            }
        }
        this.X7();
        this.ob(w)
    };
    z.ZX.prototype.f4 = function(w, o, Q, K) {
        var b = w.t[K[0]];
        this.KW = b;
        this.qJ(o, _.E.N, {
            e: _.S.X3,
            f: this.id,
            qv: "showactive"
        });
        this.gq = K;
        w.u = K.slice(0);
        w.xD();
        w.lB = !0;
        this.pU = this.Hs(w, K);
        this.K8(b.add.TySh);
        this.VG(w, Q)
    };
    z.ZX.prototype.K8 = function(w) {
        if (fI.bv(w.rr) != 1) return;
        var o = fI.YN(w.rr);
        o = new B(0, 0, o[2] - o[0], o[3] - o[1]);
        var Q = [o.x, o.y, o.x + o.D, o.y, o.x + o.D, o.y + o.j, o.x, o.y + o.j];
        v.w.H(Q, w.H, Q);
        this.gw = new dG(Q, !1, !1, !1, !0)
    };
    z.ZX.prototype.a9k = function() {
        var w = fI.KG(this.KW.add.TySh.rr);
        this.YW = this.ce(w, this.YW);
        this.VX = this._Y(w, this.YW)
    };
    z.ZX.prototype.ce = function(w, o) {
        var Q = " \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",
            K = [];
        for (var M = 0; M < Q.length; M++) K.push(Q.charAt(M));
        var b = K.indexOf(w[o]) == -1 ? !0 : !1;
        for (var M = o - 1; M >= 0; M--)
            if (K.indexOf(w.charAt(M)) != -1 == b) return M + 1;
        return 0
    };
    z.ZX.prototype._Y = function(w, o) {
        var Q = " \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",
            K = [];
        for (var M = 0; M < Q.length; M++) K.push(Q.charAt(M));
        var b = K.indexOf(w[o]) == -1 ? !0 : !1;
        for (var M = o + 1; M < w.length; M++)
            if (K.indexOf(w.charAt(M)) != -1 == b) return M;
        return w.length - 1
    };
    z.ZX.prototype.a5o = function() {
        var w = this._y.a1y(this.YW);
        this.YW = w[0];
        this.VX = w[1]
    };
    z.ZX.prototype.Oy = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.Gi,
            hr: this.vX
        };
        w.A(o)
    };
    z.ZX.prototype.$z = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y),
            X = this.KW;
        if (!b.L8) {
            var h = "default",
                e = this.gw,
                Z = this.ir ? this.ir : e;
            if (Z && v.AD.WZ(X.add.TySh.OJ)) {
                var P = Z.Te(R, w.m.I);
                if (P) h = P;
                else if (Z == e && e.ao(R)) h = "text"
            } else if (X && v.w.OZ(R, X.rect) > 20 / w.m.I) h = "move";
            else if (z.ZX.HN(w, R) >= 0) h = "text";
            if (h != this.vX) {
                this.vX = h;
                this.Oy(o)
            }
        }
        var J = this.C6;
        if (this.Vn && Math.min(b.x - J.x, b.y - J.y) > 4 / w.m.I) {
            this.Vn = !1;
            this.zq(w, o, Q, K, b);
            X = this.KW;
            this.vP = !0;
            this.gw = new dG(null, !1, !1, !1, !0);
            var i = w.m.WD(this.C6.x, this.C6.y);
            i.x = Math.round(i.x);
            i.y = Math.round(i.y);
            this.gw.Br(w, Q, K, i)
        }
        if (this.vP) {
            var k = X.add.TySh;
            if (this.ir) {
                this.ir.$z(w, Q, K, R);
                var $ = v.Q.oC(v.Q.RP(this.ir.CP(), this.al0));
                k.H = $;
                this.VG(w, Q);
                fI.ne(k)
            } else if (this.gw) {
                this.gw.$z(w, Q, K, R);
                var n = k.H.clone(),
                    j = Math.atan2(n.k, n.K);
                n.rotate(j);
                var $ = v.Q.oC(v.Q.RP(this.gw.CP())),
                    y = Math.atan2($.k, $.K);
                $.rotate(y);
                if (!isNaN($.K) && $.K * $.TX - $.k * $.Lu != 0) {
                    var V = new B(0, 0, $.K / n.K, $.TX / n.TX),
                        O = Math.round(V.D),
                        S = Math.round(V.j),
                        G = k.rr.Curve;
                    if (G) {
                        var D = fI.YN(k.rr),
                            q = new dj(O / D[2], 0, 0, S / D[3], 0, 0);
                        v.w.H(G.Points, q, G.Points);
                        fI.ne(k)
                    }
                    fI.I5(k.rr, [0, 0, O, S]);
                    k.H = v.Q.oC(v.Q.RP(this.gw.CP(), V));
                    this.VG(w, Q);
                    fI.ne(k)
                }
            } else {
                var T = R.x - this.oO.x,
                    L = R.y - this.oO.y;
                k.H = this.aaU.clone();
                var N = new fB(k.H.xy + T, k.H.r6 + L);
                N = z.uA.K$(w, N, Q);
                k.H.xy = N.x;
                k.H.r6 = N.y;
                this.VG(w, Q)
            }
        }
        if (this.go) this.VX = this.hC(R);
        if (this.vP || this.go) this.ob(w)
    };
    z.ZX.prototype.zq = function(w, o, Q, K, b) {
        var R = w.a$(),
            X = R[0],
            h = R[1],
            e = w._g();
        e.add.lnsr = "rend";
        var Z = w.t.slice(0);
        e.jG("Text layer " + Z.length);
        this.KW = e;
        var P = w.u.length == 0 ? w.t.length - 1 : w.u[w.u.length - 1],
            J = P + 1;
        if (Z[P].add.lsct == bb.SI) J--;
        this.pU = {
            OG: Z.slice(0),
            Ab: w.u.slice(0)
        };
        Z.splice(J, 0, e);
        w.u = [J];
        this.YW = this.VX = 0;
        w.rd(Z);
        this.pU.pl = Z.slice(0);
        this.pU.Dr = w.u.slice(0);
        this.qJ(o, _.E.N, {
            e: _.S.X3,
            f: this.id,
            qv: "showactive"
        });
        var i = w.m.WD(b.x, b.y);
        e.add.TySh = fI.Uy(i.x, i.y, Q.$p);
        var k = e.add.TySh,
            $ = k.rr;
        fI.KS(k, this.pm);
        if (b.L8) fI.c9($, 1);
        else {
            fI.c9($, 0);
            var n = X[h.pop()],
                j = n ? n.add.vmsk : null;
            if (j) {
                j = j.clone();
                var y = j._,
                    O, S;
                for (var M = 0; M < y.length; M++)
                    if (y[M].ID != null) y[M].ID = 0;
                var V = 4 * _.J() / w.m.I;
                O = v.P.UO(j._, i, !0, V);
                if (O.qX == -1) O = v.P.UO(j._, i);
                if (O.qX != -1) {
                    fI.c9($, 1);
                    var G = v.P.xJ(y, O.qX),
                        D = v.P.U2(y, O.qX) - 1;
                    y = j._ = y.slice(0, 2).concat(y.slice(G, G + D + 1));
                    j.u = [];
                    k.add = {
                        vmsk: j,
                        vogk: a.Y1(y)
                    };
                    $.Curve = {};
                    fI.k8(k);
                    if (O.QE != null) {
                        var q = gm.DP($.Curve);
                        v.w.H(q[0], k.H, q[0]);
                        var T = v.w.bX(q[0], i.x, i.y),
                            L = Q.$p.j_.Justification;
                        if (L == 2 || L == 5) {
                            var N = (q[2][T] + q[3] * .5) % q[3];
                            T = gm.Rj(N, q[2])
                        }
                        var F = q[1][T];
                        F = F % D;
                        j.zi = [F, F];
                        fI.k8(k)
                    } else this.K8(k)
                }
            }
        }
        return e
    };
    z.ZX.prototype.IN = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y),
            X = this.Vn;
        if (this.Vn) {
            this.Vn = !1;
            this.zq(w, o, Q, K, b);
            this.go = !0
        }
        if (this.vP || this.go) {
            this.ob(w);
            this.X7();
            if (X) this.pj(Q)
        }
        if (this.vP && this.gw) this.gw.IN(w, Q, K, R);
        this.vP = this.go = !1;
        this.K5(w, Q, K);
        this.XE.focus()
    };
    z.ZX.prototype.X7 = function() {
        var w = this.KW.add.TySh,
            o = Math.min(this.YW, this.VX),
            Q = Math.max(this.YW, this.VX),
            K, b;
        if (o == Q) {
            var R = fI.KG(w.rr);
            if (o == 0 || R.charAt(o - 1) == "\n") K = b = o;
            else K = b = o - 1
        } else {
            K = o;
            b = Q - 1
        }
        var X = fI.UP(w.rr, K, b);
        fI.Fr(X, z.Z.Qz(w.H));
        this.FX(this.caller, X, w)
    };
    z.ZX.prototype.FX = function(w, o, Q) {
        this.qJ(w, _.E.N, {
            e: _.S.UA,
            pO: d5.pQ,
            $p: o
        });
        var K = this.pm = fI.bT(Q);
        this.qJ(this.caller, _.E.N, {
            e: _.S.X3,
            f: this.id,
            qv: "changeAA",
            tu: K
        })
    };
    z.ZX.prototype.Yq = function(w, o, Q, K) {
        if (K.i(E.EI)) this.Cr(w, o);
        var b = this.KW;
        if (b)
            if (this.ir == null && K.i(E.HE)) {
                var R = b.add.TySh,
                    X = fI.bv(R.rr),
                    h;
                if (X == 1) {
                    h = fI.YN(R.rr);
                    h = new B(0, 0, h[2] - h[0], h[3] - h[1])
                } else h = this._y.PY();
                var e = [h.x, h.y, h.x + h.D, h.y, h.x + h.D, h.y + h.j, h.x, h.y + h.j];
                v.w.H(e, R.H, e);
                this.ir = new dG(e, !0, !0, !1, !1);
                this.al0 = h;
                this.ob(this.xN)
            } else this.K5(w, Q, K)
    };
    z.ZX.prototype.K5 = function(w, o, Q) {
        var K = this.KW;
        if (K && !this.vP && this.ir != null && !Q.i(E.HE)) {
            this.ir.IN(w, o, Q, null);
            this.ir = null;
            this.K8(K.add.TySh);
            this.ob(this.xN)
        }
    };
    z.ZX.prototype.disable = function(w, o, Q, K) {
        var b = this.KW;
        this.uf(w, o)
    };
    z.ZX.prototype.wx = function(w, o, Q, K, b) {
        if (this.J9) return;
        if (w.qv == "commit") this.uf(Q, o);
        if (w.qv == "cancel") this.Cr(Q, o);
        if (w.qv == "changeAA") {
            this.pm = w.tu;
            if (Q != null) this.Sx({
                e: "updateStyles"
            }, o, Q, K, b)
        }
        if (w.qv == "showwarp") {
            if (Q == null) return;
            if (this.KW == null) {
                var R = Q.t[Q.u[0]],
                    X = R.add.TySh;
                if (X == null) return;
                this.f4(Q, o, b, [Q.u[0]]);
                this.XE.focus();
                this.J9 = !0
            }
            this.afv = this.KW.add.TySh.OJ;
            var h = new Y(_.E.N, !0);
            h.data = {
                e: _.S.QH,
                hX: "textwarp"
            };
            o.A(h)
        }
    };
    z.ZX.prototype.yy = function(w, o) {
        if (o != d5.us) return;
        if (this.Hh) {
            this.Hh = !1;
            var Q = this.xN,
                K = this.gq;
            for (var M = 0; M < K.length; M++) {
                this.KW = Q.t[K[M]];
                this.VG(Q, w)
            }
            this.uf(Q, this.caller);
            return
        }
        if (this.KW) this.pj(w)
    };
    z.ZX.prototype.sW = function(w, o) {
        var Q = JSON.parse(JSON.stringify(w.$p));
        fI.Fr(Q, 1 / z.Z.Qz(o.H));
        return Q
    };
    z.ZX.prototype.ju = function(w, o) {
        if (w.vB != null) this.wn(o, w.cI);
        else this.er(o, w.pl, w.Dr)
    };
    z.ZX.prototype.Di = function(w, o) {
        if (w.vB != null) this.wn(o, w.vB);
        else this.er(o, w.OG, w.Ab)
    };
    z.ZX.prototype.wn = function(w, o) {
        for (var M = 0; M < o.length; M++) {
            var Q = o[M],
                K = Q.Gu,
                b = w.t[K];
            b.buffer = Q.Hb;
            b.rect = Q.U.clone();
            b.C();
            var R = b.add.TySh;
            R.OJ = Q.AD;
            R.Hu = Q.Hu.clone();
            R.H = Q.H.clone();
            R.rr = JSON.parse(JSON.stringify(Q.rr));
            b.fR()
        }
        w.C()
    };
    z.ZX.prototype.Hs = function(w, o) {
        var Q = [];
        for (var M = 0; M < o.length; M++) {
            var K = o[M],
                b = w.t[K],
                R = b.add.TySh;
            Q.push({
                Gu: K,
                H: R.H.clone(),
                AD: JSON.parse(JSON.stringify(R.OJ)),
                Hu: R.Hu.clone(),
                rr: JSON.parse(JSON.stringify(R.rr)),
                Hb: v.clone(b.buffer),
                U: b.rect.clone()
            })
        }
        return Q
    };
    z.ZX.prototype.er = function(w, o, Q) {
        w.u = Q;
        w.rd(o);
        w.C();
        w.ot = !0
    };
    z.ZX.prototype.VG = function(w, o, Q) {
        if (Q == null) Q = !1;
        var K = this.KW.add.TySh;
        if (!g1.Yk(K, o.md)) return !1;
        this._y = new gm(K.rr, o.md);
        if (!Q) {
            var b = fI.KG(K.rr);
            this.XE.value = b.slice(0, b.length - 1)
        }
        var R = g1.Ez(this._y, K);
        if (v.AD.WZ(K.OJ)) K.Hu = new B;
        else {
            if (fI.bv(K.rr) == 1) {
                var X = fI.YN(K.rr),
                    A = R.Hu.y;
                K.Hu = new B(0, A, X[2] - X[0], X[3] - X[1] - A)
            } else {
                K.Hu = R.Hu
            }
        }
        var h = this.KW.rect;
        this.KW.rect = R.U;
        this.KW.buffer = R.Sg;
        this.KW.C();
        w.tE();
        w.C(w.root.J2(R.U.OX(h), w, w.t.indexOf(this.KW)));
        return !0
    };
    z.ZX.prototype.M5 = function(w) {
        if (this.KW == null || this.J9) return;
        var o = this.XE.selectionStart,
            Q = this.KW.add.TySh,
            K = fI.KG(Q.rr),
            b = this.XE.value + "\n",
            R = Math.min(this.YW, this.VX),
            X = Math.max(this.YW, this.VX),
            J = !1;
        this.YW = Math.min(o, R);
        if (b.length - o < K.length - this.VX) this.VX = K.length - b.length + o;
        if (K != b) {
            while (this.YW > 0 && K.charAt(this.YW - 1) != b.charAt(this.YW - 1)) this.YW--
        }
        var h = K.substring(0, this.YW),
            e = K.substring(this.VX, K.length),
            Z = b.substring(this.YW, b.length - e.length);
        fI.Nf(Q.rr, this.YW, this.VX);
        fI.L$(Q.rr, this.YW, Z);
        var P = this.sW(this.f8, Q),
            i = -1,
            k = Array.from(Z);
        for (var M = 0; M < k.length; M++) i = Math.max(i, k[M].codePointAt(0));
        if (i != -1 && i > 128 && P.Bq.Font != null) {
            var $ = P.IF[P.Bq.Font].Name,
                n = this.f8.md.KV(i, $, P.IF);
            if ($ != n) {
                fI.aE(P, n);
                J = !0
            }
        }
        if (this.at != null && Z == this.at) {
            var j = JSON.parse(this.aaX);
            P.Bq = j.Bq;
            P.IF = j.IF;
            J = !0
        }
        fI.Lj(Q.rr, this.YW, this.YW + Z.length - 1, P);
        this.YW = this.VX = h.length + Z.length;
        var y = this.xN,
            V = this.VG(y, this.f8, !0);
        if (V) this.ob(y, !0);
        if (J) this.X7()
    };
    z.ZX.prototype.anF = function(w) {
        if (this.KW == null || this.J9) return;
        if (this.KW == null) return;
        var o = E,
            Q = 0,
            K = 0,
            y = !1;
        if (o.Cn(w.code, o.hE)) Q = 1;
        if (o.Cn(w.code, o._O)) Q = -1;
        if (o.Cn(w.code, o.Vy)) K = -1;
        if (o.Cn(w.code, o.lW)) K = 1;
        var b = w.ctrlKey || w.metaKey,
            R = o.Cn(w.code, E.aky),
            X = o.Cn(w.code, E.ahA);
        if (o.Cn(w.code, E.$g) && b) {
            this.uf(this.xN, this.caller);
            return
        }
        if (o.Cn(w.code, E.YT)) {
            w.preventDefault();
            var h = this.XE,
                e = h.value,
                Z = h.selectionStart,
                P = h.selectionEnd;
            h.value = e.substring(0, Z) + "\t" + e.substring(P);
            h.selectionStart = h.selectionEnd = Z + 1;
            this.M5(null);
            return
        }
        if ((o.Cn(w.code, o.kS) || o.Cn(w.code, o.C3)) && b) {
            var J = this.YW,
                i = this.VX;
            if (J > i) {
                var k = J;
                J = i;
                i = k
            }
            var $ = this.KW.add.TySh,
                n = fI.KG($.rr);
            if (J != i) {
                this.at = n.slice(J, i);
                this.aaX = JSON.stringify(this.f8.$p)
            }
        }
        var j = fI.KG(this.KW.add.TySh.rr);
        if (Q != 0 || K != 0 || R || X) {
            w.preventDefault();
            var V = this.YW;
            if (Q != 0) {
                if (b && Q == -1) V = this.ce(j, this.YW - 1);
                else if (b && Q == 1) V = this._Y(j, this.YW);
                else {
                    var h = this.XE,
                        e = h.value;
                    V = this.YW + Q;
                    if (V != 0 && e.codePointAt(V - 1) > 65535) V += Q
                }
            } else if (K != 0) {
                var O = this._y.eb(this.YW);
                if (K == -1 && O.Km == 0) V = 0;
                else if (K == 1 && O.Km == this._y.a1v() - 1) V = 99999999999;
                else V = this._y.eP(new fB(O.U.x + O.U.D / 2, 0), O.Km + K)
            } else if (R) {
                var S = this.YW - 1;
                while (S > 0 && j.charCodeAt(S) != 10) S--;
                V = S == 0 ? 0 : S + 1
            } else if (X) {
                var S = this.YW;
                while (S < j.length - 1 && j.charCodeAt(S) != 10) S++;
                V = S
            }
            V = Math.max(0, Math.min(j.length - 1, V));
            if (w.shiftKey) this.YW = V;
            else this.YW = this.VX = V;
            y = !0
        }
        if (o.Cn(w.code, E.S) && b) {
            this.YW = 0;
            this.VX = j.length - 1;
            y = !0
        }
        if (y) {
            this.X7();
            this.ob(this.xN)
        }
    };
    z.ZX.aiA = function(w, o) {
        var Q = w.length;
        if (Q != o.length) return !1;
        for (var M = 0; M < Q; M++)
            if (w[M].Gu != o[M].Gu) return !1;
        return !0
    };
    z.ZX.prototype.uf = function(w, o) {
        if (this.KW == null) return;
        this.KW.fR();
        var Q = this.pU;
        if (Q instanceof Array) {
            var K = this.Hs(w, this.gq),
                b = w.Z6();
            if (b != null && b.f == this && b.data.vB && z.ZX.aiA(b.data.vB, Q)) b.data.cI = K;
            else {
                var R = new hl(this.name, this);
                R.data = {
                    vB: Q,
                    cI: K
                };
                w.be(R)
            }
        } else {
            var R = new hl(this.name, this);
            R.data = {
                OG: Q.OG,
                pl: Q.pl,
                Ab: Q.Ab,
                Dr: Q.Dr
            };
            w.be(R)
        }
        this.escape(w, o)
    };
    z.ZX.prototype.Cr = function(w, o) {
        if (this.KW == null) return;
        if (this.pU instanceof Array) {
            this.wn(w, this.pU);
            if (this.KW) fI.ne(this.KW.add.TySh)
        } else {
            w.u = this.pU.Ab;
            w.rd(this.pU.OG)
        }
        w.C();
        this.escape(w, o)
    };
    z.ZX.prototype.escape = function(w, o) {
        this.KW = null;
        this.gq = null;
        this._y = null;
        this.gw = null;
        this.XE.blur();
        w.r.Sb = null;
        w.r.xs = null;
        w.r.Pi = [];
        w.n9 = !0;
        this.vP = !1;
        this.go = !1;
        this.YW = this.VX = -1;
        this.qJ(o, _.E.N, {
            e: _.S.X3,
            f: this.id,
            qv: "hideactive"
        });
        if (this.pc) {
            var Q = new Y(_.E.N, !0);
            Q.data = {
                e: _.S.Lz,
                f: this.pc
            };
            o.A(Q);
            this.pc = null
        }
    };
    z.ZX.prototype.qJ = function(w, o, Q, K) {
        var b = new Y(o, !0);
        b.data = Q;
        if (K) b.f = K;
        w.A(b)
    };
    z.ZX.prototype.hC = function(w) {
        var o = this.KW.add.TySh,
            Q = this._y,
            K = o.H.clone();
        K.MF();
        var b = K.hv(w),
            R = fI.vG(o, Q),
            X = v.AD.rh(o.OJ, R),
            h = v.sp.R.NR(X, 0, 1, 0, 1),
            e = new Uint32Array(30),
            Z = v.sp.R.a46(h.Ur, h.qS, b.x, b.y, e),
            P = v.sp.UO(X, b.x, b.y, h.Ur, e, Z, !1),
            J = v.sp.YO;
        if (J == null) J = new Float64Array(2);
        b = new fB(R.x + J[0] * R.D, R.y + J[1] * R.j);
        var i = Q.eP(b);
        return i
    };
    z.ZX.prototype.ob = function(w, o) {
        if (o == null) o = !1;
        var Q = this.KW.add.TySh,
            K = fI.bv(Q.rr),
            b = this._y,
            R = b ? fI.vG(Q, b) : null;
        w.r.Pi = [];
        w.r.Sb = null;
        w.r.xs = null;
        var X = this.ir ? this.ir : this.gw;
        if (X) {
            X.wb(w, this.f8, !v.AD.WZ(Q.OJ));
            var h = Q.H.clone();
            h.MF();
            v.w.H(w.r.Pi, h, w.r.Pi);
            v.w.H(w.r.Sb.X, h, w.r.Sb.X);
            if (b && b.a0d()) {
                var e = R.D - 20,
                    Z = R.j + 8;
                w.r.Sb.X.push(e, Z, e + 10, Z, e + 5, Z - 5, e + 5, Z + 5);
                w.r.Sb.Y.push("M", "L", "M", "L")
            }
        } else if (K == 0) this.ajH(w, Q, b);
        else w.r.Sb = {
            X: [],
            Y: []
        };
        var P = Math.min(this.YW, this.VX),
            J = Math.max(this.YW, this.VX);
        if (!o) {
            this.XE.selectionStart = P;
            this.XE.selectionEnd = J
        }
        if (b != null) {
            var i = function(X, G) {
                var D = X.x,
                    q = X.y + X.j,
                    T = new dj;
                T.translate(-D, -q);
                T.rotate(-G);
                T.translate(D, q);
                X.y += X.j * .27;
                var V = v.w.NU(X);
                v.w.H(V.X, T, V.X);
                return V
            };
            if (P == J) {
                P = Math.max(P, 0);
                var k = b.eb(P);
                if (k) {
                    var $ = k.U,
                        n = this.f8.$p.Bq.FontSize;
                    if (n != null && n != 0) {
                        n /= Q.H.Qz();
                        $.y += $.j - n;
                        $.j = n
                    }
                    var j = b.a40(P);
                    if (j != null && j.rg == 1) $.x += $.D;
                    var y = i($, k.im).X;
                    w.r.Sb.Y.push("M", "L");
                    w.r.Sb.X.push(y[0], y[1], y[6], y[7])
                }
            } else {
                w.r.xs = {
                    X: [],
                    Y: []
                };
                for (var M = P; M < J; M++) {
                    var k = b.eb(M),
                        V = i(k.U, k.im);
                    v.w.concat(w.r.xs, V)
                }
            }
        }
        if (b != null) {
            if (!R.Kx()) {
                var O = v.AD.rh(Q.OJ, R),
                    S = Math.min(R.D, R.j) / 10;
                if (w.r.Sb) {
                    w.r.Sb = v.w.NB(w.r.Sb);
                    w.r.Sb = v.w.bR(w.r.Sb, S);
                    v.sp.apply(O, w.r.Sb.X, R)
                }
                if (w.r.xs) {
                    w.r.xs = v.w.NB(w.r.xs);
                    w.r.xs = v.w.bR(w.r.xs, S);
                    v.sp.apply(O, w.r.xs.X, R)
                }
                v.sp.apply(O, w.r.Pi, R)
            }
        }
        if (w.r.Sb) v.w.H(w.r.Sb.X, Q.H, w.r.Sb.X);
        if (w.r.xs) v.w.H(w.r.xs.X, Q.H, w.r.xs.X);
        v.w.H(w.r.Pi, Q.H, w.r.Pi);
        w.n9 = !0
    };
    z.ZX.prototype.ajH = function(w, o, Q) {
        if (Q == null) return;
        w.r.Pi.push(0, 0);
        if (w.r.Sb == null) w.r.Sb = {
            Y: [],
            X: []
        };
        for (var M = 0; M < Q.j_.length; M++) {
            var K = Q.j_[M];
            for (var b = 0; b < K.JR.length; b++) {
                var R = K.JR[b],
                    X = K.kL.x + R.kL.x + R.U.x,
                    h = K.kL.y + R.kL.y + R.U.y + R.U.j;
                w.r.Sb.Y.push("M", "L");
                w.r.Sb.X.push(X, h, X + R.U.D, h)
            }
        }
        w.n9 = !0
    };
    z.KY = function() {
        z.hz.call(this, [10, 9], z.RM, "tools/lasso");
        this.Uj = "crosshair";
        this.KL = null;
        this.C8 = null;
        this.oO = null
    };
    z.KY.prototype = new z.hz;
    z.KY.prototype.MM = function(w, o, Q, K) {
        this.KL = this.ln;
        this.C8 = {
            X: [this.KL.x, this.KL.y],
            Y: ["M"]
        }
    };
    z.KY.prototype.Le = function(w, o, Q, K) {
        this.oO = K;
        var b = this.C8;
        if (b == null) return;
        if (!K.L8) {
            if (this.C8 != null && this.e4 > 1 && Q.i(E.O4)) {
                b.X.pop();
                b.X.pop();
                b.X.push(this.w$.x, this.w$.y);
                w.r.Sb = b;
                w.n9 = !0
            }
            return
        }
        b.Y.push("L");
        b.X.push(this.w$.x, this.w$.y);
        this.KL = this.w$;
        if (this.S7) {
            w.r.Sb = b;
            w.n9 = !0
        }
    };
    z.KY.prototype.AO = function() {
        return this.C8 != null
    };
    z.KY.prototype.fH = function() {
        return this.C8 != null
    };
    z.KY.prototype.Yq = function(w, o, Q, K) {
        z.hz.prototype.Yq.call(this, w, o, Q, K);
        if (this.C8 && this.e4 > 1 && this.oO && !this.oO.L8 && !K.i(E.O4)) this.nA(w, Q, K)
    };
    z.KY.prototype.Fo = function(w, o, Q, K) {
        this.oO = K;
        var b = this.C8;
        if (b == null) return;
        if (this.e4 > 1 && Q.i(E.O4)) {
            b.Y.push("L");
            b.X.push(this.w$.x, this.w$.y);
            return
        }
        this.nA(w, o, Q)
    };
    z.KY.prototype.nA = function(w, o, Q) {
        this.finish(w, o, Q, this.oO);
        this.C8 = null;
        w.r.Sb = null;
        w.n9 = !0
    };
    z.KY.prototype.getSelection = function(w, o, Q, K) {
        if (this.ln.Lb(this.w$) || !this.S7) return null;
        return z.hz.KX(this.C8.X)
    };
    z.uA = function() {
        z.Vb.call(this, [10, 11], z.sk, "tools/move");
        this.s3 = new fB(0, 0);
        this.UG = new fB(0, 0);
        this.in = null;
        this.Z0 = null;
        this.sL = new fB(0, 0);
        this.e_ = null;
        this.AL = null;
        this.hf = null;
        this.Bg = 0;
        this.gG = null;
        this.YR = [];
        this.kp = null;
        this.JY = !1;
        this.e = 0;
        this.Ys = null;
        this.ib = null;
        this.V7 = null;
        this.Py = !1;
        this.GJ = {
            A$: !1,
            GV: !1,
            pM: !1
        };
        this.a06 = !1;
        this.a1i = !1;
        this.gw = null;
        this.Eh = null;
        this.af3 = null;
        var w = [];
        for (var M = 0; M < v.JU.j0.length; M++) w.push({
            name: v.JU.j0[M],
            l: function(o, Q, K) {
                return {
                    r8: Q.w1.D5 == K
                }
            }
        });
        this.Wj = new ag(w);
        this.Wj.s("select", this.Oc, this)
    };
    z.uA.prototype = new z.Vb;
    z.Vb.prototype.sT = function(w) {
        return this.JY && this.e != 2
    };
    z.uA.prototype.aF = function() {
        return this.JY && this.e == 0
    };
    z.uA.prototype.mm = function(w, o, Q, K) {
        this.Zy(w, -this.sL.x, -this.sL.y);
        this.sL.qQ(0, 0);
        this.mV(w, null, Q);
        this.xg(w)
    };
    z.uA.prototype.Pl = function() {
        var w = this.GJ;
        return [w.A$ ? 1 : 0, w.GV ? 1 : 0, w.pM ? 1 : 0]
    };
    z.uA.prototype.om = function(w, o, Q) {
        var K = this.GJ;
        if (w && w[0] != null) K.A$ = w[0] == 1;
        if (w && w[1] != null) K.GV = w[1] == 1;
        if (w && w[2] != null) K.pM = w[2] == 1;
        var b = new Y(_.E.N, !0);
        b.data = {
            e: _.S.X3,
            f: this.id,
            NC: K,
            a1G: o
        };
        Q.A(b)
    };
    z.uA.Mv = function(w, o, Q, K, b, R, X) {
        if (X == null) X = [!1, !0];
        var h = new B(0, 0, w.D, w.j),
            e = w.Mu(null, b, !0),
            Z = w.Jz(e, X[0] ? h : null, X[1] ? null : h)[0];
        if (X[1]) {
            var P = v.Zk(Z.X_(), new B(0, 0, Z.D, Z.j), 2);
            z.U0.HV(Z, P)
        }
        if (Q != 1) {
            var J = new B(0, 0, Math.round(Z.D * Q), Math.round(Z.j * Q));
            z.U0.HV(Z, J);
            var i = [];
            for (var M = 0; M < Z.t.length; M++) i.push(M);
            var k = z.Z.iR(Z, i, !0);
            z.Z.H0(Z, K, i, k, 1, v.Q.k1(new dj(Q, 0, 0, Q, 0, 0)), null, !0);
            Z.rW()
        }
        var $ = [];
        for (var M = 0; M < o.length; M++)
            if (Z.D * Z.j != 0) $.push(ip.P2(Z, o[M].toUpperCase(), null, null, R ? R[M] : null, K));
        return $
    };
    z.uA.prototype.Vd = function(w, o, Q, K, b) {
        if (w == null || w.u.length == 0) return;
        var R = z.uA.Mv(w, [o], Q, K, null)[0],
            X = new Y(_.E.N, !0);
        X.data = {
            e: _.S.AS,
            data: R,
            name: w.t[w.u[0]].getName() + (Q == 1 ? "" : "@" + Q + "x") + "." + o
        };
        b.A(X)
    };
    z.uA.prototype.wx = function(w, o, Q, K, b) {
        if (w.D3 == "getPNG") {
            this.Vd(Q, "png", w.QU, b, o)
        } else if (w.D3 == "getSVG") {
            this.Vd(Q, "svg", w.QU, b, o)
        }
        if (w.D3 == "prms") {
            this.GJ = w;
            this.xg(Q)
        }
    };
    z.uA.alB = function(w) {
        var A = w.length,
            Q = 0;
        w.sort(function(R, X) {
            return R[0] + R[1] / 2 - (X[0] + X[1] / 2)
        });
        var o = w[A - 1][0] + w[A - 1][1] - w[0][0];
        for (var M = 0; M < A; M++) Q += w[M][1];
        var K = Math.round((o - Q) / (A - 1)),
            b = w[0][0];
        for (var M = 0; M < A; M++) {
            w[M][0] = b;
            b += w[M][1] + K
        }
    };
    z.uA.prototype.Sx = function(w, o, Q, K, b) {
        var R = w.e;
        if (R == "trsl") {
            var X = Math.round(w.anH),
                h = Math.round(w.aiY);
            this.sL.qQ(X, h);
            this.oH(Q, o, K, b, !1, w.p);
            this.Zy(Q, X, h);
            this.mV(Q, null, b)
        } else if (R == "gids" || R == "gidsFromLayer") {
            var e = w.ib,
                Z, P;
            if (e == null) e = JSON.parse(JSON.stringify(Q.TH));
            if (R == "gids") {
                Z = w.sV;
                var J = e[0].length + e[1].length,
                    i = Z[0].length + Z[1].length;
                P = J == i ? [23, 2] : J > i ? [23, 3] : [23, 4];
                if (i == 0) P = [11, 15, 0]
            } else if (R == "gidsFromLayer") {
                var k = [
                    [],
                    []
                ];
                for (var M = 0; M < Q.u.length; M++) {
                    var $ = Q.t[Q.u[M]].rect;
                    if ($.Kx()) continue;
                    k[0].push($.x, $.x + $.D);
                    k[1].push($.y, $.y + $.j)
                }
                P = [11, 15, 1];
                Z = JSON.parse(JSON.stringify(Q.TH));
                z.uA.MT(Z, k)
            }
            if (JSON.stringify(e) == JSON.stringify(Z)) return;
            var R = new hl(P, this);
            R.data = {
                e: 2,
                ib: e,
                sV: Z
            };
            Q.be(R);
            this.ju(R.data, Q)
        } else if (R == "algn") {
            var n = w.F;
            if (Q == null) return;
            if (Q.u.length < 2 && !(Q.o != null && n != 3 && n != 7)) {
                alert(b6.get([15, 7, 5]));
                return
            }
            var j = Q.o;
            Q.o = null;
            var $ = j ? j.rect : z.Z.vG(Q);
            this.oH(Q, o, K, b, !1);
            if (!this.JY) return;
            var y = this.gG,
                V = {},
                O = [],
                S = [],
                G = [];
            for (var M = 0; M < y.length; M++) {
                var D = y[M];
                while (Q.t[D].getName() == "</Layer group>") D++;
                var q = Q.root.o8(D),
                    T = q;
                while (q.parent != null) {
                    q = q.parent;
                    if (y.indexOf(q.index) != -1) T = q
                }
                var L = S.indexOf(T.index);
                if (L == -1) {
                    L = S.length;
                    S.push(T.index)
                }
                O[M] = L
            }
            var N = [],
                F = [],
                I = [];
            for (var M = 0; M < S.length; M++) {
                var s = z.Z.vG(Q, Q.Mu(!0, S[M]));
                I.push(s);
                var u = n == 3 ? [s.y, s.j] : [s.x, s.D];
                N[M] = u;
                F.push(u)
            }
            z.uA.alB(F);
            for (var M = 0; M < S.length; M++) {
                var s = I[M],
                    g = s.x,
                    U = s.y;
                if (n == 0) g = $.x;
                if (n == 1) g = $.x + ($.D - s.D) / 2;
                if (n == 2) g = $.x + ($.D - s.D);
                if (n == 3) U = N[M][0];
                if (n == 4) U = $.y;
                if (n == 5) U = $.y + ($.j - s.j) / 2;
                if (n == 6) U = $.y + ($.j - s.j);
                if (n == 7) g = N[M][0];
                G.push(Math.round(g - s.x), Math.round(U - s.y))
            }
            var r = [];
            for (var M = 0; M < y.length; M++) {
                var x = O[M];
                r[2 * M] = G[2 * x];
                r[2 * M + 1] = G[2 * x + 1]
            }
            this.Zy(Q, 0, 0, null, r);
            var C = n == 3 || n == 7 ? [20, 4, 6] : [20, 4, n < 3 ? n : n - 1];
            this.mV(Q, null, b, r, C);
            Q.o = j
        }
    };
    z.uA.MT = function(w, o) {
        for (var M = 0; M < o.length; M++)
            for (var Q = 0; Q < o[M].length; Q++)
                if (w[M].indexOf(o[M][Q]) == -1) w[M].push(o[M][Q])
    };
    z.uA.prototype.enable = function(w, o, Q, K, b) {
        this.AL = Q;
        this.hf = o;
        this.Py = b ? !0 : !1;
        this.xg(w);
        this.Oy("default", o)
    };
    z.uA.prototype.disable = function(w, o, Q, K) {
        this.Ho(w)
    };
    z.uA.prototype.Ho = function(w) {
        if (w == null) return;
        if (this.gw) {
            this.gw.clear(w);
            this.gw = null
        }
        if (w.r.pM) {
            w.r.pM = null;
            w.n9 = !0
        }
        if (w.r.es) {
            w.r.es = null;
            w.n9 = !0
        }
        if (w.r.zE[this.id]) {
            delete w.r.zE[this.id];
            w.n9 = !0
        }
        if (w.r.aG.length != 0) {
            w.r.aG = [];
            w.n9 = !0
        }
    };
    z.uA.prototype.iI = function(w, o, Q, K) {
        if (Q.jM != this.id) return;
        this.xg(w)
    };
    z.uA.prototype.xg = function(w, o) {
        if (w == null) return;
        var Q = this.GJ;
        this.Ho(w);
        if (!this.Py) {
            var K;
            if (Q.GV || Q.pM) K = v.w.ri(z.Z.vG(w));
            if (Q.GV && !K.Kx()) {
                this.gw = new dG([K.x, K.y, K.x + K.D, K.y, K.x + K.D, K.y + K.j, K.x, K.y + K.j], !0);
                this.gw.wb(w, this.AL)
            }
            if (Q.pM) {
                var b = w.dX(w.u[0]),
                    P = null,
                    J = !1;
                if (b == null) b = new B(0, 0, w.D, w.j);
                w.r.pM = {
                    GP: [K],
                    hV: []
                };
                var R = w.r.pM.hV,
                    X = K.x + K.D,
                    h = K.y + K.j,
                    e = K.x + Math.floor(K.D / 2),
                    Z = K.y + Math.floor(K.j / 2);
                if (o) {
                    var i = w.root.UO(new fB(Math.floor(o.x), Math.floor(o.y)));
                    if (i) {
                        P = v.w.ri(i.p.IJ(w));
                        if (P.Ic(K)) {
                            J = (P.Fq(K) || K.Fq(P)) && !K.Lb(P);
                            if (!J) P = null
                        }
                    }
                }
                this.Vx(K, R);
                if (P != null) {
                    w.r.pM.GP.push(P);
                    var k = P.x + P.D,
                        $ = P.y + P.j,
                        n = P.x + Math.floor(P.D / 2),
                        j = P.y + Math.floor(P.j / 2);
                    if (J) {
                        var y = e,
                            V = Z;
                        if (K.Fq(P)) {
                            y = n;
                            V = j
                        }
                        R.push(K.x, V, P.x, V);
                        R.push(X, V, k, V);
                        R.push(y, K.y, y, P.y);
                        R.push(y, h, y, $)
                    } else {
                        this.Vx(P, R);
                        var O = h < P.y || $ < K.y,
                            S = X < P.x || k < K.x;
                        if (X < P.x) R.push(X, Z, P.x, Z);
                        if (k < K.x) R.push(k, Z, K.x, Z);
                        if (h < P.y) R.push(e, h, e, P.y);
                        if ($ < K.y) R.push(e, $, e, K.y);
                        if (O && !S) {
                            if (K.x < P.x) R.push(K.x, j, P.x, j);
                            if (P.x < K.x) R.push(P.x, Z, K.x, Z)
                        }
                    }
                } else {
                    if (K.y > b.y) R.push(e, b.y, e, K.y);
                    if (h < b.y + b.j) R.push(e, h, e, b.y + b.j);
                    if (K.x > b.x) R.push(b.x, Z, K.x, Z);
                    if (X < b.x + b.D) R.push(X, Z, b.x + b.D, Z)
                }
                w.n9 = !0
            }
        }
        if (this.e == 2 && this.JY) {
            var G = this.gG,
                D = G[0],
                q = (D == 0 ? "X" : "Y") + ": " + v.JU.IH(w.TH[D][G[1]], w.cK, this.AL, D == 0 ? w.D : w.j, !0);
            z.Vb.lV(Math.round(this.in.x) + 10, Math.round(this.in.y) - 10, [q], w);
            w.n9 = !0
        }
        if (this.e == 3 && this.JY) {
            var T = v.w.NU(this.Ys);
            w.r.zE[this.id] = {
                Sb: T
            };
            w.n9 = !0
        }
    };
    z.uA.prototype.Vx = function(w, o) {
        var Q = w.D,
            K = w.j,
            b = w.x + Math.floor(Q * .2),
            R = w.y + Math.floor(K * .2);
        o.push(b, w.y, b, w.y + K);
        o.push(w.x, R, w.x + Q, R)
    };
    z.uA.prototype.Oy = function(w, o) {
        var Q = {
                e: _.S.Gi,
                hr: w
            },
            K = new Y(_.E.N, !0);
        K.data = Q;
        o.A(K)
    };
    z.uA.prototype.aT = function(w) {
        var o = this.Eh.ud()[0],
            Q = this.e_,
            K = this.af3[o];
        this.za(Q, K)
    };
    z.uA.prototype.Oc = function(w) {
        var o = JSON.parse(JSON.stringify(this.AL.w1));
        o.D5 = this.Wj.ud()[0];
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.UA,
            pO: d5.PO,
            tu: o
        };
        this.hf.A(Q)
    };
    z.uA.prototype.ml = function(w, o, Q, K, b) {
        if (this.JY) this.IN(w, o, Q, K, b);
        this.e_ = w;
        this.AL = Q;
        this.hf = o;
        var R = w.m.WD(b.x, b.y),
            X;
        if (z.uA.Ir(Q, b)) {
            X = this.Wj
        } else {
            if (this.Eh) this.Eh.removeEventListener("select", this.aT);
            var h = [];
            w.root.UO(R, h);
            if (h.length == 0) return;
            var e = [];
            this.af3 = h;
            for (var M = 0; M < h.length; M++) e.push({
                name: w.t[h[M]].getName()
            });
            X = this.Eh = new ag(e);
            X.s("select", this.aT, this)
        }
        X.parent = o;
        X.v();
        X.update(w, Q);
        var Z = new Y(_.E.N, !0);
        Z.data = {
            e: _.S.Gj,
            wh: X,
            x: b.qb + 2,
            y: b.Nh + 1
        };
        o.A(Z)
    };
    z.uA.prototype.H4 = function(w, o, Q, K, b) {
        return z.uA.Ir(Q, b)
    };
    z.uA.prototype.Br = function(w, o, Q, K, b) {
        this.in = b;
        this.s3.qQ(b.x, b.y);
        this.UG = w.m.WD(b.x, b.y);
        this.Z0 = new bT(this.UG);
        this.oH(w, o, K, Q, !0)
    };
    z.uA.Ir = function(w, o) {
        return w.Xh && (0 < o.x && o.x < v.JU.bk || 0 < o.y && o.y < v.JU.bk)
    };
    z.uA.prototype.oH = function(w, o, Q, K, b, R) {
        var X, h = this.UG,
            e = !1;
        if (b) {
            var Z = K.O2 && K.w1.TH;
            if (z.uA.Ir(K, this.s3)) {
                X = JSON.parse(JSON.stringify(w.TH));
                if (this.s3.x < v.JU.bk) w.TH[0].push(h.x);
                if (this.s3.y < v.JU.bk) w.TH[1].push(h.y);
                if (!Z) {
                    var P = new Y(_.E.N);
                    if (!K.w1.TH) {
                        P.data = {
                            e: _.S.UA,
                            pO: d5.Sm
                        };
                        o.A(P)
                    }
                    if (!K.O2) {
                        P.data = {
                            e: _.S.UA,
                            pO: d5.Nc
                        };
                        o.A(P)
                    }
                    Z = !0
                }
            }
            var J = this.Ld(w, h);
            if (Z && J) {
                this.e = 2;
                this.ib = X ? X : JSON.parse(JSON.stringify(w.TH));
                this.gG = J;
                this.JY = !0;
                this.kp = z.Z.vG(w);
                return
            }
            if (w.Od.length != 0) {
                this.e = 4;
                this.kp = w.SF[w.Od[0]].rect.clone();
                this.JY = !0;
                return
            }
            if (this.gw && this.gw.Te(h, w.m.I, !0) != null) {
                var P = new Y(_.E.N);
                P.data = {
                    e: _.S.Lz,
                    f: z.Go
                };
                o.A(P);
                var i = new Y(_.E.z);
                i.f = z.Go;
                i.data = {
                    e: "doMouseDown",
                    in: this.s3
                };
                o.A(i);
                return
            }
            if (w.o && w.o.rect.V5(h)) {
                var k = Math.round(h.x),
                    $ = Math.round(h.y),
                    n = w.o.rect;
                e = w.o.channel[($ - n.y) * n.D + k - n.x] > 128
            }
            if (!e && (!this.Py && this.GJ.A$ || this.Py && this.GJ.A$ && (Q.i(E.lK) || w.u.length < 2))) {
                var j = this.a9Y(w, h, Q);
                if (!j) {
                    w.u = [];
                    w.Yd = null;
                    w.ot = w.Q9 = !0;
                    this.e = 3;
                    this.Ys = new B;
                    this.JY = !0;
                    return
                }
            }
            if (Q.i(E.O4) && !e) {
                var i = new Y(_.E.z);
                i.f = z.lz;
                i.data = {
                    e: a.NK,
                    a58: !0
                };
                o.A(i)
            }
        }
        if (w.Od.length != 0) {
            this.e = 4;
            this.kp = w.SF[w.Od[0]].rect.clone();
            this.JY = !0;
            return
        }
        this.gG = w.Mu(R == null, R, null, !0);
        for (var M = 0; M < this.gG.length; M++) {
            var y = w.t[this.gG[M]];
            if (y.cp(2) || y.cp(31)) {
                alert(b6.get([6, 57, 0]));
                return
            }
        }
        this.YR = z.uA.aed(w, this.gG);
        this.e = 0;
        if (w.o && (!b || e) && w.u.length == 1 && w.yD(!1)) {
            if (!w.Ck()) {
                this.JY = !1;
                return
            }
            var V = w.t[w.u[0]],
                O = Q.i(E.O4);
            this.e = 1;
            var S = w.history[w.A3];
            if (S.f == this && S.data.e == 1 && S.data.p == w.u[0] && V.lY == V.Xa.lY && !O) {
                this.V7 = S
            } else {
                var G = V.Xa,
                    D = !1,
                    q;
                if (!V.Bb(w, w.o) || O) {
                    D = !0;
                    V.JZ(w, w.o, O)
                }
                if (V.Xa.lY <= 0) {
                    q = v.$(V.Xa.DL.length >> 2);
                    v.KU(V.Xa.DL, q, 3)
                } else q = v.clone(w.o.channel);
                var T = {
                    rect: V.Xa.p1.clone(),
                    channel: q
                };
                this.V7 = new hl(O ? [12, 53] : [12, 54], this);
                this.V7.data = {
                    e: 1,
                    p: w.u[0],
                    Xa: V.Xa,
                    q5: G,
                    bn: D,
                    Ab: w.o,
                    Dr: T,
                    TX: new fB(0, 0)
                };
                w.be(this.V7);
                w.o = T;
                w.Yr = !0
            }
        }
        this.JY = !0;
        this.kp = z.Z.vG(w)
    };
    z.uA.prototype.a9Y = function(w, o, Q) {
        var K = w.root.UO(new fB(Math.floor(o.x), Math.floor(o.y)));
        if (K) {
            if (K.p.add.vmsk) w.n9 = !0;
            var b = w.t.indexOf(K.p);
            if (Q.i(E.lK)) {
                var R = w.u.indexOf(b);
                if (R == -1) w.u.push(b);
                else if (w.u.length > 1) w.u.splice(R, 1)
            } else if (w.u.indexOf(b) == -1) {
                this.za(w, b)
            }
        }
        return K != null
    };
    z.uA.prototype.za = function(w, o) {
        w.t[o].lY = 0;
        w.u = [o];
        w.Yd = null;
        w.xD();
        w.lB = !0;
        w.ot = !0
    };
    z.uA.prototype.$z = function(w, o, Q, K, b) {
        this.in = b;
        var R = w.m.WD(b.x, b.y),
            i, k;
        if (this.Z0 && this.e < 2) R = this.Z0.q3(R, K);
        if (!this.JY) {
            if (Q.O2 && Q.w1.TH) {
                var X = this.Ld(w, R),
                    h = "default";
                if (X) h = ["col-resize", "row-resize"][X[0]];
                else if (this.gw) {
                    var e = this.gw.Te(R, w.m.I);
                    if (e) h = e
                }
                this.Oy(h, o)
            }
            this.xg(w, R);
            return
        }
        var Z = this.UG,
            P = Math.round(R.x - Z.x) - this.sL.x,
            J = Math.round(R.y - Z.y) - this.sL.y;
        if (this.kp) {
            if (this.e == 2) {
                R = z.uA.K$(w, R, Q, [!1, w.o ? w.o.rect : this.kp, !0])
            } else {
                k = this.kp.clone();
                k.offset(this.sL.x + P, this.sL.y + J);
                i = z.uA.I9(w, k, Q);
                P += Math.round(i[0]);
                J += Math.round(i[1])
            }
        }
        this.sL.x += P;
        this.sL.y += J;
        this.Zy(w, P, J, R, null, K.i(E.lK));
        this.xg(w, R);
        if (i) z.uA.cd(w, k, i)
    };
    z.uA.prototype.Ld = function(w, o) {
        o = [o.x, o.y];
        for (var M = 0; M < 2; M++)
            for (var Q = 0; Q < w.TH[M].length; Q++)
                if (Math.abs(w.TH[M][Q] - o[M]) * w.m.I < 4) return [M, Q];
        return null
    };
    z.uA.prototype.Zy = function(w, o, Q, K, b, R) {
        if (this.e == 0) {
            if (b) z.uA.HC(w, this.gG, this.YR, b);
            else z.uA.EM(w, this.gG, this.YR, o, Q)
        } else if (this.e == 1) {
            var X = this.V7.data;
            X.TX.offset(o, Q);
            z.uA.Iv(w, X.p, o, Q)
        } else if (this.e == 2) {
            var h = 1e-5;
            if (R) h = w.m.I <= 1 ? 10 : 1;
            else if (w.m.I <= 1) h = 1;
            var e = h * Math.round(K.x / h),
                Z = h * Math.round(K.y / h),
                P = [e, Z],
                J = this.gG;
            w.TH[J[0]][J[1]] = P[J[0]]
        } else if (this.e == 3) {
            var i = this.UG,
                k = v.w.C$([i.x, i.y, K.x, K.y]);
            this.Ys = k;
            var $ = [];
            w.root.Un(k, $);
            if (JSON.stringify(w.u) != JSON.stringify($)) {
                w.u = $;
                w.ot = w.Q9 = !0
            }
        } else if (this.e == 4) {
            for (var M = 0; M < w.Od.length; M++) w.SF[w.Od[M]].rect.offset(o, Q);
            w.n9 = !0
        }
    };
    z.uA.Iv = function(w, o, Q, K) {
        var b = w.t[o];
        w.o.rect.offset(Q, K);
        b.k3(w, Q, K, w.o);
        w.Yr = !0;
        w.C()
    };
    z.uA.prototype.IN = function(w, o, Q, K, b) {
        this.mV(w, b, Q);
        this.xg(w);
        if (Date.now() - this.Bg < 300) {
            var R = z.ZX.HN(w, w.m.WD(b.x, b.y));
            if (R != -1) {
                var X = new Y(_.E.z, !0);
                X.f = z.wy;
                X.data = {
                    e: "editCurr",
                    cn: R
                };
                o.A(X)
            }
        }
        this.Bg = Date.now()
    };
    z.uA.prototype.mV = function(w, o, Q, K, b) {
        if (!this.JY) return;
        this.JY = !1;
        if (this.e == 0) {
            if (K) {
                this.L_(w, null, K, b)
            } else {
                if (this.sL.x == 0 && this.sL.y == 0) return;
                this.L_(w, this.sL.clone())
            }
            w.rn = !0
        } else if (this.e == 2) {
            var R = 0;
            o = [o.x, o.y];
            var X = this.gG,
                bV = this.ib[0].length + this.ib[1].length,
                h = w.TH[0].length + w.TH[1].length;
            if (Q.Xh && o[X[0]] < v.JU.bk) {
                w.TH[X[0]].splice(X[1], 1);
                R = 1;
                if (bV == h - 1) return
            }
            if (bV < h) R = 2;
            var e = new hl([
                [23, 2],
                [23, 3],
                [23, 4]
            ][R], this);
            e.data = {
                e: 2,
                ib: this.ib,
                sV: JSON.parse(JSON.stringify(w.TH))
            };
            w.be(e)
        } else if (this.e == 4) {
            var e = new hl([12, 54], this);
            e.data = {
                e: 4,
                u: w.Od.slice(0),
                n: this.sL.clone()
            };
            w.be(e)
        }
        this.sL.qQ(0, 0)
    };
    z.uA.prototype.Yq = function(w, o, Q, K) {
        var b = K.Tg();
        if (w != null && (b.x != 0 || b.y != 0)) {
            if (K.i(E.O4) && w.o == null) {
                var R = new Y(_.E.z);
                R.f = z.lz;
                R.data = {
                    e: a.NK,
                    a58: !0
                };
                o.A(R)
            }
            this.sL.qQ(b.x, b.y);
            this.oH(w, o, K, Q, !1);
            if (!this.JY) return;
            this.Zy(w, b.x, b.y);
            this.mV(w, null, Q);
            this.xg(w)
        }
        var X = K.i(E.HE);
        if (!this.Py && this.a1i != X) {
            if (X) {
                this.a06 = this.GJ.A$;
                this.GJ.A$ = !0
            } else {
                this.GJ.A$ = this.a06
            }
            this.a1i = X;
            var h = new Y(_.E.N, !0);
            h.data = {
                e: _.S.X3,
                f: this.id,
                NC: this.GJ
            };
            o.A(h)
        }
    };
    z.uA.prototype.Di = function(w, o) {
        if (w.e == 0) z.uA.HC(o, w.u, w.Pa, w.ep, !0);
        else if (w.e == 2) {
            o.TH = JSON.parse(JSON.stringify(w.ib));
            o.n9 = !0
        } else if (w.e == 4) {
            for (var M = 0; M < w.u.length; M++) o.SF[w.u[M]].rect.offset(-w.n.x, -w.n.y);
            o.n9 = !0
        } else {
            var Q = o.t[w.p];
            if (w.bn) {
                Q.qR(o, w.q5);
                o.o = w.Ab;
                o.Yr = !0;
                o.C();
                Q.C()
            } else {
                z.uA.Iv(o, w.p, -w.TX.x, -w.TX.y)
            }
        }
    };
    z.uA.prototype.ju = function(w, o) {
        if (w.e == 0) z.uA.HC(o, w.u, w.Pa, w.ep);
        else if (w.e == 2) {
            o.TH = JSON.parse(JSON.stringify(w.sV));
            o.n9 = !0
        } else if (w.e == 4) {
            for (var M = 0; M < w.u.length; M++) o.SF[w.u[M]].rect.offset(w.n.x, w.n.y);
            o.n9 = !0
        } else {
            var Q = o.t[w.p];
            if (w.bn) {
                Q.Xa = w.Xa;
                o.o = w.Dr;
                z.uA.Iv(o, w.p, 0, 0);
                Q.C()
            } else {
                z.uA.Iv(o, w.p, w.TX.x, w.TX.y)
            }
        }
    };
    z.uA.prototype.L_ = function(w, o, Q, K) {
        if (Q) {
            var b = !0;
            for (var M = 0; M < Q.length; M++)
                if (Q[M] != 0) b = !1;
            if (b) return
        }
        var R = w.history[w.A3];
        if (R.data && R.f == this && R.data.e == 0 && Q == null && JSON.stringify(R.data.u) == JSON.stringify(this.gG) && JSON.stringify(R.data.Pa) == JSON.stringify(this.YR)) {
            var X = R.data.ep,
                h = R.data.aku.H8.T.v;
            h.Hrzn.v.val += o.x;
            h.Vrtc.v.val += o.y;
            for (var M = 0; M < X.length; M += 2) {
                X[M] += o.x;
                X[M + 1] += o.y
            }
        } else {
            if (o == null) o = new fB(Q[0], Q[1]);
            var e = {
                    hj: "move",
                    H8: {
                        classID: "null",
                        null: hX.EX("Lyr", !0),
                        T: {
                            t: "Objc",
                            v: {
                                classID: "Ofst",
                                Hrzn: {
                                    t: "UntF",
                                    v: {
                                        type: "#Rlt",
                                        val: o.x
                                    }
                                },
                                Vrtc: {
                                    t: "UntF",
                                    v: {
                                        type: "#Rlt",
                                        val: o.y
                                    }
                                }
                            }
                        }
                    }
                },
                Z = new hl(K ? K : [12, 54], this);
            if (Q) Z.data = {
                e: 0,
                u: this.gG,
                Pa: this.YR,
                ep: Q
            };
            else Z.data = {
                e: 0,
                u: this.gG,
                Pa: this.YR,
                ep: z.uA.rj(this.gG, o.x, o.y)
            };
            Z.data.aku = e;
            w.be(Z);
            this.track(e)
        }
    };
    z.uA.rj = function(w, o, Q) {
        var K = [];
        for (var M = 0; M < w.length; M++) K.push(o, Q);
        return K
    };
    z.uA.EM = function(w, o, Q, K, b) {
        z.uA.HC(w, o, Q, z.uA.rj(o, K, b))
    };
    z.uA.HC = function(w, o, Q, K, b) {
        if (o.length == 0) return;
        if (Q == null) {
            Q = [];
            for (var M = 0; M < o.length; M++) {
                Q.push(w.t[o[M]].sK(w, !0))
            }
        }
        var R = new B,
            X = new B(0, 0, w.D, w.j);
        for (var M = 0; M < o.length; M++) {
            var h = K[2 * M],
                e = K[2 * M + 1];
            if (b) {
                h = -h;
                e = -e
            }
            var Z = w.t[o[M]],
                P = Q[M];
            if (Z.add.fxrp && (P.indexOf(0) != -1 || Z.hK())) Z.add.fxrp.offset(h, e);
            for (var J = 0; J < P.length; J++) {
                var i = P[J];
                if (i == 0) {
                    Z.rect.offset(h, e);
                    if (Z.iD() && Z.Ca(w)) Z.Ca(w).rect.offset(h, e);
                    if (Z.add.artb) {
                        var k = Z.xi();
                        k.offset(h, e);
                        Z.vm(k)
                    }
                    if (Z.add.TySh) {
                        Z.add.TySh.H.translate(h, e);
                        if (Z.add.TySh.add) {
                            Z.add.TySh.add.vmsk.offset(h, e)
                        }
                    }
                    if (Z.add.SoLd) {
                        var $ = new dj(1, 0, 0, 1, h, e),
                            n = Z.add.SoLd,
                            j = z.Z.wf(n.Trnf),
                            y = z.Z.wf(n.nonAffineTransform);
                        v.w.H(j, $, j);
                        v.w.H(y, $, y);
                        n.Trnf = z.Z.Tm(j);
                        n.nonAffineTransform = z.Z.Tm(y)
                    }
                }
                if (i == 1) Z._f().rect.offset(h, e);
                if (i == 2) {
                    Z.add.vmsk.offset(h, e);
                    if (Z.add.vogk) v.Wn.H(Z.add.vogk, [1, 0, h, 0, 1, e, 0, 0], [])
                }
                if (i == 3) {
                    Z.Ca(w).q.rect.offset(h, e);
                    if (P.length == 1) Z.C()
                }
            }
            if (P.length > 0) {
                var V = Z.add.GdFl;
                if (V == null) V = Z.add.PtFl;
                if (Z.hK() && !Z.lc() && Z.add.vmsk != null && v.P.xU(Z.add.vmsk._) && Z.add.vmsk.v$ == 255 && (V == null || V.Algn && V.Algn.v)) {
                    Z.rect.offset(h, e)
                } else Z.b6(w);
                var O = w.root.J2(Z.IJ(w), w, o[M]);
                R = R.OX(O);
                O.offset(-h, -e);
                R = R.OX(O);
                if (Z.add.SoCo || Z.add.GdFl || Z.add.PtFl || au.get(Z.add) != null) R = R.OX(X);
                Z.y5()
            }
        }
        w.C(R)
    };
    z.uA.aed = function(w, o) {
        var Q = [];
        for (var M = 0; M < o.length; M++) {
            var K = w.t[o[M]];
            Q.push(K.sK(w))
        }
        return Q
    };
    z.uA.cd = function(w, o, Q) {
        var K = w.r.es = {
                X: [],
                Y: []
            },
            b = o.x + Q[0],
            R = o.y + Q[1];
        if (Q[2] != 1e9) {
            K.Y.push("M", "L");
            K.X.push(Q[2], R, Q[2], R + o.j)
        }
        if (Q[3] != 1e9) {
            K.Y.push("M", "L");
            K.X.push(b, Q[3], b + o.D, Q[3])
        }
        w.n9 = !0
    };
    z.uA.K$ = function(w, o, Q, K) {
        var b = z.uA.PH(w, [
            [o.x],
            [o.y]
        ], Q, K);
        return new fB(o.x + b[0], o.y + b[1])
    };
    z.uA.I9 = function(w, o, Q, K, b) {
        var R = b == !0 ? 0 : 1,
            X = z.uA.PH(w, [
                [o.x, o.x + (o.D >>> R), o.x + o.D],
                [o.y, o.y + (o.j >>> R), o.y + o.j]
            ], Q, K);
        return X
    };
    z.uA.PH = function(w, o, Q, K) {
        if (K == null) K = [!0, null, !0];
        var b = [0, 0, 1e9, 1e9];
        if (!Q.mo) return b;
        var R = JSON.parse(JSON.stringify(o));
        for (var X = 0; X < 2; X++) {
            var h = 1e9,
                e = o[X],
                Z = 0;
            for (var P = 0; P < e.length; P++) {
                var J = z.uA.aiq(w, e[P], R[1 - X][P], X, Q, K);
                if (J != 1e9) R[X][P] = J;
                if (J != 1e9 && Math.abs(J - e[P]) < Math.abs(h)) {
                    h = J - e[P];
                    Z = J
                }
            }
            if (h != 1e9) {
                b[X] = h;
                b[X + 2] = Z
            }
        }
        return b
    };
    z.uA.aiq = function(w, o, Q, K, b, R) {
        var X = 1e9,
            h = b.N0,
            e = b.w1,
            Z = [w.root];
        while (Z.length != 0 && h[2]) {
            var P = Z.pop(),
                J = P.p,
                i = J.rect;
            if (!J.HY()) continue;
            if (P.children)
                for (var M = 0; M < P.children.length; M++) Z.push(P.children[M]);
            if (w.u.indexOf(P.index) != -1 || i.Kx()) continue;
            if (K == 0) {
                var k = i.D,
                    $ = k >>> 1;
                if (Math.abs(i.x - o) < Math.abs(X - o)) X = i.x;
                if (Math.abs(i.x + $ - o) < Math.abs(X - o)) X = i.x + $;
                if (Math.abs(i.x + k - o) < Math.abs(X - o)) X = i.x + k
            } else {
                var n = i.j,
                    j = n >>> 1;
                if (Math.abs(i.y - o) < Math.abs(X - o)) X = i.y;
                if (Math.abs(i.y + j - o) < Math.abs(X - o)) X = i.y + j;
                if (Math.abs(i.y + n - o) < Math.abs(X - o)) X = i.y + n
            }
        }
        if (R[0] && h[0] && e.TH && b.O2) {
            var y = w.TH[K];
            for (var M = 0; M < y.length; M++)
                if (Math.abs(y[M] - o) < Math.abs(X - o)) X = y[M]
        }
        if (h[1] && e.kU && b.O2) {
            var V = Math.round(v.JU.cr(e._Q, w, e.X$));
            if (K == 1 && e.fs == 1) {
                var O = Q * .5 * Math.sqrt(4 / 3),
                    S;
                V *= Math.sqrt(4 / 3);
                S = Math.round((o - O) / V) * V + O;
                if (Math.abs(S - o) < Math.abs(X - o)) X = S;
                S = Math.round((o + O) / V) * V - O;
                if (Math.abs(S - o) < Math.abs(X - o)) X = S
            } else {
                var S = Math.round(o / V) * V;
                if (Math.abs(S - o) < Math.abs(X - o)) X = S
            }
        }
        var G = w.sY;
        if (h[3] && e.sY && b.O2 && G.length != 0) {
            for (var M = 0; M < G.length; M++) {
                if (!R[2] && w.mQ.indexOf(M) != -1) continue;
                var D = z.Ig.MS(G, M);
                for (var q = 0; q < 3; q += 2)
                    if (D[q + K] != o && Math.abs(D[q + K] - o) < Math.abs(X - o)) X = D[q + K]
            }
        }
        if (R[1]) {
            var i = R[1],
                k = i.D,
                n = i.j,
                T = [i.x, i.y, i.x + (k >>> 1), i.y + (n >>> 1), i.x + k, i.y + n];
            for (var M = 0; M < 6; M += 2)
                if (Math.abs(T[M + K] - o) < Math.abs(X - o)) X = T[M + K]
        }
        if (h[4]) {
            var k = w.D,
                n = w.j,
                T = [0, 0, k >>> 1, n >>> 1, k, n];
            for (var M = 0; M < 6; M += 2)
                if (Math.abs(T[M + K] - o) < Math.abs(X - o)) X = T[M + K]
        }
        var L = Math.abs(X - o) <= 4 * _.J() / w.m.I ? X : 1e9;
        return L
    };
    z.J7 = function() {
        z.hz.call(this, [10, 12], z.YJ, "tools/mwand")
    };
    z.J7.prototype = new z.hz;
    z.J7.prototype.Pl = z.hz.prototype.adj;
    z.J7.prototype.om = z.hz.prototype.a6u;
    z.J7.prototype.MM = function(w, o, Q, K) {
        this.finish(w, o, Q, K)
    };
    z.J7.prototype.getSelection = function(w, o, Q, K) {
        var b = this.w$,
            R = z.hz.agw(new fB(Math.floor(b.x), Math.floor(b.y)), this.GJ.rx);
        return R
    };
    z.J7.IK = function(w, o, Q) {
        if (w.u.length != 1) {
            alert("More than one layer selected.");
            return null
        }
        var K = w.t[w.u[0]],
            b = K.lY <= 0 ? null : K.lY == 1 ? K._f() : K.Ca(w).q,
            R;
        if (b == null && K.add.lsct != null && K.add.lsct != bb.B2) {
            alert("No layer selected.");
            return null
        }
        if (o.x < 0 || o.x > w.D || o.y < 0 || o.y > w.j) return null;
        var X = new B(0, 0, w.D, w.j);
        if (b == null && X.Lb(K.rect)) R = K.buffer;
        else {
            R = v.$(X.O() * 4);
            if (b == null) v.c1(K.buffer, K.rect, R, X);
            else z.bA.QO(b.channel, b.rect, b.color, R, X)
        }
        var h = z.J7.ML(R, X, o, null, Q),
            e = v.JT(h, X),
            Z = v.$(e.O());
        v.Hp(h, X, Z, e);
        return {
            rect: e,
            channel: Z
        }
    };
    z.J7.Yv = function(w, o, Q) {
        var K = o.D,
            R = 0,
            X = 0,
            h = 0,
            e = 0;
        w = new Uint32Array(w.buffer);
        var b = [],
            Z = Q.length;
        for (var M = 0; M < Z; M++) {
            var P = Q[M],
                J = Math.round(P.x - .5 - o.x),
                i = Math.round(P.y - .5 - o.y);
            if (!o.V5(P)) J = i = 0;
            var k = i * K + J,
                $ = w[k];
            b.push([$ & 255, $ >> 8 & 255, $ >> 16 & 255, $ >>> 24])
        }
        return b
    };
    z.J7.ML = function(w, o, Q, K, b) {
        w = new Uint32Array(w.buffer);
        var R = o.D,
            X = o.j,
            h = R * X;
        if (K == null) K = z.J7.Yv(w, o, [Q]);
        var e = Math.round(Q.x - .5 - o.x),
            Z = Math.round(Q.y - .5 - o.y),
            P = Z * R + e,
            J = Date.now(),
            i = v.$(R * X),
            k = b[0],
            $ = 1 / k,
            n = b[1] && k > 0 ? 255 : 0;
        if (b[2]) {
            var j = v.$(i.length),
                y = new Uint32Array(h),
                V = 1;
            y[0] = e << 16 | Z;
            j[P] = 1;
            while (V > 0) {
                var O = y[V - 1];
                V--;
                var S = O >>> 16,
                    G = O & 65535,
                    M = G * R + S,
                    D = z.J7.yl(w[M], K);
                if (D > k) {
                    var q = n * (1 - Math.max(0, Math.min(1, (D - k) * $)));
                    i[M] = ~~q
                } else {
                    i[M] = 255;
                    if (G != X - 1 && j[M + R] == 0) {
                        y[V++] = S << 16 | G + 1;
                        j[M + R] = 1
                    }
                    if (G != 0 && j[M - R] == 0) {
                        y[V++] = S << 16 | G - 1;
                        j[M - R] = 1
                    }
                    if (S != R - 1 && j[M + 1] == 0) {
                        y[V++] = S + 1 << 16 | G;
                        j[M + 1] = 1
                    }
                    if (S != 0 && j[M - 1] == 0) {
                        y[V++] = S - 1 << 16 | G;
                        j[M - 1] = 1
                    }
                }
            }
        } else {
            for (var M = 0; M < h; M++) {
                var D = z.J7.yl(w[M], K);
                if (D <= k) i[M] = 255
            }
            for (var G = 0; G < X; G++)
                for (var S = 0; S < R; S++) {
                    var M = G * R + S;
                    if (i[M] == 0 && (S > 0 && (i[M - 1] == 255 || G > 0 && i[M - R - 1] == 255 || G < X - 1 && i[M + R - 1] == 255) || S < R - 1 && (i[M + 1] == 255 || G > 0 && i[M - R + 1] == 255 || G < X - 1 && i[M + R + 1] == 255) || G > 0 && i[M - R] == 255 || G < X - 1 && i[M + R] == 255)) {
                        var D = z.J7.yl(w[M], K),
                            q = n * (1 - Math.max(0, Math.min(1, (D - k) * $)));
                        i[M] = ~~q
                    }
                }
        }
        return i
    };
    z.J7.yl = function(w, o) {
        var Q = o.length,
            K = z.J7.X8(w, o[0]),
            M = 1;
        while (M != Q) {
            K = Math.min(K, z.J7.X8(w, o[M]));
            M++
        }
        return K
    };
    z.J7.X8 = function(w, o) {
        var Q = w & 255,
            K = w >>> 8 & 255,
            b = w >>> 16 & 255,
            R = w >>> 24 & 255;
        if (o[3] == 0) return R < 5 ? 0 : 255;
        var X = Math.max(Math.abs(Q - o[0]), Math.max(Math.abs(K - o[1]), Math.abs(b - o[2])));
        return R == 0 ? 255 : X
    };
    z.g_ = function(w, o) {
        if (o) z.bA.call(this);
        else if (w) z.bA.call(this, [10, 49], z.zj, "tools/camove");
        else z.bA.call(this, [10, 26], z.gF, "tools/patch");
        this.KL = null;
        this.C8 = null;
        this.n = null;
        this.kL = null;
        this.fw = new fB;
        this.ah = null;
        this.KK = null
    };
    z.g_.prototype = new z.bA;
    z.g_.prototype.Br = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y);
        if (w.o && v.UO(R, w.o.channel, w.o.rect)) {
            var X = new B(0, 0, w.D, w.j),
                h = X.z2(w.o.rect);
            if (!w.yD() || h.Kx()) return;
            if (!0) {
                var e = v.$(h.O());
                v.Hp(w.o.channel, w.o.rect, e, h);
                w.o = {
                    channel: e,
                    rect: h
                }
            }
            this.hw(w);
            this.YY(w);
            this.kL = R;
            this.fw = new fB(R.x - w.o.rect.x, R.y - w.o.rect.y);
            this.KK = v.$(w.o.rect.O() * 4);
            v.set(this.KK, 4294967295);
            if (this.GJ.patch == 1) {
                var Z = w.t[w.u[0]];
                Z.JZ(w, w.o, !0);
                if (Z.Xa == null) this.kL = null
            }
            this.ah = w.o.rect.clone()
        } else {
            this.C8 = {
                X: [R.x, R.y],
                Y: ["M"]
            };
            this.KL = R
        }
    };
    z.g_.prototype.$z = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y);
        if (this.kL) {
            if (this.GJ.patch == 1) {
                var X = w.t[w.u[0]].Xa,
                    h = R.x - this.fw.x,
                    e = R.y - this.fw.y;
                z.uA.Iv(w, w.u[0], Math.round(h - X.p1.x), Math.round(e - X.p1.y))
            } else this.Ct(w, R, "clone")
        }
        if (this.KL) {
            this.C8.Y.push("L");
            this.C8.X.push(R.x, R.y);
            this.KL = R;
            w.r.Sb = this.C8;
            w.n9 = !0
        }
    };
    z.g_.prototype.IN = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y);
        if (this.kL) {
            var X = w.o.rect.clone();
            if (this.id == z.zj) {
                var h = w.t[w.u[0]];
                h.qR(w, h.Xa);
                w.o.rect = this.ah.clone();
                var e = v.$(w.o.rect.O() * 4);
                v.qh(w.o.channel, e, 3);
                this.LJ(w, "sheal", e, w.o.rect, w.o.rect);
                w.o.rect = X;
                X = X.OX(this.ah)
            }
            this.Ct(w, R, "heal");
            this.finish(w, X, null, null, !0);
            w.C(X);
            this.kL = null
        }
        if (this.KL) {
            var Z = z.hz.Kv(this.GJ.setop, K.i(E.lK), K.i(E.O4)),
                P = new Y(_.E.e9, !0);
            if (this.C8.X.length <= 4) P.data = z.hz.RL();
            else P.data = z.hz.KX(this.C8.X, Z);
            o.A(P);
            this.KL = null;
            w.r.Sb = null;
            w.n9 = !0
        }
    };
    z.g_.prototype.t$ = function() {
        return this.n
    };
    z.g_.prototype.wx = function(w, o, Q, K, b) {
        z.bA.prototype.wx.call(this, w, o, Q, K, b);
        this.Oy(b, K)
    };
    z.g_.prototype.Oy = function(w, o) {
        var Q = "auto;";
        if (o != null && o.i(E.lK) && !o.i(E.O4) || this.GJ.setop == "union") Q = "copy";
        var K = new Y(_.E.N, !0);
        K.data = {
            e: _.S.Gi,
            hr: Q
        };
        if (this.caller) this.caller.A(K)
    };
    z.g_.prototype.Ct = function(w, o, Q) {
        var K = new fB(Math.round(this.kL.x - o.x), Math.round(this.kL.y - o.y));
        if (this.GJ.patch == 1) K.qQ(-K.x, -K.y);
        this.n = K;
        this.LJ(w, Q, this.KK, w.o.rect, w.o.rect);
        this.C(w, w.o.rect)
    };
    z.kJ = function() {
        z.g_.call(this, !0);
        this.GJ.patch = 1
    };
    z.kJ.prototype = new z.g_(!0, !0);
    z.TF = function() {
        z.bA.call(this, [10, 13], z.a8d, "tools/pbucket")
    };
    z.TF.prototype = new z.bA;
    z.TF.prototype.enable = function(w, o, Q, K) {
        var b = new Y(_.E.N, !0);
        b.data = {
            e: _.S.Gi,
            hr: "default"
        };
        o.A(b)
    };
    z.TF.prototype.yy = function(w, o) {};
    z.TF.prototype.IN = function(w, o, Q, K, b) {
        if (!w.yD()) return;
        var R = w.m.WD(b.x, b.y),
            X = z.J7.IK(w, R, this.GJ.wconf);
        if (X == null) return;
        var h = v.$(X.rect.O() * 4);
        v.Fw(h, (Q.x1 & 255) << 16 | (Q.x1 >> 8 & 255) << 8 | (Q.x1 >> 16 & 255) << 0);
        v.qh(X.channel, h, 3);
        this.hw(w);
        this.LJ(w, "draw", h, X.rect, X.rect);
        this.C(w, X.rect);
        this.finish(w, X.rect)
    };
    z.v0 = function() {
        z.hz.call(this, [10, 14], z.ah1, "tools/plasso");
        this.Uj = "crosshair";
        this.ab = [];
        this.my = null;
        this.C8 = null;
        this.akY = 0
    };
    z.v0.prototype = new z.hz;
    z.v0.prototype.disable = function(w, o, Q, K) {
        this.Vv(w)
    };
    z.v0.prototype.MM = function(w, o, Q, K) {
        this.ab = [E.U_, E.OW]
    };
    z.v0.prototype.jy = function(w) {
        return this.ab.indexOf(w) != -1
    };
    z.v0.prototype.sT = function(w) {
        return this.C8 != null
    };
    z.v0.prototype.fH = function() {
        return this.C8 != null
    };
    z.v0.prototype.AO = function() {
        return this.C8 != null
    };
    z.v0.prototype.Le = function(w, o, Q, K) {
        if (this.C8 == null) return;
        var b = this.C8,
            R = b.X,
            X = R.length - 2,
            h = this.w$;
        if (this.e4 > 1 && Q.i(E.O4) && K.L8) {
            R.push(0, 0);
            b.Y.push("L");
            X += 2
        } else if (Q.i(E.lK)) h = z.w5.Z8(new fB(R[X - 2], R[X - 1]), h);
        R[X] = h.x;
        R[X + 1] = h.y;
        w.r.Sb = b;
        w.n9 = !0
    };
    z.v0.prototype.Fo = function(w, o, Q, K) {
        var b = Date.now();
        if (this.C8 == null) this.C8 = {
            X: [this.w$.x, this.w$.y, this.w$.x, this.w$.y],
            Y: ["M", "L"]
        };
        else {
            this.Le(w, o, Q, K);
            if (b - this.akY < 250 || fB.mp(this.w$, new fB(this.C8.X[0], this.C8.X[1])) < 5 * _.J() / w.m.I) {
                this.my = this.C8;
                this.finish(w, o, Q, K);
                this.Vv(w);
                return
            }
            this.C8.Y.push("L");
            this.C8.X.push(this.w$.x, this.w$.y)
        }
        this.akY = b;
        w.r.Sb = this.C8
    };
    z.v0.prototype.Vv = function(w) {
        this.C8 = null;
        this.ab = [];
        if (w != null) {
            w.r.Sb = null;
            w.n9 = !0
        }
    };
    z.v0.prototype.Yq = function(w, o, Q, K) {
        z.hz.prototype.Yq.call(this, w, o, Q, K);
        if (K.i(E.EI) && this.C8 == null && this.my && w.o != null) {
            var b = new Y(_.E.z);
            b.f = z.Rq;
            b.data = {
                e: "h_stepbck"
            };
            o.A(b);
            this.MM(w, Q, K, null);
            this.C8 = this.my;
            return
        }
        if (this.C8 == null) return;
        if (K.i(E.U_) || K.i(E.OW)) {
            this.C8.X.pop();
            this.C8.X.pop();
            this.C8.Y.pop();
            this.Le(w, Q, K)
        }
        if (K.i(E.$g)) {
            if (this.C8.X.length > 4) {
                this.my = this.C8;
                this.finish(w, Q, K)
            }
            this.C8 = null
        }
        if (K.i(E.EI)) {
            this.C8 = null
        }
        w.r.Sb = this.C8;
        w.n9 = !0
    };
    z.v0.prototype.getSelection = function(w, o, Q, K) {
        return z.hz.KX(this.C8.X)
    };
    z.lm = function() {
        z.hz.call(this, [10, 10], z.a6m, "tools/mlasso");
        this.Uj = "crosshair";
        this.ab = [];
        this._ = [];
        this.C0 = [];
        this.JR = [];
        this.RD = null;
        this.vD = null;
        this.u6 = null;
        this.Bg = 0;
        this.Wc = 0
    };
    z.lm.prototype = new z.hz;
    z.lm.prototype.disable = function(w, o, Q, K) {
        this.clear(w)
    };
    z.lm.prototype.sT = function(w) {
        return this._.length != 0
    };
    z.lm.prototype.AO = function() {
        return this._.length != 0
    };
    z.lm.prototype.jy = function(w) {
        return this.ab.indexOf(w) != -1
    };
    z.lm.prototype.MM = function(w, o, Q, K) {
        this.ab = [E.U_, E.OW];
        var b = this.bC(this.ln, w);
        if (this._.length != 0 && (fB.mp(b, this._[0]) < 4 * _.J() / w.m.I || Date.now() - this.Bg < 300)) {
            this.tP(w, this._[0]);
            this.finish(w, o, Q);
            this.clear(w);
            return
        }
        this.Bg = Date.now();
        if (this._.length != 0) b = this.kx(b, w);
        else {
            var R = w.D,
                X = w.j,
                h = v.$(R * X),
                e = w.X_(),
                Z = R * X * 4;
            for (var M = 0; M < Z; M += 4) h[M >>> 2] = ~~(.5 + v.hn(e[M], e[M + 1], e[M + 2]) * (e[M + 3] * (1 / 255)));
            this.RD = v.eN.a6I(h, R, X);
            this.u6 = new Uint16Array(h.length)
        }
        this.tP(w, b);
        this.Wc = Q.i(E.O4) ? 1 : 0;
        this.GO(w)
    };
    z.lm.prototype.tP = function(w, o) {
        var Q = this._;
        this.C0[Q.length] = this.JR.length;
        if (Q.length != 0) {
            v.eN.Kn(this.vD, o.y * w.D + o.x);
            var K = this.vN(w, o);
            K.reverse();
            var b = z.lm.sO(w, K);
            this.JR = this.JR.concat(b)
        }
        Q.push(o);
        this.Xr(w)
    };
    z.lm.prototype.Xr = function(w) {
        var o = this._[this._.length - 1],
            Q = o.y * w.D + o.x;
        this.vD = v.eN.anu(this.RD.f2, this.RD._Z, Q);
        this.u6.fill(0)
    };
    z.lm.prototype.bC = function(w, o) {
        return new fB(Math.floor(Math.max(0, Math.min(o.D - 1, w.x))), Math.floor(Math.max(0, Math.min(o.j - 1, w.y))))
    };
    z.lm.prototype.clear = function(w) {
        this.JR = [];
        this._ = [];
        this.C0 = [];
        this.RD = null;
        this.vD = null;
        this.u6 = null;
        if (w != null) {
            w.r.Sb = null;
            w.r.Pi = [];
            w.n9 = !0
        }
        this.ab = []
    };
    z.lm.prototype.Le = function(w, o, Q, K) {
        var b = this._,
            R = b.length;
        if (R == 0) return;
        var X = this.kx(this.bC(this.w$, w), w),
            h = this.vN(w, X);
        for (var M = 0; M < h.length; M++) {
            var e = h[M],
                Z = new fB(e % w.D, Math.floor(e / w.D));
            if (this.u6[e] > 30 && fB.mp(Z, b[R - 1]) > 20) {
                this.tP(w, Z);
                return
            }
            this.u6[e]++
        }
        if (this.Wc == 1 && K.L8) this.tP(w, X);
        this.GO(w)
    };
    z.lm.prototype.GO = function(w) {
        var o = this._;
        if (o.length != 0) {
            var Q = this.kx(this.bC(this.w$, w), w),
                K = this.vN(w, Q);
            K.reverse();
            var b = z.lm.sO(w, K),
                R = this.JR.concat(b),
                X = w.r.Sb = {
                    X: R,
                    Y: ["M"]
                };
            for (var M = 2; M < R.length; M += 2) X.Y.push("L")
        }
        w.r.Pi = [];
        for (var M = 0; M < o.length; M++) w.r.Pi.push(o[M].x + .5, o[M].y + .5);
        w.n9 = !0
    };
    z.lm.prototype.Fo = function(w, o, Q, K) {};
    z.lm.prototype.Yq = function(w, o, Q, K) {
        if (this._.length == 0) return;
        if (K.i(E.U_) || K.i(E.OW)) {
            this._.pop();
            this.JR = this.JR.slice(0, this.C0[this._.length]);
            this.C0.pop();
            if (this._.length == 0) this.clear(w);
            else this.Xr(w);
            this.GO(w)
        }
        if (K.i(E.$g)) {
            var b = this.bC(this.w$, w);
            this.tP(w, b);
            this.finish(w, Q, K);
            this.clear(w)
        }
        if (K.i(E.EI)) {
            this.clear(w)
        }
    };
    z.lm.prototype.getSelection = function(w, o, Q, K) {
        return z.hz.KX(this.JR)
    };
    z.lm.prototype.vN = function(w, o) {
        var Q = this._[this._.length - 1],
            K = Q.y * w.D + Q.x,
            b = o.y * w.D + o.x;
        if (this.Wc == 1) return [b, K];
        var R = [b];
        while (b != K) {
            b = this.vD.UN[b];
            R.push(b);
            if (R.length > 5e3) {
                console.log(R);
                throw "e"
            }
        }
        return R
    };
    z.lm.sO = function(w, o) {
        var Q = [],
            K = w.D;
        for (var M = 0; M < o.length; M++) {
            var b = o[M];
            Q.push(b % K + .5, Math.floor(b / K) + .5)
        }
        return Q
    };
    z.lm.prototype.kx = function(w, o) {
        var Q = o.D,
            K = o.j,
            b = w.clone(),
            X = 3;
        v.eN.Kn(this.vD, w.y * Q + w.x);
        var R = this.vD.m6[w.y * Q + w.x];
        for (var h = -X + 1; h < X; h++)
            for (var e = -X + 1; e < X; e++) {
                var Z = w.x + e,
                    P = w.y + h;
                if (Z < 0 || Z >= Q || P < 0 || P >= K) continue;
                v.eN.Kn(this.vD, P * Q + Z);
                if (this.vD.m6[P * Q + Z] < R) b.qQ(Z, P)
            }
        return b
    };
    z.Aq = function() {
        z.Vb.call(this, [10, 36], z.als, "tools/ruler");
        this.zi = null;
        this.D1 = null;
        this.GU = null;
        this.c_ = null
    };
    z.Aq.prototype = new z.Vb;
    z.Aq.prototype.sT = function(w) {
        return w.L8
    };
    z.Aq.prototype.disable = function(w, o, Q, K) {
        this.zi = this.D1 = null;
        if (w) this.xg(w)
    };
    z.Aq.prototype.Br = function(w, o, Q, K, b) {
        var R = w.m.I / _.J(),
            X = w.m.WD(b.x, b.y);
        X.x = Math.round(X.x);
        X.y = Math.round(X.y);
        var h = this.zi;
        if (h && fB.mp(X, h[0]) * R < 6) this.D1 = [0];
        else if (h && fB.mp(X, h[1]) * R < 6) this.D1 = [1];
        else if (h && z.Aq.a28(h[0], h[1], X) * R < 6 && Math.min(h[0].x, h[1].x) - 5 <= X.x && X.x <= Math.max(h[0].x, h[1].x) + 5 && Math.min(h[0].y, h[1].y) - 5 <= X.y && X.y <= Math.max(h[0].y, h[1].y) + 5) {
            this.D1 = [0, 1];
            this.c_ = [h[0].clone(), h[1].clone()];
            this.GU = X
        } else {
            this.zi = [X.clone(), X.clone()];
            this.D1 = [1]
        }
    };
    z.Aq.prototype.$z = function(w, o, Q, K, b) {
        if (this.D1 == null) return;
        var R = this.zi,
            X = this.D1,
            h = w.m.WD(b.x, b.y);
        h.x = Math.round(h.x);
        h.y = Math.round(h.y);
        if (X.length == 2) {
            var e = h.x - this.GU.x,
                Z = h.y - this.GU.y;
            R[0] = this.c_[0].clone();
            R[0].offset(e, Z);
            R[1] = this.c_[1].clone();
            R[1].offset(e, Z)
        } else {
            R[X[0]].qQ(h.x, h.y);
            if (K.i(E.lK)) {
                R[X[0]] = z.w5.Z8(R[1 - X[0]], R[X[0]])
            }
        }
        this.xg(w);
        this.qJ(o, _.E.N, {
            e: _.S.X3,
            f: this.id,
            akw: R[0],
            Sr: R[1],
            cK: w.cK,
            acG: w.D
        })
    };
    z.Aq.prototype.IN = function(w, o, Q, K, b) {
        this.D1 = null
    };
    z.Aq.prototype.qJ = function(w, o, Q) {
        var K = new Y(o, !0);
        K.data = Q;
        w.A(K)
    };
    z.Aq.prototype.xg = function(w) {
        var o = this.zi;
        if (o == null) {
            w.r.Sb = null;
            w.r.Pi = []
        } else {
            var Q = [o[0].x, o[0].y, o[1].x, o[1].y];
            w.r.Sb = {
                Y: ["M", "L"],
                X: Q
            };
            w.r.Pi = Q
        }
        w.n9 = !0
    };
    z.Aq.a28 = function(w, o, Q) {
        var K = o.x - w.x,
            b = o.y - w.y,
            R = Math.abs(b * Q.x - K * Q.y + o.x * w.y - o.y * w.x),
            X = Math.sqrt(K * K + b * b);
        return R / X
    };
    z.i_ = function() {
        z.bA.call(this, [10, 19], z.hP, "tools/sharpen");
        this.bt = "copy"
    };
    z.i_.prototype = new z.bA;
    z.i_.prototype.Br = function(w, o, Q, K, b) {
        var R = this.GJ.pdetail ? dR.Ws : dR.hP;
        if (K.i(E.O4)) R = dR.je;
        this.Db(w, Q, K, b, this.GJ.strn, R);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.i_.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.pJ = function() {
        z.bA.call(this, [10, 24], z.x0, "tools/shbrush");
        this.bt = "draw";
        this.GJ.opacity = .5
    };
    z.pJ.prototype = new z.bA;
    z.pJ.prototype.Br = function(w, o, Q, K, b) {
        this.Db(w, Q, K, b, 1);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.pJ.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.pJ.prototype.IN = function(w, o, Q, K, b) {
        if (this.$h == null) return;
        this.LJ(w, "sheal", this.$h.bK(), this.$h.vG(), this.$h.Tj(), null);
        this.C(w, this.$h.Tj());
        z.bA.prototype.IN.call(this, w, o, Q, K, b)
    };
    z.Tz = function() {
        z.bA.call(this, [10, 20], z.CJ, "tools/smudge");
        this.bt = "copy"
    };
    z.Tz.prototype = new z.bA;
    z.Tz.prototype.Br = function(w, o, Q, K, b) {
        this.Db(w, Q, K, b, this.GJ.strn, dR.CJ);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.Tz.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.jI = function() {
        z.bA.call(this, [10, 23], z.JD, "tools/sponge");
        this.bt = "sponge"
    };
    z.jI.prototype = new z.bA;
    z.jI.prototype.Br = function(w, o, Q, K, b) {
        this.Db(w, Q, K, b, this.GJ.flow);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.jI.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        this.V4(w, Q, K, b);
        this.Ra(w)
    };
    z.e$ = function() {
        z.Vb.call(this, [10, 17], z.xT, "tools/zoom");
        this.MF = !1;
        this.w8 = !0;
        this.Sd = 0;
        this.F_ = null;
        this.XM = null;
        this.v_ = 0;
        this.XB = null;
        this.ZW = 0;
        this.Wj = new ag([{
            name: [8, 0],
            qB: "Ctrl + +"
        }, {
            name: [8, 1],
            qB: "Ctrl + -",
            S$: !0
        }, {
            name: [20, 3],
            qB: "Ctrl + 0"
        }, {
            name: ["VAR0: 100%", [20, 2]],
            qB: "Ctrl + 1"
        }], [{
            b: _.E.z,
            f: z.xT,
            c: {
                e: "zoom",
                w8: !0
            }
        }, {
            b: _.E.z,
            f: z.xT,
            c: {
                e: "zoom",
                w8: !1
            }
        }, {
            b: _.E.z,
            f: z.xT,
            c: {
                e: "adapt",
                F: "fitscr"
            }
        }, {
            b: _.E.z,
            f: z.xT,
            c: {
                e: "adapt",
                F: "pixel"
            }
        }])
    };
    z.e$.prototype = new z.Vb;
    z.e$.prototype.ml = function(w, o, Q, K, b) {
        var R = this.Wj;
        R.v();
        R.parent = o;
        R.update(w, Q);
        var X = new Y(_.E.N, !0);
        X.data = {
            e: _.S.Gj,
            wh: R,
            x: b.qb + 2,
            y: b.Nh + 1
        };
        o.A(X)
    };
    z.e$.prototype.enable = function(w, o, Q, K) {
        this.NT(o, K);
        if (w && Date.now() - this.Sd < 300) this.Sx({
            e: "adapt",
            F: "pixel"
        }, o, w, K, Q);
        this.Sd = Date.now()
    };
    z.e$.prototype.Br = function(w, o, Q, K, b) {
        this.XM = new fB(b.x, b.y);
        this.v_ = w.m.I;
        this.XB = w.m.n.clone()
    };
    z.e$.prototype.$z = function(w, o, Q, K, b) {
        if (this.XM == null) return;
        var R = Math.round((b.x - this.XM.x) / 16);
        if (R == 0) return;
        var X = z.e$.kb(this.v_),
            h = z.e$.Ke[Math.max(0, Math.min(z.e$.Ke.length - 1, X - R))];
        w.m.I = this.v_;
        w.m.n = this.XB.clone();
        this.Sx({
            e: "zoom",
            I: h,
            in: this.XM
        }, o, w, K, Q)
    };
    z.e$.prototype.IN = function(w, o, Q, K, b) {
        if (fB.mp(this.XM, b) < 4) {
            var R = this.H7(K);
            this.Sx({
                e: "zoom",
                w8: R,
                in: b
            }, o, w, K, Q)
        }
        this.XM = null
    };
    z.e$.Ke = [32, 16, 12, 8, 7, 6, 5, 4, 3, 2, 1, 2 / 3, 1 / 2, 1 / 2 * (2 / 3), 1 / 4, 1 / 4 * (2 / 3), 1 / 8, 1 / 8 * (2 / 3), 1 / 16, 1 / 16 * (2 / 3), 1 / 32, 1 / 32 * (2 / 3), 1 / 64];
    z.e$.Hv = function(w, o, Q, K) {
        var b = 1;
        while (w * b * 1 / 2 > Q || o * b * 1 / 2 > K) b *= 1 / 2;
        if (w * b * 2 / 3 > Q || o * b * 2 / 3 > K) b *= 1 / 2;
        else if (w * b > Q || o * b > K) b *= 2 / 3;
        return b
    };
    z.e$.a32 = function(w, o) {
        var Q = z.e$.kb(w);
        if (o && Q == 0) return w;
        if (!o && Q == z.e$.Ke.length - 1) return w;
        return z.e$.Ke[o ? Q - 1 : Q + 1]
    };
    z.e$.kb = function(w) {
        var o = 0;
        while (z.e$.Ke[o] > w) o++;
        return o
    };
    z.e$.uP = function(w, o, Q, K) {
        var b = w.xN;
        if (K == 0 || K == null) {
            K = z.e$.a32(w.I, Q);
            if (K == w.I) return
        }
        var R = w.WD(o.x, o.y);
        if (b.D * K <= w.yG.D && b.j * K <= w.yG.j) {
            w.n.qQ(0, 0);
            w.I = K
        } else {
            var X = w.SA(),
                h = w.I / K;
            X.translate(-R.x, -R.y);
            X.scale(h, h);
            X.translate(R.x, R.y);
            w.q6(X)
        }
    };
    z.e$.prototype.Sx = function(w, o, Q, K, b) {
        var R = 0,
            X = !1,
            h = null;
        if (w.e == "adapt") {
            var e = 0;
            if (w.F == "pixel") e = 1;
            if (w.F == "fitscr") {
                var e = 0,
                    Z = Q.m.yG.D,
                    P = Q.m.yG.j;
                if (Q.D <= Z && Q.j <= P) {
                    var J = 1;
                    while (Q.D * (J + 1) <= Z && Q.j * (J + 1) <= P) J++;
                    e = J
                } else {
                    e = z.e$.Hv(Q.D, Q.j, Z, P)
                }
            }
            h = new fB(Math.round(Q.m.yG.D / 2), Math.round(Q.m.yG.j / 2));
            R = e;
            z.e$.uP(Q.m, h, X, R);
            Q.rn = !0
        }
        if (w.e.startsWith("multi")) {
            function i(N) {
                var F = N[0].x - N[1].x,
                    I = N[0].y - N[1].y;
                return Math.sqrt(F * F + I * I)
            }

            function k(N) {
                return new fB((N[0].x + N[1].x) / 2, (N[0].y + N[1].y) / 2)
            }
            var $ = w.iU,
                n = k($);
            if (w.e == "multidown") {
                this.F_ = [$, Q.m.I, Q.m.WD(n.x, n.y)]
            } else {
                R = this.F_[1] * i($) / i(this.F_[0]);
                if (R >= 1) R = Math.min(32, Math.round(R));
                else {
                    var j = 0,
                        y = 1e9,
                        V = z.e$.Ke;
                    for (var M = 0; M < V.length; M++) {
                        var O = Math.abs(1 - R / V[M]);
                        if (O < y) {
                            y = O;
                            j = M
                        }
                    }
                    R = V[j]
                }
                if (R != Q.m.I) z.e$.uP(Q.m, n, X, R);
                var S = this.F_[2],
                    G = Q.m.BT(S.x, S.y),
                    D = Q.m.n;
                D.x = Math.round(D.x + n.x - G.x);
                D.y = Math.round(D.y + n.y - G.y);
                Q.rn = !0
            }
        }
        if (w.e == "scroll") {
            h = w.in;
            this.ZW += w.iJ.y;
            var q = 14;
            if (this.ZW < -q) {
                X = !0;
                this.ZW = Math.max(this.ZW + q, -(q - 1))
            } else if (this.ZW > q) {
                X = !1;
                this.ZW = Math.min(this.ZW - q, q - 1)
            } else return;
            z.e$.uP(Q.m, h, X, R);
            Q.rn = !0
        }
        if (w.e == "zoom") {
            h = w.in ? w.in : new fB(Math.round(Q.m.yG.D / 2), Math.round(Q.m.yG.j / 2));
            if (w.I != null) R = w.I;
            else X = w.w8;
            z.e$.uP(Q.m, h, X, R);
            Q.rn = !0
        }
        if (w.e == "mskView") {
            var T = Q.t[Q.u[0]],
                L = T.lY == 3 ? T.Ca(Q).q : T._f();
            if (w.F == 0) {
                Q.m.dN = [1, 1, 1];
                L.He = !1
            }
            if (w.F == 1) {
                Q.m.dN = [1, 1, 1];
                L.He = !0
            }
            if (w.F == 2) {
                Q.m.dN = [0, 0, 0];
                L.He = !0
            }
            for (var M = 0; M < Q.SF.length; M++) Q.SF[M].He = !1;
            Q.Od = [];
            Q.n9 = !0
        }
    };
    z.e$.prototype.Yq = function(w, o, Q, K) {
        if (this.MF != K.i(E.O4)) {
            this.MF = K.i(E.O4);
            var b = {
                    e: _.S.X3,
                    f: this.id,
                    MF: this.MF
                },
                R = new Y(_.E.N, !0);
            R.data = b;
            o.A(R);
            this.NT(o, K)
        }
    };
    z.e$.prototype.NT = function(w, o) {
        var Q = new Y(_.E.N, !0),
            K = this.H7(o);
        Q.data = {
            e: _.S.Gi,
            hr: K ? "zoom-in" : "zoom-out"
        };
        w.A(Q)
    };
    z.e$.prototype.wx = function(w, o, Q, K) {
        this.w8 = w.w8;
        this.NT(o, K)
    };
    z.e$.prototype.H7 = function(w) {
        var o = this.w8;
        if (w.i(E.$0) && w.i(E.HE)) o = !0;
        if (this.MF) o = !o;
        return o
    };
    z.EJ = function(w, o, Q) {
        z.Vb.call(this, w, o, Q);
        this.yw = null;
        this.AL = null;
        this.hf = null;
        this.acw = 0
    };
    z.EJ.prototype = new z.Vb;
    z.EJ.prototype.enable = function(w, o, Q, K, b) {
        this.AL = Q;
        var R = new Y(_.E.N, !0);
        R.data = {
            e: _.S.Gi,
            hr: "default"
        };
        o.A(R)
    };
    z.EJ.prototype.ml = function(w, o, Q, K, b) {
        if (w.a$()[0].length == 0) return;
        var R = new Y(_.E.N, !0);
        R.data = {
            e: _.S.X3,
            f: this.id,
            GF: b,
            AZ: w,
            f8: Q
        };
        o.A(R)
    };
    z.EJ.prototype.vW = function(w, o) {
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.UA,
            pO: d5.Nc
        };
        if (!o.O2) w.A(Q);
        Q.data = {
            e: _.S.UA,
            pO: d5._o
        };
        if (!o.w1.BY) w.A(Q)
    };
    z.EJ.prototype.iI = function(w, o, Q, K) {
        if (Q.jM != this.id) return;
        if (w.u.length == 0) return;
        var b = w.t[w.u[0]],
            R = b.add.vmsk,
            X = b.add.vstk,
            h = z.EJ.Yu(w, w.u[0]);
        this.yw = w;
        this.hf = o;
        if (b.hK() && R != null && (JSON.stringify(X) != JSON.stringify(Q.pw) || JSON.stringify(h) != JSON.stringify(Q.n4))) {
            this.acw = Date.now();
            var e = new Y(_.E.N, !0);
            e.data = {
                e: _.S.UA,
                pO: d5.mP,
                F: h
            };
            o.A(e);
            e.data = {
                e: _.S.UA,
                pO: d5.ef,
                F: X
            };
            o.A(e)
        }
    };
    z.EJ.prototype.yy = function(w, o) {
        if (this.yw == null) return;
        if (o == d5.Dq || o == d5.mP || o == d5.ef) {
            if (Date.now() - this.acw < 50) return;
            var Q = o == d5.mP,
                K = this.yw,
                b = Q ? w.n4 : w.pw,
                R = [];
            for (var M = 0; M < K.u.length; M++) {
                var X = K.u[M],
                    h = K.t[X];
                if (!h.hK() || h.add.vmsk == null) continue;
                R.push(X)
            }
            var e = new Y(_.E.z, !0);
            e.f = z.lz;
            e.data = {
                e: a.wF,
                $e: R,
                t4: Q,
                F: b
            };
            if (R.length != 0) this.hf.A(e)
        }
    };
    z.EJ.prototype.a23 = function(w) {
        if (typeof w == "number") {
            var o = new Y(_.E.e9, !0);
            o.data = z.ti.M3(0);
            o.data.H8.Usng.v.Type.v.Clr.v = v.V.Kt({
                W: w >>> 16 & 255,
                a: w >>> 8 & 255,
                k: w >>> 0 & 255
            });
            this.hf.A(o)
        }
    };
    z.EJ.prototype.Sx = function(w, o, Q, K, b) {
        this.hf = o;
        if (w.e == "newfill") {
            if (w.BL == 0) {
                var R = new Y(_.E.N, !0);
                R.data = {
                    e: _.S.QH,
                    hX: "colorpicker",
                    vK: b.x1,
                    Zv: this.a23.bind(this)
                };
                o.A(R)
            }
        } else if (w.e == "pathedit") {
            var X = w.D3,
                h = "",
                e = Q.BY.slice(0),
                Z = Q.A6.slice(0),
                P = Q.BY.slice(0),
                J = Q.A6.slice(0);
            if (X == "rnm") {
                var i = -1 - w.qX,
                    k = e[i],
                    $ = fb.C2(w.name, k.add);
                P[i] = $;
                h = "Rename"
            } else if (X == "new") {
                P.push(fb.C2("Path " + e.length));
                J = [P.length - 1];
                h = "New"
            } else if (X == "del") {
                if (J.length == 0) return;
                J.sort(function(L, r) {
                    return L - r
                });
                if (J[0] == 0) {
                    P[0] = fb.C2(e[0].name);
                    J = J.slice(1)
                }
                var n = 0;
                while (J.length != 0) {
                    P.splice(J[0] - n, 1);
                    J = J.slice(1);
                    n++
                }
                h = "Delete"
            } else if (X == "fromsel") {
                var j = P[0] = fb.C2("Work Path");
                J = [0];
                if (Q.o == null) return;
                var y = Q.o.channel.slice(0);
                for (var M = 0; M < y.length; M++) y[M] = y[M] > 128 ? 2 : 1;
                var V = Q.o.rect.clone();
                V.Nn(1, 1);
                var O = v.$(V.O());
                v.Hp(y, Q.o.rect, O, V);
                var S = es.SJ(O, V.D, V.j, Math.round(V.O() * 5e-4)),
                    G = es.a$(S),
                    D = new dj(1, 0, 0, 1, -1 + Q.o.rect.x, -1 + Q.o.rect.y);
                for (var M = 0; M < G.length; M++) v.w.H(G[M].path.X, D, G[M].path.X);
                for (var M = 0; M < G.length; M++) {
                    var q = G[M];
                    if (q.color == 1 && q.parent == -1) continue;
                    var T = v.w.IT(G[M].path, !1);
                    j.add.vmsk._ = j.add.vmsk._.concat(T.slice(2))
                }
                j.add.vogk = a.Y1(j.add.vmsk._);
                h = "Selection to"
            }
            var L = new hl(h + " Path", this);
            L.data = {
                OO: e,
                Vm: Z,
                amW: P,
                Qt: J
            };
            if (X == "fromsel") {
                L.data.Ab = Q.o;
                L.data.Dr = null
            }
            Q.be(L);
            this.ju(L.data, Q)
        } else {
            var N = Q.a$(w.e == "append"),
                G = N[0],
                F = N[1],
                j = G[F[0]],
                I = j.add.vmsk,
                s = j.add.vogk,
                u = I.clone(),
                g = I.clone(),
                U = JSON.stringify(s);
            if (w.e == "remove") {
                if (g.u.length == 0) return;
                var n = 0;
                for (var M = 0; M < g.u.length; M++) {
                    s.splice(g.u[M] + n, 1);
                    n--
                }
                g._ = v.P.adP(g._, g.u);
                g.u = [];
                g.Ja = []
            }
            if (w.e == "append") {
                z.EJ.Z_(w.agM, g, s)
            }
            this.mG(Q, j.qX, g, s);
            this.xu(Q, w.Wp, j.qX, u, g.clone(), null, U, JSON.stringify(s))
        }
    };
    z.EJ.X1 = function(w, o) {
        var Q = v.P.a4l(w._, w.u),
            K = [];
        for (var M = 0; M < w.u.length; M++) K.push(JSON.parse(JSON.stringify(o[w.u[M]])));
        return [Q, K]
    };
    z.EJ.Z_ = function(w, o, Q) {
        var K = v.P.S3(o._),
            b = v.P.S3(w[0]);
        o._ = o._.concat(w[0].slice(2));
        o.u = [];
        for (var M = 0; M < b; M++) o.u.push(K + M);
        for (var M = 0; M < b; M++) Q.push(JSON.parse(JSON.stringify(w[1][M])))
    };
    z.EJ.prototype.jy = function(w, o) {
        if (o == null) return !1;
        var Q = o.a$(),
            K = Q[0],
            b = Q[1];
        if (b.length == 0) return !1;
        var R = K[b[0]],
            X = R.add.vmsk;
        if (X && X.u.length + X.Ja.length != 0) return [E.U_, E.OW].indexOf(w) != -1
    };
    z.EJ.prototype.Yq = function(w, o, Q, K) {
        if (w == null) return;
        var b = w.a$(),
            R = b[0],
            X = b[1];
        if (X.length == 0) return;
        var h = R[X[0]],
            e = h.add.vmsk;
        if (K.i(E.EI) || K.i(E.$g)) {
            e.Ja = [];
            w.n9 = !0
        }
        if (e.u.length != 0) {
            var Z = K.Tg();
            if (Z.x != 0 || Z.y != 0) {
                var P = e.clone(),
                    J = e.clone(),
                    i = new dj(1, 0, 0, 1, Z.x, Z.y),
                    k = h.add.vogk,
                    $ = JSON.stringify(k);
                v.P.nB(J._, i, J.u);
                v.Wn.H(k, v.Q.k1(i), J.u);
                this.mG(w, h.qX, J, k);
                this.xu(w, "Move Paths", h.qX, P, J.clone(), !0, $, JSON.stringify(k))
            }
            if (K.i(E.U_) || K.i(E.OW)) this.Sx({
                e: "remove",
                Wp: "Delete Paths"
            }, o, w, K, Q)
        }
    };
    z.EJ.prototype.xu = function(w, o, Q, K, b, R, X, h) {
        var e = new hl(o, this);
        e.data = {
            zd: Q,
            af: K,
            Y$: b,
            a3_: R,
            acD: X,
            uH: h
        };
        w.be(e)
    };
    z.EJ.prototype.ju = function(w, o) {
        if (w.zd != null) this.mG(o, w.zd, w.Y$.clone(), JSON.parse(w.uH));
        else {
            o.BY = w.amW.slice(0);
            o.A6 = w.Qt.slice(0);
            o.n9 = o.ot = !0
        }
        if (w.Ab || w.Dr) {
            o.o = w.Dr;
            o.Yr = !0
        }
    };
    z.EJ.prototype.Di = function(w, o) {
        if (w.zd != null) this.mG(o, w.zd, w.af.clone(), JSON.parse(w.acD));
        else {
            o.BY = w.OO.slice(0);
            o.A6 = w.Vm.slice(0);
            o.n9 = o.ot = !0
        }
        if (w.Ab || w.Dr) {
            o.o = w.Ab;
            o.Yr = !0
        }
    };
    z.EJ.prototype.mG = function(w, o, Q, K) {
        var b = o < 0 ? w.BY[-1 - o] : o < 1e6 ? w.t[o] : w.t[o - 1e6].add.TySh;
        b.add.vmsk = Q;
        b.add.vogk = K;
        if (1e6 <= o) {
            fI.k8(b);
            var R = w.t[o - 1e6],
                X = b,
                h = this.AL,
                e = new gm(X.rr, h.md),
                Z = g1.Ez(e, X);
            R.rect = Z.U;
            R.buffer = Z.Sg;
            R.C();
            w.C()
        } else if (0 <= o) {
            Q.eT = !0;
            b.b6(w);
            w.C()
        }
        w.n9 = w.ot = !0
    };
    z.EJ.Yu = function(w, o) {
        var Q = w.t[o],
            K = Q.add.vstk,
            b = null;
        if (K && !K.fillEnabled.v) b = {
            o4: 0
        };
        else if (Q.add.SoCo) b = {
            o4: 1,
            pE: Q.add.SoCo
        };
        else if (Q.add.GdFl) b = {
            o4: 2,
            pE: Q.add.GdFl
        };
        else if (Q.add.PtFl) b = {
            o4: 3,
            pE: Q.add.PtFl
        };
        return b
    };
    z.EJ.ih = function(w, o) {
        var Q = w.add.vmsk,
            K = w.add.vstk,
            b = o.o4;
        if (K) K.fillEnabled.v = b != 0;
        if (b > 0) {
            var R = ["SoCo", "GdFl", "PtFl"][b - 1];
            for (var M = 0; M < 3; M++) delete w.add[["SoCo", "GdFl", "PtFl"][M]];
            w.add[R] = o.pE
        }
    };
    z.ti = function(w, o, Q, K) {
        z.EJ.call(this, w, o, Q);
        this.GJ = {
            tmode: 1,
            shape: f8._R(),
            pshape: 0,
            binop: 0,
            crad: 0,
            irad: 40,
            length: 4,
            sides: 5,
            width: 5,
            tolr: 5,
            cstr: {
                Ve: 0
            }
        };
        this.alc = K;
        this.B6 = null;
        this.pW = null;
        this.i2 = null
    };
    z.ti.prototype = new z.EJ;
    z.ti.prototype.sT = function(w) {
        return w.L8 && this.id != z.cb
    };
    z.ti.prototype.enable = function(w, o, Q, K, b) {
        this.AL = Q;
        var R = new Y(_.E.N, !0);
        R.data = {
            e: _.S.Gi,
            hr: "crosshair"
        };
        o.A(R)
    };
    z.ti.prototype.HO = function(w, o, Q, K) {};
    z.ti.prototype.Br = function(w, o, Q, K, b) {
        var R = this.GJ.tmode;
        if (R != 2) this.vW(o, Q);
        if (R == 2 && !w.yD()) return;
        var X = w.m.WD(b.x, b.y);
        X = z.uA.K$(w, X, Q);
        this.i2 = [X.x, X.y];
        this.B6 = X;
        this.pW = new fB(0, 0)
    };
    z.ti.prototype.JS = function(w, o, Q) {
        var K = [this.B6.clone(), o.clone()];
        if (this.alc) K = z.ti.w9(K[0], K[1], Q, !0, this.GJ.cstr);
        if (w) w.m.$G = new B(K[0].x, K[0].y, K[1].x - K[0].x, K[1].y - K[0].y);
        return this.HO(K[0], K[1], Q.i(E.lK), this.i2)
    };
    z.ti.prototype.jE = function(w, o, Q) {
        var K = w.m.WD(o.x, o.y),
            b = this.GJ.cstr;
        if (b.Ve == 2) {
            var R = new B(K.x - b.x, K.y - b.y, b.x, b.y),
                X = z.uA.I9(w, R, Q);
            K.x += X[0];
            K.y += X[1];
            z.uA.cd(w, R, X)
        } else K = z.uA.K$(w, K, Q);
        return K
    };
    z.ti.prototype.$z = function(w, o, Q, K, b) {
        if (this.B6 == null) return;
        var R = this.jE(w, b, Q);
        if (K.i(E.$0)) this.B6 = R.ZO(this.pW);
        else this.pW = R.ZO(this.B6);
        this.i2.push(R.x, R.y);
        if (this.GJ.shape == null) this.GJ.shape = Q.aB[0];
        var X = this.JS(w, R, K)[0],
            h = v.w.Si(X);
        w.r.Sb = h;
        if (this.id != z.cb && this.id != z.vh && this.id != z.xQ) z.Vb.Tn(b.x + 10, b.y - 10, w.m.$G, w, Q);
        w.n9 = !0
    };
    z.ti.prototype.alT = function(w, o, Q, K) {
        var b = w[4].clone();
        if (K) {
            b.x -= o / 2;
            b.y -= Q / 2
        }
        var R = this.HO(b, new fB(b.x + o, b.y + Q), !1, this.i2);
        this.n3(w[0], w[1], w[2], R)
    };
    z.ti.prototype.n3 = function(w, o, Q, K) {
        var b = new Y(_.E.e9, !0);
        b.data = z.ti.BH(K[1], Q);
        o.A(b);
        if (K[1].v.classID == "customShape" && K[1].v.Nm.v.startsWith("--")) {
            var R = w.a$(),
                X = R[0],
                h = R[1],
                e = X[h.pop()],
                Z = e.add.vmsk,
                P = e.add.vogk,
                J = Z.clone();
            J._ = K[0];
            this.mG(w, e.qX, J, P)
        }
    };
    z.ti.prototype.IN = function(w, o, Q, K, b) {
        if (this.B6 == null) return;
        var R = this.jE(w, b, Q),
            X = this.GJ.binop,
            h = this.GJ.tmode,
            e = this.i2,
            Z = e.length;
        if (this.id == z.cb && Z <= 4) {} else if (Z <= 4) {
            R.x = Math.round(R.x);
            R.y = Math.round(R.y);
            var P = new Y(_.E.N);
            P.data = {
                e: _.S.QH,
                hX: "createshape",
                a9w: this.alT.bind(this),
                an6: this.name,
                af5: [w, o, Q, K, R]
            };
            o.A(P)
        } else if (Z != 2) {
            var J = this.JS(w, R, K),
                i = J[0];
            if (h == 0 && i.length > 2) {
                i[2].ID = [1, 2, 3, 0][X];
                var k = w.a$(!0),
                    $ = k[0],
                    n = k[1],
                    j = $[n.pop()],
                    y = j.add.vmsk,
                    V = j.add.vogk,
                    O = y.clone(),
                    S = y.clone(),
                    G = JSON.stringify(V);
                S._ = S._.concat(i.slice(2));
                S.u = [v.P.S3(S._) - 1];
                var D = v.Wn._C(J[1]);
                V.push(D ? D : v.Wn.pa());
                this.mG(w, j.qX, S, V);
                this.xu(w, this.name, j.qX, O, S, null, G, JSON.stringify(V))
            } else if (h == 1) {
                this.n3(w, o, Q, J)
            } else if (h == 2) {
                var S = new a.Y3;
                S._ = S._.concat(i.slice(2));
                var q = S._f(),
                    T = v.$(q.rect.O() * 4);
                v.Fw(T, (Q.x1 & 255) << 16 | (Q.x1 >> 8 & 255) << 8 | (Q.x1 >> 16 & 255) << 0);
                v.qh(q.channel, T, 3);
                var L = new Y(_.E.z, !0);
                L.f = z.IA;
                L.data = {
                    e: "draw",
                    nd: {
                        buffer: T,
                        rect: q.rect.clone()
                    },
                    Wp: this.name
                };
                o.A(L)
            }
        }
        this.B6 = null;
        w.r.Sb = null;
        w.r.es = null;
        w.r.aG = [];
        w.m.$G = null;
        w.n9 = !0
    };
    z.ti.prototype.wx = function(w, o, Q, K, b) {
        for (var Q in w) this.GJ[Q] = w[Q]
    };
    z.ti.w9 = function(w, o, Q, K, b) {
        var R = w.x,
            X = w.y,
            h = o.x,
            e = o.y;
        if (b && b.Ve == 2) {
            if (K) {
                h = Math.round(h);
                e = Math.round(e)
            }
            R = h - b.x;
            X = e - b.y
        } else {
            var Z = 0;
            if (b && b.Ve == 1) Z = b.y / b.x;
            else if (Q && Q.i(E.lK)) Z = 1;
            if (Z != 0) {
                if (K) {
                    if (R < h) R = Math.floor(R);
                    else R = Math.ceil(R);
                    if (X < e) X = Math.floor(X);
                    else X = Math.ceil(X)
                }
                var P = Math.abs(h - R),
                    J = Math.abs(e - X),
                    i = P;
                if (J / P < Z) i *= J / P / Z;
                h = h > R ? R + i : R - i;
                e = e > X ? X + i * Z : X - i * Z
            }
            if (Q && Q.i(E.O4)) {
                R -= h - R;
                X -= e - X
            }
        }
        var w = new fB(R, X),
            o = new fB(h, e);
        if (K) z.ti.acV(w, o);
        return [w, o]
    };
    z.ti.acV = function(w, o) {
        if (w.x > o.x) {
            var Q = w.x;
            w.x = o.x;
            o.x = Q
        }
        if (w.y > o.y) {
            var Q = w.y;
            w.y = o.y;
            o.y = Q
        }
        w.x = Math.floor(w.x);
        w.y = Math.floor(w.y);
        o.x = Math.ceil(o.x);
        o.y = Math.ceil(o.y)
    };
    z.ti.a3B = function() {
        return {
            classID: "Mk",
            null: {
                t: "obj ",
                v: [{
                    t: "Clss",
                    v: {
                        classID: "contentLayer"
                    }
                }]
            },
            Usng: {
                t: "Objc",
                v: {
                    classID: "contentLayer",
                    Type: {
                        t: "Objc",
                        v: {}
                    }
                }
            }
        }
    };
    z.ti.M3 = function(w, o) {
        var Q = z.ti.a3B();
        if (o == null) o = JSON.parse(JSON.stringify(b_.OT[w]));
        cr.Ud.S_(o, Q.Usng.v.Type.v, w);
        return {
            hj: "make",
            H8: Q
        }
    };
    z.ti.BH = function(w, o) {
        var Q = o.n4,
            K = JSON.parse(JSON.stringify(o.pw));
        if (Q.o4 == 0) K.fillEnabled.v = !1;
        var b = z.ti.M3(Math.max(0, Q.o4 - 1), Q.pE);
        b.H8.Usng.v.Shp = w;
        b.H8.Usng.v.strokeStyle = {
            t: "Objc",
            v: K
        };
        return b
    };
    z.ZQ = function() {
        z.EJ.call(this, [10, 29], z.Uu, "tools/pen");
        this.XU = null;
        this.d7 = null;
        this.uJ = 1;
        this.a5s = 0;
        this.fd = null;
        this.$L = !1
    };
    z.ZQ.prototype = new z.EJ;
    z.ZQ.prototype.sT = function(w) {
        return this.XU != null
    };
    z.ZQ.prototype.Br = function(w, o, Q, K, b) {
        this.vW(o, Q);
        var R = w.m.WD(b.x, b.y),
            k, $;
        R.x = Math.round(R.x);
        R.y = Math.round(R.y);
        var X = z.uA.K$(w, R, Q),
            h = w.a$(this.uJ == 0),
            e = h[0],
            Z = h[1],
            P = e[Z.pop()],
            J = P ? P.add.vmsk : null,
            i = 4 * _.J() / w.m.I;
        if (J) k = v.P.UO(J._, R, !0, i);
        if (this.uJ == 1 && (J == null || (J.Ja.length == 0 || J.Ja[0] != J._.length - 1) && k.qX == -1)) {
            var n = new Y(_.E.e9, !0),
                j = v.Wn.Vh("customShape", [0, 0, 1, 1], null, null, null, "--");
            n.data = z.ti.BH(j, Q);
            o.A(n);
            h = w.a$(!0);
            e = h[0];
            Z = h[1];
            P = e[Z.pop()];
            J = P.add.vmsk;
            J._ = J._.slice(0, 2)
        }
        var y = P.add.vogk;
        this.XU = J.clone();
        this.d7 = JSON.stringify(y);
        var V = J._,
            O = v.P.S3(V);
        $ = v.P.lk(J._, new B(R.x - i, R.y - i, i * 2, i * 2));
        k = v.P.UO(J._, R, !0, i);
        if (k.qX != -1 && $[0].length == 0) {
            var S = v.P.xJ(V, k.qX);
            while (V[S].length <= k.QE) {
                k.QE -= V[S].length;
                S += V[S].length + 1
            }
            V[S].length++;
            V.splice(S + 2 + k.QE, 0, {
                type: 4,
                M7: X.clone(),
                L: X.clone(),
                WQ: X.clone()
            });
            J.Ja = [S + 2 + k.QE]
        } else if ($[0].length == 1 && K.i(E.O4)) {
            var G = $[0],
                D = J._.length - 1,
                q = J._[G];
            q.WQ = q.L.clone();
            if (G != D) q.M7 = q.L.clone()
        } else {
            var T = 0;
            if (J.Ja.length != 1) {
                J.u = [O];
                V.push({
                    type: 3,
                    length: 1,
                    ID: [1, 2, 3, 0][this.a5s],
                    Ej: 0,
                    ub: 0,
                    EK: 0
                });
                T = V.length;
                y.push(v.Wn.pa())
            } else {
                var L = J.Ja[0],
                    N = v.P.Ch(V, L),
                    S = v.P.xJ(V, N);
                if (L == S + V[S].length && fB.mp(R, V[S + 1].L) < i) {
                    V[S].type = 0;
                    J.Ja = [S + 1];
                    this.fd = X;
                    this.$L = !0;
                    this.mG(w, P.qX, J, y);
                    w.n9 = !0;
                    return
                }
                V[S].length++;
                T = L + 1;
                if (L == S + 1 && V[S].length != 2) T = S + 1
            }
            if (K.i(E.lK) && V[T - 1] && V[T - 1].L) X = z.w5.Z8(V[T - 1].L, X);
            V.splice(T, 0, {
                type: 4,
                M7: X.clone(),
                L: X.clone(),
                WQ: X.clone()
            });
            J.Ja = [T];
            this.fd = X
        }
        this.mG(w, P.qX, J, y);
        w.n9 = !0
    };
    z.ZQ.prototype.$z = function(w, o, Q, K, b) {
        if (this.XU == null) return;
        var R = w.m.WD(b.x, b.y),
            X = z.uA.K$(w, R, Q),
            h = w.a$(this.uJ == 0),
            e = h[0],
            Z = h[1],
            P = e[Z.pop()],
            J = P.add.vmsk,
            i = J._,
            k = i[J.Ja[0]];
        if (K.i(E.$0)) {
            if (K.i(E.lK)) X = z.w5.Z8(this.fd, X);
            var $ = k.L.ZO(k.WQ),
                n = k.M7.ZO(k.L);
            k.WQ = X;
            k.L = X.add($);
            k.M7 = k.L.add(n)
        } else {
            if (K.i(E.lK)) X = z.w5.Z8(k.L, X);
            if (this.$L) {
                var j = fB.mp(k.L, X),
                    y = j == 0 ? 0 : fB.mp(k.L, k.WQ) / j;
                k.WQ.x = k.L.x + y * (X.x - k.L.x);
                k.WQ.y = k.L.y + y * (X.y - k.L.y)
            } else k.WQ = X;
            if (K.i(E.O4)) k.type = 5;
            else {
                k.type = 4;
                k.M7 = k.L.add(k.L.ZO(X))
            }
            this.fd = X
        }
        this.mG(w, P.qX, J, P.add.vogk);
        w.n9 = !0
    };
    z.ZQ.prototype.IN = function(w, o, Q, K, b) {
        if (this.XU == null) return;
        var R = w.a$(this.uJ == 0),
            X = R[0],
            h = R[1],
            e = X[h.pop()],
            Z = e.add.vmsk,
            P = e.add.vogk;
        this.xu(w, this.$L ? "Close Path" : "Add Anchor Point", e.qX, this.XU, Z.clone(), null, this.d7, JSON.stringify(P));
        this.$L = !1;
        this.XU = null
    };
    z.ZQ.prototype.wx = function(w, o, Q, K, b) {
        this.uJ = w.tmode;
        this.a5s = w.binop
    };
    z.Vt = function() {
        z.ti.call(this, [10, 30], z.cb, "tools/fpen", !1)
    };
    z.Vt.prototype = new z.ti;
    z.Vt.prototype.HO = function(w, o, Q, K) {
        return [v.P.g8(K, this.GJ.tolr), v.Wn.Vh("customShape", [0, 0, 1, 1], null, null, null, "--")]
    };
    z.XX = function() {
        z.EJ.call(this, [10, 27], z.k9, "tools/pselect");
        this.vU = null;
        this.pN = !1;
        this.C8 = null;
        this.XU = null;
        this.s8 = null;
        this.d7 = null;
        this.PN = null;
        this.kp = null;
        this.nU = null;
        this.Z0 = null
    };
    z.XX.prototype = new z.EJ;
    z.XX.prototype.sT = function(w) {
        return w.L8
    };
    z.XX.prototype.Br = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y),
            X = w.a$(),
            h = X[0],
            e = X[1],
            Z, P;
        for (var M = 0; M < e.length; M++) {
            var J = h[e[M]],
                i = J.add.vmsk,
                k = v.P.UO(i._, R).qX;
            if (k != -1) {
                this.C8 = Z = J;
                P = k
            }
            for (var $ = 0; $ < i.zi.length; $++) {
                var n = v.P.rM(i._, i.zi[$]);
                if (n == null) continue;
                var j = fB.mp(n, R);
                if (j < 4 * _.J() / w.m.I) {
                    var y = w.t[J.qX - 1e6].add.TySh,
                        V = y.rr.Curve,
                        O = y.H,
                        S = V.Reversed;
                    V.Reversed = !1;
                    var V = gm.DP(y.rr.Curve);
                    V.Reversed = S;
                    v.w.H(V[0], O, V[0]);
                    this.nU = [V, $, O.K * O.TX - O.k * O.Lu];
                    this.C8 = Z = J;
                    P = 0
                }
            }
            if (this.nU) break
        }
        if (Z != null) {
            var i = Z.add.vmsk;
            i.Ja = [];
            var G = i.u.indexOf(P);
            if (K.i(E.lK)) {
                if (G == -1) {
                    i.u.push(P);
                    this.pN = !0
                } else i.u.splice(G, 1)
            } else {
                if (G == -1) i.u = [P];
                this.pN = !0
            }
            this.kp = v.P.bj(i._, i.u)
        }
        this.vU = R;
        this.Z0 = new bT(R);
        w.ot = !0;
        w.n9 = !0
    };
    z.XX.prototype.$z = function(w, o, Q, K, b) {
        if (this.vU == null) return;
        var R = w.m.WD(b.x, b.y);
        if (this.pN) {
            R = this.Z0.q3(R, K);
            var X = this.C8;
            if (this.XU == null) {
                this.XU = this.s8 = X.add.vmsk.clone();
                this.d7 = this.PN = JSON.stringify(X.add.vogk);
                if (K.i(E.O4)) {
                    var h = this.XU.clone(),
                        e = JSON.parse(this.d7),
                        Z = z.EJ.X1(h, e);
                    z.EJ.Z_(Z, h, e);
                    this.s8 = h;
                    this.PN = JSON.stringify(e)
                }
            }
            var h = this.s8.clone(),
                e = JSON.parse(this.PN);
            if (this.nU) {
                var P = this.nU,
                    J = P[0][0],
                    i = v.w.bX(J, R.x, R.y);
                h.zi[P[1]] = P[0][1][i];
                var k = J[i * 2],
                    $ = J[i * 2 + 1],
                    n = (J[i * 2 + 2] - k) * (R.y - $) - (J[i * 2 + 3] - $) * (R.x - k);
                if (P[2] < 0) n = -n;
                h.VS = n > 0
            } else {
                var j = this.kp.clone(),
                    y = j.x,
                    V = j.y;
                j.offset(R.x - this.vU.x, R.y - this.vU.y);
                j.x = Math.round(j.x);
                j.y = Math.round(j.y);
                var O = z.uA.I9(w, j, Q),
                    S = new dj(1, 0, 0, 1, j.x - y + O[0], j.y - V + O[1]);
                v.P.nB(h._, S, h.u);
                v.Wn.H(e, v.Q.k1(S), h.u);
                z.uA.cd(w, j, O)
            }
            this.mG(w, X.qX, h, e)
        } else {
            var G = this.vU;
            w.r.Sb = v.w.NU(new B(G.x, G.y, R.x - G.x, R.y - G.y));
            w.n9 = !0
        }
    };
    z.XX.prototype.IN = function(w, o, Q, K, b) {
        if (this.vU == null) return;
        var R = w.m.WD(b.x, b.y),
            X = this.C8,
            h = X ? X.add.vmsk : null;
        if (this.pN) {
            var e = JSON.stringify(X.add.vogk);
            if (!this.vU.Lb(R)) this.xu(w, "Move Paths", X.qX, this.XU, h, null, this.d7, e);
            if (w != null && w.r.es) {
                w.r.es = null;
                w.n9 = !0
            }
        } else {
            if (h) {
                var Z = this.vU,
                    P = new B(Z.x, Z.y, R.x - Z.x, R.y - Z.y),
                    J = v.P.a01(h._, P);
                if (K.i(E.lK)) {
                    for (var M = 0; M < J.length; M++)
                        if (h.u.indexOf(J[M]) == -1) h.u.push(J[M])
                } else h.u = J
            }
            w.r.Sb = null;
            w.n9 = !0
        }
        this.vU = null;
        this.XU = null;
        this.nU = null;
        this.pN = !1;
        this.Z0 = null
    };
    z.XX.prototype.iI = function(w, o, Q, K) {
        z.EJ.prototype.iI.call(this, w, o, Q, K);
        if (Q.jM != this.id) return;
        if (w.u.length == 0) return;
        var b = w.a$(),
            R = b[0],
            X = b[1];
        if (X.length == 0) return;
        var h = R[X[0]],
            e = h.add.vmsk,
            Z = h.add.vstk,
            P = h.add.vogk,
            J = new Y(_.E.N, !0);
        J.data = {
            e: _.S.X3,
            f: this.id,
            qv: "main",
            gM: e ? e : null,
            Wn: P
        };
        o.A(J)
    };
    z.XX.prototype.wx = function(w, o, Q, K, b) {
        var R = w.EG;
        if (R.gM) {
            var X = Q.a$(),
                h = X[0],
                e = X[1];
            if (e.length == 0) return;
            var Z = h[e[0]],
                P = Z.add.vmsk.clone(),
                J = JSON.stringify(Z.add.vogk),
                i = R.gM;
            this.mG(Q, Z.qX, i, R.Wn);
            var k = [18, 5];
            if (P._.length == i._.length) k = P.u[0] == i.u[0] ? "Fill Rule" : "Path Order";
            this.xu(Q, k, Z.qX, P, i, null, J, JSON.stringify(R.Wn))
        }
    };
    z.RE = function() {
        z.EJ.call(this, [10, 28], z.aD, "tools/dselect");
        this.qW = -1;
        this.xr = -1;
        this.fo = null;
        this.vU = null;
        this.C8 = null;
        this.XU = null;
        this.d7 = null;
        this.yw = null;
        this.Bg = 0;
        this.a10 = {
            psnap: !1
        };
        this.Z0 = null
    };
    z.RE.prototype = new z.EJ;
    z.RE.prototype.sT = function(w) {
        return w.L8
    };
    z.RE.prototype.wx = function(w) {
        this.a10 = w
    };
    z.RE.prototype.Sx = function(w, o, Q, K, b) {
        if (w.e == "crnr") {
            if (Q == null) return;
            var R = Q.a$(),
                X = R[0],
                h = R[1];
            if (h.length == 0) {
                alert("No paths selected");
                return
            }
            var e = X[h[0]],
                Z = e.add.vmsk;
            if (Z.Ja.length == 0) {
                alert("No corners selected");
                return
            }
            for (var M = 0; M < Z.Ja.length; M++) {
                var P = Z._[Z.Ja[M]];
                if (!P.L.Lb(P.WQ) || !P.L.Lb(P.M7)) {
                    alert("Only sharp corners can be rounded");
                    return
                }
            }
            if (this.XU == null) {
                this.XU = e.add.vmsk.clone();
                this.d7 = JSON.stringify(e.add.vogk);
                this.C8 = e;
                this.yw = Q
            }
            var J = new Y(_.E.N, !0);
            J.data = {
                e: _.S.QH,
                hX: "cornerradius",
                np: 5,
                tV: this.aaW.bind(this)
            };
            o.A(J)
        } else z.EJ.prototype.Sx.call(this, w, o, Q, K, b)
    };
    z.RE.prototype.aaW = function(w) {
        if (w == "confirm") {
            var o = this.yw,
                Q = this.C8,
                K = Q.add.vmsk,
                b = Q.add.vogk;
            this.xu(o, [12, 94, 0], Q.qX, this.XU, K, null, this.d7, JSON.stringify(b));
            this.Vv();
            return
        }
        var K = this.XU.clone(),
            b = JSON.parse(this.d7),
            R = K.Ja;
        if (w == "cancel") {} else {
            var X = [];
            for (var M = 0; M < R.length; M++) {
                var h = R[M],
                    e = v.P.Ch(K._, h, !0),
                    J = 0;
                if (X.indexOf(e) != -1) continue;
                X.push(e);
                var Z = v.P.xJ(K._, e, !0),
                    P = K._[Z].length,
                    i = [];
                for (var k = 0; k < P; k++) {
                    var $ = K.Ja.indexOf(Z + k + 1) == -1 ? 0 : w;
                    i.push($);
                    if ($ != 0) J++
                }
                v.P.Ad(K._, Z, i);
                for (var k = 0; k < R.length; k++)
                    if (R[k] > Z + P) R[k] += J
            }
            this.FO(K, b);
            K.Ja = []
        }
        this.mG(this.yw, this.C8.qX, K, b);
        if (w == "cancel") this.Vv()
    };
    z.RE.prototype.disable = function(w, o, Q, K) {
        this.MA(w)
    };
    z.RE.prototype.Br = function(w, o, Q, K, b) {
        this.MA(w);
        var R = w.m.WD(b.x, b.y),
            J, i, k;
        this.fo = R.clone();
        var X = w.a$(),
            h = X[0],
            e = X[1];
        if (e.length == 0) return;
        var Z = 4 * _.J() / w.m.I,
            P = new B(R.x - Z, R.y - Z, Z * 2, Z * 2);
        for (var $ = 0; $ < e.length; $++) {
            J = this.C8 = h[e[$]];
            i = J.add.vmsk;
            k = v.P.lk(i._, P);
            if (k[0].length + k[1].length + k[2].length != 0) break
        }
        var n = [!1, !1, !1];
        for (var M = 0; M < 3; M++) {
            for (var j = 0; j < k[M].length; j++)
                if (i.Ja.indexOf(k[M][j]) != -1) {
                    k[M] = [k[M][j]];
                    n[M] = !0;
                    break
                }
        }
        if (k[0].length != 0 && (n[0] || !n[1] && !n[2])) {
            var y = k[0][0],
                V = i.Ja.indexOf(y);
            if (K.i(E.lK)) {
                if (V == -1) i.Ja.push(y);
                else {
                    i.Ja.splice(V, 1);
                    w.n9 = !0;
                    return
                }
            } else if (V == -1) i.Ja = [y];
            this.qW = y;
            this.xr = 0
        } else if (k[1].length != 0 && (n[1] || !n[2])) {
            this.qW = k[1][0];
            this.xr = 1
        } else if (k[2].length != 0) {
            this.qW = k[2][0];
            this.xr = 2
        } else {
            var O = v.P.UO(i._, R, !0, Z);
            if (O.qX == -1) this.vU = R;
            else {
                i.u = [O.qX];
                i.Ja = []
            }
        }
        if (this.XU == null) {
            this.XU = J.add.vmsk.clone();
            this.d7 = JSON.stringify(J.add.vogk)
        }
        this.Z0 = new bT(R);
        w.n9 = !0
    };
    z.RE.prototype.$z = function(w, o, Q, K, b) {
        if (w == null) return;
        var R = w.m.WD(b.x, b.y),
            X = this.C8;
        if (this.qW != -1) {
            var h = this.XU.clone(),
                e = X.add.vogk,
                Z = h._[this.qW];
            Z = [Z.L, Z.M7, Z.WQ][this.xr];
            if (K.i(E.lK)) {
                R = this.Z0.q3(R, K);
                R.x += Z.x - this.fo.x;
                R.y += Z.y - this.fo.y
            } else {
                if (this.a10.psnap) {
                    R.x = Math.round(R.x);
                    R.y = Math.round(R.y)
                }
                R = z.uA.K$(w, R, Q)
            }
            if (this.xr == 0) {
                var P = new dj(1, 0, 0, 1, R.x - Z.x, R.y - Z.y);
                v.P.nB(h._, P, null, h.Ja)
            } else {
                var J = h._[this.qW],
                    i = J.M7,
                    k = J.WQ;
                if (this.xr == 2) {
                    i = J.WQ;
                    k = J.M7
                }
                i.qQ(R.x, R.y);
                if (J.type == 1 || J.type == 4) {
                    var $ = fB.mp(i, J.L),
                        n = fB.mp(k, J.L);
                    if (n != 0) {
                        k.x = J.L.x - (i.x - J.L.x) * (n / $);
                        k.y = J.L.y - (i.y - J.L.y) * (n / $)
                    }
                }
            }
            this.FO(h, e);
            this.mG(w, X.qX, h, e)
        } else if (this.vU != null) {
            var j = this.vU;
            w.r.Sb = v.w.NU(new B(j.x, j.y, R.x - j.x, R.y - j.y));
            w.n9 = !0
        } else {
            var y = w.a$(),
                V = y[0],
                O = y[1],
                X, h, D;
            if (O.length == 0) return;
            var S = 4 * _.J() / w.m.I,
                G = new B(R.x - S, R.y - S, S * 2, S * 2);
            for (var q = 0; q < O.length; q++) {
                X = V[O[q]];
                h = X.add.vmsk;
                D = v.P.lk(h._, G);
                if (D[0].length + D[1].length + D[2].length != 0) break
            }
            this.MA(w);
            for (var M = 0; M < 3; M++) {
                for (var T = 0; T < D[M].length; T++) {
                    var L = D[M][T],
                        N = h._[L];
                    N = M == 0 ? N.L : M == 1 ? N.M7 : N.WQ;
                    w.r.MZ.push(w.r.Yp.length >>> 1);
                    w.r.Yp.push(N.x, N.y);
                    w.n9 = !0
                }
            }
        }
    };
    z.RE.prototype.MA = function(w) {
        if (w && w.r.Yp.length != 0) {
            w.r.Yp = [];
            w.r.MZ = [];
            w.n9 = !0
        }
    };
    z.RE.prototype.IN = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y),
            X = this.C8,
            h = X ? X.add.vmsk : null,
            e = X ? X.add.vogk : null;
        if (this.qW != -1) {
            if (Date.now() - this.Bg < 300) {
                var Z = h._[this.qW],
                    P = this.xr,
                    J = null;
                if (P == 0) {
                    var i = Z.M7.Lb(Z.L),
                        k = Z.WQ.Lb(Z.L);
                    if (!i && !k) {
                        J = "Anchor Type";
                        if (Z.type == 1 || Z.type == 4) Z.type++;
                        else {
                            Z.type--;
                            Z.WQ = Z.L.add(Z.L.ZO(Z.M7))
                        }
                    } else {
                        J = "Add Handles";
                        if (i && k) {
                            Z.M7.x -= 30;
                            Z.WQ.x += 30
                        } else if (i) Z.M7 = Z.L.add(Z.L.ZO(Z.WQ));
                        else if (k) Z.WQ = Z.L.add(Z.L.ZO(Z.M7))
                    }
                } else {
                    J = "Remove Handle";
                    if (P == 1) Z.M7.jH(Z.L);
                    else Z.WQ.jH(Z.L)
                }
                this.FO(h, e);
                this.mG(w, X.qX, h, e);
                this.xu(w, J, X.qX, this.XU, h, null, this.d7, JSON.stringify(e))
            } else if (!this.fo.Lb(R)) {
                this.xu(w, "Drag Anchors", X.qX, this.XU, h, null, this.d7, JSON.stringify(e))
            }
            this.Bg = Date.now()
        } else if (this.vU != null) {
            var $ = this.vU,
                n = new B($.x, $.y, R.x - $.x, R.y - $.y);
            if (n.D < 0) n.x += n.D;
            if (n.j < 0) n.y += n.j;
            n.D = Math.abs(n.D);
            n.j = Math.abs(n.j);
            var j = v.P.lk(h._, n);
            h.Ja = j[0];
            w.r.Sb = null
        }
        this.Vv();
        w.n9 = !0
    };
    z.RE.prototype.Vv = function() {
        this.C8 = null;
        this.XU = null;
        this.vU = null;
        this.qW = this.xr = -1;
        this.Z0 = null
    };
    z.RE.prototype.FO = function(w, o) {
        for (var M = 0; M < w.Ja.length; M++) {
            var Q = v.P.Ch(w._, w.Ja[M]);
            v.Wn.uK(o, Q)
        }
    };
    z.RE.prototype.Yq = function(w, o, Q, K) {
        if (w == null) return;
        var b = w.a$(),
            R = b[0],
            X = b[1];
        if (X.length == 0) return;
        var h = R[X[0]],
            e = h.add.vmsk;
        if (e == null || e.Ja.length == 0) return;
        var Z = h.add.vogk,
            P = JSON.stringify(Z),
            J = K.Tg();
        if (J.x != 0 || J.y != 0) {
            var i = e.clone(),
                k = e.clone(),
                $ = new dj(1, 0, 0, 1, J.x, J.y);
            v.P.nB(k._, $, null, k.Ja);
            this.FO(k, Z);
            this.mG(w, h.qX, k, Z);
            this.xu(w, "Move Anchors", w.u[0], i, k.clone(), !0, P, JSON.stringify(Z))
        }
        if (K.i(E.U_) || K.i(E.OW)) {
            var i = e.clone(),
                k = e.clone();
            k._ = v.P.a7N(k._, k.Ja, Z);
            k.Ja = [];
            this.mG(w, h.qX, k, Z);
            this.xu(w, "Delete Anchors", h.qX, i, k.clone(), !0, P, JSON.stringify(Z))
        }
    };
    z.RE.prototype.xu = function(w, o, Q, K, b, R, X, h) {
        var e = w.Z6();
        if (R && e != null && e.f == this && e.data.a3_ && e.data.zd == Q && JSON.stringify(e.data.af.Ja) == JSON.stringify(K.Ja)) {
            e.data.Y$ = b;
            e.data.uH = h
        } else {
            var e = new hl(o, this);
            e.data = {
                zd: Q,
                af: K,
                Y$: b,
                a3_: R,
                acD: X,
                uH: h
            };
            w.be(e)
        }
    };
    z.Rect = function() {
        z.ti.call(this, [10, 32], z.t2, "tools/rect", !0)
    };
    z.Rect.prototype = new z.ti;
    z.Rect.prototype.HO = function(w, o, Q) {
        var K = this.GJ.crad,
            b = o.x - w.x,
            R = o.y - w.y;
        return [v.P.z_.Rect(w.x, w.y, b, R, K), v.Wn.Vh("Rctn", [w.x, w.y, o.x, o.y], [K, K, K, K])]
    };
    z.eG = function() {
        z.ti.call(this, [10, 33], z.eF, "tools/ellipse", !0)
    };
    z.eG.prototype = new z.ti;
    z.eG.prototype.HO = function(w, o, Q) {
        var K = o.x - w.x,
            b = o.y - w.y;
        return [v.P.z_.eG(w.x, w.y, K, b), v.Wn.Vh("Elps", [w.x, w.y, o.x, o.y])]
    };
    z.hx = function() {
        z.ti.call(this, [10, 34], z.vh, "tools/pshape", !1)
    };
    z.hx.prototype = new z.ti;
    z.hx.prototype.HO = function(w, o, Q) {
        var K = this.GJ.pshape,
            b = this.GJ.crad,
            R = this.GJ.irad / 100,
            X = this.GJ.sides,
            h = this.GJ.width,
            e = this.GJ.tsiz,
            Z = this.GJ.length,
            j;
        o = o.clone();
        if (Q) {
            if (Math.abs(o.x - w.x) < Math.abs(o.y - w.y)) o.x = w.x;
            else o.y = w.y
        }
        var P = w.x,
            J = w.y,
            i = o.x,
            k = o.y,
            $ = Math.sqrt((i - P) * (i - P) + (k - J) * (k - J)),
            n = Math.atan2(-k + J, i - P);
        if (K == 0) j = v.P.z_.cz(P, J, $, n, X, b);
        if (K == 1) j = v.P.z_.aex(P, J, $, n, X, b, R);
        if (K == 2) j = v.P.z_.a6C(w.x, w.y, o.x, o.y, h, e / 100);
        if (K == 3) j = v.P.z_.a6E(P, J, $, n, Z);
        return [j, v.Wn.Vh("customShape", [w.x, w.y, o.x, o.y], null, null, null, "--")]
    };
    z.tR = function() {
        z.ti.call(this, [10, 35], z.xQ, "tools/line", !1)
    };
    z.tR.prototype = new z.ti;
    z.tR.prototype.HO = function(w, o, Q) {
        var K = this.GJ.width;
        o = o.clone();
        if (Q) {
            o = z.w5.Z8(w, o)
        }
        return [v.P.z_.tR(w.x, w.y, o.x, o.y, K), v.Wn.Vh("Ln", null, null, [w.x, w.y, o.x, o.y], K)]
    };
    z.Ii = function() {
        z.ti.call(this, [10, 31], z.gR, "tools/cshape", !0)
    };
    z.Ii.prototype = new z.ti;
    z.Ii.prototype.HO = function(w, o, Q) {
        var K = this.GJ.shape,
            b = K.oX.D / K.oX.j,
            R = a.Y3.DK(K._);
        o = o.clone();
        if (Q) {
            o.y = w.y + (o.x - w.x) / b
        }
        var X = o.x - w.x,
            h = o.y - w.y;
        v.P.nB(R, new dj(X, 0, 0, h, w.x, w.y));
        return [R, v.Wn.Vh("customShape", [w.x, w.y, o.x, o.y], null, null, null, K.gr)]
    };
    z.Z = function(w, o, Q) {
        z.Vb.call(this, w, o, Q);
        this.Qn = 0;
        this.t = null;
        this.CI = null;
        this.f8 = null;
        this.Jd = 1;
        this.kI = !1;
        this.cursor = null;
        this.q5 = null;
        this.Ab = null;
        this.bn = !1;
        this.WG = null;
        this.a7B = 0;
        this.b3 = null;
        this.Wc = 0;
        this.kK = null;
        this.gw = null;
        this.kf = null;
        this.vq = null;
        this.adC = null;
        this.S6 = null
    };
    z.Z.prototype = new z.Vb;
    z.Z.TS = function(w, o) {
        var Q = {
            classID: "null",
            null: hX.EX("Dcmn", !0)
        };
        if (w) Q.Angl = {
            t: "UntF",
            v: {
                type: "#Ang",
                val: o
            }
        };
        else Q.Axis = {
            t: "enum",
            v: {
                Ornt: o
            }
        };
        return {
            hj: w ? "rotateEventEnum" : "flip",
            H8: Q
        }
    };
    z.Z.prototype.ml = function(w, o, Q, K, b) {
        var R = new Y(_.E.N, !0);
        R.data = {
            e: _.S.X3,
            f: this.id,
            GF: b,
            AZ: w,
            f8: Q
        };
        o.A(R);
        this.hk = !1
    };
    z.Z.prototype.sT = function(w) {
        return this.gw && this.gw.aJ()
    };
    z.Z.prototype.Sx = function(w, o, Q, K, b) {
        this.f8 = b;
        if (w.e == "again" && this.b3 == null) return;
        if (w.e == "doMouseDown") {
            if (this.gw == null) return;
            this.Br(Q, o, b, K, w.in);
            return
        }
        if (!this.Td(Q, b)) return;
        if (this.gw) {
            this.rP(w, this.gw.xf());
            this.fT(Q, b, 0, !0);
            this.VA(Q);
            return
        }
        this.Bn(Q, w.p == null, w.p);
        this.Gp(Q);
        this.rP(w);
        this.uf(Q, o, w.Wp, !1)
    };
    z.Z.prototype.rP = function(w, o) {
        var Q = this.kK;
        if (o == null) {
            var K = w.Qg != null ? w.Qg : 4;
            o = this.gw.a8W()[K]
        }
        var b = o.x,
            R = o.y;
        if (w.e == "rot" && w.F != Math.PI && (Q.D + Q.j & 1) == 1) {
            b = Math.floor(b);
            R = Math.floor(R)
        }
        var X = new dj;
        X.translate(-b, -R);
        if (w.e == "rot") X.rotate(w.F);
        if (w.e == "scl") X.scale(w.F.x, w.F.y);
        if (w.e == "mat") X.concat(w.F);
        X.translate(b, R);
        if (w.e == "again") X = this.b3;
        var h = this.gw.CP();
        v.w.H(h, X, h);
        this.gw.jh(h)
    };
    z.Z.prototype.AO = function() {
        return !0
    };
    z.Z.prototype.Td = function(w, o) {
        if (w == null) return !1;
        if (this.id == z.CK) return w.o != null;
        var Q = w.Mu(!0, null, null, !0);
        if (this.id == z.Vz && w.t[Q[0]].rect.Kx()) {
            alert("Layer is empty.");
            return !1
        }
        for (var M = 0; M < Q.length; M++) {
            var K = w.t[Q[M]];
            if (K.cp(2) || K.cp(31)) {
                alert(b6.get([6, 57, 0]));
                return !1
            }
            if (K.add.artb) {
                alert("You can not transform the whole artboard");
                return !1
            }
            if (K.add.TySh)
                if (!g1.Yk(K.add.TySh, o.md)) return !1;
            if (K.add.SoLd) {
                if (Q.length == 1 && !v.AD.WZ(K.add.SoLd.warp.v) && (K._f() && K._f().Qu || K.add.vmsk && K.add.vmsk.Qu)) {
                    alert("Unlink masks before transforming Smart Object");
                    return !1
                }
                if (!w.aaS(K.add.SoLd.Idnt.v)) {
                    alert("Unsupported format of the smart object (" + w.Ph(K.add.SoLd.Idnt.v).YG + ")");
                    return !1
                }
            }
        }
        if (w.o == null) return !0;
        if (!w.yD()) return !1;
        return w.Ck()
    };
    z.Z.prototype.Br = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y);
        if (this.Wc == 1) {
            var X = v.Q.MF(v.Q.RP(this.gw.CP(), this.kK));
            R = v.Q.P4(X, R)
        }
        var h = this.Wc == 0 ? this.gw : this.kf;
        this.kI = h.Br(w, Q, K, R);
        if (this.kI && h.ao(R)) {
            if (Date.now() - this.a7B < 250) this.uf(w, o, null, !0);
            this.a7B = Date.now()
        }
    };
    z.Z.prototype.Oy = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.Gi,
            hr: this.cursor
        };
        w.A(o)
    };
    z.Z.prototype.$z = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y);
        if (this.Wc == 1) {
            var X = v.Q.MF(v.Q.RP(this.gw.CP(), this.kK));
            R = v.Q.P4(X, R)
        }
        var h = this.Wc == 0 ? this.gw : this.kf;
        if (!b.L8) {
            var e = "default";
            if (h) {
                var Z = h.Te(R, w.m.I);
                if (Z) e = Z
            }
            if (e != this.cursor) {
                this.cursor = e;
                this.Oy(o)
            }
        }
        if (!this.kI) return;
        h.$z(w, Q, K, R);
        this.fT(w, Q, 0, !0);
        this.VA(w);
        this.ow(o)
    };
    z.Z.prototype.IN = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y);
        this.gw.IN(w, Q, K, R);
        this.kI = !1
    };
    z.Z.prototype.Yq = function(w, o, Q, K) {
        if (K.i(E.$g)) this.uf(w, o, null, !0);
        else if (K.i(E.EI)) this.Cr(w, o);
        else {
            var b = this.gw.Yq(w, Q, K);
            if (b) {
                this.fT(w, Q, 0, !0);
                this.ow(o)
            }
        }
    };
    z.Z.prototype.wx = function(w, o, Q, K) {
        if (w.qv == "commit") this.uf(Q, o, null, !0);
        else if (w.qv == "cancel") this.Cr(Q, o);
        else if (w.qv == "switchWarp") {
            this.Wc = 1 - this.Wc;
            this.acj();
            this.VA(Q);
            this.ow(o)
        } else if (w.qv == "wrp") {
            this.kf.Z2(w.W1);
            this.VA(Q);
            this.fT(Q, this.f8, 0, !0)
        } else if (w.qv == "ctyp") {
            this.gw.a4C(w.aV);
            this.VA(Q);
            this.ow(o)
        } else if (w.qv == "cen") {
            this.gw.alS(w.Ut);
            this.VA(Q);
            this.fT(Q, this.f8, 0, !0);
            this.ow(o)
        } else if (w.qv == "trn") {
            var b = v.Q.k1(w.PE),
                R = this.kK,
                X = v.Q.RP(this.gw.CP(), this.kK);
            b[6] = X[6], b[7] = X[7];
            var h = [R.x, R.y, R.x + R.D, R.y, R.x + R.D, R.y + R.j, R.x, R.y + R.j];
            v.Q.apply(b, h);
            this.Jd = w.Jd;
            this.gw.jh(h);
            this.VA(Q);
            this.fT(Q, this.f8, 0, !0)
        }
    };
    z.Z.prototype.VA = function(w) {
        if (this.Wc == 0) this.gw.wb(w, this.f8);
        else {
            this.kf.wb(w);
            var o = v.Q.RP(this.gw.CP(), this.kK);
            v.Q.apply(o, w.r.Sb.X);
            v.Q.apply(o, w.r.Pi)
        }
    };
    z.Z.prototype.uf = function(w, o, Q, K) {
        this.fT(w, this.f8, this.Jd);
        var b = new hl(Q ? Q : this.name, this);
        if (this.Qn == 0) b.data = {
            type: this.Qn,
            t: this.t,
            WG: this.CI,
            Pn: z.Z.iR(w, this.t)
        };
        else if (this.Qn == 1) {
            var R = w.t[this.t[0]],
                X;
            if (R.Xa.lY <= 0) {
                X = v.$(R.Xa.p1.O());
                v.KU(R.Xa.DL, X, 3)
            } else X = w.o.channel;
            var h = {
                rect: R.Xa.p1.clone(),
                channel: X
            };
            b.data = {
                type: this.Qn,
                p: this.t[0],
                Ab: this.Ab,
                Dr: h,
                q5: this.q5,
                bn: this.bn,
                Xa: R.Xa,
                WG: this.WG,
                Pn: {
                    U: R.Xa.p1,
                    Hb: R.Xa.DL
                }
            }
        } else if (this.Qn == 2) {
            b.data = {
                type: this.Qn,
                Ab: this.Ab,
                Dr: {
                    rect: w.o.rect.clone(),
                    channel: v.clone(w.o.channel)
                }
            }
        }
        w.be(b);
        var e = this.kK,
            Z = new fB(e.x + e.D / 2, e.y + e.j / 2),
            P = v.Q.RP(this.gw.CP(), e),
            J = v.Q.oC(P),
            i = new dj;
        i.translate(Z.x, Z.y);
        i.concat(J);
        i.translate(-Z.x, -Z.y);
        J = i.clone();
        var k = -Math.atan2(-J.k, J.K),
            $ = new dj;
        $.rotate(k);
        J.concat($);

        function n(y, V) {
            return {
                t: "UntF",
                v: {
                    type: ["#Pxl", "#Prc", "#Ang"][V],
                    val: y
                }
            }
        }
        var j = {
            classID: "null",
            null: hX.EX("Lyr", !0),
            FTcs: {
                t: "enum",
                v: {
                    QCSt: "Qcsa"
                }
            },
            Intr: {
                t: "enum",
                v: {
                    Intp: "Bcbc"
                }
            },
            Ofst: {
                t: "Objc",
                v: {
                    __name: "Offset",
                    classID: "Ofst",
                    Hrzn: n(i.xy, 0),
                    Vrtc: n(i.r6, 0)
                }
            },
            Skew: {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: n(Math.atan(J.Lu) * 180 / Math.PI, 2),
                    Vrtc: n(0, 2)
                }
            },
            Wdth: n(J.K * 100, 1),
            Hght: n(J.TX * 100, 1),
            Angl: n(k * 180 / Math.PI, 2)
        };
        this.hf = o;
        this.track({
            hj: "transform",
            H8: j
        });
        this.escape(w, o, K)
    };
    z.Z.prototype.Cr = function(w, o) {
        if (this.Qn == 0) z.Z.qG(w, this.t, this.CI);
        else if (this.Qn == 1) {
            var Q = w.t[this.t[0]];
            w.o = this.Ab;
            if (!this.bn) {
                Q.Xa.p1 = this.WG.U;
                Q.Xa.DL = this.WG.Hb;
                Q.k3(w, 0, 0, w.o)
            } else {
                Q.qR(w, this.q5)
            }
            w.C();
            w.Yr = !0
        } else if (this.Qn == 2) {
            w.o = this.Ab;
            w.Yr = !0
        }
        this.escape(w, o, !0)
    };
    z.Z.prototype.escape = function(w, o, Q) {
        this.gw.clear(w);
        this.gw = null;
        this.kf = null;
        this.S6 = null;
        this.Wc = 0;
        if (Q) this.qJ(o, _.E.N, {
            e: _.S.sh
        })
    };
    z.Z.prototype.ju = function(w, o) {
        if (w.type == 0) z.Z.qG(o, w.t, w.Pn);
        else {
            if (w.type == 1) {
                var Q = o.t[w.p];
                if (w.bn) {
                    Q.Xa = w.Xa
                } else {
                    Q.Xa.p1 = w.Pn.U;
                    Q.Xa.DL = w.Pn.Hb
                }
                Q.k3(o, 0, 0, o.o);
                o.C()
            }
            o.o = {
                rect: w.Dr.rect.clone(),
                channel: v.clone(w.Dr.channel)
            };
            o.Yr = !0
        }
    };
    z.Z.prototype.Di = function(w, o) {
        if (w.type == 0) z.Z.qG(o, w.t, w.WG);
        else {
            if (w.type == 1) {
                var Q = o.t[w.p];
                if (w.bn) {
                    Q.qR(o, w.q5)
                } else {
                    Q.Xa.p1 = w.WG.U;
                    Q.Xa.DL = w.WG.Hb;
                    Q.k3(o, 0, 0, o.o)
                }
                o.C()
            }
            o.o = w.Ab;
            o.Yr = !0
        }
    };
    z.Z.prototype.Bn = function(w, o, Q) {
        w.a$();
        var K = [];
        if (Q == null)
            for (var M = 0; M < w.A6.length; M++)
                if (w.BY[w.A6[M]].add.vmsk._.length > 2) K.push(-1 - w.A6[M]);
        var b = [],
            R = w.m.dN;
        if (R[0] + R[1] + R[2] == 3)
            if (Q != null || K.length == 0 || w.Yd != null && w.Yd.length != 0) b = w.Mu(o, Q, null, !0);
        b = b.concat(K);
        for (var M = 0; M < w.Od.length; M++) b.push(-1e3 - w.Od[M]);
        this.t = b
    };
    z.Z.prototype.enable = function(w, o, Q, K, b, R, X) {
        if (this.cursor == null) this.cursor = "default";
        this.Oy(o);
        if (this.gw) return;
        this.f8 = Q;
        this.Bn(w, !0);
        this.Gp(w, R && R.mK != null && R.mK != -1 ? R.mK : null, X);
        this.ow(o);
        this.VA(w);
        if (R && R.mK == -1) this.wx({
            qv: "switchWarp"
        }, o, w, K)
    };
    z.Z.prototype.ow = function(w) {
        var o = {
            e: _.S.X3,
            f: this.id
        };
        if (this.Wc == 0) {
            var Q = v.Q.RP(this.gw.CP(), this.kK),
                K = v.Q.oC(Q);
            o.PE = {
                M1: K,
                aV: this.gw.afz(),
                Ut: this.gw.xf(),
                U: this.kK.clone()
            }
        } else {
            o.W1 = this.kf.yq()
        }
        o.a0i = this.kf != null;
        this.qJ(w, _.E.N, o)
    };
    z.Z.prototype.Gp = function(w, o, Q) {
        var K = this.id == z.CK,
            b = !0,
            R = this.t[0],
            X = w.t[R],
            e = null;
        if (K) {
            this.Qn = 2;
            this.Ab = w.o
        } else if (w.o && this.t.length == 1 && R >= 0 && !X.rect.Kx()) {
            this.Qn = 1;
            this.Ab = w.o;
            this.q5 = X.Xa;
            this.bn = !1;
            if (!X.Bb(w, w.o)) {
                this.bn = !0;
                X.JZ(w, w.o, !1)
            }
            this.WG = {
                Hb: X.Xa.DL,
                U: X.Xa.p1
            }
        } else {
            this.Qn = 0;
            this.CI = z.Z.iR(w, this.t, null, Q);
            for (var M = 0; M < this.CI.length; M++)
                if (this.CI[M][3] != null) b = !1
        }
        var h = this.Qn == 1;
        if (this.CI && this.CI.length == 1) {
            var Z = this.CI[0];
            if (Z[3] == null) h = !0;
            if (Z[4] != null) {
                e = w.t[this.t[0]].add.SoLd;
                if (Z[1] || Z[2]) h = !1
            }
        }
        var P = K ? w.o.rect.clone() : z.Z.vG(w, this.t, Q);
        this.kK = P;
        if (!K && e) {
            var J = z.Z.wf(e.nonAffineTransform);
            this.kK = v.w.QT(v.AD.rh(e.warp.v));
            if (h) this.kf = new ez(e.warp.v);
            this.vq = v.Q.RP(J, this.kK);
            this.gw = new dG(J, !0, !0, b, !1, !1, o)
        } else {
            if (h || K) this.kf = new ez(v.AD.$(this.kK));
            this.vq = [1, 0, 0, 0, 1, 0, 0, 0];
            if (this.id == z.Vz) o = 3;
            this.gw = new dG([P.x, P.y, P.x + P.D, P.y, P.x + P.D, P.y + P.j, P.x, P.y + P.j], !0, !0, b, !1, !1, o)
        }
        this.adC = [1, 0, 0, 0, 1, 0, 0, 0];
        if (this.id == z.Vz) {
            var i = this.CI[0][0],
                k = i.Jw,
                $ = k[1];
            this.S6 = v.BF.a60(k[0], $.D, $.j)
        }
    };
    z.Z.vG = function(w, o, Q) {
        if (o == null) o = w.Mu(!0, null, null, !0);
        var K = new B;
        if (w.o && o.length == 1 && o[0] >= 0) K = w.o.rect.clone();
        else
            for (var M = 0; M < o.length; M++) {
                var b = o[M],
                    R = 0 <= b ? w.t[b] : -1e3 < b ? w.BY[-1 - b] : w.SF[-1e3 - b],
                    X = R.add ? R.add.vmsk : null,
                    h = 0 <= b ? R.IJ(w, o.length == 1, !1, Q) : -1e3 < b ? v.P.bj(X._, o.length == 1 && X.u.length != 0 ? X.u : null) : R.rect.clone();
                K = K.OX(h)
            }
        return K
    };
    z.Z.prototype.qJ = function(w, o, Q, K) {
        var b = new Y(o, !0);
        b.data = Q;
        if (K) b.f = K;
        w.A(b)
    };
    z.Z.iR = function(w, o, Q, K) {
        var b = [];
        for (var M = 0; M < o.length; M++) {
            var R = o[M],
                X, h;
            if (R >= 0) {
                X = w.t[R];
                h = X.sK(w, Q, K)
            } else if (R > -1e3) {
                X = w.BY[-1 - R];
                h = [2]
            } else {
                b.push([null, null, null, null, null, null, null, w.SF[-1e3 - R].clone()]);
                continue
            }
            var e = [];
            if (h.indexOf(0) != -1) {
                var Z = {
                    Jw: [v.clone(X.buffer), X.rect.clone()]
                };
                e.push(Z);
                if (X.iD()) {
                    var P = X.Ca(w);
                    Z.alf = v.clone(P.buffer);
                    Z.a7X = P.rect.clone()
                }
            } else e.push(null);
            if (h.indexOf(1) != -1) e.push(X._f().clone());
            else e.push(null);
            if (h.indexOf(2) != -1) e.push({
                gM: X.add.vmsk.clone(),
                fQ: X.add.vstk ? JSON.parse(JSON.stringify(X.add.vstk)) : null,
                pE: X.add.vstk ? z.EJ.Yu(w, R) : null,
                Wn: X.add.vogk ? JSON.parse(JSON.stringify(X.add.vogk)) : null
            });
            else e.push(null);
            if (X.add.TySh && e[0]) {
                fI.k8(X.add.TySh);
                e.push(X.add.TySh.H.clone())
            } else e.push(null);
            if (X.add.SoLd && e[0]) e.push(JSON.parse(JSON.stringify(X.add.SoLd)));
            else e.push(null);
            if (h.indexOf(3) != -1) e.push(X.Ca(w).q.clone());
            else e.push(null);
            if (X.add.lmfx) e.push(JSON.stringify(X.add.lmfx));
            else e.push(null);
            b.push(e)
        }
        return b
    };
    z.Z.qG = function(w, o, Q) {
        for (var M = 0; M < o.length; M++) {
            var K = o[M],
                b = 0 <= K ? w.t[K] : -1e3 < K ? w.BY[-1 - K] : w.SF[-1e3 - K],
                R = Q[M];
            if (R[0]) {
                b.rect = R[0].Jw[1].clone();
                b.buffer = v.clone(R[0].Jw[0]);
                if (b.iD()) {
                    var X = b.Ca(w);
                    X.buffer = v.clone(R[0].alf);
                    X.rect = R[0].a7X.clone()
                }
            }
            if (R[1]) {
                b._f().channel = v.clone(R[1].channel);
                b._f().rect = R[1].rect.clone();
                b._f().eT = !0
            }
            if (R[2]) {
                b.add.vmsk = R[2].gM.clone();
                if (R[2].pE) z.EJ.ih(b, R[2].pE);
                if (R[2].fQ) b.add.vstk = JSON.parse(JSON.stringify(R[2].fQ));
                if (R[2].Wn) b.add.vogk = JSON.parse(JSON.stringify(R[2].Wn))
            }
            if (R[3]) {
                b.add.TySh.H = R[3].clone();
                fI.ne(b.add.TySh)
            }
            if (R[4]) {
                b.add.SoLd = JSON.parse(JSON.stringify(R[4]))
            }
            if (R[5]) {
                var h = b.Ca(w).q;
                h.channel = v.clone(R[5].channel);
                h.rect = R[5].rect.clone()
            }
            if (R[6]) {
                b.add.lmfx = JSON.parse(R[6])
            }
            if (R[7]) {
                b.channel = v.clone(R[7].channel);
                b.rect = R[7].rect.clone();
                b.eT = !0
            }
            if (0 <= K) {
                b.b6(w);
                b.C()
            }
        }
        w.C()
    };
    z.Z.Qz = function(w) {
        var o = w.clone(),
            Q = Math.atan2(-o.k, o.K),
            K = new dj;
        K.rotate(-Q);
        o.concat(K);
        return (Math.abs(o.K) + Math.abs(o.TX)) / 2
    };
    z.Z.H0 = function(w, o, Q, K, b, R, X, h, e, Z) {
        if (typeof R[0] == "number") {
            var P = [];
            for (var M = 0; M < Q.length; M++) P[M] = R;
            R = P
        }
        for (var M = 0; M < Q.length; M++) {
            var J = R[M],
                i = v.Q.oC(J),
                k = z.Z.Qz(i),
                $ = Q[M],
                n = 0 <= $ ? w.t[$] : -1e3 < $ ? w.BY[-1 - $] : w.SF[-1e3 - $],
                j = K[M];
            if (j[0] && n.add.lmfx && h) eg.dC(n.add.lmfx, k);
            if (j[0] && !j[3] && !j[4] && !j[5]) {
                var y = j[0].Jw;
                if (e) {
                    var V = e.clone(),
                        O = v.$(V.O() * 4);
                    v.c1(y[0], y[1], O, V);
                    y = [O, V]
                }
                var S = z.Z.tG(y, b, J, X, b == 0 ? n.buffer.buffer : null, null, null, Z);
                if (S) {
                    n.rect = S.rect;
                    n.buffer = S.buffer
                }
            }
            if (j[1]) z.Z.OC(w, j[1], n._f(), b, J, X);
            if (j[2]) {
                var G = X && !v.AD.WZ(X),
                    D = j[2].gM.clone(),
                    q = Q.length == 1 && D.u.length != 0,
                    T = Q.length == 1 && D.Ja.length > 1;
                if (T) q = !1;
                var L = q ? D.u : null,
                    N = T ? D.Ja : null;
                if (G) {
                    var F = v.AD.rh(X);
                    v.Q.apply(J, F);
                    v.P.a2X(D._, F, L, N)
                } else v.P.a5w(D._, J, L, N);
                if (n.add.vstk && h) {
                    n.add.vstk.strokeStyleLineWidth.v.val = j[2].fQ.strokeStyleLineWidth.v.val * k;
                    var I = j[2].pE;
                    if (I.o4 == 3) {
                        I = JSON.parse(JSON.stringify(I));
                        var s = I.pE.phase.v;
                        I.pE.Scl.v.val = Math.round(I.pE.Scl.v.val * k);
                        s.Hrzn.v = Math.round(s.Hrzn.v * k);
                        s.Vrtc.v = Math.round(s.Vrtc.v * k);
                        z.EJ.ih(n, I)
                    }
                }
                if (n.add.vogk) {
                    n.add.vogk = JSON.parse(JSON.stringify(j[2].Wn));
                    if (G || T) v.Wn.a2T(n.add.vogk);
                    else v.Wn.H(n.add.vogk, J, Q.length > 1 ? [] : D.u, h)
                }
                D.YF *= k;
                n.add.vmsk = D;
                if (n.add.vogk) v.Wn.wz(n.add.vogk, n.add.vmsk)
            }
            if (j[3]) {
                var u = j[3].clone();
                u.concat(i);
                n.add.TySh.H = u;
                fI.ne(n.add.TySh);
                var g = new gm(n.add.TySh.rr, o.md),
                    U = g1.Ez(g, n.add.TySh);
                n.rect = U.U;
                n.buffer = U.Sg
            }
            if (j[4]) {
                var r = n.add.SoLd,
                    x = z.Z.wf(j[4].nonAffineTransform);
                v.Q.apply(J, x);
                var C = v.w.C$(x);
                if (dG.oS(x)) {
                    if (X) {
                        var p = v.w.QT(v.AD.rh(j[4].warp.v)),
                            l = v.Q.RP(x, p),
                            c = v.w.QT(v.AD.rh(X));
                        x = [c.x, c.y, c.x + c.D, c.y, c.x + c.D, c.y + c.j, c.x, c.y + c.j];
                        v.Q.apply(l, x);
                        r.warp.v = X
                    }
                    var t = v.Q.RP(x),
                        H = x;
                    if (!v.Q.w4(t)) {
                        t[6] = t[7] = 0;
                        H = [0, 0, 1, 0, 1, 1, 0, 1];
                        v.Q.apply(t, H)
                    }
                    r.Trnf = z.Z.Tm(H);
                    r.nonAffineTransform = z.Z.Tm(x);
                    n.xL(w, b == 0)
                }
            }
            if (j[5]) z.Z.OC(w, j[5], n.Ca(w).q, b, J, X);
            if (j[7]) z.Z.OC(w, j[7], n, b, J, X);
            if (0 <= $) {
                if (b != 0) n.ei();
                n.b6(w);
                n.C()
            }
        }
        w.C()
    };
    z.Z.OU = function(w, o, Q, K, b, R) {
        if (Q == null) Q = !1;
        return z.Z.tG(w, Q ? 0 : 1, v.Q.k1(o), null, K, b, R, Q)
    };
    z.Z.tG = function(w, o, Q, K, b, R, X, h) {
        if (h == null) h = !1;
        if (h && X) throw "e";
        var e = {},
            i = 0,
            k = .3;
        if (K && !v.AD.WZ(K)) {
            var Z = v.AD.rh(K);
            v.Q.apply(Q, Z);
            e.rect = v.w.C$(Z);
            e.buffer = v.$(e.rect.O() * 4);
            v.sp.drawImage(Z, w[0], w[1].D, w[1].j, e.buffer, e.rect, o == 0);
            return e
        }
        v.st(w);
        var P = w[0],
            J = w[1],
            $ = J.O() * z.Z.Qz(v.Q.oC(Q));
        if (h && $ > 4e6) k = $ > 8e6 ? 2.2 : 1.2;
        while (i + 3 < w.length && w[i + 3].O() > 16 && v.Q.w4(Q) && z.Z.Qz(v.Q.oC(Q)) < k) {
            i += 2;
            var n = w[i],
                j = w[i + 1],
                y = J.D / j.D,
                V = J.j / j.j;
            Q = v.Q.A0(Q, [1, 0, J.x, 0, 1, J.y, 0, 0]);
            Q = v.Q.A0(Q, [y, 0, 0, 0, V, 0, 0, 0]);
            Q = v.Q.A0(Q, [1, 0, -J.x, 0, 1, -J.y, 0, 0]);
            J = j;
            P = n
        }
        var O = v.Q.A0(Q, v.Q.k1(new dj(J.D, 0, 0, J.j, J.x, J.y))),
            S = [0, 0, 1, 0, 1, 1, 0, 1];
        v.Q.apply(O, S);
        e.rect = v.w.C$(S);
        if (X) e.rect = e.rect.z2(X);
        if (h) {
            while ((e.rect.D & 3) != 0) e.rect.D++;
            while ((e.rect.j & 3) != 0) e.rect.j++
        }
        if (!dG.oS(S) || e.rect.D > 1e5 || e.rect.j > 1e5 || e.rect.O() > 3e4 * 3e4) return null;
        var G = e.rect.O() * 4;
        if (b && b.byteLength >= G && G >= b.byteLength >> 2) {
            e.buffer = new Uint8Array(b)
        } else {
            e.buffer = v.$(G)
        }
        v.Q.drawImage(O, P, J.D, J.j, e.buffer, e.rect, o == 0, R, h);
        if (o == 2 && e.buffer) {
            var D = e.rect.D,
                q = e.rect.j,
                T;
            T = [0, -1, 0, -1, 16, -1, 0, -1, 0];
            T = v.xt.I0(T);
            var L = e.buffer.slice(0);
            v.xt.iH(L, e.buffer, D, q, T, 255, !1, !0)
        }
        if (e.buffer) return e
    };
    z.Z.OC = function(w, o, Q, K, b, R) {
        if (o.color == 255) v.MF(o.channel);
        var X = o.rect,
            h = v.$(X.O() * 4);
        v.qh(o.channel, h, 3);
        var e = z.Z.tG([h, X], K, b, R);
        if (e) {
            Q.rect = e.rect;
            Q.channel = v.$(e.rect.O());
            v.KU(e.buffer, Q.channel, 3);
            Q.eT = !0
        }
        if (o.color == 255) {
            v.MF(o.channel);
            if (e) v.MF(Q.channel)
        }
    };
    z.Z.wf = function(w) {
        var o = [],
            Q = w.v.length;
        for (var M = 0; M < Q; M++) o.push(w.v[M].v);
        return o
    };
    z.Z.Tm = function(w) {
        var o = {
                t: "VlLs",
                v: []
            },
            Q = w.length;
        for (var M = 0; M < Q; M++) o.v.push({
            t: "doub",
            v: w[M]
        });
        return o
    };
    z.Z.prototype.acj = function() {
        var w = v.w.QT(v.AD.rh(this.kf.yq())),
            o = v.Q.RP(this.gw.CP(), this.kK),
            Q = [w.x, w.y, w.x + w.D, w.y, w.x + w.D, w.y + w.j, w.x, w.y + w.j];
        v.Q.apply(o, Q);
        this.gw.jh(Q);
        this.kK = w
    };
    z.Z.prototype.fT = function(w, o, Q, K) {
        var b = v.Q.RP(this.gw.CP(), this.kK);
        b = v.Q.A0(b, v.Q.MF(this.vq));
        var R = this.kf ? this.kf.yq() : null;
        if (this.Qn == 0) {
            var X = this.b3 = v.Q.oC(b);
            if (this.id == z.Vz) {
                var h = this.CI[0][0],
                    e = h.Jw,
                    Z = e[1],
                    P = ~~(Z.D * Math.max(0, X.K)),
                    J = ~~(Z.j * Math.max(0, X.TX)),
                    i = new B(Math.round(X.K * Z.x + X.xy), Math.round(X.TX * Z.y + X.r6), P, J),
                    k = v.BF.H(this.S6, i),
                    $ = w.t[this.t[0]];
                $.buffer = k;
                $.rect = i;
                $.C();
                w.C()
            } else z.Z.H0(w, o, this.t, this.CI, Q, b, R, null, null, K)
        } else if (this.Qn == 1) {
            var n = w.t[this.t[0]],
                Z = this.WG.U;
            if (n.lY <= 0) {
                var j = this.WG.Hb,
                    y = this.Ab;
                if (R && !v.AD.WZ(R) && !y.rect.Lb(Z)) {
                    var k = v.$(y.rect.O() * 4);
                    v.c1(j, Z, k, y.rect);
                    j = k;
                    Z = y.rect
                }
                var V = z.Z.tG([j, Z], Q, b, R);
                if (V) {
                    n.Xa.DL = V.buffer;
                    n.Xa.p1 = V.rect;
                    var O = v.$(V.rect.O());
                    v.KU(n.Xa.DL, O, 3);
                    w.o = {
                        channel: O,
                        rect: n.Xa.p1.clone()
                    }
                }
            } else {
                var S = v.$(Z.O() * 4);
                v.qh(this.WG.Hb, S, 3);
                var V = z.Z.tG([S, Z], Q, b, R);
                if (V) {
                    n.Xa.DL = v.$(V.rect.O());
                    v.KU(V.buffer, n.Xa.DL, 3);
                    n.Xa.p1 = V.rect
                }
                this.Q_(w, Q, b, R)
            }
            n.k3(w, 0, 0, w.o);
            if (Q != 0) {
                n.ei();
                v.ei(w.o)
            }
            w.Yr = !0;
            w.C()
        } else if (this.Qn == 2) this.Q_(w, Q, b, R)
    };
    z.Z.prototype.Q_ = function(w, o, Q, K) {
        var b = this.Ab.rect,
            R = v.$(b.O() * 4);
        v.qh(this.Ab.channel, R, 3);
        var X = z.Z.tG([R, b], o, Q, K),
            h = v.$(X.rect.O());
        v.KU(X.buffer, h, 3);
        w.o = {
            channel: h,
            rect: X.rect
        };
        w.Yr = !0
    };
    z.Z.prototype.disable = function(w, o, Q, K) {
        if (this.gw) this.uf(w, o, null, !0)
    };
    z.Nr = function() {
        z.Z.call(this, [10, 16], z.Go, "tools/transform")
    };
    z.Nr.prototype = new z.Z;
    z.VY = function() {
        z.Z.call(this, [7, 10], z.CK, "tools/transform")
    };
    z.VY.prototype = new z.Z;
    z.N9 = function() {
        z.Z.call(this, [10, 48], z.Vz, "tools/transform")
    };
    z.N9.prototype = new z.Z;
    z.ok = function(w, o, Q) {
        z.Vb.call(this, [10, 46], z.Ce, "tools/transform");
        this.f6 = [1, 1, 2, !0];
        this.AP = "rigidTransform";
        this.pf = null;
        this.aen = null;
        this.wO = null;
        this.cS = null;
        this.oO = null;
        this.Os = null;
        this.bJ = []
    };
    z.ok.prototype = new z.Vb;
    z.ok.prototype.AO = function() {
        return !0
    };
    z.ok.DN = function(w) {
        if (w == null) return !1;
        if (w.u.length != 1) return !1;
        var o = w.t[w.u[0]];
        return o.add.SoLd || w.yD(!1)
    };
    z.ok.prototype.Td = function(w, o) {
        return z.ok.DN(w)
    };
    z.ok.prototype.enable = function(w, o, Q, K, b, R, X) {
        this.aen = R.Xo;
        var h = R.Xo,
            e, n = null;
        if (h) {
            var Z = w.t[h.p];
            if (Z.add.SoLd.filterFX != null) {
                var P = Z.add.SoLd.filterFX.v.filterFXList.v;
                if (P[h.index]) e = JSON.parse(JSON.stringify(P[h.index].v.Fltr.v))
            }
        }
        var J = e == null,
            Z = w.t[w.u[0]],
            i = Z.buffer,
            k = Z.rect,
            $ = Z.add.SoLd;
        if ($) {
            var j = $.nonAffineTransform.v;
            n = [];
            for (var M = 0; M < 4; M++) n.push(j[M * 2].v, j[M * 2 + 1].v);
            if (J) this.as("edit", o);
            var y = Z.Ca(w);
            i = y.buffer;
            k = y.rect
        }
        this.pf = {
            buffer: i.slice(0),
            rect: k.clone(),
            a8z: n
        };
        if (J) e = z.ok.Kc(this.pf, this.f6);
        this.wO = e;
        this.cS = z.ok.zx(this.wO, this.f6);
        this.Fn();
        this.xg(w);
        if (J) this.KM(o);
        var V = new Y(_.E.N, !0);
        V.data = {
            e: _.S.X3,
            f: this.id,
            pO: this.f6
        };
        o.A(V);
        V.data = {
            e: _.S.Gi,
            hr: "default"
        };
        o.A(V)
    };
    z.ok.prototype.disable = function(w, o, Q, K) {
        if (this.cS) this.uf(w, o, !0)
    };
    z.ok.prototype.Fn = function(w) {
        var o = this.cS;
        this.bJ = [];
        for (var M = 0; M < o.length; M++) {
            var Q = o[M];
            for (var K = 0; K < Q.u.length; K++) this.bJ.push([M, Q.u[M]]);
            Q.L7 = v.v4.tp(Q);
            if (w) v.v4.vs(Q)
        }
    };
    z.ok.prototype.wx = function(w, o, Q, K) {
        if (w.qv == "commit") this.uf(Q, o, !0);
        else if (w.qv == "cancel") this.Cr(Q, o, !0);
        else if (w.qv == "prm") {
            var b = !1;
            for (var M = 0; M < 3; M++)
                if (this.f6[M] != w.pO[M]) b = !0;
            this.f6 = w.pO;
            if (b) {
                this.wO = z.ok.Kc(this.pf, this.f6, this.wO);
                this.cS = z.ok.zx(this.wO, this.f6);
                this.Fn(!0);
                this.KM(o)
            }
            this.xg(Q)
        } else if (w.qv == "moveDepth") {
            var R = this.cS;
            for (var X = 0; X < R.length; X++) {
                var h = R[X];
                for (var M = 0; M < h.u.length; M++) {
                    var e = h.u[M];
                    h.CQ[e] += w.aeY ? 1 : -1
                }
            }
            this.KM(o)
        }
    };
    z.ok.prototype.jy = function(w, o) {
        return w == E.U_ || w == E.OW
    };
    z.ok.prototype.Yq = function(w, o, Q, K) {
        var b = K.Tg();
        if (K.i(E.$g)) this.uf(w, o, !0);
        else if (K.i(E.EI)) this.Cr(w, o, !0);
        else if (K.i(E.U_) || K.i(E.OW)) {
            var R = this.cS;
            for (var X = 0; X < R.length; X++) {
                var h = R[X];
                h.u.sort(function(P, J) {
                    return J - P
                });
                for (var M = 0; M < h.u.length; M++) {
                    var e = h.u[M],
                        Z = e * 2;
                    h.CQ.splice(e, 1);
                    h.ZC.splice(e, 1);
                    h.W8.splice(e, 1);
                    h.Xf.splice(e, 1);
                    h.PG.splice(Z, 2);
                    h.$U.splice(Z, 2)
                }
                h.u = [];
                if (h.Xf.length == 0) {
                    h.BX = h.e1.slice(0);
                    h.CS = h.e1.slice(0)
                }
            }
            this.Fn(!0);
            this.KM(o);
            this.xg(w)
        } else if (b.x != 0 || b.y != 0) {
            this.Wm(w, b.x, b.y, o);
            this.OH = null
        }
    };
    z.ok.prototype.uf = function(w, o, Q) {
        this.as("confirm", o);
        this.escape(w, o, Q)
    };
    z.ok.prototype.Cr = function(w, o, Q) {
        this.as("cancel", o);
        this.escape(w, o, Q)
    };
    z.ok.prototype.escape = function(w, o, Q) {
        w.r.Sb = null;
        w.r.Yp = [];
        w.n9 = !0;
        this.cS = null;
        var K = new Y(_.E.N, !0);
        K.data = {
            e: _.S.sh
        };
        if (Q) o.A(K)
    };
    z.ok.prototype.Br = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y),
            X = R.x,
            h = R.y,
            e = this.cS,
            Z = null,
            P = [0, 2, 4, 1.2, 1.2, 1.2],
            J = -1,
            i = _.J() * 5 / w.m.I;
        for (var M = 0; M < e.length; M++) {
            var k = e[M],
                $ = v.w.bX(k.$U, X, h, i);
            if ($ != -1) Z = [M, $];
            if (J == -1 && v.v4.P0.a7p(k.CS, k.da, X, h)) J = M
        }
        if (Z == null && J != -1) {
            var k = e[J];
            z.ok.x7(k, X, h, X, h, 0);
            Z = [J, k.Xf.length - 1];
            k.L7 = v.v4.tp(k)
        }
        this.oO = R;
        if (Z) {
            var n = e[Z[0]].u.indexOf(Z[1]) != -1;
            if (K.i(E.lK) && !n) {
                e[Z[0]].u.push(Z[1]);
                this.bJ.push(Z)
            } else if (!n) {
                e[Z[0]].u = [Z[1]];
                this.bJ = [Z]
            }
        }
        this.xg(w)
    };
    z.ok.x7 = function(w, o, Q, K, b, R) {
        var X = v.w.bX(w.CS, o, Q);
        w.Xf.push(X);
        w.$U.push(K, b);
        w.PG.push(w.CS[X * 2] - o, w.CS[X * 2 + 1] - Q);
        w.W8.push(0);
        w.ZC.push(!1);
        w.CQ.push(R)
    };
    z.ok.prototype.$z = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y),
            X = this.oO;
        if (X) this.Wm(w, R.x - X.x, R.y - X.y, o)
    };
    z.ok.prototype.Wm = function(w, o, Q, K) {
        var b = {},
            R = this.bJ,
            X = this.cS;
        if (this.OH == null) {
            this.OH = [];
            for (var M = 0; M < X.length; M++) this.OH.push(X[M].$U.slice(0))
        }
        for (var M = 0; M < R.length; M++) {
            var h = this.bJ[M],
                e = h[0],
                Z = X[h[0]],
                P = h[1] * 2;
            Z.$U[P + 0] = this.OH[e][P + 0] + o;
            Z.$U[P + 1] = this.OH[e][P + 1] + Q;
            b[e] = e
        }
        for (var e in b) v.v4.vs(this.cS[b[e]]);
        this.xg(w);
        this.KM(K)
    };
    z.ok.prototype.as = function(w, o) {
        var Q = new Y(_.E.z, !0);
        Q.f = z.uB;
        Q.data = {
            e: w,
            Xo: this.aen,
            AP: this.AP,
            O_: this.wO
        };
        o.A(Q)
    };
    z.ok.prototype.IN = function(w, o, Q, K, b) {
        this.oO = null;
        this.OH = null
    };
    z.ok.prototype.KM = function(w) {
        z.ok.EC(this.cS, this.f6, this.wO);
        this.as("edit", w)
    };
    z.ok.prototype.xg = function(w) {
        var o = this.cS,
            Q = this.wO;
        w.r.Sb = {
            X: [],
            Y: []
        };
        w.r.Yp = [];
        w.r.MZ = [];
        for (var M = 0; M < o.length; M++) {
            var K = o[M];
            for (var b = 0; b < K.u.length; b++) w.r.MZ.push((w.r.Yp.length >>> 1) + K.u[b]);
            w.r.Yp = w.r.Yp.concat(K.$U);
            if (this.f6[3]) v.w.concat(w.r.Sb, v.w.adT(K.CS, K.da))
        }
        w.n9 = !0
    };
    z.ok.Kc = function(w, o, Q) {
        var K = w.buffer,
            b = w.rect,
            R = w.a8z,
            X = bf._R("rigidTransform");
        if (R)
            for (var M = 0; M < 4; M++) {
                X["PuX" + M].v = R[M * 2];
                X["PuY" + M].v = R[M * 2 + 1]
            }
        var h = X.puppetShapeList.v,
            e = v.v4.a7R(K, b.D, b.j, o[1], o[2]),
            Z = [];
        for (var P = 0; P < e.length; P++) {
            var J = {
                classID: "puppetShape",
                rigidType: {
                    t: "bool",
                    v: !0
                },
                VrsM: {
                    t: "long",
                    v: 1
                },
                VrsN: {
                    t: "long",
                    v: 0
                },
                originalVertexArray: {
                    t: "tdta",
                    v: []
                },
                deformedVertexArray: {
                    t: "tdta",
                    v: []
                },
                indexArray: {
                    t: "tdta",
                    v: []
                },
                pinOffsets: {
                    t: "VlLs",
                    v: []
                },
                posFinalPins: {
                    t: "VlLs",
                    v: []
                },
                pinVertexIndices: {
                    t: "VlLs",
                    v: []
                },
                PinP: {
                    t: "VlLs",
                    v: []
                },
                PnRt: {
                    t: "VlLs",
                    v: []
                },
                PnOv: {
                    t: "VlLs",
                    v: []
                },
                PnDp: {
                    t: "VlLs",
                    v: []
                },
                meshQuality: {
                    t: "long",
                    v: 2
                },
                meshExpansion: {
                    t: "long",
                    v: 2
                },
                meshRigidity: {
                    t: "long",
                    v: 2
                },
                imageResolution: {
                    t: "doub",
                    v: 72
                },
                selectedPin: {
                    t: "VlLs",
                    v: []
                }
            };
            J.meshBoundaryPath = {
                t: "Objc",
                v: {
                    classID: "pathClass",
                    pathComponents: {
                        t: "VlLs",
                        v: [{
                            t: "Objc",
                            v: {
                                classID: "PaCm",
                                shapeOperation: {
                                    t: "enum",
                                    v: {
                                        shapeOperation: "xor"
                                    }
                                },
                                SbpL: {
                                    t: "VlLs",
                                    v: [{
                                        t: "Objc",
                                        v: {
                                            classID: "Sbpl",
                                            Clsp: {
                                                t: "bool",
                                                v: !0
                                            },
                                            Pts: {
                                                t: "VlLs",
                                                v: []
                                            }
                                        }
                                    }]
                                }
                            }
                        }]
                    }
                }
            };
            var i = e[P];
            h.push({
                t: "Objc",
                v: J
            });
            var k = i.e1.slice(0);
            v.w.H(k, new dj(1, 0, 0, 1, b.x, b.y), k);
            var $ = i.da;
            for (var M = 0; M < $.length; M += 3) {
                var n = $[M + 1];
                $[M + 1] = $[M + 2];
                $[M + 2] = n
            }
            Z.push({
                da: $,
                e1: k,
                BX: k,
                CS: k,
                Xf: [],
                PG: [],
                $U: [],
                L7: null,
                u: [],
                W8: [],
                ZC: [],
                CQ: []
            })
        }
        if (Q) {
            var j = z.ok.zx(Q, []),
                y = Z[0];
            for (var M = 0; M < j.length; M++) {
                var V = j[M];
                for (var O = 0; O < V.u.length; O++) y.u.push((y.$U.length >>> 1) + V.u[O]);
                for (var O = 0; O < V.Xf.length; O++) {
                    var S = V.Xf[O] * 2,
                        G = V.e1[S] - V.PG[O * 2],
                        D = V.e1[S + 1] - V.PG[O * 2 + 1];
                    z.ok.x7(y, G, D, V.$U[O * 2], V.$U[O * 2 + 1], V.CQ[O])
                }
            }
        }
        z.ok.EC(Z, o, X);
        return X
    };
    z.ok.zx = function(w, o) {
        function Q(D) {
            var q = [];
            for (var M = 0; M < D.length; M++) q.push(D[M].v);
            return q
        }
        var K = w.puppetShapeList.v,
            b = [];
        for (var R = 0; R < K.length; R++) {
            var X = K[R].v;
            o[0] = X.meshRigidity.v - 1;
            o[1] = X.meshQuality.v - 1;
            o[2] = X.meshExpansion.v;
            var h = X.pinVertexIndices.v.length,
                e = X.meshBoundaryPath.v.pathComponents.v[0].v.SbpL.v[0].v.Pts;
            e.v = [];
            var Z = new Uint32Array(new Uint8Array(X.indexArray.v).buffer),
                P = new Float32Array(new Uint8Array(X.originalVertexArray.v).buffer),
                J = new Float32Array(new Uint8Array(X.deformedVertexArray.v).buffer),
                i = [],
                k = [],
                $ = [];
            for (var M = 0; M < Z.length; M++) i.push(Z[M]);
            for (var M = 0; M < P.length; M++) {
                k.push(P[M]);
                $.push(J[M])
            }
            var n = Q(X.pinVertexIndices.v),
                j = Q(X.pinOffsets.v),
                y = Q(X.posFinalPins.v),
                V = Q(X.PnRt.v),
                O = Q(X.PnOv.v),
                S = Q(X.PnDp.v),
                G = Q(X.selectedPin.v);
            b.push({
                da: i,
                e1: k,
                BX: $.slice(0),
                CS: $,
                Xf: n,
                PG: j,
                $U: y,
                L7: null,
                W8: V,
                ZC: O,
                CQ: S,
                u: G
            })
        }
        return b
    };
    z.ok.EC = function(w, o, Q) {
        function K(i, k) {
            var $ = [];
            for (var M = 0; M < i.length; M++) $.push({
                t: k,
                v: i[M]
            });
            return $
        }

        function b(i, k, $) {
            var n = new($ ? Uint32Array : Float32Array)(i),
                j = new Uint8Array(n.buffer);
            for (var M = 0; M < j.length; M++) k[M] = j[M]
        }
        var R = Q.puppetShapeList.v;
        for (var X = 0; X < R.length; X++) {
            var h = w[X],
                e = R[X].v;
            e.meshRigidity.v = o[0] + 1;
            e.meshQuality.v = o[1] + 1;
            e.meshExpansion.v = o[2];
            b(h.da, e.indexArray.v, !0);
            b(h.e1, e.originalVertexArray.v);
            b(h.CS, e.deformedVertexArray.v);
            var Z = [];
            for (var M = 0; M < h.Xf.length; M++) {
                var P = h.Xf[M] * 2,
                    J = M * 2;
                Z[J] = h.e1[P] - h.PG[J];
                Z[J + 1] = h.e1[P + 1] - h.PG[J + 1]
            }
            e.PinP.v = K(Z, "doub");
            e.pinVertexIndices.v = K(h.Xf, "long");
            e.pinOffsets.v = K(h.PG, "doub");
            e.posFinalPins.v = K(h.$U, "doub");
            e.PnRt.v = K(h.W8, "long");
            e.PnOv.v = K(h.ZC, "bool");
            e.PnDp.v = K(h.CQ, "doub");
            e.selectedPin.v = K(h.u, "long")
        }
    };
    z.Ig = function(w, o, Q) {
        z.Vb.call(this, w ? w : [10, 40], o ? o : z.tD, Q ? Q : "tools/slice");
        this.V$ = null;
        this.hf = null;
        this.rH = null;
        this.ab9 = null;
        this.cl = null;
        this.Wj = null
    };
    z.Ig.prototype = new z.Vb;
    z.Ig.UO = function(w, o) {
        var Q = -1;
        for (var M = 0; M < w.length; M++) {
            var K = z.Ig.MS(w, M);
            if (K[0] <= o.x && o.x <= K[2] && K[1] <= o.y && o.y <= K[3]) {
                Q = M;
                break
            }
        }
        return Q
    };
    z.Ig.prototype.Sx = function(w, o, Q, K, b) {
        this.yc(Q);
        Q.sY[Q.mQ[0]].v = w;
        Q.n9 = !0;
        this.Js(Q)
    };
    z.Ig.prototype.enable = function(w, o, Q, K, b, R) {
        z.Vb.prototype.enable.call(this, w, o, Q, K, b, R);
        if (!Q.w1.sY) {
            var X = new Y(_.E.N, !0);
            X.data = {
                e: _.S.UA,
                pO: d5.wt
            };
            o.A(X)
        }
    };
    z.Ig.prototype.disable = function() {
        this.V$ = null;
        this.hf = null
    };
    z.Ig.prototype.ml = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y),
            X = z.Ig.UO(w.sY, R);
        if (X == -1) return;
        this.V$ = w;
        this.hf = o;
        w.mQ = [X];
        w.n9 = !0;
        if (this.Wj == null) {
            this.Wj = new ag([{
                name: [5, 4]
            }, {
                name: [8, 11, 1],
                G4: !0
            }]);
            this.Wj.s("select", this.Oc, this)
        }
        var h = this.Wj;
        h.parent = o;
        h.v();
        h.update(w, Q);
        var e = new Y(_.E.N, !0);
        e.data = {
            e: _.S.Gj,
            wh: h,
            x: b.qb + 2,
            y: b.Nh + 1
        };
        o.A(e)
    };
    z.Ig.prototype.Oc = function(w) {
        var o = this.Wj.ud()[0],
            Q = this.V$;
        if (o == 0) {
            this.yc(Q);
            Q.sY.splice(Q.mQ[0], 1);
            Q.mQ = [];
            Q.n9 = !0;
            this.Js(Q)
        }
        if (o == 1) {
            var K = new Y(_.E.N, !0);
            K.data = {
                e: _.S.QH,
                hX: "soptions",
                F: Q.sY[Q.mQ[0]].v
            };
            this.hf.A(K)
        }
    };
    z.Ig.prototype.Br = function(w, o, Q, K, b) {
        if (w == null) return;
        this.yc(w);
        var R = w.m.WD(b.x, b.y);
        R = z.uA.K$(w, R, Q, [!0, null, !1]);
        R.x = Math.round(R.x);
        R.y = Math.round(R.y);
        this.cl = R;
        w.sY.unshift(z.Ig.DO());
        w.mQ = [0];
        z.Ig.Gf(w.sY, 0, [R.x, R.y, R.x + 20, R.y + 20]);
        w.n9 = !0
    };
    z.Ig.prototype.$z = function(w, o, Q, K, b) {
        if (this.rH == null) return;
        var R = w.m.WD(b.x, b.y),
            X = this.cl;
        R = z.uA.K$(w, R, Q, [!0, null, !1]);
        R.x = Math.round(R.x);
        R.y = Math.round(R.y);
        var h = [X.x, X.y, R.x, R.y];
        z.Ig.Y5(h);
        z.Ig.Gf(w.sY, 0, h);
        w.n9 = !0
    };
    z.Ig.prototype.IN = function(w, o, Q, K, b) {
        this.Js(w);
        this.cl = null
    };
    z.Ig.prototype.yc = function(w) {
        this.rH = JSON.stringify(w.sY);
        this.ab9 = JSON.stringify(w.mQ)
    };
    z.Ig.prototype.Js = function(w) {
        var o = JSON.stringify(w.sY);
        if (o != this.rH) {
            var Q = new hl(this.name, this);
            Q.data = {
                WG: this.rH,
                Pn: o,
                agn: this.ab9,
                ajk: JSON.stringify(w.mQ)
            };
            w.be(Q)
        }
        this.rH = null
    };
    z.Ig.prototype.Di = function(w, o) {
        o.sY = JSON.parse(w.WG);
        o.mQ = JSON.parse(w.agn);
        o.n9 = !0
    };
    z.Ig.prototype.ju = function(w, o) {
        o.sY = JSON.parse(w.Pn);
        o.mQ = JSON.parse(w.ajk);
        o.n9 = !0
    };
    z.Ig.prototype.jy = function(w, o) {
        return o != null && o.mQ.length != 0 && (w == E.U_ || w == E.OW)
    };
    z.Ig.prototype.Yq = function(w, o, Q, K) {
        if (w == null) return;
        this.yc(w);
        var b = K.Tg();
        if (b.x != 0 || b.y != 0) z.Ig.go(w, b);
        if (K.i(E.U_) || K.i(E.OW)) {
            var R = w.sY.slice(0);
            for (var M = 0; M < w.mQ.length; M++) w.sY.splice(w.sY.indexOf(R[w.mQ[M]]), 1);
            w.mQ = []
        }
        this.Js(w)
    };
    z.Ig.prototype.wx = function(w, o, Q, K, b) {
        if (Q == null || Q.mQ.length == 0) return;
        this.yc(Q);
        var R = Q.sY,
            X = Q.mQ;
        X.sort(function(k, $) {
            return k - $
        });
        console.log(X);
        var h = R.slice(0),
            e = [],
            Z = [];
        for (var M = 0; M < X.length; M++) {
            var P = X[M],
                J = R[P];
            Z.push(J);
            h.splice(h.indexOf(J), 1)
        }
        var i = Math.max(0, Math.min(h.length, X[0] - w.dir));
        for (var M = 0; M < Z.length; M++) {
            h.splice(i + M, 0, Z[M]);
            e.push(i + M)
        }
        Q.sY = h;
        Q.mQ = e;
        this.Js(Q)
    };
    z.Ig.an2 = function(w, o, Q, K) {
        var b = new fB(-o.x, -o.y),
            R = o.D / Q.D,
            X = o.j / Q.j,
            h = [0, 0, o.D, o.j];
        for (var M = 0; M < w.length; M++) {
            var e = z.Ig.MS(w, M);
            if (K) {
                e[0] = Math.round(e[0] * R);
                e[1] = Math.round(e[1] * X);
                e[2] = Math.round(e[2] * R);
                e[3] = Math.round(e[3] * X)
            } else {
                z.Ig.h5(e, b);
                z.Ig.adD(e, h)
            }
            if (e[0] >= e[2] || e[1] >= e[3]) {
                w.splice(M, 1);
                M--;
                continue
            }
            z.Ig.Gf(w, M, e)
        }
    };
    z.Ig.go = function(w, o) {
        var Q = w.sY;
        for (var M = 0; M < w.mQ.length; M++) {
            var K = z.Ig.MS(Q, w.mQ[M]);
            z.Ig.h5(K, o);
            z.Ig.Gf(Q, w.mQ[M], K)
        }
    };
    z.Ig.adD = function(w, o) {
        if (w[0] < o[0]) w[0] = o[0];
        if (w[1] < o[1]) w[1] = o[1];
        if (o[2] < w[2]) w[2] = o[2];
        if (o[3] < w[3]) w[3] = o[3]
    };
    z.Ig.h5 = function(w, o) {
        w[0] = Math.round(w[0] + o.x);
        w[2] = Math.round(w[2] + o.x);
        w[1] = Math.round(w[1] + o.y);
        w[3] = Math.round(w[3] + o.y)
    };
    z.Ig.Gf = function(w, M, o) {
        var Q = w[M].v.bounds.v;
        Q.Left.v = o[0];
        Q.Top.v = o[1];
        Q.Rght.v = o[2];
        Q.Btom.v = o[3]
    };
    z.Ig.MS = function(w, M) {
        var o = w[M].v.bounds.v;
        return [o.Left.v, o.Top.v, o.Rght.v, o.Btom.v, M]
    };
    z.Ig.Y5 = function(w) {
        if (w[2] < w[0]) {
            var o = w[0];
            w[0] = w[2];
            w[2] = o
        }
        if (w[2] == w[0]) w[2]++;
        if (w[3] < w[1]) {
            var o = w[1];
            w[1] = w[3];
            w[3] = o
        }
        if (w[3] == w[1]) w[3]++
    };
    z.Ig.QT = function(w, o) {
        var Q = 1e9,
            K = -1e9,
            b = 1e9,
            R = -1e9;
        for (var M = 0; M < o.length; M++) {
            var X = z.Ig.MS(w, o[M]);
            Q = Math.min(Q, X[0]);
            b = Math.min(b, X[1]);
            K = Math.max(K, X[2]);
            R = Math.max(R, X[3])
        }
        return [Q, b, K, R]
    };
    z.Ig.DO = function() {
        return {
            t: "Objc",
            v: {
                classID: "slice",
                sliceID: {
                    t: "long",
                    v: 0
                },
                groupID: {
                    t: "long",
                    v: 0
                },
                origin: {
                    t: "enum",
                    v: {
                        ESliceOrigin: "userGenerated"
                    }
                },
                Type: {
                    t: "enum",
                    v: {
                        ESliceType: "Img"
                    }
                },
                bounds: {
                    t: "Objc",
                    v: {
                        classID: "Rct1",
                        Top: {
                            t: "long",
                            v: 0
                        },
                        Left: {
                            t: "long",
                            v: 0
                        },
                        Btom: {
                            t: "long",
                            v: 0
                        },
                        Rght: {
                            t: "long",
                            v: 0
                        }
                    }
                },
                url: {
                    t: "TEXT",
                    v: ""
                },
                null: {
                    t: "TEXT",
                    v: ""
                },
                Msge: {
                    t: "TEXT",
                    v: ""
                },
                altTag: {
                    t: "TEXT",
                    v: ""
                },
                cellTextIsHTML: {
                    t: "bool",
                    v: !0
                },
                cellText: {
                    t: "TEXT",
                    v: ""
                },
                horzAlign: {
                    t: "enum",
                    v: {
                        ESliceHorzAlign: "default"
                    }
                },
                vertAlign: {
                    t: "enum",
                    v: {
                        ESliceVertAlign: "default"
                    }
                },
                bgColorType: {
                    t: "enum",
                    v: {
                        ESliceBGColorType: "None"
                    }
                },
                topOutset: {
                    t: "long",
                    v: 0
                },
                leftOutset: {
                    t: "long",
                    v: 0
                },
                bottomOutset: {
                    t: "long",
                    v: 0
                },
                rightOutset: {
                    t: "long",
                    v: 0
                }
            }
        }
    };
    z.yh = function() {
        z.Ig.call(this, [10, 41], z.b4, "tools/sselect");
        this.cl = null;
        this.Ed = null;
        this.qs = null;
        this.Os = null;
        this.p4 = !1
    };
    z.yh.prototype = new z.Ig;
    z.yh.prototype.Br = function(w, o, Q, K, b) {
        if (w == null) return;
        var R = w.m.WD(b.x, b.y),
            X = z.yh.bi(R, 4 / w.m.I, w.sY, w.mQ);
        X.pop();
        if (X.length != 0) {
            this.cl = R;
            this.qs = X;
            this.yc(w);
            return
        }
        var h = w.sY,
            e = z.Ig.UO(h, R);
        if (e == -1) w.mQ = [];
        else {
            var Z = w.mQ.indexOf(e);
            if (K.i(E.lK)) {
                if (Z == -1) w.mQ.push(e);
                else w.mQ.splice(Z, 1)
            } else {
                w.mQ.sort(function(n, j) {
                    return n - j
                });
                if (Z == -1) w.mQ = [e];
                this.cl = R;
                this.yc(w);
                this.Ed = z.Ig.QT(h, w.mQ);
                this.Os = [];
                for (var M = 0; M < w.mQ.length; M++) this.Os.push(z.Ig.MS(h, w.mQ[M]));
                if (K.i(E.O4)) {
                    var P = h.slice(0),
                        J = w.mQ,
                        i = [];
                    for (var M = 0; M < J.length; M++) {
                        var e = J[M],
                            k = P[e],
                            $ = h.indexOf(k);
                        i.push($);
                        h.splice($, 0, JSON.parse(JSON.stringify(k)))
                    }
                    w.mQ = i
                }
            }
        }
        w.n9 = !0
    };
    z.yh.prototype.$z = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y);
        if (this.cl == null) {
            var X = z.yh.bi(R, 4 / w.m.I, w.sY, w.mQ),
                h = X.pop(),
                e = X.length == 0 ? "default" : ["ew", "nwse", "ns", "nesw"][h] + "-resize",
                Z = new Y(_.E.N, !0);
            Z.data = {
                e: _.S.Gi,
                hr: e
            };
            o.A(Z);
            return
        }
        if (!this.p4 && R.Lb(this.cl)) return;
        this.p4 = !0;
        var P = w.sY,
            X = this.qs;
        if (X) {
            R = z.uA.K$(w, R, Q, [!0, null, !1]);
            var J = Math.round(R.x),
                i = Math.round(R.y);
            for (var M = 0; M < X.length; M += 2) {
                var k = z.Ig.MS(P, X[M]),
                    $ = X[M + 1];
                k[$] = ($ & 1) == 0 ? J : i;
                z.Ig.Y5(k);
                z.Ig.Gf(P, X[M], k)
            }
        } else {
            var n = R.ZO(this.cl),
                j = this.Ed.slice(0);
            z.Ig.h5(j, n);
            var y = new B(j[0], j[1], j[2] - j[0], j[3] - j[1]),
                V = z.uA.I9(w, y, Q, [!0, null, !1], !0);
            z.uA.cd(w, y, V);
            n.x += V[0];
            n.y += V[1];
            for (var M = 0; M < w.mQ.length; M++) z.Ig.Gf(P, w.mQ[M], this.Os[M]);
            z.Ig.go(w, n)
        }
        w.n9 = !0
    };
    z.yh.prototype.IN = function(w, o, Q, K, b) {
        if (this.cl == null) return;
        this.Js(w);
        w.r.es = null;
        w.n9 = !0;
        this.cl = null;
        this.qs = null;
        this.Os = null;
        this.p4 = !1
    };
    z.yh.bi = function(w, o, Q, K) {
        var b = w.x,
            R = w.y,
            X = [],
            h = -1,
            e = [];
        for (var M = 0; M < K.length; M++) {
            var Z = K[M],
                P = z.Ig.MS(Q, Z),
                J = P[0],
                i = P[1],
                k = P[2],
                $ = P[3];
            if (b < J - o || k + o < b || R < i - o || $ + o < R) continue;
            var n = [b < J + o, R < i + o, k - o < b, $ - o < R],
                j = -1;
            for (var y = 0; y < 4; y++) {
                if (n[y] && n[y + 1 & 3]) j = 1 + 2 * (y & 1);
                if (n[y]) X.push(Z, y)
            }
            if (j == -1) {
                if (n[0] || n[2]) j = 0;
                if (n[1] || n[3]) j = 2
            }
            if (j != -1) {
                h = j;
                e.push(Z)
            }
        }
        var V = X.length;
        for (var M = 0; M < V; M += 2) {
            var Z = X[M],
                O = X[M + 1],
                S = z.Ig.MS(Q, Z)[O];
            for (var y = 0; y < K.length; y++) {
                var G = K[y];
                if (e.indexOf(G) != -1) continue;
                var P = z.Ig.MS(Q, G);
                if (P[O & 1] == S) X.push(G, O & 1);
                if (P[2 + (O & 1)] == S) X.push(G, 2 + (O & 1))
            }
        }
        X.push(h);
        return X
    };
    z.Hc = function() {
        z.hz.call(this, [10, 44], z.agO, "tools/oselect");
        this.Uj = "crosshair";
        this.ani = 0
    };
    z.Hc.prototype = new z.hz;
    z.Hc.prototype.MM = function(w, o, Q, K) {
        if (Math.random() < 1 / (1 + this.ani)) {
            alert("The cross should be fully inside the object.", 3500);
            this.ani++
        }
    };
    z.Hc.prototype.Le = function(w, o, Q, K) {
        z.VE.Jj(w, z.hz.On, this.hf);
        if (!K.L8 || !this.S7) return;
        var b = this.vG(w, Q, !1),
            R = b.D,
            X = b.j,
            h = b.x,
            e = b.y,
            Z = b.x + R,
            P = b.y + X,
            J = h + R / 2,
            i = e + X / 2,
            k = z.Hc.VF;
        w.r.Sb = {
            X: [h, e, Z, e, Z, P, h, P, J - R * k, i, J + R * k, i, J, i - X * k, J, i + X * k],
            Y: "M L L L Z M L M L".split(" ")
        };
        w.n9 = !0
    };
    z.Hc.VF = .12;
    z.Hc.prototype.Fo = function(w, o, Q, K) {
        w.r.Sb = null;
        w.n9 = !0;
        this.finish(w, o, Q, K)
    };
    z.Hc.prototype.getSelection = function(w, o, Q, K) {
        if (this.ln.Lb(this.w$) || !this.S7) return null;
        var b = this.vG(w, Q, !1),
            R = w.t[w.u[0]];
        if (b.Kx() || !b.Ic(R.rect)) return null;
        return z.hz.aA("ObSl", b)
    };
    z.VE = function() {
        z.bA.call(this, [10, 37], z.BC, "tools/qselect");
        this.bt = "qselect"
    };
    z.VE.prototype = new z.bA;
    z.VE.prototype.Br = function(w, o, Q, K, b) {
        this.Db(w, Q, K, b, 1);
        if (this.$h == null) return;
        this.Ra(w)
    };
    z.VE.prototype.$z = function(w, o, Q, K, b) {
        this.Lf(w, o, Q);
        z.VE.Jj(w, z.hz.On, o);
        if (this.Mj) this.h0(w, Q, b);
        if (this.$h == null) return;
        if (!b.L8) return;
        var R = this.V4(w, Q, K, b);
        if (R != 1) this.Ra(w)
    };
    z.VE.Jj = function(w, o, Q) {
        if (w && o.key != z.VE.hW(w)) {
            o.key = z.VE.hW(w);
            var K = w.t[w.u[0]].rect.O(),
                R = "Image Analysis ...";
            if (K == 0) return;
            var b = K > 1e6,
                X = new Y(_.E.N, !0);
            X.data = {
                e: _.S.JI,
                Gx: R
            };
            if (b) Q.A(X);
            setTimeout(function() {
                var h = z.VE.IW(w);
                for (var e in h) o[e] = h[e];
                var X = new Y(_.E.N, !0);
                X.data = {
                    e: _.S.cP,
                    Gx: R
                };
                if (b) Q.A(X)
            }, 30)
        }
    };
    z.VE.hW = function(w) {
        var o = w.u[0],
            Q = w.t[o],
            K = Q.rect,
            b = K.D,
            R = K.j,
            X = b * R,
            h = Q.buffer;
        return [o, K.x, K.y, b, R, h[0], h[1], h[2], h[3]].join(",")
    };
    z.VE.IW = function(w) {
        var o = w.u[0],
            Q = w.t[o],
            K = Q.rect,
            b = K.D,
            R = K.j,
            X = b * R,
            h = Q.buffer,
            e = Date.now(),
            Z = v.$(X);
        Z.fill(128);
        var P = v.ic.op(h, b, R);
        console.log(Date.now() - e);
        var J = {
            key: z.VE.hW(w),
            S2: h,
            rect: K.clone(),
            i7: b,
            Y7: R,
            lQ: 12,
            a5p: !1,
            eQ: Z,
            jY: P,
            o: v.$(X),
            n1: null,
            od: null,
            SE: null
        };
        z.VE.Cq(J);
        return J
    };
    z.VE.Cq = function(w, o) {
        var Q = w.i7,
            K = w.Y7,
            b = 0,
            R = 0,
            X = Date.now(),
            h = w.n1 != null && v.ic.H$(w.jY.da, w.n1.da, w.n1.tf, w.eQ);
        b = Date.now() - X;
        X = Date.now();
        if (!h && !w.a5p) {
            w.n1 = v.ic.g8(w.jY, Q, K, w.eQ, w.lQ);
            if (!v.ic.H$(w.jY.da, w.n1.da, w.n1.tf, w.eQ)) {
                w.a5p = !0;
                console.log("conflict")
            }
            w.od = v.ic.anv(w.S2, Q, K, w.n1.da, w.n1.tf);
            w.SE = [w.od[0].slice(0), []];
            R = Date.now() - X;
            X = Date.now()
        }
        var X = Date.now();
        if (o) {
            w.SE[0].set(w.od[0]);
            var e = w.od[1],
                Z = w.SE[1];
            for (var P = 0; P < e.length; P++) Z[P] = e[P].slice(0);
            v.ic.amj(w.n1.da, Q, K, w.n1.tf, w.eQ, w.o, w.SE)
        }
    };

    function dG(w, o, Q, K, b, R, X, h) {
        this.OO = null;
        this.zi = w ? w.slice(0) : null;
        this.Ai = 4;
        this.w$ = null;
        this.bP = null;
        this.CC = null;
        this._H = -1;
        this.SH = null;
        this.a5_ = !1;
        this.abz = [];
        for (var M = 0; M < 8; M++) this.abz.push(ip.a62(0, PIMG.rotate, -.5, -.5, -45 - M * 45));
        this.al_ = o;
        this.amw = Q;
        this.adq = K;
        this.a6o = b;
        this.a9R = R;
        this.mK = X;
        this.aly = h
    }
    dG.prototype.aJ = function() {
        return this._H != -1
    };
    dG.prototype.CP = function() {
        return this.zi.slice(0)
    };
    dG.prototype.jh = function(w) {
        this.zi = w
    };
    dG.prototype.a8W = function() {
        return this.WV(this.zi)
    };
    dG.prototype.afz = function() {
        return this.Ai
    };
    dG.prototype.a4C = function(w) {
        this.Ai = w
    };
    dG.prototype.xf = function(w) {
        if (w == null) w = this.zi;
        if (this.Ai == 9) return this.w$;
        else return this.WV(w)[this.Ai]
    };
    dG.prototype.alS = function(w) {
        if (this.Ai == 9) this.w$ = w.clone();
        else {
            var o = this.xf(),
                Q = new dj(1, 0, 0, 1, w.x - o.x, w.y - o.y);
            v.w.H(this.zi, Q, this.zi)
        }
    };
    dG.prototype.Te = function(w, o, Q) {
        var K = this.ca(w, o),
            b;
        if (K == 9) return "default";
        if (K == 10) {
            if (Q) return null;
            return !this.al_ ? "move" : null
        }
        if (K == -1 || K == 4) return null;
        if (K == 11) {
            var R = this.xf().ZO(w);
            b = 90 - Math.atan2(R.y, R.x) * 180 / Math.PI;
            var X = Math.round(8 * (b / 360));
            X = (X + 8) % 8;
            return this.abz[X]
        } else {
            var h = this.aR(w, this.zi);
            b = [135, 90, 45, 180, 0, 0, 225, 270, 315][K];
            var e = v.Q.RP(this.zi);
            b += Math.atan2(-e[3], e[0]) * 180 / Math.PI;
            var Z = "ew nesw ns nwse ew nesw ns nwse".split(" "),
                X = Math.round(8 * (b / 360));
            X = (X + 8) % 8;
            return Z[X] + "-resize"
        }
    };
    dG.prototype.aR = function(w, o) {
        var Q = v.Q.MF(v.Q.RP(o)),
            K = new Float64Array(2);
        v.Q.XG(w.x, w.y, Q, K);
        return new fB(K[0], K[1])
    };
    dG.prototype.ao = function(w) {
        var o = this.aR(w, this.zi);
        return 0 <= o.x && o.x <= 1 && 0 <= o.y && o.y <= 1
    };
    dG.prototype.Br = function(w, o, Q, K, b, R) {
        this.a5_ = R;
        this.SH = K;
        var X = w.m.I,
            h;
        if (this.zi == null) K = z.uA.K$(w, K, o);
        this.CC = K.clone();
        if (this.zi == null) {
            this.CC.offset(1, 1);
            var e = b == null ? 1 : 1 / b;
            this.zi = [K.x, K.y, K.x + 1, K.y, K.x + 1, K.y + e, K.x, K.y + e];
            h = 8
        } else {
            h = this.ca(K, X);
            if (0 <= h && h <= 8) this.CC = this.WV(this.zi)[h]
        }
        this.OO = this.zi.slice(0);
        this._H = h;
        this.wb(w, o);
        this.bP = this.xf();
        return h != -1
    };
    dG.prototype.ca = function(w, o) {
        var Q = -1,
            K = this.WV(),
            b = 6 * _.J() / o;
        if (Q == -1)
            if (fB.mp(this.xf(), w) < b) Q = 9;
        if (Q == -1)
            for (var M = 0; M < K.length; M++)
                if (M != 4 && fB.mp(K[M], w) < b) Q = M;
        if (Q == -1 || this.mK == 4) {
            if (this.ao(w)) {
                if (this.al_) Q = 10
            } else {
                var R = this.aR(w, this.zi),
                    X = new B(0, 0, 1, 1);
                X.Nn(.2, .2);
                Q = X.V5(R) && this.mK != 3 ? 11 : 10
            }
        }
        return Q
    };
    dG.prototype.$z = function(w, o, Q, K) {
        if (this._H == -1) return;
        this.SH = K;
        var b = Q.i(E.lK),
            R = Q.i(E.O4),
            X = Q.i(E.HE),
            h = w.m.I,
            e = this.CC,
            Z = this._H,
            P = this.WV(),
            J = z.uA.K$(w, e, o),
            i = z.uA.K$(w, K, o),
            k, $;
        if (Z == 9) {
            var P = this.WV(),
                n = -1;
            for (var M = 0; M < P.length; M++)
                if (fB.mp(P[M], i) * h < 10) n = M;
            this.Ai = n == -1 ? 9 : n;
            this.w$ = b ? z.w5.Z8(J, i) : i.clone()
        } else if (Z == 10) {
            $ = v.w.QT(this.OO);
            var j = $.x,
                y = $.y;
            $.offset(K.x - e.x, K.y - e.y);
            if (this.nG()) {
                $.x = Math.round($.x);
                $.y = Math.round($.y)
            }
            k = z.uA.I9(w, $, o);
            var V = new dj(1, 0, 0, 1, $.x - j + k[0], $.y - y + k[1]);
            v.w.H(this.OO, V, this.zi)
        } else if (Z == 11) {
            var O = this.xf(this.OO),
                S = O.ZO(K),
                G = O.ZO(e),
                D = Math.atan2(S.y, S.x),
                q = Math.atan2(G.y, G.x),
                V = new dj(1, 0, 0, 1, -O.x, -O.y),
                T = Math.PI / 12;
            if (b) V.rotate(Math.round((q - D) / T) * T);
            else V.rotate(q - D);
            V.translate(O.x, O.y);
            v.w.H(this.OO, V, this.zi)
        } else {
            var L, N = this.OO,
                F = Z == 0 || Z == 2 || Z == 6 || Z == 8;
            if (this.mK == 1) {
                if (F) b = R = X = !0
            } else if (this.mK == 2 && F && this.a5_ != !0) X = !0;
            if (this.mK == 3) X = !1;
            if (this.adq && F && X) {
                var M = [0, 0, 2, 0, 0, 0, 6, 0, 4, 0][Z],
                    I = -1,
                    s = i.x,
                    u = i.y;
                if (b) {
                    var g = M + 6 & 7,
                        U = M + 10 & 7,
                        r = dG.pi(N[M], N[M + 1], N[g], N[g + 1], i.x, i.y),
                        x = dG.pi(N[M], N[M + 1], N[U], N[U + 1], i.x, i.y),
                        C = r[2] < x[2] ? r : x;
                    s = C[0];
                    u = C[1];
                    if (R) I = r[2] < x[2] ? g : U
                } else if (R) I = M + 4 & 7;
                L = N.slice(0);
                if (I != -1) {
                    var p = N[I],
                        l = N[I + 1],
                        c = (N[M] + p) / 2,
                        t = (N[M + 1] + l) / 2;
                    L[I] = c - (s - c);
                    L[I + 1] = t - (u - t)
                }
                L[M] = s;
                L[M + 1] = u
            } else if (F && R) {
                var O = this.bP,
                    H = O.x,
                    gl = O.y,
                    ie = J.x - H,
                    fk = J.y - gl,
                    h5 = 1,
                    cf = 1;
                if (Math.abs(ie) >= 1) h5 = (i.x - H) / ie;
                if (Math.abs(fk) >= 1) cf = (i.y - gl) / fk;
                if (b) h5 = cf = (h5 + cf) / 2;
                var f = new dj;
                f.translate(-H, -gl);
                f.scale(h5, cf);
                f.translate(H, gl);
                L = N.slice(0);
                v.w.H(L, f, L)
            } else {
                if (this.nG()) {
                    i.x = Math.round(i.x);
                    i.y = Math.round(i.y)
                }
                var aH = [0, 1, 2, 5, 8, 7, 6, 3],
                    gY = aH[(aH.indexOf(Z) + 4) % 8],
                    cC = [];
                for (var M = 0; M < 3; M++)
                    for (var I = 0; I < 3; I++) cC.push(new fB(I / 2, M / 2));
                var O = this.bP,
                    cY = this.aR(i, N),
                    gJ = this.aR(e, N),
                    bM = R && (this.Ai == 4 || this.Ai == 9) ? this.aR(O, N) : cC[gY],
                    cN = new dj,
                    eu = new dj,
                    h5 = (cY.x - bM.x) / (gJ.x - bM.x);
                if (h5 == 0) h5 = 1e-4;
                var cf = (cY.y - bM.y) / (gJ.y - bM.y);
                if (cf == 0) cf = 1e-4;
                if (this.a6o) {
                    h5 = Math.max(h5, 0);
                    cf = Math.max(cf, 0)
                }
                if (Z == 0 || Z == 2 || Z == 6 || Z == 8) {
                    if (b || this.a9R) cN.scale(h5, h5);
                    else cN.scale(h5, cf)
                }
                if (Z == 1 || Z == 3 || Z == 5 || Z == 7) {
                    var cU = this.a9R;
                    if (Z == 1 || Z == 7) cN.scale(cU ? cf : 1, cf);
                    else cN.scale(h5, cU ? h5 : 1);
                    if (this.amw && X) {
                        if (Z == 1 || Z == 7) eu.Lu = (cY.x - bM.x) / (cY.y - bM.y);
                        else eu.k = (cY.y - bM.y) / (cY.x - bM.x)
                    }
                }
                var f = new dj;
                f.translate(-bM.x, -bM.y);
                f.concat(cN);
                f.concat(eu);
                f.translate(bM.x, bM.y);
                L = [0, 0, 1, 0, 1, 1, 0, 1];
                v.w.H(L, f, L);
                var C = v.Q.RP(N);
                v.Q.apply(C, L)
            }
            if (dG.oS(L)) this.zi = L
        }
        this.wb(w, o);
        if (k) z.uA.cd(w, $, k)
    };
    dG.pi = function(w, o, Q, K, b, R) {
        var X = Q - w,
            h = K - o,
            e = b - w,
            Z = R - o,
            P = X * X + h * h,
            J = e * X + Z * h,
            i = J / P,
            k = w + i * X,
            $ = o + i * h,
            n = b - k,
            j = R - $;
        return [k, $, Math.sqrt(n * n + j * j)]
    };
    dG.prototype.nG = function() {
        var w = this.zi;
        return Math.abs(w[1] - w[3]) < 1e-6 && Math.abs(w[2] - w[4]) < 1e-6 || Math.abs(w[0] - w[2]) < 1e-6 && Math.abs(w[3] - w[5]) < 1e-6
    };
    dG.oS = function(w) {
        return v.w.pT(w) || v.w.pT([w[6], w[7], w[4], w[5], w[2], w[3], w[0], w[1]])
    };
    dG.prototype.IN = function(w, o, Q, K) {
        this._H = -1;
        this.SH = null;
        w.r.es = null;
        w.r.aG = [];
        w.n9 = !0
    };
    dG.prototype.Yq = function(w, o, Q) {
        var K = Q.Tg();
        if (K.x || K.y) {
            var b = new dj(1, 0, 0, 1, K.x, K.y);
            v.w.H(this.zi, b, this.zi);
            this.wb(w, o);
            return !0
        }
        return !1
    };
    dG.prototype.WV = function(w) {
        if (w == null) w = this.zi;
        var o = w[6] - w[0],
            Q = w[7] - w[1],
            K = w[4] - w[2],
            b = w[5] - w[3],
            R = [w[0], w[1], w[2], w[3], w[0] + o / 2, w[1] + Q / 2, w[2] + K / 2, w[3] + b / 2, w[6], w[7], w[4], w[5]],
            X = [];
        for (var M = 0; M < 3; M++) {
            var h = M * 4,
                e = R[h + 0],
                Z = R[h + 1],
                P = R[h + 2],
                J = R[h + 3];
            X.push(new fB(e, Z));
            X.push(new fB(e + (P - e) / 2, Z + (J - Z) / 2));
            X.push(new fB(P, J))
        }
        return X
    };
    dG.prototype.wb = function(w, o, Q) {
        if (Q == null) Q = !1;
        var K = this.WV(),
            b = K[0],
            R = K[2],
            X = K[6],
            h = K[8];
        w.r.Sb = {
            Y: [],
            X: []
        };
        w.r.Sb.Y.push("M", "L", "L", "L", "Z");
        w.r.Sb.X.push(b.x, b.y, R.x, R.y, h.x, h.y, X.x, X.y);
        if (this.aly) {
            var e = R.ZO(b),
                Z = X.ZO(b),
                P = h.ZO(R),
                J = h.ZO(X);
            for (var M = 0; M < 3; M++) {
                w.r.Sb.Y.push("M", "L", "M", "L");
                var i = (M + 1) * .25;
                w.r.Sb.X.push(b.x + e.x * i, b.y + e.y * i, X.x + J.x * i, X.y + J.y * i);
                w.r.Sb.X.push(b.x + Z.x * i, b.y + Z.y * i, R.x + P.x * i, R.y + P.y * i)
            }
        }
        w.m.$G = new B(0, 0, fB.mp(K[0], K[2]), fB.mp(K[0], K[6]));
        if (this._H != -1 && this._H < 9 && this.SH) {
            var k = w.m.BT(this.SH.x, this.SH.y);
            z.Vb.Tn(k.x + 10, k.y - 10, w.m.$G, w, o)
        }
        if (!Q) {
            w.r.Pi = [];
            for (var M = 0; M < K.length; M++)
                if (M != 4) w.r.Pi.push(K[M].x, K[M].y);
            var $ = this.xf();
            w.r.Pi.push($.x, $.y)
        }
        w.n9 = !0
    };
    dG.prototype.clear = function(w) {
        w.m.$G = null;
        w.r.es = null;
        w.r.Sb = null;
        w.r.Pi = [];
        w.n9 = !0
    };

    function ez(w, o) {
        this.AD = null;
        this._H = -1;
        this.Z2(w)
    }
    ez.prototype.yq = function() {
        return JSON.parse(JSON.stringify(this.AD))
    };
    ez.prototype.Z2 = function(w) {
        this.AD = JSON.parse(JSON.stringify(w))
    };
    ez.prototype.ao = function(w) {
        return !0
    };
    ez.prototype.Te = function(w, o) {
        var Q = this.ca(w, o);
        if (Q == -1) return "default";
        return "pointer"
    };
    ez.prototype.Br = function(w, o, Q, K) {
        this._H = this.ca(K, w.m.I);
        return this._H != -1
    };
    ez.prototype.ca = function(w, o) {
        var Q = -1,
            K = 20 * _.J(),
            b = this.tv();
        for (var M = 0; M < b.length; M++)
            if (fB.mp(b[M], w) * o < K) Q = M;
        return Q
    };
    ez.prototype.$z = function(w, o, Q, K) {
        if (this._H == -1) return;
        var b = w.m.I,
            R = this._H,
            X = v.AD.rh(this.AD);
        X[R * 2] = K.x;
        X[R * 2 + 1] = K.y;
        v.AD.d$(X, this.AD)
    };
    ez.prototype.IN = function(w, o, Q, K) {
        this._H = -1;
        w.n9 = !0
    };
    ez.prototype.Yq = function(w, o, Q) {
        var K = Q.Tg();
        if (K.x || K.y) {
            var b = new dj(1, 0, 0, 1, K.x, K.y);
            v.w.H(this.zi, b, this.zi);
            this.wb(w)
        }
    };
    ez.prototype.tv = function(w) {
        var o = v.AD.rh(this.AD),
            Q = [];
        for (var M = 0; M < o.length; M += 2) Q.push(new fB(o[M], o[M + 1]));
        return Q
    };
    ez.prototype.wb = function(w) {
        var o = this.tv();
        w.r.Sb = {
            Y: [],
            X: []
        };
        w.r.Sb.Y.push("M", "C", "C", "C", "C");
        var Q = [0, 1, 2, 3, 7, 11, 15, 14, 13, 12, 8, 4, 0];
        for (var M = 0; M < Q.length; M++) w.r.Sb.X.push(o[Q[M]].x, o[Q[M]].y);
        w.r.Sb.Y.push("M", "L", "L", "M", "L", "L", "M", "L", "L", "M", "L", "L");
        Q = [4, 0, 1, 2, 3, 7, 11, 15, 14, 13, 12, 8];
        for (var M = 0; M < Q.length; M++) w.r.Sb.X.push(o[Q[M]].x, o[Q[M]].y);
        w.r.Pi = [];
        for (var M = 0; M < o.length; M++) w.r.Pi.push(o[M].x, o[M].y);
        w.n9 = !0
    };
    ez.prototype.clear = function(w) {
        w.r.Sb = null;
        w.r.Pi = [];
        w.n9 = !0
    };
    var cr = {};
    cr.zF = function(w) {
        this.id = w;
        this.hf = null
    };
    cr.zF.prototype.Sx = function(w, o, Q, K, b) {};
    cr.zF.prototype.ju = function(w, o) {};
    cr.zF.prototype.Di = function(w, o) {};
    cr.zF.prototype.track = function(w) {
        var o = new Y(_.E.e9, !0);
        o.data = w;
        w.dw = !0;
        this.hf.A(o)
    };
    cr.History = function() {
        cr.zF.call(this, z.Rq);
        this.Tw = !0;
        this.a3n = 0
    };
    cr.History.prototype = new cr.zF;
    cr.History.prototype.Sx = function(w, o, Q, K) {
        Q.rn = !0;
        if (w.e == "h_itemchange") {
            if (w.index < Q.A3)
                for (var M = Q.A3; M > w.index; M--) this.NJ(Q);
            if (w.index > Q.A3)
                for (var M = Q.A3; M < w.index; M++) this.LQ(Q)
        }
        if (w.e == "h_stepfwd") this.LQ(Q);
        if (w.e == "h_stepbck") this.NJ(Q);
        if (w.e == "h_undoredo") {
            var b = this.Tw || this.a3n != Q.A3;
            if (b) {
                this.NJ(Q);
                b = !1
            } else {
                this.LQ(Q);
                b = !0
            }
            this.Tw = b;
            this.a3n = Q.A3
        } else this.Tw = !0
    };
    cr.History.prototype.NJ = function(w) {
        if (w.A3 == 0) return;
        var o = w.history[w.A3];
        o.f.Di(o.data, w);
        w.A3--
    };
    cr.History.prototype.LQ = function(w) {
        if (w.A3 == w.history.length - 1) return;
        var o = w.history[w.A3 + 1];
        o.f.ju(o.data, w);
        w.A3++
    };
    cr.Ud = function() {
        cr.zF.call(this, z.lz);
        this.hf = null
    };
    cr.Ud.prototype = new cr.zF;
    cr.Ud.prototype.Sx = function(w, o, Q, K, b) {
        this.hf = o;
        var R = w.e,
            X = w.p != null ? w.p : Q.u.length != 0 ? Q.u[0] : Q.t.length - 1,
            h = Q.t[X];
        Q.ot = !0;
        if (R == a.CU && Q.o == null) R = a.NK;
        if (R == a._3) {
            var e = new hl([6, 33], this),
                Z = h.xI() ? ["pass"].concat(hL.IM) : hL.IM,
                P = w.p != null ? [w.p] : Q.u,
                J = JSON.stringify(P),
                i = [];
            for (var M = 0; M < P.length; M++) i.push(Q.t[P[M]].TC);
            e.data = {
                e: R,
                $e: J,
                DB: i,
                tu: Z[w.tu]
            };
            Q.be(e);
            this.ju(e.data, Q);
            this.track(hX.hY("Md", {
                t: "enum",
                v: {
                    BlnM: hL.ja[w.tu]
                }
            }))
        }
        if (R == a.IL) {
            var e, k = Q.Z6(),
                P = w.p != null ? [w.p] : Q.u,
                J = JSON.stringify(P);
            if (k && k.data && k.data.e == R && k.data.$e == J) e = k;
            else {
                var $ = hX.hY("Opct", {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 0
                    }
                });
                this.track($);
                var i = [];
                for (var M = 0; M < P.length; M++) i.push(Q.t[P[M]].opacity);
                e = new hl([6, 32], this);
                e.data = {
                    e: R,
                    $e: J,
                    DB: i,
                    tu: w.tu,
                    k0: $.H8
                };
                Q.be(e)
            }
            e.data.tu = w.tu;
            e.data.k0.T.v.Opct.v.val = Math.round(w.tu * 100 / 255);
            this.ju(e.data, Q)
        }
        if (R == a.B5) {
            if (h.add.iOpa == null) h.add.iOpa = 255;
            var e, k = Q.Z6();
            if (k && k.data && k.data.e == R && k.data.p == X) e = k;
            else {
                e = new hl("Fill Opacity Change", this);
                e.data = {
                    e: R,
                    p: X,
                    DB: h.add.iOpa,
                    tu: w.tu
                };
                Q.be(e)
            }
            e.data.tu = w.tu;
            this.ju(e.data, Q)
        }
        if (R == a.fp) {
            var n = w.tu,
                j = w.p != null ? [w.p] : Q.u.slice(0),
                y = [],
                V = [],
                e;
            for (var O = 0; O < j.length; O++) {
                var S = Q.t[j[O]];
                if (S.add.lspf == null) S.add.lspf = 0;
                var i = S.add.lspf,
                    G = i;
                for (var M = 0; M < n[0].length; M++) {
                    var D = n[1][M],
                        q = 1 << D;
                    if ((G & q) == 0 && n[0][M]) G ^= q;
                    else if ((G & q) != 0 && !n[0][M]) G ^= q
                }
                y.push(i);
                V.push(G)
            }
            var k = Q.Z6(),
                P = JSON.stringify(j);
            if (k && k.data && k.data.e == R && JSON.stringify(k.data.$e) == P) {
                e = k;
                e.data.tu = V
            } else {
                var e = new hl([6, 57, 1], this);
                e.data = {
                    e: R,
                    $e: P,
                    DB: y,
                    tu: V
                };
                Q.be(e)
            }
            this.ju(e.data, Q)
        }
        if (R == a.sg) {
            var T = "----",
                L = w.qa,
                G = null;
            for (var M = 0; M < fE.Ky.bB.length; M++)
                if (h.add[fE.Ky.bB[M]]) T = fE.Ky.bB[M];
            var N = h.add[T];
            if (L == "TySh") G = fI.Uy(50, 50, b.$p);
            var e = new hl("Layer Type", this);
            e.data = {
                e: R,
                p: X,
                a8s: [T, N],
                qa: [L, G]
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.k7) {
            var j = [];
            if (K.i(E.O4)) {
                var F = Q.Z6(),
                    I = F ? F.data : null;
                if (F != null && F.f == this && I.e == a.k7 && I.$e.length != 1) {
                    var s = new Y(_.E.z);
                    s.f = z.Rq;
                    s.data = {
                        e: "h_stepbck"
                    };
                    o.A(s);
                    if (I.p == X) return
                }
                var u = Q.root.o8(X),
                    g = Q.Mu(null, X);
                while (u.parent != Q.root) {
                    g.push(u.parent.index);
                    u = u.parent
                }
                for (var M = 0; M < Q.t.length; M++) {
                    var U = Q.t[M],
                        r = U.HY(),
                        x = g.indexOf(M) != -1;
                    if (!x && r) j.push(M);
                    if (M == X && !r) j.push(M)
                }
            } else {
                j.push(X);
                var r = Q.t[X].HY(),
                    $ = {
                        hj: r ? "hide" : "show",
                        H8: {
                            classID: r ? "Hd" : "Shw",
                            null: {
                                t: "VlLs",
                                v: [hX.EX("Lyr", !0)]
                            }
                        }
                    };
                this.track($)
            }
            var e = new hl("Layer visibility", this, !0);
            e.data = {
                e: R,
                $e: j,
                p: X
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.Kp) {
            var $ = {
                    hj: "select",
                    H8: {
                        classID: "null",
                        MkVs: {
                            t: "bool",
                            v: !1
                        }
                    }
                },
                C, escape = !1;
            if (Q.m.dN.join("") != "111") {
                Q.m.dN = [1, 1, 1];
                Q.n9 = !0
            }
            if (K.i(E.HE) || w.ajP == 0) {
                var p = Q.u.indexOf(X);
                if (p == -1) Q.u.push(X);
                else if (Q.u.length > 1) Q.u.splice(p, 1);
                Q.u.sort(function(e, cj) {
                    return e - cj
                });
                $.H8.selectionModifier = {
                    t: "enum",
                    v: {
                        selectionModifierType: "addToSelection"
                    }
                };
                C = X
            } else if (K.i(E.lK) && !K.i(E.O4) && w.b$ > 0) {
                R = w.b$ == 1 ? a.FZ : w.b$ == 2 ? a.wr : a.qk;
                escape = !0
            } else if ((K.i(E.lK) || w.ajP == 1) && Q.u.length > 0) {
                var l = Math.min(X, Q.u[0]),
                    c = Math.max(X, Q.u[Q.u.length - 1]);
                Q.u = [];
                for (var M = l; M <= c; M++)
                    if (Q.t[M].add.lsct != bb.g4) Q.u.push(M);
                $.H8.selectionModifier = {
                    t: "enum",
                    v: {
                        selectionModifierType: "addToSelectionContinuous"
                    }
                };
                C = X
            } else {
                C = X;
                var U = Q.t[X];
                if (U && U.xI() && w.abI) U.add.lsct = bb.SI;
                else if (Q.u.length == 1 && Q.u[0] == X && w.b$ == U.lY) {
                    return
                }
                Q.u = [X];
                Q.xD()
            }
            if (C != null && C < Q.t.length) {
                $.H8.null = {
                    t: "obj ",
                    v: [{
                        t: "name",
                        v: {
                            classID: "Lyr",
                            val: Q.t[C].getName()
                        }
                    }]
                }, this.track($)
            }
            if (!escape) {
                if (Q.u.length == 1) {
                    var t = Q.u[0];
                    for (var M = 0; M < Q.t.length; M++) {
                        if (M == t) continue;
                        var S = Q.t[M];
                        S.lY = 0;
                        S.b0 = !1
                    }
                    var h = Q.t[t];
                    if (w.b$ == 2) {
                        h.b0 = !h.b0;
                        Q.A6 = []
                    } else if (h) {
                        h.lY = w.b$ <= 0 ? 0 : w.b$;
                        if (w.b$ == 1 || w.b$ == 3) {
                            var H = w.b$ == 3 ? h.Ca(Q).q : h._f();
                            H.He = !1
                        }
                    }
                } else
                    for (var M = 0; M < Q.t.length; M++) {
                        var S = Q.t[M];
                        S.lY = 0;
                        S.b0 = !1
                    }
                Q.Yd = null;
                Q.rn = !0
            }
        }
        if (R == a.FZ || R == a.qk) {
            var gl = R == a.FZ,
                H = gl ? h._f() : h.Ca(Q).q;
            if (H == null) return;
            var e = new hl(H.isEnabled ? gl ? [6, 15] : [6, 42] : gl ? [6, 14] : [6, 41], this);
            e.data = {
                e: R,
                p: X
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.wr) {
            var H = h.add.vmsk;
            if (H == null) return;
            var e = new hl(H.isEnabled ? [6, 17] : [6, 16], this);
            e.data = {
                e: R,
                p: X
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.QD) {
            if (h.add.lsct == bb.SI) h.add.lsct = bb.RN;
            else h.add.lsct = bb.SI;
            Q.rn = !0
        }
        if (R == a.nR) {
            if (!Q.dH(X)) return;
            var e = new hl(h.xx ? [6, 19] : [6, 18], this);
            e.data = {
                e: R,
                p: X
            };
            Q.be(e);
            if (w.tu == null || w.tu != h.xx) this.ju(e.data, Q);
            this.track({
                hj: "groupEvent",
                H8: {
                    classID: "GrpL",
                    null: {
                        t: "obj ",
                        v: [hX.EX("Lyr", !0)]
                    }
                }
            })
        }
        if (R == a.Ff) {
            if (h.q8()) h.a1 -= 32;
            else h.a1 += 32;
            Q.rn = !0
        }
        if (R == a.ZL || R == a.cV) {
            var e;
            if (R == a.ZL) e = new hl(h.add.lmfx.masterFXSwitch.v ? [6, 30] : [6, 29], this);
            if (R == a.cV) e = new hl(h.add.SoLd.filterFX.v.enab.v ? [6, 44] : [6, 43], this);
            e.data = {
                e: R,
                p: X
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.Ex || R == a.EQ) {
            var t = w.index,
                e;
            if (R == a.Ex) e = new hl(h.add.lmfx[b_.Ix[t[0]]].v[t[1]].v.enab.v ? [6, 30] : [6, 29], this);
            if (R == a.EQ) e = new hl(h.add.SoLd.filterFX.v.filterFXList.v[t].v.enab.v ? [6, 44] : [6, 43], this);
            e.data = {
                e: R,
                p: X,
                index: w.index
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.ls) {
            if (w.src == w.kP) return;
            var ie = Q.t[w.src],
                fk = Q.t[w.kP],
                h5 = ie.add.lmfx ? JSON.stringify(ie.add.lmfx) : "",
                cf = fk.add.lmfx ? JSON.stringify(fk.add.lmfx) : "";
            if (fk.add.lmfx == null) {
                fk.add.lmfx = JSON.parse(b_.default);
                for (var M = 0; M < b_.order.length; M++) fk.add.lmfx[b_.Ix[M]] = {
                    t: "VlLs",
                    v: []
                }
            }
            if (w.db == null) {
                fk.add.lmfx = JSON.parse(h5);
                if (!w.AK) delete ie.add.lmfx
            } else {
                var f = w.db[0],
                    aH = b_.Ix[f];
                if (b_.kY.indexOf(b_.order[f]) == -1) fk.add.lmfx[aH].v = [];
                fk.add.lmfx[aH].v.push(ie.add.lmfx[aH].v[w.db[1]]);
                if (!w.AK) ie.add.lmfx[aH].v.splice(w.db[1], 1)
            }
            var gY = ie.add.lmfx ? JSON.stringify(ie.add.lmfx) : "",
                cC = fk.add.lmfx ? JSON.stringify(fk.add.lmfx) : "";
            if (!fk.q8()) fk.a1 += 32;
            var e = new hl("Move Layer Styles", this);
            e.data = {
                e: R,
                afX: w.src,
                a2N: w.kP,
                a5J: h5,
                aiW: cf,
                adw: gY,
                afy: cC
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.tU) {
            var S = Q.t[w.src],
                cY = JSON.stringify(S.add.SoLd),
                gJ = JSON.parse(cY),
                bM = gJ.filterFX.v.filterFXList.v;
            bM.splice(w.db, 1);
            var e = new hl([6, 53], this);
            e.data = {
                e: a.iN,
                Pa: [{
                    zd: w.src,
                    vl: [cY, JSON.stringify(gJ)]
                }]
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.dh) {
            var ie = Q.t[w.src],
                fk = Q.t[w.kP],
                cN = [];
            if (ie != fk && fk.add.SoLd == null) {
                alert("Target layer is not a smart object!");
                return
            }
            if (ie == fk && !w.AK && (w.db == w.IC || w.db == -1)) return;
            var eu = ie.Ca(Q),
                cY = JSON.stringify(ie.add.SoLd),
                gJ = JSON.parse(cY),
                bM = gJ.filterFX.v.filterFXList.v;
            if (ie == fk) {
                bM.splice(w.IC, 0, bM[w.db]);
                if (!w.AK) bM.splice(w.db + (w.db < w.IC ? 0 : 1), 1);
                cN.push({
                    zd: w.src,
                    vl: [cY, JSON.stringify(gJ)]
                })
            } else if (w.db == -1) {
                var cU = gJ.filterFX;
                if (!w.AK) {
                    delete gJ.filterFX;
                    cN.push({
                        zd: w.src,
                        vl: [cY, JSON.stringify(gJ)],
                        LW: [eu, null]
                    })
                }
                var h7 = fk.iD() ? fk.Ca(Q) : null,
                    hn = fb.dO(eu),
                    gS = JSON.stringify(fk.add.SoLd),
                    aq = JSON.parse(gS);
                aq.placed.v = hn.id;
                aq.filterFX = cU;
                cN.push({
                    zd: w.kP,
                    vl: [gS, JSON.stringify(aq)],
                    LW: [h7, hn]
                })
            } else {
                var dU = bM[w.db];
                if (!w.AK) {
                    bM.splice(w.db, 1);
                    cN.push({
                        zd: w.src,
                        vl: [cY, JSON.stringify(gJ)]
                    })
                }
                var gS = JSON.stringify(fk.add.SoLd),
                    aq = JSON.parse(gS);
                if (aq.filterFX == null) aq.filterFX = bf.eh();
                var hO = aq.filterFX.v.filterFXList.v;
                hO.splice(w.IC, 0, dU);
                var ao = {
                    zd: w.kP,
                    vl: [gS, JSON.stringify(aq)]
                };
                if (!fk.iD()) {
                    var hn = fb.E3(fk.add.SoLd.placed.v);
                    ao.LW = [null, hn]
                }
                cN.push(ao)
            }
            var e = new hl([6, 52], this);
            e.data = {
                e: a.iN,
                Pa: cN
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.EU) {
            var H = h._f(),
                e = new hl(H.Qu ? [6, 26] : [6, 25], this);
            e.data = {
                e: R,
                p: X
            };
            Q.be(e);
            this.ju(e.data, Q);
            this.track({
                hj: "set",
                H8: {
                    classID: "setd",
                    null: {
                        t: "obj ",
                        v: [hX.EX("Lyr", !0)]
                    },
                    T: {
                        t: "Objc",
                        v: {
                            classID: "Lyr",
                            Usrs: {
                                t: "bool",
                                v: H.Qu
                            }
                        }
                    }
                }
            })
        }
        if (R == a.ZY) {
            var H = h.add.vmsk,
                e = new hl(H.Qu ? [6, 28] : [6, 27], this);
            e.data = {
                e: R,
                p: X
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.kd) {
            var hI = [],
                e;
            for (var M = 0; M < Q.u.length; M++) {
                var O = Q.u[M],
                    U = Q.t[O];
                if (U.add.vogk) hI.push(O, JSON.stringify(U.add.vogk))
            }
            for (var M = 0; M < Q.A6.length; M++) {
                var O = Q.A6[M],
                    U = Q.BY[O];
                if (U.add.vogk) hI.push(-1 - O, JSON.stringify(U.add.vogk))
            }
            v.Wn.aeA(Q, w.oX, w.a3q);
            var a$ = [];
            for (var M = 0; M < Q.u.length; M++) {
                var O = Q.u[M],
                    U = Q.t[O];
                if (U.add.vogk) a$.push(O, JSON.stringify(U.add.vogk))
            }
            for (var M = 0; M < Q.A6.length; M++) {
                var O = Q.A6[M],
                    U = Q.BY[O];
                if (U.add.vogk) a$.push(-1 - O, JSON.stringify(U.add.vogk))
            }
            var k = Q.Z6();
            if (k && k.data && k.data.e == R) {
                var hH = !0;
                for (var M = 0; M < hI.length; M += 2)
                    if (hI[M] != k.data.lC[M]) hH = !1;
                if (hH) {
                    e = k;
                    e.data.l_ = a$
                }
            }
            if (e == null) {
                var e = new hl([12, 91, 1], this);
                e.data = {
                    e: R,
                    lC: hI,
                    l_: a$
                };
                Q.be(e)
            }
            this.ju(e.data, Q)
        }
        if (R == a.aL) {
            var e, k = Q.Z6();
            if (k && k.data && k.data.e == R && k.data.p == X) {
                e = k;
                e.data.FF = JSON.stringify(w.FF)
            }
            if (e == null) {
                var e = new hl("Editing Artboard", this);
                e.data = {
                    e: R,
                    p: X,
                    aim: JSON.stringify(h.add.artb),
                    FF: JSON.stringify(w.FF)
                };
                Q.be(e)
            }
            this.ju(e.data, Q)
        }
        if (R == a.wq) {
            var a$ = Q.SF.slice(0),
                bq = Q.Od.slice(0),
                dq = Q.o,
                g9 = Q.o;
            if (w.D3 == "fromAction") {
                var cx = w.F.hj,
                    hp = w.F.H8;
                if (cx == "make" || cx == "duplicate") {
                    var b0 = a$.length,
                        hA = !1,
                        ft = !1;
                    if (Q.q2()) b0--;
                    var bh = new a.Zz;
                    bh.name = "Alpha " + (b0 + 1);
                    if (cx == "make") {
                        var c6 = hp.Nw.v;
                        bh.color = 255;
                        bq = [b0];
                        bh.He = !0;
                        bh.WE = c6.Opct.v;
                        if (c6.Nm) bh.name = c6.Nm.v;
                        if (c6.classID == "SCch") {
                            hA = !0;
                            g9 = null;
                            bh.BL = 1
                        }
                    } else {
                        var ba = hp.null.v[0].v;
                        if (ba.keyID == "fsel") hA = !0;
                        else {
                            var f7 = z.hz.zk(Q);
                            g9 = z.hz.Om(Q, f7);
                            bh.color = 0;
                            bh.rect = g9.rect;
                            bh.channel = g9.channel
                        }
                    }
                    if (hA) {
                        bh.color = 0;
                        if (Q.o) {
                            bh.rect = Q.o.rect.clone();
                            bh.channel = Q.o.channel.slice(0)
                        }
                        if (ft) {
                            bh.color = 255 - bh.color;
                            v.MF(bh.channel)
                        }
                    }
                    a$.splice(b0, 0, bh)
                } else if (cx == "delete") {
                    var g = Q.Od;
                    g.sort(function(e, cj) {
                        return cj - e
                    });
                    if (g.length == 0) return;
                    for (var M = 0; M < g.length; M++) a$.splice(g[M], 1);
                    bq = []
                } else if (cx == "hide") {
                    a$[bq[0]] = a$[bq[0]].clone();
                    a$[bq[0]].He = !1
                }
            }
            if (w.D3 == "rnm") {
                a$[w.qX] = a$[w.qX].clone();
                a$[w.qX].name = w.name
            }
            var e = new hl("Channel Edit", this);
            e.data = {
                e: R,
                lC: Q.SF.slice(0),
                Vm: Q.Od.slice(0),
                l_: a$,
                Qt: bq,
                Ab: dq,
                Dr: g9
            };
            this.ju(e.data, Q);
            Q.be(e)
        }
        if (R == a.dt) {
            var e = new hl(w.Wp, this);
            e.data = {
                e: a.dt,
                OG: Q.t.slice(0),
                pl: w.pl,
                mJ: Q.u.slice(0),
                ji: w.Dr
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.kG) {
            var an = Q.Mu(null, w.p),
                hG = 1e10;
            if (an.length == 0) return;
            if (Q.t.length == an.length) {
                alert("Project must have at least 1 layer");
                return
            }
            var b5 = [];
            for (var M = 0; M < Q.t.length; M++)
                if (an.indexOf(M) == -1) b5.push(Q.t[M]);
            for (var M = 0; M < an.length; M++) hG = Math.min(hG, an[M]);
            hG = Math.max(hG - 1, 0);
            while (b5[hG].name == "</Layer group>") hG++;
            this.track({
                hj: "delete",
                H8: {
                    classID: "Dlt",
                    null: hX.EX("Lyr", !0)
                }
            });
            var e = new hl([6, 31], this);
            e.data = {
                e: a.dt,
                OG: Q.t.slice(0),
                pl: b5,
                mJ: Q.u.slice(0),
                ji: [hG]
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.lZ) {
            var g = w.ad1 ? w.ad1 : Q.u,
                eE = 0,
                en = !1;
            if (g.length == 0) return;
            if (g.length == 1 && Q.t[g[0]].i1 == 0) {
                alert(b6.get([15, 7, 5]));
                return
            }
            var aV = [];
            for (var M = 0; M < Q.t.length; M++) {
                var dp = Q.t[M].i1;
                aV.push(dp);
                eE = Math.max(eE, dp)
            }
            var f1 = -1,
                de = -1;
            for (var M = 0; M < g.length; M++) {
                var dp = Q.t[g[M]].i1;
                if (dp == 0) en = !0;
                else if (f1 == -1 || f1 == dp) f1 = dp;
                else de = dp
            }
            if (!en)
                for (var M = 0; M < g.length; M++) Q.t[g[M]].i1 = 0;
            else if (f1 != -1 && de == -1)
                for (var M = 0; M < g.length; M++) Q.t[g[M]].i1 = f1;
            else
                for (var M = 0; M < g.length; M++) Q.t[g[M]].i1 = eE + 1;
            var dM = [];
            for (var M = 0; M < Q.t.length; M++) {
                var dp = Q.t[M].i1;
                if (dM[dp] == null) dM[dp] = 0;
                dM[dp]++
            }
            for (var M = 0; M < Q.t.length; M++) {
                var dp = Q.t[M].i1;
                if (dM[dp] == 1) Q.t[M].i1 = 0
            }
            var ih = aV;
            aV = [];
            for (var M = 0; M < Q.t.length; M++) {
                var dp = Q.t[M].i1;
                aV.push(dp);
                eE = Math.max(eE, dp)
            }
            var e = new hl(en ? [6, 54, 0] : [6, 54, 1], this);
            e.data = {
                e: a.lZ,
                adk: ih,
                a2_: aV
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.NK && (w.p != null || Q.u.length != 0) || R == a.J6) {
            var fa = Q.ff(R == a.NK ? w.p : X, null, w.a58);
            if (R == a.J6) {
                var S = fa[0],
                    cx = S.add.SoLd.Idnt.v,
                    eI = Q.Ph(cx).clone();
                S.add.SoLd.Idnt.v = eI.eo = fb.Fk() + cx.slice(8);
                Q.add.lnk2.push(eI)
            }
            if (R == a.NK) {
                var gR = {
                    hj: "duplicate",
                    H8: {
                        classID: "null",
                        null: hX.EX("Lyr", !0)
                    }
                };
                if (w.jg) {
                    fa[0].jG(w.jg);
                    gR.Nm = {
                        t: "TEXT",
                        v: w.jg
                    }
                }
                this.track(gR);
                w.aab = w.p
            }
            R = a.s9;
            w.t = fa;
            w.Fb = Q;
            w.Mc = Q
        }
        if (R == a.s9) {
            var hk, d3, iB = w.Fb,
                gk = w.Mc;
            if (iB != gk) {
                console.log("ADDLAYERS different projs");
                var hk = new B(0, 0, iB.D, iB.j),
                    d3 = new B(0, 0, gk.D, gk.j),
                    d$ = [],
                    hx = [];
                for (var M = 0; M < w.t.length; M++) {
                    var S = w.t[M];
                    if (S.add.SoLd == null) continue;
                    var cx = S.add.SoLd.Idnt.v;
                    if (d$.indexOf(cx) == -1) {
                        d$.push(cx);
                        hx.push(fb.Fk() + cx.slice(8))
                    }
                    S.add.SoLd.Idnt.v = hx[d$.indexOf(cx)];
                    var eu = S.Ca(iB);
                    if (eu) {
                        iB.zB(eu);
                        gk.iT(eu)
                    }
                }
                if (d$.length > 0) {
                    if (gk.add.lnk2 == null) gk.add.lnk2 = [];
                    for (var M = 0; M < d$.length; M++) {
                        var bz = iB.Ph(d$[M]),
                            eI = bz.clone();
                        eI.eo = hx[M];
                        gk.add.lnk2.push(eI)
                    }
                }
            }
            var dq = gk.u.slice(0);
            dq.sort(function(e, cj) {
                return e - cj
            });
            var b5 = gk.t.slice(0),
                g9 = [],
                hY = -1;
            for (var M = 0; M < dq.length; M++) hY = Math.max(hY, dq[M]);
            if (w.aab != null) hY = w.aab;
            hY++;
            for (var M = 0; M < w.t.length; M++) {
                var U = w.t[M];
                b5.splice(hY, 0, U);
                g9.push(hY);
                hY++
            }
            if (w.t[w.t.length - 1].xI()) g9 = [hY - 1];
            var e = new hl([6, 0], this);
            e.data = {
                e: a.dt,
                OG: gk.t.slice(0),
                pl: b5,
                mJ: dq,
                ji: g9
            };
            gk.be(e);
            this.ju(e.data, gk)
        }
        if (R == a.fL) {
            var fL = w.p != null ? [w.p] : Q.Mu(),
                b5 = Q.t.slice(0);
            for (var M = 0; M < fL.length; M++) {
                var U = Q.t[fL[M]].clone();
                U.Mo(Q);
                b5.splice(fL[M], 1, U)
            }
            var e = new hl([6, 8], this);
            e.data = {
                e: a.dt,
                OG: Q.t.slice(0),
                pl: b5,
                mJ: Q.u.slice(0),
                ji: Q.u.slice(0)
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.Xn) {
            var b5 = Q.t.slice(0),
                U = b5[Q.u[0]] = b5[Q.u[0]].clone(),
                c4 = U.add.lmfx,
                dg = 0;
            delete U.add.lmfx;
            var dF = v.$(U.rect.O());
            v.KU(U.buffer, dF, 3);
            var co = eg.Co(c4, null, dF, U.rect, Q, U.rect).type;
            for (var M = 0; M < b_.order.length; M++) {
                var bL = b_.order[M],
                    bg = co[bL],
                    fy = M > 7;
                for (var bH = 0; bH < bg.length; bH++) {
                    var e7 = bg[bH],
                        P = Q._g();
                    P.TC = e7.ae;
                    P.opacity = Math.round(255 * e7.Xm);
                    P.xx = !fy;
                    P.buffer = e7.Sg;
                    P.rect = e7.H9;
                    P.rect.offset(U.rect.x, U.rect.y);
                    P.jG(U.getName() + "'s " + b6.get(b_.names[M]));
                    b5.splice(Q.u[0] + (fy ? 0 : 1), 0, P);
                    if (fy) dg++
                }
            }
            var e = new hl("Styles to Layers", this);
            e.data = {
                e: a.dt,
                OG: Q.t.slice(0),
                pl: b5,
                mJ: Q.u.slice(0),
                ji: [Q.u[0] + dg]
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.bO) {
            var fL = Q.Mu(),
                b5 = Q.t.slice(0),
                ep = new B(0, 0, Q.D, Q.j);
            for (var M = 0; M < fL.length; M++) {
                var eV = Q.t[fL[M]],
                    d9 = eV.HY();
                eV.BZ(!0);
                var ad = Q.root.o8(fL[M]);
                if (eV.xI()) continue;
                if (ad == null) continue;
                var U = eV.clone();
                U.Mo(Q);
                var gE = ad.vG(Q, !0),
                    aQ = Q.t;
                Q.rd([eV]);
                Q.C();
                Q.rW();
                U.buffer = v.$(gE.O() * 4);
                v.c1(Q.X_(), ep, U.buffer, gE);
                U.rect = gE;
                U.opacity = 255;
                U.add.iOpa = 255;
                U.TC = "norm";
                U.C();
                U.R.Wy = !0;
                Q.rd(aQ);
                if (U.add.lmfx) delete U.add.lmfx;
                U.q = U.B3 = null;
                b5.splice(fL[M], 1, U);
                U.BZ(d9);
                eV.BZ(d9)
            }
            var e = new hl([6, 34], this);
            e.data = {
                e: a.dt,
                OG: Q.t.slice(0),
                pl: b5,
                mJ: Q.u.slice(0),
                ji: Q.u.slice(0)
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.IE) {
            var fL = Q.Mu(),
                b5 = Q.t.slice(0);
            for (var M = 0; M < fL.length; M++) {
                var U = Q.t[fL[M]],
                    cO = U.add.TySh;
                if (cO == null) continue;
                var S = new gm(cO.rr, b.md),
                    e8 = v.w.ng(g1.bU(S, cO));
                for (var fh in e8) {
                    var aX = e8[fh],
                        cu = U.clone();
                    delete cu.add.TySh;
                    cu.a1 = cu.a1 | 1 << 4;
                    cu.add.SoCo = JSON.parse(JSON.stringify(b_.OT[0]));
                    var eF = cu.add.SoCo.Clr.v;
                    eF.Rd.v = parseInt(fh.slice(1, 3), 16);
                    eF.Grn.v = parseInt(fh.slice(3, 5), 16);
                    eF.Bl.v = parseInt(fh.slice(5, 7), 16);
                    var i6 = new a.Y3;
                    i6._ = v.w.IT(aX, !1);
                    if (cu.add.vmsk != null) {
                        cu.add.vmsk.a9F();
                        i6.concat(cu.add.vmsk)
                    }
                    cu.add.vmsk = i6;
                    cu.add.vstk = JSON.parse(JSON.stringify(b_.fQ.default));
                    cu.Y1();
                    cu.b6(Q);
                    b5.splice(b5.indexOf(U), 0, cu)
                }
                b5.splice(b5.indexOf(U), 1)
            }
            var g9 = Q.u.slice(0);
            for (var M = g9.length - 1; M >= 0; M--)
                if (g9[M] >= b5.length) g9.splice(M, 1);
            var e = new hl([6, 40], this);
            e.data = {
                e: a.dt,
                OG: Q.t.slice(0),
                pl: b5,
                mJ: Q.u.slice(0),
                ji: g9
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.FN) {
            var b3 = Q.u.length;
            if (b3 < 2) {
                alert("Select two or more layers.");
                return
            }
            if (!Q.$H()) return;
            var cu = Q.t[Q.u[0]].clone(),
                b5 = [];
            for (var M = 0; M < Q.t.length; M++)
                if (Q.u.indexOf(M) == -1) b5.push(Q.t[M]);
            b5.splice(Q.u[0], 0, cu);
            for (var M = 1; M < b3; M++)
                if (Q.t[Q.u[M]].rect.O() > 2e6) {
                    alert("Blended areas are too large.");
                    return
                } for (var M = 1; M < b3; M++) {
                var U = Q.t[Q.u[M]],
                    aR = U.rect.clone();
                aR.Nn(1, 1);
                var cj = v.$(aR.O() * 4);
                v.c1(U.buffer, U.rect, cj, aR);
                cu.extend(aR);
                var gN = v.$(aR.O() * 4);
                v.c1(cu.buffer, cu.rect, gN, aR);
                var e = v.$(aR.O());
                v.KU(cj, e, 3);
                v.round(e, 200);
                v.qh(e, cj, 3);
                v.M.M$("norm", cj, aR, gN, aR, aR, 1);
                v.M_.ur(gN, e, aR);
                v.c1(gN, aR, cu.buffer, cu.rect)
            }
            var e = new hl([2, 10, 0], this);
            e.data = {
                e: a.dt,
                OG: Q.t.slice(0),
                pl: b5,
                mJ: Q.u.slice(0),
                ji: [Q.u[0]]
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.Po) {
            var b5 = Q.t.slice(0),
                bq = Q.u.slice(0);
            for (var M = 0; M < b5.length; M++) {
                var U = b5[M],
                    gT = U.add.vmsk;
                if (U.hK() && gT && U.add.vstk.strokeEnabled.v && !U.add.vstk.fillEnabled.v) {
                    var io = gT._,
                        ce = 0,
                        fR = -1;
                    for (var bH = 0; bH < io.length; bH++) {
                        if ((io[bH].type == 0 || io[bH].type == 3) && io[bH].ID != -1) {
                            ce++;
                            if (io[bH].type == 3 && fR == -1) {
                                io[bH].Ej = io[bH].ID = 1;
                                fR = bH
                            }
                        }
                    }
                    if (ce > 1 && fR != -1) {
                        console.log("separating an open path into a new layer");
                        U = U.clone();
                        gT = U.add.vmsk;
                        io = gT._;
                        var P = io[fR].length,
                            fr = U.clone();
                        fr.add.lyid = Q.DC();
                        gT._ = io.slice(0, 2).concat(io.slice(fR, fR + P + 1));
                        gT.u = [];
                        U.b6(Q);
                        U.C();
                        var cA = fr.add.vmsk._;
                        fr.add.vmsk._ = cA.slice(0, fR).concat(cA.slice(fR + P + 1, cA.length));
                        fr.add.vmsk.u = [];
                        fr.b6(Q);
                        b5[M] = U;
                        b5.splice(M + 1, 0, fr);
                        for (var bH = 0; bH < bq.length; bH++)
                            if (bq[bH] > M) bq[bH]++;
                        var dZ = bq.indexOf(M);
                        if (dZ != -1) {
                            bq.splice(dZ + 1, 0, M + 1)
                        }
                    }
                }
            }
            if (b5.length != Q.t.length) {
                var e = new hl("Splitting open paths", this);
                e.data = {
                    e: a.dt,
                    OG: Q.t.slice(0),
                    pl: b5,
                    mJ: Q.u.slice(0),
                    ji: bq
                };
                Q.be(e);
                this.ju(e.data, Q)
            }
        }
        if (R == a.s5) {
            this.Sx({
                e: a.Po
            }, o, Q, K, b);
            var dq = Q.u.slice(0),
                aQ = Q.t.slice(0),
                fL = Q.Mu();
            if (fL.length == 0) return;
            Q.KB(fL, !1, w.rZ);
            var e = new hl([6, 36, 0], this);
            e.data = {
                e: a.dt,
                OG: aQ,
                pl: Q.t.slice(),
                mJ: dq,
                ji: Q.u.slice(0)
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.CR) {
            var cY = h.add.SoLd;
            if (cY == null) return;
            var cx = cY.Idnt.v,
                hf = Q.Ph(cx);
            hf.X_(!1);
            var az = hf.qr[0],
                aR = hf.qr[1];
            if (v.HZ(az)) {
                alert("The smart object contains transparency.");
                return
            }
            var gQ = ip.pR("jpg").nl([
                [az.buffer]
            ], aR.D, aR.j, [90]);
            this.Sx({
                e: a.pu,
                xN: Q,
                data: new Uint8Array(gQ),
                id: cx,
                rZ: "jpg"
            }, o, Q, K, b);
            console.log(Q.add);
            return
        }
        if (R == a.pu) {
            var bz = w.xN.Ph(w.id),
                eI = bz.clone();
            eI.raw = w.data;
            if (w.rZ) {
                eI.EL = "    ";
                eI.o4 = "    ";
                eI.YG = eI.YG + "." + w.rZ
            } else {
                eI.EL = "8BIM";
                eI.o4 = "8BPB";
                eI.YG = eI.YG + ".psd"
            }
            eI.X_(!1);
            bz.X_(!1);
            var e = new hl([6, 36, 1], this);
            e.data = {
                e: a.pu,
                id: w.id,
                Rf: bz,
                h4: eI
            };
            w.xN.be(e);
            this.ju(e.data, w.xN)
        }
        if (R == a.ME) {
            var e = new hl([6, 36, 4], this);
            e.data = {
                e: R,
                p: X,
                np: h.add.SoLd.Impr.v.classID,
                tu: w.tu
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.yO) {
            var a2, dk;
            if (w.xv) {
                a2 = w.xN;
                dk = w.xv
            } else {
                w.xN.tE();
                w.xN.gp();
                w.xN.C();
                w.xN.rW();
                w.xN.X_();
                a2 = ip.pR("PSD").nl(w.xN, 0, 0, [!0, !0]);
                dk = w.xN.name
            }
            if (!(a2 instanceof ArrayBuffer)) throw "e";
            a2 = new Uint8Array(a2);
            var p = w.cn != null ? w.cn : Q.u[Q.u.length - 1] + 1,
                el = Q.x5(a2, dk, 0, 0, !0),
                b5 = Q.t.slice(0);
            b5.splice(p, 0, el);
            var e = new hl([6, 36, 2], this);
            e.data = {
                e: a.dt,
                OG: Q.t.slice(),
                pl: b5,
                mJ: Q.u.slice(0),
                ji: [b5.indexOf(el)]
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.xn) {
            var cF = [],
                dB = Q.root.children,
                hz = 0;
            for (var M = 0; M < dB.length; M++) {
                var u = dB[M],
                    U = u.p,
                    ck = u.children,
                    bE = !0;
                if (!U.xI() || ck.length == 0) continue;
                for (var bH = 0; bH < ck.length; bH++)
                    if (!ck[bH].p.getName().startsWith("_a_")) {
                        bE = !1;
                        break
                    } if (bE) cF.push(Q.t.indexOf(U))
            }
            var b2 = [];
            for (var M = 0; M < cF.length; M++)
                if (Q.u.indexOf(cF[M]) != -1) b2.push(cF[M]);
            if (b2.length >= 2) cF = b2;
            if (cF.length < 2) {
                alert("At least two animation folders needed (whose layers start with \"_a_\").", 3500);
                return
            }
            var dY = [];
            for (var M = 0; M < cF.length; M++) dY.push(Q.t[cF[M]].getName());
            var bg = [];
            for (var cy = 0; cy < cF.length; cy++) {
                var u = Q.root.o8(cF[cy]),
                    ao = [
                        [],
                        [], 0, cy
                    ];
                bg.push(ao);
                for (var M = 0; M < u.children.length; M++) {
                    var O = u.children[M].index,
                        U = u.children[M].p,
                        bh = U.getName(),
                        fi = 20,
                        ec = bh.split(",");
                    if (ec.length > 1) {
                        var gW = parseInt(ec.pop());
                        if (!isNaN(gW) && gW != 0) fi = gW
                    }
                    ao[0].push(U);
                    ao[1].push(fi);
                    ao[2] += fi
                }
            }
            bg.sort(function(e, cj) {
                return cj[2] - e[2]
            });
            var ca = bg[0],
                bX = ca[2];
            for (var gh = 1; gh < bg.length; gh++) {
                var ao = bg[gh],
                    hE = 1,
                    by = ao[1].slice(0),
                    hr = 0;
                while ((hE + 1) * ao[2] <= ca[2]) {
                    hE++;
                    by = by.concat(ao[1])
                }
                ao[1] = by;
                ao[2] *= hE;
                var bp = ca[2] / ao[2];
                for (var M = 0; M < ao[1].length; M++) {
                    var fK = Math.floor(ao[1][M] * bp);
                    ao[1][M] = fK;
                    hr += fK
                }
                while (hr < bX) {
                    hr++;
                    ao[1][ao[1].length - 1]++
                }
                ao[2] = hr
            }
            var fV = [],
                fl = [],
                fK = [];
            for (var M = 0; M < bg.length; M++) {
                fV.push(0);
                fl.push(0)
            }
            while (hz < bX) {
                var g3 = 1e9,
                    b0 = -1;
                for (var M = 0; M < bg.length; M++) {
                    var g5 = bg[M][1],
                        h9 = fV[M];
                    if (h9 != g5.length && fl[M] + g5[h9] < hz + g3) {
                        b0 = M;
                        g3 = fl[M] + g5[h9] - hz
                    }
                }
                fl[b0] += bg[b0][1][fV[b0]];
                fV[b0]++;
                if (g3 != 0) {
                    fK.push(g3);
                    hz += g3
                }
            }
            for (var M = 0; M < fK.length; M++) {
                var ho = fK[M],
                    a4 = ho >>> 1;
                if (ho < 17) {
                    var O = fK.length - 1;
                    if (M == 0) fK[1] += ho;
                    else if (M == fK.length - 1) fK[O - 1] += ho;
                    else {
                        fK[M - 1] += a4;
                        fK[M + 1] += ho - a4
                    }
                    fK.splice(M, 1);
                    M--
                }
            }
            var d9 = [],
                ep = new B(0, 0, Q.D, Q.j);
            for (var M = 0; M < Q.t.length; M++) {
                d9[M] = Q.t[M].HY();
                Q.t[M].BZ(!1)
            }
            var cW = Q.u.slice(0);
            Q.u = cF;
            var an = Q.Mu();
            an.sort(function(e, cj) {
                return e - cj
            });
            var b5 = [];
            for (var M = 0; M < Q.t.length; M++) {
                if (an.indexOf(M) == -1) b5.push(Q.t[M])
            }
            bg.sort(function(e, cj) {
                return e[3] - cj[3]
            });

            function h_(g5, ee) {
                var M = 0,
                    ik = 0;
                while (ik + g5[M] <= ee) {
                    ik += g5[M];
                    M++
                }
                return M
            }
            hz = 0;
            b5.splice(an[0], 0, Q.JG());
            for (var aD = 0; aD < fK.length; aD++) {
                var j = [];
                for (var M = 0; M < bg.length; M++) {
                    var h9 = h_(bg[M][1], hz) % bg[M][0].length,
                        U = bg[M][0][h9];
                    j.push(U)
                }
                var U = Q._g();
                for (var M = 0; M < bg.length; M++) {
                    var bk = j[M],
                        iG = Q.t[cF[M]];
                    bk.BZ(!0);
                    iG.BZ(!0)
                }
                Q.C();
                Q.rW();
                var az = Q.X_();
                U.rect = v.Zk(az, ep);
                U.buffer = v.$(U.rect.O() * 4);
                v.c1(az, ep, U.buffer, U.rect);
                for (var M = 0; M < bg.length; M++) {
                    var bk = j[M],
                        iG = Q.t[cF[M]];
                    bk.BZ(!1);
                    iG.BZ(!1)
                }
                U.BZ(aD == 0);
                U.jG("_a_frm" + aD + "," + fK[aD]);
                b5.splice(an[0] + 1 + aD, 0, U);
                hz += fK[aD]
            }
            var U = Q._g();
            U.jG(dY.join(" + "));
            U.TC = "pass";
            U.add.lsct = bb.RN;
            U.a1 = 24;
            b5.splice(an[0] + 1 + fK.length, 0, U);
            for (var M = 0; M < Q.t.length; M++) Q.t[M].BZ(d9[M]);
            var e = new hl([6, 12, 0], this);
            e.data = {
                e: a.dt,
                OG: Q.t,
                pl: b5,
                mJ: cW,
                ji: [an[0] + 1 + fK.length]
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.NH || R == a.FS || R == a.rv) {
            var aQ = Q.t.slice(0),
                dq = Q.u.slice(0),
                i7 = !0,
                el, g9;
            if (R == a.NH) Q.u = [X, X - 1];
            if (R == a.rv) {
                Q.u = [];
                for (var M = 0; M < Q.t.length; M++)
                    if (Q.t[M].HY()) Q.u.push(M)
            }
            var fL = Q.Mu();
            fL.sort(function(e, cj) {
                return e - cj
            });
            var f3 = new B,
                ep = new B(0, 0, Q.D, Q.j);
            for (var M = 0; M < fL.length; M++) {
                var O = fL[M],
                    U = Q.t[O];
                i7 = i7 && U.hK() && U.add.vmsk != null;
                f3 = f3.OX(Q.root.o8(O).vG(Q, !0))
            }
            if (i7) {
                el = Q.t[fL[0]].clone();
                var gT = el.add.vmsk;
                for (var M = 1; M < fL.length; M++) {
                    var P = Q.t[fL[M]],
                        cA = a.Y3.DK(P.add.vmsk._);
                    gT._ = gT._.concat(cA.slice(2));
                    el.add.vogk = el.add.vogk.concat(JSON.parse(JSON.stringify(P.add.vogk)))
                }
                el.add.vmsk.eT = !0;
                el.b6(Q)
            } else if (ep.Fq(f3)) {
                el = Q._g();
                el.jG(Q.t[fL[fL.length - 1]].getName());
                el.rect = f3;
                el.buffer = v.$(f3.O() * 4);
                var b$ = Q.X_(fL);
                v.c1(b$, ep, el.buffer, f3);
                el.C()
            } else {
                Q.KB(fL, !0);
                el = Q.t[Q.u[0]];
                Q.t.splice(Q.u[0], 1);
                var e2 = Q.Ph(el.add.SoLd.Idnt.v);
                Q.add.lnk2.splice(Q.add.lnk2.indexOf(e2), 1);
                delete el.add.SoLd
            }
            var a_ = K.i(E.O4),
                bt = -1;
            if (w.H8 && w.H8.Dplc && w.H8.Dplc.v) a_ = !0;
            if (a_ && R == a.rv && Q.t[dq[0]].GZ() && Q.t[dq[0]].rect.Kx()) {
                bt = dq[0];
                el.jG(Q.t[bt].getName())
            }
            var b5 = [];
            for (var M = 0; M < Q.t.length; M++)
                if (a_ || fL.indexOf(M) == -1)
                    if (M != bt) b5.push(Q.t[M]);
            var ay = fL[fL.length - 1],
                er = ay == Q.t.length - 1 ? null : Q.t[ay + 1],
                dl = er ? b5.indexOf(er) : b5.length;
            b5.splice(dl, 0, el);
            g9 = [dl];
            var e = new hl([6, 12, 0], this);
            e.data = {
                e: a.dt,
                OG: aQ,
                pl: b5,
                mJ: dq,
                ji: g9
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.OD) {
            var cu = Q._g();
            cu.rect = new B(0, 0, Q.D, Q.j);
            cu.buffer = v.$(cu.rect.O() * 4);
            v.Fw(cu.buffer, 4294967295);
            v.M.M$("norm", Q.X_(), cu.rect, cu.buffer, cu.rect, cu.rect, 1);
            cu.jG("Background");
            cu.add.lspf = 1 << 2;
            var e = new hl([6, 12, 1], this);
            e.data = {
                e: a.dt,
                OG: Q.t.slice(),
                pl: [cu],
                mJ: Q.u.slice(0),
                ji: [0]
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.Dn || R == a.Zf || R == a.T2 || R == a.Wa || R == a.CU) {
            var U = R == a.CU ? Q.t[Q.u[0]].clone() : Q._g(),
                cL = b6.get([0, 3]),
                fO = w.jg,
                f5 = !1,
                dN, ch;
            if (R == a.T2) cL = b6.get([12, 76, 1]);
            if (R == a.CU) {
                var eV = Q.t[Q.u[0]],
                    cT = eV._J(Q, Q.o);
                if (cT == null) {
                    alert("Copied area is empty");
                    return
                }
                U.rect = cT.rect;
                U.buffer = cT.Hb;
                U.Mo(Q)
            }
            if (R == a.Wa) {
                U.rect = cr.Ud.Et(w.nd, Q);
                U.buffer = v.clone(w.nd.buffer)
            }
            if (R == a.Dn) {
                this.track({
                    hj: "make",
                    H8: {
                        classID: "Mk",
                        null: hX.EX("Lyr")
                    }
                })
            }
            if (R == a.Zf) {
                U.a1 |= 16;
                var d1 = w.H8.Usng.v,
                    as = d1.Type.v,
                    bU = au.MP[as.classID];
                cL = b6.get(au.names[bU]);
                if (d1.Nm) fO = d1.Nm.v;
                U.add[bU] = bf._R(bU);
                if (U.add[bU] == null) U.add[bU] = {};
                for (var a8 in as) U.add[bU][a8] = JSON.parse(JSON.stringify(as[a8]));
                U.q = cr.Ud.Ni(Q)
            }
            if (R == a.T2) {
                U.a1 |= 16;
                var hp = w.H8,
                    d1 = hp.Usng.v,
                    av = d1.Type.v,
                    hy = d1.Shp;
                if (hy == null) {
                    var i2 = Q.a$(),
                        e8 = i2[0],
                        gA = i2[1];
                    if (gA.length != 0) {
                        var cH = e8[gA[0]].add;
                        U.add.vmsk = cH.vmsk.clone();
                        U.add.vstk = JSON.parse(JSON.stringify(b_.fQ.default));
                        U.add.vogk = JSON.parse(JSON.stringify(cH.vogk));
                        Q.A6 = []
                    } else U.q = cr.Ud.Ni(Q)
                } else {
                    console.log(d1);
                    U.add.vmsk = new a.Y3;
                    U.add.vstk = JSON.parse(JSON.stringify(d1.strokeStyle ? d1.strokeStyle.v : b_.fQ.default));
                    U.add.vogk = [];
                    if (hy) {
                        var aP = v.Wn._C(hy);
                        if (aP) {
                            U.add.vogk = [aP];
                            U.add.vmsk._.push({
                                type: 0,
                                ID: 1,
                                length: 0
                            });
                            v.Wn.wz(U.add.vogk, U.add.vmsk)
                        } else {
                            hy = hy.v;
                            var gi = hy.classID;
                            if (gi == "Plgn") {
                                var gc = hy.Cntr.v,
                                    bC = hy.corner.v;
                                gc = new fB(gc.Hrzn.v.val, gc.Vrtc.v.val);
                                bC = new fB(bC.Hrzn.v.val, bC.Vrtc.v.val);
                                U.add.vmsk._ = v.P.z_.cz(gc.x, gc.y, Math.sqrt(bC.x * bC.x + bC.y * bC.y), Math.atan2(bC.y, bC.x), hy.sides.v, 0)
                            } else if (gi == "customShape") {
                                var fx = v.Wn.Rk(hy),
                                    bx = fx[2] - fx[0],
                                    eY = fx[3] - fx[1],
                                    gj = b.aB,
                                    e6, cn;
                                for (var M = 0; M < gj.length; M++)
                                    if (gj[M].gr == hy.Nm.v) e6 = gj[M];
                                if (e6) {
                                    cn = a.Y3.DK(e6._);
                                    v.P.nB(cn, new dj(bx, 0, 0, eY, fx[0], fx[1]))
                                } else cn = v.P.z_.Rect(fx[0], fx[1], bx, eY, 0);
                                U.add.vmsk._ = cn
                            }
                            U.Y1()
                        }
                    }
                }
                var fX = {
                        solidColorLayer: 0,
                        gradientLayer: 1,
                        patternLayer: 2
                    } [av.classID],
                    eT = ["SoCo", "GdFl", "PtFl"][fX];
                U.add[eT] = JSON.parse(JSON.stringify(b_.OT[fX]));
                cr.Ud.S_(av, U.add[eT], fX);
                if (hy == null) cL = b6.get([6, 48, 0, fX]);
                if (eT == "PtFl") Q.vk(eg.L6(U.add[eT].Ptrn.v, b.QL));
                U.b6(Q)
            }
            var b3 = cr.Ud.EZ(Q, cL + " ");
            U.jG(cL + " " + (b3 + 1));
            if (fO) U.jG(fO);
            var gX = Q.u.length == 0 ? Q.t.length - 1 : Q.u[Q.u.length - 1],
                dh = Q.t[gX];
            if (R == a.T2 && dh.GZ() && dh.rect.Kx()) {
                f5 = !0;
                U.jG(dh.getName());
                dN = gX
            } else {
                dN = gX + 1;
                if (dh && dh.add.lsct == bb.SI) dN--
            }
            if (w.aix) dN = Math.max(0, dN - 1);
            var b5 = Q.t.slice(0);
            b5.splice(dN, f5 ? 1 : 0, U);
            var iE = [5, 2];
            if (R == a.Dn) iE = [6, 13];
            if (R == a.Zf) iE = [6, 1];
            if (R == a.T2) {
                iE = [6, 48, 1];
                var hy = w.H8.Usng.v.Shp;
                if (hy) {
                    var eM = {
                        Rctn: [10, 32],
                        Ln: [10, 35],
                        Elps: [10, 33],
                        Plgn: [12, 93, 0],
                        customShape: [10, 31]
                    } [hy.v.classID];
                    if (eM) iE = eM
                }
            }
            if (R == a.CU) {
                iE = [6, 49]
            }
            if (R == a.CU || R == a.T2 || R == a.Wa)
                if (Q.o) ch = [Q.o, null];
            var e = new hl(iE, this);
            e.data = {
                e: a.dt,
                OG: Q.t.slice(0),
                pl: b5,
                mJ: Q.u.slice(0),
                ji: [dN],
                tO: ch
            };
            Q.be(e);
            this.ju(e.data, Q);
            if (R == a.T2 && hy == null && fX != 0 || R == a.Zf) {
                var eB = new Y(_.E.N);
                eB.data = {
                    e: _.S.g3,
                    hX: fs.To.HM
                };
                o.A(eB)
            }
        }
        if (R == a.Fm) {
            var U = Q._g();
            U.jG(b6.get([0, 4]) + " " + Q.t.length);
            U.TC = "pass";
            U.add.lsct = bb.SI;
            U.a1 = 24;
            var fM = Q.JG(),
                gX = X,
                dN = gX + 1,
                b5 = Q.t.slice(0);
            b5.splice(dN, 0, fM, U);
            var e = new hl([6, 20], this);
            e.data = {
                e: a.dt,
                OG: Q.t.slice(0),
                pl: b5,
                mJ: Q.u.slice(0),
                ji: [dN + 1]
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.o5 || R == a.aH) {
            var em = R == a.o5 ? w.source : Q.u[0],
                it, eW, aI = Q.u.indexOf(em) != -1,
                f9 = K.i(E.O4) | w.aiQ,
                gF;
            if (aI) gF = Q.Mu();
            else gF = Q.zW(em);
            gF.sort(function(e, cj) {
                return e - cj
            });
            if (R == a.o5) {
                it = w.target;
                eW = w.zS > .5
            } else if (w.target != null) {
                it = w.target;
                eW = !0;
                Q.lB = !0
            } else {
                var aj = w.D3;
                eW = aj > 1;
                if (aj == 0) {
                    it = Q.t.length - 1
                }
                if (aj == 1) {
                    it = gF[gF.length - 1] + 1;
                    var P = Q.zW(it);
                    if (P.indexOf(em) == -1) it += P.length - 1
                }
                if (aj == 2) {
                    it = gF[0] - 1;
                    var P = Q.zW(it);
                    if (P.indexOf(em) == -1) it -= P.length - 1
                }
                if (aj == 3) {
                    it = 0
                }
                if (it < 0 || it > Q.t.length - 1) return;
                Q.lB = !0
            }
            if (gF.indexOf(it) != -1 && !f9) return;
            var aG = Q.t[it],
                b5 = [];
            if (f9) b5 = Q.t.slice(0);
            else
                for (var M = 0; M < Q.t.length; M++)
                    if (gF.indexOf(M) == -1) b5.push(Q.t[M]);
            var eU = b5.indexOf(aG);
            if (R == a.o5 && aG.xI() && aG.add.lsct == bb.RN && w.zS > .8) eU -= Q.zW(it).length - 1;
            var aa = [],
                is = f9 ? Q.ff(aI ? null : em) : null;
            for (var M = 0; M < gF.length; M++) {
                var gM = eU + (eW ? 0 : 1) + M,
                    S = f9 ? is[M] : Q.t[gF[M]];
                b5.splice(gM, 0, S);
                aa.push(gM)
            }
            var e = new hl(f9 ? [6, 0] : [6, 35], this);
            e.data = {
                e: a.dt,
                OG: Q.t.slice(0),
                pl: b5,
                mJ: Q.u.slice(0),
                ji: aa
            };
            Q.be(e);
            this.ju(e.data, Q);
            var hp = {
                classID: "move",
                null: hX.EX("Lyr", !0),
                T: {
                    t: "obj ",
                    v: [{
                        t: "indx",
                        v: {
                            classID: "Lyr",
                            val: eU + (eW ? 0 : 1)
                        }
                    }]
                },
                Adjs: {
                    t: "bool",
                    v: !1
                },
                Vrsn: {
                    t: "long",
                    v: 5
                },
                Dplc: {
                    t: "long",
                    v: f9
                }
            };
            this.track({
                hj: "move",
                H8: hp
            })
        }
        if (R == a.uR) {
            var U = Q._g(),
                fJ = b6.get([0, 4]) + " ";
            U.jG(fJ + (cr.Ud.EZ(Q, fJ) + 1));
            U.TC = "pass";
            if (w.jg) U.jG(w.jg);
            U.add.lsct = Q.u.length == 1 ? bb.SI : bb.RN;
            U.a1 = 24;
            var fM = Q.JG(),
                gF = Q.Mu();
            if (gF.length == 0) return;
            gF.sort(function(e, cj) {
                return e - cj
            });
            var b5 = [];
            for (var M = 0; M < Q.t.length; M++)
                if (gF.indexOf(M) == -1) b5.push(Q.t[M]);
            var gX = Q.u[Q.u.length - 1] - gF.length;
            b5.splice(gX + 1, 0, fM);
            for (var M = 0; M < gF.length; M++) b5.splice(gX + 2 + M, 0, Q.t[gF[M]]);
            b5.splice(gX + 2 + gF.length, 0, U);
            var e = new hl([6, 9], this);
            e.data = {
                e: a.dt,
                OG: Q.t.slice(0),
                pl: b5,
                mJ: Q.u.slice(0),
                ji: [b5.indexOf(U)]
            };
            Q.be(e);
            this.ju(e.data, Q);
            var $ = {
                hj: "make",
                dw: !0
            };
            $.H8 = {
                classID: "Mk",
                null: hX.EX("layerSection"),
                From: hX.EX("Lyr", !0),
                Usng: {
                    t: "Objc",
                    v: {
                        classID: "layerSection",
                        Nm: {
                            t: "TEXT",
                            v: U.getName()
                        }
                    }
                }
            };
            this.track($)
        }
        if (R == a.sF) {
            if (Q.u.length != 1) return;
            var p = Q.u[0],
                af = K.i(E.O4);
            if (Q.t[p]._f() == null) {
                R = a.vF;
                w.mK = Q.o ? !af ? "RvlS" : "HdSl" : !af ? "RvlA" : "HdAl"
            } else R = a.s2
        }
        if (R == a.vF) {
            if (Q.u.length != 1) return;
            var p = Q.u[0],
                U = Q.t[p];
            if (U.add.vmsk && U.q == null) U.b6(Q);
            var bN = U._f();
            if (bN == null || w.a4q) {
                var e = new hl([6, 21], this),
                    c0 = new a.Zz,
                    d2 = w.mK,
                    d4 = d2 == "RvlS" || d2 == "HdSl";
                if (d2 == "RvlS" || d2 == "HdAl" || d2 == "Trns") c0.color = 0;
                if (d4) {
                    c0.channel = v.clone(Q.o.channel);
                    c0.rect = Q.o.rect.clone();
                    if (d2 == "HdSl") v.MF(c0.channel)
                }
                if (d2 == "Trns") {
                    c0.rect = U.rect.clone();
                    c0.channel = v.$(U.rect.O());
                    v.KU(U.buffer, c0.channel, 3)
                }
                e.data = {
                    e: R,
                    p: p,
                    q: c0,
                    FU: bN,
                    tO: d4 ? [Q.o, null] : null
                };
                Q.be(e);
                this.ju(e.data, Q);
                Q.t[p].lY = 1;
                this.track({
                    hj: "make",
                    H8: {
                        __name: "Make",
                        classID: "Mk",
                        Nw: {
                            t: "type",
                            v: {
                                classID: "Chnl"
                            }
                        },
                        At: {
                            t: "obj ",
                            v: [{
                                t: "Enmr",
                                v: {
                                    classID: "Chnl",
                                    typeID: "Chnl",
                                    enum: "Msk"
                                }
                            }]
                        },
                        Usng: {
                            t: "enum",
                            v: {
                                UsrM: d2
                            }
                        }
                    }
                })
            }
        } else if (R == a.Nj) {
            var ie = Q.t[w.src],
                fk = Q.t[w.kP];
            if (fk._f()) return;
            var e = new hl([6, 21], this),
                c0 = ie._f();
            if (w.AK) {
                e.data = {
                    e: a.vF,
                    p: w.kP,
                    q: c0.clone()
                }
            } else {
                e.data = {
                    e: R,
                    src: w.src,
                    kP: w.kP,
                    q: c0
                }
            }
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.n$) {
            if (Q.u.length != 1) return;
            var p = X;
            if (Q.t[p]._f() != null) {
                var e = new hl([6, 22], this);
                e.data = {
                    e: R,
                    p: p,
                    q: Q.t[p]._f()
                };
                Q.be(e);
                this.ju(e.data, Q)
            }
        }
        if (R == a.Hx) {
            var aQ = Q.t.slice(0),
                cu = h.clone(),
                c_ = cu._f();
            v.BQ(c_.Qj(cu.rect), cu.rect, cu.buffer, cu.rect);
            cr.Ud.g1(Q, cu);
            Q.t[Q.u[0]] = cu;
            var e = new hl([5, 8], this);
            e.data = {
                e: a.dt,
                OG: aQ,
                pl: Q.t.slice(),
                mJ: Q.u.slice(0),
                ji: Q.u.slice(0)
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a._N) {
            if (Q.u.length != 1) return;
            var p = Q.u[0];
            if (Q.t[p].Ca(Q).q == null) {
                var e = new hl([6, 45], this);
                e.data = {
                    e: R,
                    p: p,
                    q: new a.Zz
                };
                Q.be(e);
                this.ju(e.data, Q)
            }
        }
        if (R == a.Hk) {
            if (Q.u.length != 1) return;
            var p = Q.u[0];
            if (Q.t[p].Ca(Q).q != null) {
                var e = new hl([6, 46], this);
                e.data = {
                    e: R,
                    p: p,
                    q: Q.t[p].Ca(Q).q
                };
                Q.be(e);
                this.ju(e.data, Q)
            }
        }
        if (R == a.c$) {
            if (w.p == null && Q.u.length != 1) return;
            if (Q.t[X].iD()) {
                var e = new hl([6, 47], this),
                    cY = JSON.stringify(Q.t[X].add.SoLd),
                    gJ = JSON.parse(cY);
                delete gJ.filterFX;
                e.data = {
                    e: a.iN,
                    Pa: [{
                        zd: X,
                        vl: [cY, JSON.stringify(gJ)],
                        LW: [Q.t[X].Ca(Q), null]
                    }]
                };
                Q.be(e);
                this.ju(e.data, Q)
            }
        }
        if (R == a.s2) {
            if (Q.u.length != 1) return;
            if (h.add.vmsk == null) {
                var e = new hl([6, 23], this),
                    io = Q.a$(),
                    g = io[1],
                    io = io[0],
                    c0, aP;
                if (w.afS && g.length != 0) {
                    var cH = io[g[0]].add;
                    c0 = cH.vmsk.clone();
                    aP = cH.vogk
                } else {
                    c0 = new a.Y3;
                    aP = [];
                    c0._[1].all = w.a8o ? 0 : 1
                }
                e.data = {
                    e: R,
                    p: X,
                    YI: !0,
                    q: c0,
                    Wn: JSON.stringify(aP),
                    fQ: null
                };
                if (h.hK()) {
                    e.data.fQ = JSON.stringify(b_.fQ.default)
                }
                Q.be(e);
                this.ju(e.data, Q)
            }
        }
        if (R == a.Ls) {
            var ie = Q.t[w.src],
                fk = Q.t[w.kP];
            if (fk.add.vmsk) return;
            var e = new hl([6, 23], this),
                gT = ie.add.vmsk;
            e.data = {
                p: w.kP,
                YI: ie.b0,
                q: gT.clone(),
                Wn: JSON.stringify(ie.add.vogk),
                fQ: ie.add.vstk ? JSON.stringify(ie.add.vstk) : null
            };
            if (w.AK) {
                e.data.e = a.s2
            } else {
                e.data.e = R;
                e.data.src = w.src;
                e.data.kP = w.kP
            }
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.iA) {
            if (Q.u.length != 1) return;
            var U = Q.t[X],
                gT = U.add.vmsk;
            if (gT != null) {
                var e = new hl([6, 24], this);
                e.data = {
                    e: R,
                    p: X,
                    YI: U.b0,
                    q: gT,
                    Wn: JSON.stringify(U.add.vogk),
                    fQ: U.add.vstk ? JSON.stringify(U.add.vstk) : null
                };
                Q.be(e);
                this.ju(e.data, Q)
            }
        }
        if (R == a.UZ) {
            var e = new hl("Metadata", this);
            e.data = {
                e: R,
                WG: JSON.stringify(Q._7),
                Pn: JSON.stringify(w.Pn)
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a.LF) {
            var hd = w.kP ? w.kP : Q,
                ii = hd.name,
                fO = w.F + ".psd";
            if (ii == fO) return;
            var e = new hl([6, 37], this);
            e.data = {
                e: R,
                KF: ii,
                jg: fO
            };
            if (w.ahZ != !0) hd.be(e);
            this.ju(e.data, hd)
        }
        if (R == a.SX) {
            var ii = h.getName(),
                fO = w.name.substring(0, 255);
            if (ii == fO) return;
            var e = new hl([6, 37], this);
            e.data = {
                e: R,
                p: X,
                KF: ii,
                jg: fO,
                aaM: h.add.lnsr,
                aev: null
            };
            Q.be(e);
            this.ju(e.data, Q);
            this.track(hX.hY("Nm", {
                t: "TEXT",
                v: fO
            }))
        }
        if (R == a.Kf) {
            var ff = Q.Mu(),
                cS = [],
                dx = [];
            for (var M = 0; M < ff.length; M++) {
                cS.push(Q.t[ff[M]].add.lclr);
                dx.push(w.amd)
            }
            var e = new hl([6, 38], this);
            e.data = {
                e: R,
                t: ff,
                ai1: cS,
                adi: dx
            };
            Q.be(e);
            this.ju(e.data, Q)
        }
        if (R == a._W) {
            var e = Q.history[Q.A3];
            if (e != null && e.f == this && e.data.e == R && e.data.p == w.BR && e.data.tu.hS == w.Nw.hS) e.data.tu = w.Nw;
            else {
                e = new hl("Mask Density / Feather", this);
                e.data = {
                    e: R,
                    p: w.BR,
                    np: Q.t[w.BR].Li(w.Nw.hS),
                    tu: w.Nw
                };
                Q.be(e)
            }
            this.ju(e.data, Q)
        }
        if (R == a.wF) {
            var cR = JSON.stringify(w.F),
                fc = JSON.parse(cR),
                e = Q.history[Q.A3];
            if (e != null && e.f == this && e.data.e == R && e.data.t4 == w.t4 && e.data.$e.join(",") == w.$e.join(",")) {
                for (var M = 0; M < w.$e.length; M++) e.data.NO[M] = fc;
                if (e.data.H8 && fc.o4 != 0) cr.Ud.S_(fc.pE, e.data.H8.T.v, fc.o4 - 1)
            } else {
                e = new hl([11, 6], this);
                e.data = {
                    e: R,
                    $e: w.$e,
                    t4: w.t4,
                    an8: [],
                    NO: []
                };
                var aw = !1;
                for (var M = 0; M < w.$e.length; M++) {
                    var O = w.$e[M],
                        U = Q.t[O],
                        iy = w.t4 ? z.EJ.Yu(Q, O) : JSON.parse(JSON.stringify(U.add.vstk));
                    e.data.an8.push(iy);
                    e.data.NO.push(fc);
                    if (JSON.stringify(iy) != cR) aw = !0
                }
                if (!aw) return;
                Q.be(e);
                if (w.t4 && fc.o4 > 0) {
                    var hp = e.data.H8 = {
                            classID: "setd",
                            null: hX.EX("contentLayer", !0),
                            T: {
                                t: "Objc",
                                v: {}
                            }
                        },
                        eT = ["SoCo", "GdFl", "PtFl"][fc.o4 - 1];
                    cr.Ud.S_(fc.pE, hp.T.v, fc.o4 - 1);
                    this.track({
                        hj: "set",
                        H8: hp
                    })
                }
            }
            if (w.t4 && fc.o4 == 3) Q.vk(eg.L6(fc.pE.Ptrn.v, b.QL));
            if (!w.t4) {
                var dr = fc.strokeStyleContent.v;
                if (dr.classID == b_.fQ.xM[2]) Q.vk(eg.L6(dr.Ptrn.v, b.QL))
            }
            this.ju(e.data, Q)
        }
    };
    cr.Ud.S_ = function(w, o, Q) {
        var K = [b_.vu, b_.$w, b_.$F][Q];
        if (o.classID == null) o.classID = ["solidColorLayer", "gradientLayer", "patternLayer"][Q];
        for (var M = 0; M < K.length; M++)
            if (w[K[M]]) o[K[M]] = JSON.parse(JSON.stringify(w[K[M]]))
    };
    cr.Ud.Ni = function(w) {
        var o = new a.Zz;
        if (w.o != null) {
            o.color = 0;
            o.channel = v.clone(w.o.channel);
            o.rect = w.o.rect.clone()
        }
        return o
    };
    cr.Ud.sX = function(w, o, Q, K) {
        var b = K.D / Q.D,
            R = K.j / Q.j,
            X = K.D / 2,
            h = K.j / 2,
            e = v.w.NU(K).X;
        for (var M = 0; M < w.t.length; M++) {
            var Z = w.t[M],
                P = Z.add.SoLd;
            if (P == null || P.Idnt.v != o) continue;
            if (b != 1 || R != 1) {
                var J = z.Z.wf(P.nonAffineTransform),
                    i = v.Q.RP(J, K),
                    k = new dj;
                k.translate(-X, -h);
                k.scale(b, R);
                k.translate(X, h);
                var $ = v.Q.A0(i, v.Q.k1(k)),
                    n = e.slice(0);
                v.Q.apply($, n);
                P.Trnf = z.Z.Tm(n);
                P.nonAffineTransform = z.Z.Tm(n)
            }
            Z.xL(w)
        }
        w.C()
    };
    cr.Ud.a9A = function(w, o, Q) {
        o.color = 255 - o.color;
        v.MF(o.channel);
        o.eT = !0;
        w.b6(Q);
        Q.C()
    };
    cr.Ud.prototype.Di = function(w, o) {
        var Q = w.e,
            K = o.t[w.p];
        o.ot = !0;
        if (Q == a.pu) {
            o.add.lnk2.splice(o.add.lnk2.indexOf(w.h4), 1, w.Rf);
            cr.Ud.sX(o, w.id, w.h4.qr[1], w.Rf.qr[1])
        }
        if (Q == a.ME) {
            K.add.SoLd.Impr.v.classID = w.np;
            K.xL(o)
        }
        if (Q == a._3) {
            var b = JSON.parse(w.$e);
            for (var M = 0; M < b.length; M++) o.t[b[M]].TC = w.DB[M];
            o.C()
        }
        if (Q == a.IL) {
            var b = JSON.parse(w.$e);
            for (var M = 0; M < b.length; M++) o.t[b[M]].opacity = w.DB[M];
            o.C()
        }
        if (Q == a.fp) {
            var b = JSON.parse(w.$e);
            for (var M = 0; M < b.length; M++)
                if (o.t[b[M]].add.lsct != bb.g4) o.t[b[M]].add.lspf = w.DB[M]
        }
        if (Q == a.sg) {
            var R = w.qa,
                X = w.a8s;
            delete K.add[R[0]];
            if (X[0] != "----") K.add[X[0]] = X[1]
        }
        if (Q == a.B5) {
            K.add.iOpa = w.DB;
            o.C()
        }
        if (Q == a.k7) {
            for (var M = 0; M < w.$e.length; M++) {
                var h = o.t[w.$e[M]];
                h.BZ(!h.HY())
            }
            o.C()
        }
        if (Q == a.FZ) {
            var e = K._f();
            e.isEnabled = !e.isEnabled;
            K.b6(o);
            o.C()
        }
        if (Q == a.qk) {
            var e = K.Ca(o).q;
            e.isEnabled = !e.isEnabled;
            K.C();
            o.C()
        }
        if (Q == a.wr) {
            var e = K.add.vmsk;
            e.isEnabled = !e.isEnabled;
            if (!e.isEnabled) {
                if (K.B3) {
                    K.q = K.B3;
                    K.B3 = null
                } else K.q = null
            } else if (K.q) {
                K.B3 = K.q;
                K.q = null
            }
            K.b6(o);
            o.C()
        }
        if (Q == a.nR) {
            K.xx = !K.xx;
            o.C()
        }
        if (Q == a.ZL) {
            K.add.lmfx.masterFXSwitch.v = !K.add.lmfx.masterFXSwitch.v;
            K.R.Wy = !0;
            o.C()
        }
        if (Q == a.cV) {
            K.add.SoLd.filterFX.v.enab.v = !K.add.SoLd.filterFX.v.enab.v;
            K.sd(o);
            o.C()
        }
        if (Q == a.Ex) {
            var Z = w.index,
                P = K.add.lmfx[b_.Ix[Z[0]]].v[Z[1]].v;
            P.enab.v = !P.enab.v;
            K.R.Wy = !0;
            o.C()
        }
        if (Q == a.ls) {
            var J = o.t[w.afX],
                i = o.t[w.a2N],
                k = w.a5J,
                $ = w.aiW;
            if (k == "") delete J.add.lmfx;
            else J.add.lmfx = JSON.parse(k);
            if ($ == "") delete i.add.lmfx;
            else i.add.lmfx = JSON.parse($);
            J.R.Wy = !0;
            i.R.Wy = !0;
            o.C()
        }
        if (Q == a.EQ) {
            var n = K.add.SoLd.filterFX.v.filterFXList.v[w.index].v;
            n.enab.v = !n.enab.v;
            K.sd(o);
            o.C()
        }
        if (Q == a.aP) {
            K.add.SoLd.filterFX.v = JSON.parse(JSON.stringify(w.a2L));
            K.sd(o);
            o.C()
        }
        if (Q == a.EU) {
            var e = K._f();
            e.Qu = !e.Qu
        }
        if (Q == a.ZY) {
            var e = K.add.vmsk;
            e.Qu = !e.Qu
        }
        if (Q == a.kd) {
            var j = w.lC;
            for (var M = 0; M < j.length; M += 2) {
                var y = j[M],
                    h = y >= 0 ? o.t[y] : o.BY[-1 - y];
                h.add.vogk = JSON.parse(j[M + 1]);
                v.Wn.wz(h.add.vogk, h.add.vmsk);
                if (y >= 0) h.b6(o)
            }
            o.C()
        }
        if (Q == a.aL) {
            K.add.artb = JSON.parse(w.aim);
            o.C()
        }
        if (Q == a.wq) {
            o.o = w.Ab;
            o.SF = w.lC.slice(0);
            o.Od = w.Vm.slice(0);
            o.n9 = o.rn = !0
        }
        if (Q == a.lZ) {
            var V = w.adk;
            for (var M = 0; M < V.length; M++) o.t[M].i1 = V[M]
        }
        if (Q == a.dt) {
            if (w.mJ) o.u = w.mJ;
            if (w.tO) o.o = w.tO[0];
            o.Yd = null;
            o.C();
            o.rd(w.OG)
        }
        if (Q == a.vF) {
            cr.Ud.g1(o, K);
            if (w.FU) cr.Ud.Mh(o, K, w.FU);
            if (w.tO) {
                var O = w.tO[0];
                if (O == null) delete o.o;
                else o.o = O
            }
        }
        if (Q == a.Nj) {
            cr.Ud.g1(o, o.t[w.kP]);
            cr.Ud.Mh(o, o.t[w.src], w.q)
        }
        if (Q == a.n$) {
            cr.Ud.Mh(o, K, w.q)
        }
        if (Q == a._N) {
            K.Ca(o).q = null;
            K.C();
            o.C()
        }
        if (Q == a.Hk) {
            K.Ca(o).q = w.q;
            K.C();
            o.C()
        }
        if (Q == a.iN) {
            cr.Ud.JM(o, w.Pa, 0)
        }
        if (Q == a.s2) {
            cr.Ud.iV(o, K, !0)
        }
        if (Q == a.Ls) {
            cr.Ud.iV(o, o.t[w.kP], w.q.isEnabled);
            cr.Ud.vp(o, o.t[w.src], w)
        }
        if (Q == a.iA) {
            cr.Ud.vp(o, K, w)
        }
        if (Q == a.UZ) {
            o._7 = JSON.parse(w.WG)
        }
        if (Q == a.LF) {
            o.name = w.KF
        }
        if (Q == a.SX) {
            K.jG(w.KF);
            if (w.aaM) K.add.lnsr = w.aaM;
            else delete K.add.lnsr
        }
        if (Q == a.Kf) {
            for (var M = 0; M < w.t.length; M++) o.t[w.t[M]].add.lclr = w.ai1[M]
        }
        if (Q == a.wF) {
            var S = w.an8;
            for (var M = 0; M < w.$e.length; M++) {
                var h = o.t[w.$e[M]],
                    G = S[M];
                if (!w.t4) h.add.vstk = JSON.parse(JSON.stringify(G));
                else z.EJ.ih(h, JSON.parse(JSON.stringify(G)));
                h.ym(o)
            }
            o.C()
        }
        if (Q == a._W) {
            K.NV(w.np);
            K.b6(o);
            o.C()
        }
        o.rn = !0
    };
    cr.Ud.prototype.ju = function(w, o) {
        var Q = w.e,
            K = o.t[w.p];
        o.ot = !0;
        if (Q == a.pu) {
            o.add.lnk2.splice(o.add.lnk2.indexOf(w.Rf), 1, w.h4);
            cr.Ud.sX(o, w.id, w.Rf.qr[1], w.h4.qr[1])
        }
        if (Q == a.ME) {
            K.add.SoLd.Impr.v.classID = w.tu;
            K.xL(o)
        }
        if (Q == a._3) {
            var b = JSON.parse(w.$e);
            for (var M = 0; M < b.length; M++) o.t[b[M]].TC = w.tu;
            o.C()
        }
        if (Q == a.IL) {
            var b = JSON.parse(w.$e);
            for (var M = 0; M < b.length; M++) o.t[b[M]].opacity = w.tu;
            o.C()
        }
        if (Q == a.fp) {
            var b = JSON.parse(w.$e);
            for (var M = 0; M < b.length; M++)
                if (o.t[b[M]].add.lsct != bb.g4) o.t[b[M]].add.lspf = w.tu[M]
        }
        if (Q == a.sg) {
            var R = w.a8s,
                X = w.qa;
            delete K.add[R[0]];
            if (X[0] != "----") K.add[X[0]] = X[1]
        }
        if (Q == a.B5) {
            K.add.iOpa = w.tu;
            o.C()
        }
        if (Q == a.k7) {
            for (var M = 0; M < w.$e.length; M++) {
                var h = o.t[w.$e[M]];
                h.BZ(!h.HY())
            }
            o.C()
        }
        if (Q == a.FZ) {
            var e = K._f();
            e.isEnabled = !e.isEnabled;
            K.b6(o);
            o.C()
        }
        if (Q == a.qk) {
            var e = K.Ca(o).q;
            e.isEnabled = !e.isEnabled;
            K.C();
            o.C()
        }
        if (Q == a.wr) {
            var e = K.add.vmsk;
            e.isEnabled = !e.isEnabled;
            if (!e.isEnabled) {
                if (K.B3) {
                    K.q = K.B3;
                    K.B3 = null
                } else K.q = null
            } else if (K.q) {
                K.B3 = K.q;
                K.q = null
            }
            K.b6(o);
            o.C()
        }
        if (Q == a.nR) {
            K.xx = !K.xx;
            o.C()
        }
        if (Q == a.ZL) {
            K.add.lmfx.masterFXSwitch.v = !K.add.lmfx.masterFXSwitch.v;
            K.R.Wy = !0;
            o.C()
        }
        if (Q == a.cV) {
            K.add.SoLd.filterFX.v.enab.v = !K.add.SoLd.filterFX.v.enab.v;
            K.sd(o);
            o.C()
        }
        if (Q == a.Ex) {
            var Z = w.index,
                P = K.add.lmfx[b_.Ix[Z[0]]].v[Z[1]].v;
            P.enab.v = !P.enab.v;
            K.R.Wy = !0;
            o.C()
        }
        if (Q == a.ls) {
            var J = o.t[w.afX],
                i = o.t[w.a2N],
                k = w.adw,
                $ = w.afy;
            if (k == "") delete J.add.lmfx;
            else J.add.lmfx = JSON.parse(k);
            if ($ == "") delete i.add.lmfx;
            else i.add.lmfx = JSON.parse($);
            J.R.Wy = !0;
            i.R.Wy = !0;
            o.C()
        }
        if (Q == a.EQ) {
            var n = K.add.SoLd.filterFX.v.filterFXList.v[w.index].v;
            n.enab.v = !n.enab.v;
            K.sd(o);
            o.C()
        }
        if (Q == a.aP) {
            K.add.SoLd.filterFX.v = JSON.parse(JSON.stringify(w.al6));
            K.sd(o);
            o.C()
        }
        if (Q == a.EU) {
            var e = K._f();
            e.Qu = !e.Qu
        }
        if (Q == a.ZY) {
            var e = K.add.vmsk;
            e.Qu = !e.Qu
        }
        if (Q == a.kd) {
            var j = w.l_;
            for (var M = 0; M < j.length; M += 2) {
                var y = j[M],
                    h = y >= 0 ? o.t[y] : o.BY[-1 - y];
                h.add.vogk = JSON.parse(j[M + 1]);
                v.Wn.wz(h.add.vogk, h.add.vmsk);
                if (y >= 0) h.b6(o)
            }
            o.C()
        }
        if (Q == a.aL) {
            K.add.artb = JSON.parse(w.FF);
            o.C()
        }
        if (Q == a.wq) {
            o.o = w.Dr;
            o.SF = w.l_.slice(0);
            o.Od = w.Qt.slice(0);
            o.n9 = o.rn = !0
        }
        if (Q == a.lZ) {
            var V = w.a2_;
            for (var M = 0; M < V.length; M++) o.t[M].i1 = V[M]
        }
        if (Q == a.dt) {
            var O = w.pl,
                S = 0,
                G;
            for (var M = 0; M < O.length; M++) {
                var h = O[M],
                    D = h.add.lsct;
                if (D == bb.g4) S++;
                else if (D == bb.SI || D == bb.RN) S--;
                if (h.add.artb && S != 0) G = "Artboards can not be inside folders."
            }
            if (G) {
                o.history.pop();
                o.A3--;
                alert(G);
                return
            }
            if (w.ji) o.u = w.ji;
            if (w.tO) o.o = w.tO[1];
            o.Yd = null;
            o.C();
            o.rd(w.pl)
        }
        if (Q == a.vF) {
            if (w.FU) cr.Ud.g1(o, K);
            cr.Ud.Mh(o, K, w.q);
            if (w.tO) {
                var q = w.tO[1];
                if (q == null) delete o.o;
                else o.o = q
            }
        }
        if (Q == a.Nj) {
            cr.Ud.g1(o, o.t[w.src]);
            cr.Ud.Mh(o, o.t[w.kP], w.q)
        }
        if (Q == a.n$) {
            cr.Ud.g1(o, K)
        }
        if (Q == a._N) {
            K.Ca(o).q = w.q;
            K.lY = 0;
            K.C();
            o.C()
        }
        if (Q == a.Hk) {
            K.Ca(o).q = null;
            K.lY = 0;
            K.C();
            o.C()
        }
        if (Q == a.iN) {
            cr.Ud.JM(o, w.Pa, 1)
        }
        if (Q == a.s2) {
            cr.Ud.vp(o, K, w)
        }
        if (Q == a.Ls) {
            cr.Ud.iV(o, o.t[w.src], w.q.isEnabled);
            cr.Ud.vp(o, o.t[w.kP], w)
        }
        if (Q == a.iA) {
            cr.Ud.iV(o, K, w.q.isEnabled)
        }
        if (Q == a.UZ) {
            o._7 = JSON.parse(w.Pn)
        }
        if (Q == a.LF) {
            o.name = w.jg
        }
        if (Q == a.SX) {
            K.jG(w.jg);
            if (w.aev) K.add.lnsr = w.aev;
            else delete K.add.lnsr
        }
        if (Q == a.Kf) {
            for (var M = 0; M < w.t.length; M++) o.t[w.t[M]].add.lclr = w.adi[M]
        }
        if (Q == a.wF) {
            var T = w.NO;
            for (var M = 0; M < w.$e.length; M++) {
                var h = o.t[w.$e[M]],
                    L = T[M];
                if (!w.t4) h.add.vstk = JSON.parse(JSON.stringify(L));
                else z.EJ.ih(h, JSON.parse(JSON.stringify(L)));
                h.ym(o)
            }
            o.C()
        }
        if (Q == a._W) {
            K.NV(w.tu);
            K.b6(o);
            o.C()
        }
        o.rn = !0
    };
    cr.Ud.EZ = function(w, o) {
        var Q = 0;
        for (var M = 0; M < w.t.length; M++) {
            var K = w.t[M].getName();
            if (K.startsWith(o)) {
                var b = K.slice(o.length).trim(),
                    R = parseInt(b);
                if (!isNaN(R) && R + "" == b) Q = R
            }
        }
        return Q
    };
    cr.Ud.JM = function(w, o, Q) {
        for (var M = 0; M < o.length; M++) {
            var K = o[M],
                b = w.t[K.zd];
            if (K.vl) {
                b.add.SoLd = JSON.parse(K.vl[Q])
            }
            if (K.LW) {
                if (K.LW[1 - Q] != null) w.zB(K.LW[1 - Q]);
                if (K.LW[Q] != null) w.iT(K.LW[Q]);
                else b.lY = 0
            }
            b.xL(w)
        }
    };
    cr.Ud.Et = function(w, o) {
        var Q = w.bZ,
            K = w.rect.clone();
        if (Q != null && (Q.x != o.D || Q.y != o.j)) {
            K.x = Math.floor((o.D - K.D) / 2);
            K.y = Math.floor((o.j - K.j) / 2)
        }
        return K
    };
    cr.Ud.g1 = function(w, o) {
        if (o.B3) o.B3 = null;
        else o.q = null;
        o.b6(w);
        w.C();
        o.lY = 0
    };
    cr.Ud.Mh = function(w, o, Q) {
        if (o.q) o.B3 = Q;
        else o.q = Q;
        o.b6(w);
        w.C()
    };
    cr.Ud.iV = function(w, o, Q) {
        if (o.B3 && Q) {
            o.q = o.B3;
            o.B3 = null
        } else if (o.q && Q) {
            o.q = null
        }
        delete o.add.vogk;
        delete o.add.vstk;
        delete o.add.vmsk;
        o.b6(w);
        o.b0 = !1;
        w.Yd = [];
        w.C()
    };
    cr.Ud.vp = function(w, o, Q) {
        o.add.vogk = JSON.parse(Q.Wn);
        if (Q.fQ) o.add.vstk = JSON.parse(Q.fQ);
        else delete o.add.vstk;
        o.add.vmsk = Q.q.clone();
        if (o.q && o.add.vmsk.isEnabled) o.B3 = o.q;
        o.b6(w);
        o.b0 = Q.YI;
        w.Yd = [w.t.indexOf(o)];
        w.A6 = [];
        w.C()
    };
    cr.xk = function() {
        cr.zF.call(this, z.ii);
        this.vf = null;
        this.A_ = null;
        this.W0 = null;
        this.l1 = [];
        this.R1 = null
    };
    cr.xk.prototype = new cr.zF;
    cr.xk.prototype.Sx = function(w, o, Q, K, b) {
        var R = w.p;
        if (R == null) R = Q.u[0];
        var X = Q.t[R],
            h = w.qX;
        if (this.vf == null) {
            this.W0 = cr.xk.tB(Q, X);
            this.vf = JSON.stringify(this.W0);
            if (X.add.lmfx) this.A_ = JSON.stringify(X.add.lmfx)
        }
        if (X.add.lmfx == null) {
            X.add.lmfx = JSON.parse(b_.default);
            for (var M = 0; M < b_.order.length; M++) X.add.lmfx[b_.Ix[M]] = {
                t: "VlLs",
                v: []
            }
        }
        if (w.e == "scaleeffects") {
            if (w.F == "confirm" || w.F == "cancel") {
                this.Sx({
                    e: w.F
                }, o, Q, K, b);
                return
            }
            X.add.lmfx = JSON.parse(this.A_);
            eg.dC(X.add.lmfx, w.F / 100)
        } else if (w.e == "changeprop") {
            var e = null;
            if (h != 0) {
                var Z = this.l1[h[0]];
                if (Z == null) Z = b_.l1[h[0]];
                Z = JSON.parse(Z);
                var P = X.add.lmfx[b_.Ix[h[0]]].v;
                if (P[h[1]] == null) P[h[1]] = {
                    t: "Objc",
                    v: Z
                };
                e = P[h[1]].v;
                for (var J in Z)
                    if (e[J] == null) e[J] = Z[J]
            }
            if (w.e == "changeprop") {
                if (h == 0) {
                    this.W0[w.Op].v = w.F;
                    cr.xk.LL(Q, X, this.W0)
                } else if (w.Op == "lagl") {
                    if (e.uglg && e.uglg.v) {
                        Q.sw(w.F.val);
                        this.W0.agf = Q.BP()
                    } else e[w.Op].v = w.F
                } else if (w.Op == "Lald") {
                    if (e.uglg.v) {
                        Q.LC(w.F.val);
                        this.W0.akN = Q.Th()
                    } else e[w.Op].v = w.F
                } else if ((h[0] == 3 || h[0] == 8) && (w.Op == "Clr" || w.Op == "Grad")) {
                    if (w.Op == "Clr") {
                        e.Clr = {
                            t: "Objc",
                            v: w.F
                        };
                        delete e.Grad
                    }
                    if (w.Op == "Grad") {
                        e.Grad = {
                            t: "Objc",
                            v: w.F
                        };
                        delete e.Clr
                    }
                } else {
                    e[w.Op].v = w.F
                }
                if (h != 0) this.l1[h[0]] = JSON.stringify(e)
            }
            if (h != 0)
                if (e.Ptrn) Q.vk(eg.L6(e.Ptrn.v, b.QL))
        } else if (w.e == "setstl") {
            var i = w.F.Lefx;
            if (i) eg.h8(i, Q, b.QL);
            eg.ck(w.F, X);
            this.W0 = cr.xk.tB(Q, X)
        } else if (w.e == "st_dupsingle") {
            var k = X.add.lmfx[b_.Ix[w.Ey[0]]].v;
            if (k[w.Ey[1]] == null) return;
            var $ = JSON.parse(JSON.stringify(k[w.Ey[1]]));
            k.splice(w.Ey[1], 0, $)
        } else if (w.e == "st_movsingle") {
            var n = w.Ey[1],
                k = X.add.lmfx[b_.Ix[w.Ey[0]]].v;
            if (k[w.Ey[1]] == null) return;
            var j = Math.max(0, Math.min(k.length - 1, n + w.aeE)),
                y = k[j];
            k[j] = k[n];
            k[n] = y
        } else if (w.e == "cancel") {
            if (this.A_ == null) delete X.add.lmfx;
            else X.add.lmfx = JSON.parse(this.A_);
            cr.xk.LL(Q, X, JSON.parse(this.vf));
            this.vf = null;
            this.A_ = null
        } else if (w.e == "confirm") {
            var V = new hl([11, 6], this);
            V.data = {
                t: [R],
                O5: [this.A_],
                pL: [JSON.stringify(X.add.lmfx)],
                eR: [this.vf],
                oB: [JSON.stringify(this.W0)]
            };
            Q.be(V);
            this.vf = null;
            this.A_ = null
        } else if (w.e == "st_copy") {
            this.R1 = [this.vf, this.A_];
            this.vf = null;
            this.A_ = null
        } else if (w.e == "st_paste" || w.e == "st_clear") {
            if (w.e == "st_paste" && this.R1 == null) return;
            var O = w.p != null ? [w.p] : Q.u.slice(0),
                S = [],
                G = [],
                D = [],
                q = [];
            for (var M = 0; M < O.length; M++) {
                var X = Q.t[O[M]],
                    T = cr.xk.tB(Q, X);
                S.push(X.add.lmfx ? JSON.stringify(X.add.lmfx) : null);
                D.push(JSON.stringify(T));
                if (w.e == "st_paste") {
                    G.push(this.R1[1]);
                    q.push(this.R1[0])
                } else {
                    G.push(null);
                    T.lrMd.v = 0;
                    T.Opct.v.val = 100;
                    T.iOpa.v.val = 100;
                    T.blIf = {
                        v: []
                    };
                    for (var L = 0; L < 10; L++) T.blIf.v.push(0, 0, 255, 255);
                    q.push(JSON.stringify(T))
                }
            }
            var V = new hl([11, 6], this);
            V.data = {
                t: O,
                O5: S,
                pL: G,
                eR: D,
                oB: q
            };
            this.ju(V.data, Q);
            Q.be(V);
            this.vf = null;
            this.A_ = null
        } else {
            var N = this.W0,
                F = null;
            if (w.e == "st_delsingle") {
                F = JSON.parse(this.A_);
                F[b_.Ix[w.Ey[0]]].v.splice(w.Ey[1], 1);
                F = JSON.stringify(F)
            }
            if (F == null) delete X.add.lmfx;
            else X.add.lmfx = JSON.parse(F);
            if (N != null) cr.xk.LL(Q, X, N);
            var V = new hl([11, 6], this);
            V.data = {
                t: [w.p],
                O5: [this.A_],
                pL: [F],
                eR: [this.vf],
                oB: [JSON.stringify(N)]
            };
            Q.be(V);
            this.vf = null;
            this.A_ = null
        }
        X.R.Wy = !0;
        Q.ot = !0;
        Q.C()
    };
    cr.xk.tB = function(w, o) {
        if (o.add.iOpa == null) o.add.iOpa = 255;
        if (o.add.brst == null) o.add.brst = [1, 1, 1];
        var Q = o.xI() ? ["pass"].concat(hL.IM) : hL.IM;
        return {
            lrMd: {
                v: Q.indexOf(o.TC)
            },
            Opct: {
                v: {
                    type: "#Prc",
                    val: Math.round(o.opacity * 100 / 255)
                },
                t: "UntF"
            },
            iOpa: {
                v: {
                    type: "#Prc",
                    val: Math.round(o.add.iOpa * 100 / 255)
                },
                t: "UntF"
            },
            blIf: {
                v: o.ZM.slice(0)
            },
            brst: {
                v: o.add.brst
            },
            agf: w.BP(),
            akN: w.Th(),
            xI: o.xI()
        }
    };
    cr.xk.LL = function(w, o, Q) {
        var K = o.xI() ? ["pass"].concat(hL.IM) : hL.IM;
        o.TC = K[Q.lrMd.v];
        o.opacity = Math.round(Q.Opct.v.val * 255 / 100);
        o.add.iOpa = Math.round(Q.iOpa.v.val * 255 / 100);
        o.ZM = Q.blIf.v.slice(0);
        o.add.brst = Q.brst.v.slice(0);
        w.sw(Q.agf);
        w.LC(Q.akN)
    };
    cr.xk.prototype.Di = function(w, o) {
        for (var M = 0; M < w.t.length; M++) {
            var Q = o.t[w.t[M]],
                K = w.O5[M];
            if (K == null) delete Q.add.lmfx;
            else Q.add.lmfx = JSON.parse(K);
            cr.xk.LL(o, Q, JSON.parse(w.eR[M]));
            Q.R.Wy = !0
        }
        o.ot = !0;
        o.C()
    };
    cr.xk.prototype.ju = function(w, o) {
        for (var M = 0; M < w.t.length; M++) {
            var Q = o.t[w.t[M]],
                K = w.pL[M];
            if (K == null) delete Q.add.lmfx;
            else Q.add.lmfx = JSON.parse(K);
            cr.xk.LL(o, Q, JSON.parse(w.oB[M]));
            Q.R.Wy = !0
        }
        o.ot = !0;
        o.C()
    };
    cr.ry = function() {
        cr.zF.call(this, z.fG)
    };
    cr.ry.prototype = new cr.zF;
    cr.ry.prototype.Sx = function(w, o, Q, K) {
        var b = JSON.parse(JSON.stringify(Q.M2)),
            R = JSON.parse(JSON.stringify(Q.M2)),
            X = null,
            h = null,
            e = null,
            Z = -1,
            P = !1;
        if (w.e == "delLC") {
            var J = cr.ry.ZD(Q.M2, w.qX),
                i = Q.M2.lastAppliedComp ? Q.M2.lastAppliedComp.v : 0;
            R.list.v.splice(J, 1);
            if (i == w.qX) delete R.lastAppliedComp;
            X = "Delete Layer Comp"
        }
        if (w.e == "editLC") {
            var J = cr.ry.ZD(Q.M2, w.qX),
                k = R.list.v[J].v;
            if (w.jg != null) k.Nm.v = w.jg;
            if (w.a5P != null) {
                var $ = w.a5P,
                    n = k.capturedInfo.v,
                    j = n & (1 << $) - 1;
                n = n >> $;
                if ((n & 1) == 1) n--;
                else n++;
                k.capturedInfo.v = (n << $) + j
            }
            X = "Layer Comp properties"
        }
        if (w.e == "setLC") {
            cr.ry.Sf(Q);
            if (w.qX == 0) delete R.lastAppliedComp;
            else R.lastAppliedComp = {
                t: "long",
                v: w.qX
            };
            X = "Switch Layer Comp";
            P = !0
        }
        if (w.e == "updLC") {
            cr.ry.Sf(Q);
            h = cr.ry.a9s(Q, w.qX);
            e = cr.ry.CZ(Q, w.qX);
            R.lastAppliedComp = {
                t: "long",
                v: w.qX
            };
            X = "Update Layer Comp";
            Z = w.qX;
            P = !0
        }
        if (w.e == "addLC") {
            cr.ry.Sf(Q);
            var y = 1;
            for (var M = 0; M < R.list.v.length; M++) y = Math.max(y, R.list.v[M].v.compID.v) + 1;
            y += Math.floor(Math.random() * 1e4);
            var V = {
                t: "Objc",
                v: {
                    classID: "Comp",
                    Nm: {
                        t: "TEXT",
                        v: "New Comp " + (R.list.v.length + 1)
                    },
                    compID: {
                        t: "long",
                        v: y
                    },
                    capturedInfo: {
                        t: "long",
                        v: 7
                    }
                }
            };
            R.list.v.push(V);
            R.lastAppliedComp = {
                t: "long",
                v: y
            };
            X = "New Layer Comp";
            var O = cr.ry.CZ(Q, y);
            cr.ry.a6(Q, O, y)
        }
        var S = new hl(X, this);
        S.data = {
            agu: b,
            a1w: R,
            a2q: h,
            ajw: e,
            qX: Z,
            GO: P
        };
        this.ju(S.data, Q);
        Q.be(S)
    };
    cr.ry.prototype.ju = function(w, o) {
        o.M2 = w.a1w;
        o.ot = !0;
        if (w.ajw) cr.ry.a6(o, w.ajw, w.qX);
        if (w.GO) {
            var Q = o.M2.lastAppliedComp ? o.M2.lastAppliedComp.v : 0,
                K = cr.ry.ZD(o.M2, Q),
                b = K == -1 ? null : o.M2.list.v[K].v,
                R = b ? b.capturedInfo.v : 7;
            cr.ry.YQ(o, Q, R);
            o.C()
        }
    };
    cr.ry.prototype.Di = function(w, o) {
        o.M2 = w.agu;
        o.ot = !0;
        if (w.a2q) cr.ry.a6(o, w.a2q, w.qX);
        if (w.GO) {
            var Q = o.M2.lastAppliedComp ? o.M2.lastAppliedComp.v : 0,
                K = cr.ry.ZD(o.M2, Q),
                b = K == -1 ? null : o.M2.list.v[K].v,
                R = b ? b.capturedInfo.v : 7;
            cr.ry.YQ(o, Q, R);
            o.C()
        }
    };
    cr.ry.Sf = function(w) {
        if (w.M2.lastAppliedComp != null || !w.Y6) return;
        var o = cr.ry.CZ(w, 0);
        cr.ry.a6(w, o, 0);
        w.Y6 = !1
    };
    cr.ry.n_ = function(w, o, Q) {
        w.v.Hrzn.v += o;
        w.v.Vrtc.v += Q
    };
    cr.ry.ZD = function(w, o) {
        var Q = w.list.v;
        for (var M = 0; M < Q.length; M++)
            if (Q[M].v.compID.v == o) return M;
        return -1
    };
    cr.ry.aaL = function(w) {
        var o = w.layerSettings.v,
            b = null;
        if (o.length == 0) return;
        var Q = "compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),
            K = o[0].v;
        if (K.enab == null) K.enab = {
            t: "bool",
            v: !0
        };
        if (K.Ofst == null) K.Ofst = {
            t: "Objc",
            v: {
                classID: "null",
                Hrzn: {
                    t: "long",
                    v: 0
                },
                Vrtc: {
                    t: "long",
                    v: 0
                }
            }
        };
        for (var M = 0; M < o.length; M++) {
            var R = o[M].v;
            if (b == null) b = JSON.parse(JSON.stringify(R));
            else
                for (var X = 0; X < Q.length; X++) {
                    var h = Q[X];
                    if (R[h]) b[h] = JSON.parse(JSON.stringify(R[h]))
                }
            o[M].v = JSON.parse(JSON.stringify(b))
        }
    };
    cr.ry.Ec = function(w, o) {
        var Q = w.add.shmd.cmls,
            K = Q.layerSettings.v;
        for (var b = 0; b < K.length; b++) {
            var R = K[b].v,
                X = R.compList.v[0].v;
            if (X == o) return b
        }
        return -1
    };
    cr.ry.Ac = function(w, o) {
        var Q = cr.ry.Ec(w, o);
        return Q == -1 ? null : w.add.shmd.cmls.layerSettings.v[Q].v
    };
    cr.ry.YQ = function(w, o, Q) {
        for (var M = 0; M < w.t.length; M++) {
            var K = w.t[M],
                b = K.add.shmd.cmls;
            if (b == null) continue;
            var R = b.layerSettings.v,
                X = cr.ry.Ac(K, o);
            if (X == null) {
                K.BZ(!1);
                continue
            }
            if ((Q & 1) != 0) {
                if (X.enab) K.BZ(X.enab.v);
                else K.BZ(!0)
            }
            if ((Q & 2) != 0) {
                if (X.Ofst) {
                    var h = X.Ofst.v,
                        e = K.IJ(w),
                        Z = Math.round(h.Hrzn.v - e.x),
                        P = Math.round(h.Vrtc.v - e.y);
                    if (Z != 0 || P != 0) z.uA.EM(w, [M], null, Z, P)
                }
            }
            if ((Q & 4) != 0) {
                if (X.Lefx) {
                    var J = JSON.parse(JSON.stringify(X.Lefx.v));
                    fQ.RR(J);
                    if (JSON.stringify(J) != JSON.stringify(K.add.lmfx)) {
                        K.add.lmfx = J;
                        K.R.Wy = !0
                    }
                } else delete K.add.lmfx;
                if (X.blendOptions) {
                    var i = X.blendOptions.v;
                    if (i.Opct) K.opacity = Math.round(255 * i.Opct.v.val / 100);
                    if (i.fillOpacity) K.add.iOpa = Math.round(255 * i.fillOpacity.v.val / 100);
                    if (i.Md) K.TC = K.add.lsct == bb.g4 ? "norm" : hL.$v(i.Md.v.BlnM)
                } else {
                    K.opacity = 255;
                    K.TC = K.xI() ? "pass" : "norm";
                    K.add.iOpa = 255
                }
            }
        }
    };
    cr.ry.a9s = function(w, o) {
        var Q = {};
        for (var M = 0; M < w.t.length; M++) {
            var K = w.t[M];
            if (K.add.shmd == null || K.add.shmd.cmls == null) continue;
            Q["l" + K.add.lyid] = JSON.parse(JSON.stringify(cr.ry.Ac(K, o)))
        }
        return Q
    };
    cr.ry.CZ = function(w, o) {
        var Q = {};
        for (var M = 0; M < w.t.length; M++) {
            var K = w.t[M],
                b = K.add.lyid;
            Q["l" + b] = cr.ry.YC(w, K, o)
        }
        return Q
    };
    cr.ry.YC = function(w, o, Q) {
        var K = o.add.shmd ? o.add.shmd.cmls : null,
            b = {
                classID: "null"
            },
            R = o.IJ(w),
            X = {
                t: "Objc",
                v: {
                    classID: "null",
                    Hrzn: {
                        t: "long",
                        v: R.x
                    },
                    Vrtc: {
                        t: "long",
                        v: R.y
                    }
                }
            };
        b.compList = {
            t: "VlLs",
            v: [{
                t: "long",
                v: Q
            }]
        };
        b.enab = {
            t: "bool",
            v: o.HY()
        };
        b.Ofst = JSON.parse(JSON.stringify(X));
        b.FXRefPoint = JSON.parse(JSON.stringify(K && K.origFXRefPoint ? K.origFXRefPoint : X));
        b.blendOptions = {
            t: "Objc",
            v: {
                classID: "null",
                Md: {
                    t: "enum",
                    v: {
                        BlnM: hL.vI(o.TC)
                    }
                },
                Opct: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 100 * o.opacity / 255
                    }
                },
                fillOpacity: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: o.add.iOpa != null ? 100 * o.add.iOpa / 255 : 100
                    }
                }
            }
        };
        if (o.add.vmsk) {
            b.vectorMask = {
                t: "Objc",
                v: {
                    classID: "null"
                }
            };
            b.vectorMask.v.Ofst = JSON.parse(JSON.stringify(X))
        }
        if (o.add.lmfx) {
            b.Lefx = {
                t: "Objc",
                v: JSON.parse(JSON.stringify(o.add.lmfx))
            };
            fQ.F$(b.Lefx.v)
        }
        return b
    };
    cr.ry.amR = function(w, o) {
        var Q = o.add.lyid;
        if (o.add.shmd == null) o.add.shmd = {};
        if (o.add.shmd.cmls == null) {
            o.add.shmd.cmls = {
                classID: "null",
                LyrI: {
                    t: "long",
                    v: Q
                },
                layerSettings: {
                    t: "VlLs",
                    v: [{
                        t: "Objc",
                        v: cr.ry.YC(w, o, 0)
                    }]
                }
            }
        }
    };
    cr.ry.a6 = function(w, o, Q) {
        for (var M = 0; M < w.t.length; M++) {
            var K = w.t[M],
                b = K.add.lyid;
            cr.ry.amR(w, K);
            var R = K.add.shmd.cmls,
                X = R.layerSettings.v,
                h = o["l" + b];
            if (h != null) h = {
                t: "Objc",
                v: JSON.parse(JSON.stringify(h))
            };
            var e = cr.ry.Ec(K, Q);
            if (e == -1) {
                if (h == null) continue;
                else X.push(h)
            } else {
                if (h == null) X.splice(e, 1);
                else X[e] = h
            }
        }
    };
    cr.ry.Fv = function(w, o) {
        for (var M = 0; M < w.t.length; M++) {
            var Q = w.t[M],
                K = Q.add.lyid;
            if (Q.add.shmd == null || Q.add.shmd.cmls == null) continue;
            var b = Q.IJ(w),
                R = Math.round(b.x),
                X = Math.round(b.y);
            if (!o) {
                R = -R;
                X = -X
            }
            var h = Q.add.shmd.cmls,
                e = h.layerSettings.v;
            if (h.origFXRefPoint) cr.ry.n_(h.origFXRefPoint, -R, -X);
            for (var Z = 0; Z < e.length; Z++) {
                var P = e[Z].v;
                cr.ry.n_(P.Ofst, R, X);
                var J = P.imageMask,
                    i = P.vectorMask;
                if (J && J.v.Ofst) cr.ry.n_(J.v.Ofst, R, X);
                if (i && i.v.Ofst) cr.ry.n_(i.v.Ofst, R, X)
            }
        }
    };
    cr.Xp = function() {
        cr.zF.call(this, z.U1);
        this.Pn = null;
        this.eL = null
    };
    cr.Xp.prototype = new cr.zF;
    cr.Xp.N_ = function(w, o, Q, K) {
        if (K) o /= 4;
        var b = 0,
            R = 0,
            X = 255,
            h = 0,
            e = 0,
            Z = 255;
        while (R + w[b] < o) {
            R += w[b];
            b++
        }
        while (h + w[X] < o) {
            h += w[X];
            X--
        }
        if (K) {
            b -= Math.round(w[b] / (Q / 32));
            X += Math.round(w[X] / (Q / 32));
            if (b < 0) e = Math.round(-b * 255 / (X - b));
            if (X > 255) Z = 255 - Math.round((X - 255) * 255 / (X - b))
        }
        return [Math.max(b, 0), Math.min(X, 255), e, Z, 100]
    };
    cr.Xp.prototype.Sx = function(w, o, Q, K, b) {
        var R = w.e;
        if (R == "auto") {
            var X = w.ds,
                h = cr.Xp.getData(Q);
            for (var M = 0; M < h.length; M++) {
                var e = h[M],
                    Z;
                if (X < 3) {} else {
                    var P = bf._R("hue2");
                    e4.hU(P, 0, [0, -100, 0]);
                    Z = au.Xw("hue2", P)
                }
                au.WL(Z, e.Hb, e.SR, e.U)
            }
            cr.Xp.gE(Q, h);
            cr.Xp.kv(Q, h, X < 3 ? [4, 16, X] : [19, 7, 0], this);
            Q.C()
        }
        if (R == "edit_layer") this.af8(w, o, Q, K);
        if (R == "edit" || R == "confirm" || R == "cancel") this.pz(w, o, Q, b, !0);
        if (R == "start") {
            if (Q.u.length == 0) return;
            var J = Q.t[Q.u[0]];
            if (J.add.SoLd && J.lY <= 0) {
                var i = new Y(_.E.z, !0);
                i.f = z.uB;
                i.data = {
                    e: "start",
                    AP: w.uQ
                };
                o.A(i);
                return
            }
            if (!Q.$H(o, null, !0)) return;
            if (m[w.uQ] && w.O_ == null) {
                if (Q.u.length != 1) alert("Will be applied to " + Q.u.length + " layers.");
                var i = new Y(_.E.N, !0);
                i.data = {
                    e: _.S.QH,
                    hX: "afw_" + w.uQ
                };
                o.A(i)
            } else {
                this.pz({
                    e: "edit",
                    O_: w.O_,
                    AP: w.uQ
                }, o, Q, b);
                this.pz({
                    e: "confirm",
                    AP: w.uQ
                }, o, Q, b)
            }
        }
    };
    cr.Xp.prototype.af8 = function(w, o, Q, K) {
        var b = w.e,
            R = Q.u[0],
            X = Q.t[R],
            h = au.get(X.add),
            e = JSON.parse(JSON.stringify(w.F)),
            J;
        for (var Z in au.MP)
            if (au.MP[Z] == h) e.classID = Z;
        var P = Q.history[Q.A3];
        if (P && P.f == this && P.data.np != null && P.data.p == R) J = P;
        else {
            var i = new Y(_.E.e9, !0),
                k = {
                    classID: "setd",
                    null: hX.EX("AdjL", !0),
                    T: {
                        t: "Objc",
                        v: e
                    }
                };
            i.data = {
                dw: !0,
                hj: "set",
                H8: k
            };
            o.A(i);
            var J = new hl([6, 39], this);
            J.data = {
                p: R,
                np: X.add[h],
                tu: w.F,
                k0: k
            };
            Q.be(J)
        }
        J.data.tu = w.F;
        J.data.k0.T.v = e;
        this.ju(J.data, Q)
    };
    cr.Xp.getData = function(w, o, Q) {
        var K = [],
            b = new B(0, 0, w.D, w.j),
            R = w.Od.length != 0 ? [-1 - w.Od[0]] : w.u;
        for (var M = 0; M < R.length; M++) {
            var X = R[M],
                h = X < 0 ? null : w.t[X],
                e = {
                    p: X,
                    Bu: X < 0 ? 1 : h.lY
                };
            K.push(e);
            var Z = w.SF[-1 - X];
            if (0 <= X) Z = h.lY <= 0 ? null : h.lY == 1 ? h._f() : h.Ca(w).q;
            var P = Z ? Z.rect : h.rect;
            if (w.o) e.U = Z != null ? w.o.rect.z2(b) : w.o.rect.z2(P);
            else e.U = o || Z != null ? P.OX(b) : P.clone();
            if (Q) e.U = Q[M].U.clone();
            var J = e.U.O();
            e.Hb = v.$(J * 4);
            if (Z) z.bA.QO(Z.channel, Z.rect, Z.color, e.Hb, e.U);
            else v.c1(h.buffer, P, e.Hb, e.U);
            e.SR = e.Hb.slice(0);
            if (w.o) {
                e.CB = v.$(J);
                v.Hp(w.o.channel, w.o.rect, e.CB, e.U)
            }
        }
        return K
    };
    cr.Xp.adM = function(w, o, Q) {
        if (o == null) return o;
        var K = au.jp(w, o),
            R;
        if (K == -1) return o;
        var b = Q.length >>> 2,
            X = v.UF(Q),
            h = .001 * b;
        if (K == 0 || K == 2) R = [
            [0, 255, 0, 255, 100], cr.Xp.N_(X[1], h, b, K == 2), cr.Xp.N_(X[2], h, b, K == 2), cr.Xp.N_(X[3], h, b, K == 2)
        ];
        if (K == 1) R = [cr.Xp.N_(X[0], h * .33, b, !1), [0, 255, 0, 255, 100],
            [0, 255, 0, 255, 100],
            [0, 255, 0, 255, 100]
        ];
        var e = bf._R("levl");
        for (var M = 0; M < 4; M++) fT.hU(e, M, R[M]);
        return e
    };
    cr.Xp.prototype.pz = function(w, o, Q, K) {
        if (this.Pn == null) {
            if (w.AP == "aply") Q.t[Q.u[0]].extend(new B(0, 0, Q.D, Q.j));
            this.Pn = cr.Xp.getData(Q, null, w.AP == "fade" ? Q.Z6().data : null);
            if (w.AP == "aply") this.Pn[0].Cm = Q.X_()
        }
        if (w.e == "edit") {
            this.eL = [w.AP, w.O_];
            var b = this.Pn[0],
                R = cr.Xp.adM(w.AP, w.O_, b.Hb),
                X = au.Xw(w.AP, R);
            if (w.AP == "fade" || w.AP == "aply") X = w.O_;
            if (X != null) {
                for (var M = 0; M < this.Pn.length; M++) {
                    var h = this.Pn[M];
                    if (w.hd) v.gb(h.Hb, h.SR);
                    else if (w.AP == "fade") {
                        var e = hL.$v(w.O_.Md.v.BlnM),
                            Z = w.O_.Opct.v.val / 100,
                            P = Q.Z6().data[M];
                        v.gb(P.Hb, h.SR);
                        if (e == "norm") v.M.uG(h.Hb, h.U, h.SR, h.U, null, null, null, h.U, Z);
                        else {
                            var J = eg.UC();
                            J._m = !0;
                            for (var M = 0; M < P.Hb.length; M += 4)
                                if (P.Hb[M + 3] != h.Hb[M + 3]) {
                                    J = null;
                                    break
                                } v.M.M$(e, h.Hb, h.U, h.SR, h.U, h.U, Z, J)
                        }
                    } else if (w.AP == "aply") {
                        X = X.With.v;
                        var i = X.T.v,
                            k, $;
                        if (i[1].t == "name") {
                            var n = 0;
                            for (var j = 0; j < Q.t.length; j++)
                                if (Q.t[j].getName() == i[1].v.val) n = j;
                            if (n == h.p) {
                                k = h.Hb;
                                $ = h.U
                            } else {
                                var y = Q.t[n];
                                k = y.buffer;
                                $ = y.rect
                            }
                        } else {
                            $ = new B(0, 0, Q.D, Q.j);
                            k = h.Cm
                        }
                        var e = X.Clcl ? hL.$v(X.Clcl.v.Clcn) : "norm",
                            Z = X.Opct ? X.Opct.v.val / 100 : 1,
                            V = ["RGB", "Rd", "Grn", "Bl", "Trsp"].indexOf(i[0].v.enum),
                            R = X.Invr && X.Invr.v;
                        if (R || V != 0) {
                            k = k.slice(0);
                            if (R) v.aa6(k);
                            if (V != 0) {
                                var O = v.$($.O());
                                v.KU(k, O, V - 1);
                                if (V == 4) v.MF(O);
                                for (var j = 0; j < 3; j++) v.qh(O, k, j)
                            }
                        }
                        var J = eg.UC();
                        J._m = X.PrsT && X.PrsT.v;
                        h.SR.fill(0);
                        h.SR.set(h.Hb);
                        v.M.M$(e, k, $, h.SR, h.U, h.U, Z, J)
                    } else au.WL(X, h.Hb, h.SR, h.U)
                }
                cr.Xp.gE(Q, this.Pn)
            }
        }
        if (w.e == "cancel") {
            cr.Xp.aQ(Q, this.Pn);
            this.Pn = null
        }
        if (w.e == "confirm") {
            var S = w.AP == "fade" ? [2, 11] : w.AP == "aply" ? [2, 12] : au.names[w.AP],
                G = au.jp(w.AP, this.eL[1]);
            if (G != -1) S = [4, 16, G];
            cr.Xp.kv(Q, this.Pn, S, this);
            this.Pn = null;
            if (G == -1) cr.Xp.vy(o, this.eL)
        }
        Q.C()
    };
    cr.Xp.vy = function(w, o) {
        var Q = o[0],
            K = o[1],
            b, R;
        if (au.k_[Q]) {
            b = au.k_[Q];
            if (m[Q]) R = K
        }
        if (bf.k_[Q]) {
            b = bf.k_[Q];
            if (m[Q]) R = K
        }
        if (Q == "fade") {
            b = "fade";
            R = K
        }
        if (Q == "aply") {
            b = "applyImageEvent";
            R = K
        }
        if (b == null) return;
        var X = new Y(_.E.e9, !0);
        X.data = {
            dw: !0,
            hj: b
        };
        if (R) {
            R = JSON.parse(JSON.stringify(R));
            R.classID = "null";
            delete R.__name;
            X.data.H8 = R
        }
        w.A(X)
    };
    cr.Xp.aQ = function(w, o) {
        cr.Xp.$O(w, o)
    };
    cr.Xp.kv = function(w, o, Q, K) {
        for (var M = 0; M < o.length; M++) {
            var b = o[M],
                R = w.t[b.p],
                X = b.p < 0 ? w.SF[-1 - b.p] : b.Bu <= 0 ? null : b.Bu == 1 ? R._f() : R.Ca(w).q;
            if (X) {
                X.ei();
                X.eT = !0;
                if (R) R.b6(w)
            } else {
                R.ei();
                R.C()
            }
            delete b.SR;
            delete b.CB
        }
        var h = new hl(Q, K);
        h.data = o;
        w.be(h);
        w.ot = !0
    };
    cr.Xp.gE = function(w, o, Q) {
        for (var M = 0; M < o.length; M++) {
            var K = o[M],
                b = w.t[K.p],
                R = Q ? K.Hb : K.SR,
                X = K.U;
            if (K.Bu == 0) {
                b.extend(X);
                if (K.CB) {
                    v.c1(K.Hb, X, b.buffer, b.rect);
                    v.M.uG(R, X, b.buffer, b.rect, K.CB, X, 0, X, 1)
                } else v.c1(R, X, b.buffer, b.rect)
            } else {
                var h = K.p < 0 ? w.SF[-1 - K.p] : K.Bu == 1 ? b._f() : b.Ca(w).q;
                h.extend(X);
                if (K.CB) {
                    var e = v.$(X.O() * 4);
                    v.gb(K.Hb, e);
                    v.M.uG(R, X, e, X, K.CB, X, 0, X, 1);
                    z.bA.sv(e, X, h)
                } else z.bA.sv(R, X, h);
                h.eT = !0;
                if (b) b.b6(w)
            }
            if (b) b.C()
        }
        if (!Q) cr.Xp.j2(w, o)
    };
    cr.Xp.$O = function(w, o) {
        for (var M = 0; M < o.length; M++) {
            var Q = o[M],
                K = w.t[Q.p],
                b = Q.U,
                R = v.$(b.O() * 4);
            if (Q.Bu == 0) {
                v.c1(K.buffer, K.rect, R, b);
                K.extend(b);
                v.c1(Q.Hb, b, K.buffer, K.rect);
                K.ei()
            } else {
                var X = Q.p < 0 ? w.SF[-1 - Q.p] : Q.Bu == 1 ? K._f() : K.Ca(w).q;
                z.bA.QO(X.channel, X.rect, X.color, R, b);
                X.extend(b);
                z.bA.sv(Q.Hb, b, X);
                X.ei();
                X.eT = !0;
                if (K) K.b6(w)
            }
            Q.Hb = R;
            if (K) K.C()
        }
        w.ot = !0
    };
    cr.Xp.j2 = function(w, o) {
        var Q = cr.Xp.Wl(w),
            K = ~Q;
        if (Q == 16777215) return;
        for (var M = 0; M < o.length; M++) {
            var b = o[M],
                R = w.t[b.p],
                X = b.U;
            if (b.Bu != 0) continue;
            R.extend(X);
            var h = X.x - R.rect.x,
                e = X.y - R.rect.y,
                Z = R.rect.D,
                P = new Uint32Array(b.Hb.buffer),
                J = new Uint32Array(R.buffer.buffer);
            for (var i = 0; i < X.j; i++)
                for (var k = 0; k < X.D; k++) {
                    var $ = i * X.D + k,
                        n = (i + e) * Z + (k + h);
                    J[n] = J[n] & Q | P[$] & K
                }
            R.ei();
            R.C()
        }
        w.C()
    };
    cr.Xp.Wl = function(w) {
        var o = w.m.dN;
        return o[2] * 16711680 | o[1] * 65280 | o[0] * 255
    };
    cr.Xp.prototype.Di = function(w, o) {
        var Q = o.t[w.p];
        if (w.np != null) Q.add[au.get(Q.add)] = w.np;
        else cr.Xp.$O(o, w);
        o.C()
    };
    cr.Xp.prototype.ju = function(w, o) {
        var Q = o.t[w.p];
        if (w.np != null) Q.add[au.get(Q.add)] = w.tu;
        else cr.Xp.$O(o, w);
        o.C()
    };
    cr.ET = function() {
        cr.zF.call(this, z.uB);
        this.Pn = null;
        this.Nd = null;
        this.e = null;
        this.eL = null
    };
    cr.ET.prototype = new cr.zF;
    cr.ET.prototype.Sx = function(w, o, Q, K, b) {
        if (w.e == "start") {
            if (Q.u.length == 0) return;
            var R = Q.t[Q.u[0]];
            if (R.add.SoLd && R.lY <= 0) {} else if (!Q.$H(o, null, !0)) return;
            var X = w.AP;
            if ((m[X] || bf.VW[X]) && w.O_ == null) {
                if (Q.u.length != 1) alert("Will be applied to " + Q.u.length + " layers.");
                var h = new Y(_.E.N, !0);
                h.data = cr.ET.Sp(X, this.HB(Q, X));
                o.A(h)
            } else {
                var e = {
                    e: "edit",
                    AP: X,
                    O_: w.O_,
                    Xo: this.HB(Q)
                };
                this.Sx(e, o, Q, K, b);
                e.e = "confirm";
                delete e.O_;
                this.Sx(e, o, Q, K, b)
            }
        }
        if (w.e == "edit" || w.e == "cancel" || w.e == "confirm") {
            if (w.e == "edit") this.eL = [w.AP, w.O_];
            if (w.Xo) this.ahX(w, Q, b);
            else this.a2Q(w, o, Q, b)
        }
        if (w.e == "applylast" && this.eL != null) {
            var e = {
                e: "edit",
                AP: this.eL[0],
                O_: this.eL[1],
                Xo: this.HB(Q)
            };
            this.Sx(e, o, Q, K, b);
            e.e = "confirm";
            delete e.O_;
            this.Sx(e, o, Q, K, b)
        }
    };
    cr.ET.Sp = function(w, o) {
        var Q = bf.VW[w];
        if (Q) return {
            e: _.S.Lz,
            f: Q,
            NC: {
                Xo: o
            }
        };
        else return {
            e: _.S.QH,
            hX: "afw_" + w,
            Xo: o
        }
    };
    cr.ET.prototype.HB = function(w, o) {
        var Q = w.t[w.u[0]],
            K;
        if (Q.add.SoLd && Q.lY <= 0) {
            K = {
                p: w.u[0],
                index: 0
            };
            if (Q.add.SoLd.filterFX != null) {
                var b = Q.add.SoLd.filterFX.v.filterFXList.v;
                K.index = b.length;
                for (var M = 0; M < b.length; M++)
                    if (bf.ws(b[M].v) == o && bf.VW[o]) K.index = M
            }
        }
        return K
    };
    cr.ET.prototype.ahX = function(w, o, Q) {
        var K = o.t[w.Xo.p],
            b = w.AP;
        if (w.e == "edit") {
            if (this.e == null) {
                var R = bf.names[b];
                if (R == null) R = au.names[b];
                if (b == "blendOptions") R = [14, 10];
                this.e = new hl(R, this);
                this.e.data = {
                    Xo: w.Xo,
                    af2: JSON.parse(JSON.stringify(K.add.SoLd))
                }
            }
            if (!K.iD()) {
                K.add.SoLd.filterFX = bf.eh();
                this.e.data.LW = fb.E3(K.add.SoLd.placed.v);
                o.iT(this.e.data.LW);
                K.xL(o)
            }
            var X = K.add.SoLd.filterFX.v.filterFXList.v;
            if (X[w.Xo.index] == null) {
                X.push(bf.qU(b, Q))
            }
            if (w.O_) {
                X[w.Xo.index].v.enab.v = w.hd != !0;
                if (b == "blendOptions") X[w.Xo.index].v.blendOptions.v = w.O_;
                else X[w.Xo.index].v.Fltr.v = w.O_
            }
            this.e.data.a7C = JSON.parse(JSON.stringify(K.add.SoLd));
            this.ju(this.e.data, o)
        }
        if (w.e == "cancel") {
            if (this.e) this.Di(this.e.data, o);
            this.e = null
        }
        if (w.e == "confirm") {
            if (this.e) o.be(this.e);
            this.e = null
        }
    };
    cr.ET.prototype.kS = function(w) {
        return {
            W: w >>> 16,
            a: w >>> 8 & 255,
            k: w & 255
        }
    };
    cr.ET.prototype.a2Q = function(w, o, Q, K) {
        if (this.Pn == null) {
            var b = bf.RX(w.AP, w.O_);
            this.Pn = cr.Xp.getData(Q, b.x != 0 || b.y != 0)
        }
        if (w.e == "edit") {
            var R = JSON.stringify(w.O_);
            if ((w.O_ == null || R != this.Nd) && w.hd != !0)
                for (var M = 0; M < this.Pn.length; M++) {
                    var X = this.Pn[M],
                        h = {
                            rect: X.U,
                            buffer: X.Hb
                        },
                        e = {
                            rect: X.U,
                            buffer: X.SR
                        };
                    bf.WL(w.AP, h, w.O_, this.kS(K.x1), this.kS(K.TT), e, [Q.add.lnk2 ? Q.add.lnk2 : [], Q.t[Q.u[0]]._f(), Q.SF]);
                    this.Nd = R
                }
            cr.Xp.gE(Q, this.Pn, w.hd)
        }
        if (w.e == "cancel") {
            cr.Xp.aQ(Q, this.Pn);
            this.Pn = null;
            this.Nd = null
        }
        if (w.e == "confirm") {
            cr.Xp.kv(Q, this.Pn, bf.names[w.AP], this);
            this.Pn = null;
            this.Nd = null;
            cr.Xp.vy(o, this.eL)
        }
        Q.C();
        Q.ot = !0
    };
    cr.ET.prototype.Di = function(w, o) {
        if (w.Xo) {
            var Q = o.t[w.Xo.p];
            if (w.LW) o.zB(w.LW);
            Q.add.SoLd = JSON.parse(JSON.stringify(w.af2));
            if (Q.iD()) Q.sd(o);
            else {
                Q.xL(o);
                Q.lY = 0
            }
        } else cr.Xp.$O(o, w);
        o.C();
        o.ot = !0
    };
    cr.ET.prototype.ju = function(w, o) {
        if (w.Xo) {
            var Q = o.t[w.Xo.p];
            if (w.LW) o.iT(w.LW);
            Q.add.SoLd = JSON.parse(JSON.stringify(w.a7C));
            if (Q.iD()) Q.sd(o);
            else Q.xL(o);
            if (!Q.q8()) Q.a1 += 32
        } else cr.Xp.$O(o, w);
        o.C();
        o.ot = !0
    };
    var d5 = {
        Dq: "0",
        IA: "1",
        zM: "2",
        _L: "3",
        cD: "4",
        $V: "5",
        Ru: "6",
        de: "7",
        z: "8",
        Y8: "8.5",
        _G: "8.8",
        No: "9",
        us: "10",
        pQ: "11",
        mP: "12",
        ef: "13",
        mO: "14",
        gx: "15",
        Ba: "21",
        cu: "22",
        Nc: "23",
        PO: "23.0",
        Sm: "23.1",
        lr: "23.2",
        _o: "23.3",
        WF: "23.4",
        wt: "23.5",
        r1: "23.6",
        nQ: "30",
        ar: "31",
        GM: "40",
        wj: "41",
        $D: "42"
    };
    d5.ro = {};
    d5.ro[d5.IA] = ["abr", "brushes", cl, [9, 3]];
    d5.ro[d5.zM] = ["grd", "gradients", cw, [12, 37]];
    d5.ro[d5._L] = ["shc", "contours", cg, [12, 21]];
    d5.ro[d5.cD] = ["asl", "styles", bA, [12, 22]];
    d5.ro[d5.$V] = ["pat", "patterns", gx, [12, 62]];
    d5.ro[d5.Ru] = ["csh", "shapes", f8, [12, 77]];
    d5.ro[d5.de] = ["aco", "swatches", hM, [9, 8]];
    d5.ro[d5.z] = ["atn", "actions", dP, [9, 9]];
    d5.ro[d5.Y8] = ["tpl", "tpresets", fw, [9, 12]];
    d5.ro[d5._G] = ["icc", "profiles", gD, "ICCs"];

    function hl(w, o, Q) {
        if (Q == null) Q = !1;
        this.name = w;
        this.f = o;
        this.Ep = Q;
        this.data = null
    }
    var hX = {};
    hX.EX = function(w, o) {
        var Q = {
            t: "Clss",
            v: {
                classID: w
            }
        };
        if (o) Q = {
            t: "Enmr",
            v: {
                classID: w,
                typeID: "Ordn",
                enum: "Trgt"
            }
        };
        return {
            t: "obj ",
            v: [Q]
        }
    };
    hX.hY = function(w, o) {
        var Q = {
            classID: "Lyr"
        };
        Q[w] = o;
        return {
            hj: "set",
            H8: {
                classID: "null",
                null: hX.EX("Lyr", !0),
                T: {
                    t: "Objc",
                    v: Q
                }
            }
        }
    };
    hX.a6Z = function(w, o, Q, K, b) {
        var R = new Y(_.E.e9, !0),
            X = [],
            M = 0,
            h = hX.SW(o, Q, K, X);
        while (X.length != 0) {
            var e = X.pop();
            M++;
            if (!e.l) continue;
            if (e.hj == "conditional") {
                var Z = w.t[w.u[0]],
                    P = e.H8.null.v.Cndt,
                    J = !1;
                if (P == "Bckg") J = !1;
                else if (P == "Pxel" && w.yD(!1)) J = !0;
                else if (P == "Adjs" && au.get(Z.add)) J = !0;
                else if (P == "Shp" && Z.add.vogk) J = !0;
                else if (P == "Grup" && Z.xI()) J = !0;
                var i = e.H8.then.v;
                if (J) hX.SW(o, i[0].v.val, i[1].v.val, X)
            } else if (e.hj == "stop") {
                if (e.H8.Cntn && e.H8.Cntn.v == !0) 1;
                else {
                    alert(e.H8.Msge.v);
                    break
                }
            } else if (e.hj == "play") {
                var k = e.H8.null.v,
                    $ = new Y(_.E.N, !0);
                $.data = {
                    e: _.S.n6,
                    EG: [k[0].v.val, k[1].v.val]
                };
                b.A($)
            } else {
                R.data = {
                    hj: e.hj,
                    H8: e.H8
                };
                b.A(R)
            }
        }
    };
    hX.SW = function(w, o, Q, K) {
        var b;
        for (var M = 0; M < w.length; M++) {
            if (w[M].Wp != Q) continue;
            var R = w[M].yG;
            for (var X = 0; X < R.length; X++) {
                if (R[X].Wp != o) continue;
                b = R[X].yG
            }
        }
        var h = b.length;
        for (var M = 0; M < h; M++) K.push(b[h - 1 - M])
    };
    hX.acI = function(w) {
        var o = w.hj,
            Q = w.H8,
            K, X, h, e, Z, P;
        if (Q && Q.null) K = Q.null.v[0];
        if (Q && K == null && Q.At) K = Q.At.v[0];
        if (K && K.t == "obj ") K = K.v[0];
        var b = K ? K.v.classID : null,
            R = ["purge"];
        if (R.indexOf(o) != -1) return o[0].toUpperCase() + o.slice(1);
        P = au.k_;
        for (X in P)
            if (P[X] == o) h = X;
        P = bf.k_;
        for (X in P)
            if (P[X] == o) e = X;
        P = h1.k_;
        for (X in P)
            if (P[X] == o) Z = X;
        if (h) {
            var J = au.jp(h, Q);
            if (J != -1) return [4, 16, J];
            return au.names[h]
        }
        if (e) return bf.names[e];
        if (Z) return h1.names[Z];
        var i = hX.xV;
        if (o == "make") {
            if (K) {
                if (b == "AdjL") return [6, 1];
                else if (b == "layerSection") return [6, 9];
                else if (b == "Lyr") return [6, 13];
                else if (b == "Chnl" && K.v.enum == "Msk") return [6, 2];
                else if (b == "contentLayer") return [6, 48, 1];
                else if (b == "BckL") return "Make Background Layer";
                else if (b == "Path") return "Make Path";
                else if (b == "TxLr") return "Make Text Layer"
            }
            if (Q.Nw) {
                b = Q.Nw.v.classID;
                if (b == "Dcmn") return [11, 7];
                else if (b == "Chnl" || b == "SCch") return "New Channel"
            }
        } else if (o == "select") {
            if (b == "Chnl") return "Select " + (K.v.enum == "Msk" ? "Mask " : "") + "Channel";
            else if (b == "Mn") return "Select Panel \"" + K.v.enum + "\"";
            else if (b == "Lyr") {
                if (K.t == "Enmr") return "Select " + {
                    Bckw: "Backward"
                } [K.v.enum] + " Layer";
                return "Select Layer \"" + K.v.val + "\""
            } else if (b == "Dcmn") return "Select Document"
        } else if (i[o] && b == "Chnl") {
            var k = K.v.keyID == "fsel";
            return i[o] + " " + (k ? "Selection" : "Channel")
        } else if (o == "set") {
            if (b == "Lyr") return "Set Current Layer";
            else if (b == "AdjL") return [6, 39];
            else if (b == "contentLayer") return [6, 48, 2];
            else if (b == "Prpr") return [11, 6];
            else if (b == "Clr") return "Set " + (K.v.keyID == "FrgC" ? "Foreground" : "Background") + " color";
            else if (b == "Brsh") return "Set Brush";
            else console.log(b)
        } else if (o == "move") {
            if (b == "Lyr") return "Move Layer"
        } else if (o == "show" || o == "hide") {
            var $ = "";
            if (b == "Lyr") + "Layer";
            if (b == "Chnl") + "Channel";
            return (o == "show" ? "Show" : "Hide") + " " + $
        } else if (o == "reset") {
            if (b == "Clr") return "Reset Colors"
        } else if (o == "exchange") {
            if (b == "Clr") return [22, 7, 0]
        } else if (o == "rotateEventEnum") return [2, 5];
        else if (o == "flip") {
            var n = Q.Axis.v.Ornt == "Hrzn";
            return [
                [2, 6],
                [22, 4, n ? 2 : 3]
            ]
        }
        if (b == "Chnl") {
            if (o == "duplicate") {
                if (K.v.keyID == "fsel") return "Selection to Channel";
                else return "Duplicate Channel"
            }
            if (o == "delete") return "Delete Channel"
        }
        var j = {
                cut: [5, 0],
                copyEvent: [5, 1],
                copyToLayer: [6, 49],
                copyMerged: [5, 7],
                paste: [5, 2],
                close: [1, 12],
                save: [1, 2],
                groupEvent: [6, 18],
                duplicate: [6, 0],
                mergeLayersNew: [6, 12, 0],
                mergeVisible: "Merge Visible",
                flattenImage: [6, 12, 1],
                updatePlacedLayer: [6, 36, 1],
                fade: [2, 11],
                applyImageEvent: [2, 12],
                fill: [2, 3],
                colorRange: [7, 8],
                desaturate: [19, 7, 0],
                transform: [10, 16],
                delete: Q ? [6, 31] : [2, 2],
                align: [20, 4, 0],
                applyLocking: [6, 57, 1],
                placedLayerEditContents: "Edit Contents",
                newPlacedLayer: [6, 7],
                canvasSize: [11, 3],
                imageSize: [11, 10],
                rasterizeLayer: [6, 8],
                revealAll: [11, 12, 2],
                conditional: "If"
            },
            y = j[o];
        if (y == null) y = hX.iX[o];
        if (y) return y;
        return o
    };
    hX.iX = {
        border: [7, 9],
        smoothness: [19, 3, 0],
        expand: [7, 4],
        contract: [7, 5],
        feather: [7, 6],
        inverse: [7, 2]
    };
    hX.xV = {
        set: "Set",
        add: "Add Transparency",
        addTo: "Add To",
        subtract: "Subtract Transparency",
        subtractFrom: "Subtract From",
        interfaceIconFrameDimmed: "Intersect Transparency",
        interfaceWhite: "Intersect With"
    };
    hX.a4Y = function(w, o, Q, K) {
        var b = w.hj,
            R = w.H8,
            X = new Y(_.E.z, !0),
            Z, P, J, i, k, y;
        X.f = z.lz;
        var h = new Y(_.E.N, !0),
            e = ["purge", "updatePlacedLayer"];
        if (e.indexOf(b) != -1) return;
        k = au.k_;
        for (Z in k)
            if (k[Z] == b) P = Z;
        k = bf.k_;
        for (Z in k)
            if (k[Z] == b) J = Z;
        k = h1.k_;
        for (Z in k)
            if (k[Z] == b) i = Z;
        if (b == "fade") P = b;
        if (b == "applyImageEvent") P = "aply";
        if (P) {
            X.f = z.U1;
            X.data = {
                e: "start",
                uQ: P,
                O_: R
            }
        } else if (J) {
            X.f = z.uB;
            X.data = {
                e: "start",
                AP: J,
                O_: R
            }
        } else if (i) {
            X.f = z.uB;
            X.data = {
                e: "start",
                AP: "GEfc",
                O_: R
            }
        } else if (b == "imageSize" || b == "canvasSize" || b == "revealAll" || b == "trim") {
            X.f = z.V_;
            X.data = {
                e: "fromAction",
                Nl: w
            }
        } else if (b == "fill" || b == "delete" && R == null) {
            X.f = z.IA;
            X.data = {
                e: "fromAction",
                Nl: w
            }
        } else if (b == "colorRange") {
            var $ = R.Mnm.v,
                n = R.Mxm.v;
            X.f = z.By;
            X.data = {
                e: "crange",
                Rn: {
                    hc: $.Lmnc.v,
                    K: $.A.v,
                    k: $.B.v
                },
                gB: {
                    hc: n.Lmnc.v,
                    K: n.A.v,
                    k: n.B.v
                },
                lQ: R.Fzns.v / 200
            }
        } else if (hX.iX[b] || hX.xV[b] && (!1 || R.With && R.With.v[0].v.keyID == "fsel" || R.From && R.From.v[0].v.keyID == "fsel" || R.null && R.null.v[0].v.keyID == "fsel" || R.T.v[0] && R.T.v[0].v.keyID == "fsel")) {
            X.f = z.By;
            X.data = {
                e: "fromAction",
                Nl: w
            }
        }
        var j = {
            copyToLayer: a.CU,
            mergeLayersNew: K && K.u.length == 1 ? a.NH : a.FS,
            rasterizeLayer: a.fL,
            mergeVisible: a.rv,
            flattenImage: a.OD,
            newPlacedLayer: a.s5
        };
        if (j[b]) X.data = {
            e: j[b],
            H8: R
        };
        if (X.data) {
            o.A(X);
            return
        }
        if (b == "desaturate") {
            X.f = z.U1;
            X.data = {
                e: "auto",
                ds: 3
            };
            if (K && K.t[K.u[0]].add.SoLd == null) o.A(X);
            return
        }
        if (b == "close") {
            if (R.Svng.v.YsN == "Ys") {
                h.data = {
                    e: _.S.O8
                };
                o.A(h)
            }
            h.data = {
                e: _.S.Vs,
                qj: K
            };
            o.A(h);
            return
        }
        if (b == "save") {
            h.data = {
                e: _.S.O8
            };
            o.A(h);
            return
        }
        var j = {
            placedLayerEditContents: _.S.qT,
            copyEvent: _.S.Gy,
            paste: _.S.a7
        };
        if (j[b]) h.data = {
            e: j[b]
        };
        if (h.data) {
            o.A(h);
            return
        }
        if (R.null || R.At) y = (R.null ? R.null : R.At).v;
        else y = [{
            t: "----",
            v: R
        }];
        if (y[0].t == "obj ") {
            if (y.length != 1) throw "e";
            y = y[0].v
        }
        for (var V = 0; V < y.length; V++) {
            var O = y[V],
                S = O.v.classID;
            X.data = null;
            if (b == "make") {
                if (R.null == null && R.Nw) S = R.Nw.v.classID;
                if (S == "AdjL") {
                    X.data = {
                        e: a.Zf,
                        H8: R
                    }
                } else if (S == "layerSection") {
                    X.data = {
                        e: a.uR
                    };
                    if (R.Usng) X.data.jg = R.Usng.v.Nm.v
                } else if (S == "Lyr") {
                    if (R.Usng && R.Usng.v.length == 2) X.data = {
                        e: a.Xn
                    };
                    else {
                        X.data = {
                            e: a.Dn
                        };
                        if (R.Usng) X.data.jg = R.Usng.v.Nm.v;
                        if (R.below && R.below.v) X.data.aix = !0
                    }
                } else if (S == "Chnl" && O.v.enum == "Msk") {
                    X.data = {
                        e: a.vF,
                        mK: R.Usng.v.UsrM
                    }
                } else if (S == "Chnl" || S == "SCch") {
                    X.data = {
                        e: a.wq,
                        D3: "fromAction",
                        F: w
                    }
                } else if (S == "contentLayer") {
                    X.data = {
                        e: a.T2,
                        H8: R
                    }
                } else if (S == "BckL") {
                    K.t[K.u[0]].a3c();
                    continue
                } else if (S == "Dcmn") {
                    var G = R.Nw.v;
                    h.data = {
                        e: _.S.fO,
                        xN: fb.aiV(G, Q)
                    }
                } else if (S == "Ptrn") h.data = {
                    e: _.S.WI,
                    pO: 0
                };
                else if (S == "Path") {
                    X.f = z.k9;
                    X.data = {
                        e: "pathedit",
                        D3: "fromsel"
                    }
                } else if (S == "TxLr") {
                    X.f = z.wy;
                    X.data = {
                        e: "fromAction",
                        Nl: w
                    }
                } else {
                    console.log(b, S, R);
                    throw "e"
                }
            } else if (b == "select") {
                var D = {
                    PcTl: z.kW,
                    magicWandTool: z.YJ
                };
                if (S == "Lyr") {
                    var q = R.selectionModifier,
                        T = q ? q.v.selectionModifierType : null,
                        L = hX.Jt(K, O);
                    X.data = {
                        e: a.Kp,
                        p: L,
                        ajP: T ? ["addToSelection", "addToSelectionContinuous"].indexOf(T) : null,
                        b$: 0,
                        abI: !0
                    }
                } else if (S == "Chnl") {
                    X.data = {
                        e: a.Kp,
                        p: L,
                        b$: 1
                    }
                } else if (S == "Dcmn") {
                    if (o.U$.length < 2) return;
                    h.data = {
                        e: _.S.Tt,
                        dir: R.null.v[0].v.val
                    }
                } else if (D[S]) {
                    h.data = {
                        e: _.S.Lz,
                        f: D[S]
                    }
                }
            } else if ((b == "set" || b == "reset" || b == "exchange") && S == "Clr") {
                h.data = {
                    e: _.S.UA,
                    pO: d5.Ba,
                    D3: b == "reset" ? 3 : 2
                };
                if (b == "set") {
                    h.data.D3 = O.v.keyID == "FrgC" ? 0 : 1;
                    var N = v.V.c2(R.T.v);
                    h.data.F = N.W << 16 | N.a << 8 | N.k
                }
            } else if (b == "set") {
                if (S == "AdjL") {
                    var F = R.T.v.classID;
                    F = au.MP[F];
                    X.f = z.U1;
                    if (F) X.data = {
                        e: "edit_layer",
                        F: R.T.v
                    }
                } else if (S == "Lyr") {
                    var I = R.T.v,
                        L = hX.Jt(K, O);
                    if (I.Nm) X.data = {
                        e: a.SX,
                        name: I.Nm.v
                    };
                    else if (I.Opct) X.data = {
                        e: a.IL,
                        tu: Math.round(I.Opct.v.val * 255 / 100)
                    };
                    else if (I.fillOpacity) X.data = {
                        e: a.B5,
                        tu: Math.round(I.fillOpacity.v.val * 255 / 100)
                    };
                    else if (I.Md) X.data = {
                        e: a._3,
                        tu: hL.ja.indexOf(I.Md.v.BlnM) + (K.t[L].xI() ? 1 : 0)
                    };
                    else if (I.Usrs) X.data = {
                        e: a.EU,
                        p: L
                    };
                    else if (I.Blnd) {
                        X.f = z.ii;
                        X.data = {
                            e: "setstl",
                            p: L,
                            F: {
                                blendOptions: {
                                    t: "objc",
                                    v: I
                                }
                            }
                        };
                        o.A(X);
                        X.data = {
                            e: "confirm",
                            p: L
                        }
                    } else if (I.Clr) {
                        var s = {
                            Rd: 1,
                            Ylw: 3,
                            Vlt: 6
                        } [I.Clr.v.Clr];
                        if (s == null) throw I.Clr.v.Clr;
                        X.data = {
                            e: a.Kf,
                            amd: s
                        }
                    } else if (y[0].t == "prop") continue;
                    else {
                        console.log(R);
                        throw "e"
                    }
                    var u = K.t[L];
                    u.alh()
                } else if (S == "Prpr") {
                    var I = JSON.parse(JSON.stringify(R.T.v));
                    if (O.v.keyID == "TxtS") {
                        var L = hX.Jt(K, R.null.v[1]),
                            u = K.t[L],
                            g = u.add.TySh,
                            U = JSON.parse(JSON.stringify(g.rr)),
                            r = fI.KG(U),
                            x = fI.UP(U, 0, r.length - 2);
                        if (I.Undl && I.Undl.v.Undl == "underlineOnLeftInVertical") x.Bq.Underline = !0;
                        fI.Lj(U, 0, r.length - 1, x);
                        X.f = z.wy;
                        X.data = {
                            e: "newED",
                            Gu: L,
                            RG: U
                        };
                        V = 1e9
                    } else {
                        for (var C in I)
                            if (I[C].v) {
                                if (C == "Scl") I[C].v.val = 100;
                                if (I[C].v.TrnS && I[C].v.TrnS.v.Crv == null) {
                                    I[C].v.TrnS = JSON.parse(b_.l1[9]).TrnS
                                }
                            } fQ.RR(I);
                        if (I.masterFXSwitch == null) I.masterFXSwitch = {
                            t: "bool",
                            v: !0
                        };
                        var L = hX.Jt(K, R.null.v[1]);
                        X.f = z.ii;
                        X.data = {
                            e: "setstl",
                            p: L,
                            F: {
                                Lefx: {
                                    t: "objc",
                                    v: I
                                }
                            }
                        };
                        o.A(X);
                        X.data = {
                            e: "confirm",
                            p: L
                        }
                    }
                } else if (S == "contentLayer") {
                    var L = hX.Jt(K, O),
                        I = R.T.v;
                    if (I.classID == "shapeStyle") I = I.FlCn.v;
                    var p = {
                            solidColorLayer: 0,
                            gradientLayer: 1,
                            patternLayer: 2
                        } [I.classID],
                        J = JSON.parse(JSON.stringify(b_.OT[p]));
                    cr.Ud.S_(I, J, p);
                    X.data = {
                        e: a.wF,
                        $e: [L],
                        t4: !0,
                        F: {
                            o4: p + 1,
                            pE: J
                        }
                    }
                } else if (S == "Brsh") {
                    var l = JSON.parse(JSON.stringify(Q.Yf.Uw)),
                        c = R.T.v;
                    if (c.masterDiameter) l.Brsh.v.Dmtr.v.val = c.masterDiameter.v.val;
                    else console.log("unknown brush parameters");
                    h.data = {
                        e: _.S.UA,
                        pO: d5.mO,
                        L4: l
                    }
                } else {
                    console.log(O, R);
                    throw S
                }
            } else if (b == "move") {
                if (S == "Lyr") {
                    var I = R.T.v;
                    if (I.classID == "Ofst") {
                        X.data = {
                            e: "trsl",
                            anH: I.Hrzn.v.val,
                            aiY: I.Vrtc.v.val
                        };
                        X.f = z.sk
                    } else {
                        var t, H;
                        if (I[0].t == "Enmr") {
                            if (I[0].v.enum == "Frnt") H = 0;
                            else if (I[0].v.enum == "Prvs") H = 2;
                            else if (I[0].v.enum == "Back") H = 3;
                            else throw "e"
                        } else t = I[0].v.val;
                        X.data = {
                            e: a.aH,
                            target: t,
                            D3: H,
                            aiQ: R.Dplc ? R.Dplc.v : !1
                        }
                    }
                }
            } else if (b == "groupEvent") X.data = {
                e: a.nR
            };
            else if (b == "show" || b == "hide") {
                if (S == "Lyr") {
                    var L = hX.Jt(K, O);
                    if (L == -1) continue;
                    var gl = K.t[L].HY();
                    if (b == "show" && gl || b == "hide" && !gl) continue;
                    X.data = {
                        e: a.k7,
                        p: L
                    }
                } else if (S == "Chnl") {
                    X.data = {
                        e: a.wq,
                        D3: "fromAction",
                        F: w
                    }
                }
            } else if (b == "rotateEventEnum") {
                X.f = z.V_;
                var fk = R.Angl.v.val;
                X.data = {
                    e: "rot",
                    Wp: [2, 5],
                    F: -fk * Math.PI / 180
                }
            } else if (b == "flip") {
                X.f = z.V_;
                var h5 = R.Axis.v.Ornt == "Hrzn",
                    cf = h5 ? new fB(-1, 1) : new fB(1, -1);
                X.data = {
                    e: "scl",
                    Wp: [
                        [2, 6],
                        [22, 4, h5 ? 2 : 3]
                    ],
                    F: cf
                }
            } else if (b == "transform") {
                var f = 1,
                    aH = 1,
                    gY = 0,
                    cC = 0,
                    cY = 0,
                    gJ = 0,
                    bM = 0;
                if (R.Wdth) f = R.Wdth.v.val / 100;
                if (R.Hght) aH = R.Hght.v.val / 100;
                if (R.Skew) {
                    var cN = R.Skew.v;
                    gY = cN.Hrzn.v.val;
                    cC = cN.Vrtc.v.val
                }
                if (R.Ofst) {
                    var eu = R.Ofst.v;
                    gJ = eu.Hrzn.v.val;
                    bM = eu.Vrtc.v.val
                }
                if (R.Angl) cY = R.Angl.v.val;
                var cU = new dj;
                cU.concat(new dj(f, f * Math.tan(cC * Math.PI / 180), aH * Math.tan(gY * Math.PI / 180), aH, 0, 0));
                cU.rotate(-cY * Math.PI / 180);
                cU.translate(gJ, bM);
                var h7 = {
                    Qcsa: 4,
                    Qcs0: 0,
                    Qcs1: 2,
                    Qcs2: 8,
                    Qcs3: 6,
                    Qcs4: 1,
                    Qcs5: 5,
                    Qcs6: 7,
                    Qcs7: 3
                } [R.FTcs.v.QCSt];
                if (h7 == null) throw R.FTcs.v.QCSt;
                var L = R.null ? hX.Jt(K, O) : null;
                X.f = z.Go;
                X.data = {
                    e: "mat",
                    Qg: h7,
                    F: cU,
                    p: L
                }
            } else if (S == "Chnl") {
                X.data = {
                    e: a.wq,
                    D3: "fromAction",
                    F: w
                }
            } else if (b == "duplicate") X.data = {
                e: a.NK,
                jg: R.Nm ? R.Nm.v : null
            };
            else if (b == "delete") X.data = {
                e: a.kG
            };
            else if (b == "align") {
                if (R.Aply && R.Aply.v.projection == "Auto") {
                    X.f = z.V_;
                    X.data = {
                        e: "auto-align"
                    }
                } else {
                    X.f = z.sk;
                    var P = {
                        AdLf: 0
                    } [R.Usng.v.ADSt];
                    if (P == null) throw "e";
                    X.data = {
                        e: "algn",
                        F: P
                    }
                }
            } else if (b == "applyLocking") {
                var hn = R.layerLocking.v,
                    gS;
                if (hn.protectTransparency) gS = [
                    [hn.protectTransparency.v],
                    [0]
                ];
                else if (hn.protectNone) gS = [
                    [!1, !1, !1, !1],
                    [0, 1, 2, 31]
                ];
                else {
                    console.log(hn);
                    throw "e"
                }
                X.data = {
                    e: a.fp,
                    tu: gS
                }
            }
            if (X.data) o.A(X);
            else if (h.data) o.A(h);
            else {
                console.log(w);
                alert("Unknown action \"" + b + "\"");
                throw "e"
            }
        }
    };
    hX.Jt = function(w, o) {
        var Q = o.t,
            K = -1;
        if (Q == "name") {
            var b = o.v.val,
                K = -1;
            for (var M = 0; M < w.t.length; M++)
                if (w.t[M].getName() == b) {
                    K = M;
                    break
                }
        }
        if (Q == "Enmr" && w.u.length != 0) K = w.u[0];
        if (Q == "Enmr" && o.v.enum == "Frwr") K = w.u[0] + 1;
        if (Q == "Enmr" && o.v.enum == "Bckw") K = w.u[0] - 1;
        if (Q == "prop") {
            if (o.v.keyID == "Bckg") K = 0
        }
        return K
    };
    var au = {};
    au.get = function(w) {
        for (var o in au.names)
            if (w[o] != null) return o;
        return null
    };
    au.Xw = function(w, o) {
        var Q = au.WB,
            K;
        if (w == "brit") {
            var b = o.Brgh ? o.Brgh.v : 0,
                R = o.Cntr ? o.Cntr.v : 0,
                X = o.useLegacy ? o.useLegacy.v : !1;
            if (X) {
                var h = b / 255,
                    e = 1 + R / 100;
                if (e > 1) e = 1 + Math.tan(Math.PI / 2 * R / 101);
                var Z = (1 - e) / 2,
                    P = v.AU.j8(h, h, h),
                    J = [e, 0, 0, Z, 0, e, 0, Z, 0, 0, e, Z, 0, 0, 0, 1],
                    i = v.AU.multiply(P, J),
                    k = new v.Dz(256);
                for (var M = 0; M < 256; M++) k.W[M] = M;
                v.AU.transform(k, k, i);
                K = {
                    type: Q.nx,
                    Sw: k.W,
                    eH: k.W,
                    ae: k.W,
                    cB: !1,
                    wS: !1
                }
            } else {
                var $ = 1024,
                    n = -30 + 60 * (R + 100) / 200,
                    j = [];
                for (var M = 0; M < 4; M++) j.push(v.R2.va(M / 3 * 255, M / 3 * 255, !0));
                j[1].v.Hrzn.v = 64;
                j[1].v.Vrtc.v = 64 - n;
                j[2].v.Hrzn.v = 128 + 64;
                j[2].v.Vrtc.v = 128 + 64 + n;
                j.sort(function(cj, gN) {
                    return cj.v.Hrzn.v - gN.v.Hrzn.v
                });
                var y = v.R2.js(j, $);

                function V(cj, $) {
                    var j = [],
                        A = 3;
                    for (var M = 0; M < A + 1; M++) j.push(v.R2.va(M / A * 255, M / A * 255, !0));
                    j[1].v.Hrzn.v = 130 - cj * 26;
                    j[1].v.Vrtc.v = 130 + cj * 51;
                    j[2].v.Hrzn.v = 233 - cj * 48;
                    j[2].v.Vrtc.v = 233 + cj * 10;
                    return v.R2.js(j, $)
                }
                var O = V(Math.abs(b) / 100, $);
                if (b < 0) {
                    var S = [],
                        G = 1 / $;
                    for (var M = 0; M < $; M++) {
                        var D = M * G,
                            q = M;
                        while (O[q] > D && q > 1) q--;
                        S[M] = q * G
                    }
                    O = S
                }
                var T = new Uint8Array($);
                for (var M = 0; M < $; M++) {
                    var L = Math.round(($ - 1) * O[M]);
                    T[M] = Math.round(255 * y[L])
                }
                K = {
                    type: Q.nx,
                    Sw: T,
                    eH: T,
                    ae: T,
                    cB: !1,
                    wS: !1
                }
            }
        }
        if (w == "levl") {
            var N = [],
                F, I, P, s, u, g;
            for (var M = 0; M < 4; M++) N.push(fT.ns(o, M));
            F = -N[0][0] / 255;
            I = 1 / (N[0][1] / 255 - N[0][0] / 255);
            P = v.AU.multiply(v.AU.Of(I, I, I), v.AU.j8(F, F, F));
            s = v.AU.Of(1 / (N[1][1] / 255 - N[1][0] / 255), 1 / (N[2][1] / 255 - N[2][0] / 255), 1 / (N[3][1] / 255 - N[3][0] / 255));
            u = v.AU.j8(-N[1][0] / 255, -N[2][0] / 255, -N[3][0] / 255);
            g = v.AU.multiply(s, u);
            var T = new v.Dz(256);
            for (var M = 0; M < 256; M++) T.W[M] = T.a[M] = T.k[M] = M;
            var U = 1 / (N[0][4] / 100),
                r = 1 / (N[1][4] / 100),
                x = 1 / (N[2][4] / 100),
                C = 1 / (N[3][4] / 100);
            v.AU.transform(T, T, g);
            for (var M = 0; M < 256; M++) {
                T.W[M] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(T.W[M] / 255, r))));
                T.a[M] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(T.a[M] / 255, x))));
                T.k[M] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(T.k[M] / 255, C))))
            }
            v.AU.transform(T, T, P);
            for (var M = 0; M < 256; M++) {
                T.W[M] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(T.W[M] / 255, U))));
                T.a[M] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(T.a[M] / 255, U))));
                T.k[M] = Math.round(Math.max(0, Math.min(255, 255 * Math.pow(T.k[M] / 255, U))))
            }
            F = N[0][2] / 255;
            I = N[0][3] / 255 - N[0][2] / 255;
            P = v.AU.multiply(v.AU.j8(F, F, F), v.AU.Of(I, I, I));
            s = v.AU.Of(N[1][3] / 255 - N[1][2] / 255, N[2][3] / 255 - N[2][2] / 255, N[3][3] / 255 - N[3][2] / 255);
            u = v.AU.j8(N[1][2] / 255, N[2][2] / 255, N[3][2] / 255);
            g = v.AU.multiply(u, s);
            v.AU.transform(T, T, v.AU.multiply(P, g));
            K = {
                type: Q.nx,
                Sw: T.W,
                eH: T.a,
                ae: T.k,
                cB: !1,
                wS: !1
            }
        }
        if (w == "curv") {
            var p = fd.ns(o, 0).length == 256 ? 1 : 0,
                l = [];
            if (p == 0) {
                var c = v.R2.XO(fd.ns(o, 0), 256);
                for (var M = 1; M < 4; M++) {
                    var t = v.R2.XO(fd.ns(o, M), 256);
                    l.push(v.R2.yA(t, c))
                }
            } else {
                var gl = [];
                for (var M = 0; M < 4; M++) {
                    var ie = new Uint8Array(256);
                    gl.push(ie);
                    var fk = fd.ns(o, M);
                    for (var q = 0; q < 256; q++) ie[q] = fk[q]
                }
                for (var M = 1; M < 4; M++) l.push(v.R2.yA(gl[M], gl[0]))
            }
            K = {
                type: Q.nx,
                Sw: l[0],
                eH: l[1],
                ae: l[2],
                cB: !1,
                wS: !1
            }
        }
        if (w == "expA") {
            console.log(o);
            var h5 = o.Exps,
                f = o.Ofst,
                aH = o.gammaCorrection,
                gY = h5 ? h5.v : 0,
                cC = f ? f.v : 0,
                cY = aH ? aH.v : 1,
                T = new Uint8Array(256);
            for (var M = 0; M < 256; M++) {
                var o = M / 255,
                    gJ = Math.pow(Math.abs(cC), 1 / (Math.PI / 2));
                if (cC > 0) {
                    o = Math.max(cC / Math.E, o);
                    o = o * Math.exp(cC / 1.75 + gY / Math.PI);
                    o = (1 - gJ) * o + gJ * 1
                } else {
                    o = o * Math.exp(-cC * 1.75 + gY / Math.PI);
                    o = o + -gJ * 1.14
                }
                o = Math.pow(o, 1 / cY);
                o = Math.max(0, Math.min(1, o));
                T[M] = Math.round(o * 255)
            }
            K = {
                type: Q.nx,
                Sw: T,
                eH: T,
                ae: T,
                cB: !1,
                wS: !1
            }
        }
        if (w == "vibA") {
            K = {
                type: Q.Mf,
                pO: [o.vibrance ? o.vibrance.v : 0, o.Strt ? o.Strt.v : 0]
            }
        }
        if (w == "hue2") {
            var bM = [],
                cN = [],
                eu = [],
                cU = o.Clrz ? o.Clrz.v : !1;
            for (var M = 0; M < 256; M++) {
                bM[M] = M / 255;
                cN[M] = 0;
                eu[M] = 0
            }
            var hn = e4.ns(o, 0),
                gS = au.GG(hn[1] / 100);
            if (cU) {
                var aq = hn[0] / 360;
                for (var M = 0; M < 256; M++) {
                    bM[M] = aq;
                    cN[M] = gS
                }
            } else {
                for (var M = 0; M < 256; M++) {
                    var ef = bM[M],
                        dU = cN[M];
                    bM[M] += hn[0] / 360;
                    for (var q = 0; q < 6; q++) {
                        var hO = e4.ns(o, q + 1),
                            ao = hO.QN,
                            hI = hO.oZ,
                            gJ = 0;
                        for (var a$ = 1; a$ < 4; a$++)
                            if (hI[a$] < hI[0]) hI[a$] += 360;
                        var hH = hI[0],
                            bq = hI[1],
                            dq = hI[2],
                            g9 = hI[3],
                            cx = ef * 360;
                        if (cx < hI[0]) cx += 360;
                        var hp = (cx - hH) / (bq - hH),
                            b0 = (cx - dq) / (g9 - dq);
                        if (hp < 0) gJ = 0;
                        else if (hp < 1) gJ = hp;
                        else if (b0 < 0) gJ = 1;
                        else if (b0 < 1) gJ = 1 - b0;
                        else gJ = 0;
                        var e = au.GG(ao[1] / 100);
                        bM[M] += gJ * ao[0] / 360;
                        cN[M] += gJ * e;
                        eu[M] += gJ * ao[2] / 100
                    }
                }
                for (var M = 0; M < 256; M++) {
                    cN[M] = (1 + cN[M]) * (1 + gS) - 1;
                    eu[M] = Math.max(-1, Math.min(1, eu[M]))
                }
            }
            var bh = new Uint8Array(256),
                hA = new Uint8Array(256),
                ft = new Uint8Array(256);
            for (var M = 0; M < 256; M++) {
                var c6 = bM[M],
                    ba = cN[M],
                    f7 = eu[M];
                if (c6 > 1) c6--;
                if (c6 < 0) c6++;
                ba = au.akt(ba);
                ba = (1 + ba) * .5;
                f7 = (1 + f7) * .5;
                bh[M] = Math.round(255 * c6);
                hA[M] = Math.round(255 * ba);
                ft[M] = Math.round(255 * f7)
            }
            var an = hn[2] / 100,
                b5 = an < 0 ? -an : an,
                hG = an < 0 ? 0 : 1;
            K = {
                type: Q.Zq,
                X5: bh,
                IB: hA,
                iy: ft,
                GR: b5 * hG,
                T8: 1 - b5,
                a2n: hn[2] / 100,
                Rl: cU ? 1 : 0
            }
        }
        if (w == "nvrt") {
            var T = new Uint8Array(256);
            for (var M = 0; M < 256; M++) T[M] = 255 - M;
            K = {
                type: Q.nx,
                Sw: T,
                eH: T,
                ae: T,
                cB: !1,
                wS: !1
            }
        }
        if (w == "post") {
            var eE = o.Lvls.v,
                T = new Uint8Array(256),
                gJ = eE / 255.001,
                aV = 255 / (eE - 1);
            for (var M = 0; M < 256; M++) T[M] = Math.floor(M * gJ) * aV;
            K = {
                type: Q.nx,
                Sw: T,
                eH: T,
                ae: T,
                cB: !1,
                wS: !1
            }
        }
        if (w == "grdm") {
            var dp = o.Grad.v,
                en = o.Rvrs,
                f1 = v.V.Eb(dp.Clrs.v, 0, 0),
                $ = 1024,
                de = v.V.BE(dp, f1, $, en ? en.v : !1),
                dM = v.$($),
                ih = v.$($),
                fa = v.$($);
            v.KU(de, dM, 0);
            v.KU(de, ih, 1);
            v.KU(de, fa, 2);
            K = {
                type: Q.nx,
                Sw: dM,
                eH: ih,
                ae: fa,
                cB: !0,
                wS: !1
            }
        }
        if (w == "selc") {
            var eI = new Float32Array(9 * 3 * 2),
                gR = o.tN,
                hk = o.Mthd ? o.Mthd.v.CrcM == "Absl" : !1;
            for (var q = 0; q < 9; q++) {
                var d3 = q * 6,
                    iB = gf.ns(o, q),
                    gk = iB[0] / 100,
                    d$ = iB[1] / 100,
                    hx = iB[2] / 100,
                    bz = iB[3] / 100;
                if (hk) {
                    eI[d3] = eI[d3 + 1] = eI[d3 + 2] = 1;
                    eI[d3 + 3] = gk * (1 + bz) + bz;
                    eI[d3 + 4] = d$ * (1 + bz) + bz;
                    eI[d3 + 5] = hx * (1 + bz) + bz
                } else {
                    eI[d3 + 0] = (1 + gk) * (1 + bz);
                    eI[d3 + 1] = (1 + d$) * (1 + bz);
                    eI[d3 + 2] = (1 + hx) * (1 + bz)
                }
            }
            K = {
                type: Q.b5,
                LG: eI
            }
        }
        if (w == "blwh") {
            var hY = "Rd Yllw Grn Cyn Bl Mgnt".split(" "),
                K = [],
                dg = 0,
                bL = 0;
            for (var M = 0; M < 6; M++) K.push(o[hY[M]].v);
            K.push(o.useTint.v, o.tintColor.v);
            var fL = [];
            for (var M = 0; M < 6; M++) fL.push((K[M] - 50) / 50);
            var c4 = v.V.c2(K[7]);
            c4.W /= 255;
            c4.a /= 255;
            c4.k /= 255;
            var dF = v.Zd(c4.W, c4.a, c4.k),
                f7 = v.uE(v.a2(dF.Y7, 1, .5)),
                co = dF.sa * dF.O_;
            if (f7 == .5) dg = bL = .5;
            else {
                dg = co * (.5 - f7) / (.5 / f7 - 1);
                bL = 1 - co * (.5 - f7) - 1 / (2 * (1 - f7));
                bL /= 1 - 1 / (2 * (1 - f7))
            }
            K = {
                type: Q.MB,
                I7: fL,
                XQ: K[6] ? 1 : 0,
                wa: dF.Y7,
                uE: f7,
                tX: co,
                XS: dg,
                S4: bL
            }
        }
        if (w == "blnc") {
            console.log(o);
            var N = [],
                bg = ["ShdL", "MdtL", "HghL"];
            for (var M = 0; M < 3; M++) {
                if (o[bg[M]] == null) {
                    N[M] = [0, 0, 0];
                    continue
                }
                var eE = o[bg[M]].v,
                    fy = eE[0].v / 100,
                    bH = eE[1].v / 100,
                    e7 = eE[2].v / 100,
                    ep = o.PrsL == null || o.PrsL.v ? (Math.min(fy, bH, e7) + Math.max(fy, bH, e7)) / 2 : 0;
                N[M] = [fy - ep, bH - ep, e7 - ep]
            }
            var l = [v.$(256), v.$(256), v.$(256)];
            for (var q = 0; q < 3; q++)
                for (var M = 0; M < 256; M++) {
                    var D = M * (1 / 255),
                        eV = 0,
                        n = 0,
                        d9 = 0;
                    n = N[2][q];
                    d9 = Math.abs(n);
                    if (n < 0) eV = Math.pow(D, Math.SQRT2);
                    else eV = 1.63 * (Math.pow(D + .04, .5) - .2);
                    D = d9 * eV + (1 - d9) * D;
                    n = N[1][q];
                    d9 = Math.abs(n);
                    if (n < 0) eV = Math.pow(D, 2);
                    else eV = Math.min(2.35 * (Math.pow(D + .09, .5) - .3), Math.pow(D, 1 / 2));
                    D = d9 * eV + (1 - d9) * D;
                    n = N[0][q];
                    d9 = Math.abs(n);
                    if (n < 0) eV = D < .4 ? 0 : Math.pow((D - .4) / .6, Math.SQRT2);
                    else eV = Math.pow(D, Math.SQRT2 / 2);
                    D = d9 * eV + (1 - d9) * D;
                    D = Math.max(0, Math.min(1, D));
                    l[q][M] = Math.round(D * 255)
                }
            K = {
                type: Q.nx,
                Sw: l[0],
                eH: l[1],
                ae: l[2],
                cB: !1,
                wS: !1
            }
        }
        if (w == "phfl") {
            var ad = v.V.c2(o.Clr.v),
                gE = [ad.W / 255, ad.a / 255, ad.k / 255],
                aQ = o.Dnst.v / 100,
                l = [v.$(256), v.$(256), v.$(256)];
            for (var q = 0; q < 3; q++)
                for (var M = 0; M < 256; M++) {
                    var D = M * (1 / 255),
                        cO = D * gE[q];
                    cO = Math.max(0, Math.min(1, cO));
                    D = aQ * cO + (1 - aQ) * D;
                    l[q][M] = Math.round(D * 255)
                }
            K = {
                type: Q.nx,
                Sw: l[0],
                eH: l[1],
                ae: l[2],
                cB: !1,
                wS: o.PrsL.v
            }
        }
        if (w == "thrs") {
            var T = v.$(256);
            for (var M = o.Lvl.v; M < 256; M++) T[M] = 255;
            K = {
                type: Q.nx,
                Sw: T,
                eH: T,
                ae: T,
                cB: !0,
                wS: !1
            }
        }
        if (w == "mixr") {
            var e8 = au.dS(o),
                i = [];
            for (var M = 0; M < e8.F.length; M++)
                if (M % 5 != 3) i.push(e8.F[M] / 100);
            if (e8.iq) {
                for (var fh = 1; fh < 3; fh++)
                    for (var D = 0; D < 4; D++) i[fh * 4 + D] = i[D]
            }
            K = {
                type: Q.ux,
                M1: i
            }
        }
        if (w == "rplc") {
            var aX = o.Mnm.v,
                cu = o.Mxm.v;
            K = {
                type: Q.D_,
                Rn: [aX.Lmnc.v, aX.A.v, aX.B.v],
                gB: [cu.Lmnc.v, cu.A.v, cu.B.v],
                shift: [o.H.v / 360, o.Strt.v / 100, o.Lght.v / 100],
                lQ: o.Fzns.v / 200
            }
        }
        if (w == "clrL" && o.profile) {
            var eF = new Uint8Array(o.profile.v),
                i6 = ICC.R(eF.buffer),
                b3 = [],
                aR = 17,
                b3 = ICC.U.sampleLUT(i6, aR);
            K = {
                type: Q.Xu,
                Hb: ICC.U.rgba8LUT(b3, aR),
                ac_: b3,
                f2: aR
            }
        }
        return K
    };
    au.jp = function(w, o) {
        var Q = -1;
        if (w != "levl" || o == null) Q = -1;
        else if (o.Auto) Q = 0;
        else if (o.AuCo) Q = 1;
        else if (o.autoBlackWhite) Q = 2;
        return Q
    };
    au.WB = {
        nx: 0,
        Zq: 1,
        Mf: 2,
        b5: 3,
        MB: 4,
        ux: 5,
        D_: 6,
        Xu: 7
    };
    au.GG = function(w) {
        if (w < 0) return w;
        return Math.pow(Math.tan(Math.PI / 2 * w), 1.3)
    };
    au.akt = function(w) {
        if (w < 0) return w;
        w = Math.pow(w, 1 / 1.3);
        return Math.atan2(w, 1) / (Math.PI / 2)
    };
    au.WL = function(w, o, Q, K) {
        var b = au.WB,
            R = Date.now();
        if (d.cv && K.O() > 300 * 300 && w.type != b.nx && w.type != b.Xu) {
            K = K.clone();
            K.x = K.y = 0;
            var X = d.Ap(0, K.D, K.j);
            X.set(o);
            d.Qy(X, K);
            X.zO(K);
            au.fg(w, X.ts, K);
            X.get(Q);
            return
        }
        if (w.type == b.Xu) {
            var h = w.ac_,
                e = w.f2;
            ICC.U.applyLUT(h, e, o, Q)
        }
        if (w.type == b.ux) v.AU.mh(o, Q, w.M1);
        if (w.type == b.MB) {
            var Z = w.tX,
                P = w.uE,
                J = w.XS,
                i = w.S4,
                k = o.length;
            for (var M = 0; M < k; M += 4) {
                var K = o[M] * (1 / 255),
                    $ = o[M + 1] * (1 / 255),
                    n = o[M + 2] * (1 / 255),
                    j = v.uX(K, $, n),
                    y = 0;
                for (var V = 0; V < 6; V++) y += Math.min(1, 1.7 * (1 - j._Z)) * j.sa * w.I7[V] * au.oN(j.Y7, V * (1 / 6));
                var O = Math.max(0, Math.min(1, j._Z * (1 + y)));
                if (w.XQ == 1) {
                    var S = 0;
                    if (O < J) S = O * (.5 / P);
                    else if (O < i) S = O + Z * (.5 - P);
                    else S = 1 - (1 - O) * .5 / (1 - P);
                    j.Y7 = w.wa;
                    j.sa = Math.min(1, Z + 3 * Z * Math.abs(O - .5 * (J + i)));
                    j._Z = S
                } else {
                    j.Y7 = 0;
                    j.sa = 0;
                    j._Z = O
                }
                var G = v.a2(j.Y7, j.sa, j._Z);
                Q[M] = Math.round(G.W * 255);
                Q[M + 1] = Math.round(G.a * 255);
                Q[M + 2] = Math.round(G.k * 255)
            }
        }
        if (w.type == b.b5) {
            var D = w.LG,
                k = o.length,
                q = 1 / 255;
            for (var M = 0; M < k; M += 4) {
                var K = o[M] * q,
                    $ = o[M + 1] * q,
                    n = o[M + 2] * q,
                    j = v.uX(K, $, n),
                    T = Math.max(K, Math.max($, n)),
                    L = Math.min(K, Math.min($, n)),
                    N = 1 - K,
                    F = 1 - $,
                    I = 1 - n,
                    s = 0,
                    u = 0,
                    g = 0;
                for (var V = 0; V < 9; V++) {
                    var U = V * 6,
                        p = 0;
                    if (D[U] == 1 && D[U + 1] == 1 && D[U + 2] == 1 && D[U + 3] == 0 && D[U + 4] == 0 && D[U + 5] == 0) continue;
                    var r = N * D[U] + D[U + 3],
                        x = F * D[U + 1] + D[U + 4],
                        C = I * D[U + 2] + D[U + 5];
                    if (V < 6) p = au.oN(j.Y7, V * (1 / 6)) * j.sa * 2 * Math.min(j._Z, 1 - j._Z);
                    else if (V == 6) p = Math.max(0, L - .5) * 2;
                    else if (V == 7) p = 1 - (Math.abs(T - .5) + Math.abs(L - .5));
                    else p = Math.max(0, .5 - T) * 2;
                    s += (Math.max(0, Math.min(1, r)) - N) * p;
                    u += (Math.max(0, Math.min(1, x)) - F) * p;
                    g += (Math.max(0, Math.min(1, C)) - I) * p
                }
                N = Math.max(0, Math.min(1, N + s));
                F = Math.max(0, Math.min(1, F + u));
                I = Math.max(0, Math.min(1, I + g));
                K = 1 - N;
                $ = 1 - F;
                n = 1 - I;
                Q[M] = Math.round(K * 255);
                Q[M + 1] = Math.round($ * 255);
                Q[M + 2] = Math.round(n * 255)
            }
        }
        if (w.type == b.nx) {
            v.afb(o, Q, w.Sw, w.eH, w.ae, w.cB, w.wS)
        }
        if (w.type == b.Zq) {
            var l = new Uint32Array(o.buffer),
                c = new Uint32Array(Q.buffer),
                k = l.length;
            if (au.Bt == null) {
                au.Bt = new Float64Array(256);
                for (var M = 0; M < 256; M++) au.Bt[M] = au.GG(-1 + 2 * M / 255)
            }
            var t = au.Bt;
            for (var M = 0; M < k; M++) {
                var H = l[M],
                    K = (H & 255) * (1 / 255),
                    $ = (H >>> 8 & 255) * (1 / 255),
                    n = (H >>> 16 & 255) * (1 / 255),
                    gl = H >>> 24,
                    ie = Math.min(K, $, n),
                    fk = Math.max(K, $, n),
                    h5 = 0,
                    cf = 0,
                    f = 0;
                if (fk != ie) {
                    var aH = fk - ie;
                    switch (fk) {
                        case K:
                            h5 = ($ - n) / aH + ($ < n ? 6 : 0);
                            break;
                        case $:
                            h5 = (n - K) / aH + 2;
                            break;
                        case n:
                            h5 = (K - $) / aH + 4;
                            break
                    }
                    h5 = h5 * (1 / 6)
                }
                var gY = ~~(h5 * 255 + .5),
                    cC = w.X5[gY] * (1 / 255),
                    cY = w.IB[gY] * (1 / 255) * 2 - 1,
                    gJ = w.iy[gY] * (1 / 255) * 2 - 1,
                    y = -gJ,
                    bM = ie;
                if (0 < gJ) {
                    y = gJ;
                    bM = fk
                }
                var cN = w.GR + w.T8 * y * bM,
                    eu = w.T8 * (1 - y);
                K = cN + eu * K;
                $ = cN + eu * $;
                n = cN + eu * n;
                fk = Math.max(K, $, n);
                ie = Math.min(K, $, n);
                f = (fk + ie) * .5;
                if (fk != ie) {
                    var aH = fk - ie;
                    cf = f > .5 ? aH / (2 - (fk + ie)) : aH / (fk + ie)
                }
                var cU = cY;
                if (w.Rl == 0) {
                    cY = t[Math.floor((1 + cY) * 127.5)];
                    cU = Math.min(cf * (1 + cY), 1)
                }
                h5 = cC;
                cf = cU;
                if (cf == 0) K = $ = n = f;
                else {
                    var h7 = f < .5 ? f * (1 + cf) : f + cf - f * cf,
                        hn = 2 * f - h7;
                    K = v.gg(hn, h7, h5 + 1 / 3);
                    $ = v.gg(hn, h7, h5);
                    n = v.gg(hn, h7, h5 - 1 / 3)
                }
                c[M] = gl << 24 | n * 255 << 16 | $ * 255 << 8 | K * 255
            }
        }
        if (w.type == b.D_) {
            v.gb(o, Q);
            var l = new Uint32Array(o.buffer),
                c = new Uint32Array(Q.buffer),
                k = l.length,
                gS = w.lQ,
                aq = 1 / gS,
                ef = {
                    hc: w.Rn[0],
                    K: w.Rn[1],
                    k: w.Rn[2]
                },
                dU = {
                    hc: w.gB[0],
                    K: w.gB[1],
                    k: w.gB[2]
                };
            for (var M = 0; M < k; M++) {
                var H = l[M],
                    hO = H & 255,
                    ao = H >>> 8 & 255,
                    hI = H >>> 16 & 255,
                    K = hO * (1 / 255),
                    $ = ao * (1 / 255),
                    n = hI * (1 / 255),
                    gl = H >>> 24,
                    a$ = v.TP(hO, ao, hI),
                    hH = v.VO(a$, ef, dU, gS, aq);
                if (hH == 0) continue;
                var j = v.uX(K, $, n),
                    cC = 2 + j.Y7 + hH * w.shift[0];
                j.Y7 = cC - ~~cC;
                j.sa = Math.max(0, Math.min(1, j.sa + hH * w.shift[1]));
                j._Z = Math.max(0, Math.min(1, j._Z + hH * w.shift[2]));
                var G = v.a2(j.Y7, j.sa, j._Z);
                K = G.W;
                $ = G.a;
                n = G.k;
                c[M] = gl << 24 | n * 255 << 16 | $ * 255 << 8 | K * 255
            }
        }
        if (w.type == b.Mf) {
            var l = new Uint32Array(o.buffer),
                c = new Uint32Array(Q.buffer),
                k = l.length,
                bq = w.pO[0] / 100,
                dq = w.pO[1] / 100;
            for (var M = 0; M < k; M++) {
                var H = l[M],
                    K = (H & 255) * (1 / 255),
                    $ = (H >>> 8 & 255) * (1 / 255),
                    n = (H >>> 16 & 255) * (1 / 255),
                    gl = H >>> 24,
                    j = v.Zd(K, $, n),
                    h5 = j.Y7,
                    cf = j.sa,
                    f = j.O_,
                    g9 = 0,
                    cx = 45 / 360,
                    hp = h5 < cx ? Math.cos(Math.PI / 2 * (h5 - cx / 2) / (cx / 2)) : 0;
                cf = cf + .2 * (1 - .4 * hp) * bq * Math.max(0, Math.sin(cf * Math.PI));
                cf = cf * (1 + dq);
                cf = Math.max(0, Math.min(1, cf));
                var G = v.rp(h5, cf, f);
                K = G.W;
                $ = G.a;
                n = G.k;
                c[M] = gl << 24 | n * 255 << 16 | $ * 255 << 8 | K * 255
            }
        }
    };
    au.fg = function(w, o, Q) {
        d.uQ.fg(w, o)
    };
    au.oN = function(w, o) {
        var Q = v.Pd(o, w) * 6;
        return Math.max(0, Math.min(1, Q < 0 ? 1 + Q : 1 - Q))
    };
    au.names = {
        brit: [4, 0],
        levl: [4, 1],
        curv: [4, 2],
        expA: [4, 3],
        vibA: [4, 4],
        hue2: [4, 5],
        blnc: [4, 6],
        blwh: [4, 7],
        phfl: [4, 8],
        mixr: [4, 9],
        clrL: [4, 10],
        nvrt: [4, 11],
        post: [4, 12],
        thrs: [4, 13],
        grdm: [4, 14],
        selc: [4, 15],
        rplc: [4, 17]
    };
    au.yZ = ["expA", "clrL", "selc"];
    au.hT = [
        [13, 1, 1],
        [13, 1, 3],
        [13, 1, 4],
        [13, 1, 11],
        [13, 1, 5],
        [13, 1, 12]
    ];
    au.a6l = [
        [13, 1, 11],
        [13, 1, 12],
        [13, 1, 3],
        [13, 1, 10]
    ];
    au.kl = [
        [13, 1, 1],
        [13, 1, 4],
        [13, 1, 5]
    ];
    au.gy = {
        BrgC: "brit",
        Lvls: "levl",
        Crvs: "curv",
        Exps: "expA",
        vibrance: "vibA",
        HStr: "hue2",
        ClrB: "blnc",
        BanW: "blwh",
        photoFilter: "phfl",
        Invr: "nvrt",
        Pstr: "post",
        Thrs: "thrs",
        GrMp: "grdm",
        SlcC: "selc",
        ChnM: "mixr",
        colorLookup: "clrL",
        rplc: "rplc"
    };
    au.MP = function() {
        var w = JSON.parse(JSON.stringify(au.gy));
        delete w.GrMp;
        w.GdMp = "grdm";
        return w
    }();
    au.k_ = {
        brit: "brightnessEvent",
        levl: "levels",
        curv: "curves",
        expA: "exposure",
        vibA: "vibrance",
        hue2: "hueSaturation",
        blnc: "colorBalance",
        blwh: "blackAndWhite",
        phfl: "photoFilter",
        mixr: "channelMixer",
        clrL: "colorLookup",
        nvrt: "invert",
        post: "posterization",
        thrs: "thresholdClassEvent",
        grdm: "gradientMapEvent",
        selc: "selectiveColor",
        rplc: "replaceColor"
    };
    au.keys = {
        levl: [E.HE, E.hc],
        curv: [E.HE, E.pB],
        hue2: [E.HE, E.Zj],
        nvrt: [E.HE, E.jr],
        blnc: [E.HE, E.so]
    };
    au.m1 = function(w) {
        var o = bf._R("mixr");
        o.Mnch = {
            t: "bool",
            v: w.iq
        };

        function Q(K, M) {
            var b = {
                    classID: "ChMx"
                },
                R = {
                    Rd: 0,
                    Grn: 1,
                    Bl: 2,
                    Cnst: 4
                };
            for (var X in R) b[X] = {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: K[M + R[X]]
                }
            };
            return {
                t: "Objc",
                v: b
            }
        }
        if (w.iq) o.Gry = Q(w.F, 0);
        else {
            o.Rd = Q(w.F, 0);
            o.Grn = Q(w.F, 5);
            o.Bl = Q(w.F, 10)
        }
        return o
    };
    au.dS = function(w) {
        function o(K, b, M) {
            var R = {
                Rd: 0,
                Grn: 1,
                Bl: 2,
                Cnst: 4
            };
            for (var X in R)
                if (K[X]) b[M + R[X]] = K[X].v.val
        }
        var Q = {
            iq: !1,
            F: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        };
        if (w.Mnch && w.Mnch.v) Q.iq = !0;
        if (Q.iq) o(w.Gry.v, Q.F, 0);
        else {
            o(w.Rd.v, Q.F, 0);
            o(w.Grn.v, Q.F, 5);
            o(w.Bl.v, Q.F, 10)
        }
        return Q
    };
    var bf = {};
    bf.ws = function(w) {
        var o = w.filterID.v;
        return o > 16777215 ? W.ajB(o) : w.Fltr.v.classID
    };
    bf.y0 = [{
        pE: "GEfc"
    }, {
        pE: "LnCr"
    }, {
        pE: "LqFy",
        S$: !0
    }, {
        YD: "3D",
        Qa: ["lightFilterGradient"]
    }, {
        YD: [24, 2],
        Qa: "Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")
    }, {
        YD: [24, 4],
        Qa: "Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")
    }, {
        YD: [24, 6],
        Qa: ["AdNs", "DstS", "Mdn "]
    }, {
        YD: [24, 8],
        Qa: ["ClrH", "Crst", "Mztn", "Msc ", "Pntl"]
    }, {
        YD: [24, 10],
        Qa: ["Clds", "DfrC", "LnsF"]
    }, {
        YD: [24, 12],
        Qa: ["Shrp", "ShrM", "smartSharpen", "UnsM"]
    }, {
        YD: [24, 14],
        Qa: ["FndE", "oilPaint", "Slrz"]
    }, {
        YD: [24, 16],
        Qa: "HghP,Mxm ,Mnm ,Ofst,Rept,Ctoa".split(",")
    }, {
        YD: "Fourier",
        Qa: ["dDFT", "iDFT"]
    }];
    bf.k_ = {
        LqFy: "LqFy",
        Avrg: "Avrg",
        "Blr ": "blurEvent",
        BlrM: "blurMethod",
        boxblur: "boxblur",
        GsnB: "gaussianBlur",
        MtnB: "motionBlur",
        RdlB: "radialBlur",
        surfaceBlur: "surfaceBlur",
        lightFilterGradient: "lightFilterGradient",
        adaptCorrect: "adaptCorrect",
        Pnch: "pinch",
        "Plr ": "polar",
        Rple: "ripple",
        "Shr ": "shear",
        Sphr: "spherize",
        Twrl: "twirl",
        Wave: "wave",
        AdNs: "addNoise",
        DstS: "dustAndScratches",
        "Mdn ": "median",
        ClrH: "colorHalftone",
        Crst: "",
        Mztn: "mezzotint",
        "Msc ": "mosaic",
        Pntl: "",
        Clds: "clouds",
        DfrC: "differenceClouds",
        LnsF: "LnsF",
        Shrp: "sharpen",
        ShrM: "sharpenMore",
        smartSharpen: "smartSharpen",
        UnsM: "unsharpMask",
        FndE: "findEdges",
        oilPaint: "oilPaint",
        HghP: "highPass",
        "Mxm ": "maximum",
        "Mnm ": "minimum",
        Ofst: "offset"
    };
    bf.tw = {
        AddNoise: "AdNs",
        Average: "Avrg",
        Blur: "Blr ",
        BlurMore: "BlrM",
        Clouds: "Clds",
        DifferenceClouds: "DfrC",
        DustAndScratches: "DstS",
        GaussianBlur: "GsnB",
        HighPass: "HghP",
        Maximum: "Mxm ",
        Minimum: "Mnm ",
        MotionBlur: "MtnB",
        Offset: "Ofst",
        Pinch: "Pnch",
        PolarCoordinates: "Plr ",
        Ripple: "Rple",
        Sharpen: "Shrp",
        SharpenMore: "ShrM",
        Twirl: "Twrl",
        UnsharpMask: "UnsM"
    };
    bf.VW = {
        rigidTransform: z.Ce
    };
    bf.names = {
        lightFilterGradient: "Normal Map",
        rigidTransform: [10, 46],
        LnCr: [24, 1, 1, 0],
        LqFy: [24, 1, 0, 0],
        GEfc: [24, 0],
        Avrg: [24, 3, 0],
        "Blr ": [24, 3, 1],
        BlrM: [24, 3, 2],
        boxblur: [24, 3, 3],
        GsnB: [24, 3, 4],
        Bokh: [24, 3, 5],
        MtnB: [24, 3, 6],
        RdlB: [24, 3, 7],
        surfaceBlur: [24, 3, 10],
        Dspl: [24, 5, 0],
        Pnch: [24, 5, 1],
        "Plr ": [24, 5, 2],
        Rple: [24, 5, 3],
        "Shr ": [24, 5, 4],
        Sphr: [24, 5, 5],
        Twrl: [24, 1, 0, 1, 3],
        Wave: [24, 5, 6],
        AdNs: [24, 7, 0],
        DstS: [24, 7, 2],
        "Mdn ": [24, 7, 3],
        ClrH: [24, 9, 0],
        Crst: [24, 9, 1],
        Mztn: [24, 9, 4],
        "Msc ": [24, 9, 5],
        Pntl: [24, 9, 6],
        Clds: [24, 11, 0],
        DfrC: [24, 11, 1],
        LnsF: [24, 11, 2],
        Shrp: [24, 13, 0],
        ShrM: [24, 13, 2],
        smartSharpen: [24, 13, 3],
        UnsM: [24, 13, 4],
        FndE: [24, 15, 3],
        oilPaint: [24, 15, 4],
        Slrz: "Solarize",
        HghP: [24, 17, 1],
        "Mxm ": [24, 17, 2],
        "Mnm ": [24, 17, 3],
        Ofst: [24, 17, 4],
        Rept: [24, 17, 5],
        Ctoa: "Color to Alpha",
        dDFT: "Fourier Transform",
        iDFT: "Inverse Fourier Transform",
        adaptCorrect: ["VAR0/VAR1", [19, 6, 0],
            [19, 6, 2]
        ]
    };
    bf._R = function(w) {
        var o = null;
        if (w == "GEfc") o = {
            __name: "Filter Gallery",
            classID: "GEfc",
            GEfs: {
                t: "VlLs",
                v: [{
                    t: "Objc",
                    v: h1._R("GlwE")
                }]
            }
        };
        if (w == "LqFy") {
            var Q = {
                    i7: 5,
                    Y7: 5,
                    map: new Float32Array(5 * 5 * 2)
                },
                K = new Uint8Array(hN.l8(Q)),
                b = [];
            for (var M = 0; M < K.length; M++) b.push(K[M]);
            o = {
                __name: "Liquify",
                classID: "LqFy",
                LqMe: {
                    t: "tdta",
                    v: b
                }
            }
        }
        if (w == "rigidTransform") {
            o = {
                __name: "Puppet Warp",
                classID: "rigidTransform",
                null: {
                    t: "obj ",
                    v: [{
                        t: "Enmr",
                        v: {
                            classID: "Lyr",
                            typeID: "Ordn",
                            enum: "Trgt"
                        }
                    }]
                },
                rigidType: {
                    t: "bool",
                    v: !0
                },
                puppetShapeList: {
                    t: "VlLs",
                    v: []
                },
                PuX0: {
                    t: "doub",
                    v: 0
                },
                PuX1: {
                    t: "doub",
                    v: 1e3
                },
                PuX2: {
                    t: "doub",
                    v: 1e3
                },
                PuX3: {
                    t: "doub",
                    v: 0
                },
                PuY0: {
                    t: "doub",
                    v: 0
                },
                PuY1: {
                    t: "doub",
                    v: 0
                },
                PuY2: {
                    t: "doub",
                    v: 1e3
                },
                PuY3: {
                    t: "doub",
                    v: 1e3
                }
            }
        }
        if (w == "LnCr") o = {
            __name: "Lens Correction",
            classID: "LnCr",
            LnAg: {
                t: "bool",
                v: !0
            },
            LnAc: {
                t: "bool",
                v: !1
            },
            LnAv: {
                t: "bool",
                v: !1
            },
            LnAs: {
                t: "bool",
                v: !1
            },
            LnIp: {
                t: "bool",
                v: !1
            },
            LnFo: {
                t: "doub",
                v: 0
            },
            LnPr: {
                t: "TEXT",
                v: ""
            },
            LnIa: {
                t: "doub",
                v: 0
            },
            LnI0: {
                t: "doub",
                v: 0
            },
            LnI1: {
                t: "doub",
                v: 0
            },
            LnI2: {
                t: "doub",
                v: 0
            },
            LnI3: {
                t: "doub",
                v: 1
            },
            LnRa: {
                t: "doub",
                v: 0
            },
            LnVp: {
                t: "doub",
                v: 0
            },
            LnHp: {
                t: "doub",
                v: 0
            },
            LnSi: {
                t: "doub",
                v: 100
            },
            LnFt: {
                t: "long",
                v: 2
            },
            LnSb: {
                t: "doub",
                v: 0
            },
            LnSt: {
                t: "long",
                v: 50
            },
            LnRc: {
                t: "doub",
                v: 0
            },
            LnGm: {
                t: "doub",
                v: 0
            },
            LnBy: {
                t: "doub",
                v: 0
            },
            LnNa: {
                t: "long",
                v: 64
            },
            LnIh: {
                t: "long",
                v: 0
            },
            LnIv: {
                t: "long",
                v: 0
            },
            LnIs: {
                t: "Objc",
                v: {
                    classID: "RGBC",
                    Rd: {
                        t: "doub",
                        v: 127
                    },
                    Grn: {
                        t: "doub",
                        v: 127
                    },
                    Bl: {
                        t: "doub",
                        v: 127
                    }
                }
            },
            LnNm: {
                t: "bool",
                v: !1
            }
        };
        if (w == "adaptCorrect") o = {
            __name: "Shadow/Highlight",
            classID: "adaptCorrect",
            sdwM: {
                t: "Objc",
                v: {
                    __name: "Parameters",
                    classID: "adaptCorrectTones",
                    Amnt: {
                        t: "UntF",
                        v: {
                            type: "#Prc",
                            val: 50
                        }
                    },
                    Wdth: {
                        t: "UntF",
                        v: {
                            type: "#Prc",
                            val: 25
                        }
                    },
                    Rds: {
                        t: "long",
                        v: 12
                    }
                }
            },
            hglM: {
                t: "Objc",
                v: {
                    __name: "Parameters",
                    classID: "adaptCorrectTones",
                    Amnt: {
                        t: "UntF",
                        v: {
                            type: "#Prc",
                            val: 0
                        }
                    },
                    Wdth: {
                        t: "UntF",
                        v: {
                            type: "#Prc",
                            val: 0
                        }
                    },
                    Rds: {
                        t: "long",
                        v: 0
                    }
                }
            },
            BlcC: {
                t: "doub",
                v: 0
            },
            WhtC: {
                t: "doub",
                v: 0
            },
            Cntr: {
                t: "long",
                v: 0
            },
            ClrC: {
                t: "long",
                v: 0
            }
        };
        if (w == "oilPaint") o = {
            __name: "Oil Paint",
            classID: "oilPaint",
            lightingOn: {
                t: "bool",
                v: !0
            },
            stylization: {
                t: "doub",
                v: 3
            },
            brushScale: {
                t: "doub",
                v: 1
            },
            microBrush: {
                t: "doub",
                v: 0
            },
            LghD: {
                t: "long",
                v: 45
            },
            specularity: {
                t: "doub",
                v: 1
            },
            cleanliness: {
                t: "doub",
                v: 2
            }
        };
        if (w == "lightFilterGradient") o = {
            __name: "Generate Normals",
            classID: "lightFilterGradient",
            blur: {
                t: "doub",
                v: 0
            },
            textureScale: {
                t: "doub",
                v: 1
            },
            Scl: {
                t: "doub",
                v: 1
            },
            Dtl: {
                t: "VlLs",
                v: [{
                    t: "doub",
                    v: 1
                }, {
                    t: "doub",
                    v: 1
                }, {
                    t: "doub",
                    v: 1
                }]
            }
        };
        if (w == "boxblur") o = {
            __name: "Box Blur",
            classID: "boxblur",
            Rds: {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: 15
                }
            }
        };
        if (w == "GsnB") o = {
            __name: "Gaussian Blur",
            classID: "GsnB",
            Rds: {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: 7.2
                }
            }
        };
        if (w == "Bokh") o = {
            __name: "Lens Blur",
            classID: "Bokh",
            BkDi: {
                t: "enum",
                v: {
                    BtDi: "BeIn"
                }
            },
            BkDp: {
                t: "long",
                v: 0
            },
            BkDs: {
                t: "bool",
                v: !1
            },
            BkIs: {
                t: "enum",
                v: {
                    BtIs: "BeS6"
                }
            },
            BkIb: {
                t: "doub",
                v: 30
            },
            BkIc: {
                t: "long",
                v: 0
            },
            BkIr: {
                t: "long",
                v: 0
            },
            BkSb: {
                t: "doub",
                v: 0
            },
            BkSt: {
                t: "long",
                v: 255
            },
            BkNa: {
                t: "long",
                v: 0
            },
            BkNt: {
                t: "enum",
                v: {
                    BtNt: "BeNu"
                }
            },
            BkNm: {
                t: "bool",
                v: !1
            }
        };
        if (w == "MtnB") o = {
            __name: "Motion Blur",
            classID: "MtnB",
            Angl: {
                t: "long",
                v: 0
            },
            Dstn: {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: 4
                }
            }
        };
        if (w == "RdlB") o = {
            __name: "Radial Blur",
            classID: "RdlB",
            Amnt: {
                t: "long",
                v: 10
            },
            BlrM: {
                t: "enum",
                v: {
                    BlrM: "Spn"
                }
            },
            BlrQ: {
                t: "enum",
                v: {
                    BlrQ: "Gd"
                }
            },
            Cntr: {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "doub",
                        v: .5
                    },
                    Vrtc: {
                        t: "doub",
                        v: .5
                    }
                }
            }
        };
        if (w == "surfaceBlur") o = {
            __name: "Surface Blur",
            classID: "surfaceBlur",
            Rds: {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: 15
                }
            },
            Thsh: {
                t: "long",
                v: 15
            }
        };
        if (w == "Dspl") o = {
            __name: "Displace",
            classID: "Dspl",
            HrzS: {
                t: "long",
                v: 10
            },
            VrtS: {
                t: "long",
                v: 10
            },
            DspM: {
                t: "enum",
                v: {
                    DspM: "StrF"
                }
            },
            UndA: {
                t: "enum",
                v: {
                    UndA: "RptE"
                }
            },
            DspF: {
                t: "Pth ",
                v: {
                    sig: "txtu",
                    pth: "file.psd\0"
                }
            }
        };
        if (w == "Pnch") o = {
            __name: "Pinch",
            classID: "Pnch",
            Amnt: {
                t: "long",
                v: -100
            }
        };
        if (w == "Plr ") o = {
            __name: "Polar Coordinates",
            classID: "Plr",
            Cnvr: {
                t: "enum",
                v: {
                    Cnvr: "RctP"
                }
            }
        };
        if (w == "Rple") o = {
            __name: "Ripple",
            classID: "Rple",
            Amnt: {
                t: "long",
                v: 999
            },
            RplS: {
                t: "enum",
                v: {
                    RplS: "Mdm"
                }
            }
        };
        if (w == "Shr ") o = {
            __name: "Shear",
            classID: "Shr",
            ShrP: {
                t: "VlLs",
                v: [{
                    t: "Objc",
                    v: {
                        classID: "Pnt",
                        Hrzn: {
                            t: "doub",
                            v: 0
                        },
                        Vrtc: {
                            t: "doub",
                            v: 1
                        }
                    }
                }, {
                    t: "Objc",
                    v: {
                        classID: "Pnt",
                        Hrzn: {
                            t: "doub",
                            v: 0
                        },
                        Vrtc: {
                            t: "doub",
                            v: 128
                        }
                    }
                }]
            },
            UndA: {
                t: "enum",
                v: {
                    UndA: "WrpA"
                }
            },
            ShrS: {
                t: "long",
                v: 0
            },
            ShrE: {
                t: "long",
                v: 1
            }
        };
        if (w == "Sphr") o = {
            __name: "Spherize",
            classID: "Sphr",
            Amnt: {
                t: "long",
                v: 100
            },
            SphM: {
                t: "enum",
                v: {
                    SphM: "Nrml"
                }
            }
        };
        if (w == "Twrl") o = {
            __name: "Twirl",
            classID: "Twrl",
            Angl: {
                t: "long",
                v: 90
            }
        };
        if (w == "Wave") o = {
            __name: "Wave",
            classID: "Wave",
            Wvtp: {
                t: "enum",
                v: {
                    Wvtp: "WvSn"
                }
            },
            NmbG: {
                t: "long",
                v: 1
            },
            WLMn: {
                t: "long",
                v: 101
            },
            WLMx: {
                t: "long",
                v: 102
            },
            AmMn: {
                t: "long",
                v: 36
            },
            AmMx: {
                t: "long",
                v: 37
            },
            SclH: {
                t: "long",
                v: 100
            },
            SclV: {
                t: "long",
                v: 100
            },
            UndA: {
                t: "enum",
                v: {
                    UndA: "WrpA"
                }
            },
            RndS: {
                t: "long",
                v: 743887
            }
        };
        if (w == "AdNs") o = {
            __name: "Add Noise",
            classID: "AdNs",
            Dstr: {
                t: "enum",
                v: {
                    Dstr: "Unfr"
                }
            },
            Nose: {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: 20
                }
            },
            Mnch: {
                t: "bool",
                v: !1
            },
            FlRs: {
                t: "long",
                v: 100691320
            }
        };
        if (w == "DstS") o = {
            __name: "Dust & Scratches",
            classID: "DstS",
            Rds: {
                t: "long",
                v: 2
            },
            Thsh: {
                t: "long",
                v: 26
            }
        };
        if (w == "Mdn ") o = {
            __name: "Median",
            classID: "Mdn",
            Rds: {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: 7
                }
            }
        };
        if (w == "ClrH") o = {
            __name: "Color Halftone",
            classID: "ClrH",
            Rds: {
                t: "long",
                v: 8
            },
            Ang1: {
                t: "long",
                v: 10
            },
            Ang2: {
                t: "long",
                v: 40
            },
            Ang3: {
                t: "long",
                v: 70
            },
            Ang4: {
                t: "long",
                v: 80
            }
        };
        if (w == "Crst") o = {
            __name: "Crystallize",
            classID: "Crst",
            ClSz: {
                t: "long",
                v: 10
            },
            FlRs: {
                t: "long",
                v: 1554929224
            }
        };
        if (w == "Mztn") o = {
            __name: "Mezzotint",
            classID: "Mztn",
            MztT: {
                t: "enum",
                v: {
                    MztT: "FnDt"
                }
            },
            FlRs: {
                t: "long",
                v: 204994187
            }
        };
        if (w == "Msc ") o = {
            __name: "Mosaic",
            classID: "Msc",
            ClSz: {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: 12
                }
            }
        };
        if (w == "Pntl") o = {
            __name: "Pointillize",
            classID: "Pntl",
            ClSz: {
                t: "long",
                v: 10
            },
            FlRs: {
                t: "long",
                v: 1554929236
            }
        };
        if (w == "LnsF") o = {
            __name: "Lens Flare",
            classID: "LnsF",
            Brgh: {
                t: "long",
                v: 100
            },
            FlrC: {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "doub",
                        v: .19140625
                    },
                    Vrtc: {
                        t: "doub",
                        v: .185628741979599
                    }
                }
            },
            Lns: {
                t: "enum",
                v: {
                    Lns: "Zm"
                }
            }
        };
        if (w == "smartSharpen") o = {
            __name: "Smart Sharpen",
            classID: "smartSharpen",
            presetKind: {
                t: "enum",
                v: {
                    presetKindType: "presetKindCustom"
                }
            },
            useLegacy: {
                t: "bool",
                v: !1
            },
            Amnt: {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: 150
                }
            },
            Rds: {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: 1
                }
            },
            noiseReduction: {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: 0
                }
            },
            blur: {
                t: "enum",
                v: {
                    blurType: "GsnB"
                }
            }
        };
        if (w == "UnsM") o = {
            __name: "Unsharp Mask",
            classID: "UnsM",
            Amnt: {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: 142
                }
            },
            Rds: {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: 4.5
                }
            },
            Thsh: {
                t: "long",
                v: 0
            }
        };
        if (w == "HghP") o = {
            __name: "High Pass",
            classID: "HghP",
            Rds: {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: 3
                }
            }
        };
        if (w == "Mxm ") o = {
            __name: "Maximum",
            classID: "Mxm",
            Rds: {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: 9
                }
            }
        };
        if (w == "Mnm ") o = {
            __name: "Minimum",
            classID: "Mnm",
            Rds: {
                t: "UntF",
                v: {
                    type: "#Pxl",
                    val: 14
                }
            }
        };
        if (w == "Ofst") o = {
            __name: "Offset",
            classID: "Ofst",
            Hrzn: {
                t: "long",
                v: 144
            },
            Vrtc: {
                t: "long",
                v: 278
            },
            Fl: {
                t: "enum",
                v: {
                    FlMd: "Wrp"
                }
            }
        };
        if (w == "Rept") o = {
            __name: "Repeat",
            classID: "Rept",
            Scl: {
                v: {
                    type: "#Prc",
                    val: 100
                },
                t: "UntF"
            },
            Rsft: {
                v: {
                    type: "#Prc",
                    val: 0
                },
                t: "UntF"
            },
            SpcX: {
                v: {
                    type: "#Prc",
                    val: 0
                },
                t: "UntF"
            },
            SpcY: {
                v: {
                    type: "#Prc",
                    val: 0
                },
                t: "UntF"
            },
            SpcC: {
                t: "bool",
                v: !1
            },
            Angl: {
                t: "long",
                v: 0
            }
        };
        if (w == "Ctoa") o = {
            __name: "Color to Alpha",
            classID: "Ctoa",
            Trsp: {
                v: {
                    type: "#Prc",
                    val: 0
                },
                t: "UntF"
            },
            Opct: {
                v: {
                    type: "#Prc",
                    val: 100
                },
                t: "UntF"
            },
            Clr: {
                v: {
                    classID: "RGBC",
                    Rd: {
                        v: 0,
                        t: "doub"
                    },
                    Grn: {
                        v: 0,
                        t: "doub"
                    },
                    Bl: {
                        v: 0,
                        t: "doub"
                    }
                },
                t: "Objc"
            }
        };
        if (w == "brit") o = {
            __name: "Brightness/Contrast",
            classID: "BrgC",
            Brgh: {
                t: "long",
                v: 0
            },
            Cntr: {
                t: "long",
                v: 0
            },
            useLegacy: {
                t: "bool",
                v: !1
            }
        };
        if (w == "levl") o = {
            __name: "Levels",
            classID: "Lvls",
            presetKind: {
                t: "enum",
                v: {
                    presetKindType: "presetKindCustom"
                }
            },
            Adjs: {
                t: "VlLs",
                v: []
            }
        };
        if (w == "curv") o = {
            __name: "Curves",
            classID: "Crvs",
            presetKind: {
                t: "enum",
                v: {
                    presetKindType: "presetKindCustom"
                }
            },
            Adjs: {
                t: "VlLs",
                v: []
            }
        };
        if (w == "expA") o = {
            __name: "Exposure",
            classID: "Exps",
            presetKind: {
                t: "enum",
                v: {
                    presetKindType: "presetKindCustom"
                }
            },
            Exps: {
                t: "doub",
                v: 0
            },
            Ofst: {
                t: "doub",
                v: 0
            },
            gammaCorrection: {
                t: "doub",
                v: 1
            }
        };
        if (w == "vibA") o = {
            __name: "Vibrance",
            classID: "vibrance",
            vibrance: {
                t: "long",
                v: 0
            },
            Strt: {
                t: "long",
                v: 0
            }
        };
        if (w == "hue2") o = {
            __name: "Hue/Saturation",
            classID: "HStr",
            presetKind: {
                t: "enum",
                v: {
                    presetKindType: "presetKindCustom"
                }
            },
            Clrz: {
                t: "bool",
                v: !1
            },
            Adjs: {
                t: "VlLs",
                v: []
            }
        };
        if (w == "blnc") o = {
            __name: "Color Balance",
            classID: "ClrB",
            ShdL: {
                t: "VlLs",
                v: [{
                    t: "long",
                    v: 0
                }, {
                    t: "long",
                    v: 0
                }, {
                    t: "long",
                    v: 0
                }]
            },
            MdtL: {
                t: "VlLs",
                v: [{
                    t: "long",
                    v: 0
                }, {
                    t: "long",
                    v: 0
                }, {
                    t: "long",
                    v: 0
                }]
            },
            HghL: {
                t: "VlLs",
                v: [{
                    t: "long",
                    v: 0
                }, {
                    t: "long",
                    v: 0
                }, {
                    t: "long",
                    v: 0
                }]
            },
            PrsL: {
                t: "bool",
                v: !0
            }
        };
        if (w == "blwh") o = {
            __name: "Black & White",
            classID: "BanW",
            presetKind: {
                t: "enum",
                v: {
                    presetKindType: "presetKindCustom"
                }
            },
            Rd: {
                t: "long",
                v: 40
            },
            Yllw: {
                t: "long",
                v: 85
            },
            Grn: {
                t: "long",
                v: 204
            },
            Cyn: {
                t: "long",
                v: 60
            },
            Bl: {
                t: "long",
                v: 20
            },
            Mgnt: {
                t: "long",
                v: 80
            },
            useTint: {
                t: "bool",
                v: !0
            },
            tintColor: {
                t: "Objc",
                v: {
                    classID: "RGBC",
                    Rd: {
                        t: "doub",
                        v: 0
                    },
                    Grn: {
                        t: "doub",
                        v: 0
                    },
                    Bl: {
                        t: "doub",
                        v: 0
                    }
                }
            }
        };
        if (w == "phfl") o = {
            __name: "Photo Filter",
            classID: "photoFilter",
            Clr: {
                t: "Objc",
                v: {
                    classID: "LbCl",
                    Lmnc: {
                        t: "doub",
                        v: 67.06
                    },
                    A: {
                        t: "doub",
                        v: 32
                    },
                    B: {
                        t: "doub",
                        v: 120
                    }
                }
            },
            Dnst: {
                t: "long",
                v: 80
            },
            PrsL: {
                t: "bool",
                v: !0
            }
        };
        if (w == "grdm") o = {
            __name: "Gradient Map",
            classID: "GrMp",
            Rvrs: {
                t: "bool",
                v: !1
            },
            Grad: JSON.parse(b_.l1[6]).Grad
        };
        if (w == "selc") o = {
            __name: "Selective Color",
            classID: "SlcC",
            presetKind: {
                t: "enum",
                v: {
                    presetKindType: "presetKindCustom"
                }
            },
            Mthd: {
                t: "enum",
                v: {
                    CrcM: "Rltv"
                }
            },
            ClrC: {
                t: "VlLs",
                v: []
            }
        };
        if (w == "thrs") o = {
            __name: "Threshold",
            classID: "Thrs",
            Lvl: {
                t: "long",
                v: 128
            }
        };
        if (w == "mixr") o = {
            __name: "Channel Mixer",
            classID: "ChnM",
            presetKind: {
                t: "enum",
                v: {
                    presetKindType: "presetKindDefault"
                }
            },
            Rd: {
                t: "Objc",
                v: {
                    classID: "ChMx",
                    Rd: {
                        t: "UntF",
                        v: {
                            type: "#Prc",
                            val: 100
                        }
                    }
                }
            },
            Grn: {
                t: "Objc",
                v: {
                    classID: "ChMx",
                    Grn: {
                        t: "UntF",
                        v: {
                            type: "#Prc",
                            val: 100
                        }
                    }
                }
            },
            Bl: {
                t: "Objc",
                v: {
                    classID: "ChMx",
                    Bl: {
                        t: "UntF",
                        v: {
                            type: "#Prc",
                            val: 100
                        }
                    }
                }
            }
        };
        if (w == "clrL") o = {
            __name: "Color Lookup",
            classID: "colorLookup"
        };
        if (w == "post") o = {
            __name: "Posterize",
            classID: "Pstr",
            Lvls: {
                t: "long",
                v: 3
            }
        };
        if (w == "rplc") o = {
            __name: "Replace Color",
            classID: "RplC",
            Fzns: {
                t: "long",
                v: 55
            },
            Mnm: {
                t: "Objc",
                v: {
                    classID: "LbCl",
                    Lmnc: {
                        t: "doub",
                        v: 73.1
                    },
                    A: {
                        t: "doub",
                        v: 23.95
                    },
                    B: {
                        t: "doub",
                        v: 8.03
                    }
                }
            },
            Mxm: {
                t: "Objc",
                v: {
                    classID: "LbCl",
                    Lmnc: {
                        t: "doub",
                        v: 73
                    },
                    A: {
                        t: "doub",
                        v: 23
                    },
                    B: {
                        t: "doub",
                        v: 8
                    }
                }
            },
            H: {
                t: "long",
                v: -22
            },
            Strt: {
                t: "long",
                v: 100
            },
            Lght: {
                t: "long",
                v: 2
            }
        };
        if (w == "fade") o = {
            __name: "Fade",
            classID: "fade",
            Opct: {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: 100
                }
            },
            Md: {
                t: "enum",
                v: {
                    BlnM: "Nrml"
                }
            }
        };
        if (w == "aply") o = {
            classID: "null",
            With: {
                t: "Objc",
                v: {
                    classID: "Clcl",
                    T: {
                        t: "obj ",
                        v: [{
                            t: "Enmr",
                            v: {
                                classID: "Chnl",
                                typeID: "Chnl",
                                enum: "RGB"
                            }
                        }, {
                            t: "Enmr",
                            v: {
                                classID: "Lyr",
                                typeID: "Ordn",
                                enum: "Mrgd"
                            }
                        }]
                    },
                    Invr: {
                        t: "bool",
                        v: !1
                    },
                    Clcl: {
                        t: "enum",
                        v: {
                            Clcn: "Nrml"
                        }
                    },
                    Opct: {
                        t: "UntF",
                        v: {
                            type: "#Prc",
                            val: 100
                        }
                    },
                    PrsT: {
                        t: "bool",
                        v: !1
                    }
                }
            }
        };
        if (w == "blendOptions") o = {
            classID: "blendOptions",
            Opct: {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: 100
                }
            },
            Md: {
                t: "enum",
                v: {
                    BlnM: "Nrml"
                }
            }
        };
        return o
    };
    bf.MR = {
        sAdNs: function(w, o) {
            o[0] = w.Nose.v.val;
            o[1] = ["Gsn", "Unfr"].indexOf(w.Dstr.v.Dstr);
            o[2] = w.Mnch.v
        },
        gAdNs: function(w, o) {
            w.Nose.v.val = o[0];
            w.Dstr.v.Dstr = ["Gsn", "Unfr"][o[1]];
            w.Mnch.v = o[2]
        },
        sDstS: function(w, o) {
            o[0] = w.Rds.v;
            o[1] = w.Thsh.v
        },
        gDstS: function(w, o) {
            w.Rds.v = o[0];
            w.Thsh.v = o[1]
        },
        sGsnB: function(w, o) {
            o[0] = w.Rds.v.val
        },
        gGsnB: function(w, o) {
            w.Rds.v.val = o[0]
        },
        sHghP: function(w, o) {
            o[0] = w.Rds.v.val
        },
        gHghP: function(w, o) {
            w.Rds.v.val = o[0]
        },
        "sMxm ": function(w, o) {
            o[0] = w.Rds.v.val
        },
        "gMxm ": function(w, o) {
            w.Rds.v.val = o[0]
        },
        "sMnm ": function(w, o) {
            o[0] = w.Rds.v.val
        },
        "gMnm ": function(w, o) {
            w.Rds.v.val = o[0]
        },
        sMtnB: function(w, o) {
            o[0] = w.Angl.v;
            o[1] = w.Dstn.v.val
        },
        gMtnB: function(w, o) {
            w.Angl.v = typeof o[0] == "number" ? o[0] : o[0].aa;
            w.Dstn.v.val = o[1]
        },
        sOfst: function(w, o) {
            o[0] = w.Hrzn.v;
            o[1] = w.Vrtc.v;
            o[2] = ["Rpt", "Bckg", "Wrp"].indexOf(w.Fl.v.FlMd)
        },
        gOfst: function(w, o) {
            w.Hrzn.v = o[0];
            w.Vrtc.v = o[1];
            w.Fl.v.FlMd = ["Rpt", "Bckg", "Wrp"][o[2]]
        },
        sPnch: function(w, o) {
            o[0] = w.Amnt.v
        },
        gPnch: function(w, o) {
            w.Amnt.v = o[0]
        },
        "sPlr ": function(w, o) {
            o[0] = ["RctP", "PlrR"].indexOf(w.Cnvr.v.Cnvr)
        },
        "gPlr ": function(w, o) {
            w.Cnvr.v.Cnvr = ["RctP", "PlrR"][o[0]]
        },
        sRple: function(w, o) {
            o[0] = w.Amnt.v;
            o[1] = ["Sml", "Mdm", "Lrg"].indexOf(w.RplS.v.RplS)
        },
        gRple: function(w, o) {
            w.Amnt.v = o[0];
            w.RplS.v.RplS = ["Sml", "Mdm", "Lrg"][o[1]]
        },
        sTwrl: function(w, o) {
            o[0] = w.Angl.v
        },
        gTwrl: function(w, o) {
            w.Angl.v = o[0]
        },
        sUnsM: function(w, o) {
            o[0] = w.Amnt.v.val;
            o[1] = w.Rds.v.val;
            o[2] = w.Thsh.v
        },
        gUnsM: function(w, o) {
            w.Amnt.v.val = o[0];
            w.Rds.v.val = o[1];
            w.Thsh.v = o[2]
        }
    };
    bf.a4U = function(w) {
        var o = new fB(0, 0);
        if (w.enab.v == !1) return o;
        var Q = w.filterFXList.v;
        for (var M = 0; M < Q.length; M++) {
            var K = Q[M].v;
            if (K.enab.v == !1) continue;
            var b = bf.ws(K),
                R = bf.RX(b, K.Fltr ? K.Fltr.v : null);
            if (R.x > o.x) o.x = R.x;
            if (R.y > o.y) o.y = R.y
        }
        return o
    };
    bf.RX = function(w, o) {
        var Q = 0,
            K = 0;
        if (["GsnB", "boxblur", "smartSharpen", "UnsM", "HghP"].indexOf(w) != -1) {
            var b = o.Rds.v.val;
            Q = K = b * 2.57
        }
        if (w == "MtnB") Q = K = o.Dstn.v.val;
        if ("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Clds,DfrC,Plr ,LnCr,lightFilterGradient,rigidTransform".split(",").indexOf(w) != -1) {
            Q = K = 1e4
        }
        if (w == "GEfc") return h1.RX(o);
        return new fB(Math.ceil(Q), Math.ceil(K))
    };
    bf.eh = function() {
        return {
            t: "Objc",
            v: {
                classID: "filterFXStyle",
                enab: {
                    t: "bool",
                    v: !0
                },
                validAtPosition: {
                    t: "bool",
                    v: !0
                },
                filterMaskEnable: {
                    t: "bool",
                    v: !0
                },
                filterMaskLinked: {
                    t: "bool",
                    v: !0
                },
                filterMaskExtendWithWhite: {
                    t: "bool",
                    v: !0
                },
                filterFXList: {
                    t: "VlLs",
                    v: []
                }
            }
        }
    };
    bf.qU = function(w, o) {
        var Q = {
                W: o.x1 >> 16,
                a: o.x1 >> 8 & 255,
                k: o.x1 & 255
            },
            K = {
                W: o.TT >> 16,
                a: o.TT >> 8 & 255,
                k: o.TT & 255
            },
            b = bf.names[w];
        if (b == null) b = au.names[w];
        var R = w;
        for (var X in au.gy)
            if (au.gy[X] == w) R = X;
        var h = {
                t: "Objc",
                v: {
                    classID: "filterFX",
                    Nm: {
                        t: "TEXT",
                        v: b6.get(b)
                    },
                    blendOptions: {
                        t: "Objc",
                        v: {
                            classID: "blendOptions",
                            Opct: {
                                t: "UntF",
                                v: {
                                    type: "#Prc",
                                    val: 100
                                }
                            },
                            Md: {
                                t: "enum",
                                v: {
                                    BlnM: "Nrml"
                                }
                            }
                        }
                    },
                    enab: {
                        t: "bool",
                        v: !0
                    },
                    hasoptions: {
                        t: "bool",
                        v: !0
                    },
                    FrgC: {
                        t: "Objc",
                        v: v.V.Kt(Q)
                    },
                    BckC: {
                        t: "Objc",
                        v: v.V.Kt(K)
                    },
                    filterID: {
                        t: "long",
                        v: R.length == 4 ? W.afV(R) : 777
                    }
                }
            },
            e = bf._R(w);
        if (e) h.v.Fltr = {
            t: "Objc",
            v: e
        };
        return h
    };
    bf.Ok = function(w, o, Q, K) {
        var b = v.$(w.length);
        v.xt.iH(w, o, Q, K, [-1, 0, 1, -2, 0, 2, -1, 0, 1], 0, !0);
        v.xt.iH(w, b, Q, K, [1, 2, 1, 0, 0, 0, -1, -2, -1], 0, !0);
        for (var M = 0; M < b.length; M += 4) {
            var R = o[M],
                X = o[M + 1],
                h = o[M + 2],
                e = o[M + 3],
                Z = b[M],
                P = b[M + 1],
                J = b[M + 2],
                i = b[M + 3];
            o[M] = 255 - Math.max(0, Math.min(255, Math.sqrt(R * R + Z * Z)));
            o[M + 1] = 255 - Math.max(0, Math.min(255, Math.sqrt(X * X + P * P)));
            o[M + 2] = 255 - Math.max(0, Math.min(255, Math.sqrt(h * h + J * J)))
        }
    };
    bf.no = function(w, o, Q, K, b, R, X, h) {
        var e = Q * K * 4;
        v.xt.alA(w, o, Q, K, b, R, X)
    };
    bf.__ = function(w, o, Q, K) {
        v.jd(Q);
        if (w < 1) {
            var b = Math.round(w * 5),
                R = [1, 2, 1, 2, [40, 26, 13, 6, 4, 2][b], 2, 1, 2, 1];
            R = v.xt.I0(R);
            var X = Q.slice(0);
            v.xt.iH(X, Q, K.D, K.j, R, 255)
        } else o(Q, K, w);
        v.Ia(Q)
    };
    bf.a4e = function(w, o, Q, K) {
        for (var M = 0; M < w.length; M++) {
            Q[M] = w[M] * (1 / 255);
            K[M] = 0
        }
        FFT.fft2d(Q, K);
        var b = o >>> 1,
            R = 16384,
            X = 128,
            e = 100;
        while (X < o) {
            X <<= 1;
            R <<= 2
        }
        var h = 255 / Math.log(R),
            Z = -100;
        for (var P = 0; P < o; P++)
            for (var J = 0; J < b; J++) {
                var i = o + b + P & o - 1,
                    k = Q[i * o + J],
                    $ = K[i * o + J],
                    n = Math.sqrt(k * k + $ * $),
                    j = Math.atan2($, k);
                w[P * o + J] = Math.round(h * Math.log(n + 1));
                w[P * o + b + J] = Math.round((Math.PI + j) * (255 * .5 / Math.PI))
            }
    };
    bf.a7j = function(w, o, Q, K) {
        Q.fill(0);
        K.fill(0);
        var b = o >>> 1,
            R = 16384,
            X = 128;
        while (X < o) {
            X <<= 1;
            R <<= 2
        }
        var h = 255 / Math.log(R),
            e = [],
            Z = [],
            P = [];
        for (var M = 0; M < 256; M++) {
            e[M] = Math.exp(M / h) - 1;
            var J = M * (2 * Math.PI / 255) - Math.PI;
            Z[M] = Math.sin(J);
            P[M] = Math.cos(J)
        }
        for (var i = 0; i < o; i++)
            for (var k = 0; k < b; k++) {
                var $ = o + b + i & o - 1,
                    n = e[w[i * o + k]],
                    J = w[i * o + b + k],
                    j = n * P[J],
                    y = n * Z[J];
                Q[$ * o + k] = j;
                K[$ * o + k] = y;
                if (k != 0) {
                    var V = $ == 0 ? $ * o + o - k : (o - $) * o + (o - k);
                    Q[V] = j;
                    K[V] = -y
                }
            }
        FFT.ifft2d(Q, K);
        for (var M = 0; M < w.length; M++) {
            w[M] = Math.max(0, Math.min(255, ~~(.5 + 255 * Q[M])))
        }
    };
    bf.MO = new ArrayBuffer(512);
    bf.ajJ = function(w) {
        var o = bf.MO,
            Q = w.length;
        if (o.byteLength < Q) bf.MO = o = new ArrayBuffer(Q);
        var K = new Uint8Array(o);
        for (var M = 0; M < Q; M += 4) {
            K[M] = w[M];
            K[M + 1] = w[M + 1];
            K[M + 2] = w[M + 2];
            K[M + 3] = w[M + 3]
        }
        return o
    };
    bf.WL = function(w, o, Q, K, b, R, X) {
        if (R == null) R = {
            buffer: v.$(o.buffer.length),
            rect: o.rect.clone()
        };
        v.gb(o.buffer, R.buffer);
        if (w == "GEfc") {
            var h = [];
            if (Q.GEfs) {
                var e = Q.GEfs.v;
                for (var M = 0; M < e.length; M++) {
                    var Z = e[M].v;
                    if (Z.GELv && Z.GELv.v == !1) continue;
                    h.push(Z)
                }
            } else h = [Q];
            for (var M = 0; M < h.length; M++) {
                var P;
                if (M == 0) h1.WL(w, o, h[M], K, b, R, X);
                else {
                    if (P == null) P = {
                        buffer: v.$(o.buffer.length),
                        rect: o.rect.clone()
                    };
                    v.gb(R.buffer, P.buffer);
                    h1.WL(w, P, h[M], K, b, R, X)
                }
            }
        }
        if (w == "adaptCorrect") {
            var J = o.rect,
                i = J.D,
                k = J.j,
                $ = i * k,
                n = $ * 4,
                j = Q.sdwM.v,
                y = j.Amnt.v.val / 100,
                V = j.Wdth.v.val / 100,
                O = j.Rds.v,
                S = Q.hglM.v,
                G = S.Amnt.v.val / 100,
                D = S.Wdth.v.val / 100,
                q = S.Rds.v;
            v.Md.a5e(o.buffer, R.buffer, i, k, y, V, O, G, D, q, Q.ClrC.v / 100, Q.Cntr.v / 100)
        }
        if (w == "Slrz") {
            var T = R.buffer,
                L = 128;
            for (var M = 0; M < T.length; M += 4) {
                if (T[M] > L) T[M] = 255 - T[M];
                if (T[M + 1] > L) T[M + 1] = 255 - T[M + 1];
                if (T[M + 2] > L) T[M + 2] = 255 - T[M + 2]
            }
        }
        if (w == "Wnd ") {
            var J = o.rect,
                i = J.D,
                k = J.j,
                N = Q.WndM.v.WndM;
            console.log(N);
            var F = o.buffer,
                I = R.buffer;
            for (var s = 0; s < k; s++)
                for (var u = 0; u < i; u++) {
                    var M = s * i + u,
                        g = M << 2,
                        U = Math.abs(Math.random() + Math.random() + Math.random() - 1.5) * (1 / 1.5),
                        r = ~~(U * 64),
                        x = r == 0 ? 1 : 1 / r;
                    if (N == "Wnd") {
                        for (var C = 0; C <= r; C++) {
                            var p = g - C * 4,
                                l = (r - C) * x;
                            l = l * l;
                            var c = 1 - l;
                            I[p] = Math.max(I[p], c * I[p] + l * F[g]);
                            I[p + 1] = Math.max(I[p + 1], c * I[p + 1] + l * F[g + 1]);
                            I[p + 2] = Math.max(I[p + 2], c * I[p + 2] + l * F[g + 2]);
                            I[p + 3] = 255
                        }
                    }
                }
        }
        if (w == "Bokh") {
            var J = o.rect,
                i = J.D,
                k = J.j,
                $ = i * k,
                n = $ * 4,
                t = o.buffer.slice(0),
                H = Q.BkDi.v.BtDi,
                gl = Q.BkDc,
                ie = Q.BkDp.v / 255;
            if (H == "BeIn") ie = 0;
            var fk = 57 * (.3 + .7 * ((i + k) / 2) / 1750) * (Q.BkIb.v / 100) * (1 + .2 * Math.pow(ie, .1)),
                A = parseInt(Q.BkIs.v.BtIs.slice(3)),
                cf = -Q.BkIr.v * Math.PI / 180,
                f = [];
            for (var M = 0; M < 8; M++) {
                var aH = cf + M * (Math.PI * 2 / A),
                    gY = cf + (M + 1) * (Math.PI * 2 / A),
                    cC = Math.cos(aH),
                    cY = Math.sin(aH),
                    gJ = Math.cos(gY),
                    bM = Math.sin(gY),
                    cN = [0, 0, 0];
                v.M1.Ev([
                    [cC, cY, 1, 0],
                    [gJ, bM, 1, 0],
                    [1, 1, 1, 1]
                ], cN);
                if (cN[2] > 0) {
                    cN[0] *= -1;
                    cN[1] *= -1;
                    cN[2] *= -1
                }
                f.push(cN[0], cN[1], cN[2], 0)
            }
            if (H == "BeIn") {
                v.Fw(t, 0, 16777215);
                ie = 1
            } else if (H == "BeIt" && gl.v.BtDc == "BeCt") {} else {
                var eu;
                if (H == "BeIt" && gl.v.BtDc == "BeCm") eu = X[1];
                else if (H == "BeIa") eu = X[2][gl.v];
                if (eu == null) {
                    v.Fw(t, 0, 16777215)
                } else {
                    var cU;
                    if (eu.rect.Lb(J)) cU = eu.channel;
                    else cU = eu.Qj(J);
                    v.qh(cU, t, 3)
                }
            }
            if (d.cv) {
                var h7 = t,
                    hn = i,
                    gS = k,
                    aq = 1,
                    ef = (Q.BkSb.v == 0 || Q.BkSt.v == 255) && H == "BeIn";
                if (!ef) {
                    var dU = 0;
                    for (var M = 0; M < n; M += 4) dU += Math.abs(ie - t[M + 3] * (1 / 255));
                    dU = dU / $ * fk;
                    var hO = 3.14 * dU * dU * i * k / 3e6;
                    if (hO > 2e3) {
                        alert("too large radius");
                        return
                    }
                }
                while (ef && 3 * (fk / aq) * (fk / aq) * i * k > 500 * 2e3 * 2e3) {
                    var ao = v._x(t, new B(0, 0, hn, gS));
                    t = ao.Sg;
                    hn = ao.rect.D;
                    gS = ao.rect.j;
                    aq *= 2
                }
                var hI = Date.now(),
                    a$ = d.Ap(0, hn, gS);
                a$.set(t);
                var hH = d.Ap(1, i, k);
                d.Qy(hH);
                d.filter.fg({
                    type: d.filter.du,
                    Bi: new Float32Array([1 / hn, 1 / gS]),
                    a18: ie,
                    akb: fk / aq,
                    a5h: new Float32Array([Q.BkSb.v / 100, Q.BkSt.v / 255]),
                    adb: new Float32Array([Q.BkNa.v / 100, Q.BkNt.v.BtNt == "BeNu" ? 0 : 1, Q.BkNm.v ? 1 : 0]),
                    a7k: new Float32Array(f.slice(0, 16)),
                    akC: new Float32Array(f.slice(16))
                }, a$.$Y);
                hH.get(R.buffer);
                var bq = R.buffer;
                for (var M = 0; M < n; M += 4) bq[M + 3] = o.buffer[M + 3]
            }
        }
        if (w == "rigidTransform") {
            var hI = Date.now(),
                dq = bf.ajJ,
                a$ = o.buffer.slice(0),
                hA = 0,
                ft = 0;
            v.jd(a$);
            v.Fw(R.buffer, 0);
            var i = o.rect.D,
                k = o.rect.j,
                g9 = Q.puppetShapeList.v,
                cx = [],
                hp = [],
                b0 = [],
                bh = [];
            for (var c6 = 0; c6 < g9.length; c6++) {
                var ba = g9[c6].v,
                    f7 = hA * 2,
                    an = ft * 3,
                    b5 = ba.originalVertexArray.v.length >>> 2,
                    hG = ba.indexArray.v.length >>> 2,
                    eE = new Float32Array(dq(ba.originalVertexArray.v));
                for (var M = 0; M < b5; M++) cx[f7 + M] = eE[M];
                var aV = new Float32Array(dq(ba.deformedVertexArray.v));
                for (var M = 0; M < b5; M++) hp[f7 + M] = aV[M];
                var dp = new Uint32Array(dq(ba.indexArray.v));
                for (var M = 0; M < hG; M++) b0[an + M] = hA + dp[M];
                var en = [],
                    f1 = [],
                    de = ba.PnDp.v;
                for (var M = 0; M < de.length; M++) {
                    en.push(ba.pinVertexIndices.v[M].v);
                    f1.push(de[M].v)
                }
                var dM = v.v4.ahq(eE, dp, en, f1);
                for (var M = 0; M < dM.length; M++) bh[hA + M] = dM[M];
                hA += b5 >>> 1;
                ft += ~~(hG / 3)
            }
            v.v4.Ez(a$, R.buffer, o.rect, cx, hp, bh, b0);
            v.Ia(R.buffer)
        }
        if (w == "lightFilterGradient") {
            function ih(d9) {
                var fj = 1 / Math.sqrt(d9[0] * d9[0] + d9[1] * d9[1] + d9[2] * d9[2]);
                d9[0] *= fj;
                d9[1] *= fj;
                d9[2] *= fj
            }
            var i = o.rect.D,
                k = o.rect.j,
                $ = i * k,
                hI = Date.now(),
                fa = v.$($),
                bL = .3,
                bg = .7;
            v.wC(R.buffer, fa);
            var eI = v.$($);
            v.PF.ew(fa, eI, R.rect, 16);
            var gR = v.$($);
            v.PF.ew(fa, gR, R.rect, 8);
            var hk = fa,
                d3 = new Float32Array($),
                iB = Q.Dtl.v,
                gk = iB[2].v,
                d$ = iB[1].v,
                hx = iB[0].v,
                bz = Q.Scl.v * 40 * Q.textureScale.v / (gk + d$ + hx);
            gk *= bz;
            d$ *= bz;
            hx *= bz;
            for (var M = 0; M < $; M++) {
                var hY = eI[M] * (1 / 255),
                    fL = gR[M] * (1 / 255),
                    c4 = hk[M] * (1 / 255);
                c4 = c4 * c4;
                d3[M] = gk * hY + d$ * fL + hx * c4
            }
            var dF = Q.blur.v;
            if (dF != 0) {
                var co = d3.slice(0);
                v.PF.GD(co, d3, R.rect, dF)
            }
            var fy = i - 1,
                bH = k - 1;
            for (var s = 1; s < bH; s++)
                for (var u = 1; u < fy; u++) {
                    var M = s * i + u,
                        g = M * 4,
                        e7 = d3[M],
                        ep = bL * (d3[M + 1] - e7) + bg * (e7 - d3[M - 1]),
                        eV = bL * (d3[M + i] - e7) + bg * (e7 - d3[M - i]),
                        d9 = [1, 0, ep],
                        ad = [0, 1, eV];
                    ih(d9);
                    ih(ad);
                    var gY = d9[0],
                        gE = d9[2],
                        aQ = ad[1],
                        cO = ad[2],
                        e8 = -gE * aQ,
                        fh = -gY * cO,
                        aX = gY * aQ;
                    R.buffer[g] = ~~(127.5 + e8 * 127.5);
                    R.buffer[g + 1] = ~~(127.5 + fh * 127.5);
                    R.buffer[g + 2] = ~~(127.5 + aX * 127.5)
                }
        }
        if (w == "dDFT" || w == "iDFT") {
            function cu(A) {
                if (A == 0) return 1;
                A--;
                A |= A >> 1;
                A |= A >> 2;
                A |= A >> 4;
                A |= A >> 8;
                A |= A >> 16;
                return A + 1
            }
            var i = o.rect.D,
                k = o.rect.j,
                eF = cu(Math.max(i, k)),
                i6 = eF >>> 1,
                b3 = new B(0, 0, eF, eF),
                aR = new B(0, 0, i, k);
            aR.y = eF - k >>> 1;
            var cj = i >>> 1,
                gN = new B(0, aR.y, cj, k),
                gT = new v.Dz(i * k);
            v.yn(o.buffer, gT);
            var io = new Float64Array(eF * eF),
                ce = new Float64Array(eF * eF),
                cU = v.$(eF * eF);
            FFT.init(eF);
            var fR = [gT.W, gT.a, gT.k];
            for (var M = 0; M < 3; M++) {
                var fr = fR[M];
                cU.fill(0);
                if (w == "dDFT") {
                    v.Hp(fr, aR, cU, b3);
                    bf.a4e(cU, eF, io, ce);
                    v.Hp(cU, b3, fr, aR, gN);
                    gN.x += cj;
                    b3.x -= i6 - cj;
                    v.Hp(cU, b3, fr, aR, gN);
                    gN.x -= cj;
                    b3.x += i6 - cj
                } else {
                    v.Hp(fr, aR, cU, b3, gN);
                    gN.x += i6;
                    aR.x += i6 - cj;
                    v.Hp(fr, aR, cU, b3, gN);
                    gN.x -= i6;
                    aR.x -= i6 - cj;
                    bf.a7j(cU, eF, io, ce);
                    v.Hp(cU, b3, fr, aR)
                }
            }
            v.GW(gT, R.buffer)
        }
        if (w == "Avrg") {
            var cA = 0,
                dZ = 0,
                hf = 0,
                az = 0,
                gQ = 1;
            for (var M = 0; M < o.buffer.length; M += 4) {
                var a2 = o.buffer[M + 3];
                hf += o.buffer[M] * a2;
                dZ += o.buffer[M + 1] * a2;
                cA += o.buffer[M + 2] * a2;
                az += a2
            }
            var dk = 1 / az;
            cA = Math.round(gQ * (cA * dk) + (1 - gQ) * 255);
            dZ = Math.round(gQ * (dZ * dk) + (1 - gQ) * 255);
            hf = Math.round(gQ * (hf * dk) + (1 - gQ) * 255);
            v.Fw(R.buffer, cA << 16 | dZ << 8 | hf, 4278190080)
        }
        if (["GsnB", "boxblur", "smartSharpen", "UnsM", "HghP"].indexOf(w) != -1) {
            var el = Q.Rds.v.val,
                cF = w == "boxblur" ? v.PF.Nx : v.PF.aiB;
            bf.__(el, cF, R.buffer, R.rect);
            if (w == "UnsM" || w == "smartSharpen") {
                var dB = Q.Amnt.v.val / 100,
                    ck = 0;
                if (w == "UnsM") ck = Q.Thsh.v;
                else dB *= .75;
                for (var M = 0; M < o.buffer.length; M++) {
                    if ((M & 3) == 3) {
                        R.buffer[M] = o.buffer[M];
                        continue
                    }
                    var bE = o.buffer[M],
                        b2 = R.buffer[M],
                        dY = dB * (bE - b2);
                    if (dY > 0) dY = Math.max(0, dY - ck);
                    else dY = Math.min(0, dY + ck);
                    R.buffer[M] = Math.max(0, Math.min(255, bE + dY))
                }
            }
            if (w == "HghP")
                for (var M = 0; M < o.buffer.length; M++) {
                    if ((M & 3) == 3) {
                        R.buffer[M] = o.buffer[M];
                        continue
                    }
                    var bE = o.buffer[M],
                        b2 = R.buffer[M];
                    R.buffer[M] = Math.max(0, Math.min(255, 128 + bE - b2))
                }
        }
        if (w == "surfaceBlur") {
            var cy = Q.Rds.v.val,
                fi = Q.Thsh.v,
                i = o.rect.D,
                k = o.rect.j;
            bf.no(o.buffer, R.buffer, i, k, cy, v.xt.aj, [fi], 2)
        }
        if (w == "AdNs") {
            var ec = new Uint8ClampedArray(R.buffer.buffer),
                gW = 255 * Q.Nose.v.val / 100,
                ca;
            if (Q.Dstr.v.Dstr == "Gsn") ca = function() {
                return (Math.random() + Math.random() + Math.random() + Math.random() - 2) * 2
            };
            else ca = function() {
                return Math.random() * 2 - 1
            };
            for (var M = 0; M < ec.length; M += 4) {
                var cy = ec[M],
                    bX = ec[M + 1],
                    gh = ec[M + 2],
                    hE, by, bp;
                if (Q.Mnch.v) {
                    hE = by = bp = ca()
                } else {
                    hE = ca();
                    by = ca();
                    bp = ca()
                }
                cy += gW * hE;
                bX += gW * by;
                gh += gW * bp;
                ec[M] = cy;
                ec[M + 1] = bX;
                ec[M + 2] = gh
            }
        }
        if (w == "Mdn " || w == "DstS" || w == "Mxm " || w == "Mnm ") {
            var cy = 0;
            if (w == "Mdn " || w == "Mxm " || w == "Mnm ") cy = Q.Rds.v.val;
            if (w == "DstS") cy = Q.Rds.v;
            v.xt.N7 = .5;
            var cF = v.xt.ru;
            if (w == "Mxm ") cF = v.xt.Yz;
            if (w == "Mnm ") cF = v.xt.n7;
            var i = o.rect.D,
                k = o.rect.j,
                hr = {
                    "Mdn ": 0,
                    "Mxm ": 1,
                    "Mnm ": 1,
                    DstS: 2
                } [w];
            bf.no(o.buffer, R.buffer, i, k, cy, cF, [], hr);
            if (w == "DstS") {
                var fi = Q.Thsh.v;
                for (var M = 0; M < i * k * 4; M++) {
                    var fK = Math.abs(o.buffer[M] - R.buffer[M]);
                    if (fK <= fi) R.buffer[M] = o.buffer[M]
                }
            }
        }
        if (w == "ClrH") {
            var gN = o.rect.clone();
            gN.x = gN.y = 0;
            var cy = Q.Rds.v;
            cy = Math.round(cy * Math.sqrt(2));
            var i = gN.D,
                k = gN.j,
                gT = new v.Dz(i * k);
            v.yn(o.buffer, gT);
            v.MF(gT.W);
            v.MF(gT.a);
            v.MF(gT.k);
            var hz = _.B("canvas", "");
            hz.width = i;
            hz.height = k;
            var fV = hz.getContext("2d"),
                bq = v.$(i * k * 4);
            for (var fl = 0; fl < 3; fl++) {
                var cU = fl == 0 ? gT.W : fl == 1 ? gT.a : gT.k,
                    g3 = Math.PI * Q["Ang" + (fl + 1)].v / 180,
                    g5 = new dj(1 / cy, 0, 0, 1 / cy, 0, 0);
                g5.rotate(g3);
                v.qh(cU, bq, 3);
                var h9 = z.Z.OU([bq, gN], g5, !0),
                    aR = h9.rect;
                fV.clearRect(0, 0, i, k);
                var ho = Math.sin(g3),
                    a4 = Math.cos(g3);
                for (var M = 0; M < aR.j; M++)
                    for (var cW = 0; cW < aR.D; cW++) {
                        var u = (cW + aR.x + .5) * cy,
                            s = (M + aR.y + .5) * cy,
                            h_ = u,
                            aD = s;
                        u = a4 * h_ - ho * aD;
                        s = ho * h_ + a4 * aD;
                        var $ = h9.buffer[(M * aR.D + cW << 2) + 3] * (1 / 255),
                            el = cy * Math.sqrt($ * (1 / Math.PI));
                        fV.beginPath();
                        fV.arc(u, s, el, 0, 2 * Math.PI);
                        fV.fill()
                    }
                var bk = fV.getImageData(0, 0, i, k);
                v.KU(bk.data, cU, 3)
            }
            v.MF(gT.W);
            v.MF(gT.a);
            v.MF(gT.k);
            v.GW(gT, R.buffer)
        }
        if (w == "Crst" || w == "Pntl") {
            var i = o.rect.D,
                k = o.rect.j,
                cF = w == "Crst" ? v.dV.a9u : v.dV.ald;
            cF(o.buffer, i, k, R.buffer, Q.ClSz.v, [Math.round(b.W), Math.round(b.a), Math.round(b.k)])
        }
        if (w == "Mztn") {
            var i = o.rect.D,
                k = o.rect.j,
                $ = i * k,
                gT = new v.Dz($),
                iG = [gT.W, gT.a, gT.k];
            v.yn(o.buffer, gT);
            var N = Q.MztT.v.MztT,
                i7 = {
                    FnDt: [.1, 0, .3, 1.4],
                    MdmD: [.9, 0, .1, 1.4],
                    GrnD: [3, 0, .2, 1.4],
                    CrsD: [7, 0, .1, 1.4],
                    ShrL: [0, 10, .16, 3],
                    MdmL: [0, 22, .06, 3],
                    LngL: [0, 25, .01, 4.5],
                    ShSt: [3, 10, .05, 4.4],
                    MdmS: [4, 25, .15, 4],
                    LngS: [4, 30, .05, 4]
                } [N],
                hI = Date.now(),
                f3 = [];
            for (var M = 0; M < $; M++) {
                f3[M] = Math.random()
            }
            var $ = i * k,
                b$ = Math.round($ * i7[0]),
                e2 = $ - i - 1;
            for (var M = 0; M < b$; M++) {
                var U = Math.random(),
                    a_ = 1;
                if (U < .5) {
                    a_ = i;
                    U *= 2
                } else U = 2 * (U - .5);
                var bt = Math.floor(U * e2),
                    ay = bt + a_;
                f3[bt] = f3[ay]
            }
            var er = Math.round(i * i7[1]);
            for (var s = 0; s < k; s++)
                for (var M = 0; M < er; M++) {
                    var U = v.M.TG(s * $ + M),
                        bt = s * i + Math.floor(U * (i - 1));
                    f3[bt] = f3[bt + 1]
                }
            var dl = new Float64Array(256);
            for (var M = 0; M < 256; M++) {
                var cL = M / 255,
                    fO = 2 * (cL < .5 ? cL : 1 - cL);
                fO = i7[2] + Math.pow(fO, i7[3]) * (1 - i7[2]);
                cL = cL < .5 ? fO * .5 : 1 - fO * .5;
                dl[M] = cL
            }
            for (var cT = 0; cT < 3; cT++) {
                var cU = iG[cT];
                for (var s = 0; s < k; s++) {
                    for (var u = 0; u < i; u++) {
                        var M = s * i + u,
                            eX = cU[M],
                            cL = dl[eX],
                            U = f3[M];
                        cU[M] = U > cL ? 0 : 255
                    }
                }
            }
            v.GW(gT, R.buffer)
        }
        if (w == "Msc ") {
            var d1 = Q.ClSz.v.val,
                i = o.rect.D,
                k = o.rect.j,
                as = Math.ceil(i / d1),
                bU = Math.ceil(k / d1),
                a8 = v.$(as * bU * 4);
            v.scale.QA(o.buffer, i, k, a8, as, bU, 1 / d1);
            v.scale.QA(a8, as, bU, R.buffer, i, k, d1)
        }
        if (w == "Clds" || w == "DfrC") {
            if (w == "Clds") v.Fw(R.buffer, 4278190080);
            var av = v.$(256 * 4);
            for (var M = 0; M < 256; M++) {
                var g = M << 2,
                    hy = M / 255,
                    dp = 1 - hy;
                av[g] = Math.round(hy * K.W + dp * b.W);
                av[g + 1] = Math.round(hy * K.a + dp * b.a);
                av[g + 2] = Math.round(hy * K.k + dp * b.k)
            }
            var i = R.rect.D,
                k = R.rect.j,
                $ = i * k,
                i2 = v.$($);
            noise.seed(Math.random());
            for (var s = 0; s < k; s++)
                for (var u = 0; u < i; u++) {
                    var bz = 0,
                        gA = 1,
                        cH = 1;
                    for (var M = 0; M < 8; M++) {
                        var aq = cH * (1 / 170);
                        bz += noise.perlin2(u * aq, s * aq) * gA;
                        gA *= .5;
                        cH = cH << 1
                    }
                    i2[s * i + u] = Math.round(Math.max(0, 255 * Math.min(1, .5 + .7 * bz * .5)))
                }
            var aP = R.buffer;
            for (var M = 0; M < $; M++) {
                var g = M << 2,
                    cT = i2[M] << 2,
                    cy = av[cT],
                    bX = av[cT + 1],
                    gh = av[cT + 2];
                if (w == "Clds") {
                    aP[g] = cy;
                    aP[g + 1] = bX;
                    aP[g + 2] = gh
                } else {
                    aP[g] = Math.abs(aP[4 * M] - cy);
                    aP[g + 1] = Math.abs(aP[4 * M + 1] - bX);
                    aP[g + 2] = Math.abs(aP[4 * M + 2] - gh)
                }
            }
        }
        if (w == "LnsF") {
            var i = o.rect.D,
                k = o.rect.j,
                N = ["Zm", "Nkn", "Nkn1", "PnVs"].indexOf(Q.Lns.v.Lns),
                gi = Q.FlrC.v,
                gc = [Math.min(N, 2), Q.Brgh.v / 100, gi.Hrzn.v, gi.Vrtc.v],
                hI = Date.now();
            v.ad0(o.buffer, i, k, R.buffer, gc)
        }
        var bC = w == "Shrp" || w == "ShrM";
        if (w == "Blr " || w == "BlrM" || bC) {
            var i = o.rect.D,
                k = o.rect.j,
                fx;
            if (w == "Blr ") fx = [1, 2, 1, 2, 16, 2, 1, 2, 1];
            else if (w == "BlrM") fx = [1, 2, 1, 2, 4, 2, 1, 2, 1];
            else if (w == "Shrp") fx = [0, -1, 0, -1, 8, -1, 0, -1, 0];
            else fx = [-.7, -1, -.7, -1, 10, -1, -.7, -1, -.7];
            fx = v.xt.I0(fx);
            var bx = o.buffer.slice(0);
            if (!bC) v.jd(bx);
            v.xt.iH(bx, R.buffer, i, k, fx, 255, !1, bC);
            if (!bC) v.Ia(R.buffer)
        }
        if (w == "MtnB") {
            var eY = -Q.Angl.v * Math.PI / 180,
                gj = Q.Dstn.v.val / 2,
                hI = Date.now(),
                i = o.rect.D,
                k = o.rect.j,
                J = o.rect.clone();
            J.x = J.y = 0;
            if (d.cv) {
                var hI = Date.now(),
                    e6 = R.buffer;
                e6.set(o.buffer);
                v.jd(e6);
                var cn = d.Ap(0, i, k);
                cn.set(e6);
                var F = v.$(4);
                F[0] = Math.round(128 + 127 * Math.cos(eY));
                F[1] = Math.round(128 + 127 * Math.sin(eY));
                new Uint32Array(e6.buffer).fill(new Uint32Array(F.buffer)[0]);
                var fX = d.Ap(1, i, k);
                fX.set(e6);
                d.Qy(cn, J);
                cn.zO(J);
                d.filter.fg({
                    type: d.filter.zJ,
                    _l: fX.$Y,
                    Bi: new Float32Array([1 / i, 1 / k]),
                    yF: gj / 2,
                    O1: 1
                }, cn.ts);
                cn.get(e6);
                v.Ia(e6)
            } else {
                var g5 = new dj;
                g5.rotate(eY);
                var h9 = z.Z.OU([o.buffer, o.rect], g5, !1, null, !0);
                bf.__(gj, v.PF.dY, h9.buffer, h9.rect);
                g5.MF();
                h9 = z.Z.OU([h9.buffer, h9.rect], g5, !1, R.buffer.buffer, !0, R.rect)
            }
            console.log(Date.now() - hI)
        }
        if (w == "RdlB") {
            var i = o.rect.D,
                k = o.rect.j,
                dB = Q.Amnt.v,
                eT = Q.BlrM.v.BlrM == "Zm",
                fl = Q.Cntr.v,
                C = fl.Hrzn.v,
                gX = fl.Vrtc.v,
                ep = Math.max(C, 1 - C) * i,
                eV = Math.max(gX, 1 - gX) * k,
                el = Math.sqrt(ep * ep + eV * eV),
                dh = 2 * Math.PI * el * 1.5,
                f5 = Math.round(dh),
                dN = Math.round(el),
                gN = new B(0, 0, f5, dN),
                iE = v.$(f5 * dN * 4),
                ch = eT ? 4 : 1,
                eM = eT ? .6 : 8 * ((i + k) / 2) / 1400,
                eB = .1,
                aq = 1,
                fM = 1;
            v.Q.bu(o.buffer, i, k, iE, f5, dN, C, gX, ch, eB, aq, fM);
            var em = eT ? v.$(f5 * dN * 4) : null;
            if (eT) {
                v.Q.o6(iE, em, f5, dN);
                var it = em;
                em = iE;
                iE = it;
                gN.D = dN;
                gN.j = f5
            }
            bf.__(eM * dB, v.PF.dY, iE, gN);
            if (eT) {
                v.Q.o6(iE, em, dN, f5);
                var it = em;
                em = iE;
                iE = it;
                gN.D = f5;
                gN.j = dN
            }
            v.Q.jS(iE, f5, dN, R.buffer, i, k, C, gX, ch, eB, aq, fM)
        }
        if (w == "Plr ") {
            var i = o.rect.D,
                k = o.rect.j;
            if (Q.Cnvr.v.Cnvr == "RctP") v.Q.jS(o.buffer, i, k, R.buffer, i, k, .5, .5, 1, 0, 2, i / k);
            else v.Q.bu(o.buffer, i, k, R.buffer, i, k, .5, .5, 1, 0, 2, i / k)
        }
        if (w == "FndE") {
            var i = o.rect.D,
                k = o.rect.j;
            bf.Ok(o.buffer, R.buffer, i, k)
        }
        if (w == "oilPaint") {
            var g3 = Q.LghD.v * Math.PI / 180,
                eW = [Math.cos(g3), Math.sin(g3), .001],
                aI = [Q.stylization.v, Q.cleanliness.v, Q.brushScale.v, Q.microBrush.v, Q.lightingOn.v, Q.specularity.v, eW],
                J = o.rect.clone();
            J.x = J.y = 0;
            v.ej.filter(o.buffer, J, R.buffer, aI)
        }
        if (w == "Ofst") {
            var i = o.rect.D,
                k = o.rect.j,
                f9 = new Uint32Array(o.buffer.buffer),
                gF = new Uint32Array(R.buffer.buffer),
                h_ = Q.Hrzn.v,
                aD = Q.Vrtc.v,
                aj = Q.Fl.v.FlMd;
            v.Fw(gF, 0);
            if (aj == "Bckg" || aj == "Rpt") {
                var gN = o.rect.clone();
                gN.offset(h_, aD);
                v.c1(f9, gN, gF, R.rect)
            }
            if (aj == "Rpt") {
                var cC, cY, gJ, bM, aG;
                h_ = Math.max(-i, Math.min(i, h_));
                aD = Math.max(-k, Math.min(k, aD));
                cC = h_ > 0 ? h_ : 0;
                gJ = h_ > 0 ? i : i + h_;
                cY = aD > 0 ? 0 : aD + k;
                bM = aD > 0 ? aD : k;
                aG = aD > 0 ? 0 : i * (k - 1);
                for (var s = cY; s < bM; s++)
                    for (var u = cC; u < gJ; u++) gF[s * i + u] = f9[aG + u - h_];
                cC = h_ > 0 ? 0 : i + h_;
                gJ = h_ > 0 ? h_ : i;
                cY = aD > 0 ? aD : 0;
                bM = aD > 0 ? k : k + aD;
                aG = h_ > 0 ? 0 : i - 1;
                for (var s = cY; s < bM; s++)
                    for (var u = cC; u < gJ; u++) gF[s * i + u] = f9[aG + i * (s - aD)];
                if (h_ >= 0 && aD >= 0) {
                    cC = 0;
                    gJ = h_;
                    cY = 0;
                    bM = aD;
                    aG = 0
                }
                if (h_ >= 0 && aD < 0) {
                    cC = 0;
                    gJ = h_;
                    cY = k + aD;
                    bM = k;
                    aG = i * (k - 1)
                }
                if (h_ < 0 && aD >= 0) {
                    cC = i + h_;
                    gJ = i;
                    cY = 0;
                    bM = aD;
                    aG = i - 1
                }
                if (h_ < 0 && aD < 0) {
                    cC = i + h_;
                    gJ = i;
                    cY = k + aD;
                    bM = k;
                    aG = i * k - 1
                }
                for (var s = cY; s < bM; s++)
                    for (var u = cC; u < gJ; u++) gF[s * i + u] = f9[aG]
            }
            if (aj == "Wrp") {
                h_ = (h_ + 100 * i) % i;
                aD = (aD + 100 * k) % k;
                var gN = new B(h_ - i, aD - k, i, k);
                v.c1(f9, gN, gF, R.rect);
                gN.offset(i, 0);
                v.c1(f9, gN, gF, R.rect);
                gN.offset(0, k);
                v.c1(f9, gN, gF, R.rect);
                gN.offset(-i, 0);
                v.c1(f9, gN, gF, R.rect)
            }
        }
        if (w == "Rept") {
            var eU = Q.Rsft.v.val / 100,
                aa = Q.SpcX.v.val / 100;
            aa = Math.max(aa, -.99);
            var is = Q.SpcY.v.val / 100;
            is = Math.max(is, -.99);
            var aq = Q.Scl.v.val / 100,
                g5 = new dj;
            g5.rotate(Q.Angl.v * Math.PI / 180);
            g5.scale(aq, aq);
            var gM = {
                buffer: o.buffer,
                rect: o.rect
            };
            v.Ay(gM);
            if (gM.rect.Kx()) {
                gM.buffer = o.buffer;
                gM.rect = o.rect
            }
            var aP = gM.buffer,
                gN = gM.rect,
                fJ = v.Zk(aP, gN, 0),
                af = new Uint32Array(aP.buffer)[0];
            if (!fJ.Kx() && !fJ.Lb(gN)) {
                var bN = v.$(fJ.O() * 4);
                v.c1(aP, gN, bN, fJ);
                aP = bN;
                gN = fJ
            }
            gN.x = gN.y = 0;
            af = aa == 0 && is == 0 || Q.SpcC.v ? af : 0;

            function c0(u) {
                return u < 0 ? Math.ceil(u) : Math.floor(u)
            }
            var d2 = g5.hv(new fB(gN.D, 0));
            d2.x = c0(d2.x);
            d2.y = c0(d2.y);
            var d4 = g5.hv(new fB(0, gN.j));
            d4.x = c0(d4.x);
            d4.y = c0(d4.y);
            var h9 = z.Z.OU([aP, gN], g5, !1),
                aR = h9.rect,
                I = h9.buffer,
                c_ = Math.round(aR.x),
                hd = Math.round(aR.y),
                ii = Math.max(R.rect.D, R.rect.j) / Math.min(gN.D * aq * (1 + aa), gN.j * aq * (1 + is));
            ii = Math.ceil(ii * 1.7);
            v.Fw(R.buffer, af);
            for (var s = -ii; s < ii; s++) {
                for (var u = -ii; u < ii; u++) {
                    var ff = (u + s * eU) * (1 + aa),
                        cS = s * (1 + is);
                    aR.x = c_ + Math.round(ff * d2.x + cS * d4.x);
                    aR.y = hd + Math.round(ff * d2.y + cS * d4.y);
                    if (aR.Ic(R.rect)) v.M.M$("norm", I, aR, R.buffer, R.rect, aR, 1)
                }
            }
        }
        if (w == "Ctoa") {
            var b = v.V.c2(Q.Clr.v),
                fi = Q.Trsp.v.val / 100,
                cR = Q.Opct.v.val / 100;
            fi = cR == 0 ? 0 : fi / cR;
            var i = o.rect.D,
                k = o.rect.j,
                fc = ~~b.W,
                aw = ~~b.a,
                iy = ~~b.k,
                aG = o.buffer,
                dr = R.buffer;
            for (var s = 0; s < k; s++)
                for (var u = 0; u < i; u++) {
                    var M = s * i + u,
                        g = M << 2,
                        gN = aG[g],
                        ee = aG[g + 1],
                        aP = aG[g + 2],
                        ik = Math.abs(fc - gN),
                        gI = Math.abs(aw - ee),
                        du = Math.abs(iy - aP),
                        gu = Math.max(ik, gI, du) * (1 / 255);
                    gu = Math.max(0, Math.min(1, gu / cR));
                    var f_ = gu == 0 ? 0 : 1 / gu,
                        gH = fi == 1 ? 1 : Math.max(0, Math.min(1, (gu - fi) / (1 - fi)));
                    dr[g] = Math.max(0, Math.min(255, (gN - fc * (1 - gu)) * f_));
                    dr[g + 1] = Math.max(0, Math.min(255, (ee - aw * (1 - gu)) * f_));
                    dr[g + 2] = Math.max(0, Math.min(255, (aP - iy * (1 - gu)) * f_));
                    dr[g + 3] = ~~(.5 + gH * 255)
                }
        }
        if ("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(w) != -1) {
            var gG = X[0],
                i = o.rect.D,
                k = o.rect.j,
                dl, hb = 0;
            if (w == "LqFy") dl = hN.DG(new Uint8Array(Q.LqMe.v).buffer);
            else {
                var gP = 3;
                dl = {
                    i7: Math.floor(i / gP),
                    Y7: Math.floor(k / gP)
                };
                dl.map = new Float32Array(dl.i7 * dl.Y7 * 2);
                if (w == "LnCr") {
                    var C = .5 * (dl.i7 - 1),
                        gX = .5 * (dl.Y7 - 1),
                        gL = Math.max(Math.abs(0 - C), Math.abs(1 - C)),
                        a6 = Math.max(Math.abs(0 - gX), Math.abs(1 - gX)),
                        fG = Math.sqrt(gL * gL + a6 * a6),
                        dw = 0,
                        df = 0,
                        ds = -1,
                        bB = 2,
                        aq = Q.LnSi.v / 100,
                        eT = 1 / aq,
                        he = Q.LnIa.v / 100,
                        eA = he == 0 ? 1e-6 : he * 4.6,
                        gb = eT / fG;
                    for (var s = 0; s < dl.Y7; s++) {
                        for (var u = 0; u < dl.i7; u++) {
                            var ep = (u - C) * gb,
                                eV = (s - gX) * gb,
                                cy = Math.sqrt(ep * ep + eV * eV) * eA,
                                fv = Math.atan(cy),
                                bP = he > 0 ? fv / cy : cy / fv,
                                fM = C + fG * bP * ep,
                                gp = gX + fG * bP * eV,
                                M = s * dl.i7 + u << 1;
                            dl.map[M] = fM - u;
                            dl.map[M + 1] = gp - s
                        }
                    }
                } else if (w == "Dspl" && gG.length != 0) {
                    hb = Q.UndA.v.UndA == "WrpA" ? 2 : 1;
                    var cb = Q.DspF.v.pth,
                        aL;
                    for (var M = 0; M < gG.length; M++)
                        if (gG[M].eo == cb) aL = gG[M];
                    if (aL == null) aL = gG[0];
                    aL.X_();
                    var ik = aL.qr[1],
                        aN = v.$(ik.O());
                    v.wC(aL.qr[0], aN);
                    var i3 = ik.D,
                        ge = ik.j;
                    dl = {
                        i7: i3,
                        Y7: ge
                    };
                    dl.map = new Float32Array(dl.i7 * dl.Y7 * 2);
                    var dH = 2.54 * Q.HrzS.v * i3 / i,
                        eD = 2.54 * Q.VrtS.v * ge / k;
                    for (var s = 0; s < dl.Y7; s++) {
                        for (var u = 0; u < dl.i7; u++) {
                            var fK = -.5 + aN[s * i3 + u] * (1 / 255),
                                M = s * dl.i7 + u << 1;
                            dl.map[M] = fK * dH;
                            dl.map[M + 1] = fK * eD
                        }
                    }
                } else if (w == "Pnch" || w == "Twrl" || w == "Sphr") {
                    var dB = 1,
                        eY = Math.PI,
                        gq = 0,
                        fl = 3,
                        d1 = 1.53,
                        bP = 1;
                    if (w == "Pnch" || w == "Sphr") dB = Q.Amnt.v / 100;
                    if (w == "Twrl") eY = Q.Angl.v * Math.PI / 180;
                    if (w == "Sphr") gq = ["Nrml", "HrzO", "VrtO"].indexOf(Q.SphM.v.SphM);

                    function cF(u) {
                        u = Math.pow(u, 1 - u * .3 - u * u * (u * u) * .5);
                        return -.225 * Math.sin(u * Math.PI)
                    }

                    function cZ(k, fj, cy, cC, cY, gJ, bM, bP) {
                        var ep = gJ - cC,
                            eV = bM - cY,
                            bw = cC - k,
                            h$ = cY - fj,
                            hy = ep * ep + eV * eV,
                            gh = 2 * (ep * bw + eV * h$),
                            fl = bw * bw + h$ * h$ - cy * cy,
                            cm = Math.sqrt(gh * gh - 4 * hy * fl),
                            aM = bP / (2 * hy),
                            fp = (-gh + cm) * aM,
                            eb = (-gh - cm) * aM;
                        return bP * Math.min(fp, eb)
                    }
                    var as = dl.i7,
                        bU = dl.Y7,
                        g8 = dl.i7 / 2,
                        bH = dl.Y7 / 2,
                        al = 1 / g8,
                        cy = Math.sqrt(fl * fl + 1) / fl,
                        fr = fl + Math.sqrt(1 / (fl * fl));
                    if (dB < 0) {
                        fl = 1.72;
                        cy = 1;
                        fr = fl;
                        d1 = -1;
                        bP = -1
                    }
                    for (var s = 0; s < bU; s++) {
                        var eV = (s - bH) / bH;
                        for (var u = 0; u < as; u++) {
                            var ep = (u - g8) * al;
                            if (gq == 1) eV = 0;
                            else if (gq == 2) ep = 0;
                            var cB = Math.sqrt(ep * ep + eV * eV);
                            if (cB < 1 && cB != 0) {
                                var M = s * dl.i7 + u << 1;
                                if (w == "Pnch") {
                                    var d_ = -dB * cF(cB) / cB;
                                    dl.map[M] = ep * d_ * g8;
                                    dl.map[M + 1] = eV * d_ * bH
                                } else if (w == "Sphr") {
                                    var it = cZ(0, fr, cy, 0, 0, cB, fl, bP),
                                        a3 = d1 * dB * (it - 1);
                                    dl.map[M] = ep * a3 * g8;
                                    dl.map[M + 1] = eV * a3 * bH
                                } else if (w == "Twrl") {
                                    var g3 = Math.atan2(eV, ep) - eY * (1 - cB) * (1 - cB),
                                        h2 = Math.cos(g3),
                                        a1 = Math.sin(g3);
                                    dl.map[M] = (cB * h2 - ep) * g8;
                                    dl.map[M + 1] = (cB * a1 - eV) * bH
                                }
                            }
                        }
                    }
                } else if (w == "Shr ") {
                    var gv = JSON.parse(JSON.stringify(Q.ShrP.v));
                    v.R2.H(gv, new dj(0, 255 / 127, 255 / 127, 0, -2, 0));
                    var bn = v.R2.js(gv, dl.Y7, !0);
                    hb = Q.UndA.v.UndA == "WrpA" ? 2 : 1;
                    for (var s = 0; s < dl.Y7; s++) {
                        var ep = -bn[s] * dl.i7;
                        for (var u = 0; u < dl.i7; u++) {
                            var M = s * dl.i7 + u << 1;
                            dl.map[M] = ep
                        }
                    }
                } else if (w == "Wave") {
                    var aA = Q.NmbG.v,
                        aC = Q.WLMn.v,
                        cG = Q.WLMx.v,
                        aS = Q.AmMn.v * (Math.PI / 4),
                        fS = Q.AmMx.v * (Math.PI / 4),
                        g_ = Q.SclH.v / 100,
                        bG = Q.SclV.v / 100,
                        N = Q.Wvtp.v.Wvtp,
                        r = Math.sin;
                    if (N == "WvTr") r = function(u) {
                        u *= 2 / Math.PI;
                        return -.5 + Math.abs(u % 2 - 1)
                    };
                    if (N == "WvSq") r = function(u) {
                        u *= 2 / Math.PI;
                        return 1 + 2 * Math.floor(u % 2 - 1)
                    };
                    var ic = [],
                        bi = new v.M.Cj(Q.RndS.v);
                    for (var M = 0; M < aA; M++) {
                        ic.push(bi.get() * 10);
                        ic.push(Math.PI * gP / (aC + bi.get() * (cG - aC)));
                        ic.push(g_ * (aS + bi.get() * (fS - aS)) / gP);
                        ic.push(bi.get() * 10);
                        ic.push(Math.PI * gP / (aC + bi.get() * (cG - aC)));
                        ic.push(bG * (aS + bi.get() * (fS - aS)) / gP)
                    }
                    var ey = [],
                        ak = [],
                        iA = Math.max(dl.i7, dl.Y7);
                    for (var M = 0; M < iA; M++) {
                        var ep = 0,
                            eV = 0;
                        for (var cW = 0; cW < aA; cW++) {
                            var ap = cW * 6;
                            ep += ic[ap + 2] * r(ic[ap] + M * ic[ap + 1]);
                            eV += ic[ap + 5] * r(ic[ap + 3] + M * ic[ap + 4])
                        }
                        ey[M] = eV;
                        ak[M] = ep
                    }
                    for (var s = 0; s < dl.Y7; s++) {
                        for (var u = 0; u < dl.i7; u++) {
                            var M = s * dl.i7 + u << 1;
                            dl.map[M] = ak[s];
                            dl.map[M + 1] = ey[u]
                        }
                    }
                    hb = Q.UndA.v.UndA == "WrpA" ? 2 : 1
                } else if (w == "Rple") {
                    hb = 1;
                    var dB = Q.Amnt.v / 100,
                        gV = 4,
                        be = [0, -.19, -.29, -.32, .92, .37, .93, .54, -.54, .42, -.29, -.58, -.67, .85, 0, .64],
                        hK = 1,
                        dE = 1,
                        bw = 0,
                        ha = ["Sml", "Mdm", "Lrg"].indexOf(Q.RplS.v.RplS);
                    if (ha == 0) {
                        hK = 1;
                        dE = .2;
                        bw = 3
                    }
                    if (ha == 2) {
                        hK = 1;
                        dE = 2;
                        bw = -1;
                        be = be.reverse()
                    }
                    var cd = function(u, s) {
                            var fl = Math.cos,
                                bz = 0;
                            for (var M = 0; M < gV; M++)
                                for (var cW = 0; cW < gV; cW++) bz += be[M * gV + cW] * fl(u * (M + bw) - s * (cW + bw));
                            return bz
                        },
                        cq = Math.floor(50 / gP),
                        bJ = new Float32Array(cq * cq * 2),
                        br = dE * dB * .5 / gP;
                    for (var s = 0; s < cq; s++)
                        for (var u = 0; u < cq; u++) {
                            var C = hK * u * 2 * Math.PI / cq,
                                gX = hK * s * 2 * Math.PI / cq,
                                eR = cd(C, gX),
                                ep = (cd(C + .01, gX) - eR) * 100,
                                eV = (cd(C, gX + .01) - eR) * 100,
                                M = (s * cq + u) * 2;
                            bJ[M] = ep * br;
                            bJ[M + 1] = eV * br
                        }
                    for (var s = 0; s < dl.Y7; s++)
                        for (var u = 0; u < dl.i7; u++) {
                            var a1 = s % cq,
                                h2 = u % cq,
                                M = s * dl.i7 + u << 1,
                                eq = a1 * cq + h2 << 1;
                            dl.map[M] = bJ[eq];
                            dl.map[M + 1] = bJ[eq + 1]
                        }
                }
            }
            v.DD.UH(o.buffer, R.buffer, i, k, null, dl.map, dl.i7, dl.Y7, hb)
        }
        return R
    };
    var h1 = {};
    h1.WJ = "BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");
    h1.R9 = "LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
    h1.R8 = ["ScrC", "ScrD", "ScrL"];
    h1.Q6 = ["SDRD", "SDHz", "SDLD", "SDVt"];
    h1.k_ = {
        PntD: "paintDaubs"
    };
    h1.y0 = ["Artistic", "Brush Strokes", [24, 4], "Sketch", [24, 14],
        [12, 67]
    ];
    h1.names = {
        PntD: [0, "Paint Daubs"],
        Spt: [1, "Spatter"],
        SprS: [1, "Sprayed Strokes"],
        BsRl: [3, "Bas Relief"],
        HlfS: [3, "Halftone Pattern"],
        Phtc: [3, "Photocopy"],
        GlwE: [4, "Glowing Edges"],
        StnG: [5, "Stained Glass"]
    };
    h1._R = function(w) {
        var o;
        if (w == "PntD") o = {
            Sz: {
                t: "long",
                v: 10
            },
            Shrp: {
                t: "long",
                v: 10
            },
            BrsT: {
                t: "enum",
                v: {
                    BrsT: "BrSm"
                }
            }
        };
        if (w == "Spt") o = {
            SprR: {
                t: "long",
                v: 10
            },
            Smth: {
                t: "long",
                v: 5
            },
            FlRs: {
                t: "long",
                v: 10738420
            }
        };
        if (w == "SprS") o = {
            StrL: {
                t: "long",
                v: 12
            },
            SprR: {
                t: "long",
                v: 7
            },
            SDir: {
                t: "enum",
                v: {
                    StrD: "SDRD"
                }
            },
            FlRs: {
                t: "long",
                v: 893120664
            }
        };
        if (w == "BsRl") o = {
            Dtl: {
                t: "long",
                v: 11
            },
            Smth: {
                t: "long",
                v: 7
            },
            LghD: {
                t: "enum",
                v: {
                    LghD: "LDBt"
                }
            }
        };
        if (w == "HlfS") o = {
            HlSz: {
                t: "long",
                v: 1
            },
            Cntr: {
                t: "long",
                v: 5
            },
            ScrT: {
                t: "enum",
                v: {
                    ScrT: "ScrD"
                }
            }
        };
        if (w == "Phtc") o = {
            Dtl: {
                t: "long",
                v: 10
            },
            Drkn: {
                t: "long",
                v: 4
            }
        };
        if (w == "GlwE") o = {
            EdgW: {
                t: "long",
                v: 1
            },
            EdgB: {
                t: "long",
                v: 10
            },
            Smth: {
                t: "long",
                v: 1
            }
        };
        if (w == "StnG") o = {
            ClSz: {
                t: "long",
                v: 10
            },
            BrdT: {
                t: "long",
                v: 4
            },
            LghI: {
                t: "long",
                v: 0
            },
            FlRs: {
                t: "long",
                v: 319935998
            }
        };
        o.__name = "Filter Gallery";
        o.classID = "GEfc";
        o.GEfk = {
            t: "enum",
            v: {
                GEft: w
            }
        };
        o.GELv = {
            t: "bool",
            v: !0
        };
        return o
    };
    h1.WL = function(w, o, Q, K, b, R, X) {
        w = Q.GEfk.v.GEft;
        var h = o.rect.D,
            e = o.rect.j;
        if (w == "Phtc") {
            function Z(ad, gE, i, dp) {
                v.PF.gO(ad, gE, i, dp);
                var k = i.O();
                for (var M = 0; M < k; M++) gE[M] = Math.max(0, Math.min(255, 128 + ad[M] - gE[M]))
            }
            var P = Q.Dtl.v,
                J = Q.Drkn.v,
                i = o.rect,
                h = i.D,
                e = i.j,
                k = h * e,
                $ = v.$(k);
            v.wC(o.buffer, $);
            var n = v.$(k);
            Z($, n, i, 1);
            var j = v.$(k);
            Z($, j, i, P);
            var y = K.W,
                V = K.a,
                O = K.k,
                S = b.W,
                G = b.a,
                D = b.k,
                q = R.buffer;
            for (var M = 0; M < k; M++) {
                var T = (255 - Math.max(0, Math.min(255, (n[M] - j[M]) * J))) * (1 / 255),
                    L = 1 - T,
                    N = M << 2;
                q[N] = ~~(y * L + S * T);
                q[N + 1] = ~~(V * L + G * T);
                q[N + 2] = ~~(O * L + D * T)
            }
        }
        if (w == "Spt" || w == "SprS") {
            var h = o.rect.D,
                e = o.rect.j,
                F, I = 1,
                s = 1;
            F = {
                i7: Math.floor(h / s),
                Y7: Math.floor(e / s)
            };
            F.map = new Float32Array(F.i7 * F.Y7 * 2);
            var u = new v.M.Cj(Q.FlRs.v),
                g = new Float32Array(8192),
                U = Q.SprR.v,
                r = U < 20 ? .018 * U : .36 + (U - 20) * .128;
            if (w == "SprS") {
                r = .07 + [0, .02, .04, .06, .08, .1, .12, .14, .16, .18, .2, .22, .24, .26, .28, .3, .34, .38, .5, .65, .75, .85, 1, 1.5, 2.2, 3][U]
            }
            for (var M = 0; M < 8192; M++) g[M] = (-1 + 2 * u.get()) * r * 70;
            for (var x = 0; x < e; x++)
                for (var C = 0; C < h; C++) {
                    var p = x * h + C << 1;
                    F.map[p] = g[p % 7919];
                    F.map[p + 1] = g[(p + 1) % 7919]
                }
            var l = F.map.slice(0),
                c = w == "Spt" ? Q.Smth.v - 1 : 1;
            if (w == "Spt" && c != 0) {
                h1.Nu(F.map, l, h, e, c);
                h1.y7(l, F.map, h, e, c)
            }
            if (w == "SprS") {
                var t = Q.StrL.v >>> 1,
                    H = t == 0 ? 2 : 1;
                h1.Nu(F.map, l, h, e, H);
                h1.y7(l, F.map, h, e, H);
                if (t != 0) {
                    var gl = h1.Q6.indexOf(Q.SDir.v.StrD),
                        ie = [1, 1, 1, 0][gl],
                        fk = [-1, 0, 1, 1][gl],
                        h5 = 2 * t + 1,
                        cf = 1 / h5;
                    for (var x = 0; x < e; x++)
                        for (var C = 0; C < h; C++) {
                            var p = x * h + C << 1,
                                f = 0,
                                aH = 0;
                            for (var M = 0; M < h5; M++) {
                                var gY = Math.max(0, Math.min(h - 1, C - (t + M) * ie)),
                                    cC = Math.max(0, Math.min(e - 1, x - (t + M) * fk)),
                                    cY = cC * h + gY << 1;
                                f += F.map[cY];
                                aH += F.map[cY + 1]
                            }
                            l[p] = f * cf;
                            l[p + 1] = aH * cf
                        }
                    F.map = l
                }
            }
            v.DD.UH(o.buffer, R.buffer, h, e, null, F.map, F.i7, F.Y7, I)
        }
        if (w == "BsRl") {
            var k = o.rect.O(),
                gJ = v.$(k),
                bM = gJ.slice(0);
            v.wC(o.buffer, gJ);
            var P = Q.Dtl.v,
                cN = Q.Smth.v;
            if (P != 15) {
                v.PF.ew(gJ, bM, o.rect, Math.round((15 - P) * .5));
                v.gb(bM, gJ)
            }
            var eu = 2 / h,
                cU = 2 / e,
                h7 = (2 + h1.R9.indexOf(Q.LghD.v.LghD)) * Math.PI * .25,
                f = Math.cos(h7);
            if (Math.abs(f) < .1) f = 0;
            f = Math.sign(f);
            var aH = Math.sin(h7);
            if (Math.abs(aH) < .1) aH = 0;
            aH = Math.sign(aH);
            var hn = 1 / (f * f + aH * aH);
            for (var x = 0; x < e; x++)
                for (var C = 0; C < h; C++) {
                    var M = x * h + C,
                        ie = C == h - 1 ? gJ[M] - gJ[M - 1] : gJ[M + 1] - gJ[M],
                        fk = x == e - 1 ? gJ[M] - gJ[M - h] : gJ[M + h] - gJ[M],
                        gS = C * eu - 1,
                        aq = x * cU - 1,
                        ef = ie == 0 ? gS : ie * .4;
                    ef = Math.max(-1, Math.min(1, f * ef));
                    var dU = fk == 0 ? aq : fk * .4;
                    dU = Math.max(-1, Math.min(1, aH * dU));
                    bM[M] = 128 + 127 * (ef + dU) * hn
                }
            if (cN != 1) {
                v.PF.ew(bM, gJ, o.rect, Math.round((cN - 1) * .5));
                v.gb(gJ, bM)
            }
            v.nP(bM, R.buffer)
        }
        if (w == "PlsW__") {
            var k = o.rect.O(),
                gJ = v.$(k),
                bM = gJ.slice(0);
            v.wC(o.buffer, gJ);
            var P = Q.Dtl.v,
                cN = Q.Smth.v;
            if (P != 15) {
                v.PF.ew(gJ, bM, o.rect, Math.round((15 - P) * .5));
                v.gb(bM, gJ)
            }
            for (var x = 0; x < e; x++)
                for (var C = 0; C < h; C++) {
                    var M = x * h + C,
                        ie = C == h - 1 ? gJ[M] - gJ[M - 1] : gJ[M + 1] - gJ[M],
                        fk = x == e - 1 ? gJ[M] - gJ[M - h] : gJ[M + h] - gJ[M],
                        hO = ie * ie + fk * fk;
                    bM[M] = Math.max(0, 255 - hO * 190)
                }
            var ao = new Float32Array(k);
            for (var M = 0; M < k; M++) ao[M] = bM[M];
            if (cN != 1) {
                v.PF.GD(ao.slice(0), ao, o.rect, Math.round((cN - 1) * .2))
            }
            for (var x = 0; x < e; x++)
                for (var C = 0; C < h; C++) {
                    var M = x * h + C,
                        N = M << 2,
                        hI = ao[M],
                        a$ = R.buffer[N],
                        hH = R.buffer[N + 1],
                        bq = R.buffer[N + 2],
                        ie = C == h - 1 ? hI - ao[M - 1] : ao[M + 1] - hI,
                        fk = x == e - 1 ? hI - ao[M - h] : ao[M + h] - hI,
                        dq = -1,
                        g9 = 1,
                        cx = 0,
                        hp = ie,
                        D = 0,
                        b0 = 1,
                        bh = fk,
                        an = 1;
                    ie = cx * bh - hp * b0;
                    fk = hp * D - g9 * bh;
                    dq = g9 * b0 - cx * D;
                    var hA = 1 / Math.sqrt(ie * ie + fk * fk + dq * dq);
                    ie *= hA;
                    fk *= hA;
                    dq *= hA;
                    var ft = C - h / 2,
                        c6 = x - e / 2,
                        ba = h * .3,
                        hA = 1 / Math.sqrt(ft * ft + c6 * c6 + ba * ba);
                    ft *= hA;
                    c6 *= hA;
                    ba *= hA;
                    var f7 = Math.max(0, ft * ie + c6 * fk + ba * dq);
                    if (f7 > 1) throw f7;
                    var b5 = f7 * 255;
                    R.buffer[N] = an * b5 + (1 - an) * a$;
                    R.buffer[N + 1] = an * b5 + (1 - an) * hH;
                    R.buffer[N + 2] = an * b5 + (1 - an) * bq
                }
        }
        if (w == "PntD") {
            var hG = Q.Shrp.v * .4,
                eE = Q.BrsT.v.BrsT,
                aV = {
                    BrSm: [.75],
                    BrsL: [.85],
                    BrDR: [.68],
                    BrsW: [.75],
                    BrbW: [.78],
                    BrSp: [.62]
                } [eE],
                dp = Math.round(Q.Sz.v * .5);
            v.xt.N7 = aV[0];
            var en = v.xt.ru;
            bf.no(o.buffer, R.buffer, h, e, dp, en, [], 0);
            var f1 = [-.7, -1, -.7, -1, 10, -1, -.7, -1, -.7];
            f1 = v.xt.I0(f1);
            var de = R.buffer.slice(0);
            v.xt.iH(de, R.buffer, h, e, f1, 0);
            for (var M = 0; M < o.buffer.length; M++) {
                var dM = R.buffer[M] - de[M];
                R.buffer[M] = Math.max(0, Math.min(255, de[M] + hG * dM))
            }
        }
        if (w == "GlwE") {
            var ih = R.buffer.slice(0);
            v.xt.N7 = .5;
            var en = v.xt.ru;
            bf.no(o.buffer, ih, h, e, Q.Smth.v >>> 1, en, [], 0);
            bf.Ok(ih, R.buffer, h, e);
            v.gb(R.buffer, ih);
            v.MF(ih);
            v.Fw(ih, 4278190080, 16777215);
            bf.no(ih, R.buffer, h, e, Q.EdgW.v >>> 1, v.xt.Yz, [], 0);
            var an = Q.EdgB.v / 10;
            for (var M = 0; M < ih.length; M++) {
                if ((M & 3) == 3) continue;
                var fa = R.buffer[M];
                R.buffer[M] = Math.max(0, Math.min(255, fa * an))
            }
        }
        if (w == "StnG") {
            var h = o.rect.D,
                e = o.rect.j;
            v.dV.ano(o.buffer, h, e, R.buffer, Q.ClSz.v, [Math.round(K.W), Math.round(K.a), Math.round(K.k)], Q.BrdT.v)
        }
        if (w == "HlfS") {
            var eI = Q.HlSz.v,
                gR = eI * 2 + 1,
                hk = Q.Cntr.v,
                d3 = h1.R8.indexOf(Q.ScrT.v.ScrT),
                k = h * e,
                iB = k * 4,
                gk = v.$(k),
                d$ = o.buffer,
                dF = 0,
                co = 0;
            for (var M = 0; M < iB; M += 4) gk[M >>> 2] = ~~(.5 + (d$[M] + d$[M + 1] + d$[M + 2]) * (1 / 3));
            var hx = gk.slice(0);
            v.PF.pg(hx, gk, o.rect, eI);
            var bz = Math.PI / gR,
                hY = new Float64Array(h),
                f = new Float64Array(h),
                fL = new Float64Array(2 * h);
            for (var C = 0; C < h; C++) {
                var c4 = (C - (h >>> 1)) * bz;
                hY[C] = c4 * c4;
                f[C] = Math.cos(c4);
                var ie = C << 1;
                fL[ie] = Math.sin(ie * (1 / 4.5));
                fL[ie + 1] = Math.sin((ie + 1) * (1 / 4.5))
            }
            for (var x = 0; x < e; x++) {
                var bL = (x - (e >>> 1)) * bz,
                    aH = Math.cos(bL),
                    bg = bL * bL;
                for (var C = 0; C < h; C++) {
                    var fy = aH;
                    if (d3 == 0) {
                        var bH = .5 + Math.sqrt(hY[C] + bg) * 4.5;
                        fy = fL[~~bH]
                    } else if (d3 == 1) {
                        fy = f[C] * aH
                    }
                    var M = x * h + C,
                        b5 = gk[M] * (.75 + .25 * fy),
                        e7 = d$[(M << 2) + 3] * (1 / 255),
                        ep = Math.max(0, Math.min(255, ~~b5));
                    dF += ep * e7, co += e7;
                    gk[M] = ep
                }
            }
            dF /= co;
            var eV = 128 + 1.26 * (dF - 128),
                an = .08 + .25 * Math.abs((128 - dF) / 128),
                d9 = 1 + an * hk;
            for (var M = 0; M < k; M++) {
                var b5 = eV + (gk[M] - eV) * d9;
                gk[M] = Math.max(0, Math.min(255, ~~b5))
            }
            if (hk > 46) v.round(gk);
            v.nP(gk, R.buffer)
        }
        for (var M = 0; M < o.buffer.length; M += 4) R.buffer[M + 3] = o.buffer[M + 3]
    };
    h1.RX = function(w) {
        if (w == null) return new fB(0, 0);
        var o = 0,
            Q = w.GEfs.v;
        for (var M = 0; M < Q.length; M++) {
            var K = Q[M].v,
                R = 1e4;
            if (K.GELv && !K.GELv.v) continue;
            var b = K.GEfk.v.GEft;
            if (b == "Phtc") R = 0;
            o = Math.max(o, R)
        }
        return new fB(o, o)
    };
    h1.l7 = function(w) {
        var o = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            Q = [0, .6, .7, .8, 1, 1.2, 1.4, 1.6, 1.8, 2, 2.2, 2.6, 3, 4, 5][w];
        for (var M = 0; M < 13; M++) {
            var K = M - 6;
            o[M] = 1 / (Q * Math.sqrt(2 * Math.PI)) * Math.exp(-.5 * (K / Q) * (K / Q))
        }
        return o
    };
    h1.Nu = function(w, o, Q, K, b) {
        var R = h1.l7(b),
            X = 6,
            h = 13;
        for (var e = 0; e < K; e++)
            for (var Z = 0; Z < Q; Z++) {
                var P = e * Q + Z << 1,
                    J = 0,
                    i = 0;
                for (var M = 0; M < h; M++) {
                    var k = Z + M - X,
                        $ = k < 0 ? 0 : k >= Q ? Q - 1 : k,
                        n = (e * Q + $) * 2,
                        j = R[M];
                    J += j * w[n];
                    i += j * w[n + 1]
                }
                o[P] = J;
                o[P + 1] = i
            }
    };
    h1.y7 = function(w, o, Q, K, b) {
        var R = h1.l7(b),
            X = 6,
            h = 13;
        for (var e = 0; e < K; e++)
            for (var Z = 0; Z < Q; Z++) {
                var P = e * Q + Z << 1,
                    J = 0,
                    i = 0;
                for (var M = 0; M < h; M++) {
                    var k = e + M - X,
                        $ = k < 0 ? 0 : k >= K ? K - 1 : k,
                        n = ($ * Q + Z) * 2,
                        j = R[M];
                    J += j * w[n];
                    i += j * w[n + 1]
                }
                o[P] = J;
                o[P + 1] = i
            }
    };

    function hL() {}
    hL.fb = [2, 5, 5, 7, 4, 4];
    hL.IM = "norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
    hL.ja = "Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
    hL.gS = [
        [15, 10, 0],
        [15, 10, 1],
        [15, 10, 2],
        [15, 10, 3],
        [15, 10, 4],
        [15, 10, 5],
        [15, 10, 6],
        [15, 10, 7],
        [15, 10, 8],
        [15, 10, 9],
        [15, 10, 10],
        [15, 10, 11],
        [15, 10, 12],
        [15, 10, 13],
        [15, 10, 14],
        [15, 10, 15],
        [15, 10, 16],
        [15, 10, 17],
        [15, 10, 18],
        [15, 10, 19],
        [15, 10, 20],
        [15, 10, 21],
        [15, 10, 22],
        [15, 10, 23],
        [15, 10, 24],
        [15, 10, 25],
        [15, 10, 26]
    ];
    hL.uI = ["normal", null, "darken", "multiply", "color-burn", null, null, "lighten", "screen", "color-dodge", null, null, "overlay", "soft-light", "hard-light", null, null, null, null, "difference", "exclusion", null, null, "hue", "saturation", "color", "luminosity"];
    hL.$v = function(w) {
        if (w == "passThrough") return "pass";
        return hL.IM[hL.ja.indexOf(w)]
    };
    hL.vI = function(w) {
        if (w == "pass") return "passThrough";
        return hL.ja[hL.IM.indexOf(w)]
    };
    hL.getName = function(w) {
        return hL.gS[hL.IM.indexOf(w)]
    };

    function a() {
        this.rect = null;
        this.TC = "norm";
        this.opacity = 255;
        this.xx = !1;
        this.a1 = 0;
        this.i1 = 0;
        this.ZM = [];
        for (var M = 0; M < 10; M++) this.ZM.push(0, 0, 255, 255);
        this.name = null;
        this.add = {};
        this.buffer = null;
        this.K6 = null;
        this.uk = null;
        this.q = null;
        this.B3 = null;
        this.a5H = 30;
        this.gQ = a.tt();
        this.a8n = a.tt();
        this.a8h = a.tt();
        this.acg = a.tt();
        this.lY = 0;
        this.b0 = !1;
        this.Xa = null;
        this.R = new a.IV
    }
    a.tt = function() {
        var w = _.B("canvas");
        w.width = w.height = 30;
        return w.getContext("2d")
    };
    a.IV = function() {
        this.XL = !0;
        this.Wy = !0;
        this.jl = v.$(0);
        this.adS = v.$(0);
        this.AG = null;
        this.Rb = {};
        this.a7Z = null;
        this.j5 = null;
        this.Oo = null;
        this.LT = null;
        this.iF = null;
        this.bs = null;
        this.ZK = null;
        this.tK = null;
        this.qi = null;
        this.wP = null;
        this._X = null;
        this.jD = null;
        this.ZE = !1
    };
    a.IV.prototype.fS = function() {
        this.XL = !1;
        this.Wy = !1;
        this.AG = null;
        this.ZE = d.cv
    };
    a.IV.prototype.ajG = function() {
        eg.kN(this.Rb);
        this.jl = v.$(0);
        this.adS = v.$(0);
        if (this.LT) this.LT.delete();
        if (this.iF) this.iF.delete();
        this.LT = null;
        this.iF = null;
        var w = [this.bs, this.ZK, this.tK, this.qi, this.wP, this._X];
        for (var M = 0; M < 6; M++)
            if (w[M] != null && w[M] instanceof d.Dz) w[M].delete();
        this.bs = null;
        this.ZK = null;
        this.tK = null;
        this.qi = null;
        this.wP = null;
        this._X = null
    };
    a.prototype.C = function(w) {
        if (w == null) w = this.rect.clone();
        if (this.R.AG == null) this.R.AG = w;
        else this.R.AG = this.R.AG.OX(w)
    };
    a.prototype.xI = function() {
        return this.add.lsct == bb.SI || this.add.lsct == bb.RN
    };
    a.prototype.hK = function() {
        var w = this.add;
        return w.SoCo != null || w.GdFl != null || w.PtFl != null
    };
    a.prototype.y5 = function() {
        var w = this.add.lmfx;
        if (w == null) return;
        var o = ["GrFl", "patternFill"];
        for (var M = 0; M < o.length; M++) {
            var Q = b_.Ix[b_.order.indexOf(o[M])],
                K = w[Q].v;
            if (K.length == 0) continue;
            for (var b = 0; b < K.length; b++) {
                var R = K[b].v;
                if (R.enab.v && (R.Algn == null || !R.Algn.v)) this.R.Wy = !0
            }
        }
    };
    a.prototype.xz = function() {
        var w = this.q;
        if (this.hK()) w = this._f();
        if (!d.cv) return w.oD();
        if (this.R.iF == null || this.R.XL || d.cv != this.R.ZE) {
            if (this.R.iF) this.R.iF.delete();
            this.R.iF = new d.Zb(w.vG().D, w.vG().j);
            this.R.iF.set(w.oD())
        }
        return this.R.iF
    };
    a.prototype.$m = function(w) {
        var o = this.rect,
            Q = this.buffer;
        if (!d.cv) {
            var K = this.yu(w, Q, o);
            if (K) {
                Q = K.Sg;
                o = K.rect
            }
            return Q
        }
        if (this.R.AG != null || d.cv != this.R.ZE) {
            var K = this.yu(w, Q, o);
            if (K) {
                Q = K.Sg;
                o = K.rect
            }
            var b = o;
            if (d.cv != this.R.ZE || this.R.LT == null || this.R.LT.D != b.D || this.R.LT.j != b.j) {
                if (this.R.LT) this.R.LT.delete();
                this.R.LT = new d.Dz(b.D, b.j);
                this.R.LT.set(Q)
            } else {
                var R = this.R.AG.clone();
                R.offset(-o.x, -o.y);
                this.R.LT.set(Q, R)
            }
        }
        return this.R.LT
    };
    a.prototype.lc = function() {
        var w = this.q;
        if (this.hK()) w = this._f();
        return w != null && w.isEnabled && (w.c2() == 0 || w.c2() != 0 && !w.rect.Kx())
    };
    a.prototype.yu = function(w, o, Q) {
        if (this.iD()) {
            var K = this.Ca(w);
            if (K.q && K.q.isEnabled && (!K.q.rect.Kx() || K.q.color == 0)) {
                var b = this.add.SoLd.filterFX.v;
                K.q.v$ = b.filterMaskDensity ? b.filterMaskDensity.v : 255;
                K.q.YF = b.filterMaskFeather ? b.filterMaskFeather.v : 0;
                var R = K.buffer,
                    X = K.q.Qj(Q);
                v.MF(X);
                o = v.clone(o);
                v.M.uG(R, K.rect, o, Q, X, Q, 0, Q, 1);
                return {
                    Sg: o,
                    rect: Q
                }
            }
        }
    };
    a.prototype.aer = function() {
        var w = {
            sP: !1,
            Ng: !1,
            ev: 0,
            jB: 0
        };
        if (this.add.vmsk && this.add.vmsk.isEnabled) w.Ng = !0;
        if (this._f() && this._f().isEnabled) w.sP = !0;
        if (w.sP && w.Ng) {
            w.ev = this._f().rect.x - this.add.vmsk._f().rect.x;
            w.jB = this._f().rect.y - this.add.vmsk._f().rect.y
        }
        return w
    };
    a.prototype.b6 = function(w) {
        if (this.add.lsct == bb.g4) return;
        var o = this,
            Q = this._f() != null && this._f().eT,
            K = this.add.vmsk != null && this.add.vmsk.eT,
            b = this.aer(),
            R = JSON.stringify(b) != this.R.a7Z || b.sP && Q || b.Ng && K;
        if (R) {
            if (b.Ng) {
                var X = this.add.vmsk._f();
                if (b.sP) {
                    this.q = this._f().A0(X);
                    this.R.j5 = new fB(this.q.rect.x - this._f().rect.x, this.q.rect.y - this._f().rect.y)
                } else this.q = X
            }
            if (this.q) this.R.XL = !0;
            if (this.q) this.R.Oo = new fB(this.rect.x - this.q.rect.x, this.rect.y - this.q.rect.y);
            if (b.sP) this._f().eT = !1;
            if (b.Ng) this.add.vmsk.eT = !1;
            this.C()
        } else {
            if (b.sP && b.Ng) {
                this.q.rect.x = this._f().rect.x + this.R.j5.x;
                this.q.rect.y = this._f().rect.y + this.R.j5.y
            }
        }
        if (o.hK()) {
            this.ym(w)
        }
        if (o.GZ()) {
            var h;
            if (this.q) h = new fB(this.rect.x - this.q.rect.x, this.rect.y - this.q.rect.y);
            if (this.q && this.q.isEnabled && (this.R.Oo == null || !h.Lb(this.R.Oo))) {
                this.R.Oo = h;
                this.C();
                this.R.XL = !0
            }
        }
        if (au.get(o.add) != null) this.R.XL = !0;
        this.R.a7Z = JSON.stringify(b)
    };
    a.prototype.ym = function(w) {
        var o = this,
            Q = o.add.vstk,
            K, b = o.add.vmsk ? this.add.vmsk._f() : null,
            h = !0;
        if (b && b.isEnabled && b.c2() == 0) K = b.vG().clone();
        else K = new B(0, 0, w.D, w.j);
        var R = o._f();
        if (R && R.isEnabled && R.c2() == 0) K = K.z2(o.q.vG());
        var X = b && Q;
        if (Q && (!Q.strokeEnabled.v || Q.strokeStyleLineWidth.v.val == 0)) X = !1;
        if (Q && !Q.fillEnabled.v && X) h = !1;
        var e = v.$(K.O() * 4);
        if (h) {
            if (o.add.SoCo) eg.mS(e, o.add.SoCo.Clr.v);
            if (o.add.GdFl) eg.uj(o.add.GdFl, e, K, w, null, b && b.color == 0 ? b.rect : null);
            if (o.add.PtFl) eg.wd(o.add.PtFl, e, K, w, o.add.fxrp)
        }
        if (b) {
            var Z = b.v$;
            if (X) b.v$ = 255;
            var P = v.$(K.O());
            if (b.c2() != 0) v.set(P, Math.round(b.c2()));
            if (b && b.isEnabled) {
                var J = b.vG(),
                    i = b.oD();
                if (J.Lb(K)) v.gb(i, P);
                else v.Hp(i, J, P, K)
            }
            if (o.add.SoCo && h) {
                v.qh(P, e, 3)
            } else v.BQ(P, K, e, K);
            if (X) b.v$ = Z
        }
        o.buffer = e;
        o.rect = K;
        if (X) {
            var k = b_.fQ.So.indexOf(Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment),
                $ = Q.strokeStyleContent.v,
                n = b_.fQ.xM.indexOf($.classID),
                j = this.add.vmsk._f(Q);
            if (o.rect.Lb(new B(0, 0, w.D, w.j))) o.rect = o.rect;
            else if (k != 0) {
                var y = o.rect.OX(j.vG()),
                    V = v.$(y.O() * 4);
                v.c1(o.buffer, o.rect, V, y);
                o.buffer = V;
                o.rect = y
            }
            var Z = j.v$;
            j.v$ = 255;
            var O = j.Qj(o.rect);
            j.v$ = Z;
            if (j.color == 255) v.MF(O);
            var S = v.$(o.rect.O() * 4);
            if (n == 0) eg.mS(S, $.Clr.v);
            if (n == 1) eg.uj($, S, o.rect, w, null, b.color == 0 ? b.rect : null);
            if (n == 2) eg.wd($, S, o.rect, w, o.add.fxrp);
            var G = Q.strokeStyleOpacity.v.val / 100;
            if (G != 1) v.JW(O, G);
            v.qh(O, S, 3);
            if (j.color == 255) k = 2 - k;
            if (k == 0) {
                v.M.M$("norm", S, o.rect, o.buffer, o.rect, o.rect, 1);
                v.BQ(P, o.rect, o.buffer, o.rect)
            }
            if (k == 1) {
                v.M.M$("norm", S, o.rect, o.buffer, o.rect, o.rect, 1)
            }
            if (k == 2) {
                v.MF(P);
                v.M.uG(S, o.rect, o.buffer, o.rect, P, K, 255, o.rect, 1, !1);
                v.MF(P)
            }
            if (j.v$ != 255) {
                var D = v.clone(S);
                v.Fw(D, 4278190080, 16777215);
                v.M.M$("norm", D, o.rect, o.buffer, o.rect, o.rect, 1 - j.v$ / 255)
            }
            Z = b.v$;
            b.v$ = 255;
            this.adS = b.Qj(o.rect);
            b.v$ = Z
        }
        this.C()
    };
    a.prototype.xL = function(w, o) {
        var Q = this,
            K = Q.add.SoLd.Idnt.v,
            b = Q.add.SoLd,
            R = v.w.QT(z.Z.wf(b.nonAffineTransform)),
            X = w.j6(K, b.Crop ? b.Crop.v : null, [R.D, R.j], b.Impr.v.classID);
        if (X == null) return;
        var h = X.qr;
        b.Sz.v.Wdth.v = h[1].D;
        b.Sz.v.Hght.v = h[1].j;
        var e = b.warp.v,
            Z = z.Z.wf(b.nonAffineTransform),
            P = v.Q.RP(Z, h[1]);
        if (e && !v.AD.WZ(e)) {
            var R = v.w.QT(v.AD.rh(e)),
                J = R.x,
                i = R.y,
                k = 1 / R.D,
                $ = 1 / R.j;
            P = v.Q.RP(Z);
            P = v.Q.A0(P, [k, 0, -J * k, 0, $, -i * $, 0, 0])
        }
        var n = z.Z.tG(h, o ? 0 : 1, P, e, null, null, null, o);
        if (n == null) {
            Q.buffer = v.$();
            Q.rect = new B
        } else if (Q.iD()) {
            var j = Q.Ca(w);
            j.buffer = n.buffer;
            j.rect = n.rect.clone();
            this.sd(w, o)
        } else {
            Q.buffer = n.buffer;
            Q.rect = n.rect
        }
        Q.b6(w);
        Q.C();
        w.C()
    };
    a.prototype.sd = function(w, o) {
        if (o == null) o = !1;
        var Q = this.Ca(w),
            K = this.add.SoLd.filterFX.v,
            b = bf.a4U(K),
            R = new B(0, 0, w.D, w.j),
            X = Q.rect.OX(R),
            h = Q.rect.clone();
        h.Nn(b.x, b.y);
        var e = {
            buffer: null,
            rect: X.z2(h)
        };
        e.buffer = v.$(e.rect.O() * 4);
        v.c1(Q.buffer, Q.rect, e.buffer, e.rect);
        if (K.enab.v && o == !1) {
            var Z = K.filterFXList.v;
            for (var M = 0; M < Z.length; M++) {
                var P = Z[M].v;
                if (P.enab.v == !1) continue;
                var J = P.blendOptions.v,
                    i = hL.$v(J.Md.v.BlnM),
                    k = J.Opct.v.val / 100,
                    $ = v.V.c2(P.FrgC.v),
                    n = v.V.c2(P.BckC.v),
                    j = bf.ws(P),
                    y = {
                        buffer: v.$(e.buffer.length),
                        rect: e.rect.clone()
                    },
                    V = P.Fltr ? P.Fltr.v : null;
                if (au.gy[j] != null) {
                    var O = au.gy[j],
                        S = au.Xw(O, V);
                    if (S) au.WL(S, e.buffer, y.buffer, e.rect)
                } else bf.WL(j, e, V, $, n, y, [w.add.lnk2 ? w.add.lnk2 : [], this._f(), w.SF]);
                if (i == "norm" && k == 1) e = y;
                else if (i == "norm") {
                    v.M.uG(y.buffer, y.rect, e.buffer, e.rect, null, null, null, e.rect, k)
                } else {
                    v.M.M$(i, y.buffer, y.rect, e.buffer, e.rect, e.rect, k)
                }
            }
        }
        this.rect = e.rect;
        this.buffer = e.buffer;
        this.ei();
        this.C();
        w.C()
    };
    a.prototype.JZ = function(w, o, Q) {
        this.Xa = this.vc(w, o, Q)
    };
    a.prototype._J = function(w, o) {
        var Q = this.vc(w, o, !0);
        if (Q == null) return null;
        var K = {
            b$: Q.lY,
            Hb: Q.DL,
            rect: Q.p1
        };
        if (K.b$ == 1 || K.b$ == 3) {
            var b = K.rect,
                R = v.$(b.D * b.j * 4);
            v.qh(K.Hb, R, 0);
            v.qh(K.Hb, R, 1);
            v.qh(K.Hb, R, 2);
            v.dd(w.o.channel, w.o.rect, R, b);
            K.Hb = R
        }
        return K
    };
    a.prototype.vc = function(w, o, Q) {
        var K, b, R, X, h, e, Z;
        if (this.lY <= 0) {
            var P = v.$(this.rect.O());
            v.KU(this.buffer, P, 3);
            K = v.MQ.Mx(o, {
                channel: P,
                rect: this.rect
            }, "intersection");
            if (K == null) return null;
            var J = v.JT(K.channel, K.rect);
            X = K.rect.clone();
            h = this.rect.clone();
            b = v.$(X.O() * 4);
            v.c1(this.buffer, h, b, X);
            v.qh(K.channel, b, 3);
            R = v.clone(this.buffer);
            if (!Q) {
                var i = v.clone(o.channel);
                v.MF(i);
                v.BQ(i, o.rect, R, h)
            }
            e = v.clone(this.buffer);
            Z = this.rect.clone()
        }
        if (this.lY == 1 || this.lY == 3) {
            var k = this.lY == 1 ? this._f() : this.Ca(w).q;
            X = o.rect.clone();
            h = k.rect.clone();
            b = k.r0(X);
            var R = v.clone(k.channel);
            if (!Q) v.M.K_(k.color == 255 ? v.lP(X.O()) : v.pa(X.O()), X, R, h, o.channel, X, 1);
            e = v.clone(k.channel);
            Z = k.rect.clone()
        }
        return {
            lY: this.lY,
            DL: b,
            p1: X,
            oX: R,
            tS: h,
            o$: e,
            zD: Z
        }
    };
    a.prototype.qR = function(w, o) {
        var Q = this.Xa;
        if (Q.lY == 0) {
            this.rect = Q.zD;
            this.buffer = Q.o$;
            this.C()
        }
        if (Q.lY == 1 || Q.lY == 3) {
            var K = Q.lY == 1 ? this._f() : this.Ca(w).q;
            K.channel = Q.o$;
            K.rect = Q.zD;
            if (this.lY == 1) {
                K.eT = !0;
                this.b6(w)
            }
            if (this.lY == 3) this.C()
        }
        this.Xa = o
    };
    a.prototype.Bb = function(w, o) {
        if (this.lY <= 0 && o.rect.Lb(this.rect)) {
            var Q = v.$(this.rect.O());
            v.KU(this.buffer, Q, 3);
            if (v.Lb(w.o.channel, Q)) {
                var K = this.rect,
                    b = this.buffer;
                this.Xa = {
                    lY: this.lY,
                    DL: b.slice(0),
                    p1: K.clone(),
                    oX: v.$(0),
                    tS: new B,
                    o$: v.$(0),
                    zD: new B
                };
                return !0
            }
        }
        var R = this.Xa;
        if (R == null) return !1;
        if (R.lY != this.lY) return !1;
        if (!o.rect.Lb(R.p1)) return !1;
        var X = R.tS.OX(R.p1);
        if (R.lY <= 0) {
            if (!X.Lb(this.rect)) return !1;
            var h = v.$(R.DL.length >> 2);
            v.KU(R.DL, h, 3);
            if (!v.Lb(o.channel, h)) return !1;
            var e = v.$(X.D * X.j * 4);
            v.c1(R.oX, R.tS, e, X);
            v.M.M$("norm", R.DL, R.p1, e, X, X, 1);
            return v.Lb(e, this.buffer)
        }
        if (R.lY == 1 || R.lY == 3) {
            var Z = R.lY == 1 ? this._f() : this.Ca(w).q;
            if (!X.Lb(Z.rect)) return !1;
            var P = v.$(X.O());
            v.set(P, Z.color);
            v.Hp(R.oX, R.tS, P, X);
            v.M.K_(R.DL, R.p1, P, X, o.channel, X, 1);
            return v.Lb(P, Z.channel)
        }
    };
    a.prototype.k3 = function(w, o, Q, K) {
        var b = this.Xa;
        b.p1.offset(o, Q);
        var R = b.tS.OX(b.p1);
        if (b.lY <= 0) {
            var X = v.$(R.O() * 4);
            v.c1(b.oX, b.tS, X, R);
            v.M.M$("norm", b.DL, b.p1, X, R, R, 1);
            this.buffer = X;
            this.rect = R;
            this.C()
        } else {
            var h = this.lY == 1 ? this._f() : this.Ca(w).q,
                e = v.$(R.O());
            v.set(e, h.color);
            v.Hp(b.oX, b.tS, e, R);
            v.M.K_(b.DL, b.p1, e, R, K.channel, R, 1);
            h.channel = e;
            h.rect = R.clone();
            if (this.lY == 1) {
                h.eT = !0;
                this.b6(w)
            }
            if (this.lY == 3) this.C()
        }
    };
    a.prototype.AJ = function() {
        var w = [-1, 0, 1, 2];
        if (this.q) w.push(-2);
        if (this.B3) w.push(-3);
        return w
    };
    a.prototype.getName = function() {
        return this.add.luni ? this.add.luni : this.name
    };
    a.prototype.jG = function(A) {
        this.add.luni = this.name = A
    };
    a.prototype.fR = function(w) {
        var o = this.add.lnsr,
            Q = this.add.TySh;
        if (o == "rend" && Q) this.jG(fI.KG(Q.rr).replace(/(?:\r\n|\r|\n)/g, " ").slice(0, 32))
    };
    a.prototype.HY = function() {
        return (this.a1 & 1 << 1) == 0
    };
    a.prototype.GZ = function() {
        return (this.a1 & 1 << 4) == 0
    };
    a.prototype.q8 = function() {
        return (this.a1 & 1 << 5) != 0
    };
    a.prototype.a3c = function() {
        var w = this;
        if (w.add.lnsr != "bgnd") {
            w.add.lnsr = "bgnd";
            w.jG("Background");
            w.add.lspf = 1 << 2
        }
    };
    a.prototype.alh = function() {
        var w = this;
        if (w.add.lnsr == "bgnd") {
            delete w.add.lnsr;
            w.jG("Layer 0");
            w.add.lspf = 0
        }
    };
    a.prototype.cp = function(w) {
        var o = this.add.lspf;
        return o == null ? !1 : (o >> w & 1) != 0
    };
    a.prototype.BZ = function(w) {
        if (w && !this.HY()) this.a1 -= 2;
        if (!w && this.HY()) this.a1 += 2
    };
    a.prototype.V8 = function() {
        var w = this.add.lmfx;
        if (w == null) return !1;
        for (var o in w) {
            if (o == "masterFXSwitch") continue;
            if (o == "Scl") continue;
            if (o == "classID") continue;
            if (w[o].v.length > 0) return !0
        }
        return !1
    };
    a.prototype.iD = function() {
        return this.add.SoLd != null && this.add.SoLd.filterFX != null
    };
    a.prototype.$J = function() {
        var w = this.add.lmfx;
        if (w == null) return !1;
        if (!w.masterFXSwitch.v) return !1;
        for (var o in w) {
            if (o == "masterFXSwitch") continue;
            if (o == "Scl") continue;
            if (o == "classID") continue;
            var Q = w[o].v;
            for (var M = 0; M < Q.length; M++)
                if (Q[M].v.enab.v) return !0
        }
        return !1
    };
    a.prototype.IJ = function(w, o, Q, K) {
        var b = new B,
            R = this.sK(w, Q, K);
        if (R.indexOf(0) != -1) b = b.OX(this.rect);
        if (R.indexOf(1) != -1) b = b.OX(this._f().vG());
        if (R.indexOf(2) != -1) {
            var X = this.add.vmsk,
                h;
            if (o) {
                if (X.Ja.length > 1) {
                    var e = v.P.g$(X._, null, X.Ja);
                    h = v.w.QT(e)
                } else h = v.P.bj(X._, X.u.length != 0 ? X.u : null)
            } else h = v.P.bj(X._);
            b = b.OX(h)
        }
        if (R.indexOf(3) != -1) b = b.OX(this.Ca(w).q.vG());
        if (R.length == 0 && this.hK()) b = new B(0, 0, w.D, w.j);
        return b
    };
    a.prototype.xi = function() {
        var w = this.add.artb.artboardRect.v,
            o = w.Btom.v,
            Q = w.Left.v,
            K = w.Rght.v,
            top = w.Top.v;
        return new B(Q, top, K - Q, o - top)
    };
    a.prototype.vm = function(w) {
        var o = a.V9(w);
        if (this.add.artb == null) this.add.artb = {
            classID: "artboard",
            artboardRect: {
                t: "Objc",
                v: null
            },
            artboardBackgroundType: {
                t: "long",
                v: 1
            }
        };
        this.add.artb.artboardRect.v = o
    };
    a.V9 = function(w) {
        var o = {
            classID: "classFloatRect",
            Top: {
                t: "doub",
                v: 0
            },
            Left: {
                t: "doub",
                v: 0
            },
            Btom: {
                t: "doub",
                v: 0
            },
            Rght: {
                t: "doub",
                v: 0
            }
        };
        o.Btom.v = w.y + w.j;
        o.Left.v = w.x;
        o.Rght.v = w.x + w.D;
        o.Top.v = w.y;
        return o
    };
    a.prototype.sK = function(w, o, Q) {
        var K = [],
            b = this,
            R = this.b0;
        if (!o && b.b0 && Q) {
            K.push(2)
        } else if (b.lY <= 0 || o) {
            if (b.GZ())
                if (!this.rect.Kx()) K.push(0);
            if (b._f() && !b._f().rect.Kx())
                if (b._f().Qu || o) K.push(1);
            if (b.add.vmsk)
                if (b.add.vmsk.Qu || o) K.push(2);
            if (b.iD() && b.Ca(w).q && !b.Ca(w).q.rect.Kx()) K.push(3)
        } else if (b.lY == 1) {
            K.push(1);
            if (b._f().Qu && !b._f().rect.Kx()) {
                if (b.GZ())
                    if (!this.rect.Kx()) K.push(0);
                if (b.add.vmsk)
                    if (b.add.vmsk.Qu) K.push(2)
            }
        } else if (b.lY == 3 && !b.Ca(w).q.rect.Kx()) K.push(3);
        if (b.add.artb && K.indexOf(0) == -1) K.push(0);
        K.sort();
        return K
    };
    a.prototype._f = function() {
        var w = this;
        return w.B3 ? w.B3 : w.add.vmsk && w.add.vmsk.isEnabled ? null : w.q
    };
    a.prototype.Ca = function(w) {
        var o = this.add.SoLd.placed.v,
            Q = w.add.FEid;
        if (Q == null) return null;
        for (var M = 0; M < Q.length; M++)
            if (Q[M].id == o) return Q[M];
        return null
    };
    a.prototype.extend = function(w) {
        v.a1O(this, w)
    };
    a.prototype.v8 = function(w, o, Q) {
        var K = w.clone();
        if (this.$J()) {
            var b = this.add.lmfx,
                R = o.root.o8(o.t.indexOf(this)),
                X = b.gradientFillMulti.v,
                h = !1;
            for (var M = 0; M < X.length; M++)
                if (X[M].v.enab.v && X[M].v.Algn.v) h = !0;
            if (h) K = K.OX(R.vG(o, !1));
            var e = eg.ag2(this, o, Q);
            K.offset(e.x, e.y);
            K.D += e.D;
            K.j += e.j
        }
        return K
    };
    a.prototype.ei = function() {
        if (this.GZ()) v.Ay(this);
        var w = this._f();
        if (w) w.ei()
    };
    a.prototype.clone = function() {
        var w = new a;
        w.rect = this.rect.clone();
        w.buffer = v.clone(this.buffer);
        w.TC = this.TC;
        w.opacity = this.opacity;
        w.xx = this.xx;
        w.a1 = this.a1;
        w.name = this.name;
        w.ZM = this.ZM.slice(0);
        if (this.q) w.q = this.q.clone();
        if (this.B3) w.B3 = this.B3.clone();
        for (var o in this.add) w.add[o] = fQ.clone(o, this.add[o]);
        return w
    };
    a.prototype.Mo = function(w) {
        var o = this;
        if (o.add.TySh) delete o.add.TySh;
        if (o.add.SoLd) {
            var Q = this.yu(w, this.buffer, this.rect);
            if (Q) {
                this.buffer = Q.Sg;
                this.rect = Q.rect;
                this.C()
            }
            delete o.add.SoLd
        }
        if (o.add.SoCo || o.add.GdFl || o.add.PtFl) {
            if (o.add.vogk) delete o.add.vogk;
            if (o.add.SoCo) delete o.add.SoCo;
            if (o.add.GdFl) delete o.add.GdFl;
            if (o.add.PtFl) delete o.add.PtFl;
            if (o.add.vmsk) {
                console.log(o.B3, o.q);
                delete o.add.vmsk;
                if (o.B3 == null && o.q) delete o.q;
                else if (o.B3 != null && o.q != null) {
                    o.q = o.B3;
                    delete o.B3
                }
            }
        }
        if (!o.xI() && au.get(o.add) == null && !this.GZ()) this.a1 -= 16
    };
    a.prototype.Li = function(w) {
        var o = 255,
            Q = 0;
        if (w == 2) {
            var K = this.add.SoLd.filterFX.v;
            if (K.filterMaskDensity) o = K.filterMaskDensity.v;
            if (K.filterMaskFeather) Q = K.filterMaskFeather.v
        } else {
            var b = w == 0 ? this._f() : this.add.vmsk;
            o = b.v$;
            Q = b.YF
        }
        return {
            hS: w,
            Cu: o,
            Vw: Q
        }
    };
    a.prototype.NV = function(w) {
        if (w.hS == 2) {
            var o = this.add.SoLd.filterFX.v;
            if (w.Cu == 255) delete o.filterMaskDensity;
            else o.filterMaskDensity = {
                t: "long",
                v: w.Cu
            };
            if (w.Vw == 0) delete o.filterMaskFeather;
            else o.filterMaskFeather = {
                t: "doub",
                v: w.Vw
            };
            this.C()
        } else {
            var Q = w.hS == 0 ? this._f() : this.add.vmsk;
            Q.v$ = w.Cu;
            Q.YF = w.Vw;
            Q.eT = !0
        }
    };
    a.prototype.Y1 = function() {
        var w = this,
            o = w.add.vmsk;
        if (o == null) return;
        w.add.vogk = a.Y1(o._)
    };
    a.Y1 = function(w) {
        var o = [],
            Q = v.P.S3(w);
        for (var K = 0; K < Q; K++) o.push(v.Wn.pa());
        return o
    };
    var bb = {
        B2: 0,
        SI: 1,
        RN: 2,
        g4: 3
    };
    a.Zz = function() {
        this.name = "Mask";
        this.He = !1;
        this.vK = {
            W: 255,
            a: 0,
            k: 0
        };
        this.WE = 50;
        this.BL = 0;
        this.color = 255;
        this.Qu = !0;
        this.isEnabled = !0;
        this.ZU = !1;
        this.v$ = 255;
        this.YF = 0;
        this.rect = new B;
        this.channel = v.$(0);
        this.ir = null;
        this.a39 = null;
        this.eT = !0
    };
    a.Zz.prototype.A0 = function(w) {
        if (!this.isEnabled) return w;
        var o = new a.Zz;
        o.color = Math.round(this.c2() * w.c2() / 255);
        if (this.c2() == 0 && w.c2() == 0) o.rect = this.vG().z2(w.vG());
        else if (w.c2() == 0) o.rect = w.vG().clone();
        else if (this.c2() == 0) o.rect = this.vG().clone();
        else o.rect = this.vG().OX(w.vG());
        o.channel = this.Qj(o.rect);
        o.v$ = 255;
        o.YF = 0;
        var Q = w.Qj(o.rect);
        v.akj(Q, o.rect, o.channel, o.rect);
        return o
    };
    a.Zz.prototype.vG = function() {
        if (this.YF == 0) return this.rect;
        var w = Math.ceil(this.YF * 2.2),
            o = this.rect.clone();
        o.Nn(w, w);
        return o
    };
    a.Zz.prototype.oD = function() {
        if (this.YF == 0 && this.v$ == 255) return this.channel;
        if (this.YF == 0) {
            var w = v.clone(this.channel);
            v.MF(w);
            v.JW(w, this.v$ / 255);
            v.MF(w);
            return w
        }
        var o = this.vG(),
            Q = this.r0(o),
            w = v.$(o.O());
        v.PF.ew(Q, w, o, this.YF);
        if (this.v$ != 255) {
            v.MF(w);
            v.JW(w, this.v$ / 255);
            v.MF(w)
        }
        return w
    };
    a.Zz.prototype.c2 = function() {
        return Math.round(255 - (255 - this.color) * (this.v$ / 255))
    };
    a.Zz.prototype.extend = function(w) {
        v.extend(this, w, this.color)
    };
    a.Zz.prototype.ei = function() {
        if (this.color == 255) v.MF(this.channel);
        v.ei(this);
        if (this.color == 255) v.MF(this.channel)
    };
    a.Zz.prototype.clone = function() {
        var w = new a.Zz;
        w.name = this.name;
        w.He = this.He;
        w.vK = this.vK;
        w.WE = this.WE;
        w.BL = this.BL;
        w.color = this.color;
        w.Qu = this.Qu;
        w.isEnabled = this.isEnabled;
        w.ZU = this.ZU;
        w.v$ = this.v$;
        w.YF = this.YF;
        w.rect = this.rect.clone();
        w.channel = v.clone(this.channel);
        return w
    };
    a.Zz.prototype.r0 = function(w, o) {
        if (o == null) o = v.$(w.O());
        v.set(o, this.color);
        v.Hp(this.channel, this.rect, o, w);
        return o
    };
    a.Zz.prototype.Qj = function(w, o) {
        var Q = this.vG(),
            K = this.oD();
        if (o == null) o = v.$(w.O());
        v.set(o, this.c2());
        v.Hp(K, Q, o, w);
        return o
    };
    a.Y3 = function() {
        this.Qu = !0;
        this.isEnabled = !0;
        this.v$ = 255;
        this.YF = 0;
        this._ = [{
            type: 6
        }, {
            type: 8,
            all: 0
        }];
        this.zi = [-3, -3];
        this.VS = !1;
        this.B3 = null;
        this.eT = !0;
        this.u = [];
        this.Ja = []
    };
    a.Y3.prototype.offset = function(w, o) {
        this.B3 = this._f();
        v.P.nB(this._, new dj(1, 0, 0, 1, w, o));
        this.B3.rect.offset(w, o)
    };
    a.Y3.prototype._f = function(w) {
        if (!this.eT && this.B3 && w == null) {
            this.B3.isEnabled = this.isEnabled;
            return this.B3
        }
        var o = v.P.bj(this._),
            Q = "strokeStyleLineAlignment",
            K = "strokeStyleLineJoinType";
        if (o.O() > 3e4 * 3e4) o = new B(0, 0, 100, 100);
        if (w && w[Q].v[Q] != "strokeStyleAlignInside") {
            var b = 1;
            if (w[K].v[K] == "strokeStyleMiterJoin") {
                var R = v.P.a2l(this._),
                    X = R / 2,
                    h = Math.sin(X),
                    e = Math.cos(X);
                e /= h;
                h = 1;
                var b = Math.sqrt(e * e + h * h);
                if (isNaN(b) || b < 1) b = 1
            }
            b *= w[Q].v[Q] == "strokeStyleAlignOutside" ? 1 : .5;
            var Z = Math.ceil(w.strokeStyleLineWidth.v.val * b * (w.strokeStyleResolution.v / 72));
            Z = Math.min(Z, 600);
            o.Nn(Z, Z)
        }
        o = v.w.ri(o);
        var P = new a.Zz;
        P.color = v.P.xU(this._) ? 0 : 255;
        P.Qu = this.Qu;
        P.isEnabled = this.isEnabled;
        P.ZU = !0;
        P.rect = o;
        P.v$ = this.v$;
        P.YF = this.YF;
        P.channel = v.$(P.rect.O());
        if (!o.Kx()) v.P.a5M(this._, P.channel, P.rect, w);
        if (w == null) {
            this.B3 = P;
            this.eT = !1
        }
        return P
    };
    a.Y3.prototype.clone = function() {
        var w = new a.Y3;
        w.Qu = this.Qu;
        w.isEnabled = this.isEnabled;
        w.v$ = this.v$;
        w.YF = this.YF;
        w._ = a.Y3.DK(this._);
        w.zi = this.zi.slice(0);
        w.VS = this.VS;
        w.u = this.u.slice(0);
        w.Ja = this.Ja.slice(0);
        return w
    };
    a.Y3.prototype.concat = function(w) {
        var o = w._.slice(2);
        if (o.length == 0) return;
        o[0].ID = 3;
        this._ = this._.concat(o)
    };
    a.Y3.DK = function(w) {
        var o = [];
        for (var M = 0; M < w.length; M++) {
            var Q = w[M];
            if (Q.type > 5 || Q.type == 0 || Q.type == 3) o.push(JSON.parse(JSON.stringify(Q)));
            else o.push({
                type: Q.type,
                M7: Q.M7.clone(),
                L: Q.L.clone(),
                WQ: Q.WQ.clone()
            })
        }
        return o
    };
    a.Y3.a3g = function(w, o, Q) {
        if (w.length != o.length) return !1;
        for (var M = 2; M < w.length; M++) {
            var K = w[M],
                b = o[M];
            if (K.type != b.type) return !1;
            if (K.type == 0 || K.type == 3) {
                if (K.length != b.length || !Q && K.ID != b.ID) return !1
            } else if (!K.M7.Lb(b.M7) || !K.L.Lb(b.L) || !K.WQ.Lb(b.WQ)) return !1
        }
        return !0
    };
    a.Y3.prototype.a9F = function() {
        var w = this._;
        for (var M = 3; M < w.length; M++)
            if (w[M].type == 0 || w[M].type == 3) w[M].ID = -1
    };
    a.Xd = function() {
        this.type = null;
        this.PB = 2;
        this.eo = null;
        this.YG = "";
        this.o4 = "";
        this.EL = "";
        this.open = 0;
        this.raw = null;
        this.qr = null;
        this.afT = ""
    };
    a.Xd.prototype.clone = function() {
        var w = new a.Xd;
        w.type = this.type;
        w.PB = this.PB;
        w.eo = this.eo;
        w.YG = this.YG;
        w.o4 = this.o4;
        w.EL = this.EL;
        w.open = this.open;
        w.raw = new Uint8Array(this.raw.buffer.slice(0));
        return w
    };
    a.Xd.prototype.X_ = function(w, o, Q) {
        if (Q == null) Q = "none";
        var K = this,
            b = ip.jF(K.raw.buffer),
            R = b == "svg" || b == "pdf";
        if (K.qr) {
            var X = o && R && Math.max(K.qr[1].D, K.qr[1].j) < Math.max(o[0], o[1]);
            if (!X && Q == this.afT) return
        }
        this.afT = Q;
        if (!R) w = 0;
        if (b == null) {
            alert("Unsupported format: " + W.Ui(K.raw, 0, 4));
            return null
        }
        var h = ip.pR(b);
        if (h.Jh) {
            var e = new fb(name + (b == "psd" ? "" : "-" + b) + ".psd"),
                Z;
            h.p5(K.raw.buffer, e, o);
            var P = new B(0, 0, e.D, e.j);
            if ("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(Q) != -1) {
                var J = [];
                for (var M = 0; M < e.t.length; M++) {
                    var i = e.t[M],
                        k = i.buffer;
                    if (!i.rect.Lb(P)) {
                        k = v.$(P.O() * 4);
                        v.c1(i.buffer, i.rect, k, P);
                        console.log("resizing")
                    }
                    J.push(k)
                }
                Z = v.$(P.O() * 4);
                v.stack.stack(J, Z, Q)
            } else {
                for (var M = 0; M < e.t.length; M++)
                    if (e.t[M].hK()) e.t[M].b6(e);
                e.tE();
                e.C();
                e.rW();
                Z = e.X_()
            }
            K.qr = [Z, P]
        } else if (h) {
            var $ = h.p5(K.raw.buffer)[0];
            K.qr = [new Uint8Array($.data), $.Ip]
        }
        if (K.qr) {
            if (w == 1) {
                var k = K.qr[0],
                    n = K.qr[1],
                    j = v.$(n.O());
                v.KU(k, j, 3);
                var y = v.JT(j, n),
                    V = v.$(y.O() * 4);
                v.c1(k, n, V, y);
                K.qr = [V, y]
            }
            v.st(K.qr)
        }
    };
    a.NK = "0";
    a.kG = "2";
    a.lZ = "2.5";
    a.s5 = "3";
    a.pu = "4";
    a.ME = "4.5";
    a.CR = "4.6";
    a.yO = "5";
    a.J6 = "5.5";
    a.fL = "6";
    a.bO = "7";
    a.Xn = "7.5";
    a.NH = "8";
    a.FS = "9";
    a.rv = "9.3";
    a.OD = "9.5";
    a.xn = "9.6";
    a.FZ = "10";
    a.wr = "11";
    a.qk = "12";
    a.n$ = "13";
    a.Nj = "13.5";
    a.Hx = "13.7";
    a.iA = "14";
    a.Ls = "14.5";
    a.vF = "15";
    a.s2 = "16";
    a.EU = "17";
    a.ZY = "18";
    a.sF = "19";
    a.kd = "19.5";
    a.wq = "19.6";
    a.aL = "19.7";
    a._3 = "20";
    a.IL = "21";
    a.fp = "21.5";
    a.B5 = "22";
    a.sg = "22.5";
    a.k7 = "23";
    a.ajN = "24";
    a.Kp = "25";
    a.QD = "26";
    a.Ff = "27";
    a.ZL = "28";
    a.Ex = "29";
    a.s9 = "30";
    a.nR = "31";
    a.Dn = "32";
    a.Fm = "33";
    a.Zf = "34";
    a.Wa = "35";
    a.o5 = "36";
    a.ls = "36.5";
    a.uR = "37";
    a.aH = "37.5";
    a.abi = "37.6";
    a.SX = "38";
    a.LF = "38.5";
    a.UZ = "38.6";
    a.dt = "39";
    a.Kf = "40";
    a.IE = "41";
    a.FN = "42";
    a.cV = "50";
    a.EQ = "51";
    a._N = "52";
    a.Hk = "53";
    a.c$ = "54";
    a.dh = "54.5";
    a.tU = "54.6";
    a.aP = "54.7";
    a.iN = "54.8";
    a.wF = "55";
    a.T2 = "56";
    a.CU = "57";
    a._W = "58";
    a.Po = "59";

    function iw() {
        this.depth = 0;
        this.index = -1;
        this.p = null;
        this.aj$ = null;
        this.zh = -1;
        this.children = null;
        this.parent = null;
        this.D$ = null
    }
    iw.prototype.Vr = function(w, o) {
        if (this.depth != 0) w.push(this.p.getName());
        if (this.children)
            for (var M = 0; M < this.children.length; M++) this.children[M].Vr(w, o);
        if (w.length > o.O_.length) o.O_ = w.slice(0);
        if (this.depth != 0) w.pop()
    };
    iw.prototype.a2z = function() {
        var w = 0;
        if (this.p.xI()) {
            for (var M = 0; M < this.children.length; M++) w += this.children[M].a2z()
        } else if (this.p.buffer) w += this.p.buffer.length;
        return w
    };
    iw.prototype.o8 = function(w) {
        var o = this.D$[w];
        return this.D$[w]
    };
    iw.prototype.Un = function(w, o) {
        var Q = this.p;
        if (!Q.HY() || Q.cp(2) || Q.cp(31)) return null;
        if (Q.lc()) {
            var K = Q.q.rect.Ic(w);
            if (!K && Q.q.color == 0) return
        }
        if (Q.xI()) {
            for (var M = 0; M < this.children.length; M++) {
                var A = this.children[M];
                A.Un(w, o)
            }
        } else if (Q.rect.Ic(w)) o.push(this.index)
    };
    iw.prototype.UO = function(w, o) {
        var Q = this.p;
        if (!Q.HY() || Q.cp(2) || Q.cp(31)) return null;
        if (Q.lc()) {
            if (Q.q.rect.V5(w)) {
                if (!v.UO(w, Q.q.channel, Q.q.rect)) return null
            } else if (Q.q.color == 0) return null
        }
        if (Q.xI()) {
            for (var M = this.children.length - 1; M >= 0; M--) {
                var A = this.children[M],
                    K = A.UO(w, o);
                if (K && o == null) return K
            }
            return null
        } else if (Q.add.TySh && Q.rect.V5(w) || v.aj3(w, Q.buffer, Q.rect)) {
            if (o == null) return this;
            else o.push(this.index)
        }
        return null
    };
    iw.prototype.a4t = function(w) {
        var o = this.p;
        if (!o.HY() || o.cp(2) || o.cp(31)) return null;
        var Q = o.add.vmsk;
        if (Q && Q.isEnabled) {
            var K = v.P.UO(Q._, w).qX;
            if (K != -1) return {
                ag5: this,
                afC: K
            }
        }
        if (o.xI()) {
            for (var M = this.children.length - 1; M >= 0; M--) {
                var A = this.children[M],
                    b = A.a4t(w);
                if (b) return b
            }
            return null
        }
        return null
    };
    iw.prototype.Gb = function(w, o) {
        w.push(this.index);
        if (this.p.xI()) {
            w.push(this.zh);
            if (o)
                if (this.p.lY == 1 && this.p._f().Qu == !1) return;
            for (var M = 0; M < this.children.length; M++) this.children[M].Gb(w)
        }
    };
    iw.prototype.Il = function(w, o, Q) {
        var K = this.p,
            b, R;
        if (K.xI() && K.add.artb != null) o = K.xi();
        if (o.D > o.j) {
            b = Q;
            R = Math.floor(Q * (o.j / o.D))
        } else {
            b = Math.floor(Q * (o.D / o.j));
            R = Q
        }
        if (K.hK() && K.add.vmsk == null || K.add.TySh) b = R = Math.max(R, 16);
        var X = R,
            h = K.hK() && K.add.vmsk;
        if (h) {
            var e = K.rect.clone(),
                J, i;
            if (e.Kx()) e = new B(0, 0, 20, 20);
            var Z = e.D,
                P = e.j;
            if (Z > P) {
                J = Q;
                i = Math.floor(Q * (P / Z))
            } else {
                J = Math.floor(Q * (Z / P));
                i = Q
            }
            if (J * i == 0) J = i = 16;
            v.L0.LM(K.gQ, J, i, e, K.buffer, K.rect, !1);
            v.L0.ahv(K.gQ, J, i);
            X = i
        } else if (K.add.TySh) {
            v.L0.a6_(K.gQ, X, X, K.add.TySh)
        } else if (K.add.SoCo) {
            X = Math.max(16, Math.min(b, R));
            v.L0.a5b(K.gQ, X, X, K.add.SoCo)
        } else if (K.add.GdFl) {
            v.L0.ana(K.gQ, X, X, K.add.GdFl)
        } else if (K.add.PtFl) {
            v.L0.aml(K.gQ, X, X, K.add.PtFl, w)
        } else if (au.get(K.add) != null) {
            v.L0.a6b(K.gQ, X, X, K.add)
        } else if (K.add.SoLd) {
            v.L0.LM(K.gQ, b, R, o, K.buffer, K.rect, !1);
            v.L0.afF(K.gQ, b, R, K.add.SoLd)
        } else if (K.xI()) {
            X = 16
        } else {
            if (K.GZ()) v.L0.LM(K.gQ, b, R, o, K.buffer, K.rect, !1);
            else {
                v.L0.akx(K.gQ, X, X)
            }
        }
        var k = K._f();
        if (k) v.L0.Cy(K.a8n, b, R, o, k);
        if (K.iD() && K.Ca(w) && K.Ca(w).q) {
            var $ = K.Ca(w).q;
            v.L0.Cy(K.acg, b, R, o, $)
        }
        if (!h && K.add.vmsk) {
            v.L0.Cy(K.a8h, b, R, o, K.add.vmsk._f(), !0)
        }
        if (K.add.vmsk || k) X = Math.max(X, R);
        K.a5H = Math.max(X, 16);
        if (K.xI() && K.add.lsct == bb.SI)
            for (var M = 0; M < this.children.length; M++) this.children[M].Il(w, o, Q)
    };
    iw.prototype.Oz = function(w, o, Q, K) {
        this.depth = Q;
        var b = w[o];
        if (K == null) K = [];
        this.D$ = K;
        if (b.add.lsct == bb.g4) {
            this.aj$ = b;
            this.zh = o - 1;
            this.children = [];
            var M = o + 1;
            while (!0) {
                var R = w[M];
                if (R == null) console.log(M, w.length);
                if (R.add.lsct == bb.SI || R.add.lsct == bb.RN) {
                    if (b.add.lyid == R.add.lyid) b.add.lyid += 16777215;
                    this.p = R;
                    this.index = M - 1;
                    K[this.index] = this;
                    K[o - 1] = this;
                    break
                }
                var X = new iw;
                X.parent = this;
                M = X.Oz(w, M, Q + 1, K);
                this.children.push(X)
            }
            return M + 1
        } else {
            this.p = b;
            this.index = o - 1;
            K[this.index] = this;
            return o + 1
        }
    };
    iw.prototype.J2 = function(w, o, Q, K) {
        var b = this.o8(Q),
            R = w;
        while (b.parent != null) {
            R = b.p.v8(R, o, K);
            b = b.parent
        }
        return R
    };
    iw.prototype.vG = function(w, o) {
        var Q = this.p,
            K = new B;
        if (!Q.HY()) return K;
        var b = Q._f();
        if (Q.xI())
            for (var M = 0; M < this.children.length; M++) {
                var R = this.children[M].vG(w, !0);
                K = K.OX(R)
            } else if (au.get(Q.add) != null) K = Q.lc() && Q.q.color == 0 ? Q.q.vG().clone() : new B(0, 0, w.D, w.j);
            else if (Q.hK() && Q.add.vmsk && Q.add.vmsk.isEnabled && Q.add.vstk) {
            K = Q.rect.clone()
        } else if (Q.hK() && b && b.isEnabled && b.c2() != 0) K = new B(0, 0, w.D, w.j);
        else {
            K = Q.IJ(w, !1, !0);
            if (Q.add.vmsk) K = v.w.ri(K)
        }
        return o ? Q.v8(K, w) : K
    };
    iw.prototype.$Q = function(w, o, Q, K, b) {
        var R = this.p,
            X = eg.tB(R);
        if (!R.HY()) return;
        if (R.opacity == 255) {
            this.yN(w, o, Q, K, b);
            return
        }
        var h = v.clone(w);
        this.yN(h, o, Q, K, b);
        v.M.uG(h, o, w, o, null, null, 0, Q, R.opacity / 255, R.TC == "diss")
    };
    iw.prototype.yN = function(w, o, Q, K, b) {
        var R = this.p,
            X = eg.tB(R),
            h = au.get(R.add) != null,
            J, $;
        if (R.xI() && R.TC == "pass" && !R.lc() && !(b.length > 0 || X.fill != 1 || R.$J())) {
            this.wT(w, o, Q, K);
            return
        }
        var e = R.xI() && R.TC == "pass" && (b.length > 0 || X.fill != 1 || R.$J()),
            Z = R.rect,
            P = R.buffer;
        if (R.xI()) {
            Z = this.vG(K, !1);
            var i = v.$(Z.O() * 4);
            J = v.$(Z.O());
            this.wT(i, Z, Q, K);
            v.KU(i, J, 3)
        } else if (h) {
            Z = o.clone();
            J = v.$(Z.O());
            v.set(J, 255)
        } else {
            Z = R.rect;
            J = v.$(Z.O());
            v.KU(P, J, 3)
        }
        if (R.lc()) {
            var k = R.q.Qj(Z);
            v.nK(k, J)
        }
        if (R.$J()) $ = eg.Co(R.add.lmfx, R.add.fxrp, J, Z, K);
        if (R.$J()) eg.b_(R.add.lmfx, $, Z, w, o, Q);
        if (R.xI()) {
            P = v.$(Z.O() * 4);
            if (R.TC == "pass") v.c1(w, o, P, Z);
            if (e) {
                var i = v.$(Z.O() * 4);
                this.wT(i, Z, Q, K);
                var n = v.$(Z.O());
                v.KU(i, n, 3);
                v.BQ(n, Z, P, Z)
            }
            this.wT(P, Z, Q, K)
        }
        if (h) {
            P = v.clone(w);
            v.Fw(P, 4278190080, 16777215);
            var j = au.get(R.add),
                y = au.Xw(j, R.add[j]);
            au.WL(y, P, P, Z)
        }
        var V = v.clone(P);
        v.Fw(V, 4278190080, 16777215);
        for (var M = 0; M < b.length; M++) b[M].$Q(V, Z, Q, K, []);
        var O = v.$(Z.O() * 4);
        v.c1(w, o, O, Z);
        if (h) X._m = !0;
        v.M.M$(R.TC == "pass" ? "norm" : R.TC, V, Z, O, Z, Q, 1, X);
        if (R.$J()) {
            var S = R.R.Rb.type.FrFX,
                G = null;
            if (S.length != 0) {
                G = S[0];
                for (var M = 0; M < S.length; M++)
                    if (S[M].DJ.D > G.DJ.D) G = S[M];
                var D = v.$(G.DJ.D * G.DJ.j * 4);
                v.c1(w, o, D, G.DJ)
            }
            eg.O7(R.add.lmfx, $, Z, w, o, Q, O, D, G ? G.DJ : null)
        }
        v.M.uG(O, Z, w, o, J, Z, 0, Q, 1, R.TC == "diss")
    };
    iw.prototype.wT = function(w, o, Q, K) {
        var b = this.children;
        for (var M = 0; M < b.length; M++) {
            var R = [];
            for (var X = M + 1; X < b.length; X++)
                if (b[X].p.xx) R.push(b[X]);
                else break;
            b[M].$Q(w, o, Q, K, R);
            M += R.length
        }
    };
    iw.Zj = {
        delete: function(w) {
            if (w && w.D) w.delete()
        },
        $: function(w, o) {
            return d.cv ? new d.Dz(w, o) : v.$(w * o * 4)
        },
        K4: function(w, o, Q) {
            if (d.cv) {
                if (w == null || w.D != o || w.j != Q) {
                    iw.Zj.delete(w);
                    return new d.Dz(o, Q)
                }
            } else {
                if (w == null || !(w instanceof Uint8Array) || w.length != o * Q * 4) {
                    iw.Zj.delete(w);
                    return v.$(o * Q * 4)
                }
            }
            return w
        },
        Hp: function(w, o, Q, K, b) {
            (d.cv ? d.XF : v.c1)(w, o, Q, K, b)
        },
        uG: function(w, o, Q, K, b, R, X, h, M, e, Z) {
            (d.cv ? d.M.xj : v.M.uG)(w, o, Q, K, b, R, X, h, M, e, Z)
        },
        M$: function(w, o, Q, K, b, R, X, h) {
            if (d.cv) d.M.y_(w, o, Q, K, b, R, X, h);
            else v.M.M$(w, o, Q, K, b, R, X, h)
        },
        Fw: function(w, o, Q) {
            if (d.cv) {
                d.Qy(w);
                d.V3(o, Q)
            } else v.Fw(w, o, Q)
        },
        ag4: function(w, o, Q, K, b) {
            if (d.cv) {
                d.M.xj(null, null, K, b, w, o, Q, b, 1, !1)
            } else {
                if (Q == 255) v.BQ(w, o, K, b);
                else {
                    var R = v.$(o.O());
                    v.nr(K, b, R, o);
                    v.nK(w, R);
                    v.Fw(K, 0, 16777215);
                    v.dd(R, o, K, b)
                }
            }
        },
        E6: function(w, o, Q, K) {
            if (d.cv) d.M.xj(null, null, Q, K, w, o, 0, K, 1, !1);
            else v.E6(w, o, Q, K)
        }
    };
    iw.prototype.Nk = function(w, o, Q, K, b, R) {
        var X = typeof R == "number";
        if (!this.p.xI() && (X && this.index > R || !X && R.indexOf(this.index) == -1)) {
            return
        }
        var h = this.p,
            e = eg.tB(h),
            Z = iw.Zj,
            P = h.hK() ? h._f() : h.q;
        if (!h.HY()) return;
        if (h.lc() && P.rect.Kx()) {
            return
        }
        if (h.add.vstk == null && this.vG(K, !1).Kx() && h.add.artb == null) {
            return
        }
        var J = this.vG(K, !0).z2(Q);
        if (!o.Lb(Q) && !Q.Ic(J) && h.add.artb == null) return;
        if (h.xI() && h.add.artb) {
            var i = h.xi(),
                $ = 0;
            Q = Q.z2(i);
            var k = h.add.artb.artboardBackgroundType.v;
            if (k == 1) $ = 4294967295;
            else if (k == 2) $ = 4278190080;
            else if (k == 3) $ = 0;
            else if (k == 4) {
                $ = h.add.artb.Clr.v;
                $ = 255 << 24 | $.Bl.v << 16 | $.Grn.v << 8 | $.Rd.v
            } else throw k;
            if (d.cv) {
                d.Qy(w, Q);
                d.V3($)
            } else v.a9C(w, o, Q, $)
        }
        var n = iw.p9(h, b, e);
        if (!n) {
            this.rR(w, o, Q, K, b, R);
            return
        }
        h.R.bs = Z.K4(h.R.bs, J.D, J.j);
        Z.Hp(w, o, h.R.bs, J, Q);
        this.rR(h.R.bs, J, Q, K, b, R);
        Z.uG(h.R.bs, J, w, o, null, null, 0, Q, h.opacity / 255, h.TC == "diss", e.O9)
    };
    iw.p9 = function(w, o, Q) {
        if (Q.O9[0] * Q.O9[1] * Q.O9[2] == 0) return !0;
        return w.opacity != 255 && (o.length != 0 || w.xI() || w.$J())
    };
    iw.a3v = {
        R: {}
    };
    iw.prototype.rR = function(w, o, Q, K, b, R) {
        var X = this.p,
            h = eg.tB(X),
            e = au.get(X.add) != null,
            Z = iw.Zj,
            P = iw.p9(X, b, h),
            J = P ? 1 : X.opacity / 255,
            i = X.hK() ? X._f() : X.q,
            k = X.xI() && X.TC == "pass" && !(b.length > 0 || h.fill != 1 || X.$J()),
            $ = !X.xI() && !e && !X.$J() && b.length == 0,
            n = e && !X.$J() && b.length == 0,
            G = null,
            D = null,
            q = null,
            F;
        if (k || $ || n) {
            var j = w,
                y = o;
            if (X.lc()) {
                y = this.vG(K, !1);
                j = X.R.qi = Z.K4(X.R.qi, y.D, y.j);
                Z.Hp(w, o, X.R.qi, y)
            }
            if (k) this.E1(j, y, Q, K, R);
            if ($) Z.M$(X.TC, X.$m(K), X.rect, j, y, Q, J, h);
            if (n) {
                var V = X.lc() && i.c2() == 0 ? i.vG().clone() : y.clone(),
                    O = X.R;
                if (V.Lb(new B(0, 0, K.D, K.j))) O = iw.a3v;
                O.tK = this.Zx(j, y, O.tK, V, X.add);
                h._m = !0;
                Z.M$(X.TC, O.tK, V, j, y, Q, J, h)
            }
            if (X.lc()) Z.uG(j, y, w, o, X.xz(), i.vG(), i.c2(), Q, 1, X.TC == "diss");
            X.R.fS();
            return
        }
        var S = X.xI() && X.TC == "pass" && (b.length > 0 || h.fill != 1 || X.$J()),
            V = X.rect;
        if (X.xI()) {
            V = this.vG(K, !1);
            q = X.R.tK = Z.K4(X.R.tK, V.D, V.j);
            Z.Fw(q, 0);
            this.E1(q, V, V, K, R);
            D = Z.K4(X.R.ZK, V.D, V.j);
            Z.Hp(q, V, D, V)
        } else if (e) {
            V = X.lc() && i.c2() == 0 ? i.vG().clone() : o.clone();
            D = Z.K4(X.R.ZK, V.D, V.j);
            Z.Fw(D, 4294967295)
        } else {
            V = X.rect;
            G = X.$m(K);
            D = Z.K4(X.R.ZK, V.D, V.j);
            Z.Hp(G, V, D, V)
        }
        X.R.ZK = D;
        if (X.lc()) Z.ag4(X.xz(), i.vG(), i.c2(), D, V);
        if (X.$J())
            if (X.R.AG || X.R.Wy || X.R.ZE != d.cv || X.R.XL || X.xI()) {
                var T = v.$(V.D * V.j);
                if (eg.Xg(X.add.lmfx)) {
                    if (d.cv) {
                        if (!X.xI() && X._f() == null && X.rect.Lb(V)) v.KU(X.buffer, T, 3);
                        else {
                            var L = v.$(V.D * V.j * 4);
                            D.get(L);
                            v.KU(L, T, 3)
                        }
                    } else v.KU(D, T, 3)
                }
                if (X.R.Wy || X.R.ZE != d.cv || !v.Lb(T, X.R.jl)) {
                    var N = null;
                    if (X.hK() && X.add.vmsk && X.add.vmsk.isEnabled && X.add.vmsk._f().color == 0) N = X.add.vmsk._f().rect;
                    eg.anf(X.R.Rb, T, V, X.add.lmfx, X.add.fxrp, K, N);
                    X.R.jl = T
                }
            } if (X.$J()) eg.b_(X.add.lmfx, X.R.Rb, V, w, o, Q);
        if (X.xI()) {
            G = Z.K4(X.R.qi, V.D, V.j);
            Z.Fw(G, 0);
            if (X.TC == "pass") Z.Hp(w, o, G, V);
            if (S) Z.E6(q, V, G, V);
            this.E1(G, V, Q, K, R);
            X.R.qi = G
        }
        if (e) {
            G = X.R.qi = this.Zx(w, o, X.R.qi, V, X.add)
        }
        if (X.xI() || e) F = G;
        else {
            F = Z.K4(X.R.qi, V.D, V.j);
            Z.Hp(G, V, F, V, Q);
            X.R.qi = F
        }
        Z.Fw(F, 4278190080, 16777215);
        for (var M = 0; M < b.length; M++) b[M].Nk(F, V, Q, K, [], R);
        var I = X.R.wP = Z.K4(X.R.wP, V.D, V.j);
        Z.Hp(w, o, I, V, Q);
        if (e) h._m = !0;
        Z.M$(X.TC == "pass" ? "norm" : X.TC, F, V, I, V, Q, 1, h);
        if (X.$J()) {
            var s = X.R.Rb.type.FrFX,
                u = null;
            if (s.length != 0) {
                u = s[0];
                for (var M = 0; M < s.length; M++)
                    if (s[M].DJ.D > u.DJ.D) u = s[M];
                X.R._X = Z.K4(X.R._X, u.DJ.D, u.DJ.j);
                Z.Hp(w, o, X.R._X, u.DJ, Q);
                X.R.jD = Z.K4(X.R.jD, u.DJ.D, u.DJ.j)
            }
            eg.O7(X.add.lmfx, X.R.Rb, V, w, o, Q, I, X.R._X, X.R.jD, u ? u.DJ : null)
        }
        if (!d.cv) {
            var g = v.$(V.O());
            v.KU(D, g, 3);
            D = g
        }
        Z.uG(I, V, w, o, D, V, 0, Q, 1, X.TC == "diss");
        X.R.fS()
    };
    iw.prototype.Zx = function(w, o, Q, K, b) {
        var R = au.get(b),
            X;
        if (R) X = au.Xw(R, b[R]);
        var h = iw.Zj;
        Q = h.K4(Q, K.D, K.j);
        if (!(d.cv && o.Lb(K))) h.Hp(w, o, Q, K);
        if (X) {
            if (d.cv) {
                var e = K.clone();
                e.x = e.y = 0;
                if (o.Lb(K)) {
                    d.Qy(Q, e);
                    au.fg(X, w.$Y, e)
                } else {
                    d.Qy(Q, K);
                    Q.zO(K);
                    au.fg(X, Q.ts, e)
                }
            } else au.WL(X, Q, Q, K)
        }
        return Q
    };
    iw.prototype.E1 = function(w, o, Q, K, b) {
        var R = this.children;
        for (var M = 0; M < R.length; M++) {
            var X = [];
            for (var h = M + 1; h < R.length; h++)
                if (R[h].p.xx) X.push(R[h]);
                else break;
            R[M].Nk(w, o, Q, K, X, b);
            M += X.length
        }
    };

    function fb(w) {
        this._M = "psd";
        this.g9 = !1;
        this.name = w;
        this.Z9 = -1;
        this.q7 = null;
        this.PU = null;
        this.oJ = null;
        this.lh = null;
        this.D = 0;
        this.j = 0;
        this.t = [];
        this.pI = {};
        this.add = {};
        this.buffer = null;
        this.TL = 4;
        this.qK = null;
        this.cK = 72;
        this._7 = {};
        this.u = [];
        this.TH = [
            [],
            []
        ];
        this.sY = [];
        this.mQ = [];
        this.BY = [fb.C2("Work Path")];
        this.A6 = [];
        this.Yd = null;
        this.M2 = {
            classID: "CompList",
            list: {
                t: "VlLs",
                v: []
            }
        };
        this.root = null;
        this.O3 = null;
        this.DF = !1;
        this.alo = !1;
        this.Y6 = !1;
        this.Yr = !1;
        this.n9 = !1;
        this.rn = !1;
        this.ot = !1;
        this.Q9 = !1;
        this.lB = !1;
        this.AG = null;
        this.xY = null;
        this.Xa = {};
        this.o = null;
        this.SF = [];
        this.Od = [];
        this.r = {
            zE: {},
            Pi: [],
            akJ: [],
            Yp: [],
            MZ: [],
            Sb: null,
            xs: null,
            es: null,
            pM: null,
            CT: [],
            aG: []
        };
        this.history = [new hl([1, 0], null)];
        this.A3 = 0;
        this.Vj = 0;
        this.m = new gU(this)
    }
    fb.prototype.q2 = function() {
        var w = this.SF,
            o = this.SF.length;
        if (o != 0 && w[o - 1].name == "Quick Mask") return w[o - 1]
    };
    fb.prototype.nt = function() {
        return this._M == _.iZ("% |/!)") || this._M == _.mj("gP")
    };
    fb.prototype.hu = function(w) {
        this.add.artd = {
            classID: "null",
            Cnt: {
                t: "long",
                v: w
            },
            autoExpandOffset: {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "doub",
                        v: 0
                    },
                    Vrtc: {
                        t: "doub",
                        v: 0
                    }
                }
            },
            origin: {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Hrzn: {
                        t: "doub",
                        v: 0
                    },
                    Vrtc: {
                        t: "doub",
                        v: 0
                    }
                }
            },
            canvasColorMode: {
                t: "enum",
                v: {
                    canvasColorType: "Cstm"
                }
            },
            canvasColor: {
                t: "Objc",
                v: {
                    classID: "RGBC",
                    Rd: {
                        t: "doub",
                        v: 220
                    },
                    Grn: {
                        t: "doub",
                        v: 220
                    },
                    Bl: {
                        t: "doub",
                        v: 220
                    }
                }
            },
            autoExpandEnabled: {
                t: "bool",
                v: !0
            },
            autoNestEnabled: {
                t: "bool",
                v: !0
            },
            autoPositionEnabled: {
                t: "bool",
                v: !0
            }
        }
    };
    fb.prototype.iT = function(w) {
        if (this.add.FEid == null) this.add.FEid = [];
        if (this.add.FEid.indexOf(w) == -1) this.add.FEid.push(w)
    };
    fb.prototype.zB = function(w) {
        var o = this.add.FEid.indexOf(w);
        this.add.FEid.splice(o, 1);
        if (this.add.FEid.length == 0) delete this.add.FEid
    };
    fb.prototype.C = function(w) {
        if (w == null) w = new B(0, 0, this.D, this.j);
        if (this.AG == null) this.AG = w;
        else this.AG = this.AG.OX(w)
    };
    fb.prototype.afJ = function(w) {
        return this.AG != null
    };
    fb.prototype.dH = function(w) {
        var o = this.t[w],
            Q = this.root.o8(w);
        if (Q == null) return !1;
        if (o.xI() || Q.parent.children.indexOf(Q) == 0) return !1;
        return !0
    };
    fb.aca = function(w) {
        if (w.add.lnk2)
            for (var M = 0; M < w.add.lnk2.length; M++) {
                var o = w.add.lnk2[M].eo;
                w.add.lnk2[M].eo = fb.Fk() + o.slice(8);
                for (var Q = 0; Q < w.t.length; Q++) {
                    var K = w.t[Q].add.SoLd;
                    if (K && K.Idnt.v == o) K.Idnt.v = w.add.lnk2[M].eo
                }
            }
    };
    fb.prototype.Jz = function(w, o, Q) {
        w.sort(function(J, i) {
            return J - i
        });
        var top = w[w.length - 1],
            K = this.t.slice(0),
            b = this.u.slice(0),
            R = [],
            X = [];
        for (var M = 0; M < this.t.length; M++) {
            if (w.indexOf(M) != -1) X.push(this.t[M]);
            else R.push(this.t[M])
        }
        this.rd(X);
        this.u = [];
        var h = this.root.vG(this, !0);
        if (o) h = h.z2(o);
        if (Q) h = h.OX(Q);
        if (h.Kx()) h = new B(0, 0, 100, 100);
        var e = new B(-h.x, -h.y, this.D, this.j),
            Z = new Uint8Array(ip.pR("PSD").nl(this, 0, 0, [!0, !1]));
        this.rd(K);
        this.u = b;
        var P = new fb(this.t[top].getName());
        ip.pR("PSD").p5(Z.buffer, P);
        delete P.add.artd;
        P.TH = [
            [],
            []
        ];
        P.sY = [];
        P.rd(P.t);
        fb.aca(P);
        z.U0.HV(P, h);
        P.C();
        P.rW();
        P.X_();
        return [P, h, R, top]
    };
    fb.prototype.KB = function(w, o, Q) {
        var K = this.Jz(w),
            b = K[0],
            R = K[1],
            X = K[2],
            top = K[3],
            h;
        if (Q == "jpg") h = new Uint8Array(ip.pR("JPG").nl([
            [b.X_().buffer]
        ], b.D, b.j, [80]));
        else h = new Uint8Array(ip.pR("PSD").nl(b, null, null, [!0, !1]));
        if (o) X = this.t.slice(0);
        var e = this.x5(h, b.name, R.x, R.y);
        if (top == this.t.length - 1) X.push(e);
        else X.splice(o ? top + 1 : top - w.length + 1, 0, e);
        this.rd(X);
        this.u = [X.indexOf(e)]
    };
    fb.Fk = function() {
        var w = "";
        for (var M = 0; M < 8; M++) w += Math.floor(Math.random() * 16).toString(16);
        return w
    };
    fb.prototype.vk = function(w) {
        if (w == null) return;
        if (this.add.Patt == null) this.add.Patt = [];
        var o = this.add.Patt;
        for (var M = 0; M < o.length; M++)
            if (o[M].id == w.id) return;
        o.push(w)
    };
    fb.prototype.x5 = function(w, o, Q, K, b) {
        if (this.add.lnk2 == null) this.add.lnk2 = [];
        var R = null,
            J = !1;
        for (var M = 0; M < this.add.lnk2.length; M++)
            if (v.Lb(w, this.add.lnk2[M].raw)) {
                R = this.add.lnk2[M].eo;
                break
            } if (R == null) {
            var X = ip.jF(w.buffer);
            R = fb.Fk() + "-d71c-11e5-b1ae-a548a96e5f9f";
            var h = new a.Xd;
            h.eo = R;
            h.EL = X == "psd" ? "8BIM" : "    ";
            h.YG = o + "." + X;
            h.o4 = X == "psd" ? "8BPB" : "    ";
            h.open = 0;
            h.raw = w;
            h.type = "liFD";
            h.PB = 2;
            this.add.lnk2.push(h)
        }
        var e = this.j6(R),
            Z = fb.Fk() + "-d71c-11e5-b1ae-a548a96e5f9f",
            P = this._g();
        P.jG(o);
        if (e != null) {
            var i = P.rect = e.qr[1].clone();
            P.rect.offset(Q, K);
            var k = Math.max(i.D / this.D, i.j / this.j),
                J = b && k > 1.0001;
            if (J) {
                i.D = Math.round(i.D / k);
                i.j = Math.round(i.j / k);
                i.x = Math.round((this.D - i.D) / 2);
                i.y = Math.round((this.j - i.j) / 2)
            } else if (b && ip.jF(w.buffer) == "pdf" && this.cK != 144) {
                var k = 144 / this.cK;
                i.D = Math.round(i.D / k);
                i.j = Math.round(i.j / k);
                J = !0
            }
            P.buffer = v.$(P.rect.O() * 4);
            if (!J) v.gb(e.qr[0], P.buffer)
        }
        P.add.SoLd = {
            classID: "null",
            Idnt: {
                t: "TEXT",
                v: R
            },
            Impr: {
                t: "Objc",
                v: {
                    __name: "None",
                    classID: "none"
                }
            },
            placed: {
                t: "TEXT",
                v: Z
            },
            PgNm: {
                t: "long",
                v: 1
            },
            totalPages: {
                t: "long",
                v: 1
            },
            frameStep: {
                t: "Objc",
                v: {
                    classID: "null",
                    numerator: {
                        t: "long",
                        v: 0
                    },
                    denominator: {
                        t: "long",
                        v: 600
                    }
                }
            },
            duration: {
                t: "Objc",
                v: {
                    classID: "null",
                    numerator: {
                        t: "long",
                        v: 0
                    },
                    denominator: {
                        t: "long",
                        v: 600
                    }
                }
            },
            frameCount: {
                t: "long",
                v: 1
            },
            Annt: {
                t: "long",
                v: 16
            },
            Type: {
                t: "long",
                v: 2
            },
            Trnf: null,
            nonAffineTransform: null,
            warp: {
                t: "Objc",
                v: v.AD.$(P.rect)
            },
            Sz: {
                t: "Objc",
                v: {
                    classID: "Pnt",
                    Wdth: {
                        t: "doub",
                        v: P.rect.D
                    },
                    Hght: {
                        t: "doub",
                        v: P.rect.j
                    }
                }
            },
            Rslt: {
                t: "UntF",
                v: {
                    type: "#Rsl",
                    val: 72
                }
            }
        };
        var $ = v.w.NU(P.rect).X;
        P.add.SoLd.Trnf = z.Z.Tm($);
        P.add.SoLd.nonAffineTransform = z.Z.Tm($);
        if (J) P.xL(this, !1);
        return P
    };
    fb.prototype.X_ = function(w) {
        if (w != null) {
            this.C();
            this.rW(w);
            var o = this.buffer;
            if (d.cv) this.O3.get(o);
            else o = o.slice(0);
            this.C();
            this.rW();
            return o
        }
        if (this.AG) {
            this.rW();
            this.AG = null
        }
        if (d.cv && this.xY) {
            this.O3.get(this.buffer);
            this.xY = null;
            this.rn = !0
        }
        return this.buffer
    };
    fb.prototype.FA = function() {
        for (var M = 0; M < this.t.length; M++) this.t[M].y5();
        this.C()
    };
    fb.prototype.xW = function() {
        for (var M = 0; M < this.t.length; M++)
            if (this.t[M].add.lmfx) this.t[M].R.Wy = !0
    };
    fb.prototype.DC = function() {
        var w = this.pI.r1044;
        if (w == null) {
            w = this.pI.r1044 = new Uint8Array(4);
            var o = 0;
            for (var M = 0; M < this.t.length; M++) o = Math.max(o, this.t[M].add.lyid);
            W.Oi(w, 0, o)
        }
        var Q = W.g(w, 0);
        W.Oi(w, 0, Q + 1);
        return Q + 1
    };
    fb.prototype.yD = function(w, o, Q) {
        if (w == null) w = !0;
        var K = this;
        if (K.Od.length != 0) return !0;
        if (K.u.length != 1) {
            if (w) alert(K.u.length == 0 ? "Select a layer first." : "More than one layer selected.");
            return !1
        }
        return this.$H(w, o, Q)
    };
    fb.prototype.$H = function(w, o, Q) {
        if (w == null) w = !0;
        if (o == null) o = !1;
        var K = this;
        if (K.Od.length != 0) return !0;
        for (var M = 0; M < K.u.length; M++) {
            var b = K.t[K.u[M]],
                R = o || b.lY <= 0;
            if (b.add.lsct != null && b.add.lsct != bb.B2 && b.lY != 1) {
                if (w) alert(b6.get([15, 7, 2]));
                return !1
            }
            if (R && !b.GZ()) {
                if (w) alert(b6.get([15, 7, 2]));
                return !1
            }
            if (R && b.add.TySh) {
                return this.yp(w, [15, 7, 3], Q)
            }
            if (R && b.add.SoLd) {
                return this.yp(w, [15, 7, 4], Q)
            }
            if (b.cp(1) || b.cp(31)) {
                if (w) alert(b6.get([6, 57, 0]));
                return !1
            }
        }
        return !0
    };
    fb.prototype.yp = function(w, o, Q) {
        if (w && typeof w == "object") {
            var K = 1;
            if (K) {
                var b = new Y(_.E.e9, !0);
                b.data = {
                    hj: "rasterizeLayer",
                    H8: {
                        classID: "rasterizeLayer",
                        null: hX.EX("Lyr", !0)
                    }
                };
                w.A(b)
            }
            return Q ? K : !1
        }
        if (w) alert(b6.get(o));
        return !1
    };
    fb.prototype.Zm = function(w) {
        var o = this.root.o8(w);
        if (o.parent) return o.p.HY() && this.Zm(o.parent.index);
        else return o.p.HY()
    };
    fb.prototype.dX = function(w) {
        var o = this.root.o8(w);
        if (o == null) return null;
        var Q = o.p;
        if (Q.add.artb) return Q.xi();
        if (o.parent) return this.dX(o.parent.index);
        return null
    };
    fb.prototype.Ck = function() {
        var w = this.t[this.u[0]];
        if (w.lY <= 0 && !w.rect.Ic(this.o.rect)) {
            alert("Selected area is empty.");
            return !1
        }
        if (this.u.length == 1 && this.o) {
            var o = v.$(this.o.channel.length);
            v.nr(w.buffer, w.rect, o, this.o.rect);
            v.nK(this.o.channel, o);
            if (v.$u(o, 0)) {
                alert("Selected area is empty.");
                return !1
            }
        }
        return !0
    };
    fb.prototype.BP = function() {
        if (this.pI["r" + 1037] == null) this.sw(30);
        return W.Cd(this.pI["r" + 1037], 0)
    };
    fb.prototype.sw = function(w) {
        if (this.pI["r" + 1037] == null) this.pI["r" + 1037] = new Uint8Array(4);
        if (W.Cd(this.pI["r" + 1037], 0) == w) return;
        W.aY(this.pI["r" + 1037], 0, w);
        this.xW()
    };
    fb.prototype.Th = function() {
        if (this.pI["r" + 1049] == null) this.LC(30);
        return W.Cd(this.pI["r" + 1049], 0)
    };
    fb.prototype.LC = function(w) {
        if (this.pI["r" + 1049] == null) this.pI["r" + 1049] = new Uint8Array(4);
        if (W.Cd(this.pI["r" + 1049], 0) == w) return;
        W.aY(this.pI["r" + 1049], 0, w);
        this.xW()
    };
    fb.prototype.Ph = function(w) {
        if (this.add.lnk2 == null) return null;
        for (var M = 0; M < this.add.lnk2.length; M++)
            if (this.add.lnk2[M].eo == w) return this.add.lnk2[M];
        return null
    };
    fb.prototype.aaS = function(w) {
        var o = this.Ph(w);
        if (o == null) return !1;
        var Q = ip.jF(o.raw.buffer);
        if (Q == null) return !1;
        if (ip.pR(Q) != null || Q == "psd") return !0;
        return !1
    };
    fb.prototype.j6 = function(w, o, Q, K) {
        var b = this.Ph(w);
        if (b == null) return null;
        b.X_(o, Q, K);
        if (b.qr) return b
    };
    fb.prototype.rW = function(w) {
        if (w == null) w = 1e9;
        var o = this.D,
            Q = this.j,
            K = new B(0, 0, o, Q),
            b = K.z2(this.AG);
        if (d.cv && this.O3 == null) this.O3 = new d.Dz(o, Q, !0);
        if (this.buffer == null || this.buffer.length != o * Q * 4 || d.cv && (this.O3.D != o || this.O3.j != Q)) {
            this.buffer = v.$(o * Q * 4);
            if (this.O3) this.O3.delete();
            if (d.cv) this.O3 = new d.Dz(o, Q, !0)
        }
        if (b.Kx()) return;
        if (!b.Lb(K)) {
            if (!d.cv) {
                var R = v.pa(b.O() * 4);
                v.c1(R, b, this.buffer, K)
            }
            if (d.cv) {
                d.Qy(this.O3, b);
                d.V3(0)
            }
        } else {
            if (d.cv) {
                this.O3.set(null)
            } else {
                v.set(this.buffer, 0)
            }
        }
        var X = Date.now(),
            h = d.cv ? this.O3 : this.buffer;
        this.root.Nk(h, K, b, this, [], w);
        this.xY = this.AG.clone()
    };
    fb.prototype._g = function(w) {
        var o = new a;
        o.rect = new B(0, 0, 0, 0);
        o.buffer = v.$(1);
        o.add.luni = new fB(0, 0);
        if (w != !0) o.add.lyid = this.DC();
        o.add.lsct = bb.B2;
        o.add.lclr = 0;
        o.add.fxrp = new fB(0, 0);
        return o
    };
    fb.prototype.JG = function(w) {
        var o = this._g(w);
        o.jG("</Layer group>");
        o.add.lsct = bb.g4;
        o.a1 = 24;
        return o
    };
    fb.prototype.ED = function() {
        return this.A3 != this.Vj
    };
    fb.prototype.be = function(w) {
        while (this.history.length > this.A3 + 1) this.history.pop();
        if (this.Vj > this.A3) this.Vj = -1;
        if (w.f.id != z.fG) {
            this.Y6 = !0;
            if (this.M2.lastAppliedComp) {
                delete this.M2.lastAppliedComp;
                this.rn = !0
            }
        }
        this.history.push(w);
        this.A3++;
        this.rn = !0;
        var o = hi.t5() ? 60 : 30,
            Q = 0;
        for (var M = this.history.length - 1; M >= 0; M--) {
            var K = this.history[M];
            if (K.Ep) continue;
            Q++;
            if (Q == o) {
                this.A3 -= M;
                this.history = this.history.slice(M);
                break
            }
        }
    };
    fb.prototype.Z6 = function() {
        if (this.A3 != this.history.length - 1) return null;
        return this.history[this.history.length - 1]
    };
    fb.prototype.Mu = function(w, o, Q, K) {
        if (w == null) w = !1;
        var b = o != null ? [o] : this.u.slice(0);
        if (K) {
            var R = [];
            for (var M = 0; M < b.length; M++) {
                var X = this.t[b[M]].i1;
                if (X != 0 && R.indexOf(X) == -1) R.push(X)
            }
            for (var M = 0; M < this.t.length; M++) {
                var X = this.t[M].i1;
                if (X != 0 && R.indexOf(X) != -1 && b.indexOf(M) == -1) b.push(M)
            }
        }
        var h = [];
        for (var M = 0; M < b.length; M++) {
            var e = this.zW(b[M], w);
            for (var Z = 0; Z < e.length; Z++)
                if (h.indexOf(e[Z]) == -1) h.push(e[Z]);
            if (Q) {
                var A = this.root.o8(b[M]);
                while (A.parent != null && A.parent.parent != null) {
                    A = A.parent;
                    if (h.indexOf(A.index) == -1) {
                        h.push(A.index, A.zh)
                    }
                }
            }
        }
        return h
    };
    fb.prototype.ff = function(w, o, Q) {
        var K = this,
            b = K.Mu(!1, w, null, Q);
        b.sort(function(V, O) {
            return V - O
        });
        var R = {};
        for (var X = 0; X < K.t.length; X++) {
            var h = K.t[X].getName();
            R[h] = !0
        }
        var e = [];
        for (var M = 0; M < b.length; M++) {
            var Z = K.t[b[M]].clone(),
                n, j;
            Z.add.lyid = K.DC();
            Z.add.lspf = 0;
            if (Z.iD()) {
                var P = Z.Ca(K),
                    J = fb.dO(P);
                K.iT(J);
                Z.add.SoLd.placed.v = J.id
            }
            Z.b6(K);
            var i = Z.getName(),
                k = i.length;
            while (48 <= i.charCodeAt(k - 1) && i.charCodeAt(k - 1) <= 57) k--;
            var $ = parseInt(i.slice(k));
            if (isNaN($)) {
                if (i.endsWith(" copy")) {
                    $ = 1;
                    n = i.slice(0, i.length - 5)
                } else {
                    $ = 0;
                    n = i
                }
            } else if (i.slice(0, k).endsWith(" copy ")) {
                $ = $;
                n = i.slice(0, k - 6)
            } else {
                $ = 0;
                n = i
            }
            $++;
            while (!0) {
                j = n + " copy" + ($ == 1 ? "" : " " + $);
                if (R[j] == null) break;
                $++
            }
            var y = b.indexOf(this.root.o8(b[M]).parent.index) != -1;
            if (o != !0 && !y) Z.jG(j);
            R[j] = !0;
            e.push(Z)
        }
        return e
    };
    fb.dO = function(w) {
        return {
            id: fb.Fk() + w.id.slice(8),
            buffer: v.clone(w.buffer),
            rect: w.rect.clone(),
            q: w.q ? w.q.clone() : null
        }
    };
    fb.E3 = function(w) {
        return {
            id: w,
            rect: new B,
            buffer: v.$(1),
            q: new a.Zz
        }
    };
    fb.C2 = function(w, o) {
        if (o == null) o = {
            vmsk: new a.Y3
        };
        if (o.vogk == null) {
            o.vogk = [];
            var Q = v.P.S3(o.vmsk._);
            for (var K = 0; K < Q; K++) o.vogk.push(v.Wn.pa())
        }
        return {
            name: w,
            qX: 0,
            add: o
        }
    };
    fb.prototype.a$ = function(w) {
        var o = [],
            Q = [],
            K = this,
            R = 0;
        for (var M = 1; M < K.BY.length; M++) {
            var b = K.BY[M];
            b.qX = -1 - M;
            o.push(b);
            if (K.A6.indexOf(M) != -1) Q.push(o.length - 1)
        }
        if (K.BY[0].add.vmsk._.length > 2) {
            var b = K.BY[0];
            b.qX = -1;
            o.push(b);
            if (K.A6.indexOf(0) != -1) Q.push(o.length - 1)
        }
        var X = K.Yd == null;
        if (X) K.Yd = [];
        for (var M = K.u.length - 1; M >= 0; M--) {
            var h = K.t[K.u[M]],
                e = h.add.TySh;
            if (h.add.vmsk != null && (h.b0 || h.hK())) {
                var b = fb.C2("\"" + h.getName() + "\" Shape Path", h.add);
                b.qX = K.u[M];
                o.push(b);
                if (X) K.Yd.push(R);
                if (K.Yd.indexOf(R) != -1) Q.push(o.length - 1);
                R++
            }
            if (w != !0 && e && e.add && v.AD.WZ(e.OJ)) {
                var b = fb.C2("\"" + h.getName().slice(0, 10) + "..\" Text Path", e.add);
                b.qX = 1e6 + K.u[M];
                o.push(b);
                Q.push(o.length - 1);
                R++
            }
        }
        if (Q.length == 0 && w) {
            K.BY[0].qX = -1;
            K.A6 = [0];
            Q.push(o.length);
            o.push(K.BY[0])
        }
        return [o, Q]
    };
    fb.prototype.zW = function(M, w) {
        var o = [],
            A = this.root.o8(M);
        if (A) A.Gb(o, w);
        return o
    };
    fb.prototype.gp = function() {
        this.root.Il(this, new B(0, 0, this.D, this.j), 32)
    };
    fb.prototype.rd = function(w) {
        for (var M = 0; M < this.t.length; M++) {
            var o = this.t[M];
            if (w.indexOf(o) == -1) {
                o.R.ajG();
                o.C()
            }
        }
        this.t = w.slice(0);
        this.tE()
    };
    fb.prototype.tE = function() {
        var w = this.t,
            o = w.length;
        this.root = new iw;
        var Q = this._g(!0);
        Q.TC = "pass";
        Q.add.lsct = bb.SI;
        var K = this.JG(!0),
            b = [K];
        for (var M = 0; M < o; M++) b.push(w[M]);
        b.push(Q);
        this.root.Oz(b, 0, 0);
        if (this.u.length == 0) this.u = [o - 1]
    };
    fb.prototype.xD = function() {
        if (this.u.length != 1) return;
        var w = this.root.o8(this.u[0]);
        while (w.parent != null) {
            var o = w.parent.p;
            o.add.lsct = bb.SI;
            w = w.parent
        }
        this.n9 = this.aiy = !0
    };
    fb.prototype.a6G = function() {
        this.tE();
        var w = [this.root],
            bV = 0;
        while (w.length != 0) {
            var top = w.pop();
            bV++;
            if (top.p.add.lsct == bb.SI)
                for (var M = 0; M < top.children.length; M++) w.push(top.children[M])
        }
        if (bV > 1e3) {
            var o = this.root.children;
            for (var M = 0; M < o.length; M++)
                if (o[M].p.add.lsct == bb.SI) o[M].p.add.lsct = bb.RN
        }
    };
    fb.Xy = function(w, o, Q, K, b) {
        var R = {
            __name: "Make",
            classID: "Mk",
            Nw: {
                t: "Objc",
                v: {
                    classID: "Dcmn",
                    Nm: {
                        t: "TEXT",
                        v: K
                    },
                    Md: {
                        t: "type",
                        v: {
                            classID: "RGBM"
                        }
                    },
                    Wdth: {
                        t: "UntF",
                        v: {
                            type: "#Rlt",
                            val: w
                        }
                    },
                    Hght: {
                        t: "UntF",
                        v: {
                            type: "#Rlt",
                            val: o
                        }
                    },
                    Rslt: {
                        t: "UntF",
                        v: {
                            type: "#Rsl",
                            val: Q
                        }
                    },
                    pixelScaleFactor: {
                        t: "doub",
                        v: 1
                    },
                    Fl: {
                        t: "enum",
                        v: {
                            Fl: b
                        }
                    },
                    Dpth: {
                        t: "long",
                        v: 8
                    },
                    profile: {
                        t: "TEXT",
                        v: "sRGB IEC61966-2.1"
                    }
                }
            }
        };
        return {
            hj: "make",
            H8: R
        }
    };
    fb.aiV = function(w, o) {
        var Q = 0,
            K = 0,
            b = 72,
            R = o.a1E,
            X = w.preset && w.preset.v == "Clipboard";
        if (X) {
            Q = R.D;
            K = R.j
        } else {
            Q = w.Wdth.v.val;
            K = w.Hght.v.val;
            b = w.Rslt.v.val
        }
        var h = new fb((w.Nm ? w.Nm.v : b6.get([11, 7])) + ".psd");
        h.D = Q;
        h.j = K;
        h.cK = b;
        var e = h._g();
        e.jG("Background");
        h.rd([e]);
        e.add.lspf = 1 << 2;
        var Z = w.Fl ? w.Fl.v.Fl : "Wht";
        if (Z != "Trns") {
            var P = o.TT;
            P = (P & 255) << 16 | (P >>> 8 & 255) << 8 | P >>> 16;
            e.rect = new B(0, 0, Q, K);
            e.buffer = v.$(Q * K * 4);
            v.Fw(e.buffer, {
                Wht: 4294967295,
                BckC: 255 << 24 | P
            } [Z])
        }
        h.buffer = v.$(Q * K * 4);
        return h
    };

    function gU(w) {
        this.xN = w;
        this.I = 0;
        this.n = new fB(0, 0);
        this.im = 0;
        this.dN = [1, 1, 1];
        this.yG = new B(0, 0, 1, 1);
        this.a3k = new B(0, 0, w.D, w.j);
        this.$G = null;
        this.ix = null;
        this.v3 = new Uint32Array(0);
        this.S9 = null;
        this.q0 = null;
        this.QX = v.$(0);
        this.Fe = null;
        this.bQ = null
    }
    gU.prototype.SA = function() {
        var w = new dj,
            o = this.yG,
            Q = this.xN,
            K = this.I,
            b = this.n,
            R = Math.round((o.D - Q.D * K) / 2 + b.x),
            X = Math.round((o.j - Q.j * K) / 2 + b.y);
        w.translate(-R, -X);
        w.scale(1 / K, 1 / K);
        var h = Q.D / 2,
            e = Q.j / 2;
        w.translate(-h, -e);
        w.rotate(this.im);
        w.translate(h, e);
        return w
    };
    gU.prototype.q6 = function(w) {
        var o = this.yG,
            Q = this.xN,
            K = Math.atan2(-w.k, w.K),
            b = Q.D / 2,
            R = Q.j / 2;
        w.translate(-b, -R);
        w.rotate(-K);
        w.translate(b, R);
        var X = 1 / w.Qz();
        w.scale(X, X);
        var h = -w.xy,
            e = -w.r6,
            Z = Math.round(h - (o.D - Q.D * X) / 2),
            P = Math.round(e - (o.j - Q.j * X) / 2);
        this.im = K;
        this.I = X >= 1 ? Math.round(X) : X;
        this.n = new fB(Z, P)
    };
    gU.prototype.WD = function(w, o) {
        var Q = this.SA();
        return Q.hv(new fB(w, o))
    };
    gU.prototype.BT = function(w, o) {
        var Q = this.SA();
        Q.MF();
        return Q.hv(new fB(w, o))
    };

    function b_() {}
    b_.order = "ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");
    b_.Ix = "ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
    b_.names = [
        [14, 4],
        [14, 9],
        [14, 1],
        [14, 3],
        [14, 8],
        [14, 5],
        [14, 6],
        [14, 7],
        [14, 2],
        [14, 0]
    ];
    b_.kY = ["DrSh", "IrSh", "SoFi", "GrFl", "FrFX"];
    b_.vu = ["Clr"];
    b_.$w = "Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
    b_.$F = ["Ptrn", "Scl", "Algn", "phase"];
    b_.pA = {
        cw: "{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",
        C4: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",
        un: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",
        lI: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"
    };
    b_.pA.cw = "\"Clr\": " + b_.pA.cw;
    b_.pA.V = "\"Grad\":" + b_.pA.C4 + ",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
    b_.pA.lI = "\"Ptrn\":" + b_.pA.lI + ",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
    b_.default = "{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
    b_.l1 = ["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}", "{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"}," + b_.pA.cw + "," + b_.pA.V + "," + b_.pA.lI + "}", "{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}", "{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}", "{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}", "{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"}," + b_.pA.cw + "}", "{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"}," + b_.pA.V + "}", "{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"}," + b_.pA.lI + "}", "{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}", "{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
    b_.V = {
        types: "Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),
        names: [
            [19, 0, 0],
            [19, 0, 1],
            [19, 0, 2],
            [19, 0, 3],
            [19, 0, 4],
            [19, 0, 5]
        ]
    };
    b_.stroke = {
        types: ["InsF", "CtrF", "OutF"],
        names: [
            [19, 5, 2],
            [19, 5, 1],
            [19, 5, 0]
        ],
        r$: ["SClr", "GrFl", "Ptrn"],
        adh: [
            [13, 0],
            [12, 37],
            [12, 62]
        ]
    };
    b_.VM = {
        types: ["SfBL", "PrBL"],
        names: [
            [19, 1, 0],
            [19, 1, 1]
        ],
        fv: ["SrcC", "SrcE"],
        anD: [
            [19, 5, 1],
            [12, 69]
        ]
    };
    b_.Qr = {
        types: ["OtrB", "InrB", "Embs", "PlEb", "strokeEmboss"],
        style: [
            [19, 2, 0],
            [19, 2, 1],
            [19, 2, 2],
            [19, 2, 3],
            [19, 2, 4]
        ],
        sz: ["SfBL", "PrBL", "Slmt"],
        a47: [
            [19, 3, 0],
            [19, 3, 1],
            [19, 3, 2]
        ],
        dir: [
            [19, 4, 0],
            [19, 4, 1]
        ]
    };
    b_.fQ = {
        mg: ["strokeStyleButtCap", "strokeStyleRoundCap", "strokeStyleSquareCap"],
        So: ["strokeStyleAlignInside", "strokeStyleAlignCenter", "strokeStyleAlignOutside"],
        join: ["strokeStyleMiterJoin", "strokeStyleRoundJoin", "strokeStyleBevelJoin"],
        xM: ["solidColorLayer", "gradientLayer", "patternLayer"],
        default: {
            classID: "strokeStyle",
            strokeStyleVersion: {
                t: "long",
                v: 2
            },
            strokeEnabled: {
                t: "bool",
                v: !1
            },
            fillEnabled: {
                t: "bool",
                v: !0
            },
            strokeStyleLineWidth: {
                t: "UntF",
                v: {
                    type: "#Pnt",
                    val: 4.38
                }
            },
            strokeStyleLineDashOffset: {
                t: "UntF",
                v: {
                    type: "#Pnt",
                    val: 0
                }
            },
            strokeStyleMiterLimit: {
                t: "doub",
                v: 100
            },
            strokeStyleLineCapType: {
                t: "enum",
                v: {
                    strokeStyleLineCapType: "strokeStyleButtCap"
                }
            },
            strokeStyleLineJoinType: {
                t: "enum",
                v: {
                    strokeStyleLineJoinType: "strokeStyleMiterJoin"
                }
            },
            strokeStyleLineAlignment: {
                t: "enum",
                v: {
                    strokeStyleLineAlignment: "strokeStyleAlignCenter"
                }
            },
            strokeStyleScaleLock: {
                t: "bool",
                v: !1
            },
            strokeStyleStrokeAdjust: {
                t: "bool",
                v: !1
            },
            strokeStyleLineDashSet: {
                t: "VlLs",
                v: []
            },
            strokeStyleBlendMode: {
                t: "enum",
                v: {
                    BlnM: "Nrml"
                }
            },
            strokeStyleOpacity: {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: 100
                }
            },
            strokeStyleContent: {
                t: "Objc",
                v: JSON.parse("{\"classID\":\"solidColorLayer\"," + b_.pA.cw + "}")
            },
            strokeStyleResolution: {
                t: "doub",
                v: 72
            }
        }
    };
    b_.OT = [{
        classID: "null",
        Clr: JSON.parse(b_.l1[5]).Clr
    }, {
        classID: "null",
        Grad: JSON.parse(b_.l1[6]).Grad,
        Dthr: {
            t: "bool",
            v: !1
        },
        Rvrs: {
            t: "bool",
            v: !1
        },
        Angl: {
            t: "UntF",
            v: {
                type: "#Ang",
                val: 60
            }
        },
        Type: {
            t: "enum",
            v: {
                GrdT: "Lnr"
            }
        },
        Algn: {
            t: "bool",
            v: !0
        },
        Scl: {
            t: "UntF",
            v: {
                type: "#Prc",
                val: 100
            }
        },
        Ofst: {
            t: "Objc",
            v: {
                classID: "Pnt",
                Hrzn: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 0
                    }
                },
                Vrtc: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 0
                    }
                }
            }
        }
    }, {
        classID: "null",
        Ptrn: JSON.parse(b_.l1[7]).Ptrn,
        Algn: {
            v: !0,
            t: "bool"
        },
        Scl: {
            v: {
                type: "#Prc",
                val: 100
            },
            t: "UntF"
        },
        phase: {
            v: {
                classID: "Pnt",
                Hrzn: {
                    v: 0,
                    t: "doub"
                },
                Vrtc: {
                    v: 0,
                    t: "doub"
                }
            },
            t: "Objc"
        }
    }];
    var eg = {};
    eg.aa8 = function(w, o, Q) {
        if (w.Kx()) return;
        var K = v.P.abH(w._);
        K.x = Math.floor(K.x * o);
        K.D = Math.ceil(K.D * o);
        K.y = Math.floor(K.y * Q);
        K.j = Math.ceil(K.j * Q);
        w.rect = K;
        w.channel = v.$(K.O());
        v.UX.width = K.D;
        v.UX.height = K.j;
        var b = v.yG;
        b.fillStyle = "#ffffff";
        v.P.a2s(b, w._, o, Q, -K.x, -K.y);
        b.fill();
        var R = b.getImageData(0, 0, K.D, K.j).data;
        v.KU(R, w.channel, 3)
    };
    eg.QS = function(w, o) {
        function Q(w, i) {
            if (w == null) return null;
            var k = w[i].v,
                $;
            if (k.length != 0) {
                $ = k[0].v;
                if (!$.enab.v) $ = null
            }
            return $
        }
        var K = o.SoCo,
            b = o.GdFl,
            R = Q(w, "solidFillMulti"),
            X = Q(w, "gradientFillMulti");
        if (R == null && X == null) return [K, b];
        var h = eg.a9Q;
        if (K && R && X == null) {
            var e = JSON.parse(JSON.stringify(K));
            e.Clr.v = h(R.Clr.v, K.Clr.v, R);
            return [e, null]
        }
        if (b && R && X == null) {
            var Z = JSON.parse(JSON.stringify(b)),
                P = Z.Grad.v.Clrs.v;
            for (var M = 0; M < P.length; M++) {
                var J = P[M].v.Clr;
                J.v = h(R.Clr.v, J.v, R)
            }
            return [null, Z]
        }
        if (K && X) {
            var Z = JSON.parse(JSON.stringify(X)),
                P = Z.Grad.v.Clrs.v;
            for (var M = 0; M < P.length; M++) {
                var J = P[M].v.Clr;
                J.v = h(J.v, K.Clr.v, X)
            }
            return [null, Z]
        }
        return [R, X]
    };
    eg.aeH = {
        ql: v.$(4),
        AT: v.$(4),
        W: new B(0, 0, 1, 1)
    };
    eg.a9Q = function(w, o, Q) {
        var K = hL.$v(Q.Md.v.BlnM),
            b = Q.Opct.v.val / 100,
            R = eg.aeH;
        w = v.V.c2(w);
        o = v.V.c2(o);
        R.ql[0] = w.W;
        R.ql[1] = w.a;
        R.ql[2] = w.k;
        R.ql[3] = 255;
        R.AT[0] = o.W;
        R.AT[1] = o.a;
        R.AT[2] = o.k;
        R.AT[3] = 255;
        v.M.M$(K, R.ql, R.W, R.AT, R.W, R.W, b);
        return {
            classID: "RGBC",
            Rd: {
                t: "doub",
                v: R.AT[0]
            },
            Grn: {
                t: "doub",
                v: R.AT[1]
            },
            Bl: {
                t: "doub",
                v: R.AT[2]
            }
        }
    };
    eg.x9 = function(w, o, Q) {
        var K = w;
        w = w.slice(0);
        var b = hL.IM[hL.ja.indexOf(o.Md.v.BlnM)],
            R = v.V.c2(o.Clr.v),
            X = 4278190080 | Math.round(R.k) << 16 | Math.round(R.a) << 8 | Math.round(R.W),
            h = v.$(Q.O() * 4);
        v.Fw(h, X);
        v.M.M$(b, h, Q, w, Q, Q, o.Opct.v.val / 100);
        for (var M = 0; M < w.length; M += 4) w[M + 3] = K[M + 3];
        return w
    };
    eg.dC = function(w, o) {
        var Q = ["Sz", "blur", "Sftn", "Dstn"];
        for (var M = 0; M < b_.order.length; M++) {
            var K = b_.order[M],
                b = w[b_.Ix[M]].v;
            for (var R = 0; R < b.length; R++) {
                var X = b[R].v;
                for (var h = 0; h < Q.length; h++) {
                    var e = X[Q[h]];
                    if (e) {
                        var Z = e.v.val,
                            P = Z;
                        P = Math.max(Z == 0 ? 0 : 1, P * o);
                        if (K == "ChFX") P = Math.min(P, 250);
                        if (K == "ebbl") {
                            if (Q[h] == "blur") P = Math.min(P, 250);
                            if (Q[h] == "Sftn") P = Math.min(P, 16)
                        }
                        e.v.val = Math.round(P)
                    }
                }
                if (K == "ebbl" || K == "patternFill" || K == "FrFX")
                    if (X.Ptrn && X.Scl) X.Scl.v.val = Math.max(1, Math.min(1e3, X.Scl.v.val * o))
            }
        }
    };
    eg.ag2 = function(w, o, Q) {
        var K = new B(-.5, -.5, 1, 1),
            b = w.add.lmfx;
        for (var M = 0; M < b_.order.length; M++) {
            var R = b_.order[M],
                X = b[b_.Ix[M]].v;
            for (var h = 0; h < X.length; h++) {
                var e = X[h].v,
                    i;
                if (!e.enab.v) continue;
                var Z = e.blur ? e.blur.v.val + 1 : 0,
                    P = e.Ckmt ? e.Ckmt.v.val / 100 : 0,
                    J = Math.round(Z * P);
                if (R == "DrSh" || R == "IrSh" && Q) {
                    i = new B(-.5, -.5, 1, 1);
                    i.Nn(Z, Z);
                    eg.Fd(i, e, o, 0)
                }
                if (R == "OrGl" || R == "IrGl" && Q) {
                    i = new B(-.5, -.5, 1, 1);
                    i.Nn(Z, Z)
                }
                if (R == "FrFX") {
                    var k = eg.d2(e),
                        $ = k[1];
                    if (Q) $ = Math.max(k[0], $);
                    i = new B(-.5, -.5, 1, 1);
                    i.Nn(Math.ceil($), Math.ceil($))
                }
                if (R == "ebbl") {
                    var Z = e.blur.v.val,
                        n = e.bvlS.v.BESl;
                    if (n == "Embs" || n == "PlEb") Z /= 2;
                    var j = ["OtrB", "InrB", "Embs", "PlEb", "strokeEmboss"],
                        y = ["SfBL", "PrBL", "Slmt"],
                        V = ["In", "Out"],
                        O = e.bvlT.v.bvlT != "SfBL" ? Z : Z * .43,
                        S = Math.round(Z);
                    i = new B(-S - 1, -S - 1, 2 * S + 2, 2 * S + 2)
                }
                if (Q && R == "ChFX") {
                    i = new B(-.5, -.5, 1, 1);
                    i.Nn(Z, Z);
                    var G = i.clone();
                    eg.Fd(i, e, o, 0);
                    eg.Fd(G, e, o, Math.PI);
                    i = i.OX(G)
                }
                if (i) K = K.OX(i)
            }
        }
        if (K.x != Math.ceil(K.x)) {
            K.x = Math.ceil(K.x);
            K.D -= 1
        }
        if (K.y != Math.ceil(K.y)) {
            K.y = Math.ceil(K.y);
            K.j -= 1
        }
        return K
    };
    eg.d2 = function(w) {
        var o = 0,
            Q = 0,
            K = w.Styl.v.FStl,
            b = w.Sz.v.val;
        if (K == "OutF") Q = b;
        if (K == "InsF") o = b;
        if (K == "CtrF") o = Q = b / 2;
        return [o, Q]
    };
    eg.kN = function(w) {
        if (w.all == null) return;
        for (var M = 0; M < w.all.length; M++) {
            var o = w.all[M];
            if (o.vM) o.vM.delete();
            if (o.Kr) o.Kr.delete();
            if (o.tg) o.tg.delete()
        }
    };
    eg.anf = function(w, o, Q, K, b, R, X) {
        eg.kN(w);
        var h = eg.Co(K, b, o, Q, R, X);
        w.type = h.type, w.all = h.all;
        if (d.cv)
            for (var M = 0; M < w.all.length; M++) {
                var e = w.all[M];
                e.vM = new d.Dz(e.H9.D, e.H9.j);
                e.vM.set(e.Sg);
                delete e.Sg;
                if (e.uh) {
                    e.Kr = new d.Zb(e.H9.D, e.H9.j);
                    e.Kr.set(e.uh);
                    delete e.uh
                }
                if (e.kO) {
                    e.tg = new d.Zb(e.H9.D, e.H9.j);
                    e.tg.set(e.kO);
                    delete e.kO
                }
            }
    };
    eg.Xg = function(w) {
        for (var M = 0; M < b_.order.length; M++) {
            var o = b_.order[M],
                Q = b_.Ix[M],
                K = w[Q].v;
            for (var b = 0; b < K.length; b++) {
                var R = K[b].v;
                if (R.enab.v && ["patternFill", "GrFl", "SoFi"].indexOf(o) == -1) return !0
            }
        }
        return !1
    };
    eg.Co = function(w, o, Q, K, b, R) {
        if (R == null) R = K;
        var X = 0,
            h = 0;
        for (var M = 0; M < b_.order.length; M++) {
            var e = b_.order[M],
                Z = b_.Ix[M],
                P = w[Z].v;
            for (var J = 0; J < P.length; J++) {
                var i = P[J].v;
                if (e == "DrSh" && i.enab.v && i.Ckmt.v.val > 0 && i.blur.v.val > 0) X = Math.max(X, Math.ceil(i.Ckmt.v.val * i.blur.v.val / 100));
                if (e == "OrGl" && i.enab.v && i.Ckmt.v.val > 0 && i.blur.v.val > 0 && i.GlwT.v.BETE == "SfBL") X = Math.max(X, Math.ceil(i.Ckmt.v.val * i.blur.v.val / 100));
                if (e == "OrGl" && i.enab.v && i.blur.v.val > 0 && i.GlwT.v.BETE == "PrBL") X = Math.max(X, i.blur.v.val);
                if (e == "FrFX" && i.enab.v && i.Sz.v.val > 0) {
                    if (i.Styl.v.FStl == "OutF") X = Math.max(X, i.Sz.v.val);
                    if (i.Styl.v.FStl == "CtrF") X = Math.max(X, Math.ceil(i.Sz.v.val / 2));
                    h = Math.max(h, eg.d2(i)[1])
                }
            }
        }
        var k = new eg.I3(Q, K, X, eg.Xg(w)),
            $ = -K.x,
            n = -K.y,
            j = {
                type: {},
                all: []
            };
        for (var y = 0; y < b_.order.length; y++) {
            var e = b_.order[y],
                Z = b_.Ix[y];
            j.type[e] = [];
            for (var V = w[Z].v.length - 1; V >= 0; V--) {
                var O = w[Z].v[V].v;
                if (!O.enab.v) continue;
                var S = O.blur ? O.blur.v.val : 0,
                    G = O.Ckmt ? O.Ckmt.v.val / 100 : 0,
                    D = S * G;
                if (e == "DrSh") {
                    var q = k.ho(D, S - D, !0),
                        T = q.N3,
                        L = q.U;
                    L.offset($, n);
                    eg.bF(T, O, !1);
                    eg.Fd(L, O, b, 0);
                    var N = v.$(L.O() * 4);
                    eg.mS(N, O.Clr.v);
                    v.qh(T, N, 3);
                    var F = {
                        Sg: N,
                        H9: L,
                        ae: hL.$v(O.Md.v.BlnM),
                        Xm: O.Opct.v.val / 100,
                        a3P: O.layerConceals.v
                    };
                    j.type[e].push(F);
                    j.all.push(F)
                }
                if (e == "IrSh") {
                    var q = k.ho(D, S - D, !1);
                    eg.Fd(q.U, O, b, 0);
                    var L = k.rect().clone(),
                        T = v.$(L.O());
                    v.set(T, 255);
                    v.Hp(q.N3, q.U, T, L);
                    eg.bF(T, O, !0);
                    var N = v.$(L.O() * 4);
                    eg.mS(N, O.Clr.v);
                    v.qh(T, N, 3);
                    L.offset($, n);
                    var F = {
                        Sg: N,
                        H9: L,
                        ae: hL.$v(O.Md.v.BlnM),
                        Xm: O.Opct.v.val / 100
                    };
                    j.type[e].push(F);
                    j.all.push(F)
                }
                if (e == "GrFl") {
                    var N = v.$(k.rect().O() * 4);
                    eg.uj(O, N, k.rect(), b, null, R);
                    var L = k.rect().clone();
                    L.offset($, n);
                    var F = {
                        Sg: N,
                        H9: L,
                        ae: hL.$v(O.Md.v.BlnM),
                        Xm: O.Opct.v.val / 100
                    };
                    j.type[e].push(F);
                    j.all.push(F)
                }
                if (e == "SoFi") {
                    var N = v.$(k.N3().length * 4);
                    eg.mS(N, O.Clr.v);
                    var L = k.rect().clone();
                    L.offset($, n);
                    var F = {
                        Sg: N,
                        H9: L,
                        ae: hL.$v(O.Md.v.BlnM),
                        Xm: O.Opct.v.val / 100
                    };
                    j.type[e].push(F);
                    j.all.push(F)
                }
                if (e == "ebbl") {
                    var I = !1;
                    if (I) console.log(O);
                    var s = Date.now(),
                        u = O.bvlS.v.BESl;
                    if (u == "strokeEmboss") {
                        var g = w.frameFXMulti.v;
                        if (g.length == 0) continue;
                        g = g[0].v;
                        if (!g.enab.v) continue;
                        var U = g.Styl.v.FStl;
                        if (U == "OutF") u = "OtrB";
                        if (U == "CtrF") u = "Embs";
                        if (U == "InsF") u = "InrB"
                    }
                    var S = O.blur.v.val;
                    if (S == 0) S = .7;
                    if (u == "Embs" || u == "PlEb") S /= 2;
                    var r = ["OtrB", "InrB", "Embs", "PlEb", "strokeEmboss"],
                        x = ["SfBL", "PrBL", "Slmt"],
                        C = ["In", "Out"],
                        p = O.bvlT.v.bvlT != "SfBL" ? S : S * .45,
                        l = Math.round(S),
                        c = k.rect().clone(),
                        t = c.clone();
                    t.Nn(l, l);
                    var H = t.D,
                        gl = t.j,
                        ie = H * gl,
                        fk = v.$(ie);
                    v.Hp(k.N3(), c, fk, t);
                    var h5 = new Float64Array(ie),
                        cf = new Float64Array(ie);
                    v.style.LR(fk, h5, H, gl);
                    v.MF(fk);
                    v.style.LR(fk, cf, H, gl);
                    if (I) console.log("distTransform computed", Date.now() - s);
                    for (var M = 0; M < ie; M++) cf[M] = cf[M] - h5[M];
                    for (var M = 0; M < ie; M++) {
                        var f = cf[M];
                        if (f < -p) cf[M] = -p;
                        else if (f > p) cf[M] = p
                    }
                    if (I) console.log("summing + cropping", Date.now() - s);
                    if (O.bvlT.v.bvlT == "SfBL") {
                        var gY = Math.pow(S * .21, 1.22);
                        if (!0) gY = Math.max(gY, 2);
                        var cC = v.PF.Lq(gY, 2);
                        v.PF.vE(cf, h5, t, cC[0] >>> 1);
                        v.PF.vE(h5, cf, t, cC[1] >>> 1)
                    }
                    if (I) console.log("blurring", Date.now() - s);
                    var cY = cf,
                        gJ = cY.slice(0);
                    if (O.useShape.v) {
                        var bM = Math.min(100, O.Inpr.v.val + 1) / 100;
                        if (u != "OtrB" && u != "InrB") bM = 1;
                        var cN = v.R2.js(O.MpgS.v.Crv.v, 2e3),
                            eu = Math.round(2e3 / bM);
                        cN = v.R2.a69(cN, eu, u == "InrB");
                        var cU = .5 / p;
                        for (var M = 0; M < ie; M++) {
                            var h7 = cY[M],
                                hn = .99999 * (h7 + p) * cU;
                            cY[M] = -p + 2 * p * cN[~~(hn * (eu - 1))]
                        }
                        if (I) console.log("applying shape", Date.now() - s)
                    }
                    if (O.useTexture.v) {
                        var gS = v.$(H * gl * 4);
                        eg.wd(O, gS, t, b, o);
                        var aq = v.$(H * gl);
                        v.wC(gS, aq);
                        var ef = v.$(H * gl);
                        v.PF.pg(aq, ef, t, 1);
                        aq = ef;
                        var dU = S * O.textureDepth.v.val * (1 / 100) * (1 / 255);
                        if (O.InvT.v) dU = -dU;
                        for (var M = 0; M < ie; M++) cY[M] += -dU * aq[M];
                        if (I) console.log("applying texture", Date.now() - s)
                    }
                    var hO = (O.bvlT.v.bvlT == "SfBL" ? 1 : .5) * (O.bvlD.v.BESs == "In" ? 1 : -1) * O.srgR.v.val / 100;
                    for (var M = 0; M < ie; M++) cY[M] *= hO;
                    if (I) console.log("scaling", Date.now() - s);
                    var ao = O.uglg && O.uglg.v ? b.BP() : O.lagl.v.val;
                    ao = ao * (Math.PI / 180);
                    var hI = O.uglg && O.uglg.v ? b.Th() : O.Lald.v.val;
                    hI = hI * (Math.PI / 180);
                    var a$ = Math.cos(ao) * Math.cos(hI),
                        hH = -Math.sin(ao) * Math.cos(hI),
                        bq = Math.sin(hI),
                        dq = new Float64Array(ie),
                        g9 = new Float64Array(ie),
                        cx = u == "PlEb";
                    for (var hp = 0; hp < gl; hp++)
                        for (var b0 = 0; b0 < H; b0++) {
                            var M = hp * H + b0,
                                bh = 0,
                                hA = 0,
                                ft = 1;
                            if (hp != 0 && hp != gl - 1 && b0 != 0 && b0 != H - 1) {
                                var c6 = cY[M - H - 1],
                                    ba = cY[M - H + 1],
                                    f7 = cY[M + H - 1],
                                    an = cY[M + H + 1];
                                bh = -.125 * (ba + 2 * cY[M + 1] + an - (c6 + 2 * cY[M - 1] + f7));
                                hA = -.125 * (f7 + 2 * cY[M + H] + an - (c6 + 2 * cY[M - H] + ba))
                            } else {
                                var b5 = cY[M];
                                hA = -(hp == 0 ? cY[M + H] - b5 : hp == gl - 1 ? b5 - cY[M - H] : .5 * (cY[M + H] - cY[M - H]));
                                bh = -(b0 == 0 ? cY[M + 1] - b5 : b0 == H - 1 ? b5 - cY[M - 1] : .5 * (cY[M + 1] - cY[M - 1]))
                            }
                            var hG = 1 / Math.sqrt(bh * bh + hA * hA + 1);
                            bh *= hG;
                            hA *= hG;
                            ft *= hG;
                            var eE = bh * a$ + hA * hH + ft * bq,
                                aV = eE;
                            if (cx) aV = -bh * a$ - hA * hH + ft * bq;
                            if (eE > 0) dq[M] = eE;
                            if (aV > 0) g9[M] = aV
                        }
                    if (I) console.log("raycasting", Date.now() - s);
                    if (O.Sftn.v.val != 0) {
                        v.PF.GD(dq, h5, t, O.Sftn.v.val * .43);
                        var dp = h5,
                            h5 = dq,
                            dq = dp;
                        if (cx) {
                            v.PF.GD(g9, h5, t, O.Sftn.v.val * .43);
                            var dp = h5,
                                h5 = g9,
                                g9 = dp
                        } else v.gb(dq, g9)
                    }
                    if (I) console.log("softening", Date.now() - s);
                    var cN = v.R2.js(O.TrnS.v.Crv.v, 1024);
                    for (var M = 0; M < ie; M++) {
                        dq[M] = cN[~~(dq[M] * 1024)];
                        g9[M] = cN[~~(g9[M] * 1024)]
                    }
                    if (I) console.log("contour remap", Date.now() - s);
                    H = Math.round(H);
                    gl = Math.round(gl);
                    var en = v.$(H * gl * 4);
                    eg.mS(en, O.hglC.v);
                    var f1 = v.$(H * gl * 4);
                    eg.mS(f1, O.sdwC.v);
                    var de = v.$(H * gl * 4);
                    eg.mS(de, O.hglC.v);
                    var dM = v.$(H * gl * 4);
                    eg.mS(dM, O.sdwC.v);
                    var ih = 1 / bq,
                        fa = 1 / (1 - bq),
                        cU = 1 / p,
                        eI = new Float64Array(1e3);
                    for (var M = 0; M < 1e3; M++) eI[M] = Math.pow(M * .001, .2);
                    for (var hp = 0; hp < gl; hp++)
                        for (var b0 = 0; b0 < H; b0++) {
                            var M = hp * H + b0,
                                gR = 4 * M + 3,
                                hk = 0,
                                d3 = 0;
                            hk = dq[M];
                            d3 = g9[M];
                            var iB = Math.max(0, Math.min(.9999, (gJ[M] + p * .993) * cU));
                            iB = eI[Math.floor(iB * 1e3)];
                            var gk = iB * (1 - Math.min(1, hk * ih)),
                                d$ = iB * (1 - Math.min(1, (1 - hk) * fa)),
                                hx = iB * (1 - Math.min(1, d3 * ih)),
                                bz = iB * (1 - Math.min(1, (1 - d3) * fa));
                            f1[gR] = Math.round(255 * gk);
                            en[gR] = Math.round(255 * d$);
                            dM[gR] = Math.round(255 * hx);
                            de[gR] = Math.round(255 * bz)
                        }
                    if (I) console.log("baking textures", Date.now() - s);
                    t = k.rect().clone();
                    t.Nn(l, l);
                    t.offset($, n);
                    var hY = {
                        a44: O.bvlS.v.BESl == "strokeEmboss"
                    };
                    if (["InrB", "Embs", "PlEb"].indexOf(u) != -1) {
                        hY.r3 = {
                            Sg: en,
                            H9: t,
                            ae: hL.$v(O.hglM.v.BlnM),
                            Xm: O.hglO.v.val / 100
                        };
                        hY.dx = {
                            Sg: f1,
                            H9: t,
                            ae: hL.$v(O.sdwM.v.BlnM),
                            Xm: O.sdwO.v.val / 100
                        };
                        j.all.push(hY.r3, hY.dx)
                    }
                    if (["OtrB", "Embs", "PlEb"].indexOf(u) != -1) {
                        hY.SB = {
                            Sg: de,
                            H9: t,
                            ae: hL.$v(O.hglM.v.BlnM),
                            Xm: O.hglO.v.val / 100
                        };
                        hY.vv = {
                            Sg: dM,
                            H9: t,
                            ae: hL.$v(O.sdwM.v.BlnM),
                            Xm: O.sdwO.v.val / 100
                        };
                        j.all.push(hY.SB, hY.vv)
                    }
                    if (I) console.log(Date.now() - s);
                    j.type[e].push(hY)
                }
                if (e == "patternFill") {
                    var fL = k.rect(),
                        N = v.$(fL.O() * 4);
                    eg.wd(O, N, fL, b, o);
                    var L = fL.clone();
                    L.offset($, n);
                    var F = {
                        Sg: N,
                        H9: L,
                        ae: hL.$v(O.Md.v.BlnM),
                        Xm: O.Opct.v.val / 100
                    };
                    j.type[e].push(F);
                    j.all.push(F)
                }
                if (e == "ChFX") {
                    var N = v.$(k.N3().length * 4);
                    eg.mS(N, O.Clr.v);
                    var S = O.blur.v.val,
                        c4 = k.rect().clone();
                    c4.Nn(S, S);
                    var dF = v.$(c4.O()),
                        co = v.$(c4.O());
                    v.Hp(k.N3(), k.rect(), co, c4);
                    v.PF.ew(co, dF, c4, S * .43);
                    var dg = v.R2.XO(O.MpgS.v.Crv.v, 256, !0);
                    v._4(dF, dg);
                    var bL = v.$(k.N3().length),
                        bg = v.$(k.N3().length),
                        fy = k.rect().clone();
                    eg.Fd(fy, O, b, 0);
                    v.Hp(dF, c4, bL, fy);
                    fy = k.rect().clone();
                    eg.Fd(fy, O, b, Math.PI);
                    v.Hp(dF, c4, bg, fy);
                    var bH = bL.length;
                    for (var M = 0; M < bH; M++) N[4 * M + 3] = Math.abs(bL[M] - bg[M]);
                    if (O.Invr.v)
                        for (var M = 0; M < bH; M++) N[4 * M + 3] = 255 - N[4 * M + 3];
                    var L = k.rect().clone();
                    L.offset($, n);
                    var F = {
                        Sg: N,
                        H9: L,
                        ae: hL.$v(O.Md.v.BlnM),
                        Xm: O.Opct.v.val / 100
                    };
                    j.type[e].push(F);
                    j.all.push(F)
                }
                if (e == "OrGl") {
                    var q;
                    if (O.GlwT.v.BETE == "SfBL") q = k.ho(D, S - D, !0);
                    else q = k.IO(S, G, !0);
                    var T = q.N3,
                        L = q.U,
                        e7 = T.slice(0);
                    eg.mF(T, O);
                    var N = v.$(L.O() * 4);
                    if (O.Grad == null) {
                        eg.mS(N, O.Clr.v);
                        eg.bF(T, O, !1)
                    } else {
                        eg.bF(T, O, null);
                        var ep = {
                            Jl: T,
                            EY: 255,
                            Q2: 0,
                            dn: L
                        };
                        eg.uj(O, N, L, b, ep);
                        var eV = O.Nose.v.val / 100,
                            d9 = L.D;
                        for (var M = 0; M < e7.length; M++) {
                            var ad = 255,
                                gE = e7[M];
                            if (gE < 32) {
                                var aQ = (gE + e7[M - 1] + e7[M + 1] + e7[M - d9] + e7[M + d9]) * .2 - 1;
                                ad = Math.min(255, Math.round(Math.max(0, aQ) * 8))
                            }
                            T[M] = ad
                        }
                        eg.yf(T, O)
                    }
                    v.qh(T, N, 3);
                    L.offset($, n);
                    var F = {
                        Sg: N,
                        H9: L,
                        ae: hL.$v(O.Md.v.BlnM),
                        Xm: O.Opct.v.val / 100
                    };
                    j.type[e].push(F);
                    j.all.push(F)
                }
                if (e == "IrGl") {
                    var q;
                    if (O.GlwT.v.BETE == "SfBL") q = k.ho(D, S - D, !1);
                    else q = k.IO(S, G, !1);
                    var T = q.N3,
                        L = q.U;
                    eg.mF(T, O);
                    if (O.glwS.v.IGSr == "SrcC") v.MF(T);
                    var N = v.$(L.O() * 4);
                    if (O.Grad == null) {
                        eg.mS(N, O.Clr.v);
                        eg.bF(T, O, !0)
                    } else {
                        eg.bF(T, O, null);
                        var ep = {
                            Jl: T,
                            EY: 255,
                            Q2: 0,
                            dn: L
                        };
                        eg.uj(O, N, L, b, ep);
                        v.set(T, 255);
                        eg.yf(T, O)
                    }
                    v.qh(T, N, 3);
                    L.offset($, n);
                    var F = {
                        Sg: N,
                        H9: L,
                        ae: hL.$v(O.Md.v.BlnM),
                        Xm: O.Opct.v.val / 100
                    };
                    j.type[e].push(F);
                    j.all.push(F)
                }
                if (e == "FrFX") {
                    var cO = eg.d2(O),
                        e8 = cO[0],
                        fh = cO[1],
                        L = k.rect().clone(),
                        aX = null,
                        cu = null;
                    L.Nn(Math.ceil(h), Math.ceil(h));
                    if (fh > 0) {
                        var q = k.ho(fh, 0, !0);
                        cu = q.N3;
                        if (cu.length < L.O()) {
                            cu = v.$(L.O());
                            v.Hp(q.N3, q.U, cu, L)
                        }
                    }
                    if (e8 > 0) {
                        var q = k.ho(e8, 0, !1);
                        aX = v.$(L.O());
                        v.set(aX, 255);
                        v.Hp(q.N3, q.U, aX, L)
                    }
                    L.offset($, n);
                    var N = v.$(L.O() * 4),
                        eF = O.PntT.v.FrFl;
                    if (eF == "SClr") eg.mS(N, O.Clr.v);
                    if (eF == "GrFl") eg.uj(O, N, L, b, k.aaq(e8, fh));
                    if (eF == "Ptrn") eg.wd(O, N, L, b, o);
                    var F = {
                        Sg: N,
                        H9: L,
                        ae: hL.$v(O.Md.v.BlnM),
                        Xm: O.Opct.v.val / 100,
                        kO: cu,
                        uh: aX
                    };
                    j.type[e].push(F);
                    j.all.push(F)
                }
            }
        }
        return j
    };
    eg.Kw = function(w) {
        var o = 1 / Math.sqrt(w.x * w.x + w.y * w.y + w.rI * w.rI);
        w.x *= o;
        w.y *= o;
        w.rI *= o
    };
    eg.a5T = function(w, o) {
        return {
            x: w.y * o.rI - w.rI * o.y,
            y: w.rI * o.x - w.x * o.rI,
            rI: w.x * o.y - w.y * o.x
        }
    };
    eg.ai0 = function(w, o) {
        return w.x * o.x + w.y * o.y + w.rI * o.rI
    };
    eg.yf = function(w, o) {
        var Q = o.Nose.v.val / 100;
        if (Q > 0)
            for (var M = 0; M < w.length; M++) {
                var K = w[M];
                K = Math.min(510 - (1 + Q) * v.style.TG(M), K);
                w[M] = K
            }
    };
    eg.tB = function(w) {
        var o = eg.UC(),
            Q = w.ZM,
            K = !1;
        for (var M = 0; M < 32; M += 8)
            if (Q[M] + Q[M + 1] + Q[4] + Q[5] != 0 || Q[M + 2] + Q[M + 3] + Q[6] + Q[7] != 1020) K = !0;
        if (K) {
            Q = Q.slice(0);
            for (var M = 0; M < 40; M += 4) {
                var b = Q[M] / 255,
                    R = Q[M + 1] / 255,
                    X = Q[M + 2] / 255,
                    h = Q[M + 3] / 255;
                Q[M] = b - 1e-4;
                Q[M + 1] = b == R ? 1e9 : 1 / (R - (b - 1e-4));
                Q[M + 2] = X == h ? -1e9 : 1 / (X - (h + 1e-4));
                Q[M + 3] = h + 1e-4
            }
        }
        var e = w.add.iOpa != null ? w.add.iOpa / 255 : o.fill,
            Z = w.add.vstk;
        if (Z && !Z.fillEnabled.v && (!Z.strokeEnabled.v || Z.strokeStyleLineWidth.v.val == 0)) e = 0;
        return {
            fill: e,
            og: K ? Q : null,
            O9: w.add.brst != null ? w.add.brst : o.O9,
            alu: w.add.knko != null ? w.add.knko : o.alu,
            style: !1,
            _m: !1
        }
    };
    eg.UC = function() {
        return {
            fill: 1,
            og: null,
            O9: [1, 1, 1],
            alu: 0,
            style: !1,
            _m: !1
        }
    };
    eg.L6 = function(w, o) {
        if (o == null) return null;
        var Q = w.Idnt.v,
            K = null;
        for (var M = 0; M < o.length; M++)
            if (o[M].id == Q) return o[M];
        return null
    };
    eg.h8 = function(w, o, Q) {
        var K = ["patternFillMulti", "ebblMulti", "frameFXMulti"];
        for (var M = 0; M < K.length; M++) {
            var b = w.v[K[M]].v;
            for (var R = 0; R < b.length; R++)
                if (b[R].v.Ptrn) o.vk(eg.L6(b[R].v.Ptrn.v, Q))
        }
    };
    eg.acy = function(w, o, Q) {
        var K = ["patternFillMulti", "ebblMulti", "frameFXMulti"];
        for (var M = 0; M < K.length; M++) {
            var b = w.v[K[M]].v;
            for (var R = 0; R < b.length; R++)
                if (b[R].v.Ptrn) {
                    var X = b[R].v.Ptrn.v,
                        h = eg.L6(X, Q),
                        e = eg.L6(X, o.add.Patt);
                    if (h == null && e) Q.push(e)
                }
        }
    };
    eg.wd = function(w, o, Q, K, b) {
        var R = eg.L6(w.Ptrn.v, K.add.Patt);
        if (R != null && !Q.Kx()) {
            var X = R.Ua,
                h = X[0],
                e = X[1],
                Z = 0;
            v.st(X);
            var P = w.Scl.v.val / 100;
            while ((P < .3 || P == .5) && X[Z + 2]) {
                P *= e.D / X[Z + 3].D;
                Z += 2;
                h = X[Z];
                e = X[Z + 1]
            }
            var J = v.scale.wd(h, e.D, e.j),
                i = -Q.x + w.phase.v.Hrzn.v - 1,
                k = -Q.y + w.phase.v.Vrtc.v - 1;
            if (w.Algn != null && !w.Algn.v) {} else {
                i += b.x;
                k += b.y
            }
            v.scale.ams(J, o, Q.D, Q.j, P, P, i + 1, k + 1)
        }
    };
    eg.uj = function(w, o, Q, K, b, R) {
        if (R == null) R = Q;
        var X = w.Type ? w.Type.v.GrdT : "shapeburst",
            h = w.Algn && w.Algn.v ? R : new B(0, 0, K.D, K.j),
            e = w.Angl ? v.V.Zn(w, h) : [new fB(0, 0), new fB(100, 0)],
            Z = e[0].x,
            P = e[0].y,
            J = e[1].x - Z,
            i = e[1].y - P,
            k = Math.sqrt(J * J + i * i);
        k = 1 / (2 * k * k);
        var $ = [J * k, i * k, -i * k, J * k],
            n = w.Rvrs ? w.Rvrs.v : !1,
            j = w.Dthr ? w.Dthr.v : !1;
        v.V.TZ(w.Grad.v, o, Q, $, Z, P, n, b_.V.types.indexOf(X), 0, 0, b, j)
    };
    eg.aau = function(w, o) {
        for (var M = 0; M < w.all.length; M++) {
            var Q = w.all[M];
            Q.DJ = Q.H9.clone();
            Q.DJ.offset(o.x, o.y)
        }
    };
    eg.b_ = function(w, o, Q, K, b, R) {
        var X = d.cv ? eg.lS : eg.c0;
        eg.aau(o, Q);
        var h = o.type.DrSh;
        for (var M = 0; M < h.length; M++)
            if (!h[M].a3P) X(h[M], K, b, R)
    };
    eg.O7 = function(w, o, Q, K, b, R, X, h, e, Z) {
        var P = Q,
            J = d.cv ? eg.lS : eg.c0,
            i = d.cv ? d.M.xj : v.M.uG,
            k;
        k = o.type.DrSh;
        for (var M = 0; M < k.length; M++)
            if (k[M].a3P) J(k[M], K, b, R);
        k = o.type.OrGl;
        for (var M = 0; M < k.length; M++) J(k[M], K, b, R);
        var $ = "patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
        for (var n = 0; n < $.length; n++) {
            var k = o.type[$[n]];
            for (var M = 0; M < k.length; M++) J(k[M], X, P, R)
        }
        var j = o.type.ebbl[0],
            y = j != null && j.a44;
        k = o.type.FrFX;
        for (var M = 0; M < k.length; M++) {
            var V = k[M];
            iw.Zj.Hp(h, Z, e, Z, R);
            J(V, e, Z, R);
            if (y && M == k.length - 1) {
                if (j.vv) J(j.vv, e, Z, R);
                if (j.SB) J(j.SB, e, Z, R);
                if (j.dx) J(j.dx, e, Z, R);
                if (j.r3) J(j.r3, e, Z, R)
            }
            if (V.uh || V.Kr) i(e, Z, X, P, d.cv ? V.Kr : V.uh, V.DJ, 0, R, 1);
            if (V.kO || V.tg) i(e, Z, K, b, d.cv ? V.tg : V.kO, V.DJ, 0, R, 1)
        }
        if (!y && j != null) {
            if (j.vv) J(j.vv, K, b, R);
            if (j.SB) J(j.SB, K, b, R);
            if (j.dx) J(j.dx, X, P, R);
            if (j.r3) J(j.r3, X, P, R)
        }
    };
    eg.c0 = function(w, o, Q, K) {
        var b = eg.UC();
        b.fill = w.Xm;
        b.style = !0;
        v.M.M$(w.ae, w.Sg, w.DJ, o, Q, K, 1, b)
    };
    eg.lS = function(w, o, Q, K) {
        var b = eg.UC();
        b.fill = w.Xm;
        b.style = !0;
        d.M.y_(w.ae, w.vM, w.DJ, o, Q, K, 1, b)
    };
    eg.mF = function(w, o) {
        var Q = 1 - o.Inpr.v.val / 100,
            K = 1 + Math.tan(Q * (Math.PI / 2)),
            b = w.length;
        for (var M = 0; M < b; M++) w[M] = Math.min(255, Math.round(w[M] * K))
    };
    eg.bF = function(w, o, Q) {
        var K = o.blur.v.val,
            b = Math.round(K * (o.Ckmt.v.val / 100));
        if (K > b) {
            var R = v.R2.XO(o.TrnS.v.Crv.v, 256, !0);
            v._4(w, R)
        }
        if (Q != null && o.Nose.v.val > 0) v.style.tb(w, o.Nose.v.val / 100, Q)
    };
    eg.mS = function(w, o, Q) {
        if (Q == null) Q = 255;
        var K = v.V.c2(o),
            b = Q << 24 | K.k << 16 | K.a << 8 | K.W,
            R = new Uint32Array(w.buffer);
        R.fill(b)
    };
    eg.Fd = function(w, o, Q, K) {
        var b = o.uglg && o.uglg.v ? Q.BP() : o.lagl.v.val;
        b = b * Math.PI / 180 + K;
        var R = Math.cos(b) * o.Dstn.v.val,
            X = Math.sin(b) * o.Dstn.v.val;
        w.x -= Math.round(R);
        w.y += Math.round(X)
    };
    eg.RY = function(w) {
        if (w == null) return null;
        var o = w.frameFXMulti.v;
        if (o.length == 0) return null;
        o = o[0].v;
        var Q = JSON.parse(JSON.stringify(b_.fQ.default));
        eg.sB(o, Q);
        return Q
    };
    eg.sB = function(w, o) {
        var Q = b_.stroke.r$.indexOf(w.PntT.v.FrFl),
            K = [b_.vu, b_.$w, b_.$F][Q],
            b = o.strokeStyleContent.v = {
                classID: b_.fQ.xM[Q]
            };
        for (var M = 0; M < K.length; M++) b[K[M]] = w[K[M]];
        o.strokeEnabled = w.enab;
        o.strokeStyleLineWidth = w.Sz;
        o.strokeStyleLineAlignment.v.strokeStyleLineAlignment = b_.fQ.So[b_.stroke.types.indexOf(w.Styl.v.FStl)];
        o.strokeStyleOpacity = w.Opct;
        o.strokeStyleBlendMode = w.Md
    };
    eg.xo = function(w, o) {
        var Q = [];
        for (var M = 0; M < w.length; M++) Q.push({
            t: "UntF",
            v: {
                type: "#Nne",
                val: Math.round(w[M] * o)
            }
        });
        return Q
    };
    eg.I3 = function(w, o, Q, K) {
        this.DW = o.clone();
        this.a7x = o.clone();
        this.a7x.Nn(Q, Q);
        if (K) {
            this.DW.Nn(1, 1);
            this.$T = v.$(this.DW.O());
            v.Hp(w, o, this.$T, this.DW)
        } else this.$T = w;
        this.gU = null;
        this.wK = null;
        this.Bs = null
    };
    eg.I3.prototype.N3 = function() {
        return this.$T
    };
    eg.I3.prototype.rect = function() {
        return this.DW
    };
    eg.I3.prototype.uT = function() {
        return this.a7x
    };
    eg.I3.prototype.AR = function() {
        if (this.gU) return this.gU;
        this.gU = v.clone(this.N3());
        v.MF(this.gU);
        return this.gU
    };
    eg.I3.prototype.rL = function() {
        if (this.wK) return this.wK;
        this.wK = new Float64Array(this.rect().O());
        v.style.LR(this.AR(), this.wK, this.rect().D, this.rect().j);
        return this.wK
    };
    eg.I3.prototype.Vc = function() {
        if (this.Bs) return this.Bs;
        var w = this.uT(),
            o = v.$(w.O());
        v.Hp(this.N3(), this.rect(), o, w);
        this.Bs = new Float64Array(w.O());
        v.style.LR(o, this.Bs, w.D, w.j);
        return this.Bs
    };
    eg.I3.prototype.aaq = function(w, o) {
        var Q = {
            EY: -o,
            Q2: w,
            dn: null,
            Jl: null
        };
        if (o == 0) {
            Q.dn = this.rect();
            Q.Jl = this.rL();
            return Q
        }
        var K = this.Vc().slice(0),
            b = this.uT();
        Q.dn = b;
        Q.Jl = K;
        for (var M = 0; M < K.length; M++) K[M] = -K[M];
        if (w == 0) return Q;
        var R = this.rL(),
            X = this.rect();
        for (var h = 0; h < X.j; h++)
            for (var e = 0; e < X.D; e++) {
                var Z = h * X.D + e,
                    P = (h + X.y - b.y) * b.D + e + X.x - b.x;
                K[P] += R[Z]
            }
        return Q
    };
    eg.I3.prototype.ho = function(w, o, Q) {
        var K = Math.ceil(w + o),
            b = {
                U: this.rect().clone(),
                N3: null
            };
        b.U.Nn(K, K);
        b.N3 = v.$(b.U.O());
        if (w == 0 && o == 0) v.gb(Q ? this.N3() : this.AR(), b.N3);
        else {
            var R = v.$(b.U.O());
            v.Hp(this.N3(), this.rect(), R, b.U);
            if (!Q) v.MF(R);
            if (w != 0) {
                if (Q) v.style.Bw(R, b.U, this.Vc(), this.uT(), w);
                else v.style.Bw(R, b.U, this.rL(), this.rect(), w)
            }
            if (o != 0) v.PF.ew(R, b.N3, b.U, Math.max(1, o * .43));
            else b.N3 = R
        }
        return b
    };
    eg.I3.prototype.IO = function(w, o, Q) {
        var K = w * (o - .5),
            b = {
                U: this.rect().clone(),
                N3: null
            };
        if (Q) b.U.Nn(w, w);
        b.N3 = v.$(b.U.O());
        var R = b.U.D,
            X = b.U.j,
            h = Q ? this.Vc() : this.rL(),
            e = Q ? this.uT() : this.rect(),
            Z = b.U,
            P = Z.z2(e),
            R = P.D,
            X = P.j,
            J = P.x - Z.x,
            i = P.y - Z.y,
            k = P.x - e.x,
            $ = P.y - e.y,
            n = 1 - o * 2;
        for (var j = 0; j < X; j++)
            for (var y = 0; y < R; y++) {
                var V = h[(j + $) * e.D + y + k],
                    O = V / w;
                b.N3[(j + i) * Z.D + y + J] = Math.max(0, Math.min(255, 255 - 255 * ((O + n) / (1 + n))))
            }
        return b
    };
    eg.ck = function(w, o, Q) {
        var K = w.Lefx,
            b = w.blendOptions;
        if (K) {
            var R = o.add.lmfx;
            if (Q == null) Q = R ? R.Scl.v.val : 100;
            o.add.lmfx = JSON.parse(JSON.stringify(K.v));
            eg.dC(o.add.lmfx, Q / o.add.lmfx.Scl.v.val);
            if (R) o.add.lmfx.Scl.v.val = R.Scl.v.val
        } else delete o.add.lmfx;
        if (b) {
            b = b.v;
            if (b.Md) o.TC = hL.$v(b.Md.v.BlnM);
            if (b.Opct) o.opacity = Math.round(b.Opct.v.val * 255 / 100);
            if (b.fillOpacity) o.add.iOpa = Math.round(b.fillOpacity.v.val * 255 / 100);
            if (b.Blnd) {
                var X = [];
                for (var M = 0; M < 10; M++) X.push(0, 0, 255, 255);
                var h = b.Blnd.v,
                    e = "SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
                for (var M = 0; M < h.length; M++) {
                    var Z = h[M].v,
                        P = 8 * ["Gry", "Rd", "Grn", "Bl"].indexOf(Z.Chnl.v[0].v.enum);
                    for (var J = 0; J < 8; J++) {
                        X[P + J] = Z[e[J]].v
                    }
                }
                o.ZM = X
            }
        }
    };
    eg.JH = function(w) {
        var o = "SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),
            Q = [],
            K = w.ZM;
        for (var M = 0; M < 4; M++) {
            var b = M * 8;
            if (K[b] + K[b + 1] + K[b + 4] + K[b + 5] == 0 && K[b + 2] + K[b + 3] + K[b + 6] + K[b + 7] == 4 * 255) continue;
            var R = {
                t: "Objc",
                v: {
                    classID: "Blnd",
                    Chnl: {
                        t: "obj ",
                        v: [{
                            t: "Enmr",
                            v: {
                                classID: "Chnl",
                                typeID: "Chnl",
                                enum: ["Gry", "Rd", "Grn", "Bl"][M]
                            }
                        }]
                    }
                }
            };
            Q.push(R);
            for (var X = 0; X < 8; X++) R.v[o[X]] = {
                t: "long",
                v: K[M * 8 + X]
            }
        }
        var h = {
            classID: "blendOptions"
        };
        if (w.TC != "norm") h.Md = {
            t: "enum",
            v: {
                BlnM: hL.vI(w.TC)
            }
        };
        if (w.opacity != 255) h.Opct = {
            t: "UntF",
            v: {
                type: "#Prc",
                val: Math.round(w.opacity * 100 / 255)
            }
        };
        if (w.add.iOpa != null) h.fillOpacity = {
            t: "UntF",
            v: {
                type: "#Prc",
                val: Math.round(w.add.iOpa * 100 / 255)
            }
        };
        if (Q.length != 0) h.Blnd = {
            t: "VlLs",
            v: Q
        };
        var e = {
                LB: {
                    classID: "null",
                    Idnt: {
                        t: "TEXT",
                        v: fb.Fk() + "-bd9f-11d5-b8ba-b73f8571793d"
                    },
                    Nm: {
                        t: "TEXT",
                        v: "Custom Style"
                    }
                },
                Ze: {
                    classID: "Styl",
                    blendOptions: {
                        t: "Objc",
                        v: h
                    }
                }
            },
            Z = w.add.lmfx;
        if (Z) e.Ze.Lefx = {
            t: "Objc",
            v: Z
        };
        return e
    };

    function dI() {}
    dI.mx = function(w) {
        return JSON.parse(JSON.stringify(w))
    };
    dI.cR = function(w) {
        var o = dI.mx(dI.a7s),
            Q = o.Brsh.v;
        if (w != null) {
            delete Q.Hrdn;
            Q.classID = "sampledBrush";
            Q.Nm = {
                t: "TEXT",
                v: "layer.png"
            }, Q.sampledData = {
                t: "TEXT",
                v: w
            }
        }
        return o
    };
    dI.a7s = {
        classID: "brushPreset",
        Nm: {
            t: "TEXT",
            v: "Custom Brush"
        },
        Brsh: {
            t: "Objc",
            v: {
                classID: "computedBrush",
                Dmtr: {
                    t: "UntF",
                    v: {
                        type: "#Pxl",
                        val: 15
                    }
                },
                Hrdn: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 100
                    }
                },
                Angl: {
                    t: "UntF",
                    v: {
                        type: "#Ang",
                        val: 0
                    }
                },
                Rndn: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 100
                    }
                },
                Spcn: {
                    t: "UntF",
                    v: {
                        type: "#Prc",
                        val: 25
                    }
                },
                Intr: {
                    t: "bool",
                    v: !0
                },
                flipX: {
                    t: "bool",
                    v: !1
                },
                flipY: {
                    t: "bool",
                    v: !1
                }
            }
        },
        useTipDynamics: {
            t: "bool",
            v: !1
        },
        useScatter: {
            t: "bool",
            v: !1
        },
        dualBrush: {
            t: "Objc",
            v: {
                classID: "dualBrush",
                useDualBrush: {
                    t: "bool",
                    v: !1
                }
            }
        },
        brushGroup: {
            t: "Objc",
            v: {
                classID: "brushGroup",
                useBrushGroup: {
                    t: "bool",
                    v: !1
                }
            }
        },
        useTexture: {
            t: "bool",
            v: !1
        },
        usePaintDynamics: {
            t: "bool",
            v: !1
        },
        useColorDynamics: {
            t: "bool",
            v: !1
        },
        Wtdg: {
            t: "bool",
            v: !1
        },
        Nose: {
            t: "bool",
            v: !1
        },
        Rpt: {
            t: "bool",
            v: !1
        }
    };
    dI.Kw = {};
    dI.Kw.check = function(w) {
        var o = dI.Kw.le;
        for (var M = 0; M < o.length; M++)
            if (w[o[M]] == null) w[o[M]] = JSON.parse(dI.Kw.yV[o[M]]);
        var Q = [];
        for (var M = 0; M < o.length; M++) Q.push(o[M]);
        var K = dI.Kw.Dv;
        for (var M = 0; M < K.length; M++) {
            var b = K[M][0],
                R = K[M][1],
                X = !0;
            for (var h = 0; h < b.length; h++) X = X && w[b[h]].v == !0;
            if (X)
                for (var h = 0; h < R.length; h++) {
                    if (w[R[h]] == null) console.log("Missing conditional parameter " + R[h]);
                    else Q.push(R[h])
                }
        }
        for (var e in w)
            if (Q.indexOf(e) == -1) console.log("Extra parameter " + e);
        w = w.Brsh.v;
        o = dI.Kw.L4.le;
        for (var M = 0; M < o.length; M++)
            if (w[o[M]] == null) w[o[M]] = JSON.parse(dI.Kw.L4.yV[o[M]]);
        Q = [];
        for (var M = 0; M < o.length; M++)
            if (w[o[M]]) Q.push(o[M]);
            else console.log("Missing default parameter " + o[M]);
        K = dI.Kw.L4.a0N[w.classID];
        for (var M = 0; M < K.length; M++)
            if (w[K[M]] == null && K[M] != "dtipsGridSize" && K[M] != "dtipsErodibleTipHeightMap" && w.alM != 1) console.log("Missing conditional parameter " + K[M]);
            else Q.push(K[M]);
        for (var e in w)
            if (Q.indexOf(e) == -1) console.log("Extra parameter " + e)
    };
    dI.Kw.i6 = function(w) {
        var o = dI.Kw.Dv;
        for (var M = 0; M < o.length; M++) {
            var Q = o[M][0],
                K = o[M][1],
                b = !0;
            for (var R = 0; R < Q.length; R++) b = b && w[Q[R]] && w[Q[R]].v == !0;
            if (b) {
                for (var R = 0; R < K.length; R++)
                    if (w[K[R]] == null) {
                        w[K[R]] = JSON.parse(dI.Kw.yV[K[R]])
                    }
            } else
                for (var R = 0; R < K.length; R++)
                    if (w[K[R]] != null) {
                        delete w[K[R]]
                    }
        }
    };
    dI.Kw.L4 = {};
    dI.Kw.L4.le = "classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
    dI.Kw.L4.yV = {
        flipX: "{\"t\":\"bool\",\"v\":false}",
        flipY: "{\"t\":\"bool\",\"v\":false}"
    };
    dI.Kw.L4.a0N = {
        computedBrush: ["Hrdn", "Rndn"],
        sampledBrush: ["Nm", "Rndn", "sampledData"],
        dBrush: "Shp Dnst Lngt clumping thickness stiffness physics".split(" "),
        dTips: "dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")
    };
    dI.Kw.Dv = [
        [
            ["useTipDynamics"], "flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")
        ],
        [
            ["usePaintDynamics"],
            ["prVr", "opVr", "wtVr", "mxVr"]
        ],
        [
            ["useBrushPose"], "overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")
        ],
        [
            ["useTexture"], "TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")
        ],
        [
            ["useColorDynamics"], "clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")
        ],
        [
            ["useScatter"],
            ["Cnt", "countDynamics", "bothAxes", "scatterDynamics"]
        ],
        [
            ["useScatter", "bothAxes"],
            ["Spcn"]
        ]
    ];
    dI.Kw.le = "classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
    dI.Kw.yV = {
        useBrushSize: "{\"t\":\"bool\",\"v\":false}",
        useBrushPose: "{\"t\":\"bool\",\"v\":false}",
        brushGroup: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",
        flipX: "{\"t\":\"bool\",\"v\":false}",
        flipY: "{\"t\":\"bool\",\"v\":false}",
        brushProjection: "{\"t\":\"bool\",\"v\":false}",
        minimumDiameter: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
        minimumRoundness: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",
        tiltScale: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",
        szVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        angleDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        roundnessDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        prVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        opVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        wtVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        mxVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        overridePoseAngle: "{\"t\":\"bool\",\"v\":false}",
        overridePoseTiltX: "{\"t\":\"bool\",\"v\":true}",
        overridePoseTiltY: "{\"t\":\"bool\",\"v\":true}",
        overridePosePressure: "{\"t\":\"bool\",\"v\":true}",
        brushPosePressure: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",
        brushPoseTiltX: "{\"t\":\"long\",\"v\":0}",
        brushPoseTiltY: "{\"t\":\"long\",\"v\":0}",
        brushPoseAngle: "{\"t\":\"long\",\"v\":0}",
        TxtC: "{\"t\":\"bool\",\"v\":false}",
        interpretation: "{\"t\":\"bool\",\"v\":true}",
        textureBlendMode: "{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",
        textureDepth: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",
        minimumDepth: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",
        textureDepthDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        Txtr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",
        textureScale: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",
        InvT: "{\"t\":\"bool\",\"v\":false}",
        textureBrightness: "{\"t\":\"long\",\"v\":14}",
        textureContrast: "{\"t\":\"long\",\"v\":100}",
        Cnt: "{\"t\":\"doub\",\"v\":4}",
        countDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        bothAxes: "{\"t\":\"bool\",\"v\":false}",
        scatterDynamics: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        clVr: "{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",
        H: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
        Strt: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
        Brgh: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",
        purity: "{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",
        colorDynamicsPerTip: "{\"t\":\"bool\",\"v\":false}"
    };

    function bT(w, o) {
        this.adH = w;
        this.im = o == null ? 0 : o;
        this.dir = 0
    }
    bT.prototype.q3 = function(w, o) {
        var Q = this.adH,
            K = new fB(w.x - Q.x, w.y - Q.y),
            b = new dj;
        b.rotate(-this.im);
        K = b.hv(K);
        if (this.dir == 0 && !Q.Lb(w)) this.dir = Math.abs(K.x) < Math.abs(K.y) ? 1 : 2;
        if (o.i(E.lK)) {
            if (this.dir == 1) K.x = 0;
            if (this.dir == 2) K.y = 0
        }
        b.MF();
        K = b.hv(K);
        var R = new fB(Q.x + K.x, Q.y + K.y);
        return R
    };

    function dR(w, o, Q, K, b, R, X, h) {
        this.Pe = o;
        this.dg = Q;
        this.TT = R;
        this.EG = K;
        if (K.Oe == null) K.Oe = [!1, !0];
        this.sy = null;
        this._w = null;
        this.hN = 0;
        this.a08 = 0;
        this.agt = 0;
        this.tA = 0;
        this.BJ = 0;
        this.aiU = X;
        this.Ip = new B;
        this.oo = new B;
        this.rect = new B;
        if (h != null) {
            this.Sg = h
        } else {
            var e = dR.Wi;
            if (e.length != X.O() * 4) e = v.$(X.O() * 4);
            else e.fill(0);
            this.Sg = dR.Wi = e
        }
        this.rect = X.clone();
        this.oG = [];
        this.vV = [];
        this.w$ = null;
        this.x1 = 0;
        this.k = null;
        this.YV = "";
        this.u2 = null;
        this.PS(w, b)
    }
    dR.Wi = v.$(16);
    dR.prototype.PS = function(w, o) {
        this.x1 = o;
        this.k = w;
        this.YV = JSON.stringify(w) + JSON.stringify(this.EG.Vl);
        this.u2 = dR.ags(w, this.Pe, this.dg)
    };
    dR.prototype.moveTo = function(w, o, Q) {
        Q = this.ta(Q);
        this.hN = Q;
        var K = new fB(w, o),
            b = this.k.Brsh.v.Dmtr.v.val;
        this.sy = K.clone();
        this._w = K.clone();
        this.w$ = K.clone();
        this.oG = [w, o];
        this.vV = [Q];
        var R = this.EG.Oe;
        if (this.EG.Yg != dR.CJ) this.qq(this.eq(K, this.OR() * (R[1] ? Q : 1), this.EG.FV * (R[0] ? Q * .5 : 1), new fB(0, 0)));
        this.tA = K.clone()
    };
    dR.prototype.lineTo = function(w, o, Q) {
        Q = this.ta(Q);
        var K = this.oG,
            b = K.length,
            R = K[b - 2],
            X = K[b - 1];
        if (w == R && o == X) return;
        var h = this.k.Brsh.v.Dmtr.v.val,
            e = Math.ceil(h) + 1,
            Z = new B(Math.round(R), Math.round(X), 0, 0);
        Z.Nn(e, e);
        var P = new B(Math.round(w), Math.round(o), 0, 0);
        P.Nn(e, e);
        this.LA(Z.OX(P));
        this.oG.push(w, o);
        this.vV.push(Q);
        b += 2;
        if (b >= 6) this.qq(this._S(b))
    };
    dR.prototype.ta = function(w) {
        if (w == null) w = 1;
        w = Math.max(.05, Math.min(5, w));
        if (isNaN(w)) {
            alert("Pressure is not a number");
            throw "e"
        }
        return w
    };
    dR.prototype.qq = function(w) {
        this.Ip = w;
        this.oo = this.oo.OX(w)
    };
    dR.prototype.finish = function() {
        var w = this.oG,
            o = w.length,
            Q;
        if (o == 4) Q = this.$n(w[o - 2], w[o - 1], this.vV[(o >> 1) - 1], !0);
        if (o > 4) Q = this._S(o + 2);
        if (Q) this.qq(Q)
    };
    dR.prototype._S = function(w) {
        var o = this.oG,
            Q = this.vV,
            K = o[w - 6],
            b = o[w - 5],
            R = o[w - 4],
            X = o[w - 3],
            h = Q[(w >> 1) - 3],
            e = Q[(w >> 1) - 2],
            Z = new fB(0, 0),
            P = new fB(0, 0);
        if (8 <= w) Z = dR.gV(o[w - 8], o[w - 7], K, b, R, X);
        if (w <= o.length) P = dR.gV(o[w - 2], o[w - 1], R, X, K, b);
        var J = K + Z.x,
            i = b + Z.y,
            k = R + P.x,
            $ = X + P.y,
            n = new B;
        for (var M = 0; M < 10; M++) {
            var j = (M + 1) * .1,
                y = 1 - j,
                V = y * y * y * K + 3 * j * y * y * J + 3 * j * j * y * k + j * j * j * R,
                O = y * y * y * b + 3 * j * y * y * i + 3 * j * j * y * $ + j * j * j * X,
                S = this.$n(V, O, h + j * (e - h));
            n = n.OX(S)
        }
        return n
    };
    dR.gV = function(w, o, Q, K, b, R) {
        var X = w - Q,
            h = o - K,
            e = b - Q,
            Z = R - K,
            P = Math.sqrt(X * X + h * h),
            J = Math.sqrt(e * e + Z * Z),
            i = Math.acos((X * e + h * Z) / (P * J)) / Math.PI,
            k = .35,
            $ = .1;
        i = $ + i * (k - $);
        var n = b - w,
            j = R - o,
            y = Math.sqrt(n * n + j * j),
            V = i * J / y;
        return new fB(n * V, j * V)
    };
    dR.prototype.$n = function(w, o, Q, K) {
        var b = new B,
            R = this.EG.acS;
        if (R == null) R = 0;
        if (R == 0 || K) {
            b = this.Jn(w, o, Q);
            return b
        }
        var X = this.w$,
            h = w - X.x,
            e = o - X.y,
            Z = Math.sqrt(h * h + e * e);
        h /= Z;
        e /= Z;
        if (Z > R) {
            var P = X.x + h * (Z - R),
                J = X.y + e * (Z - R);
            b = this.Jn(P, J, Q);
            this.w$.qQ(P, J)
        }
        return b
    };
    dR.prototype.Jn = function(w, o, Q) {
        var K = new B,
            b = new fB(w, o),
            R = this.k.Brsh.v.Dmtr.v.val,
            X = this.EG.Yg,
            h = b.ZO(this._w);
        h.normalize(1);
        var e = fB.mp(this._w, b),
            Z = -this.a08,
            P = this._w.clone(),
            J = this.EG.Oe;
        while (!0) {
            var i = this.hN + (Q - this.hN) * (Math.max(0, Z) / e),
                k = this.OR() * (J[1] ? i : 1),
                $ = this.ak_() * (k + this.agt) / 2;
            if (X == dR.CJ) $ = 1;
            if (Z + $ < e) {
                Z += $;
                var n = new fB(this._w.x + h.x * Z, this._w.y + h.y * Z),
                    V = 1;
                if (X == dR.CJ) {
                    var j = P.clone();
                    j.x += h.x > 0 ? 1 : -1;
                    var y = P.clone();
                    y.y += h.y > 0 ? 1 : -1;
                    if (fB.mp(j, n) < fB.mp(y, n)) n = j;
                    else n = y;
                    Z = fB.mp(n, this._w)
                }
                if (this.k.useScatter.v == !0) {
                    V = this.k.Cnt.v;
                    var O = this.k.countDynamics.v.jitter.v.val / 100,
                        S = O * (-1 + 2 * this.OL());
                    V += Math.round(V * S)
                }
                for (var M = 0; M < V; M++) {
                    var G = this.eq(n, k, this.EG.FV * (J[0] ? i * .5 : 1), h);
                    K = K.OX(G)
                }
                P = n
            } else break
        }
        this.a08 = e - Z;
        this._w = b;
        this.hN = Q;
        return K
    };
    dR.prototype.ak_ = function() {
        var w = this.k.Brsh.v,
            o = w.Spcn.v.val,
            Q = Math.max(5, w.Rndn.v.val);
        return Q / 100 * (o / 100)
    };
    dR.prototype.OR = function() {
        var w = this.k,
            o = w.Brsh.v.Dmtr.v.val;
        if (w.useTipDynamics.v) {
            var Q = o * (w.minimumDiameter.v.val / 100);
            o = Q + (o - Q) * (1 - this.OL() * (w.szVr.v.jitter.v.val / 100))
        }
        return o
    };
    dR.prototype.eq = function(w, o, Q, K) {
        Q = Math.min(1, Q);
        var b = this.k,
            R = this.k.Brsh.v,
            X = R.Dmtr.v.val,
            h = this.EG,
            e = h.Yg,
            Z = h.a8x,
            P = new dj;
        P.translate(-this.u2.pr.D / 2, -this.u2.pr.j / 2);
        P.scale(1 / this.u2.a7g, 1 / this.u2.a7g);
        P.scale(o / X, o / X);
        P.scale(1, Math.max(5, R.Rndn.v.val) / 100);
        if (b.useTipDynamics.v) {
            var J = b.minimumRoundness.v.val / 100;
            P.scale(1, J + (1 - J) * Math.round(100 - this.OL() * b.roundnessDynamics.v.jitter.v.val) / 100);
            P.rotate((-.5 + this.OL()) * 4 * Math.PI * (b.angleDynamics.v.jitter.v.val / 100))
        }
        P.rotate(R.Angl.v.val * (Math.PI / 180));
        if (b.useScatter.v) {
            var i = (-1 + 2 * this.OL()) * b.scatterDynamics.v.jitter.v.val / 100;
            P.translate(-i * o * K.y, i * o * K.x)
        }
        P.translate(w.x, w.y);
        var k = this.a48(P, w);
        this.LA(k.rect);
        var $ = k.rect.clone();
        if (e == null) {
            var n = this.c2(b);
            v.Fw(k.VC, Math.round(n.k * 255) << 16 | Math.round(n.a * 255) << 8 | Math.round(n.W * 255) << 0, 4278190080);
            if (this.oo.Kx() && this.rect.Lb(k.rect) && Q == 1) this.Sg = k.VC.slice(0);
            else v.M.a1u(k.VC, k.rect, this.Sg, this.rect, k.rect, Q)
        }
        if (e == dR.CJ) {
            var j = new fB(k.rect.x + k.rect.D / 2, k.rect.y + k.rect.j / 2),
                y = Math.round(j.x - this.tA.x),
                V = Math.round(j.y - this.tA.y),
                O = k.rect.clone();
            O.offset(-y, -V);
            var S = O.z2(this.rect);
            S.offset(y, V);
            v.c1(this.Sg, this.rect, k.VC, O);
            v.M.pd(k.VC, k.rect, this.Sg, this.rect, k.eQ, k.rect, Q)
        }
        if (e == dR.je || e == dR.hP || e == dR.Ws) {
            var G = k.rect.z2(this.rect),
                D;
            if (G.Lb(k.rect)) D = k.eQ;
            else {
                D = v.$(G.O());
                v.Hp(k.eQ, k.rect, D, G)
            }
            var q = v.$(G.O() * 4);
            v.c1(this.Sg, this.rect, q, G);
            if (e == dR.hP) {
                var T = v.clone(q),
                    L = v.xt.I0([-1, -1, -1, -1, 25, -1, -1, -1, -1]);
                v.xt.iH(q, T, G.D, G.j, L, 0);
                v.gb(T, q)
            } else if (e == dR.Ws) {
                var N = bf._R("UnsM");
                N.Amnt.v.val = 15;
                N.Thsh.v = 0;
                N.Rds.v.val = 5;
                var T = v.$(q.length);
                bf.WL("UnsM", {
                    buffer: q,
                    rect: G
                }, N, 0, 0, {
                    buffer: T,
                    rect: G
                });
                v.gb(T, q)
            } else {
                bf.__(1, v.PF.Nx, q, G)
            }
            v.M.pd(q, G, this.Sg, this.rect, D, G, Q)
        }
        this.agt = o;
        this.tA = j;
        return $
    };
    dR.prototype.c2 = function(w) {
        var o = dR.fJ(this.x1);
        if (w.useColorDynamics && w.useColorDynamics.v) {
            var Q = 1 - this.OL() * w.clVr.v.jitter.v.val / 100,
                K = dR.fJ(this.TT);
            o.W = Q * o.W + (1 - Q) * K.W;
            o.a = Q * o.a + (1 - Q) * K.a;
            o.k = Q * o.k + (1 - Q) * K.k;
            var b = (-.5 + this.OL()) * w.H.v.val / 100,
                R = (-1 + 2 * this.OL()) * w.Strt.v.val / 100,
                X = (-1 + 2 * this.OL()) * w.Brgh.v.val / 100,
                h = v.Zd(o.W, o.a, o.k);
            h.Y7 = (h.Y7 + b + 1) % 1;
            h.sa = h.sa + R;
            if (h.sa < 0) h.sa = -h.sa;
            if (h.sa > 1) h.sa = 1 - (h.sa - 1);
            h.O_ = h.O_ + X;
            if (h.O_ < 0) h.O_ = -h.O_;
            if (h.O_ > 1) h.O_ = 1 - (h.O_ - 1);
            o = v.rp(h.Y7, h.sa, h.O_)
        }
        return o
    };
    dR.prototype.Kw = function(w) {
        return Math.max(0, Math.min(1, w))
    };
    dR.prototype.OL = function() {
        this.BJ++;
        return dR.hash(this.BJ)
    };
    dR.fJ = function(w) {
        return {
            W: (w >> 16 & 255) / 255,
            a: (w >> 8 & 255) / 255,
            k: (w >> 0 & 255) / 255
        }
    };
    dR.hash = function(w) {
        w = w ^ 61 ^ w >> 16;
        w = w + (w << 3);
        w = w ^ w >> 4;
        w = w * 668265261;
        w = w ^ w >> 15;
        return (w & 16777215) / 16777215
    };
    dR.IG = [];
    dR.a4X = function(w, A) {
        var o = w.Qz(),
            Q = A.Qz();
        if (o < Q) {
            var K = o;
            o = Q;
            Q = K
        }
        var b = w.K - A.K,
            R = w.k - A.k,
            X = w.Lu - A.Lu,
            h = w.TX - A.TX;
        return Q != 0 && o - Q < .025 && Math.max(b * b, R * R, X * X, h * h) <= .01
    };
    dR.prototype.a48 = function(w, o) {
        var Q = null,
            R;
        for (var M = 0; M < dR.IG.length; M++)
            if (dR.IG[M].YV == this.YV) {
                Q = dR.IG[M];
                dR.IG.splice(M, 1)
            } if (Q == null) Q = {
            iw: [],
            YV: this.YV,
            nq: 0,
            O: 0
        };
        var K = Q.iw,
            b = this.EG.Vl;
        if (b) {
            w = w.clone();
            w.xy = Math.floor(w.xy);
            w.r6 = Math.floor(w.r6)
        }
        var X = dR.Sz(w.xy, w.r6);
        for (var M = 0; M < K.length; M++) {
            var h = K[M];
            if (!dR.a4X(h.Wz, w)) continue;
            if (dR.abR(h.kL, X) < .2 || h.rect.O() > 2500) {
                R = h;
                break
            }
        }
        var e = Math.round(this.k.Brsh.v.Dmtr.v.val);
        if (R) {
            R.rect.x = Math.round(R.kK.x - R.Wz.xy + w.xy);
            R.rect.y = Math.round(R.kK.y - R.Wz.r6 + w.r6);
            if (b) {
                R.rect.x = Math.round(o.x - R.rect.D / 2);
                R.rect.y = Math.round(o.y - R.rect.j / 2)
            }
            R.nq = Date.now()
        } else {
            var Z;
            if (b && e <= 3) {
                Z = {
                    buffer: v.$(e * e * 4),
                    rect: new B(Math.round(o.x - e / 2), Math.round(o.y - e / 2), e, e)
                };
                v.Fw(Z.buffer, 4278190080)
            } else if (w.K == 1 && w.k == 0 && w.Lu == 0 && w.TX == 1) {
                Z = {
                    buffer: this.u2.VC,
                    rect: this.u2.pr.clone()
                };
                Z.rect.x = Math.round(w.xy);
                Z.rect.y = Math.round(w.r6)
            } else Z = z.Z.OU([this.u2.VC, this.u2.pr], w);
            if (b) {
                for (var M = 0; M < Z.buffer.length; M++) Z.buffer[M] = Z.buffer[M] > 127 ? 255 : 0
            }
            if (Z == null) Z = {
                buffer: v.$(0),
                rect: new B
            };
            var P = w.xy - Math.floor(w.xy),
                J = w.r6 - Math.floor(w.r6);
            R = {
                VC: Z.buffer,
                eQ: v.$(Z.rect.O()),
                rect: Z.rect,
                kK: Z.rect.clone(),
                Wz: w,
                kL: dR.Sz(w.xy, w.r6),
                nq: Date.now()
            };
            v.KU(R.VC, R.eQ, 3);
            K.push(R);
            Q.O += Z.rect.O();
            if (K.length > 2e3 || Q.O > 100 * 100 * 400) {
                console.log("pruning", Q.O, K.length);
                K.sort(function(k, $) {
                    return $.nq - k.nq
                });
                while (K.length > 1e3 || Q.O > 100 * 100 * 200) {
                    var i = K.pop();
                    Q.O -= i.rect.O()
                }
            }
        }
        Q.iw = K;
        Q.nq = Date.now();
        dR.IG.push(Q);
        dR.IG.sort(function(k, $) {
            return $.nq - k.nq
        });
        while (dR.IG.length > 3) dR.IG.pop();
        return R
    };
    dR.Sz = function(w, o) {
        return new fB(w - Math.floor(w), o - Math.floor(o))
    };
    dR.abR = function(w, o) {
        var Q = o.x,
            K = o.y,
            b = Math.abs(Q - w.x),
            R = Math.abs(K - w.y);
        if (Math.abs(Q - 1 - w.x) < b) Q--;
        else if (Math.abs(Q + 1 - w.x) < b) Q++;
        if (Math.abs(K - 1 - w.y) < R) K--;
        else if (Math.abs(K + 1 - w.y) < R) K++;
        b = w.x - Q;
        R = w.y - K;
        return Math.sqrt(b * b + R * R)
    };
    dR.prototype.LA = function(w) {};
    dR.ags = function(w, o, Q) {
        var K, b, R, X = w.Brsh.v.Dmtr.v.val;
        if (w.Brsh.v.classID == "computedBrush") {
            var h = w.Brsh.v.Hrdn.v.val / 100,
                e = 1 + .55 * (1 - h);
            R = X < 100 ? 1.2 : 1;
            var Z = Math.round(R * X * e);
            b = new B(0, 0, Z, Z);
            K = v.$(Z * Z * 4);
            var P = new Uint32Array(K.buffer),
                J = Z / 2,
                i = e / J,
                k = Date.now(),
                $ = dR.Yv(h),
                n = Math.round(8e3 / J),
                o = $[0],
                j = $[1] - n,
                y = $[2] + n,
                V = Math.min(Z, (Z >>> 1) + 1);
            for (var M = 0; M < V; M++) {
                var O = i * (M - J + .25);
                O *= O;
                var S = i * (M - J + .75);
                S *= S;
                var G = M * Z,
                    D = (Z - 1 - M) * Z;
                for (var q = 0; q < V; q++) {
                    var T = i * (q - J + .25),
                        L = Math.floor(Math.sqrt(T * T + O) * (4e3 / 1.55));
                    if (y < L) continue;
                    else if (L < j) {
                        var N = 4278190080;
                        while (q < V) {
                            var F = Z - 1 - q;
                            P[G + q] = N;
                            P[G + F] = N;
                            P[D + q] = N;
                            P[D + F] = N;
                            q++
                        }
                        break
                    } else {
                        var I = i * (q - J + .75),
                            s = Math.floor(Math.sqrt(I * I + O) * (4e3 / 1.55)),
                            u = Math.floor(Math.sqrt(T * T + S) * (4e3 / 1.55)),
                            g = Math.floor(Math.sqrt(I * I + S) * (4e3 / 1.55)),
                            N = ~~(.5 + 255 * .25 * (o[L] + o[s] + o[u] + o[g])) << 24,
                            F = Z - 1 - q;
                        P[G + q] = N;
                        P[G + F] = N;
                        P[D + q] = N;
                        P[D + F] = N
                    }
                }
            }
        }
        if (w.Brsh.v.classID == "sampledBrush") {
            var U;
            for (var M = 0; M < o.length; M++)
                if (o[M].id == w.Brsh.v.sampledData.v) U = o[M];
            b = new B(0, 0, U.U.D, U.U.j);
            R = Math.max(b.D, b.j) / X;
            K = v.$(b.O() * 4);
            v.qh(U.channel, K, 3)
        }
        while (Math.min(b.D, b.j) > X * 2) {
            var r = new B(b.x, b.y, Math.floor(b.D / 2), Math.floor(b.j / 2)),
                x = z.Z.OU([K, b], new dj(r.D / b.D, 0, 0, r.j / b.j, 0, 0));
            R *= r.D / b.D;
            b = x.rect;
            K = x.buffer
        }
        return {
            a7g: R,
            pr: b,
            VC: K
        }
    };
    dR.Wx = [];
    dR.Yv = function(w) {
        if (dR.Wx[w]) return dR.Wx[w];
        var o = Math.pow(w, .55),
            Q = new Float64Array(8e3),
            K = 0,
            b = 8e3;
        for (var M = 0; M < 8e3; M++) {
            var R = dR.a9X(M * (1.55 / 4e3), o);
            if (R >= 1) K = M;
            else if (R <= 0 && b == 8e3) b = M;
            Q[M] = R
        }
        var X = [Q, K, b];
        dR.Wx[w] = X;
        return X
    };
    dR.a9X = function(w, o) {
        var Q = w < o ? 1 : dR.a2a((w - o) / Math.pow(1.001 - o, .86));
        return Q
    };
    dR.a2a = function(w) {
        var o = w * .85;
        return Math.exp(-(o * o) * (1 / (2 * .4 * .4))) * (1 / (.4 * Math.sqrt(2 * Math.PI)))
    };
    dR.prototype.vG = function() {
        return this.rect.clone()
    };
    dR.prototype.x8 = function() {
        return this.Ip.z2(this.rect)
    };
    dR.prototype.Tj = function() {
        return this.oo.z2(this.rect)
    };
    dR.prototype.bK = function() {
        return this.Sg
    };
    dR.Q8 = null;
    dR.H3 = null;
    dR.Il = function(w, o, Q, K, b, R) {
        var X = dR.Q8,
            h = dR.H3;
        if (X == null) {
            dR.Q8 = X = _.B("canvas", "");
            dR.H3 = h = X.getContext("2d")
        }
        if (R == null) R = K;
        if (X.width != R || X.height != b) {
            X.width = R;
            X.height = b
        } else h.clearRect(0, 0, R, b);
        h.fillStyle = "#000000";
        h.font = Math.floor(10 * _.J()) + "px sans-serif";
        var e = w.Brsh.v.Dmtr.v.val,
            Z = "" + e,
            P = h.measureText(Z);
        h.fillText(Z, (K - P.width) / 2, b - 2);
        var J = K,
            i = b - 10 * _.J(),
            k = Math.min(J, i),
            $ = w.Brsh.v.classID;
        if ($ == "computedBrush") {
            h.translate(J / 2, i / 2);
            h.rotate(-w.Brsh.v.Angl.v.val * Math.PI / 180);
            h.scale(1, .1 + .9 * w.Brsh.v.Rndn.v.val / 100);
            var n = Math.min(.95 * k / 2, e / 2) + .5,
                j = .9 * w.Brsh.v.Hrdn.v.val / 100,
                y = h.createRadialGradient(0, 0, 0, 0, 0, n);
            y.addColorStop(j, "rgba(0,0,0,1)");
            y.addColorStop((.5 + j) / 1.5, "rgba(0,0,0,.5)");
            y.addColorStop(1, "rgba(0,0,0,0)");
            h.fillStyle = y;
            h.fillRect(-n, -n, 2 * n, 2 * n);
            h.setTransform(1, 0, 0, 1, 0, 0)
        } else if ($ == "sampledBrush") {
            var V, q = 0;
            for (var M = 0; M < o.length; M++)
                if (o[M].id == w.Brsh.v.sampledData.v) V = o[M];
            var O = V.ajn;
            if (O == null) {
                O = V.ajn = [V.channel, V.U];
                v.rf(O)
            }
            var S = V.channel,
                G = V.U.D,
                D = V.U.j;
            while ((G > J || D > i) && O[q + 2]) {
                q += 2;
                S = O[q];
                G = O[q + 1].D;
                D = O[q + 1].j
            }
            if (G * D != 0) {
                var T = v.$(G * D * 4);
                v.qh(S, T, 3);
                var L = new ImageData(new Uint8ClampedArray(T.buffer), G, D);
                h.putImageData(L, Math.round((J - G) / 2), Math.round((i - D) / 2))
            }
        } else {}
        return X.toDataURL()
    };
    dR.Ul = function(w, o, Q, K) {
        if (Q == 0) Q = 1;
        var b = w.Brsh.v,
            R = b.Dmtr.v.val,
            X = b.Dmtr.v.val = Math.min(K != null ? Math.round(K * 2.6) : 3e3, R * Q),
            h = b.Hrdn ? b.Hrdn.v.val / 100 : 1,
            e = K != null ? K : Math.round(X * (1 + .55 * (1 - h))) + 4,
            J;
        e = Math.max(15, Math.min(e, 3e3));
        var Z = new B(0, 0, e, e),
            P = new dR(w, o, null, {
                FV: 1
            }, 16711712, 0, Z);
        b.Dmtr.v.val = R;
        P.moveTo(Z.D / 2, Z.j / 2);
        var i = P.bK(),
            k = P.vG();
        if (Z.Lb(k)) J = i;
        else {
            J = v.$(Z.O() * 4);
            v.c1(i, k, J, Z)
        }
        return [J, Z, X]
    };
    dR.VV = function(w, o, Q, K) {
        var b = dR.Ul(w, o, Q),
            R = b[0].slice(0),
            X = b[1],
            h = b[2],
            e = X.O(),
            Z = v.$(e);
        v.KU(R, Z, 3);
        var P = v.$(e);
        v.o.ace(Z, P, X);
        if (h < 3 || v.$u(P, 0) || K && h > 12) {
            var J = X.D,
                i = J >>> 1,
                k = P,
                $ = 255;
            for (var M = 0; M < 4; M++) {
                k[J * (i - 6 + M) + i] = $;
                k[J * i + i - 6 + M] = $;
                k[J * i + i + 6 - M] = $;
                k[J * (i + 6 - M) + i] = $
            }
        }
        var n = [1, 2, 1, 2, 8, 2, 1, 2, 1];
        n = v.xt.I0(n);
        v.xt.abL(P, Z, X.D, X.j, n);
        v.Fw(R, 4294967295);
        v.qh(Z, R, 3);
        for (var M = 0; M < e; M++)
            if (P[M] == 255) {
                R[M << 2] = R[(M << 2) + 1] = R[(M << 2) + 2] = 0;
                R[(M << 2) + 3] = 255
            } return {
            Cm: R,
            U: X,
            Ut: new fB(X.D / 2, X.j / 2)
        }
    };
    dR.CJ = "0";
    dR.je = "1";
    dR.hP = "2";
    dR.Ws = "3";
    var g1 = {};
    g1.Ez = function(w, o) {
        var Q = w.PY(),
            e;
        if (Q.x == Infinity || Q.Kx()) return {
            Sg: v.$(0),
            U: new B,
            Hu: new B
        };
        var K = w.PY(),
            b = g1.bU(w, o),
            R = v.w.C$(b.X);
        if (R.Kx()) return {
            Sg: v.$(0),
            U: new B,
            Hu: new B
        };
        var X = _.B("canvas", "");
        X.width = R.D;
        X.height = R.j;
        var h = X.getContext("2d");
        h.translate(-R.x, -R.y);
        g1.a3b(b, h);
        if (w.Bq.length != 0) {
            var Z = fI.bT(o),
                P = h.getImageData(0, 0, R.D, R.j);
            e = new Uint8Array(P.data.buffer);
            if (Z == 0)
                for (var M = 0; M < e.length; M += 4) e[M + 3] = e[M + 3] > 80 ? 255 : 0;
            if (Z == 3)
                for (var M = 0; M < e.length; M += 4) e[M + 3] = Math.min(255, e[M + 3] * 1.5)
        } else e = v.$(R.O() * 4);
        return {
            Sg: e,
            U: R,
            Hu: K
        }
    };
    g1.bU = function(w, o) {
        var Q = {
                Y: [],
                X: []
            },
            K = o.H,
            b = fI.bT(o),
            R = Math.max(K.k * K.k, K.Lu * K.Lu) < 1e-9 ? K : null;
        if (b == 3 || b == 4) R = null;
        g1.a4j(w, Q, R);
        if (!v.AD.WZ(o.OJ)) {
            var X = v.w.QT(Q.X);
            Q = v.w.NB(Q);
            Q = v.w.bR(Q, Math.min(X.D, X.j) / 8);
            var h = fI.vG(o, w),
                e = v.AD.rh(o.OJ, h);
            v.sp.apply(e, Q.X, h)
        }
        v.w.H(Q.X, K, Q.X);
        return Q
    };
    g1.a3b = function(w, o) {
        Typr.U.pathToContext({
            crds: w.X,
            cmds: w.Y
        }, o)
    };
    g1.Yk = function(w, o) {
        if (!gm.zn()) return;
        var Q = w.rr,
            K = Q.ResourceDict.FontSet,
            b = Q.ResourceDict.StyleSheetSet[0].StyleSheetData,
            R = Q.EngineDict.StyleRun.RunLengthArray,
            X = Q.EngineDict.StyleRun.RunArray,
            h = fI.KG(Q),
            e = !0,
            Z = {},
            P = 0;
        for (var M = 0; M < X.length; M++) {
            var J = X[M].StyleSheet.StyleSheetData.Font;
            if (J == null) J = b.Font;
            for (var i = 0; i < R[M]; i++) {
                var k = h.charCodeAt(P + i),
                    $ = J + "," + (k > 128 ? k : -1);
                if (Z[$] == null) {
                    Z[$] = 1;
                    if (o.aS(K[J].Name, k) == null) e = !1
                }
            }
            P += R[M]
        }
        return e
    };
    g1.a4j = function(w, o, Q) {
        var K = new dj;
        for (var M = 0; M < w.j_.length; M++) g1.a6S(w.Bq, w.j_[M], o, K, Q)
    };
    g1.a6S = function(w, o, Q, K, b) {
        K.translate(o.kL.x, o.kL.y);
        for (var M = 0; M < o.JR.length; M++) {
            var R = {},
                X = o.JR[M];
            if (!X.bE) break;
            var h = K.clone();
            h.translate(X.kL.x, X.kL.y);
            if (b) {
                var e = b.r6 + h.r6 * b.TX;
                h.r6 = (Math.round(e) - b.r6) / b.TX
            }
            for (var Z = X.start; Z < X.end; Z++) g1.a4p(w, o.GH[Z], o, R, Q, h)
        }
        K.translate(-o.kL.x, -o.kL.y)
    };
    g1.alw = "()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
    g1.a4p = function(w, o, Q, K, b, R) {
        R.translate(o.kL.x, o.kL.y);
        for (var X = o.Zu; X <= o.Wk; X++) {
            var h = Q.sZ[X],
                e = h.U.D,
                Z = w[Q.aj_ + h.T1];
            if (Z.NP == "\n") continue;
            var P = Z.a5.FontSize / Z.qu.head.unitsPerEm,
                J = fI.c2(Z.a5),
                i = (Math.round(J.W) << 16) + (Math.round(J.a) << 8) + Math.round(J.k);
            b.Y.push("#" + v.u9(i));
            var k = R.clone();
            k.translate(h.kL.x + h.ev * P, h.kL.y - h.jB * P);
            var $ = new dj;
            $.scale(P, -P);
            if (Z.rg == 1 && g1.alw.indexOf(Z.NP) != -1) $.concat(new dj(-1, 0, 0, 1, e, 0));
            if (Z.a5.FauxItalic) $.concat(new dj(1, 0, -Math.tan(.18), 1, 0, 0));
            $.translate(0, Z.jw);
            $.scale(Z.scale.x, Z.scale.y);
            if (Z.a5.BaselineShift != null) $.translate(0, -Z.a5.BaselineShift);
            if (h.im != 0) {
                $.rotate(-h.im)
            }
            $.concat(k);
            if (h.path.Y.length != 0 && Z.NP != "\t") {
                if (Z.a5.FauxBold) {
                    var n = Z.a5.FontSize / 2048 * 27 * Z.scale.x;
                    $.xy += n;
                    v.w.concat(b, h.path, $);
                    $.xy -= n + n;
                    v.w.concat(b, h.path, $)
                } else v.w.concat(b, h.path, $)
            }
            if (Z.NP != "\n") {
                if (Z.a5.Underline) {
                    if (K.MC == null) K.MC = Z.qu.post.underlineThickness;
                    if (K.adR == null) K.adR = Z.qu.post.underlinePosition;
                    var j = 0,
                        y = K.adR - K.MC / 2,
                        V = h.qb * 1.05,
                        O = -K.MC;
                    v.w.concat(b, {
                        Y: ["M", "L", "L", "L", "Z"],
                        X: [j, y, j + V, y, j + V, y + O, j, y + O]
                    }, $)
                }
                if (Z.a5.Strikethrough) {
                    var S = Z.qu["OS/2"].yStrikeoutSize,
                        G = Z.qu["OS/2"].yStrikeoutPosition,
                        j = 0,
                        y = G + S / 2,
                        V = h.qb * 1.05,
                        O = -S;
                    v.w.concat(b, {
                        Y: ["M", "L", "L", "L", "Z"],
                        X: [j, y, j + V, y, j + V, y + O, j, y + O]
                    }, $)
                }
            }
            b.Y.push("X")
        }
        R.translate(-o.kL.x, -o.kL.y)
    };

    function gm(w, o) {
        var Q = fI.bv(w),
            K, b, R = fI.YN(w),
            e;
        if (w.Curve) b = gm.DP(w.Curve);
        if (Q != 0) {
            K = new B(R[0], R[1], R[2], R[3]);
            if (Q == 2) {
                K.D = b[5] - b[4];
                K.j = 9999
            }
        }
        this.j_ = [];
        this.Bq = [];
        this.BL = Q;
        var X = this.ad5 = fI.KG(w),
            h = -1;
        for (var M = 0; M < X.length; M++) {
            var Z = e,
                P = fI.lG(w, M);
            if (P != h) {
                h = P;
                Z = e = fI.aa2(w, M)
            }
            var J = {
                    NP: X.charAt(M),
                    a5: Z,
                    qu: null,
                    l0: -1,
                    jw: 0,
                    scale: new fB(0, 0),
                    qn: 0,
                    lineHeight: 0,
                    rg: 0
                },
                i = w.ResourceDict.FontSet[Z.Font].Name,
                k = J.qu = o.aS(i, X.charCodeAt(M));
            J.scale.x = Z.HorizontalScale == null ? 1 : Z.HorizontalScale;
            J.scale.y = Z.VerticalScale == null ? 1 : Z.VerticalScale;
            var $ = k["OS/2"],
                n = k.hhea;
            if (Z.FontCaps == 1 && J.NP != J.NP.toUpperCase()) {
                var j = $.sxHeight ? $.sxHeight / $.sTypoAscender : .76;
                J.scale.x *= j;
                J.scale.y *= j
            }
            var y = 1 / k.head.unitsPerEm * Z.FontSize;
            if (Z.FontBaseline == 1) {
                var j = w.ResourceDict.SuperscriptSize;
                J.scale.x *= j;
                J.scale.y *= j;
                J.jw -= w.ResourceDict.SuperscriptPosition * Z.FontSize
            }
            if (Z.FontBaseline == 2) {
                var j = w.ResourceDict.SubscriptSize;
                J.scale.x *= j;
                J.scale.y *= j;
                J.jw += w.ResourceDict.SubscriptPosition * Z.FontSize
            }
            var V = gm.qn(k, i);
            J.qn = V * y;
            J.lineHeight = Z.FontSize * 1.2;
            if (Z.AutoLeading == !1) J.lineHeight = Z.Leading;
            if (J.lineHeight == 0) J.lineHeight = .001;
            this.Bq.push(J)
        }
        var O = this.j_,
            S = [0];
        for (var M = 0; M < w.EngineDict.ParagraphRun.RunLengthArray.length; M++) {
            var G = new gm.i$(w, o, this.Bq, M, K, S, Q == 1 ? b : null);
            O.push(G)
        }
        if (Q == 2) {
            var D = w.Curve.Points,
                q = b[0],
                T = b[1],
                L = b[2],
                N = b[3],
                F = b[4],
                I = b[5];
            for (var M = 0; M < O.length; M++)
                for (var s = 0; s < O[M].JR.length; s++)
                    if (!(M == 0 && s == 0)) O[M].JR[s].bE = !1;
            var G = O[0],
                u = G.JR[0];
            G.kL.qQ(0, 0);
            u.kL.qQ(0, 0);
            for (var s = u.start; s < u.end; s++) {
                var g = G.GH[s],
                    U = g.kL.x;
                g.kL.x = 0;
                for (var r = g.Zu; r <= g.Wk; r++) {
                    var x = G.sZ[r],
                        C = x.U.D / 2;
                    x.kL.x += U;
                    var p = gm.a8f(q, (F + x.kL.x + C) % N);
                    x.kL.x = p[0] - C * p[2];
                    x.kL.y = p[1] - C * p[3];
                    x.im = Math.atan2(p[3], p[2])
                }
            }
        }
    }
    gm.qn = function(w, o) {
        var Q = w["OS/2"],
            K = w.hhea,
            b = 0,
            b = 0,
            R = [];
        R.push(Q && Q.sxHeight && o.toLowerCase().indexOf("capitals") != -1 ? Q.sxHeight : 0);
        R.push(Q && Q.sCapHeight ? Q.sCapHeight : 0);
        R.push(Q && Q.sTypoAscender ? Q.sTypoAscender : 0);
        R.push(K.ascender ? K.ascender : 0);
        for (var X = 0; X < R.length; X++)
            if (R[X] != 0) {
                b = R[X];
                break
            } return b
    };
    gm.prototype.a0d = function() {
        return !this.lH(0)
    };
    gm.prototype.a1v = function() {
        return this.lH(1)
    };
    gm.prototype.lH = function(w) {
        var o = this.j_,
            Q = !0,
            K = 0;
        for (var M = 0; M < o.length; M++) {
            var b = o[M].JR,
                R = b.length;
            K += R;
            for (var X = 0; X < R; X++) Q &= b[X].bE
        }
        return [Q, K][w]
    };
    gm.DP = function(w) {
        var o = w.Points,
            Q = o.length,
            K = Q >>> 3,
            b = w.TextOnPathTRange,
            R = w.Reversed,
            P = 0,
            J = 0;
        if (R) {
            var X = o.slice(0);
            for (var M = 0; M < Q; M += 2) {
                X[M] = o[Q - 2 - M];
                X[M + 1] = o[Q - 1 - M]
            }
            o = X;
            b = [K - b[1] % K, K - b[0] % K]
        }
        var h = [],
            e = [0],
            Z = [0];
        for (var M = 0; M < Q; M += 8) {
            var i = o[M + 6] - o[M + 0],
                k = o[M + 7] - o[M + 1],
                $ = Math.round(4 * Math.sqrt(i * i + k * k));
            for (var n = 0; n < $; n++) {
                var j = n / $,
                    y = 1 - j,
                    V = y * y * y * o[M + 0] + 3 * y * y * j * o[M + 2] + 3 * y * j * j * o[M + 4] + j * j * j * o[M + 6],
                    O = y * y * y * o[M + 1] + 3 * y * y * j * o[M + 3] + 3 * y * j * j * o[M + 5] + j * j * j * o[M + 7];
                h.push(V, O);
                if (M + n != 0) {
                    var i = V - P,
                        k = O - J;
                    Z.push(Z[Z.length - 1] + Math.sqrt(i * i + k * k));
                    e.push((M >>> 3) + j)
                }
                P = V;
                J = O
            }
        }
        var S = Z.length,
            G = Z[S - 1],
            D = gm.Rj(b[0], e),
            q = gm.Rj(b[1] % K, e),
            T = Z[D % S],
            L = Z[q % S];
        if (T >= L) L += G;
        return [h, e, Z, G, T, L]
    };
    gm.Rj = function(w, o) {
        var M = 0;
        while (o[M] < w) M++;
        return M
    };
    gm.a8f = function(w, o) {
        var Q = 0,
            M = 0,
            K, b, R;
        while (Q < o) {
            K = w[M + 2] - w[M];
            b = w[M + 3] - w[M + 1];
            R = Math.sqrt(K * K + b * b);
            Q += R;
            M += 2
        }
        return [w[M], w[M + 1], K / R, b / R]
    };
    gm.prototype.a40 = function(w) {
        return this.Bq[w]
    };
    gm.prototype.a1y = function(w) {
        for (var o = 0; o < this.j_.length; o++) {
            var Q = this.j_[o];
            for (var K = 0; K < Q.JR.length; K++) {
                var b = Q.JR[K],
                    R = Q.GH[b.start].start,
                    X = Q.GH[b.end - 1].end;
                if (R < w && w < X) return [R, X - 1]
            }
        }
        return [0, 1]
    };
    gm.prototype.eP = function(w, o) {
        var Q = -1,
            K = this.j_;
        if (this.BL == 2) {
            var b = 1e9,
                R = 0,
                X = K[0],
                h = X.JR[0];
            for (var e = h.start; e < h.end; e++) {
                var Z = X.GH[e];
                for (var P = Z.Zu; P <= Z.Wk; P++) {
                    var J = X.sZ[P],
                        i = J.U.D,
                        k = w.x - J.kL.x,
                        $ = w.y - J.kL.y,
                        n = k * k + $ * $;
                    if (n < b) {
                        b = n;
                        R = J.T1
                    }
                }
            }
            if (R != 0 && this.ad5.codePointAt(R - 1) > 65535) R--;
            return R
        }
        for (var j = 0; j < K.length; j++) {
            var X = K[j];
            for (var y = 0; y < X.JR.length; y++) {
                Q++;
                var h = X.JR[y],
                    V = X.JR[y + 1];
                if (V == null && j < K.length - 1) V = K[j + 1].JR[0];
                if (o != null) {
                    if (Q != o) continue
                } else {
                    if (V != null && X.kL.y + h.kL.y < w.y) continue
                }
                for (var e = h.start; e < h.end; e++) {
                    var Z = X.GH[e];
                    for (var P = Z.Zu; P <= Z.Wk; P++) {
                        var J = X.sZ[P],
                            i = J.U.D,
                            O = X.kL.x + h.kL.x + Z.kL.x,
                            S = O + J.kL.x,
                            G = O + (P < Z.Wk ? X.sZ[P + 1].kL.x : J.kL.x + i);
                        if (w.x <= G || e + 1 == h.end && P == Z.Wk) {
                            var D = X.aj_ + J.T1,
                                q = this.Bq[D],
                                T = q.rg & 1;
                            if (q.NP != "\n" && (T == 0 && w.x > S + i / 2 || T == 1 && w.x < S + i / 2)) D += this.ad5.codePointAt(D) > 65535 ? 2 : 1;
                            return D
                        }
                    }
                }
            }
        }
    };
    gm.prototype.eb = function(w) {
        var o = {
                U: new B,
                Km: 0
            },
            Q = 0;
        for (var K = 0; K < this.j_.length; K++) {
            var b = this.j_[K];
            for (var R = 0; R < b.JR.length; R++) {
                var X = b.JR[R];
                o.Km = Q;
                Q++;
                for (var h = X.start; h < X.end; h++) {
                    var e = b.GH[h];
                    for (var Z = e.start; Z < e.end; Z++) {
                        if (Z == w) {
                            var P = this.Bq[Z],
                                J = P.l0,
                                i = b.sZ[J].T1,
                                k = 1;
                            while (b.sZ[J] != null && b.sZ[J].T1 == i) {
                                var $ = b.sZ[J],
                                    n = b.kL.x + X.kL.x + e.kL.x + $.kL.x,
                                    j = b.kL.y + X.kL.y + e.kL.y + $.kL.y;
                                o.U = o.U.OX(new B(n, j - P.lineHeight, $.U.D, P.lineHeight));
                                o.im = $.im;
                                J += k
                            }
                            return o
                        }
                    }
                }
            }
        }
    };
    gm.prototype.PY = function() {
        var w = Infinity,
            o = Infinity,
            Q = -Infinity,
            K = -Infinity;
        for (var M = 0; M < this.j_.length; M++) {
            var b = this.j_[M];
            for (var R = 0; R < b.JR.length; R++) {
                var X = b.JR[R];
                if (!X.bE) break;
                for (var h = X.start; h < X.end; h++) {
                    var e = b.GH[h];
                    for (var Z = e.Zu; Z <= e.Wk; Z++) {
                        var P = b.sZ[Z],
                            J = P.U,
                            i = b.kL.x + X.kL.x + e.kL.x + P.kL.x,
                            k = b.kL.y + X.kL.y + e.kL.y + P.kL.y;
                        w = Math.min(w, i + J.x);
                        o = Math.min(o, k + J.y);
                        Q = Math.max(Q, i + J.x + J.D);
                        K = Math.max(K, k + J.y + J.j)
                    }
                }
            }
        }
        return new B(w, o, Q - w, K - o)
    };
    gm.m9 = function(w) {
        return 19968 <= w && w <= 40959 || 12288 <= w && w <= 12543
    };
    gm.ag6 = function(w, o, Q, K, b, R, X) {
        var h = [R],
            e = 0;
        for (var M = R; M < X; M++) {
            if (Q[M] == null) console.log(M, R, X, Q);
            var Z = Q[M].NP,
                P = Z.charCodeAt(0);
            if (P == 32 || P == 9) {
                h.push(e, M, 1, M + 1);
                e = 0
            } else if (P == 3851) {
                h.push(e + 1, M + 1);
                e = 0
            } else if (gm.m9(P)) {
                h.push(e, M);
                e = 1
            } else if (M != R && Q[M].rg != Q[M - 1].rg) {
                h.push(e, M);
                e = 1
            } else e++
        }
        h.push(e);
        var J = [];
        for (var M = 0; M < h.length; M += 2) {
            var i = h[M],
                k = h[M + 1];
            if (k == 0) continue;
            J.push(new gm.a5c(w, o, Q, K, b, i, k))
        }
        return J
    };
    gm.a1$ = function(w, o, Q, K, b, R, X) {
        var h = [0, o ? o.D : 1e9],
            e = [];
        if (K) {
            var Z = w[R].qn,
                P = b + (b == 0 ? Z : w[R].lineHeight),
                J = P - Z * .9,
                i = v.w.I1(K[0], J),
                k = i.length,
                $ = v.w.I1(K[0], P),
                n = $.length;
            if (k != 0 && n != 0) {
                var j = 0,
                    y = 0;
                h = [];
                while (j < k && y < n) {
                    var V = Math.max(i[j], $[y]),
                        O = i[j + 1],
                        S = $[y + 1],
                        G = Math.min(O, S);
                    if (V < G) h.push(V, G);
                    if (O < S) j += 2;
                    else y += 2
                }
            }
        }
        for (var D = 0; D < h.length; D += 2) {
            var q = h[D + 1] - h[D],
                T = 0,
                L = R,
                N = o ? q - Q.StartIndent - Q.EndIndent - (R == 0 ? Q.FirstLineIndent : 0) : Infinity;
            while (R != w.length) {
                var F = w[R],
                    I = T == 0 || (F.ZT || F.sN) || T + F.U.D < N;
                if (!I) break;
                T += F.U.D;
                R++
            }
            e.push(R - L)
        }
        X[0] = e;
        X[1] = h;
        X[2] = R
    };
    gm.aaj = function(w, o) {
        var Q = w.length,
            K = new Uint32Array(Q),
            b = new Uint8Array(Q),
            R = 0;
        for (var M = 0; M < Q; M++) {
            b[M] = 0;
            var X = w.charCodeAt(M);
            K[M] = X;
            if (X > R) R = X
        }
        if (R > 1424) b = gm.acs(K, o);
        return b
    };
    gm.i$ = function(w, o, Q, K, b, R, X) {
        this.GH = [];
        this.JR = [];
        this.kL = new fB(0, 0);
        this.sZ = null;
        this.GH = null;
        this.a5 = fI.a9T(w, K);
        var h = this.a5,
            J = 0,
            $ = "",
            O = 0,
            S = 1,
            l = 0;
        if (K != 0) {
            var e = h.SpaceBefore;
            if (e != null) R[0] += e
        }
        var Z = w.EngineDict.ParagraphRun.RunLengthArray,
            P = Z[K];
        for (var M = 0; M < K; M++) J += Z[M];
        var i = h._Direction ? h._Direction : 0;
        this.aj_ = J;
        var k = fI.KG(w).slice(J, J + P);
        for (var n = 0; n < k.length; n++) {
            var j = k.charAt(n);
            $ += Q[J + n].a5.FontCaps == 0 ? j : j.toUpperCase()
        }
        k = $;
        var y = gm.aaj(k, i),
            V = [],
            G = y[M] & 1,
            D = Q[J].qu;
        Q[J].rg = y[0];
        for (var M = 1; M < k.length; M++) {
            var j = Q[J + M],
                q = y[M];
            j.rg = q;
            if (q != G || j.qu != D) {
                V.push(O, S);
                O = M;
                S = 1;
                G = q;
                D = j.qu
            } else S++
        }
        V.push(O, S);
        var T = this.sZ = [];
        for (var M = 0; M < V.length; M += 2) {
            var L = V[M],
                N = V[M + 1],
                F = (Q[J + L].rg & 1) == 0,
                I = k.slice(L, L + N),
                s = Typr.U.shapeHB(Q[J + L].qu, I, F),
                u = [],
                r = 0;
            for (var n = 0; n < s.length; n++) {
                var g = s[n];
                u.push({
                    a: g.g,
                    T1: g.cl,
                    qb: g.ax,
                    Nh: g.ay,
                    ev: g.dx,
                    jB: g.dy
                })
            }
            s = u;
            var U = s.slice(0);
            if (!F) U.reverse();
            for (var n = 0; n < I.length; n++) {
                while (r + 1 < U.length && U[r + 1].T1 <= n) {
                    r++
                }
                while (r > 0 && U[r - 1].T1 == n) r--;
                Q[J + L + n].l0 = T.length + (F ? r : U.length - r - 1)
            }
            for (var n = 0; n < s.length; n++) {
                T.push(s[n]);
                s[n].T1 += L;
                var j = Q[J + s[n].T1];
                if (j.NP == "\n") s[n].qb = 0;
                if (j.NP == "\t") s[n].qb = j.qu.head.unitsPerEm * 2
            }
        }
        var x = fI.Lv(h),
            C = this.GH = gm.ag6(w, o, Q, J, T, J, J + P),
            p = this.JR,
            c = -1,
            $ = [null, null, 0];
        while (l < C.length) {
            gm.a1$(C, b, h, X, R[0], l, $);
            c++;
            var t = {
                    start: l,
                    end: 0,
                    U: new B,
                    kL: new fB(0, 0),
                    bE: !0
                },
                eu = 0,
                cU = 0;
            p.push(t);
            t.end = $[2];
            var H = t.end == C.length;

            function gl(U, L, gS) {
                var aq = gS - L >>> 1;
                for (var M = 0; M < aq; M++) {
                    var ef = U[L + M];
                    U[L + M] = U[gS - 1 - M];
                    U[gS - 1 - M] = ef
                }
            }
            for (var fk = 1; fk < 5; fk++) {
                var h5 = -1;
                for (var M = t.start; M < t.end; M++) {
                    var q = Q[C[M].start].rg;
                    if (h5 == -1 && q >= fk) h5 = M;
                    else if (h5 != -1 && q < fk) {
                        gl(C, h5, M);
                        h5 = -1
                    }
                }
                var cf = t.end;
                if (i == 0 && C[cf - 1].ZT) cf--;
                if (h5 != -1) gl(C, h5, cf)
            }
            var f = $[0],
                aH = $[1],
                h5 = l,
                gY = l;
            for (var cC = 0; cC < f.length; cC++) {
                var cY = aH[cC * 2 + 1] - aH[cC * 2],
                    gJ = 0;
                h5 = gY;
                gY += f[cC];
                var bM = this.a7i(h5, gY, C, i, b != null);
                if (b) {
                    if (x == 1 || H && x == 4) gJ = bM[1] + (cY - bM[0]);
                    if (x == 2 || H && x == 5) gJ = bM[1] + (cY - bM[0]) / 2;
                    if (c == 0) gJ += h.FirstLineIndent;
                    gJ += h.StartIndent
                } else {
                    if (x == 0) gJ = h.StartIndent + h.FirstLineIndent;
                    if (x == 1) gJ = -bM[0] - h.EndIndent;
                    if (x == 2) gJ = -bM[0] / 2
                }
                gJ += aH[cC * 2];
                if (b && x > 2 && (x == 6 || !H)) this.ad4(h5, gY, C, cY, i, gJ);
                else {
                    var cN = gJ;
                    for (var M = h5; M < gY; M++) {
                        C[M].kL.x = cN;
                        cN += C[M].U.D
                    }
                }
            }
            l = t.end;
            for (var M = t.start; M < t.end; M++) {
                var h7 = C[M].U.clone();
                h7.Ml(C[M].kL);
                t.U = t.U.OX(h7);
                eu = Math.max(eu, C[M].qn);
                cU = Math.max(cU, C[M].lineHeight)
            }
            t.kL.y = c == 0 ? 0 : p[c - 1].kL.y + cU;
            if (c == 0) {
                if (K == 0 && b) R[0] += eu;
                if (K != 0) R[0] += cU;
                this.kL.y = R[0]
            } else R[0] += cU;
            if (b) t.bE = this.kL.y + t.kL.y < b.y + b.j
        }
        var hn = h.SpaceAfter;
        if (hn != null) R[0] += hn
    };
    gm.i$.prototype.a7i = function(w, o, Q, K, b) {
        var R = 0,
            X = 0;
        for (var M = w; M < o; M++) R += Q[M].U.D;
        if (b) {
            if (K == 0)
                for (var M = o - 1; M >= w; M--)
                    if (Q[M].ZT || Q[M].sN) R -= Q[M].U.D;
                    else break;
            if (K == 1)
                for (var M = w; M < o; M++)
                    if (Q[M].ZT || Q[M].sN) {
                        var h = Q[M].U.D;
                        R -= h;
                        X -= h
                    } else break
        }
        return [R, X]
    };
    gm.i$.prototype.ad4 = function(w, o, Q, K, b, R) {
        var X = 0,
            h = 0,
            e = 0,
            Z = 0;
        for (var M = w; M < o; M++)
            if (Q[M].ZT) e++;
            else {
                X += Q[M].U.D;
                h++
            } if (b == 0)
            for (var M = o - 1; M >= w; M--)
                if (Q[M].ZT || Q[M].sN) {
                    if (Q[M].ZT) {
                        e--
                    }
                } else break;
        if (b == 1)
            for (var M = w; M < o; M++)
                if (Q[M].ZT || Q[M].sN) {
                    if (Q[M].ZT) {
                        e--;
                        Z++
                    }
                } else break;
        if (h <= 1 || e == 0) {
            if (h == 1) Q[w].kL.x = R;
            return
        }
        var P = (K - X) / e,
            J = -Z * P;
        for (var M = w; M < o; M++) {
            if (Q[M].ZT) this.sZ[Q[M].Zu].U.D = Q[M].U.D = P;
            Q[M].kL.x = R + J;
            J += Q[M].U.D
        }
    };
    gm.a5c = function(w, o, Q, K, b, R, X) {
        this.ct = "";
        for (var M = 0; M < X; M++) this.ct += Q[R + M].NP;
        this.ZT = X == 1 && (Q[R].NP == " " || Q[R].NP == "\t");
        this.sN = X == 1 && Q[R].NP == "\n";
        this.start = R;
        this.end = R + X;
        this.U = new B;
        this.kL = new fB(0, 0);
        this.qn = 0;
        this.lineHeight = 0;
        var h = 0,
            e = 0;
        if (X == 0) {
            this.lineHeight = Q[R].lineHeight;
            this.qn = Q[R].qn;
            this.U = new B(0, -Q[R].lineHeight, 0, Q[R].lineHeight)
        }
        var Z = Q[R].l0,
            P = Q[R + X - 1].l0;
        if (P < Z) {
            var J = Z;
            Z = P;
            P = J
        }
        while (P + 1 < b.length && b[P].T1 == b[P + 1].T1) {
            P++
        }
        this.Zu = Z;
        this.Wk = P;
        for (var i = Z; i <= P; i++) {
            var k = b[i],
                $ = Q[K + k.T1],
                n = 1 / $.qu.head.unitsPerEm * $.a5.FontSize,
                O = 0;
            if (!$.a5.AutoKerning) h += $.a5.Kerning * 2 * n * $.scale.x;
            var j = k.qb * n * $.scale.x;
            k.kL = new fB(h, 0);
            k.im = 0;
            k.U = new B(0, -$.lineHeight, j, $.lineHeight);
            var y = Typr.U.glyphToPath($.qu, k.a);
            k.path = {
                Y: y.cmds,
                X: y.crds
            };
            var V = k.U.clone();
            V.Ml(k.kL);
            if ($.a5.Tracking != null) O = $.a5.Tracking * .001 * $.a5.FontSize;
            if ($.a5.FauxBold == !0) O += .027 * $.a5.FontSize;
            h += j + O;
            if (X == 1 && ($.NP == " " || $.NP == "\t")) V.D += 2 * O;
            else if (X == 1 && $.NP != null && gm.m9($.NP.charCodeAt(0))) V.D += O;
            this.U = this.U.OX(V);
            this.qn = Math.max(this.qn, $.qn);
            this.lineHeight = Math.max(this.lineHeight, $.lineHeight)
        }
    };
    gm._e = 0;
    gm.zn = function() {
        if (gm._e == 2) return !0;
        if (gm._e == 1) return !1;
        gm._e = 1;

        function w() {
            fetch("code/external/fribidi.wasm").then(function(o) {
                return o.arrayBuffer()
            }).then(function(o) {
                return WebAssembly.instantiate(o)
            }).then(function(o) {
                var Q = o.instance.exports,
                    K = Q.memory,
                    X = 16,
                    h = 256,
                    e = 1;
                K.grow(400);
                var b = new Uint8Array(K.buffer),
                    R = new Uint32Array(K.buffer),
                    Z = X | h,
                    P = X | h | e;
                gm.acs = function(i, k) {
                    var $ = i.length,
                        n = Q.calloc($ * 4 + 4 + $ * 4 + $ * 4 + $, 1),
                        j = n + $ * 4,
                        y = j + 4,
                        V = y + $ * 4,
                        O = V + $ * 4;
                    R.set(i, n >>> 2);
                    R[j >>> 2] = k == 0 ? Z : P;
                    Q.fribidi_get_bidi_types(n, $, y);
                    Q.fribidi_get_bracket_types(n, $, y, V);
                    Q.fribidi_get_par_embedding_levels_ex(y, V, $, j, O);
                    var S = b.slice(O, O + $);
                    Q.free(n);
                    return S
                };
                gm._e = 2;
                var J = new Y(_.E.N, !0);
                J.data = {
                    e: _.S.UA,
                    q7: "add",
                    pO: d5.us,
                    d5: null
                };
                hm.zG.A(J)
            })
        }
        Typr.U.initHB("code/external/hb.wasm", w);
        return !1
    };

    function fI() {}
    fI.mx = function(w) {
        return JSON.parse(JSON.stringify(w))
    };
    fI.lE = function(w, o) {
        for (var Q in o) w[Q] = o[Q]
    };
    fI.Uy = function(w, o, Q) {
        var K = fI.a3j();
        if (Q) fI.Lj(K, 0, 0, Q);
        var b = {
            H: new dj(1, 0, 0, 1, Math.round(w), Math.round(o)),
            rr: K
        };
        b.zw = fI.PA();
        b.OJ = v.AD.$();
        b.Hu = new B;
        return b
    };
    fI.Qc = function(w) {
        var o = ["CharacterDirection", 0];
        for (var M = 0; M < o.length; M += 2) {
            if (w[o[M]] != null && w[o[M]] != o[M + 1]) {
                throw "e";
                console.log(o[M], w[o[M]])
            }
        }
        if (w instanceof Array)
            for (var M = 0; M < w.length; M++) fI.Qc(w[M]);
        else if (w instanceof Object)
            for (var Q in w) fI.Qc(w[Q])
    };
    fI.Lv = function(w, o) {
        if (o == null) o = w.Justification;
        var Q = w._Direction ? w._Direction : 0;
        if (Q == 1) {
            if (o == 0 || o == 3) o++;
            else if (o == 1 || o == 4) o--
        }
        return o
    };
    fI.k8 = function(w) {
        if (w.add == null) return;
        var o = w.rr,
            Q = o.Curve,
            K = w.add.vmsk,
            b = K._,
            R = v.w.Si(b, !0).X,
            X = w.H.clone();
        X.MF();
        v.w.H(R, X, R);
        var h = R.slice(0, 8);
        for (var e = 8; e < R.length; e += 6) h.push(R[e - 2], R[e - 1], R[e], R[e + 1], R[e + 2], R[e + 3], R[e + 4], R[e + 5]);
        Q.Points = h;
        Q.TextOnPathTRange = K.zi.slice(0);
        Q.Reversed = K.VS;
        if (fI.bv(o) == 1) {
            var Q = gm.DP(o.Curve),
                Z = v.w.QT(Q[0]);
            fI.I5(o, [0, 0, Z.D, Z.j].map(Math.round));
            for (var M = 0; M < h.length; M += 2) {
                h[M] -= Z.x;
                h[M + 1] -= Z.y
            }
            var P = new dj(1, 0, 0, 1, Z.x, Z.y);
            P.concat(w.H);
            w.H = P
        }
    };
    fI.ne = function(w) {
        if (w.add == null) return;
        var o = w.add.vmsk,
            Q = w.rr.Curve,
            K = Q.Points,
            b = {
                Y: ["M"],
                X: [K[0], K[1]]
            };
        for (var M = 0; M < K.length; M += 8) {
            b.Y.push("C");
            b.X.push(K[M + 2], K[M + 3], K[M + 4], K[M + 5], K[M + 6], K[M + 7])
        }
        v.w.H(b.X, w.H, b.X);
        var R = v.w.IT(b, !0);
        o._ = R;
        o.VS = Q.Reversed;
        o.zi = Q.TextOnPathTRange.slice(0);
        w.add.vogk = a.Y1(R)
    };
    fI.c2 = function(w) {
        var o = {
            W: 0,
            a: 0,
            k: 0
        };
        if (w.FillColor) {
            var Q = w.FillColor,
                K = Q.Values;
            if (Q.Type == 1) o = {
                W: K[1] * 255,
                a: K[2] * 255,
                k: K[3] * 255
            };
            else if (Q.Type == 2) {
                var b = {
                    classID: "CMYC",
                    Cyn: {
                        t: "doub",
                        v: K[1] * 100
                    },
                    Mgnt: {
                        t: "doub",
                        v: K[2] * 100
                    },
                    Ylw: {
                        t: "doub",
                        v: K[3] * 100
                    },
                    Blck: {
                        t: "doub",
                        v: K[4] * 100
                    }
                };
                o = v.V.c2(b)
            } else console.log("Unknown color type")
        }
        return o
    };
    fI.ag9 = function(w) {
        for (var M = 0; M < w.length; M++) {
            var o = w[M].StyleSheet.StyleSheetData,
                Q = o.FillColor;
            if (Q && Q.Type == 2) {
                var K = fI.c2(o);
                Q.Type = 1;
                Q.Values = [1, K.W / 255, K.a / 255, K.k / 255]
            }
        }
    };
    fI.vG = function(w, o) {
        var Q;
        if (fI.bv(w.rr) == 1) {
            var K = fI.YN(w.rr);
            Q = new B(0, 0, K[2] - K[0], K[3] - K[1])
        } else Q = o.PY();
        return Q
    };
    fI.A0 = function(w) {
        var o = w[0];
        for (var M = 0; M < w.length; M++) o = fI.af1(o, w[M]);
        return o
    };
    fI.af1 = function(w, o) {
        var Q = {};
        for (var K in w)
            if (JSON.stringify(w[K]) == JSON.stringify(o[K])) Q[K] = w[K];
        return Q
    };
    fI.aE = function(w, o) {
        var Q = w.IF,
            K = -1;
        for (var M = 0; M < Q.length; M++)
            if (Q[M].Name == o) K = M;
        if (K == -1) {
            K = Q.length;
            Q.push({
                FontType: 1,
                Name: o,
                Script: 0,
                Synthetic: 0
            })
        }
        w.Bq.Font = K
    };
    fI.KG = function(w) {
        return w.EngineDict.Editor.Text.replace(/\r/g, "\n").replace(/\u0003/g, "\n")
    };
    fI.oe = function(w, o) {
        w.EngineDict.Editor.Text = o.replace(/\n/g, "\r")
    };
    fI.bv = function(w) {
        return w.Curve && w.Curve.TextOnPathTRange[0] >= 0 ? 2 : w.EngineDict.Rendered.Shapes.Children[0].ShapeType
    };
    fI.c9 = function(w, o) {
        var Q = w.EngineDict.Rendered.Shapes.Children[0];
        Q.ShapeType = o;
        var K = Q.Cookie.Photoshop;
        K.ShapeType = o;
        K.Base.ShapeType = o;
        if (o == 0) {
            delete K.BoxBounds;
            K.PointBase = [0, 0]
        }
        if (o == 1) {
            delete K.PointBase;
            K.BoxBounds = [0, 0, 1, 1]
        }
    };
    fI.YN = function(w) {
        return w.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds
    };
    fI.I5 = function(w, o) {
        w.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds = o
    };
    fI.aa2 = function(w, o) {
        return fI.abN(w, fI.lG(w, o))
    };
    fI.lG = function(w, o) {
        var Q = w.EngineDict.StyleRun.RunLengthArray;
        return fI.nN(Q, o).ki
    };
    fI.abN = function(w, o) {
        var Q = w.ResourceDict.StyleSheetSet[0].StyleSheetData,
            K = {};
        for (var b in Q) K[b] = Q[b];
        var R = w.EngineDict.StyleRun.RunArray[o].StyleSheet.StyleSheetData;
        fI.lE(K, R);
        return K
    };
    fI.a9T = function(w, o) {
        var Q = w.ResourceDict.ParagraphSheetSet[0].Properties,
            K = {};
        for (var b in Q) K[b] = Q[b];
        var R = w.EngineDict.ParagraphRun.RunArray[o].ParagraphSheet.Properties;
        fI.lE(K, R);
        var X = ["StartIndent", "EndIndent", "FirstLineIndent"];
        for (var M = 0; M < 3; M++)
            if (K[X[M]] == null) K[X[M]] = 0;
        return K
    };
    fI.L$ = function(w, o, Q) {
        if (Q == "") return;
        var K = fI.KG(w);
        fI.oe(w, K.substring(0, o) + Q + K.substring(o, K.length));
        var b = w.EngineDict.StyleRun,
            R = b.RunLengthArray,
            X = fI.nN(R, o - 1);
        R[X.ki] += Q.length;
        var h = w.EngineDict.ParagraphRun,
            R = h.RunLengthArray,
            e = fI.nN(R, o),
            Z = Q.split("\n");
        if (Z.length == 1) {
            R[e.ki] += Q.length;
            return
        }
        R.splice(e.ki + 1, 0, R[e.ki] - (o - e.m7));
        h.RunArray.splice(e.ki + 1, 0, fI.mx(h.RunArray[e.ki]));
        R[e.ki] -= R[e.ki + 1];
        R[e.ki] += Z[0].length + 1;
        for (var M = 1; M < Z.length - 1; M++) {
            h.RunArray.splice(e.ki + M, 0, fI.mx(h.RunArray[e.ki + M - 1]));
            h.RunLengthArray.splice(e.ki + M, 0, Z[M].length + 1)
        }
        R[e.ki + Z.length - 1] += Z[Z.length - 1].length
    };
    fI.Nf = function(w, o, Q) {
        var K = fI.KG(w);
        fI.oe(w, K.substring(0, o) + K.substring(Q, K.length));
        fI.Tb(w.EngineDict.ParagraphRun, o, Q, !0);
        fI.Tb(w.EngineDict.StyleRun, o, Q, !1)
    };
    fI.Tb = function(w, o, Q, K) {
        var b = w.RunLengthArray,
            R = fI.nN(b, o),
            X = fI.nN(b, Q),
            h = [];
        for (var M = 0; M < b.length; M++)
            for (var e = 0; e < b[M]; e++) h.push(M);
        h.splice(o, Q - o);
        var Z = [];
        for (var M = 0; M < b.length; M++) Z.push(0);
        for (var M = 0; M < h.length; M++) Z[h[M]]++;
        for (var M = 0; M < b.length; M++) {
            if (Z[M] == 0) {
                Z.splice(M, 1);
                b.splice(M, 1);
                w.RunArray.splice(M, 1);
                M--
            } else if (Z[M] < b[M]) b[M] = Z[M]
        }
        if (K && R.ki != X.ki && R.m7 != o) {
            b[R.ki] += b[R.ki + 1];
            b.splice(R.ki + 1, 1);
            w.RunArray.splice(R.ki + 1, 1)
        }
    };
    fI.Lj = function(w, o, Q, K) {
        var b = w.EngineDict.Editor.Text.length;
        if (Q == b - 2) Q++;
        if (K.Bq.Font != null) w.ResourceDict.FontSet = K.IF.slice(0);
        if (o <= Q) fI.ig(w.EngineDict.StyleRun, K.Bq, o, Q, !0);
        fI.ig(w.EngineDict.ParagraphRun, K.j_, o, Q, !1)
    };
    fI.ig = function(w, o, Q, K, b) {
        var R = w.RunLengthArray;
        if (b) {
            var X = fI.nN(R, Q);
            if (X.m7 != Q) {
                var h = R[X.ki];
                R.splice(X.ki, 0, Q - X.m7);
                R[X.ki + 1] = h - R[X.ki];
                w.RunArray.splice(X.ki + 1, 0, fI.mx(w.RunArray[X.ki]))
            }
            var e = fI.nN(R, K);
            if (e.m7 + R[e.ki] - 1 != K) {
                var h = R[e.ki];
                R.splice(e.ki, 0, K - e.m7 + 1);
                R[e.ki + 1] = h - R[e.ki];
                w.RunArray.splice(e.ki + 1, 0, fI.mx(w.RunArray[e.ki]))
            }
        }
        var X = fI.nN(R, Q),
            e = fI.nN(R, K);
        if (b)
            for (var M = X.ki; M <= e.ki; M++) fI.lE(w.RunArray[M].StyleSheet.StyleSheetData, o);
        else
            for (var M = X.ki; M <= e.ki; M++) fI.lE(w.RunArray[M].ParagraphSheet.Properties, o)
    };
    fI.a8S = function(w, o, Q) {
        var K = w.EngineDict.StyleRun.RunLengthArray,
            b = [],
            R = 0;
        for (var M = 0; M < K.length; M++) {
            var X = K[M];
            for (var h = 0; h < X; h++)
                if (o <= R + h && R + h < Q) b.push(M);
            R += X
        }
        var e = b[0],
            Z = [];
        for (var M = 0; M < b.length; M++) {
            var P = b[M] - e;
            if (P == Z.length) Z.push(0);
            Z[P]++
        }
        return Z
    };
    fI.aeq = function(w) {
        var o = w.EngineDict.StyleRun,
            Q = o.RunArray,
            K = o.RunLengthArray;
        for (var M = 0; M < K.length - 1; M++) {
            var b = Q[M].StyleSheet.StyleSheetData,
                R = Q[M + 1].StyleSheet.StyleSheetData;
            if (JSON.stringify(b) == JSON.stringify(R)) {
                Q.splice(M + 1, 1);
                K[M] += K[M + 1];
                K.splice(M + 1, 1);
                M--
            }
        }
    };
    fI.bT = function(w) {
        var o = w.zw.AntA.v.Annt;
        o = ["Anno", "antiAliasSharp", "AnCr", "AnSt", "AnSm"].indexOf(o);
        if (o == -1) o = 1;
        return o
    };
    fI.KS = function(w, o) {
        w.zw.AntA.v.Annt = ["Anno", "antiAliasSharp", "AnCr", "AnSt", "AnSm"][o]
    };
    fI.UP = function(w, o, Q) {
        var K = {
                IF: w.ResourceDict.FontSet.slice(0),
                Bq: [],
                j_: []
            },
            b = w.EngineDict.StyleRun.RunLengthArray,
            R = fI.nN(b, o).ki,
            X = fI.nN(b, Q).ki;
        for (var M = R; M <= X; M++) {
            var h = fI.mx(w.ResourceDict.StyleSheetSet[0].StyleSheetData),
                e = w.EngineDict.StyleRun.RunArray;
            if (e.length == 0) continue;
            var Z = e[M].StyleSheet.StyleSheetData;
            fI.lE(h, Z);
            K.Bq.push(h)
        }
        var P = w.EngineDict.ParagraphRun.RunLengthArray,
            J = fI.nN(P, o).ki,
            i = fI.nN(P, Q).ki;
        for (var M = J; M <= i; M++) {
            var k = w.EngineDict.ParagraphRun.RunArray;
            if (k.length == 0) continue;
            K.j_.push(fI.mx(k[M].ParagraphSheet.Properties))
        }
        K.Bq = K.Bq.length == 0 ? {} : fI.A0(K.Bq);
        K.j_ = K.j_.length == 0 ? {} : fI.A0(K.j_);
        return K
    };
    fI.Fr = function(w, o) {
        var Q, K;
        Q = ["FontSize", "Leading", "BaselineShift"];
        K = w.Bq;
        for (var M = 0; M < Q.length; M++)
            if (K[Q[M]] != null) K[Q[M]] *= o;
        Q = ["StartIndent", "EndIndent", "FirstLineIndent", "SpaceBefore", "SpaceAfter"];
        K = w.j_;
        for (var M = 0; M < Q.length; M++)
            if (K[Q[M]] != null) K[Q[M]] *= o
    };
    fI.ajv = function() {
        return fI.UP(fI.QQ, 0, 0)
    };
    fI.PA = function() {
        return {
            classID: "TxLr",
            Txt: {
                t: "TEXT",
                v: "\0"
            },
            textGridding: {
                t: "enum",
                v: {
                    textGridding: "None"
                }
            },
            Ornt: {
                t: "enum",
                v: {
                    Ornt: "Hrzn"
                }
            },
            AntA: {
                t: "enum",
                v: {
                    Annt: "antiAliasSharp"
                }
            },
            TextIndex: {
                t: "long",
                v: 0
            }
        }
    };
    fI.nN = function(w, o) {
        var Q = 0,
            M = 0;
        while (Q + w[M] <= o) {
            Q += w[M];
            M++
        }
        return {
            ki: M,
            m7: Q
        }
    };
    fI.a3j = function() {
        var w = fI.mx(this.QQ);
        return w
    };
    fI.SN = {
        Justification: 0,
        FirstLineIndent: 0,
        StartIndent: 0,
        EndIndent: 0,
        SpaceBefore: 0,
        SpaceAfter: 0,
        AutoHyphenate: !1,
        HyphenatedWordSize: 6,
        PreHyphen: 2,
        PostHyphen: 2,
        ConsecutiveHyphens: 8,
        Zone: 36,
        WordSpacing: [.8, 1, 1.33],
        LetterSpacing: [0, 0, 0],
        GlyphSpacing: [1, 1, 1],
        AutoLeading: 1.2,
        LeadingType: 0,
        Hanging: !1,
        Burasagari: !1,
        KinsokuOrder: 0,
        EveryLineComposer: !1,
        _Direction: 0
    };
    fI.abv = {
        Font: 0,
        FontSize: 12,
        FauxBold: !1,
        FauxItalic: !1,
        AutoLeading: !0,
        Leading: 0,
        HorizontalScale: 1,
        VerticalScale: 1,
        Tracking: 0,
        AutoKerning: !0,
        Kerning: 0,
        BaselineShift: 0,
        FontCaps: 0,
        FontBaseline: 0,
        Underline: !1,
        Strikethrough: !1,
        Ligatures: !0,
        DLigatures: !1,
        BaselineDirection: 2,
        Tsume: 0,
        StyleRunAlignment: 2,
        Language: 0,
        NoBreak: !1,
        FillColor: {
            Type: 1,
            Values: [1, 0, 0, 0]
        },
        StrokeColor: {
            Type: 1,
            Values: [1, 0, 0, 0]
        },
        FillFlag: !0,
        StrokeFlag: !1,
        FillFirst: !0,
        YUnderline: 1,
        OutlineWidth: 1,
        CharacterDirection: 0,
        HindiNumbers: !1,
        Kashida: 1,
        DiacriticPos: 2
    };
    fI.QQ = {
        EngineDict: {
            Editor: {
                Text: "\n"
            },
            ParagraphRun: {
                DefaultRunData: {
                    ParagraphSheet: {
                        DefaultStyleSheet: 0,
                        Properties: {}
                    },
                    Adjustments: {
                        Axis: [1, 0, 1],
                        XY: [0, 0]
                    }
                },
                RunArray: [{
                    ParagraphSheet: {
                        DefaultStyleSheet: 0,
                        Properties: JSON.parse(JSON.stringify(fI.SN))
                    },
                    Adjustments: {
                        Axis: [1, 0, 1],
                        XY: [0, 0]
                    }
                }],
                RunLengthArray: [1],
                IsJoinable: 1
            },
            StyleRun: {
                DefaultRunData: {
                    StyleSheet: {
                        StyleSheetData: {}
                    }
                },
                RunArray: [{
                    StyleSheet: {
                        StyleSheetData: {
                            Font: 0,
                            FontSize: 24,
                            AutoKerning: !0,
                            Kerning: 0
                        }
                    }
                }],
                RunLengthArray: [1],
                IsJoinable: 2
            },
            GridInfo: {
                GridIsOn: !1,
                ShowGrid: !1,
                GridSize: 18,
                GridLeading: 22,
                GridColor: {
                    Type: 1,
                    Values: [0, 0, 0, 1]
                },
                GridLeadingFillColor: {
                    Type: 1,
                    Values: [0, 0, 0, 1]
                },
                AlignLineHeightToGridFlags: !1
            },
            AntiAlias: 4,
            UseFractionalGlyphWidths: !0,
            Rendered: {
                Version: 1,
                Shapes: {
                    WritingDirection: 0,
                    Children: [{
                        ShapeType: 0,
                        Procession: 0,
                        Lines: {
                            WritingDirection: 0,
                            Children: []
                        },
                        Cookie: {
                            Photoshop: {
                                ShapeType: 0,
                                PointBase: [0, 0],
                                Base: {
                                    ShapeType: 0,
                                    TransformPoint0: [1, 0],
                                    TransformPoint1: [0, 1],
                                    TransformPoint2: [0, 0]
                                }
                            }
                        }
                    }]
                }
            }
        },
        ResourceDict: {
            KinsokuSet: [{
                Name: "PhotoshopKinsokuHard",
                NoStart: "\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",
                NoEnd: "\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",
                Keep: "\u2015\u2025",
                Hanging: "\u3001\u3002.,"
            }, {
                Name: "PhotoshopKinsokuSoft",
                NoStart: "\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",
                NoEnd: "\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",
                Keep: "\u2015\u2025",
                Hanging: "\u3001\u3002.,"
            }],
            MojiKumiSet: [{
                InternalName: "Photoshop6MojiKumiSet1"
            }, {
                InternalName: "Photoshop6MojiKumiSet2"
            }, {
                InternalName: "Photoshop6MojiKumiSet3"
            }, {
                InternalName: "Photoshop6MojiKumiSet4"
            }],
            TheNormalStyleSheet: 0,
            TheNormalParagraphSheet: 0,
            ParagraphSheetSet: [{
                Name: "Normal RGB",
                DefaultStyleSheet: 0,
                Properties: JSON.parse(JSON.stringify(fI.SN))
            }],
            StyleSheetSet: [{
                Name: "Normal RGB",
                StyleSheetData: JSON.parse(JSON.stringify(fI.abv))
            }],
            FontSet: [{
                Name: "DejaVuSans",
                Script: 0,
                FontType: 1,
                Synthetic: 0
            }, {
                Name: "AdobeInvisFont",
                Script: 0,
                FontType: 0,
                Synthetic: 0
            }, {
                Name: "MyriadHebrew-Regular",
                Script: 6,
                FontType: 0,
                Synthetic: 0
            }],
            SuperscriptSize: .583,
            SuperscriptPosition: .333,
            SubscriptSize: .583,
            SubscriptPosition: .333,
            SmallCapSize: .7
        }
    };
    var dO = {};
    dO.an7 = function(w, o, Q) {
        var K = {};
        K._98 = {
            _0: "i7"
        };
        K._0 = dO.a1X(w, o, Q ? Q._0 : null);
        K._1 = dO.acF(w, o, K._0, Q ? Q._1 : null);
        return K
    };
    dO.a1X = function(w, o, Q) {
        var K = {};
        K._1 = dO.aj6(w, Q ? Q._1 : null);
        K._2 = {
            _0: [{
                _0: {
                    _0: "s"
                }
            }],
            _1: [{
                _0: "i0"
            }]
        };
        K._3 = JSON.parse(JSON.stringify(dO.a7n));
        K._4 = JSON.parse(JSON.stringify(dO.aiJ));
        K._5 = dO.aa$(w, K._1._0, Q ? Q._5 : null);
        K._6 = dO.a0u(w, Q ? Q._6 : null);
        K._8 = dO.a7e(w, o, Q ? Q._8 : null);
        K._9 = dO.ajK;
        return K
    };
    dO.aj6 = function(w, o) {
        var Q = [],
            K = [];
        for (var M = 0; M < w.length; M++) {
            var b = w[M].ResourceDict.FontSet;
            for (var R = 0; R < b.length; R++) {
                var X = b[R];
                if (K.indexOf(X.Name) != -1) continue;
                Q.push(X);
                K.push(X.Name)
            }
        }
        var h = {
            _0: []
        };
        for (var M = 0; M < Q.length; M++) {
            var e = Q[M],
                Z = {
                    _0: {
                        _99: "/CoolTypeFont",
                        _0: {
                            _0: "s" + e.Name,
                            _1: "i" + e.Script,
                            _2: "i" + e.FontType
                        }
                    }
                };
            if (e.Script == 0) delete Z._0._0._1;
            h._0.push(Z)
        }
        return h
    };
    dO.aa$ = function(w, o, Q) {
        var K = {
                _0: [],
                _1: []
            },
            b = {
                _0: JSON.parse(JSON.stringify(dO.hM))
            };
        dO.gD(b._0, w[0].ResourceDict.StyleSheetSet[0], o, w[0].ResourceDict.FontSet);
        K._0.push(b);
        K._1.push({
            _0: "i0"
        });
        K._0.push({
            _0: {
                _0: "sNone",
                _5: "i0",
                _6: {}
            }
        });
        K._1.push({
            _0: "i1"
        });
        return K
    };
    dO.a0u = function(w, o) {
        var Q = {
                _0: [],
                _1: []
            },
            K = {
                _0: JSON.parse(JSON.stringify(dO.gi))
            };
        dO.ug(K._0, w[0].ResourceDict.ParagraphSheetSet[0]);
        Q._0.push(K);
        Q._1.push({
            _0: "i0"
        });
        K = {
            _0: JSON.parse(JSON.stringify(dO.gi))
        };
        dO.ug(K._0, w[0].ResourceDict.ParagraphSheetSet[0]);
        K._0._0 = "sBasic Paragraph";
        K._0._6 = "i0";
        Q._0.push(K);
        Q._1.push({
            _0: "i1"
        });
        return Q
    };
    dO.a7e = function(w, o, Q) {
        var K = {
            _0: []
        };
        for (var M = 0; M < w.length; M++) {
            var b = w[M].Curve,
                R = {};
            K._0.push({
                _0: R
            });
            var X = fI.bv(w[M]);
            R._2 = {};
            R._2._0 = "i" + X;
            if (X == 0) {
                R._2._6 = ["f-1", "f-1"];
                R._2._11 = {
                    _4: "i-1",
                    _7: !1
                }
            } else if (X == 1 && b == null) {
                var h = fI.YN(w[M]),
                    e = h[2],
                    Z = h[3];
                R._1 = {
                    _0: dO.n5("f", [0, 0, 0, 0, e, 0, e, 0, e, 0, e, 0, e, Z, e, Z, e, Z, e, Z, 0, Z, 0, Z, 0, Z, 0, Z, 0, 0, 0, 0])
                };
                R._2._6 = ["f-2", "f-2"];
                R._2._11 = {
                    _4: "i-2",
                    _7: !1
                }
            } else if (X == 1) {
                var h = fI.YN(w[M]),
                    e = h[2],
                    Z = h[3];
                R._1 = {
                    _0: dO.n5("f", b.Points)
                };
                R._2._6 = ["f-3", "f-3"];
                R._2._11 = {
                    _4: "i-3",
                    _7: !1
                }
            } else if (X == 2) {
                R._1 = {
                    _0: dO.n5("f", b.Points)
                };
                R._2._6 = dO.n5("f", b.TextOnPathTRange);
                R._2._11 = {
                    _0: b.Reversed,
                    _3: "i0",
                    _5: "f0",
                    _7: !1
                }
            }
        }
        return K
    };
    dO.acF = function(w, o, Q, K) {
        var b = {};
        b._0 = JSON.parse(JSON.stringify(dO.al9));
        b._1 = dO.a9L(w, o, Q, K ? K._1 : null);
        b._2 = JSON.parse(JSON.stringify(dO.hM._6));
        b._3 = JSON.parse(JSON.stringify(dO.gi._5));
        return b
    };
    dO.a9L = function(w, o, Q, K) {
        var b = [],
            R = Q._1._0;
        for (var M = 0; M < w.length; M++) {
            var X = w[M],
                h = {
                    _0: {}
                };
            b.push(h);
            var e = K ? K[M] : null;
            h._0._0 = "s" + X.EngineDict.Editor.Text;
            h._0._0 = h._0._0;
            var Z = {
                _0: []
            };
            h._0._5 = Z;
            var P = X.EngineDict.ParagraphRun;
            for (var J = 0; J < P.RunArray.length; J++) {
                var i = {
                    _0: {}
                };
                Z._0.push(i);
                i._0._0 = {
                    _0: "s",
                    _5: {},
                    _6: "i1"
                };
                dO.ug(i._0._0, X.EngineDict.ParagraphRun.RunArray[J].ParagraphSheet);
                i._1 = "i" + P.RunLengthArray[J]
            }
            var k = {
                _0: []
            };
            h._0._6 = k;
            var $ = e ? e._0._6 : null;
            P = X.EngineDict.StyleRun;
            for (var J = 0; J < P.RunArray.length; J++) {
                var n = {
                    _0: {}
                };
                k._0.push(n);
                var j = $ ? $._0 : null;
                n._0._0 = {
                    _0: "s",
                    _5: "i1",
                    _6: {}
                };
                dO.gD(n._0._0, X.EngineDict.StyleRun.RunArray[J].StyleSheet, R, X.ResourceDict.FontSet, j ? n._0._0 : null);
                n._1 = "i" + P.RunLengthArray[J]
            }
            h._0._10 = {
                _0: "i4",
                _2: !0
            };
            h._1 = dO.view.a9p(X, null, M, null)
        }
        return b
    };
    dO.gD = function(w, o, Q, K, b) {
        w._0 = "s" + (o.Name ? o.Name : "");
        var R = w._6,
            X = b ? b._6 : null,
            h = o.StyleSheetData;
        if (h.Font == null) return;
        var e = K[h.Font].Name,
            Z = -1;
        for (var M = 0; M < Q.length; M++)
            if ("s" + e == Q[M]._0._0._0) {
                Z = M;
                break
            } R._0 = "i" + Z;
        if (h.FontSize != null) R._1 = "f" + h.FontSize;
        if (h.FauxBold != null) R._2 = h.FauxBold;
        if (h.FauxItalic != null) R._3 = h.FauxItalic;
        if (h.AutoLeading != null) R._4 = h.AutoLeading;
        if (h.Leading != null) R._5 = "f" + h.Leading;
        if (h.HorizontalScale != null) R._6 = "f" + h.HorizontalScale;
        if (h.VerticalScale != null) R._7 = "f" + h.VerticalScale;
        if (h.Tracking != null) R._8 = "i" + h.Tracking;
        if (h.BaselineShift != null) R._9 = "f" + h.BaselineShift;
        if (h.AutoKerning != null) R._11 = "i" + (h.AutoKerning ? 1 : 0);
        if (h.FontCaps != null) R._12 = "i" + h.FontCaps;
        if (h.FontBaseline != null) R._13 = "i" + h.FontBaseline;
        if (h.Strikethrough != null) R._15 = "i" + (h.Strikethrough ? 1 : 0);
        if (h.Underline != null) R._16 = "i" + (h.Underline ? 2 : 0);
        if (h.Ligatures != null) R._18 = h.Ligatures;
        if (h.DLigatures != null) R._19 = h.DLigatures;
        if (h.Language != null) R._38 = "i" + h.Language;
        if (h.FillColor != null) R._53 = {
            _99: "/SimplePaint",
            _0: {
                _0: "i1",
                _1: dO.n5("f", h.FillColor.Values)
            }
        }
    };
    dO.ug = function(w, o) {
        w._0 = "s" + (o.Name ? o.Name : "");
        var Q = w._5,
            K = o.Properties;
        if (K.Justification != null) Q._0 = "i" + K.Justification;
        if (K.FirstLineIndent != null) Q._1 = "f" + K.FirstLineIndent;
        if (K.StartIndent != null) Q._2 = "f" + K.StartIndent;
        if (K.EndtIndent != null) Q._3 = "f" + K.EndtIndent;
        if (K.SpaceBefore != null) Q._4 = "f" + K.SpaceBefore;
        if (K.SpaceAfter != null) Q._5 = "f" + K.SpaceAfter;
        if (K.AutoHyphenate != null) Q._9 = K.AutoHyphenate;
        if (K._Direction != null) Q._33 = "i" + K._Direction
    };
    dO.n5 = function(w, o) {
        var Q = [];
        for (var M = 0; M < o.length; M++) Q.push(w + o[M]);
        return Q
    };
    dO.a7n = {
        _0: [{
            _0: {
                _0: "sPhotoshop6MojiKumiSet4",
                _5: {
                    _0: "i0",
                    _3: "i2"
                }
            }
        }, {
            _0: {
                _0: "sPhotoshop6MojiKumiSet3",
                _5: {
                    _0: "i0",
                    _3: "i4"
                }
            }
        }, {
            _0: {
                _0: "sPhotoshop6MojiKumiSet2",
                _5: {
                    _0: "i0",
                    _3: "i3"
                }
            }
        }, {
            _0: {
                _0: "sPhotoshop6MojiKumiSet1",
                _5: {
                    _0: "i0",
                    _3: "i1"
                }
            }
        }, {
            _0: {
                _0: "sYakumonoHankaku",
                _5: {
                    _0: "i0",
                    _3: "i1"
                }
            }
        }, {
            _0: {
                _0: "sGyomatsuYakumonoHankaku",
                _5: {
                    _0: "i0",
                    _3: "i3"
                }
            }
        }, {
            _0: {
                _0: "sGyomatsuYakumonoZenkaku",
                _5: {
                    _0: "i0",
                    _3: "i4"
                }
            }
        }, {
            _0: {
                _0: "sYakumonoZenkaku",
                _5: {
                    _0: "i0",
                    _3: "i2"
                }
            }
        }],
        _1: [{
            _0: "i0"
        }, {
            _0: "i1"
        }, {
            _0: "i2"
        }, {
            _0: "i3"
        }, {
            _0: "i4"
        }, {
            _0: "i5"
        }, {
            _0: "i6"
        }, {
            _0: "i7"
        }]
    };
    dO.aiJ = {
        _0: [{
            _0: {
                _0: "sNone",
                _5: {
                    _0: "s",
                    _1: "s",
                    _2: "s",
                    _3: "s",
                    _4: "i0"
                }
            }
        }, {
            _0: {
                _0: "sPhotoshopKinsokuHard",
                _5: {
                    _0: "s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                    _1: "s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",
                    _2: "s\u2014\u2025\u2026",
                    _3: "s\u3001\u3002\uFF0C\uFF0E",
                    _4: "i1"
                }
            }
        }, {
            _0: {
                _0: "sPhotoshopKinsokuSoft",
                _5: {
                    _0: "s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                    _1: "s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",
                    _2: "s\u2014\u2025\u2026",
                    _3: "s\u3001\u3002\uFF0C\uFF0E",
                    _4: "i2"
                }
            }
        }, {
            _0: {
                _0: "sHard",
                _5: {
                    _0: "s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                    _1: "s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",
                    _2: "s\u2014\u2025\u2026",
                    _3: "s\u3001\u3002\uFF0C\uFF0E",
                    _4: "i1"
                }
            }
        }, {
            _0: {
                _0: "sSoft",
                _5: {
                    _0: "s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",
                    _1: "s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",
                    _2: "s\u2014\u2025\u2026",
                    _3: "s\u3001\u3002\uFF0C\uFF0E",
                    _4: "i2"
                }
            }
        }],
        _1: [{
            _0: "i0"
        }, {
            _0: "i1"
        }, {
            _0: "i2"
        }, {
            _0: "i3"
        }, {
            _0: "i4"
        }]
    };
    dO.hM = {
        _0: "sNormal RGB",
        _6: {
            _0: "i0",
            _1: "f12",
            _2: !1,
            _3: !1,
            _4: !0,
            _5: "f0",
            _6: "f1",
            _7: "f1",
            _8: "i0",
            _9: "f0",
            _10: "f0",
            _11: "i1",
            _12: "i0",
            _13: "i0",
            _14: "i0",
            _15: "i0",
            _16: "i0",
            _17: "f0",
            _18: !0,
            _19: !1,
            _20: !1,
            _21: !1,
            _22: !1,
            _23: !1,
            _24: !1,
            _25: !1,
            _26: !1,
            _27: !1,
            _28: !1,
            _29: !1,
            _30: "i0",
            _31: !1,
            _32: !1,
            _33: !1,
            _34: !1,
            _35: "i2",
            _36: "f0",
            _37: "i2",
            _38: "i0",
            _39: "i0",
            _40: !1,
            _41: "i2",
            _42: "i0",
            _43: {
                _0: "f.5"
            },
            _44: "i2",
            _45: "i2",
            _46: "i7",
            _47: "i0",
            _48: "i0",
            _49: "f-1",
            _50: "f-1",
            _51: "i0",
            _52: !1,
            _53: {
                _99: "/SimplePaint",
                _0: {
                    _0: "i1",
                    _1: ["f1", "f0", "f0", "f0"]
                }
            },
            _54: {
                _99: "/SimplePaint",
                _0: {
                    _0: "i1",
                    _1: ["f1", "f0", "f0", "f0"]
                }
            },
            _55: {
                _99: "/SimpleBlender"
            },
            _56: !0,
            _57: !1,
            _58: !0,
            _59: !1,
            _60: !1,
            _61: "i0",
            _62: "i0",
            _63: "f1",
            _64: "f4",
            _65: "f0",
            _66: [],
            _67: [],
            _68: "i0",
            _69: "i0",
            _70: "i0",
            _71: "i4",
            _72: "f0",
            _73: "f0",
            _74: !1,
            _75: !1,
            _76: !1,
            _77: !0,
            _78: !0,
            _79: {
                _99: "/SimplePaint",
                _0: {
                    _0: "i1",
                    _1: ["f1", "f1", "f1", "f0"]
                }
            },
            _80: !1,
            _81: "i0",
            _82: "f3",
            _83: "f3",
            _84: !1,
            _85: "i0",
            _86: {
                _99: "/SimpleCustomFeature"
            },
            _87: "f100",
            _88: !0
        }
    };
    dO.gi = {
        _0: "sNormal RGB",
        _5: {
            _0: "i0",
            _1: "f0",
            _2: "f0",
            _3: "f0",
            _4: "f0",
            _5: "f0",
            _6: "i1",
            _7: "f1.2",
            _8: "i0",
            _9: !0,
            _10: "i6",
            _11: "i2",
            _12: "i2",
            _13: "i0",
            _14: "f36",
            _15: !0,
            _16: "f.5",
            _17: ["f.8", "f1", "f1.33"],
            _18: ["f0", "f0", "f0"],
            _19: ["f1", "f1", "f1"],
            _20: "i6",
            _21: !1,
            _22: "i0",
            _23: !0,
            _24: "i0",
            _25: "i0",
            _27: "/nil",
            _26: !1,
            _28: "/nil",
            _29: !1,
            _30: {},
            _31: "f36",
            _32: {},
            _33: "i0",
            _34: "i7",
            _35: "i1",
            _36: "/nil",
            _37: "i0",
            _38: !1,
            _39: "i0",
            _40: "i2"
        }
    };
    dO.ajK = {
        _0: [{
            _0: {
                _0: "skPredefinedNumericListStyleTag",
                _6: "i1"
            }
        }, {
            _0: {
                _0: "skPredefinedUppercaseAlphaListStyleTag",
                _6: "i2"
            }
        }, {
            _0: {
                _0: "skPredefinedLowercaseAlphaListStyleTag",
                _6: "i3"
            }
        }, {
            _0: {
                _0: "skPredefinedUppercaseRomanNumListStyleTag",
                _6: "i4"
            }
        }, {
            _0: {
                _0: "skPredefinedLowercaseRomanNumListStyleTag",
                _6: "i5"
            }
        }, {
            _0: {
                _0: "skPredefinedBulletListStyleTag",
                _6: "i6"
            }
        }],
        _1: [{
            _0: "i0"
        }, {
            _0: "i1"
        }, {
            _0: "i2"
        }, {
            _0: "i3"
        }, {
            _0: "i4"
        }, {
            _0: "i5"
        }]
    };
    dO.al9 = {
        _0: {
            _0: "i1",
            _1: [{
                _0: "s ",
                _1: "s1"
            }, {
                _0: "s\r",
                _1: "s6"
            }, {
                _0: "s\t",
                _1: "s0"
            }, {
                _0: "s\u2029",
                _1: "s5"
            }, {
                _0: "s\x03",
                _1: "s5"
            }, {
                _0: "s\u3000",
                _1: "s1"
            }, {
                _0: "s\xAD",
                _1: "s3"
            }]
        },
        _1: "i0",
        _2: "i0",
        _3: "f.583",
        _4: "f.333",
        _5: "f.583",
        _6: "f.333",
        _7: "f.7",
        _8: !0,
        _9: [{
            _0: "i0",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i1",
            _1: "s\u201D",
            _2: "s\u201D",
            _3: "s\u2019",
            _4: "s\u2019"
        }, {
            _0: "i2",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i3",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i4",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i5",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i6",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2039",
            _4: "s\u203A"
        }, {
            _0: "i7",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i8",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i9",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i10",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i11",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i12",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i13",
            _1: "s\u201D",
            _2: "s\u201D",
            _3: "s\u2019",
            _4: "s\u2019"
        }, {
            _0: "i14",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i15",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i16",
            _1: "s\u201D",
            _2: "s\u201D",
            _3: "s\u2019",
            _4: "s\u2019"
        }, {
            _0: "i17",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i18",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i19",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i20",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i21",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i22",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i23",
            _1: "s\u201E",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i24",
            _1: "s\u201E",
            _2: "s\u201D",
            _3: "s\u201A",
            _4: "s\u2019"
        }, {
            _0: "i25",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2039",
            _4: "s\u203A"
        }, {
            _0: "i26",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i27",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i28",
            _1: "s\u201E",
            _2: "s\u201D",
            _3: "s\u2019",
            _4: "s\u2019"
        }, {
            _0: "i29",
            _1: "s\u301D",
            _2: "s\u301E"
        }, {
            _0: "i30",
            _1: "s\u300C",
            _2: "s\u300D"
        }, {
            _0: "i31",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i32",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i33",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i34",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i35",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i36",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i37",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i38",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i39",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s<",
            _4: "s>"
        }, {
            _0: "i40",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i41",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s<",
            _4: "s>"
        }, {
            _0: "i42",
            _1: "s\u201E",
            _2: "s\u201C",
            _3: "s\u201A",
            _4: "s\u2018"
        }, {
            _0: "i43",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }, {
            _0: "i44",
            _1: "s\xAB",
            _2: "s\xBB",
            _3: "s\u2039",
            _4: "s\u203A"
        }, {
            _0: "i45",
            _1: "s\u201C",
            _2: "s\u201D",
            _3: "s\u2018",
            _4: "s\u2019"
        }],
        _15: {
            _0: "sWinSoft"
        },
        _16: !1
    };
    var cX = {};
    cX.ahP = function(w) {
        return cX.N5(w, cX.oj)
    };
    cX.afM = function(w) {
        return cX.k5(w, cX.oj)
    };
    cX.N5 = function(w, o) {
        var Q;
        if (typeof w == "string") return w;
        if (w instanceof Array) {
            Q = [];
            for (var M = 0; M < w.length; M++) Q[M] = cX.N5(w[M], o)
        } else {
            Q = {};
            var K = {};
            for (var b in o) {
                var R = o[b],
                    X = "_" + R[0];
                if (w[X] != null) {
                    Q[b] = R[1] ? cX.N5(w[X], R[1]) : w[X];
                    K[X] = !0
                }
            }
            for (var b in w) {
                if (K[b] == null) {
                    console.log(K);
                    console.log(b, w, o);
                    throw "e"
                }
            }
        }
        return Q
    };
    cX.k5 = function(w, o) {
        var Q;
        if (w instanceof Array) {
            Q = [];
            for (var M = 0; M < w.length; M++) Q[M] = cX.k5(w[M], o)
        } else {
            Q = {};
            var K = {};
            for (var b in o) {
                var R = o[b],
                    X = "_" + R[0];
                if (w[b] != null) {
                    Q[X] = R[1] ? cX.k5(w[b], R[1]) : w[b];
                    K[b] = !0
                }
            }
            for (var b in w) {
                if (K[b] == null) {
                    console.log(K);
                    console.log(b, w);
                    throw "e"
                }
            }
        }
        return Q
    };
    cX.ks = {
        _StreamTag: [99],
        _Color: [0, {
            _Type: [0],
            _Values: [1]
        }]
    };
    cX.ja = {
        _Font: [0],
        _FontSize: [1],
        _FauxBold: [2],
        _FauxItalic: [3],
        _AutoLeading: [4],
        _Leading: [5],
        _HorizontalScale: [6],
        _VerticalScale: [7],
        _Tracking: [8],
        _BaselineShift: [9],
        _CharacterRotation: [10],
        _AutoKern: [11],
        _FontCaps: [12],
        _FontBaseline: [13],
        _FontOTPosition: [14],
        _StrikethroughPosition: [15],
        _UnderlinePosition: [16],
        _UnderlineOffset: [17],
        _Ligatures: [18],
        _DiscretionaryLigatures: [19],
        _ContextualLigatures: [20],
        _AlternateLigatures: [21],
        _OldStyle: [22],
        _Fractions: [23],
        _Ordinals: [24],
        _Swash: [25],
        _Titling: [26],
        _ConnectionForms: [27],
        _StylisticAlternates: [28],
        _Ornaments: [29],
        _FigureStyle: [30],
        _ProportionalMetrics: [31],
        _Kana: [32],
        _Italics: [33],
        _Ruby: [34],
        _BaselineDirection: [35],
        _Tsume: [36],
        _StyleRunAlignment: [37],
        _Language: [38],
        _JapaneseAlternateFeature: [39],
        _EnableWariChu: [40],
        _WariChuLineCount: [41],
        _WariChuLineGap: [42],
        _WariChuSubLineAmount: [43, {
            _WariChuSubLineScale: [0]
        }],
        _WariChuWidowAmount: [44],
        _WariChuOrphanAmount: [45],
        _WariChuJustification: [46],
        _TCYUpDownAdjustment: [47],
        _TCYLeftRightAdjustment: [48],
        _LeftAki: [49],
        _RightAki: [50],
        _JiDori: [51],
        _NoBreak: [52],
        _FillColor: [53, cX.ks],
        _StrokeColor: [54, cX.ks],
        _Blend: [55, {
            _StreamTag: [99]
        }],
        _FillFlag: [56],
        _StrokeFlag: [57],
        _FillFirst: [58],
        _FillOverPrint: [59],
        _StrokeOverPrint: [60],
        _LineCap: [61],
        _LineJoin: [62],
        _LineWidth: [63],
        _MiterLimit: [64],
        _LineDashOffset: [65],
        _LineDashArray: [66],
        _Type1EncodingNames: [67],
        _Kashidas: [68],
        _DirOverride: [69],
        _DigitSet: [70],
        _DiacVPos: [71],
        _DiacXOffset: [72],
        _DiacYOffset: [73],
        _OverlapSwash: [74],
        _JustificationAlternates: [75],
        _StretchedAlternates: [76],
        _FillVisibleFlag: [77],
        _StrokeVisibleFlag: [78],
        _FillBackgroundColor: [79, cX.ks],
        _FillBackgroundFlag: [80],
        _UnderlineStyle: [81],
        _DashedUnderlineGapLength: [82],
        _DashedUnderlineDashLength: [83],
        _SlashedZero: [84],
        _StylisticSets: [85],
        _CustomFeature: [86, {
            _StreamTag: [99]
        }],
        _87: [87],
        _88: [88]
    };
    cX.Rs = {
        _Justification: [0],
        _FirstLineIndent: [1],
        _StartIndent: [2],
        _EndIndent: [3],
        _SpaceBefore: [4],
        _SpaceAfter: [5],
        _DropCaps: [6],
        _AutoLeading: [7],
        _LeadingType: [8],
        _AutoHyphenate: [9],
        _HyphenatedWordSize: [10],
        _PreHyphen: [11],
        _PostHyphen: [12],
        _ConsecutiveHyphens: [13],
        _Zone: [14],
        _HyphenateCapitalized: [15],
        _HyphenationPreference: [16],
        _WordSpacing: [17],
        _LetterSpacing: [18],
        _GlyphSpacing: [19],
        _SingleWordJustification: [20],
        _Hanging: [21],
        _AutoTCY: [22],
        _KeepTogether: [23],
        _BurasagariType: [24],
        _KinsokuOrder: [25],
        _Kinsoku: [27],
        _KurikaeshiMojiShori: [26],
        _MojiKumiTable: [28],
        _EveryLineComposer: [29],
        _TabStops: [30],
        _DefaultTabWidth: [31],
        _DefaultStyle: [32, cX.ja],
        _ParagraphDirection: [33],
        _JustificationMethod: [34],
        _ComposerEngine: [35],
        _ListStyle: [36],
        _ListTier: [37],
        _ListSkip: [38],
        _ListOffset: [39],
        _40: [40]
    };
    cX.iG = {
        _Name: [0],
        _Features: [5, cX.Rs],
        _Parent: [6]
    };
    cX._k = {
        _Name: [0],
        _Parent: [5],
        _Features: [6, cX.ja]
    };
    cX.oj = {
        _98: [98, {
            _0: [0]
        }],
        _DocumentResources: [0, {
            _0: [0],
            _FontSet: [1, {
                _Resources: [0, {
                    _Resource: [0, {
                        _StreamTag: [99],
                        _Identifier: [0, {
                            _Name: [0],
                            _ScriptType: [1],
                            _Type: [2],
                            _Synthetic: [3],
                            _4: [4]
                        }]
                    }]
                }],
                _1: [1, {
                    _0: [0]
                }]
            }],
            _MojiKumiCodeToClassSet: [2, {
                _Resources: [0, {
                    _Resource: [0, {
                        _Name: [0]
                    }]
                }],
                _DisplayList: [1, {
                    _Resource: [0]
                }]
            }],
            _MojiKumiTableSet: [3, {
                _Resources: [0, {
                    _Resource: [0, {
                        _Name: [0],
                        _Members: [5, {
                            _CodeToClass: [0],
                            _AutoTsume: [1, {
                                _TsumeMappings: [0, {
                                    _Before: [0],
                                    _After: [1],
                                    _Code: [2]
                                }]
                            }],
                            _Table: [2, {
                                _DataArray: [0, {
                                    _SparseArray: [0, {
                                        _Index: [0],
                                        _Elements: [1, {
                                            _P: [0],
                                            _Data: [1, {
                                                _A: [0, {
                                                    _R: [0],
                                                    _P: [1]
                                                }],
                                                _B: [1, {
                                                    _R: [0],
                                                    _P: [1]
                                                }]
                                            }]
                                        }]
                                    }]
                                }]
                            }],
                            _PredefinedTag: [3]
                        }]
                    }]
                }],
                _DisplayList: [1, {
                    _Resource: [0]
                }]
            }],
            _KinsokuSet: [4, {
                _Resources: [0, {
                    _Resource: [0, {
                        _Name: [0],
                        _Data: [5, {
                            _NoStart: [0],
                            _NoEnd: [1],
                            _Keep: [2],
                            _Hanging: [3],
                            _PredefinedTag: [4]
                        }]
                    }]
                }],
                _DisplayList: [1, {
                    _Resource: [0]
                }]
            }],
            _StyleSheetSet: [5, {
                _Resources: [0, {
                    _Resource: [0, cX._k]
                }],
                _DisplayList: [1, {
                    _Resource: [0]
                }]
            }],
            _ParagraphSheetSet: [6, {
                _Resources: [0, {
                    _Resource: [0, cX.iG]
                }],
                _DisplayList: [1, {
                    _Resource: [0]
                }]
            }],
            _TextFrameSet: [8, {
                _Resources: [0, {
                    _Resource: [0, {
                        _0: [0],
                        _Bezier: [1, {
                            _Points: [0]
                        }],
                        _Data: [2, {
                            _Type: [0],
                            _LineOrientation: [1],
                            _FrameMatrix: [2],
                            _TextOnPathTRange: [6],
                            _RowGutter: [7],
                            _ColumnGutter: [8],
                            _FirstBaselineAlignment: [10, {
                                _Flag: [0],
                                _Min: [1]
                            }],
                            _PathData: [11, {
                                _Reversed: [0],
                                _2: [2],
                                _3: [3],
                                _Spacing: [4],
                                _5: [5],
                                _7: [7]
                            }],
                            _12: [12]
                        }]
                    }]
                }]
            }],
            _ListStyleSet: [9, {
                _Resources: [0, {
                    _Resource: [0, {
                        _Name: [0],
                        _PredefinedTag: [6]
                    }]
                }],
                _DisplayList: [1, {
                    _Resource: [0]
                }]
            }]
        }],
        _DocumentObjects: [1, {
            _DocumentSettings: [0, {
                _HiddenGlyphFont: [0, {
                    _AlternateGlyphFont: [0],
                    _WhitespaceCharacterMapping: [1, {
                        _WhitespaceCharacter: [0],
                        _AlternateCharacter: [1]
                    }]
                }],
                _NormalStyleSheet: [1],
                _NormalParagraphSheet: [2],
                _SuperscriptSize: [3],
                _SuperscriptPosition: [4],
                _SubscriptSize: [5],
                _SubscriptPosition: [6],
                _SmallCapSize: [7],
                _UseSmartQuotes: [8],
                _SmartQuoteSets: [9, {
                    _Language: [0],
                    _OpenDoubleQuote: [1],
                    _CloseDoubleQuote: [2],
                    _OpenSingleQuote: [3],
                    _CloseSingleQuote: [4]
                }],
                _11: [11],
                _15: [15, {
                    _0: [0]
                }],
                _16: [16],
                _17: [17]
            }],
            _TextObjects: [1, {
                _Model: [0, {
                    _Text: [0],
                    _ParagraphRun: [5, {
                        _RunArray: [0, {
                            _RunData: [0, {
                                _ParagraphSheet: [0, cX.iG]
                            }],
                            _Length: [1]
                        }]
                    }],
                    _StyleRun: [6, {
                        _RunArray: [0, {
                            _RunData: [0, {
                                _StyleSheet: [0, cX._k]
                            }],
                            _Length: [1]
                        }]
                    }],
                    _FirstKern: [7],
                    _8: [8],
                    _9: [9],
                    _StorySheet: [10, {
                        _AntiAlias: [0],
                        _UseFractionalGlyphWidths: [2],
                        _3: [3],
                        _4: [4]
                    }]
                }],
                _View: [1, {
                    _Frames: [0, {
                        _Resource: [0]
                    }],
                    _RenderedData: [1, {
                        _RunArray: [0, {
                            _RunData: [0, {
                                _0: [0],
                                _LineCount: [1]
                            }],
                            _Length: [1]
                        }]
                    }],
                    _Strikes: [2]
                }]
            }],
            _OriginalNormalStyleFeatures: [2, cX.ja],
            _OriginalNormalParagraphFeatures: [3, cX.Rs]
        }]
    };
    dO.view = {};
    dO.view.a9p = function(w, o, Q, K) {
        var b = {},
            R = fI.bv(w);
        b._0 = [{
            _0: "i" + Q
        }];
        return b
    };

    function CSS() {}
    CSS.ahN = function(w, o) {
        var Q = w.add,
            K = Q.vmsk,
            b = Q.vstk,
            R = Q.lmfx,
            X = Q.TySh,
            h = [],
            e = CSS.alW(R, Q);
        if (w.hK() && K) {
            var Z = v.P.bj(K._);
            if (!Z.Kx()) {
                h.push("width: " + Math.round(Z.D) + "px");
                h.push("height: " + Math.round(Z.j) + "px")
            }
            var P = v.P.a0X(K._);
            if (P > 0) h.push("border-radius: " + Math.round(P) + "px")
        } else if (X) {
            var J = X.rr;
            if (fI.bv(J) == 1) {
                var Z = fI.YN(J);
                h.push("width: " + Math.round(Z[2]) + "px");
                h.push("height: " + Math.round(Z[3]) + "px")
            }
            CSS.T4(h, fI.UP(J, 0, 0), X.H, !1, !1, e[0])
        }
        var i = [],
            k = R ? R.dropShadowMulti.v : 0;
        for (var M = 0; M < k.length; M++) {
            var $ = k[M].v;
            if ($.enab.v) {
                var n = $.Dstn.v.val,
                    j = $.lagl.v.val * Math.PI / 180;
                if ($.uglg && $.uglg.v) j = o.BP() * Math.PI / 180;
                var y = n * Math.cos(j),
                    V = n * Math.sin(j);
                i.push("drop-shadow(" + (y == 0 ? "0 " : CSS.SL(-y) + "px ") + (V == 0 ? "0 " : CSS.SL(V) + "px ") + $.blur.v.val / 2 + "px " + CSS.gN($.Clr.v, $.Opct.v.val / 100) + ")")
            }
        }
        if (i.length != 0) h.push("filter: " + i.join(" "));
        if (X == null) CSS.a2W(e, h);
        if (b == null || !b.strokeEnabled.v) b = eg.RY(R);
        if (b && b.strokeEnabled.v) {
            var O = b.strokeStyleContent.v,
                S = O.classID,
                G = b_.fQ.mg.indexOf(b.strokeStyleLineCapType.v.strokeStyleLineCapType),
                D = b_.fQ.join.indexOf(b.strokeStyleLineJoinType.v.strokeStyleLineJoinType),
                q = b.strokeStyleOpacity.v.val / 100,
                T = b.strokeStyleLineWidth.v.val,
                L = "";
            if (S == "solidColorLayer") L = CSS.gN(O.Clr.v, q);
            h.push("border: " + T + "px solid " + L)
        }
        return h
    };
    CSS.alW = function(w, o) {
        var Q = eg.QS(w, o),
            K = Q[0],
            b = Q[1],
            R, X;
        if (K) {
            R = CSS.gN(K.Clr.v, o.iOpa != null ? o.iOpa / 255 : 1)
        } else if (b) {
            X = CSS.TN(b)
        }
        return [R, X]
    };
    CSS.a2W = function(w, o) {
        if (w[0]) o.push("background-color: " + w[0]);
        if (w[1]) o.push("background-image: " + w[1])
    };
    CSS.kF = {
        aliceblue: "#f0f8ff",
        antiquewhite: "#faebd7",
        aqua: "#00ffff",
        aquamarine: "#7fffd4",
        azure: "#f0ffff",
        beige: "#f5f5dc",
        bisque: "#ffe4c4",
        black: "#000000",
        blanchedalmond: "#ffebcd",
        blue: "#0000ff",
        blueviolet: "#8a2be2",
        brown: "#a52a2a",
        burlywood: "#deb887",
        cadetblue: "#5f9ea0",
        chartreuse: "#7fff00",
        chocolate: "#d2691e",
        coral: "#ff7f50",
        cornflowerblue: "#6495ed",
        cornsilk: "#fff8dc",
        crimson: "#dc143c",
        cyan: "#00ffff",
        darkblue: "#00008b",
        darkcyan: "#008b8b",
        darkgoldenrod: "#b8860b",
        darkgray: "#a9a9a9",
        darkgreen: "#006400",
        darkgrey: "#a9a9a9",
        darkkhaki: "#bdb76b",
        darkmagenta: "#8b008b",
        darkolivegreen: "#556b2f",
        darkorange: "#ff8c00",
        darkorchid: "#9932cc",
        darkred: "#8b0000",
        darksalmon: "#e9967a",
        darkseagreen: "#8fbc8f",
        darkslateblue: "#483d8b",
        darkslategray: "#2f4f4f",
        darkslategrey: "#2f4f4f",
        darkturquoise: "#00ced1",
        darkviolet: "#9400d3",
        deeppink: "#ff1493",
        deepskyblue: "#00bfff",
        dimgray: "#696969",
        dimgrey: "#696969",
        dodgerblue: "#1e90ff",
        firebrick: "#b22222",
        floralwhite: "#fffaf0",
        forestgreen: "#228b22",
        fuchsia: "#ff00ff",
        gainsboro: "#dcdcdc",
        ghostwhite: "#f8f8ff",
        gold: "#ffd700",
        goldenrod: "#daa520",
        gray: "#808080",
        green: "#008000",
        greenyellow: "#adff2f",
        grey: "#808080",
        honeydew: "#f0fff0",
        hotpink: "#ff69b4",
        indianred: "#cd5c5c",
        indigo: "#4b0082",
        ivory: "#fffff0",
        khaki: "#f0e68c",
        lavender: "#e6e6fa",
        lavenderblush: "#fff0f5",
        lawngreen: "#7cfc00",
        lemonchiffon: "#fffacd",
        lightblue: "#add8e6",
        lightcoral: "#f08080",
        lightcyan: "#e0ffff",
        lightgoldenrodyellow: "#fafad2",
        lightgray: "#d3d3d3",
        lightgreen: "#90ee90",
        lightgrey: "#d3d3d3",
        lightpink: "#ffb6c1",
        lightsalmon: "#ffa07a",
        lightseagreen: "#20b2aa",
        lightskyblue: "#87cefa",
        lightslategray: "#778899",
        lightslategrey: "#778899",
        lightsteelblue: "#b0c4de",
        lightyellow: "#ffffe0",
        lime: "#00ff00",
        limegreen: "#32cd32",
        linen: "#faf0e6",
        magenta: "#ff00ff",
        maroon: "#800000",
        mediumaquamarine: "#66cdaa",
        mediumblue: "#0000cd",
        mediumorchid: "#ba55d3",
        mediumpurple: "#9370db",
        mediumseagreen: "#3cb371",
        mediumslateblue: "#7b68ee",
        mediumspringgreen: "#00fa9a",
        mediumturquoise: "#48d1cc",
        mediumvioletred: "#c71585",
        midnightblue: "#191970",
        mintcream: "#f5fffa",
        mistyrose: "#ffe4e1",
        moccasin: "#ffe4b5",
        navajowhite: "#ffdead",
        navy: "#000080",
        oldlace: "#fdf5e6",
        olive: "#808000",
        olivedrab: "#6b8e23",
        orange: "#ffa500",
        orangered: "#ff4500",
        orchid: "#da70d6",
        palegoldenrod: "#eee8aa",
        palegreen: "#98fb98",
        paleturquoise: "#afeeee",
        palevioletred: "#db7093",
        papayawhip: "#ffefd5",
        peachpuff: "#ffdab9",
        peru: "#cd853f",
        pink: "#ffc0cb",
        plum: "#dda0dd",
        powderblue: "#b0e0e6",
        purple: "#800080",
        rebeccapurple: "#663399",
        red: "#ff0000",
        rosybrown: "#bc8f8f",
        royalblue: "#4169e1",
        saddlebrown: "#8b4513",
        salmon: "#fa8072",
        sandybrown: "#f4a460",
        seagreen: "#2e8b57",
        seashell: "#fff5ee",
        sienna: "#a0522d",
        silver: "#c0c0c0",
        skyblue: "#87ceeb",
        slateblue: "#6a5acd",
        slategray: "#708090",
        slategrey: "#708090",
        snow: "#fffafa",
        springgreen: "#00ff7f",
        steelblue: "#4682b4",
        tan: "#d2b48c",
        teal: "#008080",
        thistle: "#d8bfd8",
        tomato: "#ff6347",
        turquoise: "#40e0d0",
        violet: "#ee82ee",
        wheat: "#f5deb3",
        white: "#ffffff",
        whitesmoke: "#f5f5f5",
        yellow: "#ffff00",
        yellowgreen: "#9acd32"
    };
    CSS.SL = function(A) {
        return "" + parseFloat(A.toFixed(3))
    };
    CSS.nS = function(w) {
        if (w == null) return {
            W: 0,
            a: 0,
            k: 0
        };
        var o = w.indexOf("(");
        if (o != -1) {
            var Q = w.slice(o + 1, w.length - 1).split(",");
            for (var M = 0; M < Q.length; M++) {
                var K = Q[M].trim();
                Q[M] = parseFloat(K) * (K.endsWith("%") ? 255 / 100 : 1)
            }
            return {
                W: Q[0],
                a: Q[1],
                k: Q[2]
            }
        }
        if (w.charAt(0) != "#") {
            var b = CSS.kF;
            if (b[w]) w = b[w];
            else console.log("unknown color " + w)
        }
        w = w.slice(1);
        if (w.length == 3) w = w[0] + w[0] + w[1] + w[1] + w[2] + w[2];
        w = parseInt(w, 16);
        return {
            W: w >> 16 & 255,
            a: w >> 8 & 255,
            k: w & 255
        }
    };
    CSS.gN = function(w, o) {
        return CSS.tc(v.V.c2(w), o)
    };
    CSS.tc = function(w, o) {
        if (o == null) o = 1;
        var Q = Math.round(w.W),
            K = Math.round(w.a),
            b = Math.round(w.k),
            R = Q << 16 | K << 8 | b;
        return o == 1 ? "#" + v.u9(R) : "rgba(" + Q + "," + K + "," + b + "," + o + ")"
    };
    CSS.TN = function(w) {
        var o = w.Grad.v;
        if (o.Clrs == null) return "";
        var Q = o.Clrs.v.slice(0),
            K = o.Trns.v.slice(0),
            b = w.Ofst.v,
            R = w.Type.v.GrdT == "Rdl" ? 1 : 0,
            X = (R == 1 ? "radial" : "linear") + "-gradient",
            h = R == 0 ? Math.round(-w.Angl.v.val + 90) + "deg" : "circle at center",
            e = w.Rvrs.v;
        if (e) {
            Q.reverse();
            K.reverse()
        }
        for (var M = 0; M < Q.length; M++) {
            var Z = Q[M].v,
                P = M < K.length ? K[M].v.Opct.v.val / 100 : 1,
                J = Z.Lctn.v / 4096;
            if (e) J = 1 - J;
            h += ", " + CSS.gN(Z.Clr.v, P) + " " + Math.round(J * 100) + "%"
        }
        return X + "(" + h + ")"
    };
    CSS.T4 = function(w, o, Q, K, b, R) {
        var X = o.Bq,
            h = K ? 1 : z.Z.Qz(Q),
            e = Math.round(X.FontSize * h);
        w.push("font-size: " + e + "px");
        var Z = X.Tracking;
        if (!K && Z != null && Z != 0) w.push("letter-spacing: " + Math.round(Z * e / 1e3) + "px");
        if (!X.AutoLeading) w.push("line-height: " + Math.round(X.Leading * h) + "px");
        if (X.Strikethrough) w.push("text-decoration: line-through");
        var P = fI.c2(X);
        P = [P.W, P.a, P.k].map(Math.round);
        w.push((K ? "fill: " : "color: ") + (R ? R : "#" + v.u9(P[0] << 16 | P[1] << 8 | P[2])));
        var J = o.IF[X.Font].Name;
        if (J) {
            var i = hm.zG.aS(J),
                k = "",
                $ = null,
                n = null;
            if (i != null && J != hm.Ql(i)) i = null;
            if (b && i) k += "\"" + J + "\", ";
            var j = J.toLowerCase();
            if (i) {
                $ = hm.wk(i)[0];
                if (i["OS/2"]) n = i["OS/2"].usWeightClass
            } else {
                $ = CSS.ab1(J);
                if (j.indexOf("light") != -1) n = 300;
                else if (j.indexOf("medium") != -1) n = 500;
                else if (j.indexOf("black") != -1 || j.indexOf("extrabold") != -1) n = 800;
                else if (j.indexOf("bold") != -1) n = "bold"
            }
            if ($ != null) k += "\"" + $ + "\"";
            if (n != null) w.push("font-weight: " + n);
            if (j.indexOf("italic") != -1 || j.indexOf("oblique") != -1) w.push("font-style: italic");
            if (k) w.push("font-family: " + k)
        }
        var y = o.j_.Justification;
        if (y != null && y != 0)
            if (K) w.push("text-anchor: " + ["start", "end", "middle"][y % 3]);
            else w.push("text-align: " + ["left", "right", "center"][y % 3])
    };
    CSS.ab1 = function(w) {
        w = w.split("-")[0];
        while (w.endsWith("MT") || w.endsWith("PS")) w = w.slice(0, w.length - 2);
        var o = !0;
        for (var M = 0; M < w.length; M++) {
            var Q = w.charAt(M);
            if (!o && Q.toLowerCase() != Q) {
                w = w.slice(0, M) + " " + w.slice(M);
                M++;
                o = !0
            } else o = !1
        }
        return w
    };

    function fE() {}
    fE.gj = {
        document: !0,
        parent: !0,
        top: !0,
        eval: !0,
        postMessage: !0,
        UTIF: !0,
        PIMG: !0,
        LNG: !0,
        FNTS: !0
    };
    fE.zl = function(w, o) {
        var Q = Date.now(),
            K;
        try {
            K = acorn.parse(w)
        } catch (b6) {
            console.log(b6);
            return
        }
        var b = JSON.parse(JSON.stringify(fE.Ky.BK));
        b.__return = !1;
        b.__break = !1;
        b.__throw = !1;
        b.__fs = {};
        b.__window = {};
        fE.eval(K, o, b);
        var R = b.__fs;
        if (Object.keys(R).length != 0) {
            var X = UZIP.encode(R);
            eP.save(X, "output.zip")
        }
    };
    fE.eval = function(w, o, Q) {
        var K = w.type;
        if (!1) {} else if (K == "Program" || K == "BlockStatement") {
            var b = w.body;
            for (var M = 0; M < b.length; M++) {
                var R = b[M].type;
                if (R == "FunctionDeclaration") Q[b[M].id.name] = b[M]
            }
            for (var M = 0; M < b.length; M++) {
                var R = b[M].type,
                    X = fE.eval(b[M], o, Q);
                if (Q.__return || Q.__break || Q.__throw) return X
            }
        } else if (K == "ReturnStatement") {
            Q.__return = !0;
            return w.argument ? fE.qc(w.argument, o, Q) : null
        } else if (K == "BreakStatement") {
            Q.__break = !0
        } else if (K == "VariableDeclaration") {
            var h = w.declarations;
            for (var M = 0; M < h.length; M++) fE.eval(h[M], o, Q)
        } else if (K == "VariableDeclarator") {
            Q[w.id.name] = w.init ? fE.qc(w.init, o, Q) : null
        } else if (K == "FunctionDeclaration") {
            Q[w.id.name] = w
        } else if (K == "MemberExpression") {
            var e = fE.qc(w.object, o, Q),
                Z = w.computed ? fE.qc(w.property, o, Q) : fE.eval(w.property, o, Q),
                X;
            if (e.dN != null) X = fE.Ky.Op(e, Z, o, Q);
            else if (e == window && fE.gj[Z]) {} else X = e[Z];
            return X
        } else if (K == "ArrayExpression") {
            var P = [],
                J = w.elements;
            for (var M = 0; M < J.length; M++) P.push(fE.qc(J[M], o, Q));
            return P
        } else if (K == "ObjectExpression") {
            var P = {},
                J = w.properties;
            for (var M = 0; M < J.length; M++) {
                var i = J[M],
                    k = J[M].key.name ? J[M].key.name : J[M].key.value;
                P[k] = fE.qc(J[M].value, o, Q)
            }
            return P
        } else if (K == "ExpressionStatement") {
            return fE.eval(w.expression, o, Q)
        } else if (K == "NewExpression") {
            var $ = w.arguments,
                n = w.callee,
                j = n.type,
                P = null;
            if (j == "Identifier") P = fE.Ky.amY(n.name, $, o, Q);
            else throw "e";
            if (P == null) throw "new " + n.name;
            return P
        } else if (K == "CallExpression") {
            var $ = w.arguments,
                n = w.callee,
                j = n.type,
                y = {};
            for (var V in Q) y[V] = Q[V];
            var O = [];
            for (var M = 0; M < $.length; M++) O.push(fE.qc($[M], o, Q));
            if (j == "Identifier") {
                var S = n.name,
                    G = Q[S];
                if (G) {
                    if (G.params) {
                        var D = G.params;
                        for (var M = 0; M < D.length; M++) y[D[M].name] = O[M];
                        return fE.eval(G.body, o, y)
                    } else {
                        return G.apply(null, O)
                    }
                } else if (fE.Ky.a80.indexOf(S) != -1) return fE.Ky.gs({
                    dN: "Application"
                }, S, O, o, Q);
                else if (window[S] == null) console.log("Unknown function " + S);
                else if (fE.gj[S]) alert(S + "() not available");
                else {
                    var q = window[S].apply(window, O);
                    return q
                }
            } else if (j == "MemberExpression") {
                var e = fE.qc(n.object, o, Q),
                    Z = n.computed ? fE.qc(n.property, o, Q) : fE.eval(n.property, o, Q);
                if (e == window && fE.gj[Z]) return;
                if (e.dN != null) return fE.Ky.gs(e, Z, O, o, Q);
                else return e[Z].apply(e, O)
            } else if (j == "FunctionExpression") {
                return fE.eval(n.body, o, Q)
            } else console.log(w)
        } else if (K == "AssignmentExpression") {
            var T = w.operator,
                L = w.left,
                N = L.type,
                F = fE.qc(L, o, Q),
                I = fE.qc(w.right, o, Q),
                X = null;
            if (!1) {} else if (T == "=") X = I;
            else if (T == "+=") X = F + I;
            else if (T == "-=") X = F - I;
            else if (T == "*=") X = F * I;
            else if (T == "/=") X = F / I;
            else if (T == "%=") X = F % I;
            else if (T == "&=") X = F & I;
            else if (T == "|=") X = F | I;
            else if (T == "&&=") X = F && I;
            else if (T == "||=") X = F || I;
            else console.log(w);
            if (N == "Identifier") {
                var s = L.name;
                if (Q.hasOwnProperty(s)) Q[s] = X;
                else Q.__window[s] = X
            } else if (N == "MemberExpression") {
                var u = fE.eval(L.property, o, Q),
                    g = fE.qc(L.object, o, Q);
                if (g.dN != null) fE.Ky.a64(g, u, X, o, Q);
                else g[u] = X
            } else console.log(w)
        } else if (K == "Identifier") return w.name;
        else if (K == "Literal") return w.value;
        else if (K == "UpdateExpression") {
            var T = w.operator,
                U = w.argument.name,
                P = fE.qc(w.argument, o, Q);
            if (!1) {} else if (T == "++") {
                Q[U]++;
                return w.prefix ? Q[U] : Q[U] - 1
            } else if (T == "--") {
                Q[U]--;
                return w.prefix ? Q[U] : Q[U] + 1
            } else console.log(w)
        } else if (K == "UnaryExpression") {
            var T = w.operator,
                r = fE.qc(w.argument, o, Q);
            if (r.dN == "UnitValue") {
                if (T == "-") return -r.F;
                else return fE.EP(r.F, T)
            } else return fE.EP(r, T)
        } else if (K == "BinaryExpression" || K == "LogicalExpression") {
            var T = w.operator,
                L = fE.qc(w.left, o, Q),
                r = fE.qc(w.right, o, Q);
            if (L == null || r == null) return fE.cT(L, r, T);
            else if (L.dN == "UnitValue" && r.dN == "UnitValue") return fE.cT(L.F, r.F, T);
            else if (L.dN == "UnitValue") return fE.cT(L.F, r, T);
            else if (r.dN == "UnitValue") {
                if (T == "-") return -(L - r.F);
                else return fE.cT(L, r.F, T)
            } else return fE.cT(L, r, T)
        } else if (K == "IfStatement" || K == "ConditionalExpression") {
            var x = fE.qc(w.test, o, Q);
            if (x) return fE.eval(w.consequent, o, Q);
            else if (w.alternate) return fE.eval(w.alternate, o, Q)
        } else if (K == "ForInStatement") {
            fE.eval(w.left, o, Q);
            var C = w.left.declarations[0].id.name,
                p = fE.qc(w.right, o, Q);
            for (var V in p) {
                Q[C] = V;
                var l = fE.eval(w.body, o, Q);
                if (Q.__break) break;
                if (Q.__return) return l
            }
            Q.__break = !1
        } else if (K == "ForStatement") {
            fE.eval(w.init, o, Q);
            while (fE.eval(w.test, o, Q)) {
                var l = fE.eval(w.body, o, Q);
                if (Q.__break) break;
                if (Q.__return) return l;
                fE.eval(w.update, o, Q)
            }
            Q.__break = !1
        } else if (K == "DoWhileStatement") {
            do {
                var l = fE.eval(w.body, o, Q);
                if (Q.__break) break;
                if (Q.__return) return l
            } while (fE.eval(w.test, o, Q));
            Q.__break = !1
        } else if (K == "TryStatement") {
            fE.eval(w.block, o, Q);
            if (Q.__throw) {
                var c = w.handler;
                Q[c.param.name] = Q.__throw;
                Q.__throw = !1;
                fE.eval(c.body, o, Q);
                delete Q[c.param.name]
            }
        } else if (K == "EmptyStatement") {} else console.log(w)
    };
    fE.cT = function(w, o, Q) {
        if (Q == "+") return w + o;
        else if (Q == "-") return w - o;
        else if (Q == "*") return w * o;
        else if (Q == "/") return w / o;
        else if (Q == "%") return w % o;
        else if (Q == "^") return w ^ o;
        else if (Q == "&") return w & o;
        else if (Q == "&&") return w && o;
        else if (Q == "|") return w | o;
        else if (Q == "||") return w || o;
        else if (Q == "<") return w < o;
        else if (Q == ">") return w > o;
        else if (Q == "==") return w == o;
        else if (Q == "<=") return w <= o;
        else if (Q == ">=") return w >= o;
        else if (Q == "!=") return w != o;
        else if (Q == "!==") return w !== o;
        else if (Q == "<<") return w << o;
        else if (Q == ">>") return w >> o;
        else console.log(Q)
    };
    fE.EP = function(w, o) {
        if (o == "-") return -w;
        else if (o == "!") return !w;
        else if (o == "~") return ~w;
        else if (o == "+") return w;
        else console.log(obj)
    };
    fE.qc = function(w, o, Q) {
        var K = w.type;
        if (K == "Identifier") return fE.acp(w.name, o, Q);
        else return fE.eval(w, o, Q)
    };
    fE.acp = function(w, o, Q) {
        if (w == "undefined") return undefined;
        else if (Q.hasOwnProperty(w)) return Q[w];
        else if (w == "app") return {
            dN: "Application"
        };
        else if (w == "$") return {
            dN: "$"
        };
        else if (fE.Ky.alb.indexOf(w) != -1) return fE.Ky.Op({
            dN: "Application"
        }, w, o, Q);
        else if (window[w] && !fE.gj[w]) return window[w];
        else {
            Q[w] = null;
            return null
        }
    };
    fE.Ky = {};
    fE.Ky.amY = function(w, o, Q, K) {
        var b;
        if (w == "SolidColor") b = {
            dN: w,
            F: [1, 0, 0, 0]
        };
        if (w == "Window") b = {
            dN: w,
            F: new bI(fE.eval(o[0], Q, K), fE.eval(o[1], Q, K), fE.eval(o[2], Q, K))
        };
        if (w == "ExportOptionsSaveForWeb") b = {
            dN: w,
            F: {
                rZ: "png",
                WY: 100
            }
        };
        if (w == "JPEGSaveOptions") b = {
            dN: w,
            F: {
                rZ: "jpg",
                WY: 100
            }
        };
        if (w == "File") b = {
            dN: w,
            F: fE.eval(o[0], Q, K)
        };
        if (w == "ActionReference") b = {
            dN: w,
            F: []
        };
        if (w == "ActionDescriptor") b = {
            dN: w,
            F: {}
        };
        return b
    };
    fE.Ky.alb = "activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
    fE.Ky.a80 = ["charIDToTypeID", "stringIDToTypeID", "executeAction", "executeActionGet", "doAction"];
    fE.Ky.Op = function(w, o, Q, K) {
        var b = Q.jj,
            R = Q.B9();
        if (!1) {} else if (o == "typename") {
            if (w.dN == "Layer") return w.F.xI() ? "LayerSet" : "ArtLayer";
            else return w.dN
        } else if (["Document", "Layer"].indexOf(w.dN) != -1 && ["layers", "artLayers", "layerSets"].indexOf(o) != -1) {
            var X = R.root,
                h = {
                    dN: "Layers",
                    wv: o,
                    F: []
                };
            if (w.dN == "Layer") X = R.root.o8(R.t.indexOf(w.F));
            if (X.children == null) return null;
            for (var M = 0; M < X.children.length; M++) {
                var e = X.children[M].p,
                    Z = e.xI();
                if (Z && o == "artLayers" || !Z && o == "layerSets") continue;
                h.F.push({
                    dN: "Layer",
                    F: e
                })
            }
            h.F.reverse();
            return h
        } else if (w.dN == "Documents" || w.dN == "Layers" || w.dN == "HistoryStates") {
            if (!1) {} else if (o == "length") return w.F.length;
            else if (Number.isInteger(o)) return w.F[o];
            else console.log(w.dN + ": unknown property ", o)
        } else if (w.dN == "Application") {
            if (!1) {} else if (o == "activeDocument") return {
                dN: "Document",
                F: Q.B9()
            };
            else if (o == "documents") {
                var h = {
                    dN: "Documents",
                    F: []
                };
                for (var M = 0; M < Q.U$.length; M++) h.F.push({
                    dN: "Document",
                    F: Q.U$[M]
                });
                return h
            } else if (o == "fonts") return {
                dN: "TextFonts"
            };
            else if (o == "preferences") return {
                dN: "Preferences"
            };
            else if (o == "displayDialogs") return {
                dN: "DialogModes"
            };
            else if (o == "foregroundColor" || o == "backgroundColor") {
                var P = o[0] == "f" ? b.x1 : b.TT;
                return {
                    dN: "SolidColor",
                    F: [1, (P >>> 16 & 255) / 255, (P >>> 8 & 255) / 255, (P >>> 0 & 255) / 255]
                }
            } else if (o == "UI") return {
                dN: "UI"
            };
            else console.log(w, o)
        } else if (w.dN == "Document") {
            var R = w.F;
            if (!1) {} else if (o == "activeLayer") {
                var e = R.t[R.u[0]];
                return {
                    dN: "Layer",
                    F: e
                }
            } else if (o == "resolution") return R.cK;
            else if (o == "width") return R.D;
            else if (o == "height") return R.j;
            else if (o == "name") return R.name;
            else if (o == "saved") return !R.ED();
            else if (o == "selection") return {
                dN: "Selection"
            };
            else if (o == "activeHistoryState") return {
                dN: "HistoryState",
                qX: R.A3
            };
            else if (o == "source") return R.PU;
            else if (o == "historyStates") {
                var J = [];
                for (var M = 0; M < R.history.length; M++) J.push({
                    dN: "HistoryState",
                    qX: M
                });
                return {
                    dN: "HistoryStates",
                    F: J
                }
            } else console.log(w, o)
        } else if (w.dN == "Layer") {
            var i = {
                    transparentPixelsLocked: 0,
                    pixelsLocked: 1,
                    positionLocked: 2,
                    allLocked: 31
                },
                e = w.F;
            if (!1) {} else if (o == "visible") return e.HY();
            else if (o == "selected") return R.u.indexOf(R.t.indexOf(e)) != -1;
            else if (o == "grouped") return e.xx;
            else if (i[o] != null) return e.cp(i[o]);
            else if (o == "opacity") return e.opacity * 100 / 255;
            else if (o == "blendMode") return e.TC;
            else if (o == "name") return e.getName();
            else if (o == "textItem") return {
                dN: "TextItem",
                F: e
            };
            else if (o == "bounds") {
                var k = z.Z.vG(R, [R.t.indexOf(e)]);
                return fE.Ky.kT(k, R)
            } else if (o == "parent") {
                var $ = Q.U$;
                for (var M = 0; M < $.length; M++)
                    if ($[M].t.indexOf(e) != -1) return {
                        dN: "Document",
                        F: $[M]
                    }
            } else if (o == "kind") {
                var n = fE.Ky.bB;
                for (var M = 0; M < n.length; M++)
                    if (e.add[n[M]] != null) return M;
                return 0
            } else console.log(w, o)
        } else if (w.dN == "Selection") {
            if (!1) {} else if (o == "bounds") return fE.Ky.kT(Q.B9().o.rect, R);
            else console.log(w, o)
        } else if (w.dN == "TextItem") {
            var j = w.F.add.TySh,
                y = j.rr,
                V = fI.KG(y),
                O = j.H.Qz(),
                S = fI.UP(y, 0, Math.max(0, V.length - 2));
            if (o == "contents") return V.slice(0, V.length - 1).replace(/\n/g, "\r");
            else if (o == "font") return S.Bq.Font != null ? S.IF[S.Bq.Font].Name : null;
            else if (o == "size") return fE.Ky.zy(S.Bq.FontSize * O, R);
            else if (o == "leading") return fE.Ky.zy(S.Bq.Leading * O, R);
            else if (o == "tracking") return fE.Ky.zy(S.Bq.Tracking);
            else if (o == "kind") return 1 - fI.bv(y);
            else if (o == "useAutoLeading") return S.j_.AutoLeading;
            else if (o == "hyphenation") return S.j_.AutoHyphenate;
            else if (o == "color") return {
                dN: "SolidColor",
                F: S.Bq.FillColor.Values.slice(0)
            };
            else if (o == "width" || o == "height") {
                var G = fI.YN(y),
                    D = (G[2] - G[0]) * O,
                    q = (G[3] - G[1]) * O;
                return fE.Ky.zy(o == "width" ? D : q, R)
            } else if (o == "position") {
                var T = j.H;
                return fE.Ky.RW([T.xy, T.r6], R)
            } else if (o == "horizontalScale" || o == "verticalScale") {
                var L = o[0].toUpperCase() + o.slice(1);
                return Math.round(S.Bq[L] * 100)
            } else console.log(w, o)
        } else if (w.dN == "Preferences") {
            if (o == "rulerUnits") return b.w1.D5;
            else console.log(w, o)
        } else if (w.dN == "SolidColor") {
            if (o == "rgb") return {
                dN: "RGBColor",
                F: w.F
            };
            else console.log(w, o)
        } else if (w.dN == "RGBColor") {
            var k = Math.round(255 * w.F[1]),
                N = Math.round(255 * w.F[2]),
                F = Math.round(255 * w.F[3]);
            if (!1) {} else if (o == "red") return k;
            else if (o == "green") return N;
            else if (o == "blue") return F;
            else if (o == "hexValue") return "#" + v.u9(k << 16 | N << 8 | F).toUpperCase();
            else console.log(w, o)
        } else if (w.dN == "UnitValue") {
            if (o == "value") return w.F;
            else throw "e"
        } else if (w.dN == "ExportOptionsSaveForWeb") {
            if (o == "format") return w.F.rZ;
            else if (o == "PNG8") return !1;
            else if (o == "quality") return w.F.WY;
            else throw o
        } else if (w.dN == "JPEGSaveOptions") {
            return 0
        } else console.log(w, o)
    };
    fE.Ky.kT = function(w, o) {
        return fE.Ky.RW([w.x, w.y, w.x + w.D, w.y + w.j], o)
    };
    fE.Ky.RW = function(w, o) {
        var Q = [];
        for (var M = 0; M < w.length; M++) Q.push(fE.Ky.zy(w[M], o));
        return Q
    };
    fE.Ky.xS = function(w) {
        var o = [];
        for (var M = 0; M < w.length; M++) o.push(w[M].dN ? w[M].F : w[M]);
        return o
    };
    fE.Ky.zy = function(w, o) {
        return {
            dN: "UnitValue",
            F: w
        }
    };
    fE.Ky.ajZ = function(w, o) {
        if (w.dN == "UnitValue") return w.F;
        return w
    };
    fE.Ky.a64 = function(w, o, Q, K, b) {
        var R = new Y(_.E.z, !0),
            X = new Y(_.E.N, !0),
            h = K.B9(),
            e = K.jj;
        if (!1) {} else if (w.dN == "Application") {
            if (!1) {} else if (o == "activeDocument") {
                X.data = {
                    e: _.S.fO,
                    xN: Q.F
                };
                K.A(X)
            } else if (o == "displayDialogs") {} else console.log(w, o, Q)
        } else if (w.dN == "Document") {
            var Z = w.F;
            if (!1) {} else if (o == "name") {
                R.f = z.lz;
                R.data = {
                    e: a.LF,
                    F: Q,
                    ahZ: !0,
                    kP: Z
                };
                h.rn = !0
            } else if (o == "source") Z.PU = Q;
            else if (o == "activeLayer") {
                Z.u = [Z.t.indexOf(Q.F)]
            } else if (o == "activeHistoryState") {
                R.f = z.Rq;
                R.data = {
                    e: "h_itemchange",
                    index: Q.qX
                }
            } else console.log(w, o)
        } else if (w.dN == "Layer") {
            R.f = z.lz;
            var P = {
                    transparentPixelsLocked: 0,
                    pixelsLocked: 1,
                    positionLocked: 2,
                    allLocked: 31
                },
                J = w.F,
                i = h.t.indexOf(J);
            if (!1) {} else if (o == "visible") {
                if (J.HY() != Q) R.data = {
                    e: a.k7,
                    p: i
                }
            } else if (o == "opacity") {
                R.data = {
                    e: a.IL,
                    p: i,
                    tu: Math.round(255 * Q / 100)
                }
            } else if (o == "blendMode") {
                R.data = {
                    e: a._3,
                    p: i,
                    tu: hL.IM.indexOf(Q)
                }
            } else if (o == "name") {
                R.data = {
                    e: a.SX,
                    p: i,
                    name: Q
                }
            } else if (P[o] != null) {
                R.data = {
                    e: a.fp,
                    p: i,
                    tu: [
                        [Q],
                        [P[o]]
                    ]
                }
            } else if (o == "kind") {
                R.data = {
                    e: a.sg,
                    p: i,
                    qa: fE.Ky.bB[Q]
                }
            } else if (o == "grouped") {
                R.data = {
                    e: a.nR,
                    p: i,
                    tu: Q
                }
            } else console.log(w, o, Q)
        } else if (w.dN == "TextItem") {
            R.f = z.wy;
            var J = w.F,
                k = J.add.TySh,
                $ = JSON.parse(JSON.stringify(k.rr)),
                n = k.H.clone(),
                j = k.H.Qz(),
                y = fI.KG($),
                V = fI.UP($, 0, y.length - 2),
                O = !1;
            if (!1) {} else if (o == "contents") {
                fI.Nf($, 0, y.length - 1);
                fI.L$($, 0, Q.replace(/\r/g, "\n"))
            } else if (o == "size") {
                V.Bq.FontSize = (Q.F != null ? Q.F : Q) / j;
                O = !0
            } else if (o == "leading") {
                V.Bq.Leading = (Q.F != null ? Q.F : Q) / j;
                O = !0
            } else if (o == "tracking") {
                V.Bq.Tracking = Q.F != null ? Q.F : Q;
                O = !0
            } else if (o == "kind") {
                var S = fI.bv($);
                if (S == 1 && Q == 1) {
                    var G = new gm($, K.jj.md).j_[0],
                        D = G.JR[0].end,
                        q = G.GH[D - 1].end;
                    fI.Nf($, 0, y.length - 1);
                    fI.L$($, 0, y.slice(0, q - 1))
                }
                if (S == Q) fI.c9($, 1 - Q)
            } else if (o == "useAutoLeading") {
                V.j_.AutoLeading = Q;
                O = !0
            } else if (o == "hyphenation") {
                V.j_.AutoHyphenate = Q;
                O = !0
            } else if (o == "font") {
                fI.aE(V, Q);
                O = !0
            } else if (o == "color") {
                V.Bq.FillColor.Values = Q.F.slice(0);
                O = !0
            } else if (o == "width" || o == "height") {
                var T = fI.YN($).slice(0);
                if (o == "width") T[2] = Math.round(T[0] + Q / j);
                else T[3] = Math.round(T[1] + Q / j);
                fI.I5($, T)
            } else if (o == "position") {
                n.xy = Q[0];
                n.r6 = Q[1]
            } else if (o == "horizontalScale" || o == "verticalScale") {
                var L = o[0].toUpperCase() + o.slice(1);
                V.Bq[L] = Q / 100;
                O = !0
            } else console.log(w, o, Q);
            if (O) fI.Lj($, 0, y.length - 1, V);
            R.data = {
                e: "newED",
                Gu: h.t.indexOf(J),
                RG: $,
                H: n
            }
        } else if (w.dN == "Preferences") {
            if (!1) {} else if (o == "rulerUnits") {
                var N = JSON.parse(JSON.stringify(e.w1));
                N.D5 = Q;
                X.data = {
                    e: _.S.UA,
                    pO: d5.PO,
                    tu: N
                };
                K.A(X)
            } else console.log(w, o, Q)
        } else if (w.dN == "RGBColor") {
            if (!1) {} else if (o == "red") w.F[1] = Q / 255;
            else if (o == "green") w.F[2] = Q / 255;
            else if (o == "blue") w.F[3] = Q / 255;
            else if (o == "hexValue") {
                var F = v.$Z(Q.slice(1));
                w.F[1] = (F >>> 16 & 255) / 255;
                w.F[2] = (F >>> 8 & 255) / 255;
                w.F[3] = (F >>> 0 & 255) / 255
            } else console.log(w, o)
        } else if (w.dN == "ExportOptionsSaveForWeb") {
            if (o == "format") w.F.rZ = Q;
            else if (o == "PNG8") {} else if (o == "quality") w.F.WY = Q;
            else throw "e"
        } else if (w.dN == "JPEGSaveOptions") {
            if (o == "quality") w.F.WY = Math.round(100 * Q / 12)
        } else console.log(w, o, Q);
        if (R.data != null) K.A(R)
    };
    fE.Ky.gs = function(w, o, Q, K, b) {
        var R = w.dN,
            X = null,
            h = new Y(_.E.z, !0),
            e = new Y(_.E.e9, !0),
            Z = new Y(_.E.N, !0),
            P = K.B9(),
            J = K.U$;
        if (!1) {} else if (R == "Application") {
            if (!1) {} else if (o == "charIDToTypeID") {
                var i = Q[0].trim(),
                    k = {
                        Lvls: "levels",
                        slct: "select",
                        Dlt: "delete"
                    };
                return k[i] ? k[i] : i
            } else if (o == "stringIDToTypeID") {
                var $ = Q[0].trim(),
                    k = {
                        red: "Rd",
                        blue: "Bl",
                        color: "Clr",
                        RGBColor: "RGBC",
                        type: "Type",
                        using: "Usng"
                    },
                    n = k[$];
                return n == null ? $ : n
            } else if (o == "executeAction") {
                console.log(Q);
                var j;
                if (Q[1]) {
                    j = Q[1].F;
                    j.classID = Q[0]
                }
                var y = {
                        setd: "set"
                    },
                    V = y[Q[0]];
                if (V == null) V = Q[0];
                e.data = {
                    hj: V,
                    H8: j
                }
            } else if (o == "executeActionGet") {
                return {
                    dN: "ActionDescriptor",
                    F: {
                        classID: "null",
                        null: {
                            t: "obj ",
                            v: Q[0].F
                        }
                    }
                }
            } else if (o == "doAction") {
                Z.data = {
                    e: _.S.n6,
                    EG: [Q[0], Q[1]]
                }
            } else if (o == "open") {
                Z.data = {
                    e: _.S.YU,
                    pO: {
                        url: Q[0]
                    }
                };
                if (Q[2] && J.length != 0) Z.data.pO.qf = J.indexOf(P)
            } else if (o == "echoToOE") {
                Z.data = {
                    e: _.S.y6,
                    pO: Q[0]
                }
            } else console.log(o)
        } else if (R == "Document") {
            var P = w.F;
            if (!1) {} else if (o == "trim") {
                var O = [];
                for (var M = 0; M < 4; M++) O.push(Q[M + 1] != null ? Q[M + 1] : !0);
                e.data = z.U0.FJ(Q[0] != null ? Q[0] : 0, O)
            } else if (o == "suspendHistory") {
                var S = acorn.parse(Q[1]);
                fE.eval(S, K, b)
            } else if (o == "save") {
                Z.data = {
                    e: _.S.O8
                }
            } else if (o == "saveToOE") {
                Z.data = {
                    e: _.S.O8,
                    am5: Q
                }
            } else if (o == "rotateCanvas") {
                e.data = z.Z.TS(!0, Q[0])
            } else if (o == "resizeImage" || o == "resizeCanvas") {
                var G = Q[0],
                    D = Q[1];
                if (typeof G != "number") {
                    G = P.D * parseFloat(G.slice(0, G.length - 1)) / 100;
                    D = P.j * parseFloat(D.slice(0, D.length - 1)) / 100
                }
                if (o == "resizeCanvas") e.data = z.U0.TA(Math.round(G), Math.round(D), Q[2]);
                else e.data = z.U0.ES(Math.round(G), Math.round(D), null, 1)
            } else if (o == "paste") {
                Z.data = {
                    e: _.S.a7
                }
            } else if (o == "close") {
                Z.data = {
                    e: _.S.Vs,
                    qj: P
                }
            } else if (o == "exportDocument" || o == "saveAs") {
                var q = b.__fs,
                    T = Q[0].F.replace(":", "").replace("~/", ""),
                    L = o == "exportDocument" ? Q[2].F : Q[1].F,
                    N = ip.P2(P, L.rZ, null, null, [L.WY], K.jj);
                q[T] = new Uint8Array(N)
            } else console.log(w, o, Q)
        } else if (R == "Layer") {
            var F = w.F,
                I = P.t.indexOf(F);
            if (!1) {} else if (o == "copy") {
                fE.Ky.bc(P, K, 0);
                Z.data = {
                    e: _.S.Gy,
                    fI: Q[0],
                    zd: I
                };
                K.A(Z);
                delete Z.data;
                fE.Ky.bc(P, K, 1)
            } else if (o == "clear") {
                fE.Ky.bc(P, K, 0);
                e.data = {
                    hj: "delete"
                };
                K.A(e);
                delete e.data;
                fE.Ky.bc(P, K, 1)
            } else if (o == "duplicate") {
                if (Q.length == 0) {
                    h.data = {
                        e: a.NK,
                        p: I
                    };
                    h.f = z.lz;
                    K.A(h);
                    h.data = null;
                    X = {
                        dN: "Layer",
                        F: P.t[P.u[0]]
                    }
                } else if (Q[0].dN == "Document") {
                    h.data = {
                        e: a.s9,
                        t: P.ff(I),
                        Fb: P,
                        Mc: Q[0].F
                    };
                    h.f = z.lz
                }
            } else if (o == "merge" || o == "remove") {
                h.data = {
                    e: o == "merge" ? a.NH : a.kG,
                    p: I
                };
                h.f = z.lz;
                if (o != "remove") X = {
                    dN: "Layer",
                    F: P.t[P.u[0]]
                }
            } else if (o == "move") {
                h.data = {
                    e: a.o5,
                    source: I,
                    target: P.t.indexOf(Q[0].F),
                    zS: Q[1] != 3 ? .6 : .3
                };
                h.f = z.lz
            } else if (o == "rasterize") {
                e.data = {
                    hj: "rasterizeLayer",
                    H8: {
                        classID: "rasterizeLayer",
                        null: hX.EX("Lyr", !0)
                    }
                }
            } else if (o == "rotate") {
                h.data = {
                    e: "rot",
                    Wp: [2, 5],
                    F: -Q[0] * Math.PI / 180,
                    Qg: Q[1],
                    p: I
                };
                h.f = z.Go
            } else if (o == "resize") {
                h.data = {
                    e: "scl",
                    Wp: [2, 4],
                    F: new fB(Q[0] / 100, Q[1] / 100),
                    Qg: Q[2],
                    p: I
                };
                h.f = z.Go
            } else if (o == "translate") {
                var s = fE.Ky.xS(Q);
                h.data = {
                    e: "trsl",
                    p: I,
                    anH: s[0],
                    aiY: s[1]
                };
                h.f = z.sk
            } else if (o == "link") {
                h.data = {
                    e: a.lZ,
                    ad1: [I, P.t.indexOf(Q[0].F)]
                };
                h.f = z.lz
            } else if (o == "invert") {
                h.f = z.U1;
                h.data = {
                    e: "start",
                    uQ: "nvrt"
                }
            } else if (o.startsWith("apply") && bf.tw[o.slice(5)]) {
                var s = fE.Ky.xS(Q),
                    u = bf.tw[o.slice(5)];
                e.data = {
                    hj: bf.k_[u]
                };
                var j = bf._R(u);
                if (j) {
                    bf.MR["g" + u](j, s);
                    e.data.H8 = j
                }
            } else console.log(w, o, Q)
        } else if (R == "Documents") {
            if (o == "getByName") {
                for (var M = 0; M < J.length; M++)
                    if (J[M].name == Q[0]) return {
                        dN: "Document",
                        F: J[M]
                    };
                return null
            } else if (o == "add") {
                var g = Q[5];
                if (g == null) g = 1;
                e.data = fb.Xy(Q[0], Q[1], Q[2], Q[3], ["Wht", "Trns", "BckC"][g])
            } else throw "e"
        } else if (R == "Layers") {
            if (o == "getByName") {
                for (var M = 0; M < w.F.length; M++)
                    if (w.F[M].F.getName() == Q[0]) {
                        X = w.F[M];
                        break
                    } if (X == null) b.__throw = {
                    message: "No layer with a name " + Q[0]
                }
            } else if (o == "add") {
                h.data = {
                    e: w.wv == "layerSets" ? a.Fm : a.Dn
                };
                h.f = z.lz;
                K.A(h);
                h.data = null;
                X = {
                    dN: "Layer",
                    F: P.t[P.u[0]]
                }
            } else console.log(w, o, Q)
        } else if (w.dN == "Selection") {
            if (o == "select") {
                var U = Q[0],
                    r = [];
                for (var M = 0; M < U.length; M++) r.push(U[M][0], U[M][1]);
                e.data = z.hz.KX(r)
            } else if (o == "selectAll") {
                e.data = z.hz.RL(!0)
            } else if (o == "invert") {
                e.data = {
                    hj: "inverse"
                }
            } else if (o == "copy") {
                Z.data = {
                    e: _.S.Gy
                }
            } else if (o == "deselect") {
                e.data = z.hz.RL()
            } else if (o == "fill") {
                var x = Q[0].F;
                x = v.V.Kt({
                    W: x[1] * 255,
                    a: x[2] * 255,
                    k: x[3] * 255
                });
                e.data = z.bA.M3("Clr", Q[1], Q[2] == null ? 1 : Q[2] / 100, x)
            } else console.log(w, o, Q)
        } else if (w.dN == "Window") {
            if (o == "show") {
                Z.data = {
                    e: _.S.QH,
                    hX: w.F
                }
            } else throw "e"
        } else if (w.dN == "ActionReference") {
            if (o == "putProperty") {
                w.F.push({
                    t: "prop",
                    v: {
                        classID: Q[0],
                        keyID: Q[1]
                    }
                })
            } else if (o == "putClass") {
                w.F.push({
                    t: "Clss",
                    v: {
                        classID: Q[0]
                    }
                })
            } else if (o == "putEnumerated") {
                w.F.push({
                    t: "Enmr",
                    v: {
                        classID: Q[0],
                        typeID: Q[1],
                        enum: Q[2]
                    }
                })
            } else console.log(o, Q)
        } else if (w.dN == "ActionDescriptor") {
            if (o == "putReference") {
                w.F[Q[0]] = {
                    t: "obj ",
                    v: Q[1].F
                }
            } else if (o == "putDouble") {
                w.F[Q[0]] = {
                    t: "doub",
                    v: Q[1]
                }
            } else if (o == "putUnitDouble") {
                w.F[Q[0]] = {
                    t: "UntF",
                    v: {
                        type: Q[1],
                        val: Q[2]
                    }
                }
            } else if (o == "putObject") {
                var C = Q[2].F;
                C.classID = Q[1];
                w.F[Q[0]] = {
                    t: "Objc",
                    v: C
                }
            } else if (o == "putBoolean") {
                w.F[Q[0]] = {
                    t: "bool",
                    v: Q[1]
                }
            } else if (o == "hasKey") {
                var p = w.F.null.v;
                for (var M = 0; M < p.length; M++) {
                    if (p[M].v.keyID == Q[0]) {
                        if (Q[0] == "UsrM") {
                            return P.t[P.u[0]]._f() != null
                        } else throw Q
                    }
                }
            } else console.log(o, Q)
        } else if (w.dN == "$") {
            if (o == "writeln") {
                console.log(Q[0])
            } else throw o
        } else if (w.dN == "UI") {
            var l;
            if (o == "zoomIn" || o == "zoomOut") {
                l = {
                    e: "zoom",
                    w8: o == "zoomIn"
                }
            } else if (o == "fitTheArea") {
                l = {
                    e: "adapt",
                    F: "fitscr"
                }
            } else if (o == "pixelToPixel") {
                l = {
                    e: "adapt",
                    F: "pixel"
                }
            }
            h.f = z.xT;
            h.data = l
        } else console.log(w, o, Q);
        if (h.data) K.A(h);
        if (e.data) K.A(e);
        if (Z.data) K.A(Z);
        return X
    };
    fE.Ky.bc = function(w, o, Q) {
        var K = new Y(_.E.z, !0);
        K.f = z.By;
        var b = new Y(_.E.e9, !0);
        if (Q == 0) {
            fE.Ky.Be = w.o;
            b.data = z.hz.RL(!0)
        } else {
            var R = fE.Ky.Be;
            if (R) K.data = {
                e: "setsel",
                Wp: "Restore Selection",
                o: {
                    rect: R.rect.clone(),
                    channel: R.channel.slice(0)
                }
            };
            else b.data = z.hz.RL()
        }
        o.A(K.data ? K : b)
    };
    fE.Ky.Be = null;
    fE.Ky.BK = {
        AnchorPosition: {
            TOPLEFT: 0,
            TOPCENTER: 1,
            TOPRIGHT: 2,
            MIDDLELEFT: 3,
            MIDDLECENTER: 4,
            MIDDLERIGHT: 5,
            BOTTOMLEFT: 6,
            BOTTOMCENTER: 7,
            BOTTOMRIGHT: 8
        },
        Units: {
            PIXELS: 0,
            INCHES: 1,
            CM: 2,
            MM: 3,
            PERCENT: 4,
            PICAS: 5,
            POINTS: 6
        },
        ElementPlacement: {
            INSIDE: 0,
            PLACEATBEGINNING: 1,
            PLACEATEND: 2,
            PLACEBEFORE: 3,
            PLACEAFTER: 4
        },
        LayerKind: {
            NORMAL: 0,
            SMARTOBJECT: 1,
            TEXT: 2,
            SOLIDFILL: 3,
            GRADIENTFILL: 4,
            PATTERNFILL: 5
        },
        RippleSize: {
            SMALL: 0,
            MEDIUM: 1,
            LARGE: 2
        },
        PolarConversionType: {
            POLARTORECTANGULAR: 1,
            RECTANGULARTOPOLAR: 0
        },
        OffsetUndefinedAreas: {
            REPEATEDGEPIXELS: 0,
            SETTOBACKGROUND: 1,
            WRAPAROUND: 2
        },
        NoiseDistribution: {
            GAUSSIAN: 0,
            UNIFORM: 1
        },
        TextType: {
            PARAGRAPHTEXT: 0,
            POINTTEXT: 1
        },
        DialogModes: {
            ALL: 0,
            ERROR: 1,
            NO: 2
        },
        SaveOptions: {
            DONOTSAVECHANGES: 0,
            PROMPTTOSAVECHANGES: 1,
            SAVECHANGES: 2
        },
        SaveDocumentType: {
            PNG: "png",
            JPEG: "jpg",
            COMPUSERVEGIF: "gif"
        },
        ExportType: {
            SAVEFORWEB: 0
        },
        MatteType: {
            BACKGROUND: 0,
            BLACK: 1,
            FOREGROUND: 2,
            NETSCAPE: 3,
            NONE: 4,
            SEMIGRAY: 5,
            WHITE: 6
        },
        FormatOptions: {
            OPTIMIZEDBASELINE: 0,
            PROGRESSIVE: 1,
            STANDARDBASELINE: 3
        },
        DocumentMode: {
            RGB: 0
        },
        NewDocumentMode: {
            RGB: 0
        },
        DocumentFill: {
            WHITE: 0,
            TRANSPARENT: 1,
            BACKGROUNDCOLOR: 2
        },
        TrimType: {
            TOPLEFT: 0,
            BOTTOMRIGHT: 1,
            TRANSPARENT: 2
        },
        BlendMode: {
            NORMAL: "norm",
            DISSOLVE: "diss",
            DARKEN: "dark",
            MULTIPLY: "mul ",
            COLORBURN: "idiv",
            LINEARBURN: "lbrn",
            DARKERCOLOR: "dkCl",
            LIGHTEN: "lite",
            SCREEN: "scrn",
            COLORDODGE: "div ",
            LINEARDODGE: "lddg",
            LIGHTERCOLOR: "lgCl",
            OVERLAY: "over",
            SOFTLIGHT: "sLit",
            HARDLIGHT: "hLit",
            VIVIDLIGHT: "vLit",
            LINEARLIGHT: "lLit",
            PINLIGHT: "pLit",
            HARDMIX: "hMix",
            DIFFERENCE: "diff",
            EXCLUSION: "smud",
            SUBTRACT: "fsub",
            DIVIDE: "fdiv",
            HUE: "hue ",
            SATURATION: "sat ",
            COLOR: "colr",
            LUMINOSITY: "lum "
        }
    };
    fE.Ky.BK.ColorBlendMode = fE.Ky.BK.BlendMode;
    fE.Ky.bB = "---- SoLd TySh SoCo GdFl PtFl".split(" ");

    function d0() {}
    d0.ol = {
        "dc:Title": ["", null, "dc:title"],
        "tiff:Artist": ["", 315, "dc:creator"],
        "tiff:ImageDescription": ["", 270, "dc:description"],
        "dc:Keywords": ["", null, "dc:subject"],
        "tiff:Copyright": ["", 33432],
        "tiff:Make": ["", 271],
        "tiff:Model": ["", 272],
        "exif:ExposureTime": [
            [1, 200], 33434
        ],
        "exif:FNumber": [
            [16, 1], 33437
        ],
        "exif:ExposureProgram": [1, 34850],
        "exif:ISOSpeedRatings": [200, 34855],
        "exif:DateTimeOriginal": ["", 36867],
        "exif:ShutterSpeedValue": [
            [1, 1], 37377
        ],
        "exif:ApertureValue": [
            [8, 1], 37378
        ],
        "exif:ExposureBiasValue": [
            [1, 1], 37380
        ],
        "exif:MaxApertureValue": [
            [1, 1], 37381
        ],
        "exif:MeteringMode": [5, 37383],
        "exif:LightSource": [0, 37384],
        "exif:Flash": [0, 37385],
        "exif:FocalLength": [
            [60, 1], 37386
        ],
        "exif:PixelXDimension": [1, 40962],
        "exif:PixelYDimension": [1, 40963],
        "exif:FocalPlaneXResolution": [
            [1, 1], 41486
        ],
        "exif:FocalPlaneYResolution": [
            [1, 1], 41487
        ],
        "exif:FocalPlaneResolutionUnit": [2, 41488],
        "exif:DigitalZoomRatio": [
            [100, 100], 41988
        ],
        "exif:FocalLengthIn35mmFilm": [1, 41989],
        "exif:SceneCaptureType": [0, 41990],
        "exif:LensInfo": ["", 42034],
        "exif:Lens": ["", 42036],
        "exif:LensSerialNumber": ["", 42037],
        "exif:SensitivityType": [2, 34864],
        "exif:RecommendedExposureIndex": [100, 34866],
        "exif:GPSVersionID": ["2.3.0.0", 0],
        "exif:GPSLatitude": ["48,35,57.646N", 2],
        "exif:GPSLongitude": ["22,56,42.238E", 4],
        "exif:GPSAltitudeRef": [0, 5],
        "exif:GPSAltitude": [
            [1, 1], 6
        ],
        "exif:GPSStatus": ["A", 9],
        "exif:GPSMapDatum": ["", 18]
    };
    d0.g2 = function(w, o) {
        if (o == null) o = {};
        var Q = new DOMParser,
            K = Q.parseFromString(w, "image/svg+xml"),
            b = K.getElementsByTagName("rdf:Description")[0];
        if (b == null) return o;
        var R = d0.ol;
        for (var X in R) {
            var h = R[X][2];
            if (h == null) continue;
            var e = b.getElementsByTagName(h)[0];
            if (e == null) continue;
            var eh = e.getElementsByTagName("rdf:li"),
                Z = [];
            for (var M = 0; M < eh.length; M++) Z.push(eh[M].textContent);
            o[X] = Z.join("; ")
        }
        return o
    };
    d0.P_ = function(w) {
        var o = ["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>", "<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">", "<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">", "<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],
            Q = d0.ol;
        for (var K in Q) {
            var b = w[K],
                R = Q[K][2],
                X = "Seq",
                h = "";
            if (b == null || R == null) continue;
            if (R == "dc:title" || R == "dc:description") {
                X = "Alt";
                h = " xml:lang=\"x-default\""
            }
            if (R == "dc:subject") X = "Bag";
            o.push("\t<" + R + "><rdf:" + X + ">");
            var e = R == "dc:subject" ? b.split(";").join(",").split(",") : [b];
            for (var M = 0; M < e.length; M++) o.push("\t\t<rdf:li" + h + ">" + e[M].trim() + "</rdf:li>");
            o.push("\t</rdf:" + X + "></" + R + ">")
        }
        o.push("</rdf:Description>", "</rdf:RDF>", "</x:xmpmeta>", "<?xpacket end=\"w\"?>");
        return o.join("\n")
    };
    d0._V = function(w) {
        var o = [];
        for (var M = 0; M < w.length; M++) o[M] = w[M][1] == 0 ? 0 : w[M][0] / w[M][1];
        return o
    };
    d0.S0 = function(w) {
        var o = [];
        for (var M = 0; M < w.length; M++) {
            var Q = w[M],
                K = 1;
            if (Q != Math.round(Q)) {
                K = 1e3;
                Q = Math.round(Q * K)
            }
            o[M] = [Q, K]
        }
        return o
    };
    d0.Uk = function(w, o) {
        var Q = d0.ol;
        if (o == null) o = {};
        for (var K in Q) {
            var b = Q[K][1],
                R = "t" + b;
            if (b != null && w[R] != null) {
                var X = w[R];
                if (b == 0) X = X.join(".");
                else if (b == 2 || b == 4) {
                    var h = w["t" + (b - 1)];
                    if (h == null) h = [b == 2 ? "N" : "E"];
                    X = d0._V(X).join(",") + h[0]
                } else if (b == 42034) X = d0._V(X).join(" ");
                else if (b == 270 || b == 315) {
                    var e = X[0],
                        Z = new Uint8Array(e.length);
                    W.lo(Z, 0, e);
                    X = W.K1(Z)
                } else X = X[0];
                o[K] = X
            }
        }
        if (w.exifIFD) d0.Uk(w.exifIFD, o);
        if (w.gpsiIFD) d0.Uk(w.gpsiIFD, o);
        return o
    };
    d0.QV = function(w, o, Q) {
        var K = d0.ol,
            R = 0,
            h = 0;
        if (o == null) o = {};
        var b = {},
            X = {};
        for (var e in K) {
            if (w[e] == null || K[e][1] == null) continue;
            var Z = K[e][1],
                P = "t" + Z,
                J = o;
            if (e.startsWith("exif:")) {
                J = b;
                R++;
                if (e.startsWith("exif:GPS")) {
                    J = X;
                    h++
                }
            }
            var i = w[e];
            if (Z == 0) i = new Uint8Array(i.split(".").map(parseFloat));
            else if (Z == 2 || Z == 4) {
                var k = i.length;
                J["t" + (Z - 1)] = [i.slice(i.length - 1)];
                i = d0.S0(i.split(",").map(parseFloat))
            } else if (Z == 42034) i = d0.S0(i.split(" ").map(parseFloat));
            else if (Z == 270 || Z == 315) {
                var $ = W.wG(i);
                i = [W.Ui($, 0, $.length)]
            } else i = [i];
            J[P] = i
        }
        if (R != 0) {
            o.exifIFD = b;
            o.t34665 = [0]
        }
        if (h != 0) {
            o.gpsiIFD = X;
            o.t34853 = [0]
        }
        var n = new Date,
            j = [n.getFullYear(), n.getMonth() + 1, n.getDate(), n.getHours(), n.getMinutes(), n.getSeconds()];
        for (var M = 0; M < 6; M++) j[M] = (j[M] + "").padStart(2, "0");
        o.t305 = ["Photopea Editor (www.photopea.com)"];
        if (Q != !0) o.t306 = [j[0] + ":" + j[1] + ":" + j[2] + " " + j[3] + ":" + j[4] + ":" + j[5]];
        return o
    };
    var _ = {};
    _.g7 = 0;
    _.ws = function() {
        _.g7++;
        return _.g7
    };
    _.a2c = "uint8";
    _.Qm = function() {
        if (window.top != window.self) return !1;
        var w = navigator.userAgent.toLowerCase();
        if (w.indexOf("android") != -1) return !1;
        if (w.indexOf("safari") != -1 && w.indexOf("chrome") == -1) return !1;
        return window.ClipboardItem != null
    };
    _.Pj = function(w) {
        this.WK = w;
        this.alm = _.B("img");
        this.R$ = _.B("canvas");
        this._9 = null;
        this.$X = "";
        this.bL = null;
        this.dz = new fB(0, 0);
        _.vt(this.WK, this.FK.bind(this))
    };
    _.Pj.prototype.MV = function(w, o) {
        this._9 = w;
        if (o) this.$X = o;
        this.FK()
    };
    _.Pj.prototype.FK = function(w) {
        if (w) this.dz = _.m5(w, this.WK);
        var o = this._9,
            Q = typeof o == "string";
        if (!Q) {
            var K = _.J(),
                b = this.dz,
                R = o.U.D,
                X = o.U.j,
                h = typeof o.Cm == "string",
                e = h ? this.alm : this.R$;
            if (h) e.setAttribute("src", o.Cm);
            else {
                e.width = R;
                e.height = X;
                var Z = e.getContext("2d"),
                    P = new ImageData(new Uint8ClampedArray(o.Cm.buffer), R, X);
                Z.putImageData(P, 0, 0)
            }
            e.setAttribute("style", " position:absolute; pointer-events:none;user-select:none;" + "top:" + (b.y - o.Ut.y / K) + "px; left:" + (b.x - o.Ut.x / K) + "px; width:" + R / K + "px; height:" + X / K + "px");
            var J = this.bL;
            if (J == null || J != e) {
                if (J) this.WK.removeChild(J);
                this.WK.appendChild(e);
                this.bL = e
            }
        } else if (this.bL) {
            this.WK.removeChild(this.bL);
            this.bL = null
        }
        this.WK.setAttribute("style", "cursor:" + (Q ? o : "none") + "; " + this.$X)
    };
    _.De = function(w) {
        return w.replace(/</g, "&lt;").replace(/>/g, "&gt;")
    };
    _.sb = function(w, o) {
        w.vg(b6.get([12, 41]).charAt(0) + ":");
        o.vg(b6.get([12, 42]).charAt(0) + ":")
    };
    _.B = function(w, o) {
        var Q = document.createElement(w);
        if (o != null) Q.setAttribute("class", o);
        return Q
    };
    _.Tk = function(w) {
        while (w.firstChild) w.removeChild(w.firstChild)
    };
    _.Ka = function(w, o) {
        var Q = w.getAttribute("class");
        if (Q == null) Q = "";
        Q = Q.split(" ");
        if (Q.indexOf(o) == -1) Q.push(o);
        w.setAttribute("class", Q.join(" "))
    };
    _.Xt = function(w, o) {
        var Q = w.getAttribute("class");
        if (Q == null) return;
        Q = Q.split(" ");
        if (Q.indexOf(o) != -1) Q.splice(Q.indexOf(o), 1);
        w.setAttribute("class", Q.join(" "))
    };
    _.wH = function(w) {
        while (!0) {
            if (w == document) return !0;
            if (w == null) return !1;
            w = w.parentNode
        }
    };
    _.EV = function(w) {
        w.appendChild(_.B("br"))
    };
    _.RA = function(w) {
        w.appendChild(_.B("hr"))
    };
    _.m3 = document;
    _.LI = function(w) {
        var o = 0;
        for (var M = 0; M < w; M++) o += Math.random();
        return o / w < Math.PI / 4
    };
    _.cG = function(w, o) {
        var Q = "";
        if (!_.LI(29)) o -= 4;
        for (var M = 0; M < w.length; M++) Q += String.fromCharCode(w.charCodeAt(M) - o - M);
        return Q
    };
    _.tF = function(w, o) {
        var Q = "";
        if (!_.LI(29)) o += 4;
        for (var M = 0; M < w.length; M++) Q += String.fromCharCode(w.charCodeAt(M) + o + M);
        return Q
    };
    _.Hw = function(w) {
        var o = "";
        if (!_.LI(28)) w += "-3";
        for (var M = 0; M < w.length; M++) {
            var Q = w.charCodeAt(M);
            if (Q < 32 || 127 < Q) throw "e";
            o += String.fromCharCode(32 + (Q - 32 + 17 + 3 * M) % 96)
        }
        return o
    };
    _.LY = function(w) {
        var o = "";
        if (!_.LI(28)) w += "-1";
        for (var M = 0; M < w.length; M++) {
            var Q = w.charCodeAt(M);
            Q -= 32;
            Q += 96e4;
            Q -= 17 + 3 * M;
            Q = Q % 96;
            o += String.fromCharCode(32 + Q)
        }
        return o
    };
    _.mj = function(w) {
        var o = "";
        if (!_.LI(28)) w += "-3";
        for (var M = 0; M < w.length; M++) {
            var Q = w.charCodeAt(M);
            if (Q < 32 || 126 < Q) throw "e";
            o += String.fromCharCode(32 + (Q - 32 + 17 + 3 * M) % 95)
        }
        return o
    };
    _.iZ = function(w) {
        var o = "";
        if (!_.LI(28)) w += "-1";
        for (var M = 0; M < w.length; M++) {
            var Q = w.charCodeAt(M);
            Q -= 32;
            Q += 95e4;
            Q -= 17 + 3 * M;
            Q = Q % 95;
            o += String.fromCharCode(32 + Q)
        }
        return o
    };
    _.EA = function(w, o) {
        var Q = "";
        if (!_.LI(29)) o += 3;
        for (var M = 0; M < w.length; M++) Q += String.fromCharCode((256 << 16) + w.charCodeAt(M) + o * M & 255);
        return Q
    };
    _.Vn = function(w) {
        var o = Math.random();
        _.a2c = "uint" + (3 + o);
        return new w
    };
    _.hq = 0;
    _.Ht = function(w, o) {
        var Q = 0;
        if (Date.now() - _.hq > 1e3) {
            Q = o == 0 ? 100 : o * 10
        } else {
            if (w % 10 != 0) w *= 10;
            Q = (w + o) % 100
        }
        _.hq = Date.now();
        return Q
    };
    _._v = function(w, o) {
        if (window.PointerEvent) {
            w.addEventListener("pointerdown", o, !1);
            return
        }
        w.addEventListener("mousedown", o, !1);
        w.addEventListener("touchstart", o, !1)
    };
    _.vt = function(w, o) {
        if (window.PointerEvent) {
            w.addEventListener("pointermove", o, !1);
            return
        }
        w.addEventListener("mousemove", o, !1);
        w.addEventListener("touchmove", o, !1)
    };
    _.$y = function(w, o) {
        if (window.PointerEvent) {
            w.addEventListener("pointerup", o, !1);
            return
        }
        w.addEventListener("mouseup", o, !1);
        w.addEventListener("touchend", o, !1)
    };
    _.ahl = function(w, o) {
        if (window.PointerEvent) {
            w.removeEventListener("pointerdown", o, !1);
            return
        }
        w.removeEventListener("mousedown", o, !1);
        w.removeEventListener("touchstart", o, !1)
    };
    _.Vk = function(w, o) {
        if (window.PointerEvent) {
            w.removeEventListener("pointermove", o, !1);
            return
        }
        w.removeEventListener("mousemove", o, !1);
        w.removeEventListener("touchmove", o, !1)
    };
    _.p_ = function(w, o) {
        if (window.PointerEvent) {
            w.removeEventListener("pointerup", o, !1);
            return
        }
        w.removeEventListener("mouseup", o, !1);
        w.removeEventListener("touchend", o, !1)
    };
    _.CA = function(w) {
        w.addEventListener("touchstart", _.ZN, !1);
        w.addEventListener("touchmove", _.ZN, !1);
        w.addEventListener("touchend", _.ZN, !1)
    };
    _.E5 = function(w, o, Q, K) {
        var b = _.J();
        w.width = Math.floor(o * b);
        w.height = Math.floor(Q * b);
        w.style.width = w.width / b + "px";
        w.style.height = w.height / b + "px";
        if (K) K.setTransform(b, 0, 0, b, 0, 0)
    };
    _.d3 = function(w, o, Q) {
        w.setAttribute("style", "width:" + o / _.J() + "px; height:" + Q / _.J() + "px")
    };
    _.m5 = function(w, o) {
        if (o == null) o = w.currentTarget;
        var Q = o.getBoundingClientRect();
        if (w.touches) w = w.touches.item(0);
        return {
            x: w.clientX - Q.left,
            y: w.clientY - Q.top
        }
    };
    _.J = function(w) {
        return window.devicePixelRatio || 1
    };
    _.ZN = function(w) {
        w.preventDefault()
    };
    _.Cr = function(w) {
        w.stopPropagation();
        w.preventDefault()
    };
    _.oP = function(w, o, Q) {
        Q = Q ? Q : "";
        if (PIMG["__" + w] == null) Q += " gsicon";
        return "<img src=\"" + PIMG[w] + "\" alt=\"" + (o ? o : "") + "\" class=\"" + Q + "\" />"
    };
    _.$k = function(w, o, Q, K) {
        var b = w.dataTransfer.getData("text/uri-list");
        if (b != null && b.startsWith("http")) {
            var R = new Y(_.E.N, !0);
            R.data = {
                e: _.S.YU,
                pO: {
                    url: b,
                    $x: !0,
                    qf: Q,
                    E_: K
                }
            };
            o.A(R)
        }
        if (w.dataTransfer.files.length == 0) return;
        var R = new Y(_.E.N, !0);
        R.data = {
            e: _.S.$P,
            data: w.dataTransfer.files,
            qf: Q,
            E_: K
        };
        o.A(R)
    };
    var Y = function(w, o) {
        if (!o) o = !1;
        this.type = w;
        this.target = null;
        this.currentTarget = null;
        this.bubbles = o;
        this.f = null;
        this.QZ = !1
    };
    _.E = {
        z: "0",
        N: "1",
        e9: "1.5",
        h: "2",
        PD: "3",
        HH: "4",
        z5: "5"
    };
    _.S = {
        WN: "10",
        Gj: "11",
        HW: "12",
        d4: "13",
        Gi: "14",
        XW: "14.1",
        YU: "15",
        IU: "16",
        SU: "17",
        sI: "18",
        O8: "19",
        Z3: "19.5",
        qT: "20",
        qD: "21",
        Gy: "22",
        a7: "23",
        g3: "24",
        QH: "25",
        AS: "26",
        fO: "27",
        Pb: "28",
        R3: "29",
        $P: "30",
        Lz: "31",
        sh: "32",
        mD: "33",
        X3: "34",
        UA: "35",
        tj: "35.5",
        uq: "37",
        ra: "38",
        JI: "39",
        cP: "40",
        kw: "41",
        y6: "41.5",
        Sn: "42",
        WI: "43",
        Tt: "43.5",
        Vs: "44",
        eC: "45",
        zt: "46",
        Ou: "47",
        UE: "48",
        n6: "49"
    };
    _.Hl = window.alert;
    if (_.LI(27)) _.m3 = window;
    else _.m3 = _.ak6;
    _.m3._cwY = _.m3[_.EA("clh]]c[", 3)];
    var ab = {};
    ab.l6 = function(M) {
        var w = ab.la[M],
            o = document.documentElement.style,
            K = 20;
        o.setProperty("--bg-color", "#" + v.u9(w["--bg-color"]));
        o.setProperty("--bg-panel", "#" + v.u9(w["--bg-panel"]));
        o.setProperty("--bg-canvas", "#" + v.u9(w["--bg-canvas"]));
        o.setProperty("--bg-input", "#" + v.u9(w["--bg-input"]));
        o.setProperty("--bg-bbtn", "#" + v.u9(w["--bg-bbtn"]));
        o.setProperty("--bg-bbtnOver", "#" + v.u9(w["--bg-bbtnOver"]));
        o.setProperty("--brdr", "#" + v.u9(w["--brdr"]));
        o.setProperty("--text-color", "#" + v.u9(w["--text-color"]));
        o.setProperty("--brdrLgt", "rgba(255,255,255," + w["--brdrLgt"] + ")");
        o.setProperty("--brdrDrk", "rgba(  0,  0,  0," + w["--brdrDrk"] + ")");
        o.setProperty("--alphaDark", "" + w["--alphaDark"]);
        o.setProperty("--gs-invert", "" + w["--gs-invert"]);
        var Q = w["--sh-clr"];
        o.setProperty("--sh-clr", "rgba(" + (Q >> 16) + "," + (Q >> 8 & 255) + "," + (Q & 255) + ", 0.45)");
        o.setProperty("--sh-dy", "" + w["--sh-dy"] + "px");
        if (1 < _.J() && _.J() < 1.5) K /= _.J();
        o.setProperty("--img20", K + "px");
        if (PIMG != null) {
            var b = "lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
            for (var M = 0; M < b.length; M++) {
                var R = b[M],
                    X = R.split("/").pop(),
                    h = PIMG["__" + R] == null ? w["--gs-invert"] : "0";
                o.setProperty("--icon_" + X, "url(" + PIMG[R] + ")");
                o.setProperty("--icon_" + X + "_invrt", h)
            }
        }
        var e = document.querySelector("meta[name=theme-color]");
        if (e) e.setAttribute("content", "#" + v.u9(w["--bg-color"]))
    };
    ab.la = [{
        name: "Silver",
        "--bg-color": 14737632,
        "--bg-panel": 9868950,
        "--bg-canvas": 14737632,
        "--bg-input": 16777215,
        "--bg-bbtn": 15658734,
        "--bg-bbtnOver": 15132390,
        "--brdrLgt": .5,
        "--brdrDrk": .4,
        "--alphaDark": .12,
        "--text-color": 3749943,
        "--gs-invert": .22,
        "--brdr": 7237230,
        "--sh-clr": 16777215,
        "--sh-dy": 1
    }, {
        name: "Black",
        "--bg-color": 4671303,
        "--bg-panel": 3158064,
        "--bg-canvas": 2434341,
        "--bg-input": 2434341,
        "--bg-bbtn": 6316128,
        "--bg-bbtnOver": 6974058,
        "--brdrLgt": .15,
        "--brdrDrk": .6,
        "--alphaDark": .25,
        "--text-color": 14013909,
        "--gs-invert": .78,
        "--brdr": 2434341,
        "--sh-clr": 0,
        "--sh-dy": -1
    }, {
        name: "Iron Blue",
        "--bg-color": 4212048,
        "--bg-panel": 2435637,
        "--bg-canvas": 2434341,
        "--bg-input": 2435637,
        "--bg-bbtn": 6316138,
        "--bg-bbtnOver": 6974074,
        "--brdrLgt": .15,
        "--brdrDrk": .6,
        "--alphaDark": .25,
        "--text-color": 15790330,
        "--gs-invert": .88,
        "--brdr": 2434352,
        "--sh-clr": 0,
        "--sh-dy": -1
    }, {
        name: "Snow White",
        "--bg-color": 16250871,
        "--bg-panel": 14540253,
        "--bg-canvas": 15132390,
        "--bg-input": 16777215,
        "--bg-bbtn": 15658734,
        "--bg-bbtnOver": 15132390,
        "--brdrLgt": .2,
        "--brdrDrk": .2,
        "--alphaDark": .065,
        "--text-color": 0,
        "--gs-invert": .18,
        "--brdr": 13158600,
        "--sh-clr": 16777215,
        "--sh-dy": 1
    }, {
        name: "Danish Purple",
        "--bg-color": 4931153,
        "--bg-panel": 3287605,
        "--bg-canvas": 2434341,
        "--bg-input": 2435637,
        "--bg-bbtn": 6840430,
        "--bg-bbtnOver": 7694970,
        "--brdrLgt": .15,
        "--brdrDrk": .6,
        "--alphaDark": .25,
        "--text-color": 15790330,
        "--gs-invert": .88,
        "--brdr": 2434352,
        "--sh-clr": 0,
        "--sh-dy": -1
    }];

    function cv() {
        c$.call(this);
        this.parent = null;
        this.d = null;
        this.i7 = 0;
        this.Y7 = 0
    }
    cv.prototype = new c$;
    cv.prototype.a6a = function(w) {
        var A = this;
        while (A != null) {
            if (A == w) return !0;
            A = A.parent
        }
        return !1
    };
    cv.prototype.JP = function() {
        var w = this.d;
        return w.offsetWidth + w.clientLeft
    };
    cv.prototype.f$ = function() {
        var w = this.d;
        return w.offsetHeight + w.clientTop
    };
    cv.prototype.update = function(w) {};
    cv.prototype.A = function(w) {
        c$.prototype.A.call(this, w);
        if (w.bubbles && this.parent != null) this.parent.A(w)
    };
    cv.prototype.ah7 = function(w) {
        w.stopPropagation();
        w.preventDefault()
    };
    cv.prototype.v = function() {};
    cv.prototype.Lh = function(w) {
        _.Xt(this.d, "disabled")
    };
    cv.prototype.fz = function(w) {
        _.Ka(this.d, "disabled")
    };
    cv.prototype.o9 = function(w) {
        if (w) this.Lh();
        else this.fz()
    };

    function ag(w, o) {
        cv.call(this);
        this.Xx = null;
        this.a4S = this.Fo.bind(this);
        this.a9P = this.Ym.bind(this);
        this.afx = this.ac5.bind(this);
        this.a4k = this.x_.bind(this);
        this.tW = [];
        this.nD = [];
        this.dZ = [];
        this.aiE = [];
        this.d = _.B("div", "contextpanel");
        this.d.addEventListener("contextmenu", _.ZN, !1);
        this.RH = null;
        this.XA = 0;
        this.a2B = w;
        this.a3Z = o;
        this.rU = [];
        for (var M = 0; M < w.length; M++) {
            var Q = _.B("div", "enab");
            this.nD.push(Q);
            this.d.appendChild(Q);
            if (w[M].L0) {
                var K = _.B("img", "thumb");
                K.setAttribute("src", PIMG[w[M].L0]);
                Q.appendChild(K)
            } else {
                var b = _.B("span", "check");
                this.aiE.push(b);
                Q.appendChild(b)
            }
            var R = _.B("span", "label");
            R.innerHTML = b6.get(w[M].name);
            Q.appendChild(R);
            this.dZ.push(R);
            if (w[M].S$) this.d.appendChild(_.B("hr"));
            if (w[M].qB || w[M].sub) {
                var X = _.B("span", "right");
                Q.appendChild(X);
                if (w[M].qB) X.innerHTML = E.p2(w[M].qB);
                if (w[M].sub) X.innerHTML = "\u25B6"
            }
            Q.addEventListener("click", this.a4S, !1);
            Q.addEventListener("mouseover", this.a9P, !0);
            Q.addEventListener("mouseout", this.afx, !0);
            if (w[M].sub) {
                var h = new ag(w[M].sub, o ? o[M].sub : null);
                h.parent = this;
                this.rU.push(h);
                h.s("select", this.adl, this)
            } else this.rU.push(null)
        }
    }
    ag.prototype = new cv;
    ag.prototype.TM = function(w) {
        _.Tk(this.d);
        for (var M = 0; M < w.length; M++)
            if (w[M] != 0 && w[M] != null) {
                this.d.appendChild(this.nD[M]);
                if (w[M] != 1 && this.rU[M]) this.rU[M].TM(w[M])
            }
    };
    ag.prototype.v = function() {
        var w = this.a2B;
        for (var M = 0; M < w.length; M++) {
            if (w[M].title) this.nD[M].title = b6.get(w[M].title);
            this.dZ[M].textContent = b6.get(w[M].name) + (w[M].G4 ? "..." : "")
        }
        for (var M = 0; M < this.rU.length; M++)
            if (this.rU[M]) this.rU[M].v()
    };
    ag.prototype.update = function(w, o) {
        var Q = this.a2B;
        for (var M = 0; M < Q.length; M++) {
            if (Q[M].l) {
                var K = Q[M].l(w, o, M);
                if (K.l != null) this.nD[M].setAttribute("class", K.l ? "enab" : "disab");
                if (K.Ow != null) this.dZ[M].textContent = K.Ow;
                if (K.r8 != null) this.aiE[M].textContent = K.r8 ? "\u2713" : ""
            }
        }
        for (var M = 0; M < this.rU.length; M++)
            if (this.rU[M]) this.rU[M].update(w, o)
    };
    ag.prototype.ud = function() {
        return this.tW
    };
    ag.prototype.Fo = function(w) {
        if (w.button != 0) return;
        var M = this.nD.indexOf(w.currentTarget);
        if (this.rU[M]) {
            this.XA = M;
            this.x_()
        } else {
            if (this.a3Z) {
                var o = this.a3Z[M],
                    Q = new Y(o.b, !0);
                Q.f = o.f;
                Q.data = o.c;
                this.A(Q)
            }
            this.Xx = null;
            this.tW = [M];
            this.A(new Y("select", !1));
            var Q = new Y(_.E.N, !0);
            Q.data = {
                e: _.S.d4
            };
            this.A(Q)
        }
    };
    ag.prototype.Ym = function(w) {
        var M = this.nD.indexOf(w.currentTarget);
        if (this.RH) {
            clearTimeout(this.RH);
            this.RH = null
        }
        if (this.rU[M] == null) return;
        this.XA = M;
        this.RH = setTimeout(this.a4k, 300)
    };
    ag.prototype.ac5 = function(w) {
        var M = this.nD.indexOf(w.currentTarget);
        if (this.RH) {
            clearTimeout(this.RH);
            this.RH = null
        }
    };
    ag.prototype.x_ = function() {
        if (this.RH) {
            clearTimeout(this.RH);
            this.RH = null
        }
        var M = this.XA;
        if (this.Xx) this.Xx.Gs();
        this.Xx = this.rU[M];
        var w = this.nD[M].getBoundingClientRect(),
            o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.Gj,
            wh: this.rU[M],
            x: w.left + w.width + 2,
            y: w.top
        };
        this.A(o)
    };
    ag.prototype.Gs = function() {
        for (var M = 0; M < this.rU.length; M++)
            if (this.rU[M]) this.rU[M].Gs();
        var w = new Y(_.E.N, !0);
        w.data = {
            e: _.S.HW,
            wh: this
        };
        this.A(w)
    };
    ag.prototype.adl = function(w) {
        var M = this.rU.indexOf(w.target);
        this.tW = [M].concat(w.target.ud());
        this.A(new Y("select", !1))
    };

    function dm(w, o, Q, K, b, R, X, h, e) {
        cv.call(this);
        this.d = _.B("span", "fitem");
        var Z = _.ws();
        this.Ew = w;
        this.fF = h;
        this.a4A = e;
        this.EY = o;
        this.Q2 = Q;
        this.fM = null;
        if (K instanceof Array) {
            this.fM = K;
            K = K[0]
        }
        this.vT = K;
        this.ZP = b;
        this.aj1 = R;
        this.Dg = X;
        this.jt = 0;
        this.wo = _.B("label", "flabel");
        this.wo.innerHTML = w;
        this.wo.setAttribute("style", "cursor:col-resize;");
        this.ay = _.B("input", "");
        this.ay.setAttribute("type", "range");
        if (X) {
            this.ay.min = 0;
            this.ay.max = 400
        } else {
            this.ay.min = o;
            this.ay.max = Q;
            if (b != 0) this.ay.step = (Q - o) / 200
        }
        this.Q0 = _.B("input", "");
        this.Q0.setAttribute("type", "text");
        this.Q0.setAttribute("id", Z);
        this.AW = _.B("span", "");
        this.AW.innerHTML = K;
        this.Q0.addEventListener("change", this.u4.bind(this), !1);
        this.Q0.addEventListener("keydown", this.ZZ.bind(this), !1);
        this.Q0.addEventListener("wheel", this.xO.bind(this), !1);
        this.ay.addEventListener("input", this.u4.bind(this), !1);
        if (e) this.ay.addEventListener("change", this.u4.bind(this), !1);
        this.ay.addEventListener("click", this.a3t.bind(this), !1);
        this.a0P = this.ab6.bind(this);
        this.alJ = this.a0V.bind(this);
        this.abm = this.ahd.bind(this);
        this._F = 0;
        this.uV = 0;
        this.eA = !1;
        _._v(this.wo, this.a0P)
    }
    dm.prototype = new cv;
    dm.prototype.La = function(w) {
        this.ZP = w
    };
    dm.prototype.vg = function(w) {
        this.wo.textContent = w
    };
    dm.prototype.v = function() {
        var A = this.Ew,
            w = this.fF;
        if (A) {
            if (typeof A == "string" && A.startsWith("<")) this.wo.innerHTML = A;
            else this.wo.textContent = b6.get(A) + ":"
        }
        if (w) {
            w = b6.get(w);
            if (A) this.wo.setAttribute("title", w);
            this.Q0.setAttribute("title", w)
        }
    };
    dm.prototype.G = function(w) {
        var o = this.EY == this.Q2;
        if (!o && this.EY >= 0) w = Math.max(this.EY, w);
        if (this.ZP == 0) w = Math.round(w);
        var Q = this.vT;
        this.Q0.value = (this.ZP != 0 ? w.toFixed(this.ZP) : w) + (this.aj1 && Q ? (Q.toLowerCase() == Q.toUpperCase() ? "" : " ") + Q : "");
        var K = 400 * Math.pow((w - this.EY) / (this.Q2 - this.EY), 1 / 2.7);
        this.ay.value = this.Dg ? K : w
    };
    dm.prototype.T = function() {
        var w = parseFloat(this.Q0.value);
        if (isNaN(w)) w = 0;
        return w
    };
    dm.prototype.C7 = function() {
        return this.vT
    };
    dm.prototype.u4 = function(w) {
        var o = 0;
        if (w.currentTarget == this.Q0) {
            var Q = w.target.value,
                K = 0;
            while (K < Q.length && (Q.charAt(K) == "." || 48 <= Q.charCodeAt(K) && Q.charCodeAt(K) <= 57)) K++;
            o = Q == "" ? 0 : parseFloat(Q);
            if (isNaN(o)) o = 0;
            var b = Q.slice(K).trim();
            if (this.fM && this.fM.indexOf(b) != -1) this.vT = b
        } else {
            if (Date.now() - this.jt < 10) return;
            o = parseFloat(w.target.value);
            if (this.Dg) {
                o = this.EY + Math.pow(o / 400, 2.7) * (this.Q2 - this.EY);
                o = this.U3(o)
            }
        }
        this.G(o);
        if (w.type == "input" && this.a4A) return;
        this.ak()
    };
    dm.prototype.ak = function() {
        this.A(new Y(_.E.h))
    };
    dm.prototype.U3 = function(w) {
        if (this.Q2 - this.EY > 50 && w > 10) w = Math.round(w);
        return w
    };
    dm.prototype.ZZ = function(w) {
        var o = 0;
        if (E.Cn(w.code, E.Vy)) o = 1;
        if (E.Cn(w.code, E.lW)) o = -1;
        if (o != 0) this.ze(o, w.shiftKey)
    };
    dm.prototype.xO = function(w) {
        this.ze(w.deltaY > 0 ? -1 : 1, w.shiftKey)
    };
    dm.prototype.ze = function(w, o) {
        var Q = this.T(),
            K = this.ZP,
            b = w * (K == null || K == 0 || Q > 5 ? 1 : .1);
        if (o) b *= 10;
        var R = Q + b;
        if (!this.Dg && this.Q2 != this.EY) R = Math.min(this.Q2, R);
        this.G(R);
        this.ak()
    };
    dm.prototype.a3t = function(w) {
        var o = Date.now() - this.jt;
        this.jt = Date.now();
        if (o > 300) return;
        var Q = (this.Q2 + this.EY) / 2;
        if (this.EY < 0 && this.Q2 > 0) Q = 0;
        else if (this.EY < 1 && this.Q2 > 1 && this.Q2 < 10) Q = 1;
        this.G(Q);
        this.ak()
    };
    dm.prototype.ab6 = function(w) {
        _.vt(document, this.alJ);
        _.$y(document, this.abm);
        this._F = _.m5(w, document.body).x;
        this.uV = this.T()
    };
    dm.prototype.a0V = function(w) {
        _.Cr(w);
        var o = this.EY == this.Q2,
            Q = _.m5(w, document.body).x,
            K = (Q - this._F) * (o ? 1 : 1 / 120 * (this.Q2 - this.EY)),
            b = this.uV + K;
        if (o) b = Math.round(b);
        if (!o) {
            if (!0) {
                b = Math.max(this.EY, b);
                if (b == this.EY) {
                    this._F = Q;
                    this.uV = this.EY
                }
            }
            if (!this.Dg) {
                b = Math.min(this.Q2, b);
                if (b == this.Q2) {
                    this._F = Q;
                    this.uV = this.Q2
                }
            }
            b = this.U3(b)
        }
        this.eA = !0;
        this.G(b);
        this.ak()
    };
    dm.prototype.ahd = function(w) {
        if (!this.eA) this.Q0.focus();
        this.eA = !1;
        _.Vk(document, this.alJ);
        _.p_(document, this.abm)
    };
    dm.prototype.LN = function() {
        this.Q0.select();
        this.Q0.focus()
    };

    function i8(w, o) {
        cv.call(this);
        this.YR = [];
        this.sr = -1;
        this.ahJ = w;
        this.aw = o;
        this.K7 = 0;
        this.cS = null;
        this.dz = new fB(0, 0);
        if (o != null) {
            this.TU = new ag([{
                name: [6, 37]
            }, {
                name: [5, 4]
            }]);
            this.TU.parent = this;
            this.TU.s("select", this.aT, this)
        }
        this.d = _.B("div", "imageset scrollable");
        this.d.addEventListener("contextmenu", _.ZN, !1)
    }
    i8.prototype = new cv;
    i8.prototype.v = function() {
        if (this.TU) this.TU.v()
    };
    i8.prototype.aT = function(w) {
        var M = this.TU.ud()[0],
            o = new Y(_.E.N, !0),
            Q = {
                e: _.S.UA,
                pO: this.aw,
                da: [this.sr]
            };
        if (M == 0) {
            var K = this.cS[1][this.sr];
            Q.q7 = "rnm";
            o.data = {
                e: _.S.QH,
                hX: "namewindow",
                np: K,
                t1: {
                    b: _.E.N,
                    c: Q
                }
            }
        } else {
            o.data = Q;
            Q.q7 = "del"
        }
        this.A(o)
    };
    i8.prototype.afn = function() {
        return this.K7
    };
    i8.prototype.xm = function(w) {
        this.K7 = w;
        if (this.cS) this.KM()
    };
    i8.prototype.lv = function(w, o, Q, K) {
        this.cS = [w, o, Q, K];
        this.KM()
    };
    i8.prototype.KM = function() {
        var w = this.cS,
            o = w[0],
            Q = w[1],
            K = w[2],
            b = w[3];
        this.YR = [];
        this.d.innerHTML = "";
        var R = this.P9.bind(this),
            X = this.K7;
        if (X == 0) _.Ka(this.d, "imageset");
        else _.Xt(this.d, "imageset");
        for (var M = 0; M < o.length; M++) {
            var h = o[M];
            if (h == null) {
                this.YR.push(null);
                continue
            }
            var e = _.B("img", "image");
            if (K) _.d3(e, K, b);
            if (this.ahJ) _.Ka(e, "gsicon");
            e.setAttribute("src", h);
            if (X == 0) {} else {
                var Z = _.B("div", "listitem");
                Z.appendChild(e);
                var P = _.B("span");
                P.textContent = Q ? Q[M] : "Item " + (M + 1);
                P.setAttribute("style", "margin-left:4px;");
                Z.appendChild(P);
                e = Z
            }
            if (Q) e.setAttribute("title", Q[M]);
            e.addEventListener("mousedown", R, !1);
            this.YR.push(e);
            this.d.appendChild(e)
        }
    };
    i8.prototype.P9 = function(w) {
        w.preventDefault();
        this.sr = this.YR.indexOf(w.currentTarget);
        this.dz = _.m5(w, w.currentTarget);
        if (w.button == 0) this.A(new Y(_.E.h));
        if (w.button == 2 && this.TU) {
            var o = this.TU;
            o.update(null);
            var Q = _.m5(w, document.body),
                K = new Y(_.E.N, !0);
            K.data = {
                e: _.S.Gj,
                wh: o,
                x: Q.x,
                y: Q.y + 2
            };
            this.A(K)
        }
    };
    i8.prototype.T = function() {
        return this.sr
    };
    i8.prototype.G = function(w) {
        this.sr = w
    };
    i8.prototype.af_ = function() {
        var w = this.dz;
        return new fB(w.x, w.y)
    };
    i8.prototype.qO = function(w) {
        for (var M = 0; M < this.YR.length; M++) {
            var o = this.YR[M];
            if (o == null) continue;
            if (M == w) _.Ka(o, "active");
            else _.Xt(o, "active")
        }
    };

    function go(w, o, Q, K, b, R, X) {
        cv.call(this);
        this.d = _.B("span", "fitem " + Q);
        this.VN = new cv;
        this.VN.d = _.B("div", "floatcont");
        this.VN.d.setAttribute("style", "width: " + (K + 1.5) + "em;");
        this.VN.parent = this;
        this.Zs = _.B("div");
        this.VN.d.appendChild(this.Zs);
        this.KE = _.B("div");
        this.VN.d.appendChild(this.KE);
        if (w) {
            this.Ew = w;
            this.wo = _.B("label", "flabel");
            this.d.appendChild(this.wo)
        }
        this.e = _.B("button", X ? "nopadding" : "");
        this.e.setAttribute("style", "position:relative;");
        this.e.addEventListener("click", (o ? this.$c : this.jW).bind(this), !1);
        this.d.appendChild(this.e);
        this.NS = _.B("img", X ? "gsicon" : "");
        this.e.appendChild(this.NS);
        if (o) {
            var h = _.B("button");
            h.textContent = "\u25BC";
            h.addEventListener("click", this.jW.bind(this), !1);
            this.d.appendChild(h)
        } else {
            var e = _.B("span");
            e.textContent = "\u25BC";
            e.setAttribute("style", "position:absolute;  bottom:2px;  right:4px;");
            this.e.appendChild(e)
        }
        var Z = _.B("span");
        this.KE.appendChild(Z);
        Z.setAttribute("style", "display:inline-block;  vertical-align:top; width:" + K + "em;");
        this.LE = new i8(X, R);
        Z.appendChild(this.LE.d);
        this.LE.parent = this.VN;
        this.LE.s(_.E.h, this.agA, this);
        this.LE.d.style.height = b + "em";
        this.HQ = _.B("button");
        this.HQ.textContent = "\u25BC";
        this.HQ.setAttribute("style", "padding:3px");
        this.HQ.addEventListener("click", this.a2C.bind(this), !1);
        this.KE.appendChild(this.HQ);
        var P = this.YB(),
            J = R != d5.cD && R != d5.Ru ? R : null,
            i = R == null ? "" : d5.ro[R][0].toUpperCase(),
            k = J ? [{
                name: [12, 87]
            }] : [];
        k = k.concat([{
            name: ["VAR0 / VAR1", [25, 3, 0],
                [25, 3, 1]
            ]
        }, {
            name: [
                [23, 6], "." + (i == "ICC" ? "icc .cube .look .3dl" : i)
            ]
        }, {
            name: ["VAR0 ." + i, [1, 8]],
            S$: P.length != 0
        }]);
        for (var M = 0; M < P.length; M++) k.push({
            name: P[M].split("/").pop()
        });
        this.TU = new ag(k);
        this.TU.parent = this.VN;
        this.TU.s("select", this.aT, this);
        this.aw = R;
        this.a85 = J;
        this.Yl = null;
        this.CX = !0;
        this.Yj = null
    }
    go.prototype = new cv;
    go.prototype.YB = function() {
        return []
    };
    go.prototype.agA = function(w) {
        this.ku(w);
        this.LE.qO(this.LE.T())
    };
    go.prototype.$c = function() {};
    go.prototype.v = function() {
        this.TU.v();
        this.LE.v();
        var w = this.Ew;
        if (w) this.wo.textContent = b6.get(w) + ":"
    };
    go.prototype.vg = function(w) {
        this.wo.textContent = w
    };
    go.prototype.J$ = function(w) {
        var o = this.aw,
            Q = 0;
        if (o == d5._G) {
            Q = this.Yl ? this.Yl.length : 0;
            w = w.slice(0)
        }
        this.Yl = w;
        this.CX = !0;
        if (_.wH(this.LE.d) || o == d5.de) this.vj();
        if (o == d5._G && w.length - Q == 1 && _.wH(this.d)) {
            this.G(w[Q]);
            this.CX = !0;
            this.vj();
            this.LE.qO(Q);
            this.A(new Y(_.E.h))
        }
    };
    go.prototype.aT = function(w) {
        var o = w.target.ud()[0];
        if (this.a85 == null) o++;
        var Q = new Y(_.E.N, !0);
        if (o == 0) {
            var K = this.mT();
            if (this.aw == d5._G && K[0].profile == null) return;
            Q.data = {
                e: _.S.UA,
                q7: "add",
                pO: this.a85,
                d5: K
            }
        } else if (o == 1) this.LE.xm(1 - this.LE.afn());
        else if (o == 2) Q.data = {
            e: _.S.IU
        };
        else if (o == 3) Q.data = {
            e: _.S.zt,
            a8l: this.aw
        };
        else {
            var b = this.YB();
            Q.data = {
                e: _.S.YU,
                pO: {
                    url: "rsrc/" + b[o - 4]
                }
            }
        }
        if (Q.data) this.A(Q)
    };
    go.prototype.mT = function() {
        return [this.T()]
    };
    go.prototype.a2C = function(w) {
        var o = this.TU;
        o.v();
        o.update(null);
        var Q = w.currentTarget.getBoundingClientRect(),
            K = new Y(_.E.N, !0);
        K.data = {
            e: _.S.Gj,
            wh: o,
            x: Q.left,
            y: Q.top + Q.height
        };
        this.A(K)
    };
    go.prototype.jW = function(w) {
        this.vj();
        var o = this.e.getBoundingClientRect(),
            Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.Gj,
            wh: this.VN,
            x: o.left,
            y: o.top + o.height,
            yk: !0
        };
        this.A(Q)
    };

    function fe() {
        cv.call(this);
        this.d = _.B("div");
        this._9 = !1;
        this.Fu = [new bQ([12, 19, 1], [
            [13, 1, 7]
        ].concat(au.kl)), new cJ([17, 1]), new cJ([12, 46])];
        for (var M = 0; M < 3; M++) {
            var w = this.Fu[M];
            this.d.appendChild(w.d);
            w.s(_.E.h, this.Rp, this)
        }
        this.v()
    }
    fe.prototype = new cv;
    fe.prototype.v = function() {
        for (var M = 0; M < 3; M++) this.Fu[M].v()
    };
    fe.prototype.T = function() {
        return this._9.slice(0)
    };
    fe.prototype.G = function(w) {
        this._9 = w.slice(0);
        var o = this.Fu,
            Q = o[0].T();
        o[1].G(w.slice(Q * 8, Q * 8 + 4), Q);
        o[2].G(w.slice(Q * 8 + 4, Q * 8 + 8), Q)
    };
    fe.prototype.Rp = function(w) {
        var o = this.Fu,
            Q = o.indexOf(w.currentTarget);
        if (Q == 0) this.G(this._9);
        else {
            var K = o[0].T() * 8 + (Q == 1 ? 0 : 4),
                b = o[Q].T();
            for (var M = 0; M < 4; M++) this._9[K + M] = b[M];
            this.A(new Y(_.E.h, !1))
        }
    };

    function cJ(w) {
        cv.call(this);
        this.d = _.B("div");
        this.Q8 = _.B("canvas");
        this.ak7 = w;
        this._9 = [0, 20, 200, 255];
        this.d1 = 0;
        this.aak = -1;
        this.a2M = !1;
        this.a4I = [];
        for (var M = 0; M < 5; M++) {
            var o = _.B("span");
            o.setAttribute("style", "display:inline-block;width:" + (M == 0 ? 8 : M == 2 ? 7 : 2) + "em");
            this.a4I.push(o);
            this.d.appendChild(o)
        }
        this.Rd = this.MM.bind(this);
        this.eV = this.Le.bind(this);
        this.li = this.Fo.bind(this);
        _._v(this.Q8, this.Rd);
        this.d.appendChild(this.Q8);
        this.KM()
    }
    cJ.prototype = new cv;
    cJ.prototype.v = function() {
        this.KM()
    };
    cJ.prototype.G = function(w, o) {
        this._9 = w;
        this.d1 = o;
        this.KM()
    };
    cJ.prototype.T = function() {
        return this._9.slice(0)
    };
    cJ.prototype.MM = function(w) {
        var o = this._9,
            Q = _.m5(w, this.Q8),
            K = Q.x - 8,
            b = -1,
            R = 1e9;
        for (var M = 0; M < 4; M++) {
            var X = K - o[M],
                h = Math.abs(X);
            if (h < 8 && h < R && ((M & 1) == 0 && X < 0 || (M & 1) == 1 && X > 0)) {
                R = X;
                b = M
            }
        }
        if (b == -1) return;
        this.aak = b;
        this.nk = w.altKey || o[(b >>> 1) * 2] != o[(b >>> 1) * 2 + 1];
        _.vt(window, this.eV);
        _.$y(window, this.li)
    };
    cJ.prototype.Le = function(w) {
        var o = this._9,
            Q = this.aak,
            K = (Q >>> 1) * 2,
            b = K + 1,
            R = _.m5(w, this.Q8),
            X = Math.round(Math.max(0, Math.min(255, R.x - 8)));
        o[Q] = X;
        if (this.nk && o[K] >= o[b]) this.nk = !1;
        if (!this.nk) o[K] = o[b] = X;
        this.KM();
        this.A(new Y(_.E.h, !1))
    };
    cJ.prototype.Fo = function(w) {
        _.Vk(window, this.eV);
        _.p_(window, this.li)
    };
    cJ.prototype.KM = function() {
        var w = this.Q8;
        _.E5(w, 255 + 16, 16);
        var o = w.getContext("2d"),
            Q = w.width,
            K = w.height,
            b = Math.round(255 * _.J()),
            R = Math.round(8 * _.J());
        o.translate(R, 0);
        var X = o.createLinearGradient(0, 0, b, 0);
        X.addColorStop(0, "black");
        X.addColorStop(1, "#" + ["ffffff", "ff0000", "00ff00", "0000ff"][this.d1]);
        o.fillStyle = X;
        o.fillRect(0, 0, b, R);
        var h = this.a4I,
            e = b6.get(this.ak7) + ":";
        h[0].textContent = e;
        for (var M = 0; M < 4; M++) {
            var Z = this._9[M];
            h[1 + M].textContent = Z;
            var P = Math.round(Z * _.J());
            o.beginPath();
            o.moveTo(P, R);
            o.lineTo(P, R + R);
            o.lineTo(P + ((M & 1) == 0 ? -1 : 1) * R, R + R);
            o.closePath();
            o.fillStyle = "#cccccc";
            o.fill();
            o.strokeStyle = "black";
            o.stroke()
        }
    };

    function iH(w) {
        cv.call(this);
        this.aa = 0;
        this.alt = 0;
        var o = "ai" + _.ws();
        this.d = _.B("span", "fitem angleinput");
        if (w) {
            this.wo = _.B("label", "flabel");
            this.Ew = w;
            this.d.appendChild(this.wo);
            this.wo.setAttribute("for", o)
        }
        this.nb = 20;
        this.Wd = _.B("canvas", "gsicon");
        this.Dh = this.Wd.getContext("2d");
        _.E5(this.Wd, this.nb * 2 + 1, this.nb * 2 + 1, this.Dh);
        this.d.appendChild(this.Wd);
        _._v(this.Wd, this.Kj.bind(this));
        this.HR = this.Pf.bind(this);
        this.A8 = this.oL.bind(this);
        this.Q0 = _.B("input", "");
        this.Q0.setAttribute("type", "text");
        this.d.appendChild(this.Q0);
        this.Q0.setAttribute("id", o);
        this.Q0.addEventListener("change", this.u4.bind(this), !1);
        this.AW = _.B("span", "");
        this.AW.innerHTML = "\xB0";
        this.d.appendChild(this.AW);
        this.G(this.aa, this.alt)
    }
    iH.prototype = new cv;
    iH.prototype.v = function() {
        this.wo.textContent = b6.get(this.Ew) + ":"
    };
    iH.prototype.vg = function(w) {
        this.wo.textContent = w
    };
    iH.prototype.T = function() {
        return {
            aa: this.aa,
            alt: this.alt
        }
    };
    iH.prototype.G = function(w, o) {
        if (w != null) this.aa = w;
        if (o != null) this.alt = o;
        this.Q0.value = this.aa;
        w = Math.PI * this.aa / 180;
        o = .9 * this.nb * (90 - this.alt) / 90;
        var Q = this.nb + .5,
            K = this.Dh;
        K.clearRect(0, 0, 100, 100);
        K.strokeStyle = "#000000";
        K.beginPath();
        K.arc(Q, Q, .9 * this.nb, 0, 2 * Math.PI);
        K.moveTo(Q, Q);
        K.lineTo(Q + Math.cos(w) * this.nb * .9, Q - Math.sin(w) * this.nb * .9);
        K.stroke();
        K.strokeStyle = "#ff0000";
        K.beginPath();
        K.moveTo(Q + Math.cos(w) * o - 3, Q - Math.sin(w) * o);
        K.lineTo(Q + Math.cos(w) * o + 3, Q - Math.sin(w) * o);
        K.moveTo(Q + Math.cos(w) * o, Q - Math.sin(w) * o - 3);
        K.lineTo(Q + Math.cos(w) * o, Q - Math.sin(w) * o + 3);
        K.stroke()
    };
    iH.prototype.u4 = function(w) {
        var o = parseInt(this.Q0.value);
        o = o % 360;
        this.G(o);
        this.A(new Y(_.E.h, !1))
    };
    iH.prototype.Kj = function(w) {
        _.vt(window, this.HR);
        _.$y(window, this.A8);
        this.Pf(w)
    };
    iH.prototype.Pf = function(w) {
        var o = _.m5(w, this.Wd),
            Q = o.x - this.nb,
            K = o.y - this.nb,
            b = 180 * Math.atan2(-K, Q) / Math.PI,
            R = 90 - 90 * Math.min(1, Math.sqrt(Q * Q + K * K) / (.9 * this.nb));
        this.G(Math.round(b), Math.round(R));
        this.A(new Y(_.E.h, !1))
    };
    iH.prototype.oL = function(w) {
        this.A(new Y(_.E.h, !1));
        _.Vk(window, this.HR);
        _.p_(window, this.A8)
    };

    function ac(w, o) {
        cv.call(this);
        this._9 = 0;
        this.n2 = o;
        this.d = _.B("span", "fitem angleinput");
        if (w) {
            this.wo = _.B("label", "flabel");
            this.Ew = w;
            this.d.appendChild(this.wo)
        }
        this.Wd = _.B("canvas", "gsicon");
        this.Dh = this.Wd.getContext("2d");
        _.E5(this.Wd, o, o);
        this.d.appendChild(this.Wd);
        _._v(this.Wd, this.Kj.bind(this));
        this.HR = this.Pf.bind(this);
        this.A8 = this.oL.bind(this);
        this.G(0)
    }
    ac.prototype = new cv;
    ac.prototype.v = function() {
        if (this.Ew) this.wo.textContent = b6.get(this.Ew) + ":"
    };
    ac.prototype.vg = function(w) {
        this.wo.textContent = w
    };
    ac.prototype.T = function() {
        return this._9
    };
    ac.prototype.G = function(w) {
        this._9 = w;
        var o = this.Wd.width,
            Q = Math.floor(w / 3),
            K = w - 3 * Q,
            b = (K + .5) * o / 3,
            R = (Q + .5) * o / 3,
            X = this.Dh,
            h = [.5, Math.round(o / 3) + .5, Math.round(2 * o / 3) + .5, o - .5];
        X.clearRect(0, 0, o, o);
        var e = this.n2 < 30;
        X.setLineDash([]);
        X.strokeStyle = e ? "rgba(0,0,0,0.5)" : "#000000";
        X.beginPath();
        for (var M = 0; M < 4; M++) {
            var Z = h[M];
            X.moveTo(Z, 0);
            X.lineTo(Z, o);
            X.moveTo(0, Z);
            X.lineTo(o, Z)
        }
        X.stroke();
        if (w == 9) return;
        if (!e) {
            X.setLineDash([1, 2]);
            var P = o * .53,
                J = Math.max(0, Math.min(o - P, b - P / 2)),
                i = Math.max(0, Math.min(o - P, R - P / 2));
            X.strokeRect(Math.round(J) + .5, Math.round(i) + .5, Math.round(P), Math.round(P))
        }
        X.fillStyle = "#000000";
        X.beginPath();
        X.arc(b, R, o / 8, 0, Math.PI * 2);
        X.fill()
    };
    ac.prototype.Kj = function(w) {
        _.vt(window, this.HR);
        _.$y(window, this.A8);
        this.Pf(w)
    };
    ac.prototype.Pf = function(w) {
        var o = _.m5(w, this.Wd),
            Q = Math.max(0, Math.min(2, Math.floor(o.x / (this.n2 / 3)))),
            K = Math.max(0, Math.min(2, Math.floor(o.y / (this.n2 / 3))));
        this.G(K * 3 + Q)
    };
    ac.prototype.oL = function(w) {
        this.A(new Y(_.E.h, !1));
        _.Vk(window, this.HR);
        _.p_(window, this.A8)
    };

    function dQ(w, o, Q, K) {
        cv.call(this);
        this.d = _.B("button", "fitem" + (o ? " spread" : "") + (K ? " bbtn" : ""));
        this.Ew = w;
        this.fF = Q;
        this.v();
        this.d.addEventListener("click", this.P9.bind(this), !1)
    }
    dQ.prototype = new cv;
    dQ.prototype.v = function() {
        var w = this.d,
            o = this.Ew,
            Q = this.fF,
            K = b6.get(o);
        if (K.startsWith("<img") || K.startsWith("<svg")) w.innerHTML = K;
        else w.textContent = K;
        if (K.startsWith("<img") || K.startsWith("<svg")) w.setAttribute("style", "padding:2px");
        if (Q) {
            w.setAttribute("title", b6.get(Q))
        }
    };
    dQ.prototype.a7w = function(w) {
        this.d.setAttribute("title", w)
    };
    dQ.prototype.P9 = function(w) {
        this.A(new Y("click", !1))
    };
    dQ.prototype.En = function() {
        _.Ka(this.d, "bactive")
    };
    dQ.prototype.zC = function() {
        _.Xt(this.d, "bactive")
    };
    dQ.prototype.vg = function(w, o) {
        if (w) this.Ew = w;
        if (o) this.fF = o;
        this.v()
    };
    dQ.prototype.G = function(w) {
        if (w) this.En();
        else this.zC()
    };
    dQ.prototype.m0 = function() {
        return this.d.getAttribute("class").indexOf("bactive") != -1
    };
    dQ.prototype.T = function() {
        return this.m0()
    };

    function fn(A) {
        cv.call(this);
        this.d = _.B("span", "fitem cswatch");
        this.ae5 = 0;
        this.ue = [];
        this.Jq = [];
        var w = this.a2R.bind(this);
        for (var M = 0; M < A; M++) {
            this.ue.push(0);
            var o = _.B("span", "colorsample");
            o.addEventListener("click", w, !1);
            this.Jq.push(o);
            this.d.appendChild(o)
        }
        var Q = [16711680, 65280, 255, 65535, 16711935, 16776960, 0, 8421504, 16777215],
            K = Math.min(A, Q.length);
        for (var M = 0; M < K; M++) this.ue[M] = Q[M];
        this._j()
    }
    fn.prototype = new cv;
    fn.prototype.a2R = function(w) {
        this.ae5 = this.Jq.indexOf(w.currentTarget);
        this.A(new Y(_.E.h))
    };
    fn.prototype.T = function() {
        return this.ue[this.ae5]
    };
    fn.prototype.G = function(w) {
        var o = this.ue,
            Q = o.indexOf(w);
        if (Q != -1) o.splice(Q, 1);
        else o.pop();
        o.unshift(w);
        this._j()
    };
    fn.prototype._j = function() {
        for (var M = 0; M < this.ue.length; M++) {
            this.Jq[M].setAttribute("style", "background-color:#" + v.u9(this.ue[M]))
        }
    };

    function eQ(w) {
        cv.call(this);
        this._z = !1;
        this.ks = {
            W: 0,
            a: 0,
            k: 0
        };
        this.JV = w;
        this.d = _.B("span", "fitem colorsample");
        this.d.addEventListener("click", this.P9.bind(this), !1)
    }
    eQ.prototype = new cv;
    eQ.prototype.v = function() {};
    eQ.prototype.u0 = function(w) {
        if (this._z == w) return;
        this._z = w;
        this.dc()
    };
    eQ.prototype.P9 = function(w) {
        var o = this.ks;
        this.A(new Y("click"));
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.QH,
            hX: "colorpicker",
            vK: o.W << 16 | o.a << 8 | o.k,
            Zv: this.$b.bind(this),
            uY: this.JV
        };
        this.A(Q)
    };
    eQ.prototype.$b = function(w) {
        this.sj(w);
        this.A(new Y(_.E.h))
    };
    eQ.prototype.ahx = function() {
        this.P9(null)
    };
    eQ.prototype.f0 = function() {
        var w = this.ks;
        return w.W << 16 | w.a << 8 | w.k
    };
    eQ.prototype.T = function() {
        return v.V.Kt(this.ks)
    };
    eQ.prototype.sj = function(w) {
        this.ks = {
            W: w >> 16 & 255,
            a: w >> 8 & 255,
            k: w & 255
        };
        this.dc()
    };
    eQ.prototype.G = function(w) {
        this.ks = v.V.c2(w);
        this.dc()
    };
    eQ.prototype.dc = function() {
        var w = this.ks,
            o = w.W,
            Q = w.a,
            K = w.k;
        if (this._z) o = Q = K = Math.round(v.hn(o, Q, K));
        var b = o << 16 | Q << 8 | K;
        this.d.setAttribute("style", "background-color:#" + v.u9(b))
    };

    function h8(w) {
        go.call(this, w, !1, "brushbutton nopadding", 16.6, 10, d5.IA, !0);
        this.Ie = new cI([12, 14, 0], 1, 1e3, " px", 0, !0);
        this.Ie.s(_.E.h, this.n0, this);
        this.Zs.appendChild(this.Ie.d);
        this.ZA = new cI([12, 17], 0, 100, "%");
        this.ZA.s(_.E.h, this.n0, this);
        this.Zs.appendChild(this.ZA.d)
    }
    h8.prototype = new go;
    h8.prototype.jW = function(w) {
        var o = this.d.getBoundingClientRect();
        this.ky(o.left, o.top + o.height)
    };
    h8.prototype.ky = function(w, o) {
        this.vj();
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.Gj,
            wh: this.VN,
            x: w,
            y: o
        };
        this.A(Q)
    };
    h8.prototype.G = function(w, o, Q) {
        this.Yj = JSON.parse(JSON.stringify(w));
        var K = Math.floor(20 * _.J()),
            b = Math.floor(36 * _.J()),
            R = Math.floor(24 * _.J()),
            X = dR.Il(w, o, Q, K, R, b);
        this.NS.setAttribute("src", X);
        _.d3(this.NS, b, R);
        var h = w.Brsh.v;
        this.Ie.G(h.Dmtr.v.val);
        if (h.Hrdn != null) {
            this.ZA.Lh();
            this.ZA.G(h.Hrdn.v.val)
        } else this.ZA.fz();
        this.LE.qO(-1)
    };
    h8.prototype.mT = function() {
        return {
            list: [{
                t: "Objc",
                v: this.T()
            }],
            Pe: [],
            dg: []
        }
    };
    h8.prototype.T = function() {
        return this.Yj
    };
    h8.prototype.vj = function() {
        if (!this.CX) return;
        var w = [],
            o = [],
            Q = this.Yl,
            K = Math.floor(33 * _.J()),
            b = Math.floor(40 * _.J());
        for (var M = 0; M < Q.list.length; M++) {
            var R = Q.list[M].v,
                X = dR.Il(R, Q.Pe, Q.dg, K, b);
            w.push(X);
            o.push(R.Nm.v.split("=").pop())
        }
        this.LE.lv(w, o, K, b);
        this.CX = !1
    };
    h8.prototype.ku = function(w) {
        var o = this.Yl;
        this.G(o.list[this.LE.T()].v, o.Pe, o.dg);
        this.A(new Y(_.E.h))
    };
    h8.prototype.v = function() {
        go.prototype.v.call(this);
        this.Ie.v();
        this.ZA.v()
    };
    h8.prototype.n0 = function(w) {
        var o = this.Yl,
            Q = this.Yj;
        Q.Brsh.v.Dmtr.v.val = this.Ie.T();
        if (Q.Brsh.v.Hrdn != null) Q.Brsh.v.Hrdn.v.val = this.ZA.T();
        this.G(Q, o.Pe, o.dg);
        this.A(new Y(_.E.h))
    };

    function iC(w) {
        go.call(this, w, !0, "contourbutton", 17, 10.5, d5._L)
    }
    iC.prototype = new go;
    iC.prototype.ku = function(w) {
        this.G(this.Yl[w.target.T()]);
        this.A(new Y(_.E.h))
    };
    iC.prototype.$c = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.QH,
            hX: "contoureditor",
            yG: this.Yj,
            response: this.a3o.bind(this)
        };
        this.A(o)
    };
    iC.prototype.a3o = function(w) {
        this.G(w);
        this.A(new Y(_.E.h))
    };
    iC.prototype.vj = function() {
        if (!this.CX) return;
        var w = Math.floor(38 * _.J()),
            o = Math.floor(38 * _.J()),
            Q = [],
            K = [],
            b = this.Yl;
        for (var M = 0; M < b.length; M++) {
            K.push(b[M].Nm ? b[M].Nm.v : "");
            Q.push(v.R2.Il(b[M].Crv.v, w, o))
        }
        this.LE.lv(Q, K, w, o);
        this.CX = !1
    };
    iC.prototype.G = function(w) {
        this.Yj = JSON.parse(JSON.stringify(w));
        var o = this.Yj.Crv.v;
        for (var M = 0; M < o.length; M++)
            if (o[M].v.Cnty == null) o[M].v.Cnty = {
                t: "bool",
                v: !0
            };
        this.Df()
    };
    iC.prototype.Df = function() {
        var w = Math.floor(30 * _.J()),
            o = Math.floor(30 * _.J()),
            Q = v.R2.Il(this.Yj.Crv.v, w, o);
        this.NS.setAttribute("src", Q);
        _.d3(this.NS, w, o)
    };
    iC.prototype.T = function() {
        return JSON.parse(JSON.stringify(this.Yj))
    };

    function hZ(w) {
        cv.call(this);
        this.mz = null;
        this.AL = null;
        this.e_ = null;
        this.y4 = null;
        this.akg = [];
        this.ahC = [];
        this.d = _.B("span", "fitem fillbutton");
        this.VN = new cv;
        this.VN.d = _.B("div", "floatcont form");
        this.VN.d.setAttribute("style", "width: 21em;");
        this.VN.parent = this;
        this.L9 = w;
        this.wo = this.wo = _.B("label", "flabel");
        this.d.appendChild(this.wo);
        this.Wd = _.B("canvas");
        this.Dh = this.Wd.getContext("2d");
        this.a5D = null;
        this.d.appendChild(this.Wd);
        this.Wd.addEventListener("click", this.jW.bind(this), !1);
        this.jK = new b7([12, 66], ["", "Color", "Grad", "Patt"]);
        this.VN.d.appendChild(this.jK.d);
        this.jK.s(_.E.h, this.Rp, this);
        this.VN.d.appendChild(_.B("hr"));
        this.aaF = _.B("span");
        this.Zw = new eQ(!0);
        this.Zw.parent = this.VN;
        this.Zw.s(_.E.h, this.Rp, this);
        this.nf = new fn(10);
        this.nf.s(_.E.h, this.Rp, this);
        this.e7 = _.B("div", "marged hiline");
        this.e7.appendChild(this.Zw.d);
        _.EV(this.e7);
        this.e7.appendChild(this.nf.d);
        this.WH = new aZ("GrFl", !0);
        this.WH.parent = this.VN;
        this.WH.s(_.E.h, this.Rp, this);
        this.Sk = _.B("div", "marged hiline");
        var o = "Grad Type Algn Angl Rvrs Scl Ofst".split(" ");
        for (var M = 0; M < o.length; M++) {
            var Q = this.WH.K9[o[M]].d;
            this.Sk.appendChild(Q)
        }
        this.zN = new aZ("patternFill", !0);
        this.zN.parent = this.VN;
        this.zN.s(_.E.h, this.Rp, this);
        this.Fy = _.B("div", "marged hiline");
        var o = ["Ptrn", "Scl", "Algn", "phase"];
        for (var M = 0; M < o.length; M++) {
            var Q = this.zN.K9[o[M]].d;
            this.Fy.appendChild(Q)
        }
    }
    hZ.prototype = new cv;
    hZ.prototype.yy = function(w, o) {
        if (o == d5.$V) {
            this.akg = [];
            this.ahC = [];
            if (this.mz) this.G(this.e_, this.T(), this.mz)
        }
        this.AL = w;
        this.WH.yy(w, o);
        this.zN.yy(w, o)
    };
    hZ.prototype.v = function() {
        this.wo.textContent = b6.get(this.L9) + ": ";
        this.jK.v();
        this.Zw.v();
        this.WH.v();
        this.zN.v()
    };
    hZ.prototype.Rp = function(w) {
        var o = w.currentTarget;
        if (o == this.jK) {
            var Q = this.jK.T(),
                K = {
                    o4: Q,
                    pE: this.mz[Q]
                };
            if (Q > 0 && K.pE == null) K.pE = JSON.parse(JSON.stringify(b_.OT[Q - 1]));
            if (this.mz) this.G(this.e_, K, this.mz)
        }
        if (o == this.nf) this.Zw.sj(o.T());
        this.A(new Y(_.E.h, !1))
    };
    hZ.prototype.jW = function(w) {
        var o = this.Wd.getBoundingClientRect(),
            Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.Gj,
            wh: this.VN,
            x: o.left,
            y: o.top + o.height + 4
        };
        this.A(Q);
        this.nf.G(this.Zw.f0())
    };
    hZ.prototype.G = function(w, o, Q) {
        this.mz = Q;
        this.e_ = w;
        var K = [
                [13, 1, 0],
                [13, 0],
                [12, 37],
                [12, 62]
            ],
            b = this.akg,
            R = this.ahC,
            X = !1,
            P;
        for (var M = 0; M < 4; M++) {
            var h = {
                    o4: M,
                    pE: Q[M]
                },
                e = hZ.or(h);
            if (R[M] == e) continue;
            X = !0;
            var Z = hZ.FH(null, h, this.AL, this.e_, 22, 22, !1);
            b[M] = "<img width=\"22\" height=\"22\" src=\"" + Z + "\" />";
            R[M] = e
        }
        if (X) this.jK.dU(b, K);
        this.jK.G(o.o4);
        var e = hZ.or(o);
        if (e != this.a5D) hZ.FH(this.Dh, o, this.AL, this.e_, 30, 23, !0);
        this.a5D = e;
        var J = o.o4;
        if (J == 0) {
            P = this.aaF
        }
        if (J == 1) {
            this.Zw.G(o.pE.Clr.v);
            P = this.e7
        }
        if (J == 2) {
            this.WH.update(w, o.pE);
            P = this.Sk
        }
        if (J == 3) {
            this.zN.update(w, o.pE);
            P = this.Fy
        }
        if (P != this.y4) {
            if (this.y4 != null) {
                this.VN.d.removeChild(this.y4)
            }
            this.VN.d.appendChild(P);
            this.y4 = P
        }
    };
    hZ.prototype.T = function() {
        var w = {
            o4: this.jK.T()
        };
        if (w.o4 == 1) {
            w.pE = JSON.parse(JSON.stringify(b_.OT[0]));
            w.pE.Clr.v = this.Zw.T()
        }
        if (w.o4 == 2) {
            w.pE = this.WH.T()
        }
        if (w.o4 == 3) {
            w.pE = this.zN.T()
        }
        return w
    };
    hZ.or = function(w) {
        var o = w.o4,
            Q = w.pE,
            K = "empty";
        if (o == 1) {
            K = v.V.c2(Q.Clr.v);
            K = K.W + "," + K.a + "," + K.k
        }
        if (o == 2) K = JSON.stringify(Q.Grad.v);
        if (o == 3) K = Q.Ptrn.v.Idnt.v;
        return K
    };
    hZ.FH = function(w, o, Q, K, b, R, X) {
        if (w == null) w = hZ.Dh;
        var h = Math.floor(b * _.J()),
            e = Math.floor(R * _.J()),
            Z = w.canvas,
            P;
        Z.width = h;
        Z.height = e;
        _.d3(Z, h, e);
        var J = o.o4;
        if (J == 0) {
            w.fillStyle = "#ffffff";
            w.fillRect(0, 0, h, e);
            w.strokeStyle = "#ff0000";
            w.lineWidth = 2;
            w.moveTo(0, 0);
            w.lineTo(h, e);
            w.moveTo(0, e);
            w.lineTo(h, 0);
            w.stroke()
        }
        if (J == 1) {
            var i = o.pE.Clr.v;
            i = v.V.c2(i);
            w.fillStyle = "#" + v.u9(i.W << 16 | i.a << 8 | i.k);
            w.fillRect(0, 0, h, e)
        }
        if (J == 2) {
            z.w5.Il(o.pE.Grad.v, h, e, 0, Q.x1, Q.TT, Z)
        }
        if (J == 3) {
            var k = o.pE.Ptrn.v,
                $;
            if (K != null) $ = eg.L6(k, K.add.Patt);
            if ($ == null) $ = eg.L6(k, Q.QL);
            hv.Il($, h, e, Z)
        }
        if (X) {
            w.beginPath();
            w.strokeStyle = "#000000";
            w.fillStyle = "#ffffff";
            w.lineWidth = 2;
            var n = h * .7,
                j = Math.floor(e * .7),
                y = 7 * _.J();
            w.moveTo(n, j);
            w.lineTo(n + y, j);
            w.lineTo(n + y / 2, j + y / 2);
            w.closePath();
            w.stroke();
            w.fill()
        }
        if (w == hZ.Dh) return Z.toDataURL()
    };
    hZ.Dh = _.B("canvas").getContext("2d");

    function hv(w) {
        go.call(this, w, !1, "patternbutton", 18, 10, d5.$V);
        this.en = null
    }
    hv.prototype = new go;
    hv.prototype.ku = function(w) {
        var o = this.Yl[this.LE.T()];
        this.Yj = {
            classID: "Ptrn",
            Nm: {
                t: "TEXT",
                v: o.name
            },
            Idnt: {
                t: "TEXT",
                v: o.id
            }
        };
        this.A(new Y(_.E.h));
        this.Df()
    };
    hv.xE = !1;
    hv.prototype.vj = function() {
        if (!this.CX) return;
        var w = this.Yl;
        if (w == null || !hv.xE) {
            var o = new Y(_.E.N, !0);
            o.data = {
                e: _.S.YU,
                pO: {
                    url: "rsrc/basic/basic.pat"
                }
            };
            this.A(o);
            hv.xE = !0;
            return
        }
        var Q = Math.floor(34 * _.J()),
            K = Math.floor(34 * _.J()),
            b = [],
            R = [];
        for (var M = 0; M < w.length; M++) {
            b.push(hv.Il(w[M], Q, K));
            R.push(w[M].name)
        }
        this.LE.lv(b, R, Q, K);
        this.CX = !1
    };
    hv.prototype.G = function(w, o) {
        if (this.Yj && w.Idnt.v == this.Yj.Idnt.v) return;
        this.Yj = JSON.parse(JSON.stringify(w));
        this.Df(o)
    };
    hv.prototype.T = function() {
        return JSON.parse(JSON.stringify(this.Yj))
    };
    hv.prototype.mT = function() {
        return this.en ? [this.en] : []
    };
    hv.prototype.Df = function(w) {
        var o = Math.floor(50 * _.J()),
            Q = Math.floor(50 * _.J()),
            K;
        if (w != null) K = eg.L6(this.Yj, w.add.Patt);
        if (K == null) K = eg.L6(this.Yj, this.Yl);
        this.en = K;
        var b = hv.Il(K, o, Q);
        this.NS.setAttribute("src", b);
        _.d3(this.NS, o, Q)
    };
    hv.Q8 = _.B("canvas", "");
    hv.Il = function(w, o, Q, K) {
        if (K == null) K = hv.Q8;
        var b = K.getContext("2d");
        K.width = o;
        K.height = Q;
        if (w) {
            var R = w.Ua[1],
                X = R.D,
                h = R.j,
                e = w.Ua[0],
                Z = Math.min(o / X, Q / h),
                P = Z;
            if (P * X < 2) P = 2 / X;
            var J = Z;
            if (J * h < 2) J = 2 / h;
            var i = z.Z.OU([e, R], new dj(P, 0, 0, J, 0, 0), !1),
                k = i.rect.D,
                $ = i.rect.j,
                n = b.createImageData(k, $);
            v.gb(i.buffer, n.data);
            b.putImageData(n, Math.floor((o - k) / 2), Math.floor((Q - $) / 2))
        }
        return K.toDataURL()
    };

    function aJ(w) {
        go.call(this, w, !1, "patternbutton", 24.2, 17, d5.cD);
        this.dj = ""
    }
    aJ.prototype = new go;
    aJ.prototype.ku = function(w) {
        this.Yj = JSON.parse(JSON.stringify(this.Yl[0][this.LE.T()]));
        this.A(new Y(_.E.h))
    };
    aJ.prototype.vj = function() {
        var w = this.Yl;
        if (w == null || !this.CX) return;
        var o = Math.floor(50 * _.J()),
            Q = Math.floor(50 * _.J()),
            K = [],
            b = [];
        for (var M = 0; M < w[0].length; M++) {
            K.push(aJ.Il(this.Yl[0][M].Ze, o, Q, this.Yl[1]));
            b.push(w[0][M].LB.Nm.v.split("=").pop())
        }
        this.LE.lv(K, b, o, Q);
        this.CX = !1
    };
    aJ.prototype.G = function(w, o, Q, K) {
        var b = JSON.stringify(w.Ze) + "," + Q + "," + K;
        if (this.dj != b) {
            this.dj = b;
            this.Yj = JSON.parse(JSON.stringify(w));
            this.Df(o, Q, K)
        }
        this.LE.qO(-1)
    };
    aJ.prototype.T = function() {
        return JSON.parse(JSON.stringify(this.Yj))
    };
    aJ.prototype.Df = function(w, o, Q) {
        var K = Math.floor(68 * _.J()),
            b = Math.floor(68 * _.J()),
            R = aJ.Il(this.Yj.Ze, K, b, w ? w : this.Yl[1], o, Q);
        this.NS.setAttribute("src", R);
        _.d3(this.NS, K, b)
    };
    aJ.Il = function(w, o, Q, K, b, R) {
        var X = new fb;
        X.D = o;
        X.j = Q;
        X.buffer = v.$(o * Q * 4);
        X.add.Patt = K;
        X.sw(b == null ? 90 : b);
        X.LC(R == null ? 30 : R);
        var h = new B(0, 0, Math.round(o * .5), Math.round(Q * .5));
        h.x = Math.round((o - h.D) / 2);
        h.y = Math.round((Q - h.j) / 2);
        var e = X._g();
        e.rect = h;
        e.buffer = v.$(h.O() * 4);
        v.Fw(e.buffer, 4284045657);
        eg.ck(w, e, .5 * 100);
        X.t.push(e);
        X.tE();
        X.C();
        var Z = d.cv;
        d.cv = !1;
        X.rW();
        var P = X.X_();
        d.cv = Z;
        var J = ip.Lx(P.buffer, X.D, X.j);
        return J
    };

    function g7(w) {
        go.call(this, null, !1, "tpresetbutton", 18, 24, d5.Y8, !0);
        _.Xt(this.d, "fitem");
        this.LE.xm(1);
        this.id = w;
        this.Df();
        this.Lt = new dS([15, 7, 9]);
        this.Lt.G(!0);
        this.Lt.s(_.E.h, this.ak9, this);
        this.KE.appendChild(this.Lt.d)
    }
    g7.prototype = new go;
    g7.prototype.a1H = function(w) {
        if (this.id == w) return;
        this.id = w;
        this.J$(this.Yl)
    };
    g7.prototype.ku = function(w) {
        var o = this.Yl[this.LE.T()],
            Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.UA,
            q7: "set",
            pO: d5.Y8,
            d5: o
        };
        this.A(Q)
    };
    g7.prototype.v = function() {
        go.prototype.v.call(this);
        this.Lt.v()
    };
    g7.prototype.ak9 = function() {
        this.CX = !0;
        this.vj()
    };
    g7.prototype.vj = function() {
        if (!this.CX) return;
        var w = Math.floor(16 * _.J()),
            o = Math.floor(16 * _.J()),
            Q = [],
            K = [],
            b = this.Yl,
            R = this.Lt.T();
        for (var M = 0; M < b.length; M++) {
            var X = z.Cs(b[M]);
            if (!R || X == this.id) {
                K.push(b[M][0] ? b[M][0].split("=").pop() : "");
                Q.push(X == -1 ? "" : PIMG[z.Qf[X][0]])
            } else {
                Q.push(null);
                K.push(null)
            }
        }
        this.LE.lv(Q, K, w, o);
        this.CX = !1
    };
    g7.prototype.Df = function() {
        var w = this.NS;
        w.setAttribute("src", PIMG[z.Qf[this.id][0]]);
        _.Ka(w, "toolicon")
    };
    g7.prototype.mT = function() {
        return null
    };
    g7.oj = {};
    g7.Il = function(w, o, Q) {
        var K = g7.H3,
            b = g7.oj,
            R = v.u9(w.W << 16 | w.a << 8 | w.k);
        if (b[R]) return b[R];
        if (K == null) {
            var X = _.B("canvas");
            K = g7.H3 = X.getContext("2d")
        }
        var X = K.canvas;
        X.width = o;
        X.height = Q;
        K.fillStyle = "#" + R;
        K.fillRect(0, 0, o, Q);
        var h = b[R] = X.toDataURL();
        return h
    };

    function eN(w, o) {
        cv.call(this);
        this.d = _.B("span", "fitem curveeditor");
        this.IG = null;
        this.ahW = 0;
        this.d1 = "";
        this.mode = 0;
        this.FT = w;
        this.a0c = o;
        this.lp = null;
        this.Yy = null;
        this._w = new fB;
        this.At = this.Pf.bind(this);
        this.NF = this.oL.bind(this);
        this.Wd = _.B("canvas", "");
        this.Dh = this.Wd.getContext("2d");
        _.CA(this.Wd);
        _.E5(this.Wd, 256, 256, this.Dh);
        this.d.appendChild(this.Wd);
        _._v(this.Wd, this.Kj.bind(this))
    }
    eN.prototype = new cv;
    eN.prototype.G = function(w, M) {
        var o = JSON.stringify(w);
        if (o == JSON.stringify(this.lp)) return;
        this.mode = w.length == 256 ? 1 : 0;
        this.lp = JSON.parse(o);
        if (M != null) this.Yy = this.lp[M];
        this.GO()
    };
    eN.prototype.R6 = function(w, o, Q) {
        this.IG = w;
        this.ahW = o;
        this.d1 = Q;
        this.GO()
    };
    eN.prototype.T = function() {
        return JSON.parse(JSON.stringify(this.lp))
    };
    eN.prototype.NQ = function() {
        return this.lp.indexOf(this.Yy)
    };
    eN.prototype.Kj = function(w) {
        var o = _.m5(w, this.Wd),
            Q = o.x,
            K = 256 - o.y;
        if (this.FT) {
            var b = Q;
            Q = 256 - K;
            K = b
        }
        this._w.qQ(Q, K);
        if (this.mode == 0) {
            var R = null;
            for (var M = 0; M < this.lp.length; M++) {
                var X = this.lp[M].v,
                    h = X.Hrzn.v - Q,
                    e = X.Vrtc.v - K,
                    Z = Math.sqrt(h * h + e * e);
                if (Z < 5) R = this.lp[M]
            }
            if (R == null) {
                R = v.R2.va(Q, K, !0);
                this.lp.push(R)
            }
            this.Yy = R
        }
        _.vt(document.body, this.At);
        _.$y(document.body, this.NF);
        this.Pf(w)
    };
    eN.prototype.Pf = function(w) {
        var o = _.m5(w, this.Wd),
            Q = o.x,
            K = 256 - o.y;
        if (this.FT) {
            var b = Q;
            Q = 256 - K;
            K = b
        }
        if (this.mode == 0) {
            var R = this.lp,
                X = this.a0c,
                h = R.indexOf(this.Yy),
                e = h == 0 || h == R.length - 1,
                Z = 0,
                P = 255,
                J = !0;
            if (e) {
                Z = 1;
                P = 254
            }
            if (!X || !e) this.Yy.v.Hrzn.v = Math.max(Z, Math.min(P, Math.round(Q)));
            this.Yy.v.Vrtc.v = Math.max(0, Math.min(255, Math.round(K)));
            for (var M = 0; M < R.length; M++) {
                if (R[M] == this.Yy) continue;
                if (Math.abs(R[M].v.Hrzn.v - this.Yy.v.Hrzn.v) < 2) J = !1
            }
            if (Q < 0 || Q > 255 || K < 0 || K > 255) J = !1;
            if (J && R.indexOf(this.Yy) == -1) R.push(this.Yy);
            if (!J && R.indexOf(this.Yy) != -1 && R.length > 2 && (!X || !e)) R.splice(R.indexOf(this.Yy), 1);
            if (R[0].v.Hrzn.v == R[1].v.Hrzn.v)
                if (R[0].v.Hrzn.v == 0) R[1].v.Hrzn.v = 1;
                else R[0].v.Hrzn.v--;
            R.sort(function(y, V) {
                return y.v.Hrzn.v - V.v.Hrzn.v
            })
        } else {
            Q = Math.round(Q);
            K = Math.round(K);
            Q = Math.max(0, Math.min(255, Q));
            K = Math.max(0, Math.min(255, K));
            var i = this._w.x,
                k = Q,
                $ = this._w.y,
                n = K;
            if (Q < this._w.x) {
                k = i;
                i = Q;
                n = $;
                $ = K
            }
            this.lp[Q] = K;
            if (i != k)
                for (var j = i; j <= k; j++) this.lp[j] = Math.round($ + (j - i) * (n - $) / (k - i))
        }
        this._w.qQ(Q, K);
        this.GO();
        this.A(new Y(_.E.h))
    };
    eN.prototype.oL = function(w) {
        _.Vk(document.body, this.At);
        _.p_(document.body, this.NF);
        this.A(new Y(_.E.h))
    };
    eN.prototype.GO = function() {
        var w = this.Dh;
        w.fillStyle = "#ffffff";
        w.fillRect(0, 0, 256, 256);
        if (this.IG) {
            w.translate(0, 256);
            w.scale(1, -1);
            a9.pv(w, this.IG, 5700 / this.ahW, this.d1);
            w.scale(1, -1);
            w.translate(0, -256)
        }
        w.strokeStyle = "#aaaaaa";
        w.lineWidth = 1;
        w.beginPath();
        for (var M = 1; M < 4; M++) {
            w.moveTo(0, 64 * M - .5);
            w.lineTo(255, 64 * M - .5);
            w.moveTo(64 * M - .5, 0);
            w.lineTo(64 * M - .5, 255)
        }
        w.stroke();
        if (this.FT) {
            w.save();
            w.transform(0, 1, -1, 0, 256, 0)
        }
        if (this.mode == 0) {
            var o = this.lp,
                Q = v.R2.XO(o, 256);
            w.strokeStyle = "#000000";
            w.beginPath();
            w.moveTo(0, 255.5 - Q[0]);
            for (var M = 0; M < 256; M++) w.lineTo(M, 255.5 - Q[M]);
            w.stroke();
            w.lineWidth = 2;
            for (var M = 0; M < o.length; M++) {
                var K = o[M].v;
                w.fillStyle = this.Yy == o[M] ? "#333" : "#fff";
                w.beginPath();
                w.moveTo(K.Hrzn.v, 255.5 - K.Vrtc.v);
                w.arc(K.Hrzn.v, 255.5 - K.Vrtc.v, 3, 0, 2 * Math.PI);
                w.stroke();
                w.fill()
            }
        } else {
            var Q = this.lp;
            w.strokeStyle = "#000000";
            w.beginPath();
            w.moveTo(0, 255.5 - Q[0]);
            for (var M = 0; M < 256; M++) w.lineTo(M, 255.5 - Q[M]);
            w.stroke()
        }
        if (this.FT) w.restore()
    };

    function a9(w, o) {
        cv.call(this);
        this.d = _.B("span", "");
        this.Qd = new bQ([12, 4], ["RGB", [13, 1, 1],
            [13, 1, 4],
            [13, 1, 5],
            [12, 82]
        ]);
        this.Qd.s(_.E.h, this.KM, this);
        this.d.appendChild(this.Qd.d);
        _.EV(this.d);
        this.Q8 = _.B("canvas");
        var Q = this.Q8;
        this.d.appendChild(Q);
        Q.width = Math.round(w * _.J());
        Q.height = Math.round(100 * _.J());
        _.d3(Q, Q.width, Q.height);
        this.H3 = Q.getContext("2d");
        this.IG = null;
        this.FG = 0;
        this.a15 = null;
        this.ahI = [];
        this.Ma = [];
        var K = ["Mean:", "Pixels:"],
            b = this.d;
        for (var M = 0; M < K.length; M++) {
            var R = new bY(K[M]);
            this.ahI.push(R);
            if (o) b.appendChild(R.d);
            var X = new bY("hi");
            this.Ma.push(X);
            if (o) b.appendChild(X.d);
            _.EV(b)
        }
    }
    a9.prototype = new cv;
    a9.prototype.v = function() {
        this.Qd.v()
    };
    a9.prototype.xm = function(w) {
        this.Qd.G(w);
        this.KM()
    };
    a9.prototype.G = function(w, o) {
        this.IG = w;
        this.a15 = o;
        this.KM()
    };
    a9.prototype.sj = function(w) {
        if (w == this.FG) return;
        this.FG = w;
        this.KM()
    };
    a9.prototype.KM = function() {
        if (this.IG == null) return;
        var w = this.Q8,
            o = this.H3,
            Q = this.IG,
            K = this.a15,
            b = this.Qd.T(),
            R = 6e3 / Q[4],
            X = "#" + v.u9(this.FG),
            h = a9.pv;
        w.width = w.width;
        o.setTransform(w.width / 256, 0, 0, -w.height / 100, 0, w.height);
        o.globalCompositeOperation = "lighter";
        if (b == 0) h(o, Q[0], R / 3, X);
        else if (b < 4) h(o, Q[b], R, X);
        else {
            h(o, Q[1], R, "#ff0000");
            h(o, Q[2], R, "#00ff00");
            h(o, Q[3], R, "#0000ff")
        }
        o.setTransform(1, 0, 0, 1, 0, 0);
        if (K != null) {
            var Z = 0;
            for (var M = 0; M < 256; M++) Z += M * Q[b][M];
            if (b == 0) Z /= 3;
            this.Ma[0].G((Z / K).toFixed(1) + "");
            this.Ma[1].G(K + "")
        }
    };
    a9.pv = function(w, o, Q, K) {
        w.beginPath();
        w.moveTo(0, 0);
        for (var b = 0; b < 256; b++) w.lineTo(b, o[b] * Q);
        w.lineTo(256, 0);
        w.closePath();
        w.fillStyle = K;
        w.fill()
    };

    function gg(w) {
        cv.call(this);
        this.qx = {
            W: 0,
            a: 0,
            k: 0
        };
        if (Math.abs(w - 256 / _.J()) < 10) w = 256 / _.J();
        var o = this.d = _.B("div", "flexrow");
        this.to = new fB;
        this.jQ = new fB;
        this.HR = this.xb.bind(this);
        this.A8 = this.agp.bind(this);
        this.Wd = _.B("canvas", "");
        this.Dh = this.Wd.getContext("2d");
        this.Wd.width = this.Wd.height = 256;
        this.a4B = this.Dh.getImageData(0, 0, 256, 256);
        this.ahF = -1;
        _.CA(this.Wd);
        _._v(this.Wd, this.a3W.bind(this));
        o.appendChild(this.Wd);
        this.amX = this.Tu.bind(this);
        this.aeW = this.a63.bind(this);
        this.eD = _.B("canvas", "");
        this.Ss = this.eD.getContext("2d");
        this.eD.width = 20;
        this.eD.height = 256;
        this.a8T = this.Ss.getImageData(0, 0, 20, 256);
        this.ag0(this.a8T.data, 20, 256);
        _.CA(this.eD);
        _._v(this.eD, this.ah8.bind(this));
        o.appendChild(this.eD);
        this.Wd.setAttribute("style", "width:" + w + "px; height:" + w + "px");
        this.eD.setAttribute("style", "width:" + 20 / _.J() + "px; height:" + w + "px")
    }
    gg.prototype = new cv;
    gg.prototype.VJ = function(w, o) {
        this.Wd.style.width = w + "px"
    };
    gg.prototype.G = function(w) {
        this.qx = w;
        this.update()
    };
    gg.prototype.T = function() {
        return JSON.parse(JSON.stringify(this.qx))
    };
    gg.prototype.update = function() {
        var w = this.qx,
            o = v.Zd(w.W, w.a, w.k);
        if (o.O_ == 0) o.sa = this.to.x / 255;
        if (o.sa == 0 || o.O_ == 0) o.Y7 = (255 - this.Kw(this.jQ.y)) / 255;
        if (o.O_ != 0) this.to.x = o.sa * 255;
        this.to.y = (1 - o.O_) * 255;
        this.jQ.y = (1 - o.Y7) * 255;
        var Q = this.a4B;
        if (Math.abs(o.Y7 - this.ahF) > .002) {
            this.ae7(Q.data, 256, 256, o.Y7);
            this.ahF = o.Y7
        }
        this.Dh.putImageData(Q, 0, 0);
        this.Dh.strokeStyle = "#000000";
        this.Dh.beginPath();
        this.Dh.arc(this.to.x + 1, this.to.y + 1, 5, 0, 2 * Math.PI);
        this.Dh.stroke();
        this.Dh.strokeStyle = "#ffffff";
        this.Dh.beginPath();
        this.Dh.arc(this.to.x, this.to.y, 5, 0, 2 * Math.PI);
        this.Dh.stroke();
        var Q = this.a8T;
        this.Ss.putImageData(Q, 0, 0);
        this.Ss.strokeStyle = "#ffffff";
        this.Ss.beginPath();
        this.Ss.moveTo(0, this.jQ.y);
        this.Ss.lineTo(20, this.jQ.y);
        this.Ss.lineWidth = 2;
        this.Ss.stroke()
    };
    gg.prototype.ae7 = function(w, o, Q, K) {
        var b = 1 / o,
            R = 1 / Q;
        for (var X = 0; X < Q; X++)
            for (var h = 0; h < o; h++) {
                var e = v.rp(K, h * b, (Q - X - 1) * R),
                    M = X * o + h << 2;
                w[M + 0] = ~~(e.W * 255);
                w[M + 1] = ~~(e.a * 255);
                w[M + 2] = ~~(e.k * 255);
                w[M + 3] = 255
            }
    };
    gg.prototype.ag0 = function(w, o, Q) {
        var K = new Uint32Array(w.buffer);
        for (var b = 0; b < Q; b++) {
            var R = v.rp(1 - b / Q, 1, 1),
                X = 255 << 24 | R.k * 255 << 16 | R.a * 255 << 8 | R.W * 255;
            for (var h = 0; h < o; h++) K[b * o + h] = X
        }
    };
    gg.prototype.a3W = function(w) {
        _.vt(window, this.HR);
        _.$y(window, this.A8);
        this.xb(w)
    };
    gg.prototype.agp = function(w) {
        _.Vk(window, this.HR);
        _.p_(window, this.A8)
    };
    gg.prototype.xb = function(w) {
        var o = _.m5(w, this.Wd);
        o.x = o.x * (256 / parseFloat(this.Wd.style.width));
        o.y = o.y * (256 / parseFloat(this.Wd.style.height));
        this.to.qQ(this.Kw(o.x), this.Kw(o.y));
        this.ak()
    };
    gg.prototype.ak = function() {
        this.qx = this.akL();
        this.A(new Y(_.E.h))
    };
    gg.prototype.akL = function() {
        var w = v.rp((255 - this.Kw(this.jQ.y)) / 255, this.jm(this.to.x / 255), this.jm(1 - this.to.y / 255));
        return {
            W: w.W,
            a: w.a,
            k: w.k
        }
    };
    gg.prototype.ah8 = function(w) {
        _.vt(window, this.amX);
        _.$y(window, this.aeW);
        this.Tu(w)
    };
    gg.prototype.a63 = function(w) {
        _.Vk(window, this.amX);
        _.p_(window, this.aeW)
    };
    gg.prototype.Tu = function(w) {
        var o = _.m5(w, this.eD);
        o.y = o.y * (256 / parseFloat(this.eD.style.height));
        this.jQ.qQ(this.Kw(o.x), this.Kw(o.y));
        this.ak()
    };
    gg.prototype.Kw = function(w) {
        return Math.max(0, Math.min(255, w))
    };
    gg.prototype.jm = function(w) {
        return Math.max(0, Math.min(1, w))
    };

    function b7(w, o, Q) {
        cv.call(this);
        if (!o) return;
        this.sr = 0;
        this.d = _.B("span", "fitem bbmenu");
        if (w) {
            this.Ew = w;
            this.wo = _.B("label", "flabel");
            this.wo.textContent = w + ":";
            this.d.appendChild(this.wo)
        }
        this.OO = [];
        this.Cf = null;
        this.dU(o, Q);
        this.G(0)
    }
    b7.prototype = new cv;
    b7.prototype.vg = function(w) {
        this.Ew = w;
        this.v()
    };
    b7.prototype.v = function() {
        if (this.Ew != null) {
            this.wo.textContent = b6.get(this.Ew) + ": "
        }
        for (var M = 0; M < this.OO.length; M++) this.OO[M].v()
    };
    b7.prototype.T = function() {
        return this.sr
    };
    b7.prototype.dU = function(w, o) {
        while (this.OO.length > 0) this.d.removeChild(this.OO.pop().d);
        this.Cf = w;
        for (var M = 0; M < w.length; M++) {
            var Q = new dQ(w[M], !1, o ? o[M] : null);
            Q.s("click", this.u4, this);
            this.d.appendChild(Q.d);
            this.OO.push(Q)
        }
        this.v()
    };
    b7.prototype.G = function(w) {
        this.sr = w;
        for (var M = 0; M < this.OO.length; M++) this.OO[M].zC();
        this.OO[w].En()
    };
    b7.prototype.u4 = function(w) {
        var M = this.OO.indexOf(w.target);
        this.G(M);
        this.A(new Y(_.E.h, !1))
    };

    function hC(w, o, Q, K) {
        if (K == null) K = 16;
        var b = hC.R$,
            R = b.getContext("2d"),
            X = K >>> 1;
        b.width = b.height = K;
        var h = [];
        for (var M = 0; M < o.length; M++) {
            if (o[M] == "checker") {
                R.fillStyle = "white";
                R.fillRect(0, 0, K, K);
                R.fillStyle = "#bbbbbb";
                R.fillRect(X, 0, X, X);
                R.fillRect(0, X, X, X)
            } else if (o[M].startsWith("#")) {
                R.fillStyle = o[M];
                R.fillRect(0, 0, K, K)
            }
            if (o[M] == "checker" || o[M].startsWith("#")) h.push("<img src=\"" + b.toDataURL() + "\" />");
            else h.push("<img src=\"" + o[M] + "\" class=\"autoscale gsicon\" />")
        }
        b7.call(this, w, h, Q)
    }
    hC.prototype = new b7;
    hC.R$ = _.B("canvas");

    function bQ(w, o, Q, K) {
        cv.call(this);
        if (!o) return;
        if (Q == null) Q = !1;
        this.sr = 0;
        this.a0e = Q;
        this.Ew = w;
        this.yB = null;
        this.a2D = K;
        var b = "dd" + _.ws();
        this.d = _.B("span", "fitem ddmenu");
        if (w && !Q) {
            this.wo = _.B("label", "flabel");
            this.d.appendChild(this.wo);
            this.wo.setAttribute("for", b)
        }
        this.IX = _.B("select", "bbtn");
        this.IX.setAttribute("id", b);
        this.d.appendChild(this.IX);
        this.IX.addEventListener("change", this.u4.bind(this), !1);
        this.OO = [];
        this.Cf = null;
        this.dU(o, K);
        this.v()
    }
    bQ.prototype = new cv;
    bQ.prototype.vg = function(w) {
        this.Ew = w;
        this.v()
    };
    bQ.prototype.v = function() {
        if (this.Ew != null) {
            var w = b6.get(this.Ew);
            if (this.a0e) this.IX.setAttribute("title", w);
            else this.wo.textContent = w + ":"
        }
        if (this.Cf) this.dU(this.Cf, this.a2D);
        this.G(this.sr)
    };
    bQ.prototype.T = function() {
        return this.sr
    };
    bQ.prototype.dU = function(w, o) {
        _.Tk(this.IX);
        var Q = [],
            K = 0;
        if (o) {
            Q.push(o[0]);
            for (var M = 1; M < o.length; M++) Q.push(Q[M - 1] + o[M])
        }
        this.Cf = w;
        this.yB = [];
        this.a2D = o;
        for (var M = 0; M < w.length; M++) {
            var b = _.B("option");
            b.textContent = b6.get(w[M]);
            b.setAttribute("value", M);
            this.IX.appendChild(b);
            this.OO.push(b);
            this.yB.push(M + K);
            if (Q.indexOf(M + 1) != -1 && M != w.length - 1) {
                var R = _.B("option");
                R.setAttribute("disabled", "");
                R.textContent = "";
                this.IX.appendChild(R);
                K++
            }
        }
    };
    bQ.prototype.G = function(w) {
        this.sr = w;
        this.IX.selectedIndex = this.yB[w]
    };
    bQ.prototype.u4 = function(w) {
        this.sr = this.yB.indexOf(this.IX.selectedIndex);
        this.A(new Y(_.E.h, !1))
    };

    function b4() {
        cv.call(this);
        this.f8 = null;
        this.ax = new bm;
        this.ax.s(_.E.h, this.a5F, this);
        this.ax.parent = this;
        this.XK = new fN([12, 14, 0], 1, 150, "px", 0, !0);
        this.XK.s(_.E.h, this.lM, this);
        this.XK.parent = this;
        this.tY = new fN([16, 0], 0, 100, "px", 2, !0, null, 5);
        this.tY.s(_.E.h, this.lM, this);
        this.tY.parent = this;
        this.Zi = new dS("Auto");
        this.Zi.s(_.E.h, this.lM, this);
        this.R_ = new fN([16, 1], -500, 5e3, "%", 0, !0);
        this.R_.s(_.E.h, this.lM, this);
        this.R_.parent = this;
        this.io = new fN("\u2B0D", 1, 300, "%", null, null, null, null, [
            [2, 7],
            [22, 4, 3]
        ]);
        this.io.s(_.E.h, this.lM, this);
        this.io.parent = this;
        this.LZ = new fN("\u2B0C", 1, 300, "%", null, null, null, null, [
            [2, 7],
            [22, 4, 2]
        ]);
        this.LZ.s(_.E.h, this.lM, this);
        this.LZ.parent = this;
        this.P3 = new fN([16, 2], -10, 10, "px");
        this.P3.s(_.E.h, this.lM, this);
        this.P3.parent = this;
        this.Nv = new eQ(!0);
        this.Nv.s(_.E.h, this.afH, this);
        this.Nv.parent = this;
        this.qV = new dQ("<img src=\"" + PIMG["type/bold"] + "\" class=\"autoscale gsicon\" />");
        this.Ag = new dQ("<img src=\"" + PIMG["type/italic"] + "\" class=\"autoscale gsicon\" />");
        this.AV = new dQ("<img src=\"" + PIMG["type/caps"] + "\" class=\"autoscale gsicon\" />");
        this.Eg = new dQ("<img src=\"" + PIMG["type/scaps"] + "\" class=\"autoscale gsicon\" />");
        this.Mk = new dQ("<img src=\"" + PIMG["type/sub"] + "\" class=\"autoscale gsicon\" />");
        this.Zg = new dQ("<img src=\"" + PIMG["type/sup"] + "\" class=\"autoscale gsicon\" />");
        this.aM = new dQ("<img src=\"" + PIMG["type/under"] + "\" class=\"autoscale gsicon\" />");
        this.WP = new dQ("<img src=\"" + PIMG["type/strike"] + "\" class=\"autoscale gsicon\" />");
        var w = [this.qV, this.Ag, this.AV, this.Eg, this.Mk, this.Zg, this.aM, this.WP];
        for (var M = 0; M < w.length; M++) w[M].s("click", this.a1A, this);
        this.sM = new dQ("<img src=\"" + PIMG["par/left"] + "\" class=\"autoscale gsicon\" />");
        this.wB = new dQ("<img src=\"" + PIMG["par/right"] + "\" class=\"autoscale gsicon\" />");
        this.ON = new dQ("<img src=\"" + PIMG["par/center"] + "\" class=\"autoscale gsicon\" />");
        this.aaC = new dQ("<img src=\"" + PIMG["par/jleft"] + "\" class=\"autoscale gsicon\" />");
        this.a5K = new dQ("<img src=\"" + PIMG["par/jright"] + "\" class=\"autoscale gsicon\" />");
        this.a41 = new dQ("<img src=\"" + PIMG["par/jcenter"] + "\" class=\"autoscale gsicon\" />");
        this.amK = new dQ("<img src=\"" + PIMG["par/jall"] + "\" class=\"autoscale gsicon\" />");
        this.aZ = [this.sM, this.wB, this.ON, this.aaC, this.a5K, this.a41, this.amK];
        for (var M = 0; M < this.aZ.length; M++) this.aZ[M].s("click", this.lM, this);
        var o = ["lind", "rind", "flind", "bind", "aind"],
            Q = [];
        for (var M = 0; M < 5; M++) Q.push("<img src=\"" + PIMG["par/" + o[M]] + "\" class=\"autoscale gsicon\" /> ");
        this.w2 = new fN(Q[0], -20, 20, "px");
        this.w2.s(_.E.h, this.lM, this);
        this.w2.parent = this;
        this.Lm = new fN(Q[1], -20, 20, "px");
        this.Lm.s(_.E.h, this.lM, this);
        this.Lm.parent = this;
        this.CO = new fN(Q[2], -20, 20, "px");
        this.CO.s(_.E.h, this.lM, this);
        this.CO.parent = this;
        this.oM = new fN(Q[3], -20, 20, "px");
        this.oM.s(_.E.h, this.lM, this);
        this.oM.parent = this;
        this.i3 = new fN(Q[4], -20, 20, "px");
        this.i3.s(_.E.h, this.lM, this);
        this.i3.parent = this;
        this.WO = new b7([12, 33], ["Abc ...", "... \u0623\u064A \u0628\u064A"]);
        this.WO.s(_.E.h, this.lM, this);
        this.WO.parent = this
    }
    b4.prototype = new cv;
    b4.prototype.v = function() {
        this.ax.v();
        this.XK.v();
        this.tY.v();
        this.R_.v();
        this.P3.v();
        this.io.v();
        this.LZ.v();
        this.WO.v()
    };
    b4.prototype.G = function(w, o, Q) {
        this.$p = JSON.parse(JSON.stringify(w));
        var K = this.$p,
            b = K.Bq,
            R = K.j_;
        this.qV.G(b.FauxBold != null ? b.FauxBold : !1);
        this.Ag.G(b.FauxItalic != null ? b.FauxItalic : !1);
        this.AV.G(b.FontCaps == 2);
        this.Eg.G(b.FontCaps == 1);
        this.Zg.G(b.FontBaseline == 1);
        this.Mk.G(b.FontBaseline == 2);
        this.aM.G(b.Underline);
        this.WP.G(b.Strikethrough);
        this.ax.G(b.Font == null ? null : K.IF[b.Font].Name, o, Q);
        var X = b.FontSize == null ? 20 : b.FontSize;
        this.XK.G(X);
        var h = b.Tracking;
        this.R_.G(h == null ? 0 : h);
        this.tY.G(b.Leading != null ? b.Leading : 0);
        this.Zi.G(b.AutoLeading);
        this.io.G((b.VerticalScale != null ? b.VerticalScale : 0) * 100);
        this.LZ.G((b.HorizontalScale != null ? b.HorizontalScale : 0) * 100);
        this.P3.G(b.BaselineShift != null ? b.BaselineShift : 0);
        if (b.FillColor) {
            var e = fI.c2(b);
            this.Nv.sj(Math.round(e.W) << 16 | Math.round(e.a) << 8 | Math.round(e.k))
        } else this.Nv.sj(0);
        var Z = R._Direction != null ? R._Direction : 0,
            P = fI.Lv(R);
        for (var M = 0; M < this.aZ.length; M++) this.aZ[M].G(P == M);
        this.WO.G(Z);
        this.w2.G(R.StartIndent != null ? R.StartIndent : 0);
        this.Lm.G(R.EndIndent != null ? R.EndIndent : 0);
        this.CO.G(R.FirstLineIndent != null ? R.FirstLineIndent : 0);
        this.oM.G(R.SpaceBefore != null ? R.SpaceBefore : 0);
        this.i3.G(R.SpaceAfter != null ? R.SpaceAfter : 0)
    };
    b4.prototype.$s = function() {
        var w = new Y(_.E.N, !0);
        w.data = {
            e: _.S.UA,
            pO: d5.pQ,
            $p: this.$p
        };
        this.A(w);
        var w = new Y(_.E.z, !0);
        w.f = z.wy;
        w.data = {
            e: "updateStyles"
        };
        this.A(w)
    };
    b4.prototype.a1A = function(w) {
        var o = this.$p.Bq,
            Q = w.target,
            K = !Q.m0();
        if (Q == this.qV) o.FauxBold = K;
        if (Q == this.Ag) o.FauxItalic = K;
        if (Q == this.AV) o.FontCaps = K ? 2 : 0;
        if (Q == this.Eg) o.FontCaps = K ? 1 : 0;
        if (Q == this.Zg) o.FontBaseline = K ? 1 : 0;
        if (Q == this.Mk) o.FontBaseline = K ? 2 : 0;
        if (Q == this.aM) o.Underline = K;
        if (Q == this.WP) o.Strikethrough = K;
        this.$s()
    };
    b4.prototype.lM = function(w) {
        var o = this.$p.Bq,
            Q = this.$p.j_,
            K = w.target;
        if (K == this.R_) {
            var b = this.R_.T();
            o.Tracking = b
        }
        if (K == this.tY) {
            o.AutoLeading = !1;
            o.Leading = this.tY.T()
        }
        if (K == this.Zi) {
            o.AutoLeading = this.Zi.T()
        }
        if (K == this.XK) o.FontSize = K.T();
        if (K == this.io) o.VerticalScale = K.T() / 100;
        if (K == this.LZ) o.HorizontalScale = K.T() / 100;
        if (K == this.P3) o.BaselineShift = K.T();
        if (this.aZ.indexOf(K) != -1) {
            Q.Justification = fI.Lv(Q, this.aZ.indexOf(K))
        }
        if (K == this.w2) Q.StartIndent = K.T();
        if (K == this.Lm) Q.EndIndent = K.T();
        if (K == this.CO) Q.FirstLineIndent = K.T();
        if (K == this.oM) Q.SpaceBefore = K.T();
        if (K == this.i3) Q.SpaceAfter = K.T();
        if (K == this.WO) Q._Direction = K.T();
        this.$s()
    };
    b4.prototype.a5F = function(w) {
        var o = this.$p,
            Q = this.ax.T(),
            K = -1;
        for (var M = 0; M < o.IF.length; M++)
            if (o.IF[M].Name == Q) K = M;
        if (K == -1) {
            K = o.IF.length;
            var b = JSON.parse(JSON.stringify(o.IF[0]));
            b.Name = Q;
            o.IF.splice(K, 0, b)
        }
        o.Bq.Font = K;
        this.$s()
    };
    b4.prototype.afH = function(w) {
        var o = this.Nv.f0(),
            Q = {
                Type: 1,
                Values: [1, (o >> 16 & 255) / 255, (o >> 8 & 255) / 255, (o >> 0 & 255) / 255]
            };
        for (var M = 0; M < 4; M++) Q.Values[M] = Math.round(Q.Values[M] * 1e3) / 1e3;
        this.$p.Bq.FillColor = Q;
        this.$s()
    };

    function bm() {
        cv.call(this);
        this.d = _.B("span", "fontinput");
        this.OM = null;
        this.ga = null;
        this.W6 = null;
        this.$q = "";
        this.YR = {};
        this.yx = [];
        this.a6Y = {};
        this.sf = !1;
        this.a3 = _.B("button", "fitem");
        this.a3.setAttribute("style", "width:9em;");
        this.a3.textContent = "Family Name \u25BC";
        this.d.appendChild(this.a3);
        _._v(this.a3, this._h.bind(this));
        this.$N = new cv;
        this.$N.parent = this;
        this.$N.d = _.B("div", "floatcont");
        this.$N.d.addEventListener("keyup", this.a13.bind(this), !1);
        this.aC = new hD(6.8);
        this.$N.d.appendChild(this.aC.a42());
        this.aC.parent = this.$N;
        this.aC.s(_.E.h, this.kR, this);
        var w = _.B("div", "form");
        this.$N.d.appendChild(w);
        this.a8 = new dQ(_.oP("tools/cshape", null, "autoscale"), !1, "Show Favorites Only");
        this.a8.s("click", this.ac7, this);
        w.appendChild(this.a8.d);
        this.hD = new g$([12, 86], null, 9);
        this.hD.s("input", this.ea, this);
        w.appendChild(this.hD.d);
        var o = this.a78 = new dQ([
            [23, 6],
            [22, 6, 0]
        ], !1, "Load OTF / TTF file from your computer", !0);
        o.s("click", this.a7m, this);
        o.d.style.marginLeft = "1.5em";
        w.appendChild(o.d);
        this.xa = _.B("span", "fitem imageset scrollable marged");
        this.xa.style.height = "30em";
        this.$N.d.appendChild(this.xa);
        this.k2 = _.B("button", "fitem");
        this.k2.setAttribute("style", "width:7em;");
        this.k2.textContent = "SubFamily Name \u25BC";
        this.d.appendChild(this.k2);
        _._v(this.k2, this._h.bind(this));
        this.bg = new cv;
        this.bg.parent = this;
        this.bg.d = _.B("div", "floatcont");
        this.ia = _.B("span", "fitem imageset scrollable marged");
        this.bg.d.appendChild(this.ia)
    }
    bm.prototype = new cv;
    bm.prototype.a13 = function(w) {
        var o = 0;
        if (E.Cn(w.code, E.Vy)) o = -1;
        if (E.Cn(w.code, E.lW)) o = 1;
        if (o != 0) {
            var Q = this.yx,
                K = Q.length,
                b = this.OM.j1()[this.W6];
            if (b == null && K == 0) return;
            var R = Q.indexOf(b[0]);
            if (R == -1) return;
            R = (R + o + K) % K;
            this.vR(Q[R], null)
        }
    };
    bm.prototype.a7m = function() {
        var w = new Y(_.E.N, !0);
        w.data = {
            e: _.S.IU,
            aaN: ".otf,.ttf,.ttc"
        };
        this.A(w)
    };
    bm.prototype.v = function() {
        this.aC.v();
        this.a78.v();
        this.a8.vg(_.oP("tools/cshape", null, "autoscale"))
    };
    bm.prototype.ac7 = function(w) {
        this.a8.G(!this.a8.m0());
        this.kR()
    };
    bm.prototype.ea = function(w) {
        this.$q = this.hD.T().toLowerCase();
        this.kR()
    };
    bm.prototype._h = function(w) {
        _.Cr(w);
        var o = w.currentTarget,
            Q = o.getBoundingClientRect(),
            K = o == this.a3,
            b = K ? this.$N : this.bg;
        if (_.wH(b.d)) {
            this.M8(b);
            return
        }
        if (!K && this.OM.j1()[this.W6] == null) return;
        var R = new Y(_.E.N, !0);
        R.data = {
            e: _.S.Gj,
            wh: b,
            x: Q.left,
            y: Q.top + Q.height
        };
        this.A(R);
        if (K) {
            this.kR();
            this.hD.LN()
        }
    };
    bm.prototype.am7 = function(w) {
        var o = w.currentTarget.firstChild.nextSibling.textContent;
        if (w.target.tagName.toLowerCase() == "button") {
            var Q = this.ga.slice(0),
                K = Q.indexOf(o);
            if (K == -1) {
                Q = Q.slice(Math.max(0, Q.length - 29));
                Q.push(o)
            } else Q.splice(K, 1);
            var b = new Y(_.E.N, !0);
            b.data = {
                e: _.S.UA,
                pO: d5.gx,
                tu: Q
            };
            this.A(b);
            this.sf = !0;
            this.kR()
        } else {
            this.vR(o, null);
            this.hD.LN()
        }
    };
    bm.prototype.adU = function(w) {
        this.vR(null, w.currentTarget.firstChild.textContent)
    };
    bm.prototype.vR = function(w, o) {
        var Q = w == null ? this.bg : this.$N,
            K = this.OM;
        if (w == null) w = K.j1()[this.W6][0];
        else {
            var b = K.Qq(w),
                R = K.j1()[this.W6];
            o = hm.on(b, R ? R[1] : "regular")
        }
        var X = K.M4(w, o)[2];
        this.G(X, K);
        this.A(new Y(_.E.h, !1));
        this.M8(Q);
        this.kR()
    };
    bm.prototype.M8 = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.HW,
            wh: w
        };
        this.A(o)
    };
    bm.prototype.T = function() {
        return this.W6
    };
    bm.prototype.G = function(w, o, Q) {
        var K = this.OM;
        if (w != null) this.W6 = w;
        else w = this.W6;
        this.OM = o;
        this.ga = Q;
        if (w != null) {
            var b = o.j1()[w],
                R, X;
            if (b == null) {
                R = "- " + w;
                X = "-------"
            } else {
                R = b[0];
                X = b[1];
                var h = o.Qq(R);
                h.sort(hm.acM);
                var e = h.indexOf(X),
                    Z = this.adU.bind(this);
                this.ia.textContent = "";
                for (var M = 0; M < h.length; M++) {
                    var b = o.M4(R, h[M]);
                    if (!this.aC.A1(b)) continue;
                    var P = this.zT(b, b[1], Z, !1);
                    this.ia.appendChild(P)
                }
            }
            this.a3.textContent = R.substring(0, 15) + " \u25BC";
            this.a3.setAttribute("title", R);
            this.k2.textContent = X.substring(0, 10) + " \u25BC";
            this.k2.setAttribute("title", X)
        }
    };
    bm.prototype.kR = function() {
        var w = this.OM.j1()[this.W6],
            o = this.ga,
            Q = null,
            K = this.OM.ag8(),
            b = this.am7.bind(this);
        this.yx = [];
        for (var R in K) {
            var X = hm.on(K[R], "regular"),
                h = this.OM.M4(R, X),
                e = o.indexOf(R) != -1,
                Z = !0;
            if (this.$q.length > 0 && h[0].toLowerCase().indexOf(this.$q) == -1) Z = !1;
            else if (!this.aC.A1(h)) Z = !1;
            else if (this.a8.m0() && !e) Z = !1;
            var P = this.YR[R];
            if (P == null) {
                var P = this.zT(h, R, b, !0);
                this.YR[R] = P;
                this.xa.appendChild(P)
            }
            if (Z) this.yx.push(R);
            var J = Z ? "" : "display:none; ",
                i = "opacity: " + (e ? "1" : "0.2");
            if (w && w[0] == R) {
                J += "background-color:rgba(0,0,0,0.13);";
                Q = P
            }
            if (this.a6Y[R] != J + i) {
                P.setAttribute("style", J);
                P.firstChild.setAttribute("style", i);
                this.a6Y[R] = J + i
            }
        }
        if (Q && !this.sf) this.xa.scrollTop = Q.offsetTop - 210;
        this.sf = !1
    };
    bm.prototype.zT = function(w, o, Q, K) {
        var b = _.B("div", "fontitem"),
            e = "";
        b.addEventListener("click", Q, !1);
        if (K) b.appendChild(_.B("button", "star"));
        var R = _.B("span", "label");
        R.setAttribute("title", o);
        R.textContent = o;
        b.appendChild(R);
        var X = _.J(),
            h = 1 / X,
            Z = hm.Rw * h,
            P = hm.y2 * h;
        if (1 < X && X < 1.5) e = "width:" + Z + "px; height:" + P + "px;";
        var J = _.B("span", "thumb gsicon");
        if (w.jx) {
            e += "background: url(" + w.jx + ");";
            if (1 < X && X < 1.5) e += "background-size: " + Z + "px " + P + "px;"
        } else {
            var i = Math.ceil(FNTS.list.length / hm.cols),
                k = Math.floor(w.qX / i),
                $ = w.qX % i,
                n = k * hm.Rw,
                j = $ * hm.y2;
            if (1 < X && X < 1.5) {
                e += "background-size: " + hm.cols * Z + "px " + i * P + "px;";
                n *= h;
                j *= h
            }
            e += "background-position:-" + n + "px -" + j + "px;"
        }
        J.setAttribute("style", e);
        b.appendChild(J);
        return b
    };

    function hD(w) {
        cv.call(this);
        this.d = _.B("button", "fitem bbtn");
        this.d.addEventListener("click", this.a74.bind(this), !1);
        this.VN = new cv;
        this.VN.d = _.B("div", "floatcont");
        this.VN.parent = this;
        this.DS = _.B("div", "flexrow");
        this.VN.d.appendChild(this.DS);
        this.L5 = [];
        this.fC = [];
        var o = this.DS,
            Q = _.B("div", ""),
            K = _.B("div", "");
        o.appendChild(Q);
        o.appendChild(K);
        this.y0 = [];
        for (var M = 0; M < FNTS.cats.length; M++) this.y0.push({
            name: FNTS.cats[M],
            index: M,
            bW: 0
        });
        this.ye = new dS([7, 0]);
        this.ye.s(_.E.h, this.a8I, this);
        Q.appendChild(this.ye.d);
        this.Hy = _.B("div", "vlist marged scrollable");
        this.Hy.setAttribute("style", "width:10.85em; height:" + w + "em; ");
        Q.appendChild(this.Hy);
        this.J4 = [];
        for (var M = 0; M < this.y0.length; M++) {
            var b = this.y0[M],
                R = new dS(b.name);
            this.J4.push(R);
            R.s(_.E.h, this.a3p, this);
            R.G(!0);
            this.Hy.appendChild(R.d);
            this.L5.push(1)
        }
        this.aj8 = new dS([7, 0]);
        this.aj8.s(_.E.h, this.abQ, this);
        this.JX = _.B("div", "vlist marged scrollable");
        this.JX.setAttribute("style", "width:8.6em; height:" + (w + 1.5) + "em; ");
        K.appendChild(this.JX);
        this.z0 = [];
        for (var M = 0; M < FNTS.subsetNames.length; M++) {
            var R = new dS(FNTS.subsetNames[M]);
            this.z0.push(R);
            R.s(_.E.h, this.air, this);
            R.G(!1);
            this.JX.appendChild(R.d);
            this.fC.push(0)
        }
    }
    hD.prototype = new cv;
    hD.prototype.a9O = function(w) {
        var o = this.z0;
        for (var M = 0; M < o.length; M++) {
            var Q = (w >>> M & 1) == 1;
            this.fC[M] = Q;
            o[M].G(Q)
        }
    };
    hD.prototype.a42 = function() {
        return this.DS
    };
    hD.prototype.v = function() {
        this.d.textContent = b6.get([25, 1, 0]) + " \u25BC";
        this.ye.v();
        this.aj8.v()
    };
    hD.prototype.a74 = function(w) {
        var o = this.d.getBoundingClientRect(),
            Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.Gj,
            wh: this.VN,
            x: o.left,
            y: o.top + o.height,
            yk: !1
        };
        this.A(Q)
    };
    hD.prototype.A1 = function(w) {
        if (this.L5[w[4]] == 0) return !1;
        else
            for (var o = 0; o < this.fC.length; o++)
                if (this.fC[o] == 1 && (w[3] >>> o & 1) == 0) return !1;
        return !0
    };
    hD.prototype.a8I = function(w) {
        var o = w.target.T(),
            Q = this.J4,
            K = this.L5;
        for (var M = 0; M < Q.length; M++) {
            Q[M].G(o);
            K[M] = o ? 1 : 0
        }
        this.A(new Y(_.E.h, !1))
    };
    hD.prototype.abQ = function(w) {
        var o = w.target.T(),
            Q = this.z0,
            K = this.fC;
        for (var M = 0; M < Q.length; M++) {
            Q[M].G(o);
            K[M] = o ? 1 : 0
        }
        this.A(new Y(_.E.h, !1))
    };
    hD.prototype.a3p = function(w) {
        var M = this.J4.indexOf(w.target),
            o = this.y0[M].index;
        this.L5[o] = 1 - this.L5[o];
        this.A(new Y(_.E.h, !1))
    };
    hD.prototype.air = function(w) {
        var M = this.z0.indexOf(w.target);
        this.fC[M] = 1 - this.fC[M];
        this.A(new Y(_.E.h, !1))
    };

    function dn(w, o, Q) {
        go.call(this, o, !0, "gradientbutton", 18, 10, d5.zM);
        this.x1 = -1;
        this.TT = -1;
        this.aeO = null;
        this.ai3 = w;
        this.JV = Q
    }
    dn.prototype = new go;
    dn.prototype.ku = function(w) {
        var o = this.Yl;
        this.G(o[this.LE.T()]);
        this.A(new Y(_.E.h))
    };
    dn.prototype.$c = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.QH,
            hX: "gradienteditor",
            V: this.Yj,
            Zv: this.a4W.bind(this),
            uY: this.JV
        };
        this.A(o)
    };
    dn.prototype.a4W = function(w) {
        this.G(w);
        this.A(new Y(_.E.h))
    };
    dn.prototype.vj = function() {
        if (!this.CX) return;
        var w = Math.floor(36 * _.J()),
            o = Math.floor(36 * _.J()),
            Q = [],
            K = [],
            b = this.Yl;
        for (var M = 0; M < b.length; M++) {
            var R = b[M];
            K.push(R.Nm ? R.Nm.v.split("=").pop() : "");
            var X = z.w5.Il(R, w, o, Math.PI / 4, this.x1, this.TT);
            Q.push(X)
        }
        this.LE.lv(Q, K, w, o);
        this.CX = !1
    };
    dn.prototype.vO = function(w, o) {
        this.O6(this.Yj, w, o)
    };
    dn.prototype.G = function(w) {
        this.O6(w, this.x1, this.TT)
    };
    dn.prototype.O6 = function(w, o, Q) {
        this.x1 = o;
        this.TT = Q;
        if (w == null) return;
        var K = JSON.stringify(w),
            b = K + o + "," + Q;
        if (b == this.aeO) return;
        this.aeO = b;
        this.Yj = JSON.parse(K);
        var R = Math.floor(80 * _.J()),
            X = Math.floor(16 * _.J()),
            h = z.w5.Il(this.Yj, R, X, 0, this.x1, this.TT);
        this.NS.setAttribute("src", h);
        _.d3(this.NS, R, X)
    };
    dn.prototype.T = function() {
        var w;
        if (this.ai3) w = z.w5.a4N(this.Yj, this.x1, this.TT);
        else w = JSON.parse(JSON.stringify(this.Yj));
        return w
    };

    function ew(w) {
        go.call(this, w, !1, "swatchbutton", 16, 8.75, d5.de)
    }
    ew.prototype = new go;
    ew.prototype.ku = function(w) {
        this.G(this.Yl[w.target.T()]);
        this.A(new Y(_.E.h))
    };
    ew.prototype.vj = function() {
        if (!this.CX) return;
        var w = Date.now(),
            o = Math.floor(10 * _.J()),
            Q = Math.floor(10 * _.J()),
            K = [],
            b = [],
            R = this.Yl;
        for (var M = 0; M < R.length; M++) {
            b.push(R[M].YD ? R[M].YD.split("=").pop() : "");
            K.push(ew.Il(R[M], o, Q))
        }
        this.LE.lv(K, b, o, Q);
        this.CX = !1
    };
    ew.prototype.G = function(w) {
        this.Yj = JSON.parse(JSON.stringify(w));
        this.Df()
    };
    ew.prototype.Df = function() {
        var w = Math.floor(24 * _.J()),
            o = Math.floor(20 * _.J()),
            Q = ew.Il(this.Yj, w, o);
        this.NS.setAttribute("src", Q);
        _.d3(this.NS, w, o)
    };
    ew.prototype.T = function() {
        return JSON.parse(JSON.stringify(this.Yj))
    };
    ew.oj = {};
    ew.Il = function(w, o, Q) {
        var K = ew.H3,
            b = ew.oj,
            R = v.u9(w.W << 16 | w.a << 8 | w.k);
        if (b[R]) return b[R];
        if (K == null) {
            var X = _.B("canvas");
            K = ew.H3 = X.getContext("2d")
        }
        var X = K.canvas;
        X.width = o;
        X.height = Q;
        K.fillStyle = "#" + R;
        K.fillRect(0, 0, o, Q);
        var h = b[R] = X.toDataURL();
        return h
    };

    function dS(w, o, Q) {
        cv.call(this);
        this.d = _.B("span", "fitem cbox");
        if (o == null) o = !0;
        if (Q == null) Q = "flabel";
        var K = "cb" + _.ws();
        this.Q0 = _.B("input", "");
        this.Q0.setAttribute("type", "checkbox");
        this.Q0.setAttribute("id", K);
        this.d.appendChild(this.Q0);
        this.Ew = w;
        this.wo = _.B("label", Q);
        if (o) this.wo.setAttribute("for", K);
        this.d.appendChild(this.wo);
        this.v();
        this.Q0.addEventListener("change", this.u4.bind(this), !1)
    }
    dS.prototype = new cv;
    dS.prototype.Bj = function() {
        return this.Ew
    };
    dS.prototype.vg = function(w) {
        this.wo.textContent = w
    };
    dS.prototype.v = function() {
        var w = this.Ew;
        if (typeof w == "string" && w.startsWith("<")) this.wo.innerHTML = w;
        else this.wo.textContent = b6.get(w)
    };
    dS.prototype.En = function() {
        this.Q0.checked = !0
    };
    dS.prototype.zC = function() {
        this.Q0.checked = !1
    };
    dS.prototype.m0 = function() {
        return this.Q0.checked
    };
    dS.prototype.G = function(w) {
        this.Q0.checked = w
    };
    dS.prototype.T = dS.prototype.m0;
    dS.prototype.u4 = function(w) {
        this.A(new Y(_.E.h, !1))
    };

    function eO(w, o, Q, K) {
        cv.call(this);
        this.d = _.B("span", "fitem mbox");
        this.anw = Q;
        if (w) {
            this.Ew = w;
            this.wo = _.B("label", "flabel");
            this.d.appendChild(this.wo)
        }
        this.I_ = o;
        this.kr = [];
        for (var M = 0; M < o.length; M++) {
            var b = Q ? new dQ(o[M], !1, K ? K[M] : null) : new dS(o[M], !0, "");
            b.s(Q ? "click" : _.E.h, this.u4, this);
            this.kr.push(b);
            this.d.appendChild(b.d)
        }
        this.v()
    }
    eO.prototype = new cv;
    eO.prototype.G = function(w) {
        for (var o = 0; o < this.I_.length; o++) this.kr[o].G(w[o])
    };
    eO.prototype.T = function() {
        var w = [];
        for (var o = 0; o < this.I_.length; o++) w[o] = this.kr[o].T();
        return w
    };
    eO.prototype.v = function() {
        if (this.Ew) this.wo.innerHTML = b6.get(this.Ew) + ": ";
        for (var w = 0; w < this.kr.length; w++) this.kr[w].v()
    };
    eO.prototype.u4 = function(w) {
        var M = this.kr.indexOf(w.currentTarget);
        if (this.anw) this.kr[M].G(!this.kr[M].T());
        this.A(new Y(_.E.h, !1))
    };

    function h4(w, o, Q, K, b, R) {
        dm.call(this, w, o, Q, K, b, !1, R);
        this.d.appendChild(this.wo);
        var X = _.B("span", "rangecont");
        this.d.appendChild(X);
        X.appendChild(this.ay);
        this.d.appendChild(this.Q0);
        this.Q0.setAttribute("style", "width:3.3em");
        if (this.vT) this.d.appendChild(this.AW)
    }
    h4.prototype = new dm;

    function aT(w, o, Q, K) {
        if (w == null) w = !1;
        if (o == null) o = !1;
        if (Q == null) Q = !1;
        cv.call(this);
        this.wR = new fB;
        this.Nw = new fB;
        this.HL = 72;
        this.xG = 72;
        this.Cb = !0;
        this.d = _.B("span", "");
        this.b7 = new fN([12, 41], 0, 0, null, 0, !1, !0);
        this.d.appendChild(this.b7.d);
        this.b7.s(_.E.h, this.Rp, this);
        var b = ["px", "%"];
        if (w) b = b.concat(["mm", "in"]);
        this.$t = new bQ(null, b);
        this.d.appendChild(this.$t.d);
        _.EV(this.d);
        this.$t.s(_.E.h, this.Rp, this);
        this.YH = new fN([12, 42], 0, 0, null, 0, !1, !0);
        this.d.appendChild(this.YH.d);
        this.YH.s(_.E.h, this.Rp, this);
        var R = new dQ("\u21F5", !1, null, !0);
        R.s("click", this.aeM, this);
        this.In = new dQ("<img src=\"" + PIMG["lrs/chain"] + "\" class=\"autoscale gsicon\" />", !1, [12, 51]);
        this.In.s("click", this.Rp, this);
        this.agm = new bY("");
        if (o) {
            this.d.appendChild(this.In.d);
            this.d.appendChild(this.agm.d);
            this.In.En()
        } else this.d.appendChild(R.d);
        this.wc = new fN("DPI", 0, 0, null, 3, !1, !0, 4);
        if (w && K == null) {
            _.EV(this.d);
            this.d.appendChild(this.wc.d)
        }
        this.wc.s(_.E.h, this.Rp, this);
        this.JK = new dS([12, 23, 1]);
        this.JK.s(_.E.h, this.Rp, this);
        if (Q) {
            _.EV(this.d);
            this.d.appendChild(this.JK.d)
        }
        _.EV(this.d)
    }
    aT.prototype = new cv;
    aT.prototype.amI = function() {
        this.Cb = !1;
        if (this.$t.T() == 0) {
            this.$t.G(3);
            this.wE()
        }
    };
    aT.prototype.a4v = function() {
        this.Cb = !0
    };
    aT.prototype.a9r = function(w) {
        this.In.G(w)
    };
    aT.prototype.v = function() {
        this.b7.v();
        this.YH.v();
        this.wc.v();
        this.In.v();
        this.JK.v()
    };
    aT.prototype.aeM = function(w) {
        var o = this.Nw.x;
        this.Nw.x = this.Nw.y;
        this.Nw.y = o;
        this.wE();
        this.A(new Y(_.E.h, !1))
    };
    aT.prototype.Rp = function(w) {
        if (w.target == this.$t && !this.Cb && this.$t.T() == 0) this.$t.G(3);
        if (w.target == this.$t || w.target == this.JK) {
            this.wE();
            return
        }
        if (w.target == this.In) w.target.G(!w.target.T());
        var o = this.wR,
            Q = parseFloat(this.b7.T());
        if (isNaN(Q)) Q = 1;
        var K = parseFloat(this.YH.T());
        if (isNaN(K)) K = 1;
        var b = this.$t.T();
        if (this.Cb) {
            var R = this.xG;
            if (b == 1) {
                Q = this.wR.x * (Q / 100);
                K = this.wR.y * (K / 100)
            }
            var X = [1, 1, 25.4 / R, 1 / R][b];
            Q /= X;
            K /= X;
            if (this.JK.T()) {
                Q += this.wR.x;
                K += this.wR.y
            }
            if (w.target == this.wc) {
                var h = this.wc.T();
                if (!0) {
                    var e = h / R;
                    Q *= e;
                    K *= e
                }
                R = h
            }
            if (this.In.T()) {
                if (w.target == this.b7) K = Q * (o.y / o.x);
                else Q = K * (o.x / o.y)
            }
            Q = Math.max(Math.abs(Q), 1);
            K = Math.max(Math.abs(K), 1)
        } else {
            var R = this.HL;
            if (w.target == this.wc) R = this.wc.T();
            else {
                if (this.In.T()) {
                    if (w.target == this.b7) K = Q * (o.y / o.x);
                    else Q = K * (o.x / o.y)
                }
                var X = [1, 1, 25.4 / R, 1 / R][b],
                    Z = Q / (b == 1 ? 100 : o.x * X);
                R = R / Z
            }
            Q = o.x;
            K = o.y
        }
        this.Nw = new fB(Math.round(Q), Math.round(K));
        this.xG = R;
        this.wE();
        this.A(new Y(_.E.h, !1))
    };
    aT.prototype.a1P = function(M) {
        this.$t.G(M);
        this.wE()
    };
    aT.prototype.G = function(w, o, Q) {
        if (Q != !0) this.wR = w.clone();
        this.Nw = w.clone();
        if (o != null) {
            this.HL = o;
            this.xG = o
        }
        this.wE()
    };
    aT.prototype.wE = function() {
        var w = this.Nw.x,
            o = this.Nw.y,
            Q = this.xG,
            K = (w / o).toFixed(3);
        while (K.charAt(K.length - 1) == "0") K = K.substring(0, K.length - 1);
        if (K.charAt(K.length - 1) == ".") K = K.substring(0, K.length - 1);
        var b = "  " + K + " : 1",
            R = function(P, J) {
                while (J != 0) {
                    var i = J;
                    J = P % J;
                    P = i
                }
                return P
            },
            X = R(w, o);
        if (Math.min(w, o) / X < 10) b = "  " + Math.round(w / X) + " : " + Math.round(o / X);
        this.agm.G(b);
        if (this.JK.T()) {
            w -= this.wR.x;
            o -= this.wR.y
        }
        var h = this.$t.T();
        if (h == 1) {
            if (this.Cb) {
                w = 100 * w / this.wR.x;
                o = 100 * o / this.wR.y
            } else {
                w = o = 100 * this.HL / this.xG
            }
        } else {
            w = Math.round(w);
            o = Math.round(o)
        }
        var e = [1, 1, 25.4 / Q, 1 / Q][h];
        w *= e;
        o *= e;
        var Z = h == 1 || h == 3 ? 2 : 0;
        this.b7.La(Z);
        this.YH.La(Z);
        this.b7.G(w);
        this.YH.G(o);
        this.wc.G(Q)
    };
    aT.prototype.T = function() {
        return this.Nw.clone()
    };
    aT.prototype.My = function() {
        return this.xG
    };

    function c5() {
        cv.call(this);
        this.MD = 0;
        this.Ma = [0, 0, 1, 1, 100, 100];
        this.d = _.B("span", "fitem");
        this.Oj = new bQ(null, [
            [12, 89, 0],
            [12, 89, 1],
            [12, 89, 2]
        ]);
        this.d.appendChild(this.Oj.d);
        this.Oj.s(_.E.h, this.Rp, this);
        this.b7 = new fN("W", 0, 0, null, 0, !1, !0);
        this.d.appendChild(this.b7.d);
        this.b7.s(_.E.h, this.Rp, this);
        this.YH = new fN("H", 0, 0, null, 0, !1, !0);
        this.d.appendChild(this.YH.d);
        this.YH.s(_.E.h, this.Rp, this);
        this.G({
            Ve: 0,
            x: 0,
            y: 0
        })
    }
    c5.prototype = new cv;
    c5.prototype.v = function() {
        _.sb(this.b7, this.YH);
        this.Oj.v()
    };
    c5.prototype.Rp = function(w) {
        if (w.target == this.Oj) {
            var o = this.T(),
                Q = this.Ma;
            Q[this.MD * 2] = o.x;
            Q[this.MD * 2 + 1] = o.y;
            this.MD = o.Ve;
            this.G({
                Ve: o.Ve,
                x: Q[o.Ve * 2],
                y: Q[o.Ve * 2 + 1]
            })
        }
        if (this.b7.T() < 1) this.b7.G(1);
        if (this.YH.T() < 1) this.YH.G(1);
        this.A(new Y(_.E.h, !1))
    };
    c5.prototype.G = function(w) {
        this.Oj.G(w.Ve);
        this.b7.G(w.x);
        this.YH.G(w.y);
        if (w.Ve == 0) {
            this.b7.fz();
            this.YH.fz()
        } else {
            this.b7.Lh();
            this.YH.Lh()
        }
    };
    c5.prototype.T = function() {
        return {
            Ve: this.Oj.T(),
            x: this.b7.T(),
            y: this.YH.T()
        }
    };

    function bY(w, o) {
        cv.call(this);
        this.Ew = w;
        this.d = _.B("span", "labelitem fitem" + (o ? " spread" : ""));
        this.v()
    }
    bY.prototype = new cv;
    bY.prototype.G = function(w) {
        this.d.textContent = w
    };
    bY.prototype.T = function() {
        return this.d.textContent
    };
    bY.prototype.Lh = function() {
        this.d.removeAttribute("disabled")
    };
    bY.prototype.fz = function() {
        this.d.setAttribute("disabled", "")
    };
    bY.prototype.vg = function(w) {
        this.d.textContent = w
    };
    bY.prototype.v = function() {
        this.d.textContent = b6.get(this.Ew)
    };
    bY.prototype.Bj = function() {
        return this.Ew
    };

    function ej(w) {
        cv.call(this);
        this.d = _.B("span", "");
        this.a4u = w;
        this.m4 = new h4("Off X", -100, 100, w ? "%" : "px", 0, !1);
        this.Mn = new h4("Off Y", -100, 100, w ? "%" : "px", 0, !1);
        this.m4.s(_.E.h, this.Rp, this);
        this.Mn.s(_.E.h, this.Rp, this);
        this.d.appendChild(this.m4.d);
        this.d.appendChild(this.Mn.d)
    }
    ej.prototype = new cv;
    ej.prototype.v = function() {
        this.m4.v();
        this.Mn.v()
    };
    ej.prototype.Rp = function(w) {
        this.A(new Y(_.E.h, !1))
    };
    ej.prototype.adt = function(w) {
        this.m4.G(w.x);
        this.Mn.G(w.y)
    };
    ej.prototype.acT = function() {
        return new fB(this.m4.T(), this.Mn.T())
    };
    ej.prototype.G = function(w) {
        var o = w.Hrzn.v,
            Q = w.Vrtc.v;
        if (this.a4u) {
            o = o.val;
            Q = Q.val
        }
        this.m4.G(o);
        this.Mn.G(Q)
    };
    ej.prototype.T = function() {
        var w = this.m4.T(),
            o = this.Mn.T();
        if (this.a4u) return {
            classID: "Pnt",
            Hrzn: {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: w
                }
            },
            Vrtc: {
                t: "UntF",
                v: {
                    type: "#Prc",
                    val: o
                }
            }
        };
        else return {
            classID: "Pnt",
            Hrzn: {
                v: w,
                t: "doub"
            },
            Vrtc: {
                v: o,
                t: "doub"
            }
        }
    };

    function fN(w, o, Q, K, b, R, X, h, e) {
        dm.call(this, w, o, Q, K, b, !0, R, e);
        _.Ka(this.d, "rangedropinput");
        this.d.appendChild(this.wo);
        this.Q0.setAttribute("style", "width:" + (h ? h : 3.3) + "em");
        this.d.appendChild(this.Q0);
        this.a6D = _.B("span", "rangecont");
        this.a6D.appendChild(this.ay);
        this.CE = _.B("button");
        this.CE.innerHTML = "\u25BC";
        _._v(this.CE, this.ad6.bind(this));
        if (X != !0) this.d.appendChild(this.CE);
        this.Wh = new cv;
        this.Wh.d = this.a6D
    }
    fN.prototype = new dm;
    fN.prototype.ad6 = function(w) {
        if (_.wH(this.Wh.d)) return;
        w.stopPropagation();
        var o = this.d.getBoundingClientRect();
        this.ay.setAttribute("style", "width:" + o.width + "px;");
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.Gj,
            wh: this.Wh,
            x: o.left,
            y: o.top + o.height
        };
        this.A(Q)
    };

    function f2() {
        cv.call(this);
        this.d = _.B("span", "fitem strokebutton");
        this.G3 = [
            [null, null, null, ""],
            [null, 0, null, "4 2"],
            [1, 1, null, "0 2"]
        ];
        this.K0 = JSON.parse(JSON.stringify(b_.fQ.default));
        this.Dx = _.B("button");
        this.d.appendChild(this.Dx);
        this.Dx.addEventListener("click", this.jW.bind(this), !1);
        var w = _.B("canvas", "gsicon");
        this.Dh = w.getContext("2d");
        this.Dx.appendChild(w);
        var o = _.B("span");
        o.textContent = " \u25BC";
        this.Dx.appendChild(o);
        this.VN = new cv;
        this.VN.parent = this;
        this.VN.d = _.B("div", "floatcont form");
        var Q = this.VN.d;
        Q.setAttribute("style", "width: 14em;");
        this.YR = [new bQ([12, 40], [
            [19, 5, 2],
            [19, 5, 1],
            [19, 5, 0]
        ]), new b7([19, 9, 0], ["<img src=\"" + PIMG["caps/butt"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["caps/round"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["caps/square"] + "\" class=\"autoscale gsicon\" />"]), new b7([19, 9, 1], ["<img src=\"" + PIMG["joins/miter"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["joins/round"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["joins/bevel"] + "\" class=\"autoscale gsicon\" />"]), new g$([19, 9, 2])];
        for (var M = 0; M < this.YR.length; M++) {
            var K = this.YR[M];
            Q.appendChild(K.d);
            var b = M < 4 ? _.E.h : "click";
            K.s(b, this.Rp, this)
        }
        _.EV(Q);
        this.Jq = [];
        var R = this.amr.bind(this);
        for (var M = 0; M < this.G3.length; M++) {
            var X = _.B("button", "fitem");
            this.Jq.push(X);
            Q.appendChild(X);
            X.addEventListener("click", R, !1);
            var w = _.B("canvas", "gsicon"),
                h = w.getContext("2d");
            X.appendChild(w);
            this.Fp(h, 40, 20, this.G3[M])
        }
    }
    f2.prototype = new cv;
    f2.prototype.jW = function(w) {
        var o = this.Dx.getBoundingClientRect(),
            Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.Gj,
            wh: this.VN,
            x: o.left,
            y: o.top + o.height + 4
        };
        this.A(Q)
    };
    f2.prototype.Rp = function(w) {
        var eh = this.YR,
            o = eh.indexOf(w.target),
            Q = [];
        for (var M = 0; M < 4; M++) Q.push(eh[M].T());
        this.K0 = this.Gd(Q);
        this.A(new Y(_.E.h, !1))
    };
    f2.prototype.amr = function(w) {
        var o = this.Jq.indexOf(w.currentTarget);
        this.G(this.Gd(this.G3[o]));
        this.A(new Y(_.E.h, !1))
    };
    f2.prototype.Gd = function(w) {
        var o = JSON.parse(JSON.stringify(this.K0)),
            Q = w[0],
            K = w[1],
            b = w[2],
            R = w[3];
        if (Q != null) o.strokeStyleLineAlignment.v.strokeStyleLineAlignment = b_.fQ.So[Q];
        if (K != null) o.strokeStyleLineCapType.v.strokeStyleLineCapType = b_.fQ.mg[K];
        if (b != null) o.strokeStyleLineJoinType.v.strokeStyleLineJoinType = b_.fQ.join[b];
        var X = o.strokeStyleLineDashSet.v = [];
        R = R.split(" ");
        while ((R.length & 1) != 0) R.pop();
        for (var M = 0; M < R.length; M++) X.push({
            t: "UntF",
            v: {
                type: "#Nne",
                val: parseInt(R[M])
            }
        });
        return o
    };
    f2.prototype.v = function() {
        for (var M = 0; M < this.YR.length; M++) this.YR[M].v()
    };
    f2.prototype.G = function(w) {
        this.K0 = JSON.parse(JSON.stringify(w));
        var o = b_.fQ.So.indexOf(w.strokeStyleLineAlignment.v.strokeStyleLineAlignment),
            Q = b_.fQ.mg.indexOf(w.strokeStyleLineCapType.v.strokeStyleLineCapType),
            K = b_.fQ.join.indexOf(w.strokeStyleLineJoinType.v.strokeStyleLineJoinType),
            b = [],
            R = w.strokeStyleLineDashSet.v;
        for (var X = 0; X < R.length; X++) b.push(R[X].v.val);
        var eh = this.YR;
        eh[0].G(o);
        eh[1].G(Q);
        eh[2].G(K);
        eh[3].G(b.join(" "));
        var h = [];
        for (var M = 0; M < 4; M++) h.push(eh[M].T());
        this.Fp(this.Dh, 40, 16, h)
    };
    f2.prototype.T = function() {
        return JSON.parse(JSON.stringify(this.K0))
    };
    f2.prototype.Fp = function(w, o, Q, K) {
        var b = K[0],
            R = K[1],
            X = K[2],
            h = K[3].split(" ").map(parseFloat);
        _.E5(w.canvas, o, Q);
        var e = Math.min(5, this.K0.strokeStyleLineWidth.v.val);
        for (var M = 0; M < h.length; M++) h[M] *= e;
        w.clearRect(0, 0, o, Q);
        w.setLineDash(h);
        w.lineCap = ["butt", "round", "square"][R];
        w.lineJoin = ["miter", "round", "bevel"][X];
        w.lineWidth = e;
        w.beginPath();
        w.moveTo(0, Q / 2);
        w.lineTo(o * 2, Q / 2);
        w.stroke()
    };

    function hQ(w) {
        go.call(this, w, !1, "contourbutton", 34, 16, d5.Ru);
        this.hD = new g$([12, 86], null, 16);
        this.hD.s("input", this.ea, this);
        this.VN.d.appendChild(this.hD.d);
        this.q1 = null;
        this.$q = "";
        this.GN = null;
        this.G(f8._R())
    }
    hQ.prototype = new go;
    hQ.prototype.v = function() {
        go.prototype.v.call(this);
        this.hD.v()
    };
    hQ.prototype.ku = function(w) {
        this.G(this.q1[w.target.T()]);
        this.A(new Y(_.E.h))
    };
    hQ.prototype.ea = function(w) {
        this.$q = this.hD.T().toLowerCase();
        this.UL()
    };
    hQ.xE = !1;
    hQ.prototype.vj = function() {
        if (!this.CX) return;
        var w = this.Yl;
        if (w == null || !hQ.xE) {
            var o = new Y(_.E.N, !0);
            o.data = {
                e: _.S.YU,
                pO: {
                    url: "rsrc/basic/fa_basic.csh"
                }
            };
            this.A(o);
            hQ.xE = !0
        } else {
            var Q = Math.floor(38 * _.J()),
                K = Math.floor(38 * _.J());
            this.GN = [];
            for (var M = 0; M < w.length; M++) this.GN.push(hQ.oU(w[M], Q, K));
            this.UL();
            this.CX = !1
        }
    };
    hQ.prototype.UL = function() {
        var w = Math.floor(38 * _.J()),
            o = Math.floor(38 * _.J());
        this.q1 = [];
        var Q = [],
            K = [],
            b = this.Yl;
        for (var M = 0; M < b.length; M++) {
            if (b[M].gr.toLowerCase().indexOf(this.$q) == -1) continue;
            this.q1.push(b[M]);
            Q.push(this.GN[M]);
            K.push(b[M].gr)
        }
        this.LE.lv(Q, K, w, o)
    };
    hQ.prototype.G = function(w) {
        this.Yj = hQ.clone(w);
        this.Df()
    };
    hQ.prototype.Df = function() {
        var w = Math.floor(23 * _.J()),
            o = Math.floor(23 * _.J()),
            Q = hQ.oU(this.Yj, w, o);
        this.NS.setAttribute("src", Q);
        _.d3(this.NS, w, o)
    };
    hQ.prototype.T = function() {
        return hQ.clone(this.Yj)
    };
    hQ.clone = function(w) {
        return {
            gr: w.gr,
            LB: w.LB,
            _: a.Y3.DK(w._),
            oX: w.oX.clone()
        }
    };
    hQ.Q8 = null;
    hQ.H1 = null;
    hQ.oU = function(w, o, Q) {
        var K = a.Y3.DK(w._),
            b = w.oX,
            R = Math.min(o / b.D, Q / b.j) * .9,
            X = new dj;
        X.translate(-.5, -.5);
        X.scale(.95, .95);
        X.translate(.5, .5);
        X.scale(R * b.D, R * b.j);
        v.P.nB(K, X);
        var h = new a.Y3;
        h._ = K;
        var e = h._f();
        e.rect.x = Math.floor((o - e.rect.D) / 2);
        e.rect.y = Math.floor((Q - e.rect.j) / 2);
        var Z = v.$(e.rect.O() * 4);
        v.Fw(Z, 4278190080);
        v.MF(e.channel);
        v.qh(e.channel, Z, 0);
        v.qh(e.channel, Z, 1);
        v.qh(e.channel, Z, 2);
        var P = hQ;
        if (P.Q8 == null) P.Q8 = _.B("canvas");
        var J = P.Q8,
            i = J.getContext("2d");
        if (J.width != o || J.height != Q || P.H1 == null) {
            J.width = o;
            J.height = Q;
            P.H1 = i.createImageData(o, Q)
        }
        var k = P.H1;
        v.Fw(k.data, 4294967295);
        v.c1(Z, e.rect, k.data, new B(0, 0, o, Q));
        i.putImageData(k, 0, 0);
        return J.toDataURL()
    };

    function bo(w) {
        go.call(this, w, !1, "ICCButton", 16, 12, d5._G, !0);
        this.LE.xm(1)
    }
    bo.prototype = new go;
    bo.prototype.YB = function() {
        var w = "Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
        for (var M = 0; M < w.length; M++) w[M] = "luts/" + w[M] + ".CUBE";
        return w
    };
    bo.prototype.ku = function(w) {
        this.G(this.Yl[w.target.T()]);
        this.A(new Y(_.E.h))
    };
    bo.prototype.vj = function() {
        if (!this.CX) return;
        var w = Math.floor(1 * _.J()),
            o = Math.floor(1 * _.J()),
            Q = [],
            K = [],
            b = this.Yl;
        for (var M = 0; M < b.length; M++) {
            var R = b[M].Nm.v.split("\\").pop().split("/").pop();
            K.push(R);
            Q.push(bo.Il(b[M], w, o))
        }
        this.LE.lv(Q, K, w, o);
        this.CX = !1
    };
    bo.prototype.G = function(w) {
        this.Yj = JSON.parse(JSON.stringify(w));
        this.Df()
    };
    bo.Il = function(w, o, Q) {
        var K = _.B("canvas"),
            X = "ICC / 3DL / look / cube";
        K.width = o;
        K.height = Q;
        var b = K.getContext("2d"),
            R = Math.floor(14 * _.J());
        b.font = R + "px sans-serif";
        if (w.Nm) X = w.Nm.v.split("\\").pop().split("/").pop();
        b.fillText(X, 10, R);
        return K.toDataURL()
    };
    bo.prototype.Df = function() {
        var w = Math.floor(120 * _.J()),
            o = Math.floor(20 * _.J());
        this.NS.setAttribute("src", bo.Il(this.Yj, w, o));
        _.d3(this.NS, w, o)
    };
    bo.prototype.T = function() {
        return JSON.parse(JSON.stringify(this.Yj))
    };

    function fP() {
        cv.call(this);
        this.qx = null;
        this.d = _.B("span", "fitem");
        this.AH = new hZ([14, 9]);
        this.Nm = new fN(null, 0, 150, "pt", 1, !0, null, null, [19, 2, 5]);
        this.bS = new f2;
        this.jV = [this.AH, this.Nm, this.bS];
        for (var M = 0; M < this.jV.length; M++) {
            var w = this.jV[M];
            this.d.appendChild(w.d);
            w.parent = this;
            w.s(_.E.h, this.Rp, this)
        }
    }
    fP.prototype = new cv;
    fP.prototype.v = function() {
        for (var M = 0; M < this.jV.length; M++) this.jV[M].v()
    };
    fP.prototype.yy = function(w, o) {
        this.AH.yy(w, o)
    };
    fP.prototype.Rp = function(w) {
        var o = this.qx,
            Q = this.AH.T(),
            K = Q.o4;
        o.strokeEnabled.v = K != 0;
        if (K != 0) {
            o.strokeStyleContent.v = Q.pE;
            Q.pE.classID = b_.fQ.xM[K - 1]
        }
        o.strokeStyleLineWidth.v.val = this.Nm.T();
        if (w.target == this.bS) o = this.bS.T();
        this.qx = o;
        this.A(new Y(_.E.h, !1))
    };
    fP.prototype.G = function(w, o, Q) {
        this.qx = JSON.parse(JSON.stringify(o));
        var K = o.strokeEnabled.v,
            b = o.strokeStyleContent.v,
            R = K ? {
                o4: 1 + b_.fQ.xM.indexOf(b.classID),
                pE: b
            } : {
                o4: 0
            };
        this.AH.G(w, R, Q);
        this.Nm.G(o.strokeStyleLineWidth.v.val);
        this.bS.G(o)
    };
    fP.prototype.T = function() {
        return JSON.parse(JSON.stringify(this.qx))
    };

    function a0(w) {
        cv.call(this);
        this.d = _.B("span", "fitem");
        this.dk = null;
        if (w) {
            this.dk = new bY("");
            this.d.appendChild(this.dk.d)
        }
        this.fe = ["front", "union", "difference", "intersection"];
        var o = [
            [18, 0],
            [18, 1],
            [18, 2],
            [18, 3]
        ];
        this.nD = [];
        this.Bv = 0;
        for (var M = 0; M < this.fe.length; M++) {
            var Q = new dQ("<img src=\"" + PIMG["set/" + this.fe[M]] + "\" class=\"autoscale gsicon\" />", !1, o[M]);
            Q.s("click", this.a5U, this);
            this.d.appendChild(Q.d);
            this.nD.push(Q)
        }
        this.nD[0].En()
    }
    a0.prototype = new cv;
    a0.prototype.al4 = function() {
        return this.Bv
    };
    a0.prototype.T = function() {
        return this.fe[this.Bv]
    };
    a0.prototype.G = function(w) {
        this.Bv = this.fe.indexOf(w);
        for (var M = 0; M < this.nD.length; M++) this.nD[M].zC();
        this.nD[this.Bv].En()
    };
    a0.prototype.a5U = function(w) {
        this.G(this.fe[this.nD.indexOf(w.currentTarget)]);
        this.A(new Y(_.E.h, !1))
    };
    a0.prototype.v = function() {
        if (this.dk) this.dk.G(b6.get([12, 36]) + ":");
        for (var M = 0; M < this.nD.length; M++) this.nD[M].v()
    };

    function g$(w, o, Q, K) {
        cv.call(this);
        var b = _.ws(),
            R = "";
        this.d = _.B("span", "fitem tinput");
        if (w) {
            this.Ew = w;
            this.wo = _.B("label", "flabel");
            this.d.appendChild(this.wo);
            this.wo.setAttribute("for", b);
            this.v()
        }
        if (K == null) {
            this.Q0 = _.B("input", "");
            this.Q0.setAttribute("type", "text")
        } else this.Q0 = _.B("textarea", "scrollable");
        this.Q0.setAttribute("id", b);
        if (Q) R += "width:" + Q + "em;";
        if (K) {
            this.Q0.setAttribute("rows", K)
        }
        if (R != "") this.Q0.setAttribute("style", R);
        this.d.appendChild(this.Q0);
        if (o) {
            this.AW = _.B("span", "");
            this.AW.textContent = o;
            this.d.appendChild(this.AW)
        }
        this.Q0.addEventListener("change", this.u4.bind(this), !1);
        this.Q0.addEventListener("input", this.am$.bind(this), !1)
    }
    g$.prototype = new cv;
    g$.prototype.v = function() {
        if (this.Ew) this.wo.textContent = b6.get(this.Ew) + ":"
    };
    g$.prototype.vg = function(w) {
        this.wo.textContent = w
    };
    g$.prototype.G = function(w) {
        this.Q0.value = w == null ? "" : w
    };
    g$.prototype.T = function() {
        return this.Q0.value
    };
    g$.prototype.LN = function() {
        this.Q0.select();
        this.Q0.focus()
    };
    g$.prototype.u4 = function(w) {
        this.A(new Y(_.E.h, !1))
    };
    g$.prototype.am$ = function(w) {
        this.A(new Y("input", !1))
    };

    function cI(w, o, Q, K, b, R, X) {
        dm.call(this, w, o, Q, K, b, !0, R, null, X);
        _.Ka(this.d, "trangeinput");
        this.d.appendChild(this.wo);
        this.d.appendChild(this.Q0);
        var h = _.B("span", "rangecont");
        this.d.appendChild(h);
        h.appendChild(this.ay);
        this.ay.setAttribute("style", "width:97%;")
    }
    cI.prototype = new dm;

    function bW() {
        cv.call(this);
        this.cS = [16, !0, !0];
        this.d = _.B("span", "");
        this.Fu = [new fN([12, 24], 0, 255), new dS("Anti-alias"), new dS([12, 25])];
        for (var M = 0; M < 3; M++) {
            var w = this.Fu[M];
            w.parent = this;
            w.G(this.cS[M]);
            this.d.appendChild(w.d);
            w.s(_.E.h, this.Rp, this)
        }
    }
    bW.prototype = new cv;
    bW.prototype.Rp = function() {
        for (var M = 0; M < 3; M++) this.cS[M] = this.Fu[M].T();
        this.A(new Y(_.E.h, !1))
    };
    bW.prototype.G = function(w) {
        this.cS = w.slice(0);
        for (var M = 0; M < 3; M++) this.Fu[M].G(w[M])
    };
    bW.prototype.T = function() {
        return this.cS.slice(0)
    };
    bW.prototype.v = function() {
        for (var M = 0; M < 3; M++) this.Fu[M].v()
    };

    function bs(w, o) {
        cv.call(this);
        if (o == null) o = !1;
        this.GN = [];
        this.a27 = 0;
        this.aaA = 0;
        this.J8 = 0;
        this.WR = [];
        this.gS = [];
        for (var Q in v.AD.type) {
            if (Q == "warpCustom" && !o) continue;
            this.WR.push(Q);
            this.gS.push(v.AD.type[Q])
        }
        this.d = _.B("span", "fitem warpbutton");
        this.VN = new cv;
        this.VN.d = _.B("div", "floatcont");
        if (w) {
            this.dk = w;
            this.wo = _.B("label", "flabel");
            this.d.appendChild(this.wo)
        }
        this.e = _.B("button");
        this.d.appendChild(this.e);
        this.e.addEventListener("click", this.jW.bind(this), !1);
        this.cU = new i8(!0);
        this.VN.d.appendChild(this.cU.d);
        this.cU.s(_.E.h, this.aao, this);
        this.v()
    }
    bs.prototype = new cv;
    bs.prototype.vg = function(w) {
        this.wo.textContent = w
    };
    bs.prototype.v = function() {
        if (this.dk) this.wo.innerHTML = b6.get(this.dk) + ":";
        this.GN = [];
        var w = _.B("canvas", ""),
            o = w.getContext("2d"),
            Q = 0;
        o.font = Math.floor(13 * _.J()) + "px sans-serif";
        for (var M = 0; M < this.WR.length; M++) {
            Q = Math.max(Q, o.measureText(b6.get(v.AD.type[this.WR[M]])).width)
        }
        var K = this.a27 = Math.floor(50 * _.J() + Q),
            b = this.aaA = Math.floor(23 * _.J());
        w.width = K;
        w.height = b;
        this.VN.d.setAttribute("style", "width:" + Math.floor(8 + K / _.J()) + "px;");
        o.font = Math.floor(13 * _.J()) + "px sans-serif";
        o.lineWidth = 1;
        o.strokeStyle = "#000000";
        var R = Math.floor(16 * _.J()),
            X = new B(0, 0, R, R);
        for (var M = 0; M < this.WR.length; M++) {
            var h = this.WR[M];
            o.clearRect(0, 0, w.width, w.height);
            var e = v.AD.AD(X, h, !0, .3, 0, 0),
                Z = v.w.NU(X);
            Z.Y.push("M", "L", "M", "L");
            Z.X.push(0, R / 2, R, R / 2);
            Z.X.push(R / 2, 0, R / 2, R);
            Z = v.w.NB(Z);
            Z = v.w.bR(Z, R / 5);
            v.sp.apply(e, Z.X, X);
            v.w.H(Z.X, new dj(1, 0, 0, 1, Math.floor(8 * _.J()) + .5, Math.floor(3 * _.J()) + .5), Z.X);
            o.beginPath();
            Typr.U.pathToContext({
                cmds: Z.Y,
                crds: Z.X
            }, o);
            o.stroke();
            o.fillText(b6.get(v.AD.type[h]), Math.floor(40 * _.J()), Math.floor(16 * _.J()));
            this.GN.push(w.toDataURL())
        }
        this.cU.lv(this.GN, null, K, b);
        this.Df()
    };
    bs.prototype.jW = function(w) {
        var o = this.e.getBoundingClientRect(),
            Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.Gj,
            wh: this.VN,
            x: o.left,
            y: o.top + o.height + 4
        };
        this.A(Q)
    };
    bs.prototype.aao = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.HW,
            wh: this.VN
        };
        this.A(o);
        this.J8 = w.target.T();
        this.Df();
        this.A(new Y(_.E.h))
    };
    bs.prototype.Df = function() {
        this.cU.qO(this.J8);
        this.e.innerHTML = "<img src=\"" + this.GN[this.J8] + "\" class=\"gsicon\" />";
        var w = this.a27,
            o = this.aaA;
        _.d3(this.e.firstChild, w, o)
    };
    bs.prototype.T = function() {
        return this.WR[this.J8]
    };
    bs.prototype.G = function(w) {
        this.J8 = this.WR.indexOf(w);
        this.Df()
    };

    function dV(w, o, Q) {
        cv.call(this);
        if (w == null) w = !1;
        if (o == null) o = !1;
        if (Q == null) Q = !1;
        this.a5E = o;
        this.AD = null;
        this.f1 = new bs([12, 22], Q);
        this.f1.parent = this;
        this.f1.s(_.E.h, this.$s, this);
        this.Bo = new bQ([22, 0], [
            [22, 4, 0],
            [22, 4, 1]
        ]);
        this.Bo.s(_.E.h, this.$s, this);
        var K = w ? fN : cI;
        this.ua = new K([22, 1], -100, 100, "%");
        this.Ty = new K("Horizontal Distortion:", -100, 100, "%");
        this.Z4 = new K("Vertical Distortion:", -100, 100, "%");
        this.ua.parent = this.Ty.parent = this.Z4.parent = this;
        this.ua.s(_.E.h, this.$s, this);
        this.Ty.s(_.E.h, this.$s, this);
        this.Z4.s(_.E.h, this.$s, this)
    }
    dV.prototype = new cv;
    dV.prototype.v = function() {
        this.f1.v();
        this.Bo.v();
        this.ua.v();
        var w = this.a5E ? 1 : 100;
        this.Ty.vg(b6.get([22, 2]).substring(0, w) + ":");
        this.Z4.vg(b6.get([22, 3]).substring(0, w) + ":")
    };
    dV.prototype.$s = function() {
        var w = this.AD,
            o = this.f1.T(),
            Q = w.warpStyle.v.warpStyle;
        if (o == "warpCustom") v.AD.d$(v.AD.rh(w), w);
        else delete w.customEnvelopeWarp;
        w.warpStyle.v.warpStyle = this.f1.T();
        w.warpRotate.v.Ornt = ["Hrzn", "Vrtc"][this.Bo.T()];
        w.warpValue.v = this.ua.T();
        w.warpPerspective.v = this.Ty.T();
        w.warpPerspectiveOther.v = this.Z4.T();
        if (o == "warpNone" || o == "warpCustom") {
            w.warpValue.v = 0;
            w.warpPerspective.v = 0;
            w.warpPerspectiveOther.v = 0
        } else if (Q == "warpNone" || Q == "warpCustom") w.warpValue.v = 50;
        this.A(new Y(_.E.h, !1));
        this.G(w)
    };
    dV.prototype.T = function(w) {
        return JSON.parse(JSON.stringify(this.AD))
    };
    dV.prototype.G = function(w) {
        this.AD = JSON.parse(JSON.stringify(w));
        this.f1.G(w.warpStyle.v.warpStyle);
        this.Bo.G(w.warpRotate.v.Ornt == "Hrzn" ? 0 : 1);
        this.ua.G(w.warpValue.v);
        this.Ty.G(w.warpPerspective.v);
        this.Z4.G(w.warpPerspectiveOther.v);
        var o = w.warpStyle.v.warpStyle,
            Q = o == "warpNone" || o == "warpCustom",
            K = [this.Bo, this.ua, this.Ty, this.Z4];
        for (var M = 0; M < K.length; M++)
            if (Q) K[M].fz();
            else K[M].Lh()
    };

    function i4(w) {
        cv.call(this);
        this.d = _.B("div");
        this.wi = w;
        this.u$ = null;
        this.dz = new fB(0, 0);
        this.$X = "position:relative;overflow:hidden;";
        this.vX = null;
        this.Wq = new _.Pj(this.d);
        this.AB("grab");
        this.UX = _.B("canvas", "canv");
        this.d.appendChild(this.UX);
        this.Dh = this.UX.getContext("2d");
        this.alD = null;
        this._0 = null;
        this.uN = null;
        this.GE = 0;
        this.uw = 0;
        this.$I = 0;
        this.akE = this.RJ.bind(this);
        this.a6B = null;
        this.m = new gU({
            D: 1,
            j: 1
        });
        this.HK = null;
        this.XB = null;
        this.alZ = this.MM.bind(this);
        this.a1c = this.Le.bind(this);
        this.aaz = this.Fo.bind(this);
        this.ail = this.xO.bind(this);
        this.a3r = 0;
        this.Ya = null;
        this.E2(this.UX);
        this.Gt(this)
    }
    i4.prototype = new cv;
    i4.prototype.Yq = function(w) {
        var o = this.vX,
            Q = null;
        if (w.i(E.$0)) {
            Q = "grab";
            if (w.i(E.HE)) {
                Q = "zoom-in";
                if (w.i(E.O4)) Q = "zoom-out"
            }
        }
        this.u$ = Q;
        if (Q) o = Q;
        this.Wq.MV(o, this.$X);
        if (w.i(E.HE)) {
            var K = 0;
            if (w.i(E.SO)) K = 1;
            if (w.i(E.oV)) K = -1;
            if (K != 0) {
                this.mU(new fB(this.UX.width / 2, this.UX.height / 2), K == 1)
            }
        }
    };
    i4.prototype.AB = function(w) {
        this.vX = w;
        if (this.u$) return;
        this.Wq.MV(w, this.$X)
    };
    i4.prototype.E2 = function(w) {
        _._v(w, this.alZ);
        _.CA(w);
        w.addEventListener("wheel", this.ail, !1)
    };
    i4.prototype.Gt = function(w) {
        w.s("viewchange", this.abe, this)
    };
    i4.prototype.abe = function(w) {
        var o = this.m.I,
            Q = w.currentTarget.hm();
        this.m.I = Q.I;
        this.m.n = Q.n.clone();
        if (o != Q.I) this.Nb();
        this.GO()
    };
    i4.prototype.hm = function() {
        return {
            I: this.m.I,
            n: this.m.n
        }
    };
    i4.prototype.G = function(w, o) {
        var Q = w[0].Ip;
        if (this._0 != null && this._0[0].Ip.Lb(Q)) {} else {
            this.m.xN = {
                D: Q.D,
                j: Q.j
            };
            this.m.n = new fB(0, 0);
            this.m.I = 1
        }
        this._0 = w;
        this.Nb();
        this.Ub();
        this.GE = 0;
        this.uw = 0;
        this.$I = o == null ? 0 : o;
        this.RJ()
    };
    i4.prototype.xO = function(w) {
        w.preventDefault();
        if (w.deltaY == 0 || Date.now() - this.a3r < 100) return;
        var o = _.m5(w);
        o.x = _.J() * o.x;
        o.y = _.J() * o.y;
        this.a3r = Date.now();
        this.mU(o, w.deltaY < 0)
    };
    i4.prototype.mU = function(w, o) {
        z.e$.uP(this.m, w, o);
        this.VQ()
    };
    i4.prototype.aew = function() {
        var w = this.m,
            o = w.xN;
        this.m.I = z.e$.Hv(o.D, o.j, w.yG.D, w.yG.j);
        this.VQ()
    };
    i4.prototype.VQ = function() {
        this.Nb();
        this.A(new Y("viewchange"));
        this.A(new Y("zoom"))
    };
    i4.prototype.Nb = function() {
        this.uN = [];
        var w = this.m.I;
        for (var M = 0; M < this._0.length; M++) {
            var o = this._0[M],
                Q = new Uint8Array(o.data),
                K;
            if (w >= 1) K = {
                Sg: Q,
                rect: o.Ip
            };
            else K = v.rX(Q, o.Ip, w);
            this.uN.push(K)
        }
    };
    i4.prototype.Ub = function() {
        clearTimeout(this.a6B)
    };
    i4.prototype.GO = function() {
        if (this._0 == null || !_.wH(this.UX)) return;
        var w = this.alD,
            o = this.UX.width,
            Q = this.UX.height,
            $, n;
        if (w == null || w.width != o || w.height != Q) {
            w = this.alD = this.Dh.createImageData(o, Q);
            console.log("creating image data")
        }
        var K = this._0[this.GE],
            b = this.uN[this.GE],
            R = this.m,
            X = R.xN,
            h = R.yG,
            e = h.D,
            Z = h.j,
            P = X.D * R.I,
            J = X.j * R.I,
            i = Math.round((e - P) / 2 + R.n.x),
            k = Math.round((Z - J) / 2 + R.n.y);
        if (R.I <= 1) {
            n = b.rect.clone();
            n.x = i;
            n.y = k;
            P = n.D;
            J = n.j;
            $ = b.Sg
        } else {
            var j = 1 / R.I,
                y = new B(Math.floor((h.x - i) * j), Math.floor((h.y - k) * j), Math.ceil(h.D * j) + 1, Math.ceil(h.j * j) + 1),
                V = new B(0, 0, y.D * R.I, y.j * R.I);
            V.x = y.x * R.I + i;
            V.y = y.y * R.I + k;
            if (R.v3 == null || R.v3.length != y.O() * 4) {
                R.v3 = v.$(y.O() * 4)
            }
            if (R.ix == null || R.ix.length != V.O() * 4) {
                R.ix = v.$(V.O() * 4)
            }
            v.Fw(R.v3, 0);
            v.c1(b.Sg, b.rect, R.v3, y);
            v.scale.QA(R.v3, y.D, y.j, R.ix, V.D, V.j, R.I);
            $ = R.ix;
            n = V
        }
        var O = new Uint8Array(w.data.buffer);
        v.fr(O, e, Z, 8, -i, -k);
        v.M.M$("norm", $, n, O, h, h, 1);
        this.Dh.setTransform(1, 0, 0, 1, 0, 0);
        this.Dh.putImageData(w, 0, 0);
        this.Dh.clearRect(i - 1e3, k, 1e3, J);
        this.Dh.clearRect(i + P, k, 1e3, J);
        this.Dh.clearRect(i - 1e3, k - 1e3, P + 2e3, 1e3);
        this.Dh.clearRect(i - 1e3, k + J, P + 2e3, 1e3);
        var S = i4.NL(R.I, "#ffffff");
        this.Dh.putImageData(S, 0, R.yG.j - S.height)
    };
    i4.j3 = {};
    i4.NL = function(w, o) {
        var Q = "z" + w + "," + o,
            K = i4.j3[Q];
        if (K) return K;
        var b = Math.round(50 * _.J()),
            R = Math.round(18 * _.J()),
            X = _.B("canvas"),
            h = X.getContext("2d");
        X.width = b;
        X.height = R;
        h.fillStyle = "rgba(1,1,1,1)";
        h.fillRect(0, 0, b, R);
        h.font = Math.round(11 * _.J()) + "px monospace";
        h.fillStyle = o;
        var e = w * 100;
        if (e < 100) e = e.toFixed(2);
        e = e + "%";
        var Z = h.measureText(e).width;
        h.fillText(e, (b - Z) / 2, Math.round(R * .7));
        K = i4.j3[Q] = h.getImageData(0, 0, b, R);
        return K
    };
    i4.prototype.RJ = function() {
        var w = this._0,
            o = w.length,
            Q = this.GE,
            K = this._0[Q],
            b = (Q + 1) % o;
        this.GO();
        if (o != 1 && w[b].Ip.Lb(K.Ip)) {
            var R = K.Y9 ? parseInt(K.Y9.split(",").pop()) : 30;
            if (R == 0) R = 16;
            if (b == 0) this.uw++;
            if (this.$I == 0 || this.uw < this.$I) this.a6B = setTimeout(this.akE, R)
        }
        this.GE = b
    };
    i4.prototype.VJ = function(w, o) {
        if (w <= 0 || o <= 0) return;
        var Q = Math.floor(w * _.J()),
            K = Math.floor(o * _.J());
        this.m.yG = new B(0, 0, Q, K);
        this.UX.width = Q;
        this.UX.height = K;
        this.UX.setAttribute("style", "width:" + Q / _.J() + "px; height:" + K / _.J() + "px; display:block;");
        this.GO()
    };
    i4.prototype.MM = function(w) {
        this.Ya = w.target;
        _.vt(window, this.a1c);
        _.$y(window, this.aaz);
        this.HK = _.m5(w, this.UX);
        this.HK.x *= _.J();
        this.HK.y *= _.J();
        this.dz = this.HK;
        this.XB = this.m.n.clone();
        if (this.wi && this.Ya == this.UX && !this.u$) this.A(new Y("mousedown"))
    };
    i4.prototype.Le = function(w) {
        var o = this.m,
            Q = this.u$,
            K = this._0[this.GE].Ip.clone();
        K.D *= o.I;
        K.j *= o.I;
        var b = _.m5(w, this.UX);
        b.x *= _.J();
        b.y *= _.J();
        this.dz = b;
        if (this.wi && this.Ya == this.UX && !Q) this.A(new Y("mousemove"));
        else if ((Q == "grab" || Q == null) && !o.yG.Fq(K)) {
            var R = b.x - this.HK.x,
                X = b.y - this.HK.y;
            o.n.x = this.XB.x + Math.round(R);
            o.n.y = this.XB.y + Math.round(X);
            this.A(new Y("viewchange"))
        }
    };
    i4.prototype.Fo = function(w) {
        _.Vk(window, this.a1c);
        _.p_(window, this.aaz);
        var o = this.u$;
        if (w.detail > 1) {
            this.m.I = 1;
            this.m.n.qQ(0, 0);
            this.GO()
        }
        if (this.wi && this.Ya == this.UX && !this.u$) this.A(new Y("mouseup"));
        else {
            if (o == "zoom-in" || o == "zoom-out") this.mU(this.dz, o == "zoom-in")
        }
    };
    i4.prototype.nY = function() {
        return this.m.WD(this.dz.x, this.dz.y)
    };

    function gC() {
        cv.call(this);
        this.al = null;
        this.xq = null;
        this.rO = null;
        this.tn = null;
        this.akh = "";
        this.v5 = [];
        this.TB = 0;
        this.v7 = [];
        this.Sd = 0;
        this.AL = null;
        var w = this.d = _.B("div", ""),
            o = this.alY = _.B("div", "form");
        o.setAttribute("style", "line-height:0; margin-bottom:0.5em;");
        w.appendChild(o);
        var Q = this.dk = _.B("span");
        o.appendChild(Q);
        Q.setAttribute("style", "font-size:1.2em; font-weight:bold; margin-right:3em;");
        var K = this.akm = new dS([25, 2, 0]);
        K.G(!0);
        o.appendChild(K.d);
        K.s(_.E.h, this._j, this);
        var b = this.Pr = new dS([25, 2, 1]);
        b.G(!0);
        o.appendChild(b.d);
        b.s(_.E.h, this._j, this);
        var R = new bY(" ");
        o.appendChild(R.d);
        var X = this.iP = new g$([25, 1, 1]);
        o.appendChild(X.d);
        X.s(_.E.h, this._j, this);
        this.aC = new hD(14);
        this.aC.a9O(3);
        o.appendChild(this.aC.d);
        this.aC.parent = this;
        this.aC.s(_.E.h, this.acW, this);
        var h = this.a5N = new dQ([25, 1, 2], null, null, !0);
        o.appendChild(h.d);
        h.s("click", this.a0, this);
        this.a94 = this.a0j.bind(this);
        this.PZ = _.B("div", "svggallery scrollable");
        w.appendChild(this.PZ);
        this.PZ.addEventListener("scroll", this.a8E.bind(this))
    }
    gC.prototype = new cv;
    gC.prototype.yy = function(w) {
        this.a2P = w
    };
    gC.prototype.v = function() {
        this.dk.textContent = b6.get([25, 0]);
        this.aC.v();
        this.akm.v();
        this.Pr.v();
        this.iP.v();
        this.a5N.v()
    };
    gC.prototype.VJ = function(w, o) {
        o -= 26;
        this.al = new fB(w, o);
        this.alY.setAttribute("style", "width:" + w + "px");
        this.PZ.setAttribute("style", "width:" + w + "px; height:" + o + "px");
        if (_.wH(this.d)) this._j()
    };
    gC.prototype.G = function(w) {
        this.xq = w;
        this._j()
    };
    gC.prototype.a8E = function(w) {
        var o = this.PZ;
        if (o.scrollTop + o.clientHeight + 10 >= o.scrollHeight) {
            this._j(!0)
        }
    };
    gC.prototype.acW = function(w) {
        this.rO = null;
        this._j()
    };
    gC.prototype.a0j = function(w) {
        if (Date.now() - this.Sd < 2e3) return;
        this.Sd = Date.now();
        this.TB = this.v7.indexOf(w.currentTarget);
        var o = this.bp(this.xq.x, this.xq.y);
        if (o[1]) {
            var Q = o[1].largeImageURL,
                K = new XMLHttpRequest;
            K.responseType = "arraybuffer";
            K.open("GET", Q, !0);
            K.onload = this.a81.bind(this);
            K.send();
            return
        }
        this._a(o)
    };
    gC.prototype.a81 = function(w) {
        var o = w.target.response,
            Q = ip.jF(o),
            K = ip.pR(Q),
            b = K.p5(o),
            R = this.bp(this.xq.x, this.xq.y, [o, b[0].Ip.D, b[0].Ip.j]);
        this._a(R)
    };
    gC.prototype._a = function(w) {
        var o = w[0],
            Q = ip.jF(o),
            K = ip.pR(Q),
            b = new fb("template.psd");
        K.p5(o, b);
        var R = new Y("tempready", !0);
        R.data = {
            xN: b
        };
        this.A(R)
    };
    gC.prototype.a0 = function(w) {
        var o = w.target;
        this.v5 = [];
        this._j()
    };
    gC.prototype.a7h = function(w) {
        console.log(w.target.response);
        var o = JSON.parse(w.target.response);
        this.tn = o.hits;
        this._j()
    };
    gC.prototype._j = function(w) {
        if (this.xq == null || this.al == null || this.a2P == null) return;
        if (this.al.x <= 0) return;
        var o = this.xq.x,
            Q = this.xq.y;
        if (Math.min(o, Q) < 50) return;
        if (w != !0) {
            this.v7 = [];
            _.Tk(this.PZ);
            this.PZ.scrollTop = 0
        }
        if (this.v7.length > 300) return;
        var K = Math.min(1, 300 / Math.max(o, Q)),
            b = this.al.clone();
        b.x -= 20;
        var R = Math.max(1, Math.floor(b.x / (o * K))),
            X = Math.max(1, Math.ceil(b.y / (Q * K)));
        K = b.x / R / o;
        var h = R * X;
        if (this.rO == null) {
            var e = this.a2P.md.j1();
            this.rO = [];
            for (var Z in e) {
                var P = e[Z],
                    J = P[3];
                if (!this.aC.A1(P)) continue;
                if (P[5] == null || P[5].slice(0, 2) == "gf") continue;
                this.rO.push(P)
            }
            if (this.rO.length == 0) this.rO.push(e.DejaVuSans)
        }
        var i = this.Pr.T(),
            k = this.iP.T().trim();
        this.iP.o9(i);
        if (i && (this.tn == null || k != this.akh)) {
            var $ = new XMLHttpRequest,
                n = "https://pixabay.com/api/?image_type=photo" + (k == "" ? "" : "&q=" + encodeURIComponent(k)) + "&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
            if (k == "") n += "&safesearch=true";
            if (k == "") n = "plugins/gallery.json";
            $.open("GET", n, !0);
            $.onload = this.a7h.bind(this);
            $.onerror = function(G) {
                console.log(G.target.response)
            };
            $.send();
            this.akh = k;
            return
        }
        K *= (o * K - 5) / (o * K);
        var j = this.v7.length;
        for (var M = 0; M < h; M++) {
            var y = this.TB = j + M;
            if (this.v5[y] == null) this.v5[y] = Math.floor(Math.random() * 4294967295);
            var V = this.bp(Math.round(o * K), Math.round(Q * K)),
                O = V[0];
            O = W.K1(new Uint8Array(O));
            var S = _.B("span");
            S.innerHTML = O;
            this.v7.push(S);
            this.PZ.appendChild(S);
            S.addEventListener("click", this.a94, !1)
        }
    };
    gC.prototype.bp = function(w, o, Q) {
        var K = this.Pr.T(),
            b = this.akm.T(),
            R = K && this.tn.length != 0 ? this.tn : null;
        if (b && !K) R = null;
        if (b && K && (this.TB & 1) == 0) R = null;
        return fU.z_(w, o, this.v5[this.TB], this.rO, Q ? Q : R)
    };

    function eJ() {
        cv.call(this);
        this.d = _.B("div");
        this.zG = null;
        this.ai5 = null;
        this.qA = -1;
        this.Lp = {
            JPG: [{
                UQ: new cI([12, 52, 0], 0, 100, "%", null, null, !0),
                ke: 70
            }, {
                UQ: new dS("attach metadata"),
                ke: !1
            }],
            TIFF: [{
                UQ: new dS("attach metadata"),
                ke: !1
            }],
            WEBP: [{
                UQ: new cI([12, 52, 0], 0, 100, "%", null, null, !0),
                ke: 70
            }],
            GIF: [{
                UQ: new cI([12, 52, 0], 0, 100, "%", null, null, !0),
                ke: 100
            }],
            PNG: [{
                UQ: new cI([12, 52, 0], 0, 100, "%", null, null, !0),
                ke: 100
            }, {
                UQ: new dS("don't use palettes"),
                ke: !1
            }],
            PDF: [{
                UQ: new g$([12, 52, 1]),
                ke: ""
            }, {
                UQ: new cI([12, 52, 0], 0, 100, "%", null, null, !0),
                ke: 100
            }, {
                UQ: new dS("rasterize all"),
                ke: !1
            }, {
                UQ: new dS("rasterize text"),
                ke: !1
            }, {
                UQ: new dS("vectorize text"),
                ke: !1
            }],
            EMF: [{
                UQ: new g$([12, 52, 1]),
                ke: ""
            }, {
                UQ: new dS("rasterize all"),
                ke: !1
            }, {
                UQ: new dS("rasterize text"),
                ke: !1
            }, {
                UQ: new dS("vectorize text"),
                ke: !1
            }],
            SVG: [{
                UQ: new dS("add raster graphics"),
                ke: !0
            }, {
                UQ: new dS("add hidden layers"),
                ke: !1
            }, {
                UQ: new dS("vectorize text"),
                ke: !1
            }, {
                UQ: new dS("rasterize text"),
                ke: !1
            }, {
                UQ: new dS("add layer names"),
                ke: !0
            }, {
                UQ: new dS("pretty-print"),
                ke: !0
            }],
            RAW: [{
                UQ: new b7([12, 72], ["1", "3", "4"]),
                ke: 2
            }, {
                UQ: new b7([12, 34], ["8 Bits", "16 Bits"]),
                ke: 0
            }, {
                UQ: new b7("Byte Order", ["12-34", "34-12"]),
                ke: 0
            }],
            anim: [{
                UQ: new cI("Speed", 10, 800, "%", null, !0, !0),
                ke: 100
            }, {
                UQ: new fN("Repeat (0 = Forever)", 0, 10, " \xD7", 0, !1, !0),
                ke: 0
            }, {
                UQ: new dS("reverse frames"),
                ke: !1
            }],
            slcs: [{
                UQ: new dS("As Slices"),
                ke: !0
            }]
        };
        for (var w in this.Lp) {
            var o = this.Lp[w];
            for (var M = 0; M < o.length; M++) {
                o[M].UQ.G(o[M].ke);
                o[M].UQ.s(_.E.h, this.V0, this)
            }
        }
    }
    eJ.prototype = new cv;
    eJ.prototype.a3M = function() {
        this.qA = -1
    };
    eJ.prototype.v = function() {
        for (var w in this.Lp)
            for (var M = 0; M < this.Lp[w].length; M++) this.Lp[w][M].UQ.v()
    };
    eJ.prototype.V0 = function() {
        this._j();
        this.A(new Y(_.E.h, !1))
    };
    eJ.prototype._j = function() {
        var w = this.zG,
            o = w[0],
            Q = w[1],
            K = w[2],
            b = w[3],
            R = this.Lp[o];
        if (R == null) R = [];
        else R = R.slice(0);
        if (Q) R = R.concat(this.Lp.anim);
        if (["GIF", "PNG", "JPG"].indexOf(o) != -1 && K) R = R.concat(this.Lp.slcs);
        if (o + " " + Q + " " + b != this.qA) {
            this.qA = o + " " + Q + " " + b;
            _.Tk(this.d);
            for (var M = 0; M < R.length; M++) {
                if (o == "PDF" && b && M == 0) continue;
                this.d.appendChild(R[M].UQ.d);
                _.EV(this.d)
            }
        }
        var X = this.ai5 = [];
        for (var M = 0; M < R.length; M++) X.push(R[M].UQ.T())
    };
    eJ.prototype.J3 = function(w, o, Q, K) {
        this.zG = [w, o, Q, K];
        this._j()
    };
    eJ.prototype.T = function() {
        return this.ai5.slice(0)
    };

    function dJ() {
        cv.call(this);
        this.d = _.B("span", "fitem");
        this._9 = !1;
        this.Gh = new dQ("No", !1, "Cancel");
        this.Dj = new dQ("Yes", !1, "Confirm");
        this.d.appendChild(this.Gh.d);
        this.d.appendChild(this.Dj.d);
        this.Gh.s("click", this.rs, this);
        this.Dj.s("click", this.rs, this);
        this.v()
    }
    dJ.prototype = new cv;
    dJ.prototype.v = function() {
        this.Gh.vg(_.oP("cross", null, "autoscale"));
        this.Dj.vg(_.oP("checkmark", null, "autoscale"))
    };
    dJ.prototype.rs = function(w) {
        this._9 = w.target == this.Dj;
        this.A(new UIEvent("click"))
    };
    dJ.prototype.T = function() {
        return this._9
    };

    function m(w) {
        cv.call(this);
        this.TR = w;
        this.d = _.B("div", "");
        this.OK = [];
        this.aeI = []
    }
    m.prototype = new cv;
    m.prototype.dQ = function(w) {};
    m.prototype.XJ = function() {
        return !1
    };
    m.prototype.VJ = function(w, o) {};
    m.prototype.yy = function(w, o) {};
    m.prototype.R6 = function(w) {};
    m.prototype.G = function(w, o, Q, K, b, R) {
        var X = [],
            h = this.OK,
            e = 0,
            Z = bf.MR["s" + this.TR];
        Z ? Z(w, X, R) : this.U7(w, X, R);
        for (var M = 0; M < h.length; M++)
            if (!(h[M] instanceof bY)) h[M].G(X[e++])
    };
    m.prototype.T = function() {
        var w = bf._R(this.TR),
            o = [],
            Q = this.OK,
            K = 0;
        for (var M = 0; M < Q.length; M++)
            if (!(Q[M] instanceof bY)) o[K++] = Q[M].T();
        var b = bf.MR["g" + this.TR];
        b ? b(w, o) : this.Rc(w, o);
        return w
    };
    m.prototype.Yq = function(w) {};
    m.prototype.$s = function(w) {
        var o = this.aeI;
        for (var M = 0; M < o.length; M += 2) {
            var Q = this.OK[o[M]],
                K = this.OK[o[M + 1]],
                b = Q.T(),
                R = K.T();
            if (w.target == Q) K.G(Math.max(b, R));
            else Q.G(Math.min(b, R))
        }
        this.A(new Y(_.E.h))
    };
    m.prototype.v = function() {
        for (var M = 0; M < this.OK.length; M++) this.OK[M].v()
    };
    m.prototype.c6 = function(w) {
        _.Ka(this.d, "form");
        var o = this.OK;
        for (var M = 0; M < o.length; M++) {
            var Q = o[M];
            Q.parent = this;
            Q.s(_.E.h, this.$s, this);
            this.d.appendChild(Q.d);
            if (Q instanceof dS && o[M + 1] instanceof eQ) continue;
            if (w && w.indexOf(M) != -1) _.RA(this.d);
            else _.EV(this.d)
        }
    };
    m.prototype.Ov = function() {
        return !1
    };
    m.prototype.Br = function(w, o, Q, K, b) {};
    m.prototype.$z = function(w, o, Q, K, b) {};
    m.prototype.IN = function(w, o, Q, K, b) {};
    m.prototype.Rc = function(w, o) {};
    m.prototype.U7 = function(w, o) {};
    m.Bokh = function() {
        m.call(this, "Bokh");
        this.OK = [new bQ("Depth Map", ["A", "b"]), new cI("Focal Distance", 0, 255), new bQ([12, 76, 1], "Triangle (3),Square (4),Pentagon (5),Hexagon (6),Heptagon (7),Octagon (8)".split(",")), new cI([12, 56], 0, 100), new cI([12, 15], 0, 360), new cI([12, 2], 0, 100), new cI([4, 13], 0, 255), new cI([24, 6], 0, 100), new b7([12, 58], [
            [12, 59, 0],
            [12, 59, 1]
        ]), new dS([12, 60])];
        this.c6([4, 6])
    };
    m.Bokh.prototype = new m;
    m.Bokh.prototype.U7 = function(w, o, Q) {
        var K = [
                [22, 5, 0],
                [6, 5, 3],
                [6, 2]
            ],
            b = w.BkDi.v.BtDi,
            R = w.BkDc,
            X = 0;
        if (b == "BeIn") X = 0;
        else if (b == "BeIt" && R.v.BtDc == "BeCt") X = 1;
        else if (b == "BeIt" && R.v.BtDc == "BeCm") X = 2;
        else X = 3 + R.v;
        for (var M = 0; M < Q[1].length; M++) K.push(Q[1][M].name);
        this.OK[0].dU(K, [3]);
        o[0] = X;
        o[1] = w.BkDp.v;
        o[2] = parseInt(w.BkIs.v.BtIs.slice(3)) - 3;
        o[3] = w.BkIb.v;
        o[4] = w.BkIr.v;
        o[5] = w.BkSb.v;
        o[6] = w.BkSt.v;
        o[7] = w.BkNa.v;
        o[8] = w.BkNt.v.BtNt == "BeNu" ? 0 : 1;
        o[9] = w.BkNm.v
    };
    m.Bokh.prototype.Rc = function(w, o) {
        var Q;
        if (o[0] == 0) {
            Q = "BeIn";
            delete w.BkDc
        } else if (o[0] < 3) {
            Q = "BeIt";
            w.BkDc = {
                t: "enum",
                v: {
                    BtDc: ["BeCt", "BeCm"][o[0] - 1]
                }
            }
        } else {
            Q = "BeIa";
            w.BkDc = {
                t: "long",
                v: o[0] - 3
            }
        }
        w.BkDi.v.BtDi = Q;
        w.BkDp.v = o[1];
        w.BkIs.v.BtIs = "BeS" + (3 + o[2]);
        w.BkIb.v = o[3];
        w.BkIr.v = o[4];
        w.BkSb.v = o[5];
        w.BkSt.v = o[6];
        w.BkNa.v = o[7];
        w.BkNt.v.BtNt = ["BeNu", "BeNg"][o[8]];
        w.BkNm.v = o[9]
    };
    m.oilPaint = function() {
        m.call(this, "oilPaint");
        this.OK = [new cI([12, 56], .1, 10, "px", !0), new cI("Cleanliness", 0, 10, "px", !0), new cI([12, 38], .1, 10, null, !0), new cI("Bristle Detail", 0, 10, null, !0), new dS("Lighting"), new cI("Shine", 0, 10, null, !0), new iH([12, 15])];
        this.c6()
    };
    m.oilPaint.prototype = new m;
    m.oilPaint.prototype.U7 = function(w, o) {
        var Q = "stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
        for (var M = 0; M < Q.length; M++) o[M] = w[Q[M]].v;
        o[6] = w.LghD.v
    };
    m.oilPaint.prototype.Rc = function(w, o) {
        var Q = "stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
        for (var M = 0; M < Q.length; M++) w[Q[M]].v = o[M];
        w.LghD.v = o[6].aa
    };
    m.lightFilterGradient = function() {
        m.call(this, "lightFilterGradient");
        this.OK = [new cI([24, 3, 1], 0, 100, "px", 1, !0), new cI([12, 38], 0, 200, "%"), new dS([4, 11]), new cI("High", 0, 100, "%"), new cI("Medium", 0, 100, "%"), new cI("Low", 0, 100, "%")];
        this.c6()
    };
    m.lightFilterGradient.prototype = new m;
    m.lightFilterGradient.prototype.U7 = function(w, o) {
        o[0] = w.blur.v;
        o[1] = w.textureScale.v * 100;
        o[2] = w.Scl.v == -1;
        var Q = w.Dtl.v;
        o[3] = Q[0].v * 100;
        o[4] = Q[1].v * 100;
        o[5] = Q[2].v * 100
    };
    m.lightFilterGradient.prototype.Rc = function(w, o) {
        w.blur.v = o[0];
        w.textureScale.v = o[1] / 100;
        w.Scl.v = o[2] ? -1 : 1;
        var Q = w.Dtl.v;
        Q[0].v = o[3] / 100;
        Q[1].v = o[4] / 100;
        Q[2].v = o[5] / 100
    };
    m.LnsF = function() {
        m.call(this, "LnsF");
        this.OK = [new cI([12, 2], 10, 300, "%"), new b7([12, 44], ["Lens 1", "Lens 2", "Lens 3", "Lens 4"]), new cI("Position X", 0, 100, "%"), new cI("Position Y", 0, 100, "%")];
        this.c6()
    };
    m.LnsF.prototype = new m;
    m.LnsF.prototype.U7 = function(w, o) {
        o[0] = w.Brgh.v;
        o[1] = ["Zm", "Nkn", "Nkn1", "PnVs"].indexOf(w.Lns.v.Lns);
        var Q = w.FlrC.v;
        o[2] = Math.round(Q.Hrzn.v * 100);
        o[3] = Math.round(Q.Vrtc.v * 100)
    };
    m.LnsF.prototype.Rc = function(w, o) {
        w.Brgh.v = o[0];
        w.Lns.v.Lns = ["Zm", "Nkn", "Nkn1", "PnVs"][o[1]];
        var Q = w.FlrC.v;
        Q.Hrzn.v = o[2] / 100;
        Q.Vrtc.v = o[3] / 100
    };
    m.blendOptions = function() {
        m.call(this, "blendOptions");
        this.OK.push(new bQ([12, 19, 0], hL.gS, !1, hL.fb));
        this.OK.push(new cI([12, 0], 0, 100, "%"));
        this.c6()
    };
    m.blendOptions.prototype = new m;
    m.blendOptions.prototype.U7 = function(w, o) {
        o[0] = hL.ja.indexOf(w.Md.v.BlnM);
        o[1] = w.Opct.v.val
    };
    m.blendOptions.prototype.Rc = function(w, o) {
        w.Md.v.BlnM = hL.ja[o[0]];
        w.Opct.v.val = o[1]
    };
    m.LnCr = function() {
        m.call(this, "LnCr");
        this.OK = [new cI([12, 57], -100, 100), new cI([12, 38], 10, 150, "%")];
        this.c6()
    };
    m.LnCr.prototype = new m;
    m.LnCr.prototype.U7 = function(w, o) {
        o[0] = w.LnIa.v;
        o[1] = w.LnSi.v
    };
    m.LnCr.prototype.Rc = function(w, o) {
        w.LnIa.v = o[0];
        w.LnSi.v = o[1]
    };
    m.adaptCorrect = function() {
        m.call(this, "adaptCorrect");
        var w = h4;
        this.OK = [new bY([19, 6, 0]), new w([12, 57], 0, 100, "%"), new w("Tone", 0, 100, "%"), new w([12, 56], 0, 200, "px"), new bY([19, 6, 2]), new w([12, 57], 0, 100, "%"), new w("Tone", 0, 100, "%"), new w([12, 56], 0, 200, "px"), new bY([3]), new w([13, 0], -100, 100)];
        this.c6([3, 7])
    };
    m.adaptCorrect.prototype = new m;
    m.adaptCorrect.prototype.U7 = function(w, o) {
        var Q = w.sdwM.v;
        o[0] = Q.Amnt.v.val;
        o[1] = Q.Wdth.v.val;
        o[2] = Q.Rds.v;
        var Q = w.hglM.v;
        o[3] = Q.Amnt.v.val;
        o[4] = Q.Wdth.v.val;
        o[5] = Q.Rds.v;
        o[6] = w.ClrC.v
    };
    m.adaptCorrect.prototype.Rc = function(w, o) {
        var Q = w.sdwM.v;
        Q.Amnt.v.val = o[0];
        Q.Wdth.v.val = o[1];
        Q.Rds.v = o[2];
        var Q = w.hglM.v;
        Q.Amnt.v.val = o[3];
        Q.Wdth.v.val = o[4];
        Q.Rds.v = o[5];
        w.ClrC.v = o[6]
    };
    m.boxblur = function() {
        m.call(this, "boxblur");
        this.OK = [new cI([12, 56], 1, 200, " px")];
        this.c6()
    };
    m.boxblur.prototype = new m;
    m.boxblur.prototype.U7 = function(w, o) {
        o[0] = w.Rds.v.val
    };
    m.boxblur.prototype.Rc = function(w, o) {
        w.Rds.v.val = o[0]
    };
    m.GsnB = function() {
        m.call(this, "GsnB");
        this.OK = [new cI([12, 56], .1, 400, "px", 1, !0)];
        this.c6()
    };
    m.GsnB.prototype = new m;
    m.MtnB = function() {
        m.call(this, "MtnB");
        this.OK = [new iH([12, 15]), new cI([12, 28], 1, 100, " px")];
        this.c6()
    };
    m.MtnB.prototype = new m;
    m.RdlB = function() {
        m.call(this, "RdlB");
        this.OK = [new cI([12, 57], 1, 100), new b7([12, 36], ["Spin", "Zoom"]), new h4("Off X", 0, 1, null, 2), new h4("Off Y", 0, 1, null, 2)];
        this.c6()
    };
    m.RdlB.prototype = new m;
    m.RdlB.prototype.U7 = function(w, o) {
        o[0] = w.Amnt.v;
        o[1] = ["Spn", "Zm"].indexOf(w.BlrM.v.BlrM);
        o[2] = w.Cntr.v.Hrzn.v;
        o[3] = w.Cntr.v.Vrtc.v
    };
    m.RdlB.prototype.Rc = function(w, o) {
        w.Amnt.v = o[0];
        w.BlrM.v.BlrM = ["Spn", "Zm"][o[1]];
        w.Cntr.v.Hrzn.v = o[2];
        w.Cntr.v.Vrtc.v = o[3]
    };
    m.Dspl = function() {
        m.call(this, "Dspl");
        this.OK = [new bQ([6, 36, 3], ["a", "b"]), new cI([22, 4, 0], -100, 100, "px"), new cI([22, 4, 1], -100, 100, "px"), new bQ([24, 18, 0], [
            [24, 18, 3],
            [24, 18, 2]
        ])];
        this.c6()
    };
    m.Dspl.prototype = new m;
    m.Dspl.prototype.U7 = function(w, o, Q) {
        this.alR = [];
        this.Vf = [];
        var K = -1,
            b = Q ? Q[0] : null;
        if (b == null) b = this.ago;
        else this.ago = b;
        if (b)
            for (var M = 0; M < b.length; M++) {
                var R = b[M];
                this.alR.push(R.YG.trim());
                this.Vf.push(R.eo);
                if (R.eo == w.DspF.v.pth) K = M
            }
        this.OK[0].dU(this.alR);
        o[0] = K == -1 ? 0 : K;
        o[1] = w.HrzS.v;
        o[2] = w.VrtS.v;
        o[3] = ["WrpA", "RptE"].indexOf(w.UndA.v.UndA)
    };
    m.Dspl.prototype.Rc = function(w, o) {
        if (this.Vf.length == 0) return;
        w.DspF.v.pth = this.Vf[o[0]];
        w.HrzS.v = o[1];
        w.VrtS.v = o[2];
        w.UndA.v.UndA = ["WrpA", "RptE"][o[3]]
    };
    m.Pnch = function() {
        m.call(this, "Pnch");
        this.OK = [new cI([12, 57], -100, 100, "%")];
        this.c6()
    };
    m.Pnch.prototype = new m;
    m["Plr "] = function() {
        m.call(this, "Plr ");
        this.OK = [new b7(null, ["Rect to Polar", "Polar to Rect"])];
        this.c6()
    };
    m["Plr "].prototype = new m;
    m.Rple = function() {
        m.call(this, "Rple");
        this.OK = [new cI([12, 57], -999, 999), new bQ([12, 14, 0], [
            [19, 8, 0],
            [19, 8, 1],
            [19, 8, 2]
        ])];
        this.c6()
    };
    m.Rple.prototype = new m;
    m["Shr "] = function() {
        m.call(this, "Shr ");
        this.OK = [new eN(!0, !0), new bQ([24, 18, 0], [
            [24, 18, 3],
            [24, 18, 2]
        ])];
        this.c6()
    };
    m["Shr "].prototype = new m;
    m["Shr "].prototype.U7 = function(w, o) {
        var Q = new dj(0, 255 / 127, 255 / 127, 0, -2, 128),
            K = JSON.parse(JSON.stringify(w.ShrP.v));
        v.R2.H(K, Q);
        o[0] = K;
        o[1] = ["WrpA", "RptE"].indexOf(w.UndA.v.UndA)
    };
    m["Shr "].prototype.Rc = function(w, o) {
        var Q = new dj(0, 255 / 127, 255 / 127, 0, -2, 128);
        Q.MF();
        v.R2.H(o[0], Q);
        w.ShrP.v = o[0];
        w.ShrE.v = o[0].length - 1;
        w.UndA.v.UndA = ["WrpA", "RptE"][o[1]]
    };
    m.Sphr = function() {
        m.call(this, "Sphr");
        this.OK = [new cI([12, 57], -100, 100), new bQ([12, 36], ["Normal", [22, 4, 0],
            [22, 4, 1]
        ])];
        this.c6()
    };
    m.Sphr.prototype = new m;
    m.Sphr.prototype.U7 = function(w, o) {
        o[0] = w.Amnt.v;
        o[1] = ["Nrml", "HrzO", "VrtO"].indexOf(w.SphM.v.SphM)
    };
    m.Sphr.prototype.Rc = function(w, o) {
        w.Amnt.v = o[0];
        w.SphM.v.SphM = ["Nrml", "HrzO", "VrtO"][o[1]]
    };
    m.Twrl = function() {
        m.call(this, "Twrl");
        this.OK = [new cI([12, 15], -999, 999)];
        this.c6()
    };
    m.Twrl.prototype = new m;
    m.Wave = function() {
        m.call(this, "Wave");
        this.aeI = [1, 2, 3, 4];
        this.OK = [new cI("Number of Generators", 1, 100), new h4("Min Length", 1, 999), new h4("Max Length", 1, 999), new h4("Min Ampl.", 1, 999), new h4("Max Ampl.", 1, 999), new h4("Scale X", 1, 100, "%"), new h4("Scale Y", 1, 100, "%"), new b7([12, 44], ["Sine", "Triangle", [12, 93, 3]]), new bQ([24, 18, 0], [
            [24, 18, 3],
            [24, 18, 2]
        ]), new g$("Randomizer Seed")];
        this.c6()
    };
    m.Wave.prototype = new m;
    m.Wave.prototype.U7 = function(w, o) {
        o[0] = w.NmbG.v;
        o[1] = w.WLMn.v;
        o[2] = w.WLMx.v;
        o[3] = w.AmMn.v;
        o[4] = w.AmMx.v;
        o[5] = w.SclH.v;
        o[6] = w.SclV.v;
        o[7] = ["WvSn", "WvTr", "WvSq"].indexOf(w.Wvtp.v.Wvtp);
        o[8] = ["WrpA", "RptE"].indexOf(w.UndA.v.UndA);
        o[9] = w.RndS.v
    };
    m.Wave.prototype.Rc = function(w, o) {
        w.NmbG.v = o[0];
        w.WLMn.v = o[1];
        w.WLMx.v = o[2];
        w.AmMn.v = o[3];
        w.AmMx.v = o[4];
        w.SclH.v = o[5];
        w.SclV.v = o[6];
        w.Wvtp.v.Wvtp = ["WvSn", "WvTr", "WvSq"][o[7]];
        w.UndA.v.UndA = ["WrpA", "RptE"][o[8]];
        var Q = parseInt(o[9]);
        if (isNaN(Q)) Q = 248325464;
        Q = Math.max(0, Math.min(268435455, Q));
        w.RndS.v = Q;
        this.OK[9].G(Q)
    };
    m.surfaceBlur = function() {
        m.call(this, "surfaceBlur");
        this.OK = [new cI([12, 56], 1, 200, " px"), new cI([4, 13], 1, 255, " px")];
        this.c6()
    };
    m.surfaceBlur.prototype = new m;
    m.surfaceBlur.prototype.U7 = function(w, o) {
        o[0] = w.Rds.v.val;
        o[1] = w.Thsh.v
    };
    m.surfaceBlur.prototype.Rc = function(w, o) {
        w.Rds.v.val = o[0];
        w.Thsh.v = o[1]
    };
    m.AdNs = function() {
        m.call(this, "AdNs");
        this.OK = [new cI([12, 57], 0, 200, " %"), new bQ([12, 58], [
            [12, 59, 1],
            [12, 59, 0]
        ]), new dS([12, 60])];
        this.c6()
    };
    m.AdNs.prototype = new m;
    m.DstS = function() {
        m.call(this, "DstS");
        this.OK = [new cI([12, 56], 1, 200, " px"), new cI([4, 13], 1, 255, " px")];
        this.c6()
    };
    m.DstS.prototype = new m;
    m["Mdn "] = function() {
        m.call(this, "Mdn ");
        this.OK = [new cI([12, 56], 1, 200, " px")];
        this.c6()
    };
    m["Mdn "].prototype = new m;
    m["Mdn "].prototype.U7 = function(w, o) {
        o[0] = w.Rds.v.val
    };
    m["Mdn "].prototype.Rc = function(w, o) {
        w.Rds.v.val = o[0]
    };
    m.ClrH = function() {
        m.call(this, "ClrH");
        this.OK = [new cI([12, 56], 4, 100, " px")];
        for (var M = 1; M < 4; M++) this.OK.push(new cI("Angle " + M, 0, 90, " \xB0"));
        this.c6()
    };
    m.ClrH.prototype = new m;
    m.ClrH.prototype.U7 = function(w, o) {
        o[0] = w.Rds.v;
        for (var M = 1; M < 4; M++) o[M] = w["Ang" + M].v
    };
    m.ClrH.prototype.Rc = function(w, o) {
        w.Rds.v = o[0];
        for (var M = 1; M < 4; M++) w["Ang" + M].v = o[M]
    };
    m.ClrH.prototype.v = function() {
        var w = this.OK;
        w[0].v();
        for (var M = 1; M < 4; M++) w[M].vg(b6.get([12, 15]) + " " + M)
    };
    m.Crst = function() {
        m.call(this, "Crst");
        this.OK = [new cI([12, 61], 3, 100, " px")];
        this.c6()
    };
    m.Crst.prototype = new m;
    m.Crst.prototype.U7 = function(w, o) {
        o[0] = w.ClSz.v
    };
    m.Crst.prototype.Rc = function(w, o) {
        w.ClSz.v = o[0]
    };
    m.Mztn = function() {
        m.call(this, "Mztn");
        this.OK.push(new bQ([12, 44], "Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","), null, [4, 3, 3]));
        this.Vf = "FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");
        this.c6()
    };
    m.Mztn.prototype = new m;
    m.Mztn.prototype.U7 = function(w, o) {
        o[0] = this.Vf.indexOf(w.MztT.v.MztT)
    };
    m.Mztn.prototype.Rc = function(w, o) {
        w.MztT.v.MztT = this.Vf[o[0]]
    };
    m["Msc "] = function() {
        m.call(this, "Msc ");
        this.OK = [new cI([12, 61], 2, 200, " px")];
        this.c6()
    };
    m["Msc "].prototype = new m;
    m["Msc "].prototype.U7 = function(w, o) {
        o[0] = w.ClSz.v.val
    };
    m["Msc "].prototype.Rc = function(w, o) {
        w.ClSz.v.val = o[0]
    };
    m.Pntl = function() {
        m.call(this, "Pntl");
        this.OK = [new cI([12, 61], 3, 100, " px")];
        this.c6()
    };
    m.Pntl.prototype = new m;
    m.Pntl.prototype.U7 = function(w, o) {
        o[0] = w.ClSz.v
    };
    m.Pntl.prototype.Rc = function(w, o) {
        w.ClSz.v = o[0]
    };
    m.smartSharpen = function() {
        m.call(this, "smartSharpen");
        this.OK = [new cI([12, 57], 1, 200, "%"), new cI([12, 56], 0, 200, "px", 1, !0)];
        this.c6()
    };
    m.smartSharpen.prototype = new m;
    m.smartSharpen.prototype.U7 = function(w, o) {
        o[0] = w.Amnt.v.val;
        o[1] = w.Rds.v.val
    };
    m.smartSharpen.prototype.Rc = function(w, o) {
        w.Amnt.v.val = o[0];
        w.Rds.v.val = o[1]
    };
    m.UnsM = function() {
        m.call(this, "UnsM");
        this.OK = [new cI([12, 57], 1, 200, " %"), new cI([12, 56], .1, 400, "px", 1, !0), new cI([4, 13], 0, 255, " ")];
        this.c6()
    };
    m.UnsM.prototype = new m;
    m.HghP = function() {
        m.call(this, "HghP");
        this.OK = [new cI([12, 56], .1, 400, "px", 1, !0)];
        this.c6()
    };
    m.HghP.prototype = new m;
    m["Mxm "] = function() {
        m.call(this, "Mxm ");
        this.OK = [new cI([12, 56], 1, 200, " px")];
        this.c6()
    };
    m["Mxm "].prototype = new m;
    m["Mnm "] = function() {
        m.call(this, "Mnm ");
        this.OK = [new cI([12, 56], 1, 200, " px")];
        this.c6()
    };
    m["Mnm "].prototype = new m;
    m.Ofst = function() {
        m.call(this, "Ofst");
        this.OK = [new cI([22, 4, 0], -1024, 1024, " px"), new cI([22, 4, 1], -1024, 1024, " px"), new bQ([24, 18, 0], [
            [24, 18, 2],
            [24, 18, 1],
            [24, 18, 3]
        ])];
        this.c6()
    };
    m.Ofst.prototype = new m;
    m.Rept = function() {
        m.call(this, "Rept");
        this.OK = [new h4([12, 38], 1, 300, " %"), new h4("Row Shift", -50, 50, " %"), new h4("Space X", -99, 200, " %"), new h4("Space Y", -99, 200, " %"), new dS([4, 16, 2]), new iH([12, 15])];
        this.c6()
    };
    m.Rept.prototype = new m;
    m.Rept.prototype.U7 = function(w, o) {
        o[0] = w.Scl.v.val;
        o[1] = w.Rsft.v.val;
        o[2] = w.SpcX.v.val;
        o[3] = w.SpcY.v.val;
        o[4] = w.SpcC.v;
        o[5] = w.Angl.v
    };
    m.Rept.prototype.Rc = function(w, o) {
        w.Scl.v.val = o[0];
        w.Rsft.v.val = o[1];
        w.SpcX.v.val = o[2];
        w.SpcY.v.val = o[3];
        w.SpcC.v = o[4];
        w.Angl.v = o[5].aa;
        return w
    };
    m.Ctoa = function() {
        m.call(this, "Ctoa");
        this.OK = [new bY([13, 0]), new eQ(!0), new cI(["VAR0 VAR1", "Transparency", [4, 13]], 0, 100, " %"), new cI(["VAR0 VAR1", [12, 0],
            [4, 13]
        ], 0, 100, " %")];
        this.c6()
    };
    m.Ctoa.prototype = new m;
    m.Ctoa.prototype.U7 = function(w, o) {
        o[0] = w.Clr.v;
        o[1] = w.Trsp.v.val;
        o[2] = w.Opct.v.val
    };
    m.Ctoa.prototype.Rc = function(w, o) {
        w.Clr.v = o[0];
        w.Trsp.v.val = o[1];
        w.Opct.v.val = o[2]
    };
    m.LqFy = function() {
        m.call(this, "LqFy");
        this.hp = !1;
        this.SH = null;
        this.a1R = null;
        this.f = 0;
        this.VW = {
            f_: [
                [{
                    f: {
                        id: 0,
                        name: [24, 1, 0, 1, 0],
                        dR: "liq/smudge"
                    }
                }],
                [{
                    f: {
                        id: 1,
                        name: [24, 1, 0, 1, 1],
                        dR: "liq/reconstruct"
                    }
                }],
                [{
                    f: {
                        id: 2,
                        name: [24, 1, 0, 1, 2],
                        dR: "liq/smooth"
                    }
                }],
                [{
                    f: {
                        id: 3,
                        name: [24, 1, 0, 1, 3],
                        dR: "liq/twirl"
                    }
                }],
                [{
                    f: {
                        id: 4,
                        name: [24, 1, 0, 1, 4],
                        dR: "liq/shrink"
                    }
                }],
                [{
                    f: {
                        id: 5,
                        name: [24, 1, 0, 1, 5],
                        dR: "liq/blow"
                    }
                }],
                [{
                    f: {
                        id: 6,
                        name: [24, 1, 0, 1, 6],
                        dR: "liq/pleft"
                    }
                }]
            ],
            keys: []
        };
        this.nJ = new am(this.VW, !1);
        this.nJ.W$(0);
        this.nJ.s(_.E.N, this.ab2, this);
        this.M6 = dI.cR();
        this.oj = null;
        this.d_ = [];
        this.zR = -1;
        this.dn = null;
        this.a2d = null;
        this.G1 = null;
        this.HU = null;
        this.gW = null;
        var w = _.B("div", "flexrow");
        this.WK = w;
        this.d.appendChild(w);
        w.appendChild(this.nJ.d);
        this.view = new i4(!0);
        this.view.VJ(100, 100);
        this.view.s("mousedown", this.MM, this);
        this.view.s("mousemove", this.Le, this);
        this.view.s("mouseup", this.Fo, this);
        this.view.s("zoom", this.Oy, this);
        w.appendChild(this.view.d);
        var o = _.B("div", "form");
        w.appendChild(o);
        this.um = o;
        o.style.width = "230px";
        this.kr = [new cI([12, 14, 0], 0, 1e3, null, !1, !0), new cI([12, 74], 0, 100, null, !1, !1), new cI([12, 84], 0, 100, null, !1, !1), new dS([12, 46]), new cI([12, 0], 0, 100, null, !1, !1)];
        var Q = this.M6.Brsh.v;
        Q.Dmtr.v.val = 100;
        var K = [100, 50, 100, !1, 100];
        for (var M = 0; M < this.kr.length; M++) {
            var b = this.kr[M];
            b.G(K[M]);
            b.s(_.E.h, this.anh, this);
            o.appendChild(b.d)
        }
        var R = new dQ("Reset", !0, null, !0);
        R.s("click", this.a0, this);
        o.appendChild(R.d);
        this.Yh = new cv;
        this.Yh.d = _.B("div", "floatcont");
        this.xK = new dQ("Menu", !1, null, !0);
        this.xK.s("click", this.a7E, this);
        var X = this.xK.d;
        X.setAttribute("style", "position:absolute; right:13px; top:47px")
    };
    m.LqFy.prototype = new m;
    m.LqFy.prototype.XJ = function() {
        return !0
    };
    m.LqFy.prototype.dQ = function(w) {
        this.um.appendChild(w)
    };
    m.LqFy.prototype.a7E = function(w) {
        var o = this.xK.d.getBoundingClientRect();
        this.Yh.d.appendChild(this.um);
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.Gj,
            wh: this.Yh,
            x: o.right + o.width - 290,
            y: o.top + o.height
        };
        this.A(Q)
    };
    m.LqFy.prototype.Yq = function(w) {
        this.hp = w.i(E.O4);
        var o = z.bA._1(this.M6, w);
        if (o != null) {
            this.M6 = o;
            this.Oy();
            this.kr[0].G(o.Brsh.v.Dmtr.v.val)
        } else if (w.i(E.HE) && w.i(E.OS)) {
            var Q = this.d_;
            if (w.i(E.lK)) {
                if (this.zR + 1 < Q.length) this.zR++
            } else if (this.zR > 0) this.zR--;
            this.oj.map = Q[this.zR].slice(0);
            this.KM(null)
        } else this.view.Yq(w)
    };
    m.LqFy.prototype.ab2 = function(w) {
        if (w.data.e == _.S.Lz) {
            this.f = w.data.f;
            this.nJ.W$(this.f)
        }
    };
    m.LqFy.prototype.anh = function(w) {
        var o = w.currentTarget,
            M = this.kr.indexOf(o),
            Q = this.M6.Brsh.v;
        if (M == 0) {
            Q.Dmtr.v.val = o.T();
            this.Oy()
        }
        if (M > 2) this.KM(null)
    };
    m.LqFy.prototype.V6 = function() {
        var w = this.d_;
        this.zR++;
        w[this.zR] = this.oj.map.slice(0);
        while (w.length > this.zR + 1) w.pop();
        while (w.length > 50) {
            w = w.slice(1);
            this.zR--
        }
    };
    m.LqFy.prototype.MM = function(w) {
        this.Fc();
        this.SH = this.view.nY();
        this.a1R = new fB(0, 0);
        this.s(_.E.z5, this.gK, this)
    };
    m.LqFy.prototype.Le = function(w) {
        var o = this.view.nY(),
            Q = new fB(o.x - this.SH.x, o.y - this.SH.y);
        if (this.f == 0 || this.f == 6) this.I$(Q);
        this.SH = o
    };
    m.LqFy.prototype.Fo = function(w) {
        this.V6();
        this.Fc()
    };
    m.LqFy.prototype.Fc = function() {
        if (this.jn(_.E.z5, this.gK)) this.removeEventListener(_.E.z5, this.gK, this)
    };
    m.LqFy.prototype.gK = function(w) {
        if (this.f != 0 && this.f != 6) this.I$(new fB(0, 0))
    };
    m.LqFy.prototype.I$ = function(w) {
        var o = this.oj,
            Q = o.i7 / this.dn.D,
            K = this.SH,
            b = this.M6.Brsh.v,
            R = b.Dmtr.v.val,
            X = Date.now(),
            h = o.i7,
            e = o.Y7,
            Z = Math.sqrt(w.x * w.x + w.y * w.y),
            P = Math.max(1, Math.ceil(Z / 2)),
            J = w.x / P,
            i = w.y / P,
            k = K.clone(),
            $ = this.f,
            n = this.kr[1].T() / 100,
            j = this.kr[2].T() / 100,
            y = [.005, .015, 0, 0, .2, .2, .01, .01, .05, .35, .1, .1, .005, .015],
            V = y[$ * 2],
            O = y[$ * 2 + 1],
            S = (1 - n) * V + n * O,
            G = R * Q / 2;
        for (var M = 0; M < P; M++) {
            var D = [];
            k.x += J;
            k.y += i;
            v.DD.a6p(o.map, h, e, $, k.x * Q, k.y * Q, G, n, j, J * Q, i * Q, D, this.hp);
            v.DD.a4s(h, e, o.map, D, 2 * S * j)
        }
        var q = new B(0, 0, h, e),
            T = new B(K.x * Q, K.y * Q, 0, 0);
        T.Nn(R * Q * .5, R * Q * .5);
        var L = T.clone();
        L.offset(w.x * Q, w.y * Q);
        T = T.OX(L);
        var N = new B(T.x / Q, T.y / Q, T.D / Q, T.j / Q);
        N = v.w.ri(N).z2(this.dn);
        this.KM(N)
    };
    m.LqFy.prototype.Oy = function() {
        var w = dR.VV(this.M6, null, this.view.hm().I);
        this.view.AB(w)
    };
    m.LqFy.prototype.G = function(w, o, Q, K, b) {
        Q = Q.clone();
        if (o == null) return;
        if (!K.Lb(Q)) {
            var R = Q.OX(K),
                X = v.$(R.O() * 4);
            v.c1(o, Q, X, R);
            o = X;
            Q = R
        }
        Q.x = Q.y = 0;
        this.G1 = o;
        this.a2d = b;
        this.gW = o.slice(0);
        this.HU = o.slice(0);
        this.dn = Q;
        this.oj = hN.DG(new Uint8Array(w.LqMe.v).buffer);
        var h = Q.D,
            e = Q.j;
        if (this.oj.i7 / h < .22) {
            this.oj = {
                i7: Math.floor(h / 4),
                Y7: Math.floor(e / 4)
            };
            this.oj.map = new Float32Array(this.oj.i7 * this.oj.Y7 * 2)
        }
        this.d_ = [];
        this.zR = -1;
        this.V6();
        this.KM(null);
        this.Oy()
    };
    m.LqFy.prototype.T = function() {
        this.Fc();
        var w = bf._R("LqFy"),
            o = new Uint8Array(hN.l8(this.oj)),
            Q = [];
        for (var M = 0; M < o.length; M++) Q.push(o[M]);
        w.LqMe.v = Q;
        return w
    };
    m.LqFy.prototype.VJ = function(w, o) {
        this.nJ.VJ(w, o);
        var Q = this.xK.d,
            K = this.um;
        this.WK.appendChild(K);
        this.WK.appendChild(Q);
        if (w > 450) {
            K.style.marginLeft = "1em";
            this.WK.removeChild(Q);
            this.view.VJ(w - 238 - 45, o)
        } else {
            K.style.marginLeft = "";
            this.WK.removeChild(K);
            this.view.VJ(w - 40, o)
        }
    };
    m.LqFy.prototype.v = function() {
        this.nJ.v();
        for (var M = 0; M < this.kr.length; M++) this.kr[M].v()
    };
    m.LqFy.prototype.a0 = function() {
        this.Fc();
        this.oj.map.fill(0);
        this.V6();
        this.KM(null)
    };
    m.LqFy.prototype.KM = function(w) {
        var o = this.dn,
            Q = this.G1,
            K = this.gW,
            b = this.oj;
        v.DD.UH(Q, this.HU, o.D, o.j, w, b.map, b.i7, b.Y7, 0);
        if (this.kr[3].m0()) {
            v.c1(this.a2d, o, K, o, w ? w : o);
            v.M.M$("norm", this.HU, o, K, o, w ? w : o, this.kr[4].T() / 100)
        } else v.gb(this.HU, K);
        this.view.G([{
            Ip: o,
            data: K.buffer
        }])
    };
    m.GEfc = function() {
        m.call(this, "GEfc");
        this.$B = 0;
        this.IP = 0;
        this.G1 = null;
        this.gW = null;
        this.dn = null;
        this.AL = null;
        this.Nw = null;
        this.Em = 0;
        var w = _.B("div", "flexrow"),
            o = "/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAgFBgcGBQgHBgcJCAgJDBMMDAsLDBgREg4THBgdHRsYGxofIywlHyEqIRobJjQnKi4vMTIxHiU2OjYwOiwwMTD/2wBDAQgJCQwKDBcMDBcwIBsgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDD/wAARCABpAJYDASIAAhEBAxEB/8QAGwAAAQUBAQAAAAAAAAAAAAAAAQACAwQFBgf/xAA6EAABAwMBBQcCAgoCAwAAAAABAAIDBBEhEgUTMUFRBiIyYXGBkRShM1IHIyRCQ1NyscHwFeFEgpL/xAAbAQACAwEBAQAAAAAAAAAAAAAAAQIDBQQGB//EACgRAAIBAwMDBAMBAQAAAAAAAAABAgMEERIxUQUUIRMiQWEVUnFCof/aAAwDAQACEQMRAD8AtPaWPI426K/TVOuLdPbgjCquLtOoNN7cbKLfktscW5r0b9yMJYiaH00cV2mNpEgsbhUDs+LeGF0Y08Qp4KkuI1HVbzU/1ETZhrIv1SUpRG4QluiKl2NRh7mujDtXC/JR1XZ9rY37kWIy2yvy1kYDNBF+ZClh2gx4LHOCSrVE85B0KTWMHIzGWnAE0QcOGVUlLX5Y23kurqaeJ5IBDuax62ljbfSACOi76VxF7ozK9nLHtfgxzcKzs2gl2hUCOPAHiPRTikc9ty3HVWdmvNDJqbwPFXzqvQ9G5yUrfFRKpsUdrbMl2bOI5CHNd4SOapAEHC6DapjrGh2olwWX9LjBPwnSq6o+7cVxQ0T9mxPsvZr60FznENC0JaHc0b+4H2HIZVPZtRLRS8bsPKyv1FfvQ1kQ7zza3quWrKpr+jvt40vTz8mHUQTQmPeNA3jQ9ovyKv09BJugZGMsRfITtsHXXubG3uxgMb5W/wC7p8FVKANYJthWSqTcE0VU6VONSSbMusgfHKbtsOSr2HRa1T+0TC4x5qzBs9hHeDB6qyNbEVqKJ2jlN6NjBA8kl0RooG4JjSR3CF2UuQwVz44SCRZ2MqN9K2a797byUn0rbWFkm02gHmFnpJbGzqb3RDHROIdu5iLc1N9PLp0Pc0uTGva3U1rHeaDHve4SMiJ08CSpYZXqJY6V7fGLoOjayT9Z3QefBSsqZiMxj5TJnRzOBf4h0KXkeUPhEOoaHaifNKobGHaMB54YUe7jtxePRT79gaMHHMhHlBlMqmSQOEb4z/UAnijc8XvbyUxrG6hZtweaJqLkaRcc88FLVJEdMHuMbRMZmRwUb4YHD9W+xU5kbfvNPymOZATcAgoUn8g4x2SKk1G6Igl1wcqbZlOHVjCeDO8fZTma8RiflvI81HRMMENVJxdpDG3PU5RKo3FpijRSkmiIxyuc6XdAvcS4+anY95aA+mDB1RjdKBgNCOuQ3bI0EciouWSaikSGna7Nh7BQ6n77QIC8dUoqh7G2aNVjgFJ9RMJQ6OO3ul5H7SYwgOtJFoxfKSEu0JZQA8EEdAklmRPEDGFS3XqypRXC5xxWIBPyefhHTUfnPwr8wMZXmDabVBoIBwUxlSWYaSQsjRUHg93wlu6nnIfhGqAd59mx9UQ7U2wPNB9QXkEtb8LIEdR/Md8JwhqLfivRqgJ3i5NgVdha2Oica0kYwsXcTn+K9IU05/jSIzAO+XJtGrJFiB6pv1LgeRHosgUk5/jSfKX0U38+T5RmIu+jybP1hvlosk6rJGG2WY3ZE7oXSGrDbfumTJ9lCKCU/wDkSfKWY8EnfJbm9tPtZBSMYwUkDzpGC03vZU6TtY6a0baSEanWFm2BPqud2vRyzysjbfuN4nJd5q9sLYzpGuMk0YFi0Cxs7HLr9l4SvUrerJRk8ZePJ9z6faWbtYTqwWrCz4+cHS1u0XSRRAxMjfkmwsVT+plPF1gmdodlTNdSvBLS6IBzWXsCP85WX/xdQB4pPuvXWLSt4Z8s+SdcuY0+oVYRWEn4x/DZNS4i10BOQDk3WMNl1B5yfJSOzZmmznPHuuzK4MfvUbW/v4gPlJYooJW/vuST8cB36O4Z2PgaQZKpxHkLJ8vY+B4G4qHNceTshdjG2UaQ+m1Hq5iB1X70DdWQO7ZYKuam+T0n4u1xp0I4o9i5m/xQR1BUjexbiLuqAD0su0hMmnS6ma8DmAVJumvNtw8H7KSuqnJX+ItV/n/pwzuxz220yB/2skOyE3+ld1JStbYkPaP6Smtp7vs17rHmU+5qci/E2v6nFx9jpH/mv7InsZUB1mnHW67n6d4IAfY+fFPMM4d33s9Uu5qcg+k2n6nCs7FzONtTuubKV3YiRrdQcHjmu6jjeG5e0+YCsPZG2IuMhHMm6Xc1ORrpVqtoHAw9ii9pJdG31uq+1+zLNk7Mqa2Z0ZbCy+B7Bd6+njmbcSg+6ydv7JfW7OqoGytfvIy0MObnl90pXFRp4Z0UunWqqR1Q8ZR4fNWbOfWHe7y1we6AR/dbey9tbPpQ2Jr9TOIa4abenFcRtGJ0FdNE9pa5ji0gi1lGxxC807hrdH2OnY05QSy8Hs/Z+XZu3aoUx3je6XMDXA2OLrSq+yskcn6mYOYTgOvcBcf+iOlmqJZ6tztEULdIcep5D2uvR3b6+Kh1j5rbtK03STPnHX7Kgr2UUsvxkxj2XkcQ1srXdcWSl7JzMNmujctR7angyYk9bphFY3LpC4dALldaqz5MF2VHgyT2XquUbT6WSW5G7ejOtp87pKXqz5I9nR/Uu7x976j8p28eSDqKjJAxxSv7X5LMyzVwSCSQcHlLeSfnI9029gfJDnY8UZDA8yyHBeSPVNBfxuhfyR4oyAiXHJz6pa3W4u+Ur4wUuXBGRgLiTa5SLr4vdEfcoemUsiB5DCFgT/2nAc/smgAoyM4f9InYqm2nST7ToGmOuiYXuDRiUAZx1suD7F9jqrb203xVWqmpYBeV4GT0a3lde5yNDmOa7w2IKqbPpKWlEjKVgjvYuAP3yqnQpyzJ7mvQ6xd0KXowfjn5X8BszZNFsqijpKKLdxRjAvknqTzKsmMfmcPdP+cIWzxKtTwsIypNzblJ5bGlh5O+QEi08LM+E/lxQsbYKlrlyQ0oHD9xnyUkslJP1JchoQ69jkWvk2sk02GTbOUAbkcEg2/dN7EceCgSDqsLW4I6sXAJCFgAS4k2HPggNJODc+nNIBxIuNQHl6pF2fdIjIv90CDosTjra10wCHFwdYOFsKvXT1ccV6GnZUSdHyaAPexU5Fm4v7IkAAnhp6mwQBzEu0u1oBtsWmOf5gOP/oKqO1HaCA/tXZ6U5taMOP3APkuwtq02ymSubEG7x4bqIaLm1yeQTz9AciO3NWHhsuwalrjiwc6/xpT6Xty6aYMfseqY1xFiM46m4C608uY5o25EEnkjK4H4MSr2y+Wlk+ljc0ab6yRc+QCytjbUqYJG6oZNLbghxABHycj/ACuskijeDG+KMtdxa4Ahygj2Xs+LUYqCnYTx0xNF/spqcUsYK9LzuGi2jBWgiEm44tc21sqcPa7wuHO/NCFrWC0bGsHRrcf7lHS0AANFr8AFU/osCPzXuD54SJyAEDe/28kC0WJDbmwF0AJz2tJ1vDB1dgJJ2GjryykgQXZGkmw5XRa4AWdm3QIjgE0+NiYgg9zyOESc+Igf3TH8FK3gfRAAJLSDcWNsJWv5EZRd4Gpo8BSATiQNP3RGLtPePmly9k4eI+qYDOJN8u9OCHhALhg8bJ/M+qB5eiQxXIuQbpslnYBIIN8Y/wBCcfA71QPj/wDVAhveFrc0hnAB7vO6P7vuncygZE5lgLarDOSSjwdcWsf7pVH4R9FHD+E30QP4yPbYXdax1XuiXY9E5vAps34h/oP+ECGjS4AtGLelkkJfEkkSP//Z";
        this.WK = w;
        this.d.appendChild(w);
        this.view = new i4;
        this.view.VJ(100, 100);
        w.appendChild(this.view.d);
        var Q = atob(o),
            K = Q.length,
            b = new Uint8Array(K);
        for (var M = 0; M < K; M++) b[M] = Q.charCodeAt(M);
        var R = ip.pR("jpg").p5(b.buffer)[0],
            X = R.Ip;
        this.$A = 270;
        var h = this.amS = _.B("div", "form scrollable");
        w.appendChild(h);
        h.setAttribute("style", "width:" + this.$A + "px;  margin-left:1em");
        var e = Math.floor(_.J() * (this.$A - 40) / 3),
            Z = ~~(e * .7),
            P = new B(0, 0, e, Z),
            J = v.$(e * Z * 4),
            i = J.slice(0),
            k = Math.round(10 * _.J()),
            $ = new ImageData(new Uint8ClampedArray(i.buffer), e, Z);
        v.c1(new Uint8Array(R.data), X, J, new B(Math.round((X.D - e) / 2), Math.round((X.j - Z) / 2), e, Z));
        var n = _.B("canvas"),
            j = n.getContext("2d");
        n.width = e;
        n.height = Z + Math.round(k * 1.5);
        j.font = k + "px sans-serif";
        j.fillStyle = "white";
        this.pP = "";
        this.UM = {};
        var y = this.afk.bind(this);
        for (var M = 0; M < h1.y0.length; M++) {
            var V = h1.y0[M],
                O = _.B("div");
            h.appendChild(O);
            O.setAttribute("style", "background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
            O.textContent = b6.get(V);
            for (var S in h1.names) {
                var G = h1.names[S];
                if (G[0] != M) continue;
                h1.WL(S, {
                    rect: P,
                    buffer: J
                }, h1._R(S), {
                    W: 0,
                    a: 0,
                    k: 0
                }, {
                    W: 255,
                    a: 255,
                    k: 255
                }, {
                    rect: P,
                    buffer: i
                }, {});
                j.clearRect(0, 0, 500, 500);
                j.putImageData($, 0, 0);
                var D = b6.get(G[1]);
                j.fillText(D, (e - j.measureText(D).width) / 2, Z + Math.round(k * 1.2));
                var q = _.B("div");
                h.appendChild(q);
                q.setAttribute("style", "display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
                q.addEventListener("click", y, !1);
                var O = _.B("img");
                q.appendChild(O);
                O.setAttribute("src", n.toDataURL());
                O.setAttribute("style", "width:" + e / _.J() + "px; margin-bottom:0px;");
                this.UM[S] = q
            }
        }
        var T = _.B("div", "form");
        w.appendChild(T);
        T.setAttribute("style", "width:230px;  margin-left:1em");
        this.pp = {};
        for (var S in h1.names) {
            var L = new m.GEfc.X9(S);
            this.pp[S] = L;
            L.s(_.E.h, this.G5, this)
        }
        this.Bc = _.B("div");
        T.appendChild(this.Bc);
        this.Bc.style.marginBottom = "1.5em";
        this.mZ = _.B("div");
        this.mZ.style.height = "14em";
        T.appendChild(this.mZ);
        _.EV(T);
        this.vQ = _.B("div", "lpbody scrollable");
        this.dG = _.B("div", "lpfoot");
        T.appendChild(this.vQ);
        T.appendChild(this.dG);
        this.s("click", this.akK, this);
        this.kM = [];
        dK.Rr([
            [5, 3],
            [5, 4]
        ], this.kM, this.dG, this._B.bind(this))
    };
    m.GEfc.prototype = new m;
    m.GEfc.prototype.XJ = function() {
        return !0
    };
    m.GEfc.prototype.dQ = function(w) {
        this.Bc.appendChild(w)
    };
    m.GEfc.prototype.yy = function(w, o) {
        this.AL = w
    };
    m.GEfc.prototype.VJ = function(w, o) {
        this.$B = w;
        this.IP = o;
        this.amS.style.height = o + "px";
        this.view.VJ(w - 240 - this.$A - 10, o);
        this.vQ.style.height = o - this.mZ.getBoundingClientRect().height - 106 + "px"
    };
    m.GEfc.prototype.afk = function(w) {
        var o;
        for (var Q in this.UM)
            if (this.UM[Q] == w.currentTarget) this.pP = Q;
        this.G5()
    };
    m.GEfc.prototype._B = function(w) {
        var o = dK.ms(this.kM, w),
            Q = this.Nw.GEfs.v,
            K = Q[this.Em].v;
        if (o == 0) {
            Q.push(JSON.parse(JSON.stringify(Q[this.Em])));
            this.Em = Q.length - 1
        } else if (Q.length > 1) {
            Q.splice(this.Em, 1);
            if (this.Em == Q.length) this.Em--
        }
        this.eu();
        this.KM()
    };
    m.GEfc.prototype.G5 = function(w) {
        var o = this.pP,
            Q;
        if (w == null) Q = h1._R(o);
        else Q = this.pp[o].T();
        this.Nw.GEfs.v[this.Em].v = Q;
        this.eu();
        this.KM()
    };
    m.GEfc.prototype.G = function(w, o, Q, K, b) {
        w = this.Nw = JSON.parse(JSON.stringify(w));
        if (w.GEfs == null) w = this.Nw = {
            __name: "Filter Gallery",
            classID: "GEfc",
            GEfs: {
                t: "VlLs",
                v: [{
                    t: "Objc",
                    v: w
                }]
            }
        };
        var R = w.GEfs.v;
        for (var M = 0; M < R.length; M++)
            if (R[M].v.GELv == null) R[M].v.GELv = {
                t: "bool",
                v: !0
            };
        this.Em = R.length - 1;
        this.eu();
        Q = Q.clone();
        if (o == null) return;
        if (!K.Lb(Q)) {
            var X = Q.OX(K),
                h = v.$(X.O() * 4);
            v.c1(o, Q, h, X);
            o = h;
            Q = X
        }
        Q.x = Q.y = 0;
        this.G1 = o;
        this.gW = o.slice(0);
        this.dn = Q;
        this.KM()
    };
    m.GEfc.prototype.akK = function(w) {
        var o = w.data,
            M = o.qX,
            Q = this.Nw.GEfs.v;
        if (o.Nt) {
            Q[M].v.GELv.v = !Q[M].v.GELv.v;
            this.KM()
        } else this.Em = M;
        this.eu()
    };
    m.GEfc.prototype.eu = function() {
        var w = this.Nw.GEfs.v,
            o = w[this.Em].v,
            Q = o.GEfk.v.GEft,
            K = this.mZ;
        if (h1.names[Q] == null) {
            alert("Unsupported gallery filter");
            _.Tk(K)
        } else {
            this.pP = Q;
            for (var b in this.UM) _.Xt(this.UM[b], "selected");
            _.Ka(this.UM[Q], "selected");
            var R = this.pp[Q];
            R.G(o);
            if (K.firstChild != R.d) {
                _.Tk(K);
                K.appendChild(R.d)
            }
        }
        var X = [];
        for (var M = 0; M < w.length; M++) {
            var h = w[M].v,
                e = h1.names[h.GEfk.v.GEft],
                Z = new bv(M, !0, !1, null, e ? e[1] : "Filter", M == this.Em, h.GELv.v);
            Z.parent = this;
            X.push(Z.d)
        }
        _.Tk(this.vQ);
        X.reverse();
        for (var M = 0; M < X.length; M++) this.vQ.appendChild(X[M]);
        this.VJ(this.$B, this.IP)
    };
    m.GEfc.prototype.T = function() {
        return JSON.parse(JSON.stringify(this.Nw))
    };
    m.GEfc.prototype.KM = function(w) {
        var o = this.dn,
            Q = this.G1,
            K = this.gW,
            b = this.pP,
            R = this.Nw,
            X = this.AL;

        function h(e) {
            return {
                W: e >>> 16,
                a: e >>> 8 & 255,
                k: e & 255
            }
        }
        bf.WL("GEfc", {
            rect: this.dn,
            buffer: this.G1
        }, R, h(X.x1), h(X.TT), {
            rect: this.dn,
            buffer: this.gW
        }, null);
        this.view.G([{
            Ip: o,
            data: K.buffer
        }])
    };
    m.GEfc.prototype.v = function() {
        for (var w in this.pp) this.pp[w].v();
        dK.tC(this.kM, ["lrs/newlayer", "lrs/bin"])
    };
    m.GEfc.X9 = function(w) {
        cv.call(this);
        this.xM = w;
        this.d = _.B("div");
        this.ge = {};
        var o = h1._R(w);
        for (var Q in o) {
            var K;
            if (Q == "__name" || Q == "classID" || Q == "GEfk" || Q == "GELv" || ["LghI", "FlRs"].indexOf(Q) != -1) continue;
            else if (Q == "Sz") K = new cI([12, 14, 0], 1, 50);
            else if (Q == "Dtl") K = new cI("Detail", 1, 15);
            else if (Q == "Shrp") K = new cI("Sharpness", 0, 40);
            else if (Q == "BrsT") K = new bQ("Brush type", "Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
            else if (Q == "LghD") K = new bQ("Light", "Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
            else if (Q == "SDir") K = new bQ([12, 33], ["Right Diagonal", "Horizontal", "Left Diagonal", "Vertical"]);
            else if (Q == "EdgW") K = new cI("Edge Width", 1, 14);
            else if (Q == "EdgB") K = new cI("Edge Brightness", 0, 20);
            else if (Q == "Smth") K = new cI([19, 3, 3], 1, 15);
            else if (Q == "ClSz") K = new cI([12, 61], 3, 100);
            else if (Q == "BrdT") K = new cI([7, 9], 1, 20);
            else if (Q == "HghS") K = new cI([12, 64], 0, 20);
            else if (Q == "HlSz") K = new cI([12, 14, 0], 1, 15);
            else if (Q == "Cntr") K = new cI([12, 3, 0], 0, 50);
            else if (Q == "ScrT") K = new bQ([12, 62], ["Circle", "Dot", [10, 35]]);
            else if (Q == "SprR") K = new cI("Spray Radius", 0, 25);
            else if (Q == "StrL") K = new cI("Stroke Length", 0, 20);
            else if (Q == "Drkn") K = new cI("Darkness", 1, 50);
            else console.log(Q);
            K.s(_.E.h, this.ak, this);
            this.ge[Q] = K;
            this.d.appendChild(K.d)
        }
    };
    m.GEfc.X9.prototype = new cv;
    m.GEfc.X9.prototype.ak = function(w) {
        this.A(new Y(_.E.h, !1))
    };
    m.GEfc.X9.prototype.G = function(w) {
        for (var o in this.ge) {
            var Q;
            if ("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL Drkn".split(" ").indexOf(o) != -1) Q = w[o].v;
            else if (o == "BrsT") Q = h1.WJ.indexOf(w[o].v[o]);
            else if (o == "LghD") Q = h1.R9.indexOf(w[o].v[o]);
            else if (o == "ScrT") Q = h1.R8.indexOf(w[o].v[o]);
            else if (o == "SDir") Q = h1.Q6.indexOf(w[o].v.StrD);
            this.ge[o].G(Q)
        }
    };
    m.GEfc.X9.prototype.T = function() {
        var w = h1._R(this.xM);
        for (var o in this.ge) {
            var Q = this.ge[o].T();
            if ("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL Drkn".split(" ").indexOf(o) != -1) w[o].v = Q;
            else if (o == "BrsT") w[o].v[o] = h1.WJ[Q];
            else if (o == "LghD") w[o].v[o] = h1.R9[Q];
            else if (o == "ScrT") w[o].v[o] = h1.R8[Q];
            else if (o == "SDir") w[o].v.StrD = h1.Q6[Q]
        }
        return w
    };
    m.GEfc.X9.prototype.v = function() {
        for (var w in this.ge) this.ge[w].v()
    };
    m.blnc = function() {
        m.call(this);
        var w = this.d;
        this._9 = null;
        this.lg = new bQ([12, 12], [
            [19, 6, 0],
            [19, 6, 1],
            [19, 6, 2]
        ]);
        this.lg.s(_.E.h, this.KM, this);
        w.appendChild(this.lg.d);
        this.QN = [];
        for (var M = 0; M < 3; M++) {
            var o = new cI(au.kl[M], -100, 100);
            o.s(_.E.h, this.$s, this);
            this.QN.push(o);
            w.appendChild(o.d)
        }
        this.Mz = new dS([13, 4]);
        this.Mz.s(_.E.h, this.$s, this);
        w.appendChild(this.Mz.d)
    };
    m.blnc.prototype = new m;
    m.blnc.prototype.v = function() {
        this.lg.v();
        for (var M = 0; M < 3; M++) this.QN[M].v();
        this.Mz.v()
    };
    m.blnc.prototype.G = function(w) {
        this._9 = JSON.parse(JSON.stringify(w));
        this.KM()
    };
    m.blnc.prototype.T = function(w) {
        var o = ["ShdL", "MdtL", "HghL"],
            Q = this._9[o[this.lg.T()]].v;
        for (var M = 0; M < 3; M++) Q[M].v = this.QN[M].T();
        this._9.PrsL.v = this.Mz.T();
        return JSON.parse(JSON.stringify(this._9))
    };
    m.blnc.prototype.KM = function(w) {
        var o = ["ShdL", "MdtL", "HghL"],
            Q = this._9[o[this.lg.T()]].v;
        for (var M = 0; M < 3; M++) this.QN[M].G(Q[M].v);
        this.Mz.G(this._9.PrsL.v)
    };
    m.brit = function() {
        m.call(this, "brit");
        this.OK.push(new cI([12, 2], -150, 150, ""));
        this.OK.push(new cI([12, 3, 0], -100, 100, ""));
        this.OK.push(new dS([12, 3, 1]));
        this.c6()
    };
    m.brit.prototype = new m;
    m.brit.prototype.U7 = function(w, o) {
        o[0] = w.Brgh ? w.Brgh.v : 0;
        o[1] = w.Cntr ? w.Cntr.v : 0;
        o[2] = w.useLegacy ? w.useLegacy.v : !1
    };
    m.brit.prototype.Rc = function(w, o) {
        w.Brgh.v = o[0];
        w.Cntr.v = o[1];
        w.useLegacy.v = o[2]
    };
    m.curv = function() {
        m.call(this);
        this.value = null;
        this.iw = null;
        var w = this.d;
        this.cQ = new bQ([12, 4], ["RGB", [13, 1, 1],
            [13, 1, 4],
            [13, 1, 5]
        ]);
        this.cQ.s(_.E.h, this.GO, this);
        w.appendChild(this.cQ.d);
        this.Oj = new bQ(null, ["Spline", "Sketch"]);
        this.Oj.s(_.E.h, this.abp, this);
        w.appendChild(this.Oj.d);
        this.Ob = new eN;
        this.Ob.s(_.E.h, this.DX, this);
        w.appendChild(this.Ob.d);
        this.H6 = new hC("Sample from image", ["#000000", "#888888", "#ffffff"]);
        w.appendChild(this.H6.d)
    };
    m.curv.prototype = new m;
    m.curv.prototype.v = function() {
        this.cQ.v()
    };
    m.curv.prototype.abp = function(w) {
        var o = fd.ns(this.value, 0),
            Q = o.length == 256 ? 1 : 0,
            K = this.Oj.T();
        if (Q == K) return;
        var b = bf._R("curv");
        if (K == 1) {
            var R = [];
            for (var M = 0; M < 256; M++) R.push(M);
            fd.hU(b, 0, R)
        }
        this.G(b);
        this.$s()
    };
    m.curv.prototype.DX = function() {
        fd.hU(this.value, this.cQ.T(), this.Ob.T());
        this.$s()
    };
    m.curv.prototype.GO = function() {
        var w = this.cQ.T(),
            o = fd.ns(this.value, w),
            Q = o.length == 256 ? 1 : 0;
        this.Oj.G(Q);
        if (this.iw) this.Ob.R6(this.iw[w], this.iw[4] * [1, .33, .33, .33][w], ["#ccc", "#fcc", "#cfc", "#ccf"][w]);
        this.Ob.G(o)
    };
    m.curv.prototype.Ov = function() {
        return !0
    };
    m.curv.prototype.IN = function(w, o, Q, K, b) {
        var R = this.value,
            X = this.H6.T();
        this.value = bf._R("curv");
        this.$s();
        var h = z.Qw.xZ(w, b, 1),
            e = [h >>> 16 & 255, h >>> 8 & 255, h & 255];
        for (var M = 0; M < 3; M++) {
            var Z = fd.ns(R, 1 + M);
            if (X == 0) Z[0].v.Hrzn.v = e[M];
            if (X == 1) {
                var P = (e[0] + e[1] + e[2]) * .333,
                    J = Math.log(e[M] / 255) / Math.log(P / 255),
                    i = Math.min(999, Math.max(10, Math.round(100 * J)));
                if (Z.length == 2) Z.splice(1, 0, JSON.parse(JSON.stringify(Z[0])));
                Z[1].v.Hrzn.v = 127 - Math.log(i / 100) * 127;
                Z[1].v.Vrtc.v = 127
            }
            if (X == 2) Z[Z.length - 1].v.Hrzn.v = e[M];
            fd.hU(R, 1 + M, Z)
        }
        this.G(R);
        this.$s()
    };
    m.curv.prototype.G = function(w) {
        this.value = w;
        this.GO()
    };
    m.curv.prototype.R6 = function(w) {
        this.iw = w;
        this.GO()
    };
    m.curv.prototype.T = function(w) {
        return JSON.parse(JSON.stringify(this.value))
    };
    m.expA = function() {
        m.call(this, "expA");
        this.OK.push(new cI([12, 5], -20, 20, null, 3));
        this.OK.push(new cI([12, 6], -.5, .5, null, 3));
        this.OK.push(new cI([12, 7], .01, 6.99, null, 3));
        this.c6()
    };
    m.expA.prototype = new m;
    m.expA.prototype.U7 = function(w, o) {
        o[0] = w.Exps.v;
        o[1] = w.Ofst.v;
        o[2] = w.gammaCorrection.v
    };
    m.expA.prototype.Rc = function(w, o) {
        w.Exps.v = o[0];
        w.Ofst.v = o[1];
        w.gammaCorrection.v = o[2]
    };
    m.grdm = function() {
        m.call(this, "grdm");
        this.OK.push(new dn(!0, null, !0));
        this.OK.push(new dS([12, 23, 0]));
        this.c6()
    };
    m.grdm.prototype = new m;
    m.grdm.prototype.U7 = function(w, o) {
        o[0] = w.Grad.v;
        o[1] = w.Rvrs ? w.Rvrs.v : !1
    };
    m.grdm.prototype.Rc = function(w, o) {
        w.Grad.v = o[0];
        w.Rvrs = {
            t: "bool",
            v: o[1]
        }
    };
    m.grdm.prototype.yy = function(w, o) {
        this.OK[0].vO(w.x1, w.TT);
        if (o == d5.Dq || o == d5.Ba || o == d5.zM) this.OK[0].J$(w.yH)
    };
    m.selc = function() {
        m.call(this);
        var w = this.d;
        this.nu = [];
        this.gt = null;
        this.lg = new bQ([12, 82], au.hT.concat([
            [13, 1, 8],
            [13, 1, 13],
            [13, 1, 10]
        ]));
        this.lg.s(_.E.h, this.ak, this);
        w.appendChild(this.lg.d);
        for (var M = 0; M < 4; M++) {
            var o = new cI(au.a6l[M], -100, 100, "%");
            o.s(_.E.h, this.ak, this);
            this.nu.push(o);
            w.appendChild(o.d)
        }
        this.JB = new dS([13, 3]);
        w.appendChild(this.JB.d);
        this.JB.s(_.E.h, this.ak, this)
    };
    m.selc.prototype = new m;
    m.selc.prototype.v = function() {
        this.lg.v();
        this.JB.v();
        for (var M = 0; M < 4; M++) this.nu[M].v()
    };
    m.selc.prototype.G = function(w) {
        this.gt = JSON.parse(JSON.stringify(w));
        this.KM()
    };
    m.selc.prototype.T = function(w) {
        return JSON.parse(JSON.stringify(this.gt))
    };
    m.selc.prototype.ak = function(w) {
        if (w.target != this.lg) {
            var o = this.gt,
                Q = [];
            for (var M = 0; M < 4; M++) Q[M] = this.nu[M].T();
            gf.hU(o, this.lg.T(), Q);
            o.Mthd = {
                t: "enum",
                v: {
                    CrcM: this.JB.T() ? "Absl" : "Rltv"
                }
            }
        }
        this.KM();
        this.$s()
    };
    m.selc.prototype.KM = function() {
        var w = this.gt,
            o = gf.ns(w, this.lg.T());
        for (var M = 0; M < 4; M++) this.nu[M].G(o[M]);
        this.JB.G(w.Mthd ? w.Mthd.v.CrcM == "Absl" : !1)
    };
    m.blwh = function() {
        m.call(this, "blwh");
        this.OK.push(new dS([12, 11]));
        this.OK.push(new eQ(!0));
        for (var M = 0; M < 6; M++) this.OK.push(new cI(au.hT[M], -200, 300));
        this.c6()
    };
    m.blwh.prototype = new m;
    m.blwh.prototype.U7 = function(w, o) {
        o[0] = w.useTint.v;
        o[1] = w.tintColor.v;
        var Q = "Rd Yllw Grn Cyn Bl Mgnt".split(" ");
        for (var M = 0; M < 6; M++) o[2 + M] = w[Q[M]].v
    };
    m.blwh.prototype.Rc = function(w, o) {
        w.useTint.v = o[0];
        w.tintColor.v = o[1];
        var Q = "Rd Yllw Grn Cyn Bl Mgnt".split(" ");
        for (var M = 0; M < 6; M++) w[Q[M]].v = o[2 + M]
    };
    m.hue2 = function() {
        m.call(this);
        this.value = null;
        this.m4 = null;
        this.ahT = null;
        var w = this.d;
        this.lg = new bQ([12, 12], ["Master"].concat(au.hT));
        this.lg.s(_.E.h, this.GO, this);
        w.appendChild(this.lg.d);
        this.VU = new cI([12, 8], -180, 180);
        this.VU.s(_.E.h, this.mI, this);
        w.appendChild(this.VU.d);
        this.DM = new cI([12, 9], -100, 100);
        this.DM.s(_.E.h, this.mI, this);
        w.appendChild(this.DM.d);
        this.hQ = new cI([12, 10], -100, 100);
        this.hQ.s(_.E.h, this.mI, this);
        w.appendChild(this.hQ.d);
        this.td = new dS([12, 11]);
        this.td.s(_.E.h, this.a9y, this);
        w.appendChild(this.td.d);
        this.ahS = new bY("...", !0);
        w.appendChild(this.ahS.d)
    };
    m.hue2.prototype = new m;
    m.hue2.prototype.v = function() {
        this.VU.v();
        this.DM.v();
        this.hQ.v();
        this.td.v();
        this.lg.v()
    };
    m.hue2.prototype.a9y = function(w) {
        var o = this.td.T();
        this.value.Clrz.v = o;
        if (o) this.lg.G(0);
        this.GO();
        this.$s()
    };
    m.hue2.prototype.mI = function(w) {
        var o = this.value.Clrz.v,
            Q = this.lg.T(),
            K = e4.ns(this.value, Q),
            b = Q == 0 ? K : K.QN;
        b[0] = this.VU.T();
        var R = this.DM.T();
        b[1] = o ? Math.max(0, R) : R;
        b[2] = this.hQ.T();
        e4.hU(this.value, Q, K);
        this.GO();
        this.$s()
    };
    m.hue2.prototype.GO = function() {
        var w = this.value.Clrz ? this.value.Clrz.v : !1,
            b = "";
        this.td.G(w);
        if (w) this.lg.fz();
        else this.lg.Lh();
        var o = this.lg.T(),
            Q = e4.ns(this.value, o),
            K = o == 0 ? Q : Q.QN;
        this.VU.G(K[0]);
        this.DM.G(K[1]);
        this.hQ.G(K[2]);
        if (!w) {
            b += b6.get([5, 8]) + ": ";
            var o = this.lg.T();
            if (o == 0) b += b6.get([13, 2]);
            else b += Q.oZ
        }
        this.ahS.G(b)
    };
    m.hue2.prototype.Ov = function() {
        return !0
    };
    m.hue2.prototype.Br = function(w, o, Q, K, b) {
        var R = this.value;
        this.value = bf._R("hue2");
        this.$s();
        var X = z.Qw.xZ(w, b, 1),
            h = [X >>> 16 & 255, X >>> 8 & 255, X & 255],
            e = v.Zd(h[0] / 255, h[1] / 255, h[2] / 255);
        this.lg.G(1 + Math.round(e.Y7 * 6) % 6);
        this.G(R);
        this.$s();
        this.m4 = b.x;
        this.ahT = this.DM.T()
    };
    m.hue2.prototype.$z = function(w, o, Q, K, b) {
        if (this.m4 != null) {
            var R = b.x - this.m4;
            R = Math.max(-100, Math.min(100, this.ahT + .5 * R));
            this.DM.G(R);
            this.mI()
        }
    };
    m.hue2.prototype.IN = function(w, o, Q, K, b) {
        this.m4 = null
    };
    m.hue2.prototype.G = function(w) {
        this.value = JSON.parse(JSON.stringify(w));
        this.GO()
    };
    m.hue2.prototype.T = function(w) {
        return JSON.parse(JSON.stringify(this.value))
    };
    m.levl = function() {
        m.call(this);
        this.value = null;
        this.iw = null;
        this.KL = [new fB(0, 0), new fB(0, 0), new fB(0, 0), new fB(0, 0), new fB(0, 0)];
        this.II = -1;
        this.At = this.Pf.bind(this);
        this.NF = this.oL.bind(this);
        var w = this.d;
        this.cQ = new bQ([12, 4], ["RGB", [13, 1, 1],
            [13, 1, 4],
            [13, 1, 5]
        ]);
        this.cQ.s(_.E.h, this.GO, this);
        w.appendChild(this.cQ.d);
        var o = _.B("div", "");
        w.appendChild(o);
        var Q = _.B("div", "");
        w.appendChild(Q);
        this.Wd = _.B("canvas");
        o.appendChild(this.Wd);
        this.Dh = this.Wd.getContext("2d");
        this.Qe = new fB(256, 120);
        this.Wd.setAttribute("style", "display:block");
        _.E5(this.Wd, this.Qe.x, this.Qe.y, this.Dh);
        _.CA(this.Wd);
        _._v(this.Wd, this.Kj.bind(this));
        this.eD = _.B("canvas", "");
        Q.appendChild(this.eD);
        this.Ss = this.eD.getContext("2d");
        this.dB = new fB(this.Qe.x, 40);
        this.eD.setAttribute("style", "display:block");
        _.E5(this.eD, this.dB.x, this.dB.y, this.Ss);
        _.CA(this.eD);
        _._v(this.eD, this.aeQ.bind(this));
        var K = this.a1C = [];
        for (var M = 0; M < 5; M++) {
            var b = new g$(null, null, 3);
            K.push(b);
            b.s(_.E.h, this.agQ, this);
            (M < 2 || M == 4 ? o : Q).appendChild(b.d)
        }
        o.appendChild(K[1].d);
        K[4].d.setAttribute("style", "margin: 0 4.7em");
        K[3].d.setAttribute("style", "margin:0 0 0 13em");
        this.H6 = new hC("Sample from image", ["#000000", "#888888", "#ffffff"]);
        w.appendChild(this.H6.d)
    };
    m.levl.prototype = new m;
    m.levl.prototype.v = function() {
        this.cQ.v()
    };
    m.levl.prototype.agQ = function(w) {
        var o = [];
        for (var M = 0; M < 5; M++) {
            var Q = 255,
                K = 1;
            if (M == 4) {
                Q = 999;
                K = 100
            }
            var b = parseFloat(this.a1C[M].T());
            o[M] = Math.max(0, Math.min(Q, b * K))
        }
        fT.hU(this.value, this.cQ.T(), o);
        this.GO();
        this.$s()
    };
    m.levl.prototype.GO = function(w) {
        var o = this.Qe.x,
            Q = this.Qe.y,
            K = this.cQ.T(),
            b = this.Dh;
        b.clearRect(0, 0, o, Q);
        b.fillStyle = "#cccccc";
        b.fillRect(8, 8, o - 16, Q - 16 - 8);
        if (this.iw) {
            if (K == 0) {
                v.set(this.iw[0], 0);
                var R = JSON.parse(JSON.stringify(this.value));
                fT.hU(R, 0, [0, 255, 0, 255, 100]);
                var X = au.Xw("levl", R),
                    h = [X.Sw, X.eH, X.ae];
                for (var e = 0; e < 3; e++) {
                    var Z = this.iw[1 + e],
                        P = h[e];
                    for (var M = 0; M < 256; M++) this.iw[0][P[M]] += Z[M]
                }
            }
            var J = this.iw[K],
                i = 0;
            for (var M = 0; M < J.length; M++) i += J[M];
            b.fillStyle = "#333333";
            b.beginPath();
            b.moveTo(8, Q - 16);
            for (var M = 0; M < 256; M++) {
                var k = 55 * J[M] / i;
                b.lineTo(8 + M / 256 * (o - 16), Math.max(8, Q - 16 - Q * k))
            }
            b.lineTo(o - 8, Q - 16);
            b.closePath();
            b.fill()
        }
        var $ = fT.ns(this.value, K);
        for (var M = 0; M < 5; M++) this.a1C[M].G($[M] / (M == 4 ? 100 : 1));
        this.KL[0].qQ(8 + $[0] / 255 * (o - 16), Q - 14);
        this.KL[1].qQ(8 + $[1] / 255 * (o - 16), Q - 14);
        var n = Math.log($[4] / 100) / Math.log(9.99);
        n = .5 - n / 2;
        this.KL[4].qQ(this.KL[0].x + n * (this.KL[1].x - this.KL[0].x), Q - 14);
        this.jZ(b, this.KL[0], "#000000");
        this.jZ(b, this.KL[1], "#ffffff");
        this.jZ(b, this.KL[4], "#777777");
        var o = this.dB.x,
            Q = this.dB.y;
        b = this.Ss;
        b.clearRect(0, 0, o, Q);
        var j = b.createLinearGradient(0, 0, o - 16, 0);
        j.addColorStop(0, "black");
        j.addColorStop(1, "white");
        b.fillStyle = j;
        b.fillRect(8, 8, o - 16, 16);
        this.KL[2].qQ(8 + $[2] / 255 * (o - 16), Q - 14);
        this.KL[3].qQ(8 + $[3] / 255 * (o - 16), Q - 14);
        this.jZ(b, this.KL[2], "#000000");
        this.jZ(b, this.KL[3], "#ffffff")
    };
    m.levl.prototype.jZ = function(w, o, Q) {
        w.fillStyle = Q;
        w.fillRect(o.x - 5, o.y, 10, 10)
    };
    m.levl.prototype.Kj = function(w) {
        var o = _.m5(w, this.Wd);
        for (var M = 0; M < 2; M++)
            if (fB.mp(this.KL[M], o) < 10) this.II = M;
        if (fB.mp(this.KL[4], o) < 10) this.II = 4;
        this.su()
    };
    m.levl.prototype.aeQ = function(w) {
        var o = _.m5(w, this.eD);
        for (var M = 2; M < 4; M++)
            if (fB.mp(this.KL[M], o) < 10) this.II = M;
        this.su()
    };
    m.levl.prototype.su = function(w) {
        if (this.II == -1) return;
        _.vt(document.body, this.At);
        _.$y(document.body, this.NF)
    };
    m.levl.prototype.Pf = function(w) {
        var o = fT.ns(this.value, this.cQ.T()),
            Q = _.m5(w, this.II == 2 && this.II == 3 ? this.eD : this.Wd),
            K = 255 * (Q.x - 8) / (this.Qe.x - 16);
        K = Math.max(0, Math.min(255, K));
        if (this.II == 0) K = Math.min(K, o[1] - 2);
        if (this.II == 1) K = Math.max(K, o[0] + 2);
        if (this.II != 4) o[this.II] = Math.round(K);
        else {
            var b = (K - o[0]) / (o[1] - o[0]);
            b = 1 - 2 * b;
            b = Math.pow(9.99, b);
            o[4] = Math.min(999, Math.max(10, Math.round(b * 100)))
        }
        fT.hU(this.value, this.cQ.T(), o);
        this.GO();
        this.$s()
    };
    m.levl.prototype.oL = function(w) {
        _.Vk(document.body, this.At);
        _.p_(document.body, this.NF);
        this.II = -1
    };
    m.levl.prototype.Ov = function() {
        return !0
    };
    m.levl.prototype.IN = function(w, o, Q, K, b) {
        var R = this.value,
            X = this.H6.T();
        this.value = bf._R("levl");
        this.$s();
        var h = z.Qw.xZ(w, b, 1),
            e = [h >>> 16 & 255, h >>> 8 & 255, h & 255];
        for (var M = 0; M < 3; M++) {
            var Z = fT.ns(R, 1 + M);
            if (X == 0) Z[0] = e[M];
            if (X == 1) {
                var P = Math.log(e[M] / 255) / Math.log((e[0] + e[1] + e[2]) * .333 / 255);
                Z[4] = Math.min(999, Math.max(10, Math.round(100 * P)))
            }
            if (X == 2) Z[1] = e[M];
            fT.hU(R, 1 + M, Z)
        }
        this.G(R);
        this.$s()
    };
    m.levl.prototype.G = function(w) {
        this.value = w;
        this.GO()
    };
    m.levl.prototype.R6 = function(w) {
        this.iw = w;
        this.GO()
    };
    m.levl.prototype.T = function(w) {
        return JSON.parse(JSON.stringify(this.value))
    };
    m.phfl = function() {
        m.call(this, "phfl");
        this.OK.push(new eQ);
        this.OK.push(new cI([12, 74], 0, 100, "%"));
        this.OK.push(new dS([13, 4]));
        this.c6()
    };
    m.phfl.prototype = new m;
    m.phfl.prototype.U7 = function(w, o) {
        o[0] = w.Clr.v;
        o[1] = w.Dnst.v;
        o[2] = w.PrsL.v
    };
    m.phfl.prototype.Rc = function(w, o) {
        var Q = v.V.c2(o[0]),
            K = w.Clr.v,
            b = v.TP(Q.W, Q.a, Q.k);
        K.Lmnc.v = b.hc;
        K.A.v = b.K;
        K.B.v = b.k;
        w.Dnst.v = o[1];
        w.PrsL.v = o[2]
    };
    m.vibA = function() {
        m.call(this, "vibA");
        this.OK.push(new cI([12, 13], -100, 100, null));
        this.OK.push(new cI([12, 9], -100, 100, null));
        this.c6()
    };
    m.vibA.prototype = new m;
    m.vibA.prototype.U7 = function(w, o) {
        o[0] = w.vibrance ? w.vibrance.v : 0;
        o[1] = w.Strt ? w.Strt.v : 0
    };
    m.vibA.prototype.Rc = function(w, o) {
        w.vibrance.v = o[0];
        w.Strt.v = o[1]
    };
    m.thrs = function() {
        m.call(this, "thrs");
        this.OK.push(new cI([4, 13], 1, 255, null));
        this.c6()
    };
    m.thrs.prototype = new m;
    m.thrs.prototype.U7 = function(w, o) {
        o[0] = w.Lvl.v
    };
    m.thrs.prototype.Rc = function(w, o) {
        w.Lvl.v = o[0]
    };
    m.mixr = function() {
        m.call(this);
        var w = this.d;
        this.nu = [];
        this.gt = null;
        this.lg = new bQ([12, 4], [
            [13, 1, 1],
            [13, 1, 4],
            [13, 1, 5]
        ]);
        this.lg.s(_.E.h, this.ak, this);
        w.appendChild(this.lg.d);
        _.EV(w);
        this.iq = new dS([12, 60]);
        w.appendChild(this.iq.d);
        this.iq.s(_.E.h, this.ak, this);
        for (var M = 0; M < 4; M++) {
            var o = new cI([
                [13, 1, 1],
                [13, 1, 4],
                [13, 1, 5],
                [13, 2]
            ][M], -200, 200, "%");
            o.s(_.E.h, this.ak, this);
            this.nu.push(o);
            w.appendChild(o.d)
        }
    };
    m.mixr.prototype = new m;
    m.mixr.prototype.v = function() {
        this.lg.v();
        this.iq.v();
        for (var M = 0; M < 4; M++) this.nu[M].v()
    };
    m.mixr.prototype.G = function(w) {
        this.gt = JSON.parse(JSON.stringify(w));
        this.KM()
    };
    m.mixr.prototype.T = function(w) {
        return JSON.parse(JSON.stringify(this.gt))
    };
    m.mixr.prototype.ak = function(w) {
        if (w.target != this.lg) {
            var o = au.dS(this.gt);
            if (w.target == this.iq) {
                o.iq = this.iq.T();
                if (o.iq) o.F = [40, 40, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
                else o.F = [100, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0]
            } else {
                var Q = (o.iq ? 0 : this.lg.T()) * 5,
                    M = this.nu.indexOf(w.target);
                o.F[Q + (M < 3 ? M : 4)] = w.target.T()
            }
            this.gt = au.m1(o)
        }
        this.KM();
        this.$s()
    };
    m.mixr.prototype.KM = function() {
        var w = au.dS(this.gt);
        this.iq.G(w.iq);
        var o = (w.iq ? 0 : this.lg.T()) * 5;
        for (var M = 0; M < 4; M++) this.nu[M].G(w.F[o + (M < 3 ? M : 4)])
    };
    m.post = function() {
        m.call(this, "post");
        this.OK.push(new cI([4, 1], 2, 255, null));
        this.c6()
    };
    m.post.prototype = new m;
    m.post.prototype.U7 = function(w, o) {
        o[0] = w.Lvls.v
    };
    m.post.prototype.Rc = function(w, o) {
        w.Lvls.v = o[0]
    };
    m.clrL = function() {
        m.call(this, "clrL");
        this.OK.push(new bo("LUTs"));
        this.c6()
    };
    m.clrL.prototype = new m;
    m.clrL.prototype.U7 = function(w, o) {
        o[0] = w
    };
    m.clrL.prototype.Rc = function(w, o) {
        var Q = o[0];
        for (var K in Q) w[K] = Q[K]
    };
    m.clrL.prototype.yy = function(w, o) {
        if (o == d5.Dq || o == d5._G) this.OK[0].J$(w.aaB)
    };
    m.rplc = function() {
        m.call(this, "rplc");
        this.OK.push(new cI([12, 92], 0, 200));
        this.OK.push(new eQ);
        this.OK.push(new cI([12, 8], -180, 180));
        this.OK.push(new cI([12, 9], -100, 100));
        this.OK.push(new cI([12, 10], -100, 100));
        this.c6()
    };
    m.rplc.prototype = new m;
    m.rplc.prototype.U7 = function(w, o) {
        o[0] = w.Fzns.v;
        o[1] = w.Mxm.v;
        o[2] = w.H.v;
        o[3] = w.Strt.v;
        o[4] = w.Lght.v
    };
    m.rplc.prototype.Rc = function(w, o) {
        function Q(b, R) {
            R.Lmnc.v = b.hc;
            R.A.v = b.K;
            R.B.v = b.k
        }
        w.Fzns.v = o[0];
        w.H.v = o[2];
        w.Strt.v = o[3];
        w.Lght.v = o[4];
        var K = v.V.c2(o[1]),
            b = v.TP(K.W, K.a, K.k);
        Q(b, w.Mnm.v);
        Q(b, w.Mxm.v)
    };
    m.fade = function() {
        m.call(this, "fade");
        this.OK.push(new cI([12, 0], 0, 100, "%"));
        this.OK.push(new bQ([12, 19, 0], hL.gS, !1, hL.fb));
        this.c6()
    };
    m.fade.prototype = new m;
    m.fade.prototype.U7 = function(w, o) {
        o[0] = w.Opct.v.val;
        o[1] = hL.ja.indexOf(w.Md.v.BlnM)
    };
    m.fade.prototype.Rc = function(w, o) {
        w.Opct.v.val = o[0];
        w.Md.v.BlnM = hL.ja[o[1]]
    };
    m.aply = function() {
        m.call(this, "aply");
        this.OK.push(new bQ([0, 3], []));
        this.OK.push(new bQ([12, 4], ["RGB"].concat(au.kl).concat(["Transparency"])));
        this.OK.push(new dS([4, 11]));
        this.OK.push(new bQ([12, 19, 0], hL.gS, !1, hL.fb));
        this.OK.push(new cI([12, 0], 0, 100, "%"));
        this.OK.push(new dS("Preserve Transparency"));
        this.c6([2]);
        this.w7 = null
    };
    m.aply.prototype = new m;
    m.aply.prototype.U7 = function(w, o, Q) {
        if (Q) {
            var K = Q[2].t,
                b = this.w7 = [];
            for (var M = 0; M < K.length; M++) b.push(K[M].getName());
            b.reverse();
            this.OK[0].dU([
                [5, 7]
            ].concat(b), [1, b.length])
        } else var b = this.w7;
        w = w.With.v;
        var R = w.T.v;
        o[0] = R[1].t == "name" ? 1 + b.indexOf(R[1].v.val) : 0;
        o[1] = ["RGB", "Rd", "Grn", "Bl", "Trsp"].indexOf(R[0].v.enum);
        o[2] = w.Invr.v;
        o[3] = hL.ja.indexOf(w.Clcl.v.Clcn);
        o[4] = w.Opct.v.val;
        o[5] = w.PrsT.v
    };
    m.aply.prototype.Rc = function(w, o) {
        w = w.With.v;
        var Q = w.T.v;
        if (o[0] == 0) Q[1] = {
            t: "Enmr",
            v: {
                classID: "Lyr",
                typeID: "Ordn",
                enum: "Mrgd"
            }
        };
        else Q[1] = {
            t: "name",
            v: {
                classID: "Lyr",
                val: this.w7[this.w7.length - 1 - o[0]]
            }
        };
        Q[0].v.enum = ["RGB", "Rd", "Grn", "Bl", "Trsp"][o[1]];
        w.Invr.v = o[2];
        w.Clcl.v.Clcn = hL.ja[o[3]];
        w.Opct.v.val = o[4];
        w.PrsT.v = o[5]
    };

    function gz(w, o) {
        cv.call(this);
        if (w == null) return;
        this.id = o;
        this.Pk = w;
        this.BN = null;
        this.d = _.B("div", "window " + o);
        this.aho = null;
        this.fZ = _.B("div", "whead");
        this.a02 = _.B("span", "wname");
        this.fZ.appendChild(this.a02);
        this.d.appendChild(this.fZ);
        this.Rd = this.aaQ.bind(this);
        this.eV = this.a5x.bind(this);
        this.li = this.a2u.bind(this);
        _.CA(this.fZ);
        _._v(this.fZ, this.Rd);
        this.Zl = _.B("span", "cross");
        this.fZ.appendChild(this.Zl);
        gz.prototype.v.call(this);
        _.$y(this.Zl, this.cH.bind(this));
        this.body = _.B("div", "body");
        this.d.appendChild(this.body)
    }
    gz.prototype = new cv;
    gz.prototype.AO = function() {
        return !1
    };
    gz.prototype.Ov = function() {
        return !1
    };
    gz.prototype.v = function() {
        if (this.Pk == null) return;
        this.a02.textContent = b6.get(this.Pk);
        var w = PIMG.__cross == null ? "filter:invert(1);" : "";
        this.Zl.setAttribute("style", "background-image:url(" + PIMG.cross + ");" + w)
    };
    gz.prototype.Br = function(w, o, Q, K, b) {};
    gz.prototype.iM = function(w, o, Q, K, b) {};
    gz.prototype.$z = function(w, o, Q, K, b) {};
    gz.prototype.IN = function(w, o, Q, K, b) {};
    gz.prototype.ml = function(w, o, Q, K, b) {};
    gz.prototype.Yq = function(w, o, Q, K) {
        if (K.i(E.$g) && this.XI) this.XI()
    };
    gz.prototype.jy = function(w) {
        return !1
    };
    gz.prototype.Za = function(w, o) {
        return !0
    };
    gz.prototype.MV = function(w, o, Q, K) {};
    gz.prototype.yy = function(w, o) {};
    gz.prototype.DZ = function(w, o) {
        return null
    };
    gz.prototype.a6L = function(w) {
        return this.aho
    };
    gz.prototype.VJ = function() {};
    gz.prototype.close = function() {
        this.A(new Y(_.E.PD))
    };
    gz.prototype.aaQ = function(w) {
        this.BN = _.m5(w, this.d);
        _.vt(window, this.eV);
        _.$y(window, this.li)
    };
    gz.prototype.a5x = function(w) {
        var o = this.d.parentNode,
            Q = _.m5(w, o),
            K = Math.round(Q.x - this.BN.x),
            b = o.offsetTop + Math.max(0, Math.min(window.innerHeight - 36, Math.round(Q.y - this.BN.y)));
        this.aho = new fB(K, b);
        this.d.style.left = K + "px";
        this.d.style.top = b + "px"
    };
    gz.prototype.a2u = function(w) {
        _.Vk(window, this.eV);
        _.p_(window, this.li)
    };
    gz.prototype.cH = function(w) {
        this.A(new Y("closebtn"));
        this.close()
    };

    function eG() {
        gz.call(this, [0, 13, 0], "account");
        this.nH = _.B("div", "form padded scrollable");
        this.nH.setAttribute("style", "max-width:48em;  max-height:33em;");
        this.body.appendChild(this.nH);
        this.XC = [new eG.bD, new eG.xF(eG.ach), new eG.xF(eG.alE)];
        for (var M = 0; M < this.XC.length; M++) this.XC[M].parent = this;
        this.s("showpage", this.an3, this)
    }
    eG.prototype = new gz;
    eG.prototype.an3 = function(w) {
        _.Tk(this.nH);
        this.nH.scrollTop = 0;
        this.nH.appendChild(this.XC[w.data.qX].d)
    };
    eG.prototype.v = function() {
        gz.prototype.v.call(this);
        for (var M = 0; M < this.XC.length; M++) this.XC[M].v()
    };
    eG.prototype.MV = function(w, o, Q) {
        _.Tk(this.nH);
        var K = this.XC[0];
        this.nH.appendChild(K.d);
        K.MV();
        this.v()
    };
    eG.prototype.yy = function(w, o) {
        this.MV(null, null, null)
    };
    eG.bD = function() {
        cv.call(this);
        this.d = _.B("div");
        var w = this.d,
            o, Q, K = "background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
        this.Vu = _.B("div");
        w.appendChild(this.Vu);
        this.iQ = new dQ([0, 11], !1, null, !0);
        this.iQ.d.setAttribute("style", "background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
        this.iQ.s("click", this.gc, this);
        w.appendChild(this.iQ.d);
        this.dD = new dQ([0, 13, 1], !1, null, !0);
        this.dD.s("click", this.e2, this);
        w.appendChild(this.dD.d);
        this.ake = new dQ("Contact", !1, null, !0);
        this.ake.s("click", this.a1D, this);
        o = _.B("h2", "");
        o.innerHTML = "Account types";
        w.appendChild(o);
        Q = _.B("table", "");
        Q.innerHTML = "\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
        w.appendChild(Q);
        var b = this.a5Y = [
            [9, 30, 1],
            [10, 90, 1],
            [40, 365, 1],
            [15, 30, 5],
            [30, 90, 5],
            [120, 365, 5],
            [50, 30, 20],
            [100, 90, 20],
            [400, 365, 20],
            [40, 30, 1e3],
            [80, 90, 1e3],
            [300, 365, 1e3],
            [100, 30, 5e3],
            [200, 90, 5e3],
            [700, 365, 5e3],
            [200, 30, 2e4],
            [400, 90, 2e4],
            [1400, 365, 2e4]
        ];
        this.uZ = [];
        for (var M = 0; M < b.length; M++) this.uZ.push(new dQ("Buy: $" + b[M][0], !1, null, !0));
        for (var M = 0; M < this.uZ.length; M++) {
            this.uZ[M].d.setAttribute("style", K);
            this.uZ[M].s("click", this.a3S, this)
        }
        o = _.B("h2", "");
        o.innerHTML = "Go Premium";
        w.appendChild(o);
        this.Ds = new dQ("...", !0);
        this.Ds.d.setAttribute("style", K);
        w.appendChild(this.Ds.d);
        Q = this.jz(3, ["Single user", this.uZ[0], this.uZ[1], this.uZ[2], "Team of 5", this.uZ[3], this.uZ[4], this.uZ[5], "Team of 20", this.uZ[6], this.uZ[7], this.uZ[8]]);
        w.appendChild(Q);
        this.a4o = new dS("I accept", !0, "");
        w.appendChild(this.a4o.d);
        this.Q1 = new dQ([0, 13, 1], !1, null, !0);
        this.Q1.s("click", this.e2, this);
        w.appendChild(this.Q1.d);
        o = _.B("h2", "");
        o.textContent = "Team Settings";
        w.appendChild(o);
        this.uW = new dS("Join a team");
        w.appendChild(this.uW.d);
        this.uW.s(_.E.h, this.UJ, this);
        this.ed = new g$("Email of a leader", null, 14);
        w.appendChild(this.ed.d);
        _.EV(w);
        this.j$ = new dS("Start a team");
        w.appendChild(this.j$.d);
        this.j$.s(_.E.h, this.UJ, this);
        var R = new bY("Emails of other members:");
        w.appendChild(R.d);
        _.EV(w);
        this.Fg = _.B("textarea");
        this.Fg.setAttribute("rows", 3);
        this.Fg.setAttribute("cols", 70);
        this.Fg.setAttribute("style", "display:block;tab-size:4;");
        w.appendChild(this.Fg);
        var X = new dQ("Save Team Settings", !1, null, !0);
        w.appendChild(X.d);
        X.s("click", this.a9t, this);
        var h = this.aic = new dQ("More about Teams", !1, null, !0);
        w.appendChild(h.d);
        h.s("click", this.t_, this);
        o = _.B("h2", "");
        o.innerHTML = "Distributor Account";
        w.appendChild(o);
        this.Pt = new dQ("...", !0);
        this.Pt.d.setAttribute("style", K);
        w.appendChild(this.Pt.d);
        Q = this.jz(3, ["1000 views/month", this.uZ[9], this.uZ[10], this.uZ[11], "5000 views/month", this.uZ[12], this.uZ[13], this.uZ[14], "20000 views/month", this.uZ[15], this.uZ[16], this.uZ[17]]);
        w.appendChild(Q);
        this.vA = new g$("Domain name (e.g. domain.com)", null, 14);
        w.appendChild(this.vA.d);
        _.EV(w);
        var X = new dQ("Save Domain Settings", !1, null, !0);
        X.En();
        w.appendChild(X.d);
        X.s("click", this.alF, this);
        var h = new dQ("More about Distributors", !1, null, !0);
        w.appendChild(h.d);
        h.s("click", this.t_, this)
    };
    eG.bD.prototype = new cv;
    eG.bD.prototype.e2 = function(w) {
        var o = new Y("showpage", !0);
        o.data = {
            qX: 1
        };
        this.A(o)
    };
    eG.bD.prototype.a1D = function(w) {
        var o = new Y("showpage", !0);
        o.data = {
            qX: 2
        };
        this.A(o)
    };
    eG.bD.prototype.v = function() {
        this.iQ.vg(hi.cW() ? b6.get([0, 11]) : b6.get([0, 10]));
        this.Q1.v();
        this.dD.v();
        this.ake.v()
    };
    eG.bD.prototype.t_ = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.uq,
            link: "https://www.photopea.com/api/accounts#" + (w.target == this.aic ? "teams" : "distributors")
        };
        this.A(o)
    };
    eG.bD.prototype.UJ = function(w) {
        var o = w.currentTarget == this.uW;
        this.uW.G(o);
        this.j$.G(!o)
    };
    eG.bD.prototype.a9t = function(w) {
        var o = this.uW.T(),
            Q = this.ed.T().trim(),
            K = this.Fg.value.trim();
        if (Q.length > 60) {
            alert("Too long email address");
            return
        }
        if (K.length > 600) {
            alert("Too many team members");
            return
        }
        K = K.split(",").join(" ").trim();
        K = K.replace(/\s+/g, " ");
        if (K == "") K = [];
        else K = K.split(" ");
        var b = hi.QI();
        if (b == null) b = {};
        if (b.acc == null) b.acc = {};
        b.acc.team = {
            jin: o,
            ldr: Q,
            mmb: K
        };
        hi.fK(b, this.E4.bind(this));
        alert("Saved!");
        this.MV()
    };
    eG.bD.prototype.alF = function(w) {
        var o = this.vA.T().trim();
        if (!hi.cW()) {
            alert("You have to log in first.");
            return
        }
        if (hi.wu().distrib == "0") {
            alert("Order a distributor account first.");
            return
        }
        var Q = hi.QI();
        if (Q == null) Q = {};
        if (Q.acc == null) Q.acc = {};
        if (o == "") delete Q.acc.dname;
        else Q.acc.dname = o;
        hi.fK(Q, this.E4.bind(this));
        alert("Saved!");
        this.MV()
    };
    eG.bD.prototype.MV = function() {
        if (hi.cW()) {
            var w = hi.wu();
            if (w == null) return;
            this.Vu.innerHTML = "<span style=\"font-size:1.5em; margin-right:0.7em;\">" + w.name + "</span> " + w.email + " <br/>"
        } else this.Vu.innerHTML = "Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
        var o = hi.cW() && hi.t5();
        this.Ds.d.style.display = o ? "block" : "none";
        if (o) {
            var Q = parseInt(w[_.LY("!&|'&50")]) - Date.now() * (1 / 1e3),
                K = parseInt(w.ptype),
                b;
            if (K == -1) b = "member of a team";
            else if (K == 1) b = "Single user";
            else b = "Team of " + K;
            this.Ds.vg("Premium active for " + Math.round(Q / (60 * 60 * 24)) + " more days! (" + b + ")")
        }
        var R = hi.cW() && w.distrib * 1e3 > Date.now();
        this.Pt.d.style.display = R ? "block" : "none";
        if (R) {
            var Q = parseInt(w.distrib) - Date.now() / 1e3,
                K = parseInt(w.ptype);
            this.Pt.vg("Distributor active for " + Math.round(Q / (60 * 60 * 24)) + " more days! (" + K + " visitos)")
        }
        var X = hi.QI();
        if (X && X.acc && X.acc.team) {
            var h = X.acc.team;
            this.uW.G(h.jin);
            this.j$.G(!h.jin);
            this.ed.G(h.ldr);
            this.Fg.value = h.mmb.join(", ")
        } else {
            this.uW.G(!0);
            this.j$.G(!1);
            this.ed.G("");
            this.Fg.value = ""
        }
        if (X && X.acc && X.acc.dname) this.vA.G(X.acc.dname);
        else this.vA.G("")
    };
    eG.bD.prototype.jz = function(w, o) {
        var Q = _.B("table");
        Q.innerHTML = "\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> " + (w == 3 ? "<th>365 days</th>" : "") + " </tr>\t\t\t\t</table>\t\t\t";
        for (var M = 0; M < o.length; M += w + 1) {
            var K = _.B("tr"),
                b;
            Q.appendChild(K);
            b = _.B("td", "left");
            K.appendChild(b);
            b.innerHTML = "<b>" + o[M] + "</b>";
            for (var R = 0; R < w; R++) {
                b = _.B("td");
                K.appendChild(b);
                b.appendChild(o[M + 1 + R].d)
            }
        }
        return Q
    };
    eG.bD.prototype.a3S = function(w) {
        var o = this.uZ.indexOf(w.currentTarget);
        if (!hi.cW()) {
            alert("You must log in before buying Premium");
            return
        }
        if (this.a4o.T() == !1 && o < 9) {
            alert("You must accept Terms of Service");
            return
        }
        var Q = this.a5Y[o],
            K = Q[1],
            b = Q[2],
            R = hi.cW() && hi.t5();
        if (R && b < 1e3) {
            alert("You already have premium.");
            return
        }
        if (K == 30 && b == 1) {
            var X = 1;
            if (!X) return
        }
        hi.order(K, b, this.E4.bind(this));
        this.e5()
    };
    eG.bD.prototype.E4 = function(w) {
        if (hi.cW() && hi.wu().msg) alert(hi.wu().msg);
        this.MV();
        this.e5()
    };
    eG.bD.prototype.gc = function(w) {
        if (hi.cW()) {
            hi.akv();
            this.e5();
            this.MV(null, null, null)
        } else hi.gc(this.a4b.bind(this))
    };
    eG.bD.prototype.a4b = function() {
        var w = new Y(_.E.N, !0);
        w.data = {
            e: _.S.a3J
        };
        this.A(w)
    };
    eG.bD.prototype.e5 = function() {
        var w = new Y(_.E.N, !0);
        w.data = {
            e: _.S.ra
        };
        this.A(w)
    };
    eG.xF = function(w) {
        cv.call(this);
        this.d = _.B("div");
        var o = this.d,
            Q = this.aec = new dQ([0, 13, 2], !1, null, !0);
        Q.s("click", this.a0Q, this);
        o.appendChild(Q.d);
        var K = _.B("div", "");
        K.innerHTML = w;
        o.appendChild(K)
    };
    eG.xF.prototype = new cv;
    eG.xF.prototype.a0Q = function(w) {
        var o = new Y("showpage", !0);
        o.data = {
            qX: 0
        };
        this.A(o)
    };
    eG.xF.prototype.v = function() {
        this.aec.v()
    };
    eG.alE = "\t\t<h1>Contact</h1>\t\t<p>Photopea.com is a service operated by Ivan Kuckir (I\u010C 04498411).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com</li>\t\t\t<li><b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<p>You can ask for a refund by writing us an email.</p>\t\t<p>You can pay with PayPal or your credit / debit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t";
    eG.ach = "\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";

    function hc() {
        gz.call(this, [11, 14], "addguides");
        this.V$;
        this.AL = {
            w1: {
                D5: 0
            }
        };
        this._q = null;
        var w = _.B("div", "form");
        this.body.appendChild(w);
        this.YH = new g$([22, 4, 0], null, 16);
        this.YH.s(_.E.h, this.y9, this);
        this.ee = new g$([22, 4, 1], null, 16);
        this.ee.s(_.E.h, this.y9, this);
        this.QY = new bQ(null, v.JU.j0);
        this.QY.s(_.E.h, this.y9, this);
        w.appendChild(this.YH.d);
        w.appendChild(this.QY.d);
        _.EV(w);
        w.appendChild(this.ee.d);
        this.Dj = new dQ("OK", !0, null, !0);
        this.Dj.s("click", this.XI, this);
        w.appendChild(this.Dj.d);
        this.s("closebtn", this.afY, this)
    }
    hc.prototype = new gz;
    hc.prototype.Za = function(w, o) {
        return w != null
    };
    hc.prototype.AO = function() {
        return !0
    };
    hc.prototype.v = function() {
        gz.prototype.v.call(this);
        this.YH.v();
        this.ee.v();
        this.QY.v()
    };
    hc.prototype.yy = function(w, o) {
        var Q = w.w1.D5;
        this.AL.w1.D5 = Q;
        this.QY.G(Q)
    };
    hc.prototype.MV = function(w, o) {
        this.V$ = w;
        this._q = JSON.stringify(w.TH);
        this._j()
    };
    hc.prototype._j = function() {
        var w = this.V$,
            o = w.TH,
            Q = function(K, w, b, R) {
                var X = [];
                for (var M = 0; M < K.length; M++) X.push(v.JU.IH(K[M], w.cK, b, R));
                return X.join(", ")
            };
        this.YH.G(Q(o[1], w, this.AL, w.j));
        this.ee.G(Q(o[0], w, this.AL, w.D))
    };
    hc.prototype.y9 = function(w) {
        if (w && w.currentTarget == this.QY) this.AL.w1.D5 = this.QY.T();
        else {
            var o = this.vJ(this.YH),
                Q = this.vJ(this.ee),
                K = this.V$;
            K.TH = [Q, o];
            K.n9 = !0
        }
        this._j()
    };
    hc.prototype.vJ = function(w) {
        var o = w == this.YH ? this.V$.j : this.V$.D,
            Q = w.T().replace(/,/g, " ").replace(/  +/g, " ").trim(),
            K = Q == "" ? [] : Q.split(" ");
        for (var M = 0; M < K.length; M++) K[M] = v.JU.ado(K[M], this.V$.cK, this.AL, o);
        return K
    };
    hc.prototype.afY = function(w) {
        var o = this.V$;
        o.TH = JSON.parse(this._q);
        o.n9 = !0;
        this.V$ = null
    };
    hc.prototype.XI = function(w) {
        this.y9(w);
        var o = new Y(_.E.z, !0);
        o.f = z.sk;
        o.data = {
            e: "gids",
            ib: JSON.parse(this._q),
            sV: JSON.parse(JSON.stringify(this.V$.TH))
        };
        this.V$ = null;
        this.close();
        this.A(o)
    };

    function i9(w) {
        var o = bf.names[w];
        if (o == null) o = au.names[w];
        if (w == "aply") o = "Apply Image";
        if (w == "fade") o = [2, 11];
        if (w == "blendOptions") o = [14, 10];
        gz.call(this, o, "afw_" + w);
        this.AP = w;
        this.Xo = null;
        this.u3 = null;
        this.Ob = new m[w];
        this.Ob.s(_.E.h, this.$s, this);
        this.Ob.parent = this;
        this.body.appendChild(this.Ob.d);
        this.UN = new dS([24, 18, 5]);
        this.UN.G(!0);
        this.UN.s(_.E.h, this.$s, this);
        this.ajs = new dQ("Reset", !0, null, !0);
        this.ajs.s("click", this.a0, this);
        this.Dj = new dQ("OK", !0, null, !0);
        this.Dj.s("click", this.XI, this);
        if (this.x4()) this.Ob.dQ(this.Dj.d);
        else {
            _.Ka(this.Ob.d, "form");
            _.Ka(this.body, "flexrow");
            this.Ob.d.setAttribute("style", "width:24em");
            var Q = _.B("div");
            this.body.appendChild(Q);
            Q.setAttribute("style", "width:8em; margin-left:1em; line-height:2.3em");
            Q.appendChild(this.Dj.d);
            Q.appendChild(this.ajs.d);
            Q.appendChild(this.UN.d)
        }
        this.s("closebtn", this.YP, this)
    }
    i9.prototype = new gz;
    i9.prototype.AO = function() {
        return !0
    };
    i9.prototype.x4 = function() {
        return this.Ob != null && this.Ob.XJ()
    };
    i9.prototype.DZ = function() {
        return this.x4() ? new fB(0, 0) : gz.prototype.DZ()
    };
    i9.prototype.Ov = function() {
        return this.Ob.Ov()
    };
    i9.prototype.Br = function(w, o, Q, K, b) {
        this.Ob.Br(w, o, Q, K, b)
    };
    i9.prototype.$z = function(w, o, Q, K, b) {
        this.Ob.$z(w, o, Q, K, b)
    };
    i9.prototype.IN = function(w, o, Q, K, b) {
        this.Ob.IN(w, o, Q, K, b)
    };
    i9.prototype.Za = function(w, o) {
        if (this.AP == "fade") return i9.vo(w);
        return !0
    };
    i9.prototype.a0 = function(w) {
        this.Ob.G(bf._R(this.AP));
        this.$s()
    };
    i9.prototype.$s = function(w) {
        this.nV({
            e: "edit",
            O_: this.Ob.T(),
            hd: !this.UN.T()
        })
    };
    i9.prototype.YP = function(w) {
        this.nV({
            e: "cancel"
        })
    };
    i9.prototype.XI = function(w) {
        if (!this.UN.T()) {
            this.UN.G(!0);
            this.$s()
        }
        this.u3 = this.Ob.T();
        if (this.x4()) this.$s();
        this.nV({
            e: "confirm"
        });
        this.close()
    };
    i9.prototype.v = function() {
        gz.prototype.v.call(this);
        this.UN.v();
        if (this.Ob) this.Ob.v()
    };
    i9.prototype.yy = function(w, o) {
        if (this.Ob) this.Ob.yy(w, o)
    };
    i9.prototype.Yq = function(w, o, Q, K) {
        if (this.x4()) this.Ob.Yq(K);
        else gz.prototype.Yq.call(this, w, o, Q, K)
    };
    i9.prototype.MV = function(w, o, Q, K) {
        this.Xo = o.Xo;
        var b = w.add.lnk2 ? w.add.lnk2 : [],
            R, X, h = new B(0, 0, w.D, w.j),
            e = w.t[w.u[0]],
            Z = null;
        R = e.buffer;
        X = e.rect;
        if (this.x4()) Z = w.X_(w.u[0] - 1);
        var P = bf._R(this.AP),
            J = [b, w.SF, w];
        if (o.Xo == null) {
            this.Ob.G(P, R, X, h, Z, J);
            if (au.names[this.AP]) {
                if (K.i(E.O4) && this.u3) this.Ob.G(this.u3);
                var i = cr.Xp.getData(w),
                    k = v.UF(i[0].Hb);
                this.Ob.R6(k)
            }
        } else {
            var $ = !1,
                e = w.t[this.Xo.p];
            if (e.iD()) {
                var n = e.Ca(w);
                R = n.buffer;
                X = n.rect;
                var j = e.add.SoLd.filterFX.v.filterFXList.v;
                if (j[this.Xo.index]) {
                    var y = j[this.Xo.index].v,
                        V = y.Fltr.v;
                    this.Ob.G(this.AP == "blendOptions" ? y.blendOptions.v : V, R, X, h, Z, J);
                    this.Ob.R6(v.UF(R));
                    $ = !0
                }
            }
            if (!$) {
                this.Ob.G(P, R, X, h, Z, J);
                this.Ob.R6(v.UF(R))
            }
        }
        if (!this.x4()) this.$s()
    };
    i9.prototype.nV = function(w) {
        var o = new Y(_.E.z, !0);
        w.AP = this.AP;
        w.Xo = this.Xo;
        o.data = w;
        o.f = bf.names[this.AP] || this.Xo ? z.uB : z.U1;
        o.QZ = !0;
        this.A(o)
    };
    i9.prototype.VJ = function(w, o) {
        o = o - 26;
        w = w - 26;
        this.Ob.VJ(w, o)
    };
    i9.vo = function(w) {
        if (w == null) return !1;
        var o = w.Z6();
        if (o == null || !(o.data instanceof Array) || o.data.length != w.u.length) return !1;
        for (var M = 0; M < o.data.length; M++) {
            var Q = o.data[M];
            if (Q.p < 0 && w.SF[-1 - Q.p]) return !0;
            if (Q.p == null || w.t[Q.p] == null || w.t[Q.p].lY != Q.Bu) return !1;
            if (w.u.indexOf(Q.p) == -1) return !1
        }
        return !0
    };

    function hW() {
        gz.call(this, [11, 0], "camera");
        this.data = null;
        this.Ug = new fB(1, 1);
        this.ah$ = [];
        var w = _.B("div", "form hbar");
        this.body.appendChild(w);
        this.a7S = new bQ(null, []);
        this.Mt = new bQ([21, 0], [
            [21, 2],
            [21, 1]
        ]);
        w.appendChild(this.Mt.d);
        this.Qh = new bQ(null, []);
        this.Qh.s(_.E.h, this.Gl, this);
        w.appendChild(this.Qh.d);
        this.Pm = new dQ([11, 0], !1, null, !0);
        this.Pm.s("click", this.a7H, this);
        w.appendChild(this.Pm.d);
        this.sm = new bY("");
        w.appendChild(this.sm.d);
        this.stream = null;
        this.Z5 = _.B("video", "");
        this.Z5.setAttribute("autoplay", "true");
        this.body.appendChild(this.Z5);
        this.a7D = this.aeJ.bind(this);
        this.ahB = this.agE.bind(this);
        this.a8j = this.adO.bind(this);
        this.s("closebtn", this.v2, this)
    }
    hW.prototype = new gz;
    hW.prototype.v = function() {
        gz.prototype.v.call(this);
        this.Mt.v();
        this.Pm.v();
        this.VJ(this.i7, this.Y7)
    };
    hW.prototype.X_ = function() {
        var w = this.Z5.videoWidth,
            o = this.Z5.videoHeight,
            Q = _.B("canvas", "");
        Q.width = w;
        Q.height = o;
        var K = Q.getContext("2d");
        K.drawImage(this.Z5, 0, 0, w, o);
        var b = K.getImageData(0, 0, w, o);
        return {
            Ip: new B(0, 0, w, o),
            data: b.data.buffer
        }
    };
    hW.prototype.a7H = function(w) {
        if (this.Mt.T() == 0) this.aj0();
        else this.alg()
    };
    hW.prototype.alg = function() {
        var w = this.X_(),
            o = {
                buffer: new Uint8Array(w.data),
                rect: w.Ip
            },
            Q = new Y(_.E.z, !0);
        Q.QZ = !0;
        Q.f = z.lz;
        Q.data = {
            e: a.Wa,
            nd: o
        };
        this.A(Q);
        alert(b6.get([21, 4]))
    };
    hW.prototype.aj0 = function() {
        var w = this.X_(),
            o = ip.xX("camera", [w]),
            Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.fO,
            xN: o
        };
        this.A(Q);
        alert(b6.get([21, 5]))
    };
    hW.prototype.MV = function(w, o, Q) {
        navigator.mediaDevices.enumerateDevices().then(this.aiN.bind(this))
    };
    hW.prototype.aiN = function(w) {
        var o = this.ah$ = [],
            Q = [];
        for (var M = 0; M < w.length; M++)
            if (w[M].kind == "videoinput") {
                o.push(w[M]);
                Q.push("Camera " + o.length)
            } this.Qh.dU(Q);
        this.Qh.G(0);
        this.Gl()
    };
    hW.prototype.Gl = function(w) {
        this.v2();
        var o = {
            video: {
                deviceId: this.ah$[this.Qh.T()].deviceId,
                width: {
                    ideal: 8e3
                },
                height: {
                    ideal: 8e3
                }
            }
        };
        if (navigator.mediaDevices.getUserMedia) navigator.mediaDevices.getUserMedia(o).then(this.a7D).catch(this.ahB);
        else navigator.webkitGetUserMedia(o, this.a7D, this.ahB)
    };
    hW.prototype.aeJ = function(w) {
        this.stream = w;
        this.Z5.srcObject = w;
        this.Z5.addEventListener("loadedmetadata", this.a8j, !1)
    };
    hW.prototype.adO = function(w) {
        this.Z5.play();
        this.VJ(this.i7, this.Y7)
    };
    hW.prototype.DZ = function(w, o) {
        return new fB(0, 0)
    };
    hW.prototype.VJ = function(w, o) {
        var Q = this.Z5.videoWidth,
            K = this.Z5.videoHeight;
        this.sm.G(Q + " x " + K + " px");
        this.sm.d.setAttribute("style", "position:absolute;  left:14px; bottom:10px; z-index:1;");
        this.Ug.qQ(Q, K);
        this.i7 = w;
        this.Y7 = o;
        var b = w - 28,
            R = o - 28 - 30,
            X = this.Ug.x / this.Ug.y;
        if (b / R > X) b = R * X;
        else R = b / X;
        this.Z5.setAttribute("style", "display: block; width: " + Math.round(b) + "px; height:" + Math.round(R) + "px;")
    };
    hW.prototype.agE = function(w) {
        console.log("error", w);
        alert(b6.get([21, 6]));
        this.close()
    };
    hW.prototype.v2 = function(w) {
        if (this.stream != null) {
            var o = this.stream.getTracks();
            for (var M = 0; M < o.length; M++) o[M].stop();
            this.stream = null
        }
    };

    function dC() {
        gz.call(this, [7, 8], "crange");
        this.V$ = null;
        this.kk = {
            hc: 73,
            K: 4.45,
            k: 4
        };
        this.YX = {
            hc: 73,
            K: 4.45,
            k: 4
        };
        var w = _.B("div", "form");
        w.setAttribute("style", "width:18em");
        this.body.appendChild(w);
        this.E8 = new cI([12, 92], 0, 200);
        this.E8.G(40);
        this.E8.s(_.E.h, this.KM, this);
        w.appendChild(this.E8.d);
        this.Q8 = _.B("canvas");
        w.appendChild(this.Q8);
        this.rc = new b7([12, 36], [
            [18, 0], "\uFF0B", "\u2014"
        ]);
        w.appendChild(this.rc.d);
        this.zg = new dQ("OK", !0, null, !0);
        this.zg.s("click", this.XI, this);
        this.body.appendChild(this.zg.d)
    }
    dC.prototype = new gz;
    dC.prototype.Za = function(w, o) {
        return w != null
    };
    dC.prototype.Ov = function() {
        return !0
    };
    dC.prototype.AO = function() {
        return !0
    };
    dC.prototype.v = function() {
        gz.prototype.v.call(this);
        this.E8.v();
        this.rc.v()
    };
    dC.prototype.Br = function(w, o, Q, K, b) {
        var R = w.m.WD(b.x, b.y);
        this.kV(R.x, R.y)
    };
    dC.prototype.kV = function(w, o) {
        var Q = Math.min,
            K = Math.max,
            b = this.V$,
            R = K(0, Q(b.D - 1, Math.floor(w))),
            X = K(0, Q(b.j - 1, Math.floor(o))),
            h = b.X_(),
            e = (X * b.D + R) * 4,
            Z = h[e],
            P = h[e + 1],
            J = h[e + 2],
            i = v.TP(Z, P, J),
            k = this.rc.T(),
            $ = this.kk,
            n = this.YX;
        if (k == 0) {
            this.kk = JSON.parse(JSON.stringify(i));
            this.YX = i
        } else if (k == 1) {
            $.hc = Q($.hc, i.hc);
            $.K = Q($.K, i.K);
            $.k = Q($.k, i.k);
            n.hc = K(n.hc, i.hc);
            n.K = K(n.K, i.K);
            n.k = K(n.k, i.k)
        } else if (k == 2) {
            var j = ($.hc + n.hc) / 2,
                y = ($.K + n.K) / 2,
                V = ($.k + n.k) / 2;
            if (i.hc < j) $.hc = K($.hc, i.hc + 10);
            else n.hc = Q(n.hc, i.hc - 10);
            if (i.K < y) $.K = K($.K, i.K + 1);
            else n.K = Q(n.K, i.K - 1);
            if (i.k < V) $.k = K($.k, i.k + 1);
            else n.k = Q(n.k, i.k - 1)
        }
        this.KM()
    };
    dC.prototype.XI = function(w) {
        var o = new Y(_.E.z, !0);
        o.f = z.By;
        o.data = {
            e: "crange",
            Rn: this.kk,
            gB: this.YX,
            lQ: this.E8.T() / 200
        };
        o.QZ = !0;
        this.A(o);
        this.close()
    };
    dC.prototype.MV = function(w, o) {
        this.V$ = w;
        this.kV(0, 0)
    };
    dC.prototype.KM = function() {
        var w = this.V$,
            o = z.hz.oc(w, this.kk, this.YX, this.E8.T() / 200),
            Q = o.rect,
            K = o.channel,
            b = this.Q8,
            R = b.getContext("2d"),
            X = Math.floor(230 * _.J()),
            h = Math.floor(X * (Q.j / Q.D));
        b.width = X;
        b.height = h;
        _.d3(b, X, h);
        var e = v.$(K.length * 4);
        v.Fw(e, 4294967295);
        for (var M = 0; M < 3; M++) v.qh(K, e, M);
        var Z = z.Z.OU([e, Q], new dj(X / Q.D, 0, 0, h / Q.j, 0, 0)),
            P = Z.rect,
            J = new ImageData(new Uint8ClampedArray(Z.buffer.buffer), P.D, P.j);
        R.putImageData(J, 0, 0)
    };

    function aB() {
        gz.call(this, [12, 76, 1], "createshape");
        this.cS = null;
        var w = _.B("div", "form");
        w.setAttribute("style", "width:20em");
        this.body.appendChild(w);
        this.b7 = new fN([12, 41], 0, 0, null, 0, !1, !0);
        w.appendChild(this.b7.d);
        _.EV(w);
        this.YH = new fN([12, 42], 0, 0, null, 0, !1, !0);
        w.appendChild(this.YH.d);
        _.EV(w);
        this.uc = new dS([19, 5, 3]);
        w.appendChild(this.uc.d);
        this.b7.G(100);
        this.YH.G(100);
        this.Dj = new dQ("OK", !0, null, !0);
        this.Dj.s("click", this.XI, this);
        w.appendChild(this.Dj.d)
    }
    aB.prototype = new gz;
    aB.prototype.XI = function(w) {
        this.cS.a9w(this.cS.af5, this.b7.T(), this.YH.T(), this.uc.T());
        this.close()
    };
    aB.prototype.v = function() {
        if (this.cS) this.Pk = b6.get([5, 3]) + ": " + b6.get(this.cS.an6);
        gz.prototype.v.call(this);
        this.b7.v();
        this.YH.v();
        this.uc.v()
    };
    aB.prototype.MV = function(w, o) {
        this.cS = o;
        this.v()
    };

    function e3() {
        gz.call(this, [11, 1], "colorpicker");
        this.qz = null;
        this.qx = null;
        this.tx = null;
        this.aK = !1;
        this.JV = !1;
        var w = _.B("div", "flexrow"),
            R, X;
        this.body.appendChild(w);
        this.ZI = new gg(256);
        this.ZI.s(_.E.h, this.T9, this);
        w.appendChild(this.ZI.d);
        var o = _.B("div", "form");
        o.setAttribute("style", "width:14.5em; margin-left:1em;");
        w.appendChild(o);
        this.a2S = _.B("div", "full");
        o.appendChild(this.a2S);
        this.amq = _.B("div", "full");
        o.appendChild(this.amq);
        var Q = _.B("div", "flexrow");
        o.appendChild(Q);
        var K = _.B("div"),
            b = _.B("div");
        Q.appendChild(K);
        Q.appendChild(b);
        R = ["R", "G", "B"];
        X = K;
        this.SC = [];
        for (var M = 0; M < 3; M++) {
            var h = new fN(R[M] + ":", 0, 255, null, 0, !1, !0);
            this.SC.push(h);
            h.s(_.E.h, this.a16, this);
            X.appendChild(h.d)
        }
        R = ["H", "S", "B"];
        X = b;
        this.wJ = [];
        for (var M = 0; M < 3; M++) {
            var e = 0,
                Z = 360,
                P = "\xB0";
            if (M != 0) {
                Z = 100;
                P = "%"
            }
            var h = new fN(R[M] + ":", e, Z, P, 0, !1, !0);
            this.wJ.push(h);
            h.s(_.E.h, this.acl, this);
            X.appendChild(h.d)
        }
        this.YH = new g$("Hex", null, 6);
        this.YH.s(_.E.h, this.Vi, this);
        o.appendChild(this.YH.d);
        this.mk = _.B("input", "fitem");
        this.mk.setAttribute("type", "color");
        this.mk.setAttribute("style", "width:50px");
        this.mk.addEventListener("change", this.Vi.bind(this), !1);
        o.appendChild(this.mk);
        this.jc = new fn(9);
        this.jc.s(_.E.h, this.Vi, this);
        o.appendChild(this.jc.d);
        this.Dj = new dQ("OK", !0, null, !0);
        this.Dj.s("click", this.XI, this);
        o.appendChild(this.Dj.d);
        this.s("closebtn", this.YP, this);
        this.SQ = !1
    }
    e3.prototype = new gz;
    e3.prototype.Ov = function() {
        return !0
    };
    e3.prototype.VJ = function(w, o) {
        this.ZI.VJ(Math.min(256, w - 250), o)
    };
    e3.prototype.T9 = function(w) {
        this.qx = this.ZI.T();
        this.update()
    };
    e3.prototype.Br = function(w, o, Q, K, b) {
        this.SQ = !0;
        this.XP(w, b)
    };
    e3.prototype.$z = function(w, o, Q, K, b) {
        if (!this.SQ) return;
        this.XP(w, b)
    };
    e3.prototype.IN = function(w, o, Q, K, b) {
        this.SQ = !1
    };
    e3.prototype.XP = function(w, o) {
        var Q = z.Qw.xZ(w, o, 1),
            K = Q & 255,
            b = Q >> 8 & 255,
            R = Q >> 16 & 255;
        this.qx = {
            W: R / 255,
            a: b / 255,
            k: K / 255
        };
        this.update()
    };
    e3.prototype.a16 = function(w) {
        var o = this.SC,
            Q = this.Kw(parseInt(o[0].T())),
            K = this.Kw(parseInt(o[1].T())),
            b = this.Kw(parseInt(o[2].T()));
        this.qx = {
            W: Q / 255,
            a: K / 255,
            k: b / 255
        };
        this.update()
    };
    e3.prototype.acl = function(w) {
        var o = this.wJ,
            Q = this.jm(parseInt(o[0].T()) / 360),
            K = this.jm(parseInt(o[1].T()) / 100),
            b = this.jm(parseInt(o[2].T()) / 100);
        this.qx = v.rp(Q, K, b);
        this.update()
    };
    e3.prototype.Vi = function(w) {
        var o;
        if (w.currentTarget == this.jc) o = this.jc.T();
        else {
            o = w.currentTarget == this.YH ? this.YH.T() : this.mk.value;
            if (o.charAt(0) == "#") o = o.slice(1);
            if (o.length == 3) o = o[0] + o[0] + o[1] + o[1] + o[2] + o[2];
            o = v.$Z(o)
        }
        this.qx = {
            W: (o >> 16 & 255) / 255,
            a: (o >> 8 & 255) / 255,
            k: (o & 255) / 255
        };
        this.update()
    };
    e3.prototype.rV = function(w) {
        var o = w.W,
            Q = w.a,
            K = w.k;
        return Math.round(o * 255) << 16 | Math.round(Q * 255) << 8 | Math.round(K * 255)
    };
    e3.prototype.XI = function(w) {
        this.ex();
        var o = this.rV(this.qx);
        this.tx(o);
        this.close();
        this.JV = !1;
        this.qx = null
    };
    e3.prototype.YP = function(w) {
        this.ex();
        if (this.aK) this.tx(this.rV(this.qz));
        this.JV = !1;
        this.qx = null
    };
    e3.prototype.ex = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.XW
        };
        this.A(o)
    };
    e3.prototype.yy = function(w, o) {
        if (o != d5.Ba) return;
        var Q = w.x1;
        this.jc.G(Q);
        if (this.qx != null) {
            this.qx = {
                W: (Q >> 16 & 255) / 255,
                a: (Q >> 8 & 255) / 255,
                k: (Q >> 0 & 255) / 255
            };
            this.update()
        }
    };
    e3.prototype.MV = function(w, o) {
        var Q = o.vK,
            K = {
                W: (Q >> 16 & 255) / 255,
                a: (Q >> 8 & 255) / 255,
                k: (Q >> 0 & 255) / 255
            };
        if (this.qx == null) {
            var b = new Y(_.E.N, !0);
            b.data = {
                e: _.S.Gi,
                hr: "crosshair",
                push: !0
            };
            this.A(b);
            this.SQ = !1;
            this.tx = o.Zv;
            this.aK = !1;
            this.JV = o.uY;
            this.qz = JSON.parse(JSON.stringify(K));
            this.amq.setAttribute("style", "height:3em;background-color:#" + v.u9(Q) + ";")
        }
        this.qx = K;
        this.update()
    };
    e3.prototype.update = function() {
        var w = this.qx,
            o = this.rV(w),
            Q = this.SC;
        Q[0].G(Math.round(w.W * 255));
        Q[1].G(Math.round(w.a * 255));
        Q[2].G(Math.round(w.k * 255));
        this.YH.G(v.u9(o));
        this.mk.value = "#" + v.u9(o);
        this.a2S.setAttribute("style", "height:3em;background-color:#" + v.u9(o) + ";");
        var K = v.Zd(w.W, w.a, w.k);
        Q = this.wJ;
        Q[0].G(Math.round(K.Y7 * 360));
        Q[1].G(Math.round(K.sa * 100));
        Q[2].G(Math.round(K.O_ * 100));
        this.ZI.G(w);
        if (this.JV) {
            this.tx(this.rV(this.qx));
            this.aK = !0
        }
    };
    e3.prototype.Kw = function(w) {
        return Math.max(0, Math.min(255, w))
    };
    e3.prototype.jm = function(w) {
        return Math.max(0, Math.min(1, w))
    };

    function e1() {
        gz.call(this, [11, 2], "contoureditor");
        this.an5 = null;
        this.eN = null;
        this.response = null;
        this.rw = _.B("div", "cell");
        this.body.appendChild(this.rw);
        this.Wj = _.B("div", "cell padded");
        this.body.appendChild(this.Wj);
        var w = _.B("div", "bordered padded vmargin");
        this.rw.appendChild(w);
        this.Ob = new eN;
        this.Ob.s(_.E.h, this.DX, this);
        w.appendChild(this.Ob.d);
        this.Dj = new dQ("OK", !0, null, !0);
        this.Dj.s("click", this.close, this);
        this.Wj.appendChild(this.Dj.d);
        this.coords = _.B("div", "");
        this.coords.setAttribute("style", "width:250px");
        this.rw.appendChild(this.coords);
        this.Hj = new g$("X (in)", "%", 4);
        this.p8 = new g$("Y (out)", "%", 4);
        this.Rz = new dS([19, 3, 0]);
        this.Hj.s(_.E.h, this.dM, this);
        this.p8.s(_.E.h, this.dM, this);
        this.Rz.s(_.E.h, this.dM, this);
        this.coords.appendChild(this.Hj.d);
        this.coords.appendChild(this.Rz.d);
        this.coords.appendChild(this.p8.d);
        this.s("closebtn", this.Cr, this)
    }
    e1.prototype = new gz;
    e1.prototype.v = function() {
        gz.prototype.v.call(this);
        this.Rz.v()
    };
    e1.prototype.DX = function(w) {
        this.eN.Crv.v = this.Ob.T();
        this.response(this.eN);
        this.zX()
    };
    e1.prototype.Cr = function(w) {
        this.response(this.an5)
    };
    e1.prototype.MV = function(w, o) {
        this.an5 = JSON.parse(JSON.stringify(o.yG));
        this.eN = o.yG;
        this.response = o.response;
        this.Ob.G(this.eN.Crv.v);
        this.zX()
    };
    e1.prototype.zX = function() {
        var M = this.Ob.NQ();
        this.coords.setAttribute("class", M == -1 ? "disabled" : "");
        if (M == -1) return;
        var w = this.eN.Crv.v[M].v;
        this.Hj.G(Math.round(w.Hrzn.v * (100 / 255)));
        this.p8.G(Math.round(w.Vrtc.v * (100 / 255)));
        this.Rz.G(w.Cnty.v)
    };
    e1.prototype.dM = function(w) {
        var M = this.Ob.NQ(),
            o = this.eN.Crv.v[M];
        o.v.Hrzn.v = parseFloat(this.Hj.T()) * (255 / 100);
        o.v.Vrtc.v = parseFloat(this.p8.T()) * (255 / 100);
        o.v.Cnty.v = this.Rz.T();
        this.eN.Crv.v.sort(function(Q, K) {
            return Q.v.Hrzn.v - K.v.Hrzn.v
        });
        this.Ob.G(this.eN.Crv.v, this.eN.Crv.v.indexOf(o));
        this.zX();
        this.response(this.eN)
    };

    function ek() {
        gz.call(this, [11, 3], "csize");
        this.sS = 0;
        this.nH = _.B("div", "form");
        this.nH.setAttribute("style", "width:22em");
        this.body.appendChild(this.nH);
        this.zV = new aT(!0, !0, !0, !0);
        this.zV.a9r(!1);
        this.nH.appendChild(this.zV.d);
        this.q_ = new b7("Align with", [
            [8, 7],
            [12, 6]
        ]);
        this.q_.s(_.E.h, this.amH, this);
        this.I2 = new ac([12, 23, 2], 41);
        this.nH.appendChild(this.I2.d);
        this.I2.G(4);
        this.b1 = new ej(!1);
        this.b1.adt(new fB(0, 0));
        this.zg = new dQ("OK", !0, null, !0);
        this.zg.s("click", this.XI, this);
        this.body.appendChild(this.zg.d)
    }
    ek.prototype = new gz;
    ek.prototype.Za = function(w, o) {
        return w != null
    };
    ek.prototype.AO = function() {
        return !0
    };
    ek.prototype.amH = function() {
        var w = [this.I2.d, this.b1.d];
        this.nH.removeChild(w[this.sS]);
        this.sS = this.q_.T();
        this.nH.appendChild(w[this.sS])
    };
    ek.prototype.v = function() {
        gz.prototype.v.call(this);
        this.zV.v();
        this.q_.v();
        this.I2.v();
        this.b1.v()
    };
    ek.prototype.XI = function(w) {
        var o = this.zV.T(),
            Q = o.x,
            K = o.y,
            b = new Y(_.E.e9, !0);
        b.data = z.U0.TA(Q, K, this.I2.T());
        this.close();
        this.A(b)
    };
    ek.prototype.MV = function(w, o) {
        this.zV.G(new fB(w.D, w.j), w.cK)
    };

    function gr() {
        gz.call(this, [11, 4], "duplinto");
        this.qj = null;
        this.HS = null;
        var w = _.B("div", "form");
        w.setAttribute("style", "max-width:26em");
        this.body.appendChild(w);
        this.bG = new bQ([12, 43], ["abc", "def"]);
        this.bG.s(_.E.h, this.QP, this);
        w.appendChild(this.bG.d);
        _.EV(w);
        this.DV = new g$([12, 48], null, 14);
        w.appendChild(this.DV.d);
        this.Dj = new dQ("OK", !0, null, !0);
        this.Dj.s("click", this.XI, this);
        w.appendChild(this.Dj.d)
    }
    gr.prototype = new gz;
    gr.prototype.AO = function() {
        return !0
    };
    gr.prototype.v = function() {
        gz.prototype.v.call(this);
        this.bG.v();
        this.DV.v()
    };
    gr.prototype.QP = function(w) {
        var o = this.bG.T();
        if (o == this.HS.length) this.DV.Lh();
        else this.DV.fz()
    };
    gr.prototype.MV = function(w, o, Q) {
        this.qj = w;
        this.HS = Q;
        this.DV.G(w.u.length == 0 ? "Layer" : w.t[w.u[0]].getName());
        var K = [];
        for (var M = 0; M < Q.length; M++) K.push(Q[M].name);
        K.push([11, 7]);
        this.bG.dU(K);
        this.bG.G(Q.indexOf(w));
        this.QP(null)
    };
    gr.prototype.XI = function(w) {
        var o = this.bG.T();
        if (o == this.HS.length) {
            var Q = new fb(this.DV.T() + ".psd");
            Q.D = this.qj.D;
            Q.j = this.qj.j;
            Q.buffer = v.$(Q.D * Q.j * 4);
            var K = Q._g();
            K.jG("Background");
            Q.rd([K]);
            var b = new Y(_.E.N, !0);
            b.QZ = !0;
            b.data = {
                e: _.S.fO,
                xN: Q
            };
            this.A(b)
        }
        var R = this.qj.ff(null, this.qj != this.HS[o]),
            b = new Y(_.E.z, !0);
        b.data = {
            e: a.s9,
            t: R,
            Fb: this.qj,
            Mc: this.HS[o]
        };
        b.f = z.lz;
        b.QZ = !0;
        this.A(b);
        this.close()
    };

    function c3() {
        gz.call(this, [1, 9], "eassets");
        this.AL = null;
        this.yw = null;
        var w = _.B("div", "form");
        w.setAttribute("style", "width:32em");
        this.body.appendChild(w);
        this.Gx = _.B("span");
        w.appendChild(this.Gx);
        _.EV(w);
        this.OH = [new dS("Only layers / folders, whose name starts with \"-e-\""), new dS("Remove parts outside the canvas"), new dS("Trim transparent parts")];
        for (var M = 0; M < 3; M++) {
            var o = this.OH[M];
            o.G(!0);
            o.s(_.E.h, this._j, this);
            w.appendChild(o.d);
            _.EV(w)
        }
        this.Qb = new eO([12, 14, 0], ["1x", "2x", "3x", "4x"]);
        this.Qb.G([!0, !1, !1, !1]);
        w.appendChild(this.Qb.d);
        _.RA(w);
        this.aW = ["PNG", "JPG", "SVG"];
        this.Pu = new bQ([12, 50], this.aW);
        this.Pu.s(_.E.h, this.x3, this);
        w.appendChild(this.Pu.d);
        this.uO = new eJ;
        w.appendChild(this.uO.d);
        this.zg = new dQ([1, 9], !0, null, !0);
        this.zg.s("click", this.XI, this);
        w.appendChild(this.zg.d);
        this.s("closebtn", this.by, this)
    }
    c3.prototype = new gz;
    c3.prototype.x3 = function(w) {
        this.uO.J3(this.aW[this.Pu.T()])
    };
    c3.prototype.by = function(w) {
        this.yw = null
    };
    c3.prototype.v = function() {
        gz.prototype.v.call(this);
        this.Pu.v();
        this.Qb.v();
        this.zg.v();
        this.uO.v()
    };
    c3.prototype.MV = function(w, o, Q) {
        this.yw = w;
        this._j()
    };
    c3.prototype._j = function(w) {
        var o = this.dP(),
            Q = "- - - " + o.length + " exportable layers";
        this.Gx.textContent = Q;
        this.x3(null)
    };
    c3.prototype.dP = function() {
        var w = this.OH[0].T(),
            o = [],
            Q = this.yw;
        for (var M = 0; M < Q.t.length; M++) {
            var K = Q.t[M],
                b = K.getName();
            if (!w && !K.xI() && !K.rect.Kx() || b.startsWith("-e")) o.push(M)
        }
        return o
    };
    c3.prototype.yy = function(w, o) {
        this.AL = w
    };
    c3.prototype.XI = function(w) {
        var o = this.yw,
            Q = [this.aW[this.Pu.T()]],
            K = [this.uO.T()],
            b = this.Qb.T(),
            R = {},
            X = {},
            h = this.dP();
        if (h.length == 0) {
            alert("No layers to export.");
            return
        }
        var e = [this.OH[1].T(), this.OH[2].T()];
        for (var M = 0; M < h.length; M++) {
            var Z = h[M],
                P = o.t[Z],
                J = P.getName();
            if (X[J] != null) {
                X[J]++;
                J += " " + X[J]
            } else X[J] = 1;
            var i = P.HY();
            P.BZ(!0);
            for (var k = 0; k < b.length; k++) {
                if (!b[k]) continue;
                var $ = k + 1,
                    n = z.uA.Mv(o, Q, $, this.AL, Z, K, e);
                for (var j = 0; j < Q.length; j++) {
                    var y = Q[j],
                        V = J.slice(J.startsWith("-e-") ? 3 : 0) + ($ == 1 ? "" : "-" + $ + "x") + "." + y.toLowerCase();
                    if (n[j]) R[V] = new Uint8Array(n[j])
                }
            }
            P.BZ(i)
        }
        var O = UZIP.encode(R),
            S = new Y(_.E.N, !0);
        S.data = {
            e: _.S.AS,
            data: O,
            name: "assets.zip"
        };
        this.A(S)
    };

    function gd() {
        gz.call(this, "Export Color Lookup Tables", "exlut");
        this.AL = null;
        this.yw = null;
        var w = _.B("div", "form");
        w.setAttribute("style", "width:20em");
        this.body.appendChild(w);
        this.OH = [new fN("Grid Points", 1, 256), new b7([12, 50], [".CUBE"])];
        var o = [16, 0];
        for (var M = 0; M < this.OH.length; M++) {
            var Q = this.OH[M];
            Q.G(o[M]);
            Q.parent = this;
            Q.s(_.E.h, this._j, this);
            w.appendChild(Q.d);
            _.EV(w)
        }
        this.zg = new dQ("OK", !0, null, !0);
        this.zg.s("click", this.XI, this);
        w.appendChild(this.zg.d);
        this.s("closebtn", this.by, this)
    }
    gd.prototype = new gz;
    gd.prototype.Za = function(w, o) {
        if (Math.min(w.D, w.j) < 16) {
            alert("The document must be at least 16 x 16 pixels.", 3200);
            return !1
        }
        if (w.t.length < 2) {
            alert("There must be a background layer and some adjustment layers.", 3200);
            return !1
        }
        return !0
    };
    gd.prototype.by = function(w) {
        this.yw = null
    };
    gd.prototype.yy = function(w, o) {
        this.AL = w
    };
    gd.prototype.MV = function(w, o, Q) {
        this.yw = w
    };
    gd.prototype.XI = function() {
        var w = this.yw,
            o = this.OH[0].T(),
            Q = [],
            K = new B(0, 0, w.D, w.j),
            b = v.$(o * o * 4),
            R = b.slice(0),
            X = new B(w.D - o >>> 1, w.j - o >>> 1, o, o),
            h = w.t[0],
            e = h.buffer,
            Z = h.rect;
        h.rect = X;
        h.buffer = b;
        for (var P = 0; P < o; P++) {
            this.ac9(o, P, b);
            h.C(X);
            w.C(X);
            var J = w.X_();
            v.c1(J, K, R, X);
            for (var i = 0; i < o; i++)
                for (var k = 0; k < o; k++) {
                    var $ = i * o + k << 2;
                    Q.push(R[$] / 255, R[$ + 1] / 255, R[$ + 2] / 255)
                }
        }
        var n = gD.aat(Q, o, w.name);
        eP.save(n, w.name.split(".")[0] + ".CUBE");
        h.buffer = e;
        h.rect = Z;
        h.C();
        w.C()
    };
    gd.prototype.ac9 = function(w, o, Q) {
        var K = 255 / (w - 1),
            b = Math.round(o * K);
        for (var R = 0; R < w; R++)
            for (var X = 0; X < w; X++) {
                var h = R * w + X << 2;
                Q[h] = Math.round(X * K);
                Q[h + 1] = Math.round(R * K);
                Q[h + 2] = b;
                Q[h + 3] = 255
            }
    };
    gd.prototype.v = function() {
        gz.prototype.v.call(this);
        for (var M = 0; M < this.OH.length; M++) this.OH[M].v()
    };

    function cp() {
        gz.call(this, "File Info", "finfo");
        this.nc = null;
        this.oj = null;
        this.Gw = null;
        this.nH = _.B("div", "form scrollable label12");
        this.nH.setAttribute("style", "width:35em;  height:38em;  margin-bottom:8px");
        this.body.appendChild(this.nH);
        var w = _.B("div", "form");
        this.body.appendChild(w);
        this.jU = new bQ(null, ["Hello"]);
        w.appendChild(this.jU.d);
        this.a6Q = new dQ("Add Parameter", !1, null, !0);
        w.appendChild(this.a6Q.d);
        this.a6Q.s("click", this.GI, this);
        this._c = new dQ("=== S A V E ===", !1, null, !0);
        w.appendChild(this._c.d);
        this._c.s("click", this.te, this);
        this.aj7 = ""
    }
    cp.prototype = new gz;
    cp.prototype.DZ = function(w, o) {
        return w < 450 || o < 450 ? new fB(0, 0) : new fB(150, 100)
    };
    cp.prototype.GI = function(w) {
        if (this.Gw.length == 0) return;
        var o = this.Gw[this.jU.T()],
            Q = this.pD();
        Q[o] = d0.ol[o][0];
        this.w3(Q);
        this.oj[o].d.scrollIntoView();
        this.oj[o].LN()
    };
    cp.prototype.iu = function(w) {
        var o = this.pD();
        delete o[w.currentTarget.a0O];
        this.w3(o)
    };
    cp.prototype.te = function(w) {
        var o = this.pD(),
            Q = this.nc,
            K = !0;
        for (var b in Q)
            if (JSON.stringify(Q[b]) != JSON.stringify(o[b])) K = !1;
        for (var b in o)
            if (JSON.stringify(Q[b]) != JSON.stringify(o[b])) K = !1;
        if (K) return;
        var R = new Y(_.E.z, !0);
        R.f = z.lz;
        R.data = {
            e: a.UZ,
            Pn: o
        };
        this.A(R);
        this.nc = o;
        this.w3(o)
    };
    cp.gJ = function(w) {
        function o(b) {
            var R = b.toLowerCase();
            return b == R
        }
        var Q = w.split(":").pop();
        for (var K = 1; K < Q.length - 1; K++) {
            if (Q[K] == Q[K].toUpperCase() && (o(Q[K + 1]) || o(Q[K - 1]))) {
                Q = Q.slice(0, K) + " " + Q.slice(K);
                K++
            }
        }
        return Q
    };
    cp.prototype.MV = function(w, o) {
        this.nc = w._7;
        this.w3(w._7)
    };
    cp.prototype.w3 = function(w) {
        var o = this.nH,
            b = 0;
        _.Tk(o);
        var Q = this.oj = {},
            K = ["tiff", "exif", "exif:GPS"],
            R = this.Gw = [],
            X = [];
        for (var h in d0.ol) {
            var e = cp.gJ(h),
                Z = 0,
                P = 15,
                J = null;
            if (w[h] == null) {
                R.push(h);
                X.push(e);
                continue
            }
            for (var M = 0; M < K.length; M++)
                if (h.startsWith(K[M])) Z = M;
            if (Z != b) {
                _.RA(o);
                b = Z
            }
            if (h == "tiff:ImageDescription" || h == "dc:Keywords") {
                P = 18.5;
                J = 3
            }
            var i = new g$(e, null, P, J);
            Q[h] = i;
            var k = w[h];
            if (k instanceof Array) k = k[1] == 0 ? "---" : k[0] + "/" + k[1];
            var $ = new dQ("\u2716", null, b6.get([5, 4]));
            o.appendChild($.d);
            $.s("click", this.iu, this);
            $.a0O = h;
            i.G(k);
            o.appendChild(i.d);
            _.EV(o);
            if (h == "exif:GPSLongitude" && w["exif:GPSLatitude"]) {
                this.aj7 = cp.fU(w["exif:GPSLatitude"]) + "," + cp.fU(w["exif:GPSLongitude"]);
                var n = new dQ("Show on map", !1, null, !0);
                o.appendChild(n.d);
                _.EV(o);
                n.s("click", this.agL, this)
            }
        }
        this.jU.dU(X);
        this.jU.G(0)
    };
    cp.prototype.pD = function() {
        var w = this.oj,
            o = d0.ol,
            Q = {};
        for (var K in o) {
            var b = o[K][0],
                R = typeof b;
            if (b == null || w[K] == null) continue;
            var X = w[K].T(),
                h = "The value of \"" + cp.gJ(K) + "\" must ";
            if (R == "number") {
                X = parseFloat(X);
                if (isNaN(X)) {
                    alert(h + "be a number.");
                    X = b
                }
            } else if (b instanceof Array && b.length == 2) {
                if (X.indexOf("/") == -1) {
                    alert(h + "be a fraction.");
                    X = b.slice(0)
                } else {
                    X = X.split("/").map(parseFloat);
                    if (isNaN(X[0]) || isNaN(X[1])) {
                        X = b.slice(0)
                    }
                }
            }
            Q[K] = X
        }
        return Q
    };
    cp.fU = function(w) {
        var o = w.length,
            Q = w.slice(0, o - 1).split(",").map(parseFloat),
            K = w.slice(o - 1),
            b = Q[0] + Q[1] / 60 + Q[2] / 3600;
        if (K != "N" && K != "E") b = -b;
        return b
    };
    cp.prototype.agL = function(w) {
        window.open("https://maps.google.com?q=" + this.aj7, "Map")
    };

    function iD() {
        gz.call(this, [11, 5], "gradienteditor");
        this.qz = null;
        this.qx = null;
        this.fm = null;
        this.tx = null;
        this.aK = !1;
        this.JV = !1;
        _.Ka(this.body, "form");
        this.QR = null;
        this.jb = null;
        this.s1 = -1;
        this.iz = -1;
        this.jt = 0;
        this.At = this.Pf.bind(this);
        this.NF = this.oL.bind(this);
        this.Wd = _.B("canvas", "");
        this.Dh = this.Wd.getContext("2d");
        this.Wd.setAttribute("style", "display:block");
        this.NM = null;
        _.CA(this.Wd);
        _._v(this.Wd, this.Kj.bind(this));
        this.QC = new fN([19, 3, 3], 0, 100, "%");
        this.QC.s(_.E.h, this.k6, this);
        this.QC.parent = this;
        this.body.appendChild(this.QC.d);
        _.EV(this.body);
        this.KC = new bY([12, 0]);
        this.body.appendChild(this.KC.d);
        this.N$ = _.B("div", "bordered padded noalign");
        this.body.appendChild(this.N$);
        this.FV = new fN([12, 0], 0, 100, "%");
        this.FV.parent = this;
        this.FV.s(_.E.h, this.k6, this);
        this.N$.appendChild(this.FV.d);
        this.GB = new fN([12, 40], 0, 100, "%");
        this.GB.parent = this;
        this.GB.s(_.E.h, this.k6, this);
        this.N$.appendChild(this.GB.d);
        this.w_ = new dQ([5, 4], !1, null, !0);
        this.w_.s("click", this.I4, this);
        this.N$.appendChild(this.w_.d);
        this.body.appendChild(this.Wd);
        _.EV(this.body);
        this.adX = new bY([13, 0]);
        this.body.appendChild(this.adX.d);
        this.Ye = _.B("div", "bordered padded noalign");
        this.body.appendChild(this.Ye);
        this.Ai = new bQ([12, 44], [
            [12, 45],
            [12, 46],
            [12, 47]
        ]);
        this.Ai.s(_.E.h, this.k6, this);
        this.Ye.appendChild(this.Ai.d);
        this.tz = new eQ(!0);
        this.tz.parent = this;
        this.tz.s(_.E.h, this.k6, this);
        this.Ye.appendChild(this.tz.d);
        this.lX = new fN([12, 40], 0, 100, "%");
        this.lX.parent = this;
        this.lX.s(_.E.h, this.k6, this);
        this.Ye.appendChild(this.lX.d);
        this.ez = new dQ([5, 4], !1, null, !0);
        this.ez.s("click", this.eg, this);
        this.Ye.appendChild(this.ez.d);
        this.Dj = new dQ("OK", !0, null, !0);
        this.Dj.s("click", this.XI, this);
        this.body.appendChild(this.Dj.d);
        this.s("closebtn", this.YP, this)
    }
    iD.prototype = new gz;
    iD.prototype.YP = function(w) {
        if (this.aK) this.tx(this.qz)
    };
    iD.prototype.v = function() {
        gz.prototype.v.call(this);
        this.QC.v();
        this.KC.v();
        this.adX.v();
        this.w_.v();
        this.ez.v();
        this.FV.v();
        this.GB.v();
        this.Ai.v();
        this.lX.v()
    };
    iD.prototype.yy = function(w, o) {
        this.fm = w
    };
    iD.prototype.MV = function(w, o) {
        this.qx = JSON.parse(JSON.stringify(o.V));
        this.qz = JSON.parse(JSON.stringify(o.V));
        this.QR = this.jb = null;
        this.tx = o.Zv;
        this.aK = !1;
        this.JV = o.uY;
        this.GO();
        this.gk()
    };
    iD.prototype.XI = function(w) {
        var o = this.qx;
        this.tx(o);
        this.close()
    };
    iD.prototype.jy = function(w) {
        return w == E.U_ || w == E.OW
    };
    iD.prototype.Yq = function(w, o, Q, K) {
        if (K.i(E.U_) || K.i(E.OW)) {
            if (this.jb) this.I4();
            if (this.QR) this.eg()
        }
    };
    iD.prototype.I4 = function(w) {
        var o = this.qx.Trns.v;
        if (this.jb == null || o.length == 2) return;
        o.splice(o.indexOf(this.jb), 1);
        this.jb = null;
        this.GO();
        this.gk()
    };
    iD.prototype.eg = function(w) {
        var o = this.qx.Clrs.v;
        if (this.QR == null || o.length == 2) return;
        o.splice(o.indexOf(this.QR), 1);
        this.QR = null;
        this.GO();
        this.gk()
    };
    iD.prototype.GO = function() {
        var w = this.Wd,
            o = this.Dh,
            Q = _.J();
        w.width = Math.floor(410 * Q);
        w.height = Math.floor(90 * Q);
        _.d3(w, w.width, w.height);
        this.NM = new B(0, 0, Math.floor(380 * Q), Math.floor(32 * Q));
        this.NM.x = Math.floor((this.Wd.width - this.NM.D) / 2);
        this.NM.y = Math.floor((this.Wd.height - this.NM.j) / 2);
        var K = this.NM,
            b = K.D,
            R = K.j,
            X = K.x,
            h = K.y,
            e = new B(0, 0, b, R),
            Z = o.getImageData(0, 0, b, R),
            P = new Uint8Array(Z.data.buffer);
        v.fr(P, b, R, 8, 0, 0);
        var J = v.$(b * R * 4);
        v.V.TZ(this.qx, J, e, [1 / b, 0, 0, 1 / R], b / 2, R / 2, !1, 0, this.fm.x1, this.fm.TT);
        v.M.M$("norm", J, K, P, K, K, 1);
        o.clearRect(0, 0, w.width, w.height);
        o.putImageData(Z, X, h);
        var i = this.qx.Trns.v,
            k = this.qx.Clrs.v,
            $ = v.V.Eb(k, this.fm.x1, this.fm.TT),
            n = Math.round(6 * _.J()),
            j = Math.round(14 * _.J()),
            y = this.jb ? this.jb.v : null,
            V = this.QR ? this.QR.v : null;
        for (var M = 0; M < i.length; M++) {
            var O = i[M].v,
                S = Math.round(255 - 255 * O.Opct.v.val / 100);
            if ((O == y || i[M - 1] && i[M - 1].v == y || M == this.iz) && M != 0) {
                o.fillStyle = "#000000";
                o.fillRect(X - 3 + b * (i[M - 1].v.Lctn.v + (O.Lctn.v - i[M - 1].v.Lctn.v) * O.Mdpn.v / 100) / 4096, h - 6 - 2, 6, 6)
            }
            if (O == y) {
                o.fillStyle = "#ffffff";
                o.fillRect(X - n + b * (O.Lctn.v / 4096) - 2, h - 2 - j - 2, 2 * n + 4, j + 4)
            }
            o.fillStyle = "rgb(" + S + "," + S + "," + S + ")";
            o.fillRect(X - n + b * (O.Lctn.v / 4096), h - 2 - j, 2 * n, j)
        }
        for (var M = 0; M < k.length; M++) {
            var G = k[M].v,
                D = $[M];
            if ((G == V || k[M - 1] && k[M - 1].v == V || M == this.s1) && M != 0) {
                o.fillStyle = "#000000";
                o.fillRect(X - 3 + b * (k[M - 1].v.Lctn.v + (G.Lctn.v - k[M - 1].v.Lctn.v) * G.Mdpn.v / 100) / 4096, h + R + 2, 6, 6)
            }
            if (G == V) {
                o.fillStyle = "#ffffff";
                o.fillRect(X - n + b * (G.Lctn.v / 4096) - 2, h + R + 2 - 2, 2 * n + 4, j + 4)
            }
            o.fillStyle = "rgb(" + Math.round(D.W) + ", " + Math.round(D.a) + "," + Math.round(D.k) + ")";
            o.fillRect(X - n + b * (G.Lctn.v / 4096), h + R + 2, 2 * n, j)
        }
        if (this.JV) {
            this.tx(this.qx);
            this.aK = !0
        }
    };
    iD.prototype.gk = function() {
        this.QC.G(Math.round(100 * this.qx.Intr.v / 4096));
        var w = this.qx.Trns.v,
            o = this.qx.Clrs.v,
            Q = this.jb != null,
            K = this.iz != -1;
        this.FV.o9(Q);
        this.GB.o9(Q || K);
        this.w_.o9(Q);
        if (Q) {
            this.N$.setAttribute("style", "");
            var b = this.jb.v;
            this.GB.G(Math.round(100 * b.Lctn.v / 4096));
            this.FV.G(b.Opct.v.val)
        }
        if (K) this.GB.G(w[this.iz].v.Mdpn.v);
        var Q = this.QR != null,
            K = this.s1 != -1;
        this.Ai.o9(Q);
        this.tz.o9(Q);
        this.lX.o9(Q || K);
        this.ez.o9(Q);
        if (Q) {
            this.Ye.setAttribute("style", "");
            var R = this.QR.v;
            this.lX.G(Math.round(100 * R.Lctn.v / 4096));
            var X = R.Type.v.Clry;
            this.Ai.G(["FrgC", "BckC", "UsrS"].indexOf(X));
            if (X == "FrgC") this.tz.sj(this.fm.x1);
            if (X == "BckC") this.tz.sj(this.fm.TT);
            if (X == "UsrS") this.tz.G(R.Clr.v)
        }
        if (K) this.lX.G(o[this.s1].v.Mdpn.v)
    };
    iD.prototype.k6 = function(w) {
        var o = Math.round(4096 * this.QC.T() / 100);
        this.qx.Intr.v = o;
        var Q = this.qx.Trns.v,
            K = this.qx.Clrs.v;
        if (this.jb != null) {
            var b = this.jb.v;
            b.Lctn.v = Math.round(4096 * (this.GB.T() / 100));
            b.Opct.v.val = this.FV.T()
        }
        if (this.QR != null) {
            var R = this.QR.v;
            R.Lctn.v = Math.round(4096 * (this.lX.T() / 100));
            if (w.target == this.tz) this.Ai.G(2);
            var X = this.Ai.T();
            R.Type.v.Clry = ["FrgC", "BckC", "UsrS"][X];
            if (X == 2) R.Clr = {
                t: "Objc",
                v: this.tz.T()
            };
            else if (R.Clr) delete R.Clr
        }
        if (this.iz != -1) Q[this.iz].v.Mdpn.v = this.GB.T();
        if (this.s1 != -1) K[this.s1].v.Mdpn.v = this.lX.T();
        this.GO()
    };
    iD.prototype.Kj = function(w) {
        var o = _.m5(w, this.Wd),
            Q = (o.x * _.J() - this.NM.x) / this.NM.D,
            K = (o.y * _.J() - this.NM.y) / this.NM.j,
            b = this.qx.Trns.v,
            R = this.qx.Clrs.v,
            X = null,
            h = null,
            e = -1,
            Z = -1;
        if (K < 1)
            for (var M = 0; M < b.length; M++) {
                var P = b[M].v;
                if (Math.abs(P.Lctn.v / 4096 - Q) < .02) X = b[M];
                if (M > 0)
                    if (Math.abs((b[M - 1].v.Lctn.v + (P.Lctn.v - b[M - 1].v.Lctn.v) * P.Mdpn.v / 100) / 4096 - Q) < .01) e = M
            }
        if (K > 0)
            for (var M = 0; M < R.length; M++) {
                var J = R[M].v;
                if (Math.abs(J.Lctn.v / 4096 - Q) < .02) h = R[M];
                if (M > 0)
                    if (Math.abs((R[M - 1].v.Lctn.v + (J.Lctn.v - R[M - 1].v.Lctn.v) * J.Mdpn.v / 100) / 4096 - Q) < .01) Z = M
            }
        if (h == null && X == null && e == -1 && Z == -1) {
            if (K < 0) {
                var P = {
                    t: "Objc",
                    v: {
                        classID: "TrnS",
                        Opct: {
                            t: "UntF",
                            v: {
                                type: "#Prc",
                                val: 100
                            }
                        },
                        Lctn: {
                            t: "long",
                            v: 0
                        },
                        Mdpn: {
                            t: "long",
                            v: 50
                        }
                    }
                };
                P.v.Lctn.v = Math.round(Q * 4096);
                b.push(P);
                b.sort(this.rQ);
                X = P
            }
            if (K > 1) {
                var R = this.qx.Clrs.v,
                    i = v.V.Eb(R, this.fm.x1, this.fm.TT),
                    k = v.V.qc(this.qx, i, Q),
                    J = {
                        t: "Objc",
                        v: {
                            classID: "Clrt",
                            Clr: {
                                t: "Objc",
                                v: v.V.Kt({
                                    W: k & 255,
                                    a: k >> 8 & 255,
                                    k: k >> 16 & 255
                                })
                            },
                            Type: {
                                t: "enum",
                                v: {
                                    Clry: "UsrS"
                                }
                            },
                            Lctn: {
                                t: "long",
                                v: 0
                            },
                            Mdpn: {
                                t: "long",
                                v: 50
                            }
                        }
                    };
                J.v.Lctn.v = Math.round(Q * 4096);
                R.push(J);
                R.sort(this.rQ);
                h = J
            }
        }
        if (h != null) Z = -1;
        if (X != null) e = -1;
        if (h != null || X != null || e > -1 || Z > -1) {
            this.jb = X;
            this.QR = h;
            this.iz = e;
            this.s1 = Z;
            this.gk();
            this.GO();
            _.vt(window, this.At);
            _.$y(window, this.NF)
        }
    };
    iD.prototype.Pf = function(w) {
        var o = _.m5(w, this.Wd),
            Q = _.J() * (o.x - this.NM.x) / this.NM.D,
            K = _.J() * (o.y - this.NM.y) / this.NM.j;
        Q = Math.max(0, Math.min(1, Q));
        var b = this.qx.Trns.v,
            R = this.qx.Clrs.v;
        if (this.jb != null) {
            var X = this.jb.v;
            X.Lctn.v = Math.round(4096 * Q);
            var h = b.indexOf(this.jb);
            if (h != -1 && K < -1 && b.length > 2) b.splice(h, 1);
            if (h == -1 && K > -1) b.push(this.jb);
            b.sort(this.rQ)
        }
        if (this.QR != null) {
            var e = this.QR.v;
            e.Lctn.v = Math.round(4096 * Q);
            var Z = R.indexOf(this.QR);
            if (Z != -1 && K > 1.5 && R.length > 2) R.splice(Z, 1);
            if (Z == -1 && K < 1.5) R.push(this.QR);
            R.sort(this.rQ)
        }
        if (this.iz > -1) {
            var X = b[this.iz].v;
            X.Mdpn.v = Math.max(5, Math.min(95, Math.round(100 * (Q * 4096 - b[this.iz - 1].v.Lctn.v) / (X.Lctn.v - b[this.iz - 1].v.Lctn.v))))
        }
        if (this.s1 > -1) {
            var e = R[this.s1].v;
            e.Mdpn.v = Math.max(5, Math.min(95, Math.round(100 * (Q * 4096 - R[this.s1 - 1].v.Lctn.v) / (e.Lctn.v - R[this.s1 - 1].v.Lctn.v))))
        }
        if (this.jb != null || this.QR != null || this.iz > -1 || this.s1 > -1) {
            this.gk();
            this.GO()
        }
    };
    iD.prototype.oL = function(w) {
        _.Vk(window, this.At);
        _.p_(window, this.NF);
        if (Date.now() - this.jt < 300) {
            if (this.s1 != -1 || this.iz != -1) {
                var o = (this.s1 != -1 ? this.qx.Clrs.v[this.s1] : this.qx.Trns.v[this.iz]).v;
                o.Mdpn.v = 50;
                this.gk();
                this.GO()
            } else if (this.QR != null) this.tz.ahx()
        }
        this.jt = Date.now()
    };
    iD.prototype.rQ = function(w, o) {
        return w.v.Lctn.v - o.v.Lctn.v
    };

    function bF() {
        gz.call(this, [11, 10], "isize");
        this.nH = _.B("div", "form");
        this.nH.setAttribute("style", "width:20em");
        this.body.appendChild(this.nH);
        this.zV = new aT(!0, !0);
        this.nH.appendChild(this.zV.d);
        this.kn = new dS("Resample");
        this.kn.G(!0);
        this.nH.appendChild(this.kn.d);
        this.kn.s(_.E.h, this.a6k, this);
        this.Oj = new bQ([12, 14, 1], [
            [12, 14, 2],
            [12, 14, 3], "Bicubic Sharper"
        ]);
        this.Oj.G(1);
        this.nH.appendChild(this.Oj.d);
        this.zg = new dQ("OK", !0, null, !0);
        this.zg.s("click", this.XI, this);
        this.body.appendChild(this.zg.d)
    }
    bF.prototype = new gz;
    bF.prototype.Za = function(w, o) {
        return w != null
    };
    bF.prototype.AO = function() {
        return !0
    };
    bF.prototype.a6k = function(w) {
        var o = this.kn.T(),
            Q = this.zV,
            K = this.Oj;
        if (o) K.Lh();
        else K.fz();
        if (o) Q.a4v();
        else Q.amI()
    };
    bF.prototype.v = function() {
        gz.prototype.v.call(this);
        this.Oj.v();
        this.zV.v()
    };
    bF.prototype.XI = function(w) {
        this.close();
        var o = this.zV.T(),
            Q = o.x,
            K = o.y,
            b = this.Oj.T();
        if (!this.kn.T()) b = null;
        var R = new Y(_.E.e9, !0);
        R.data = z.U0.ES(Q, K, this.zV.My(), b);
        this.A(R)
    };
    bF.prototype.MV = function(w, o) {
        this.zV.G(new fB(w.D, w.j), w.cK)
    };

    function fq() {
        gz.call(this, "Import RAW", "importraw");
        var w = _.B("div", "flexrow"),
            o = _.B("div");
        this.body.appendChild(w);
        this.body.appendChild(o);
        var Q = _.B("div", "form");
        Q.setAttribute("style", "width:16em");
        w.appendChild(Q);
        var K = _.B("div", "form");
        K.setAttribute("style", "width:14em");
        w.appendChild(K);
        this.cS = null;
        this.acK = null;
        this.NS = null;
        this.aiX = [];
        var b = [];
        for (var M = 0; M < fq.ph.length; M++) b.push(fq.ph[M] + " Bits");
        this.f6 = [new aT(!0, !0), new b7([12, 72], ["1", "3", "4"]), new b7([12, 34], b), new b7("Byte Order", ["12-34", "34-12"]), new bQ("Guesses", [])];
        for (var M = 0; M < this.f6.length; M++) {
            var R = this.f6[M];
            if (M != 0) R.G(0);
            R.s(_.E.h, M == 4 ? this._s : this.ak, this);
            var X = M == 0 ? Q : M == 4 ? o : K;
            X.appendChild(R.d)
        }
        this.Q8 = _.B("canvas");
        this.H3 = this.Q8.getContext("2d");
        this.body.appendChild(this.Q8);
        this.zg = new dQ("OK", !0, null, !0);
        this.zg.s("click", this.XI, this);
        this.body.appendChild(this.zg.d)
    }
    fq.prototype = new gz;
    fq.prototype.v = function() {
        gz.prototype.v.call(this);
        var w = this.f6;
        for (var M = 0; M < w.length; M++) w[M].v()
    };
    fq.prototype.XI = function(w) {
        this.close();
        var o = this.f6[0].T(),
            Q = ip.xX(this.acK, [{
                data: this.NS,
                Ip: new B(0, 0, o.x, o.y)
            }]),
            K = new Y(_.E.N, !0);
        K.data = {
            e: !0 ? _.S.fO : _.S.Pb,
            xN: Q
        };
        this.A(K)
    };
    fq.ph = [8, 16];
    fq.prototype.MV = function(w, o) {
        this.cS = new Uint8Array(o.gH);
        this.acK = o.YG;
        var Q = this.cS.length,
            K = [1, 3, 4],
            b = 0,
            R = 0,
            X = 1,
            h = 1,
            e = this.aiX = [];
        for (var Z = 0; Z < 3; Z++) {
            for (var P = 0; P < 2; P++) {
                var J = fq.ph[P],
                    i = K[Z],
                    k = i * J,
                    $ = Math.round(Q * 8 / k);
                if ($ != Q * 8 / k) continue;
                for (var n = 0; n <= 4e3; n++)
                    for (var j = 0; j <= 4e3; j++)
                        if (n * j == $) {
                            var y = 0;
                            if (n == j) y += 64;
                            if (Math.round(n / 100) == n / 100 && Math.round(j / 100) == j / 100) y += 32;
                            if (Math.round(n / 10) == n / 10 && Math.round(j / 10) == j / 10) y += 16;
                            if (Math.round(n / 2) == n / 2 && Math.round(j / 2) == j / 2) y += 8;
                            e.push([n, j, i, J, y])
                        }
            }
        }
        var V = function(D, q) {
            if (q[4] != D[4]) return q[4] - D[4];
            var T = Math.max(D[0], D[1]) / Math.min(D[0], D[1]),
                L = Math.max(q[0], q[1]) / Math.min(q[0], q[1]);
            if (T != L) return T - L;
            return q[0] - D[0]
        };
        e.sort(V);
        var O = this.f6,
            S = [];
        for (var M = 0; M < e.length; M++) {
            var G = e[M];
            S.push(G[0] + " x " + G[1] + ", " + G[2] + "c, " + G[3] + "-bit")
        }
        O[4].dU(S);
        O[4].G(0);
        this._s(null)
    };
    fq.prototype._s = function(w) {
        var o = this.f6,
            Q = this.aiX[this.f6[4].T()];
        o[0].G(new fB(Q[0], Q[1]), 72);
        o[1].G([1, 3, 4].indexOf(Q[2]));
        o[2].G(fq.ph.indexOf(Q[3]));
        this.ak()
    };
    fq.prototype.ak = function(w) {
        var o = this.f6,
            Q = o[0].T(),
            K = Q.x,
            b = Q.y,
            R = fq.ph[o[2].T()],
            X = this.cS;
        if (R == 16 && o[3].T() == 1) {
            X = X.slice(0);
            for (var M = 0; M < X.length; M += 2) {
                var h = X[M];
                X[M] = X[M + 1];
                X[M + 1] = h
            }
        }
        var e = this.NS = UPNG.toRGBA8.decodeImage(X, K, b, {
                tabs: {},
                ctype: [0, 2, 6][o[1].T()],
                depth: R
            }),
            Z = this.Q8,
            P = this.H3,
            J = [e, new B(0, 0, K, b)];
        v.st(J);
        for (var M = 0; M < J.length; M += 2)
            if (J[M + 1].j < 300) {
                e = J[M];
                K = J[M + 1].D;
                b = J[M + 1].j;
                break
            } Z.width = K;
        Z.height = b;
        _.d3(Z, K, b);
        var i = new ImageData(new Uint8ClampedArray(e.buffer), K, b);
        P.putImageData(i, 0, 0)
    };

    function aZ(w, o, Q) {
        cv.call(this);
        this.d = _.B("div", "");
        this.ja = w;
        this.K9 = null;
        this.fE = o == null ? !1 : o;
        this.Ar = null;
        this.Dc = Q;
        this.ut = [];
        this.Lg = [];
        this.qI = [];
        this.YR = [];
        this.sl = 0;
        this.K9 = this.amA(aZ.YR[w]);
        this.c6()
    }
    aZ.prototype = new cv;
    aZ.prototype.adY = function() {
        for (var M = 0; M < this.YR.length; M++) {
            _.Xt(this.YR[M], "selected");
            if (this.qI[M] instanceof dS) this.qI[M].G(!1)
        }
    };
    aZ.prototype.a7v = function(w) {
        var o = this.a9c.bind(this);
        for (var M = 0; M < this.qI.length; M++) {
            var Q = _.B("div", "listitem");
            this.YR.push(Q);
            if (M > 0) Q.textContent = "\u2003";
            Q.appendChild(this.qI[M].d);
            if (b_.kY.indexOf(this.ja) != -1) {
                var K = new dQ("+");
                K.En();
                K.d.style.float = "right";
                Q.appendChild(K.d);
                var b = new dQ("\u2B0D");
                b.En();
                b.d.style.float = "right";
                b.d.style["margin-right"] = "2px";
                Q.appendChild(b.d)
            }
            Q.addEventListener("click", o, !1);
            w.appendChild(Q)
        }
    };
    aZ.Uf = function(w, o) {
        var Q = o.getBoundingClientRect();
        return (w.clientY - Q.top) / Q.height
    };
    aZ.prototype.a9c = function(w) {
        var o = w.target.tagName.toLowerCase();
        if (o == "input") {
            return
        }
        if (o == "button") {
            var Q = new Y(_.E.z, !0),
                K = w.target.textContent == "+",
                b = K ? 0 : aZ.Uf(w, w.target) < .5 ? -1 : 1;
            if (K) Q.data = {
                e: "st_dupsingle",
                p: this.parent.data.p,
                Ey: this.Dc
            };
            else Q.data = {
                e: "st_movsingle",
                p: this.parent.data.p,
                Ey: this.Dc,
                aeE: b
            };
            Q.f = z.ii;
            Q.QZ = !0;
            this.A(Q);
            Q = new Y("redrawall", !0);
            Q.data = {
                aeE: b
            };
            this.A(Q);
            return
        }
        _.Cr(w);
        this.zv();
        this.sl = this.YR.indexOf(w.currentTarget);
        this.A(new Y("showme"))
    };
    aZ.prototype.zv = function() {
        if (this.K9.enab && this.K9.enab.T() == !1) this.nV({
            Op: "enab",
            F: !0
        })
    };
    aZ.prototype.a3R = function() {
        var w = this.YR[this.sl];
        if (w) _.Ka(w, "selected");
        return this.Lg[this.sl]
    };
    aZ.prototype.amA = function(w) {
        var o = {};
        for (var M = 0; M < w.length; M++) {
            var Q = w[M],
                K = null;
            if (Q == "----") K = {
                d: _.B("hr")
            };
            if (Q == "\n") K = {
                d: _.B("br")
            };
            if (Q == "blOptions") K = new bY([14, 10]);
            if (Q == "brst") K = new eO([12, 72], ["R", "G", "B"]);
            if (Q == "knko") K = new bQ("Knockout", [
                [13, 1, 0], "Shallow", "Deep"
            ]);
            if (Q == "enab") K = new dS(b_.names[b_.order.indexOf(this.ja)]);
            if (Q == "lrMd" || Q == "Md") K = new bQ([12, 19, 0], hL.gS, !1, hL.fb);
            if (Q == "Opct") K = new h4([12, 0], 0, 100, "%");
            if (Q == "iOpa") K = new h4([12, 26], 0, 100, "%");
            if (Q == "blIf") K = new fe;
            if (Q == "ShdN") K = new h4([12, 68], 0, 100, "%");
            if (Q == "lagl" || Q == "Angl") K = new iH([12, 15]);
            if (Q == "uglg") K = new dS([12, 27]);
            if (Q == "Dstn") K = new h4([12, 28], 0, 200, "px");
            if (Q == "Ckmt") K = new h4([12, 29], 0, 100, "%");
            if (Q == "blur") K = new h4([12, 14, 0], 0, 200, "px");
            if (Q == "TrnS" || Q == "MpgS") K = new iC([12, 21]);
            if (Q == "Nose") K = new h4([12, 30], 0, 100, "%");
            if (Q == "layerConceals") K = new dS([12, 31]);
            if (Q == "AntA" || Q == "antialiasGloss") K = new dS("Anti-alias");
            if (Q == "GlwT") K = new bQ([12, 32], b_.VM.names);
            if (Q == "glwS") K = new bQ([12, 70], b_.VM.anD);
            if (Q == "Inpr") K = new h4([12, 12], 1, 100, "%");
            if (Q == "bvlS") K = new bQ([12, 22], b_.Qr.style);
            if (Q == "bvlT") K = new bQ([12, 32], b_.Qr.a47);
            if (Q == "bvlD") K = new bQ(null, b_.Qr.dir);
            if (Q == "srgR") K = new h4([12, 34], 0, 1e3, "%");
            if (Q == "Sftn") K = new h4([12, 35], 0, 20, "px");
            if (Q == "Lald") K = o.lagl;
            if (Q == "hglM" || Q == "sdwM") K = new bQ([12, 36], hL.gS, !1, hL.fb);
            if (Q == "hglC" || Q == "sdwC") K = new eQ;
            if (Q == "hglO" || Q == "sdwO") K = new h4([12, 0], 0, 100, "%");
            if (Q == "Invr" || Q == "InvT") K = new dS([4, 11]);
            if (Q == "Sz") K = new h4([12, 14, 0], 1, 200, "px");
            if (Q == "Styl") K = new bQ([12, 40], b_.stroke.names);
            if (Q == "PntT") K = new bQ([12, 66], b_.stroke.adh);
            if (Q == "Clr") K = new eQ(!0);
            if (Q == "Grad") {
                K = new dn(!0, [12, 37], !0);
                K.G(JSON.parse(b_.pA.C4).v)
            }
            if (Q == "Rvrs") K = new dS([12, 23, 0]);
            if (Q == "Dthr") K = new dS("Dither");
            if (Q == "Type") K = new bQ([12, 22], b_.V.names.slice(0, this.ja == "FrFX" ? 6 : 5));
            if (Q == "Ptrn") K = new hv([12, 62]);
            if (Q == "Scl") K = new h4([12, 38], 10, 500, "%", 0, !0);
            if (Q == "Algn") K = new dS([12, 39]);
            if (Q == "Ofst") K = new ej(!0);
            if (Q == "phase") K = new ej(!1);
            if (Q == "useShape") K = new dS([12, 21]);
            if (Q == "useTexture") K = new dS([12, 67]);
            if (Q == "textureDepth") K = new h4([12, 34], -300, 300, "%");
            var b = Q == "----" || Q == "\n" ? Q + M : Q;
            if (K != null) o[b] = K
        }
        return o
    };
    aZ.prototype.ahr = function(w) {
        var o = this.Lg[this.sl];
        for (var M = 0; M < w.length; M++) {
            var Q = this.K9[w[M]];
            if (Q && o.contains(Q.d)) o.removeChild(Q.d)
        }
    };
    aZ.prototype.aiD = function(w) {
        var o = this.Lg[this.sl];
        for (var M = 0; M < w.length; M++) {
            var Q = this.K9[w[M]];
            if (Q && !o.contains(Q.d)) o.appendChild(Q.d)
        }
    };
    aZ.prototype.yy = function(w, o) {
        if (this.K9 == null) return;
        var Q = o == d5.Dq;
        if (this.K9.Grad) {
            this.K9.Grad.vO(w.x1, w.TT);
            if (Q || o == d5.Ba || o == d5.zM) this.K9.Grad.J$(w.yH)
        }
        if (this.K9.Ptrn) {
            if (Q || o == d5.$V) this.K9.Ptrn.J$(w.QL)
        }
        if (this.K9.TrnS) {
            if (Q || o == d5._L) this.K9.TrnS.J$(w._U)
        }
        if (this.K9.MpgS) {
            if (Q || o == d5._L) this.K9.MpgS.J$(w._U)
        }
    };
    aZ.prototype.v = function() {
        for (var M = 0; M < this.ut.length; M++) this.ut[M].v();
        for (var w in this.K9)
            if (this.K9[w] instanceof cv) this.K9[w].v()
    };
    aZ.prototype.c6 = function() {
        for (var w in this.K9) {
            var o = this.K9[w];
            o.parent = this;
            if (o instanceof cv) o.s(_.E.h, this.adZ, this);
            if (this.Lg.length == 0 || w == "useShape" || w == "useTexture") {
                var Q = new bY(o.Bj()),
                    K = _.B("div", "bordered padded");
                if (this.fE == !1) {
                    K.appendChild(Q.d);
                    K.appendChild(_.B("hr", ""))
                }
                this.ut.push(Q);
                this.Lg.push(K);
                this.qI.push(o)
            } else this.Lg[this.Lg.length - 1].appendChild(o.d)
        }
    };
    aZ.prototype.update = function(w, o) {
        if (this.K9 == null) return;
        if (this.fE) this.Ar = JSON.parse(JSON.stringify(o));
        for (var Q in o) {
            if ("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(Q) != -1) this.K9[Q].G(o[Q].v.val);
            if ("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(Q) != -1) {
                this.K9[Q].G(o[Q].v, w)
            }
            if (["Md", "hglM", "sdwM"].indexOf(Q) != -1) this.K9[Q].G(hL.ja.indexOf(o[Q].v.BlnM));
            if (Q == "lrMd") {
                var K = (o.xI ? [
                        [15, 10, 27]
                    ] : []).concat(hL.gS),
                    b = (o.xI ? [1] : []).concat(hL.fb);
                this.K9[Q].dU(K, b);
                this.K9[Q].G(o[Q].v)
            }
            if (Q == "lagl") {
                var R = o.uglg && o.uglg.v ? w.BP() : o.lagl.v.val;
                this.K9[Q].G(R)
            }
            if (Q == "Lald") {
                var R = o.uglg && o.uglg.v ? w.Th() : o.Lald.v.val;
                this.K9[Q].G(null, R)
            }
            if (Q == "Type") this.K9[Q].G(b_.V.types.indexOf(o.Type.v.GrdT));
            if (Q == "Styl") this.K9[Q].G(b_.stroke.types.indexOf(o.Styl.v.FStl));
            if (Q == "PntT") {
                var X = b_.stroke.r$.indexOf(o.PntT.v.FrFl);
                this.K9[Q].G(X);
                if (!this.fE) {
                    this.ahr(b_.vu.concat(b_.$w.concat(b_.$F)));
                    this.aiD([b_.vu, b_.$w, b_.$F][X])
                }
            }
            if (Q == "GlwT") this.K9[Q].G(b_.VM.types.indexOf(o.GlwT.v.BETE));
            if (Q == "glwS") this.K9[Q].G(b_.VM.fv.indexOf(o.glwS.v.IGSr));
            if (Q == "bvlS") this.K9[Q].G(b_.Qr.types.indexOf(o.bvlS.v.BESl));
            if (Q == "bvlT") this.K9[Q].G(b_.Qr.sz.indexOf(o.bvlT.v.bvlT));
            if (Q == "bvlD") this.K9[Q].G(["In", "Out"].indexOf(o.bvlD.v.BESs))
        }
    };
    aZ.prototype.adZ = function(w) {
        for (var o in this.K9) {
            if (this.K9[o] != w.target) continue;
            var Q = null,
                K = !1;
            if ("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(o) != -1) Q = {
                type: "#Prc",
                val: w.target.T()
            };
            if (["Dstn", "Ckmt", "blur", "Sz", "Sftn"].indexOf(o) != -1) Q = {
                type: "#Pxl",
                val: w.target.T()
            };
            if (["Angl", "lagl"].indexOf(o) != -1) Q = {
                type: "#Ang",
                val: w.target.T().aa
            };
            if ("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(o) != -1) Q = w.target.T();
            if (["Md", "hglM", "sdwM"].indexOf(o) != -1) Q = {
                BlnM: hL.ja[w.target.T()]
            };
            if (o == "uglg") {
                Q = w.target.T();
                K = !0
            }
            if (o == "PntT") {
                Q = {
                    FrFl: b_.stroke.r$[w.target.T()]
                };
                K = !0
            }
            if (o == "Lald") Q = {
                type: "#Ang",
                val: w.target.T().alt
            };
            if (o == "Type") Q = {
                GrdT: b_.V.types[w.target.T()]
            };
            if (o == "Styl") Q = {
                FStl: b_.stroke.types[w.target.T()]
            };
            if (o == "GlwT") Q = {
                BETE: b_.VM.types[w.target.T()]
            };
            if (o == "glwS") Q = {
                IGSr: b_.VM.fv[w.target.T()]
            };
            if (o == "bvlS") Q = {
                BESl: b_.Qr.types[w.target.T()]
            };
            if (o == "bvlT") Q = {
                bvlT: b_.Qr.sz[w.target.T()]
            };
            if (o == "bvlD") Q = {
                BESs: ["In", "Out"][w.target.T()]
            };
            this.nV({
                Op: o,
                F: Q
            });
            if (K) {
                if (this.fE) this.update(null, this.Ar);
                else {
                    var b = this.parent,
                        R = b.xN,
                        X = this.Dc,
                        h = R.t[b.data.p].add.lmfx[b_.Ix[X[0]]].v[X[1]].v;
                    this.update(R, h)
                }
            }
        }
    };
    aZ.prototype.nV = function(w) {
        if (this.fE) {
            this.Ar[w.Op].v = w.F;
            this.A(new Y(_.E.h))
        } else {
            w.e = "changeprop";
            w.p = this.parent.data.p;
            w.qX = this.Dc;
            var o = new Y(_.E.z, !0);
            o.data = w;
            o.f = z.ii;
            o.QZ = !0;
            this.A(o);
            this.A(new Y("afterchange", !0))
        }
    };
    aZ.prototype.T = function() {
        return JSON.parse(JSON.stringify(this.Ar))
    };
    aZ.YR = {
        bops: "blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),
        DrSh: "enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),
        IrSh: "enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),
        OrGl: ["enab", "Md", "Opct", "Nose", "\n", "Clr", "Grad", "----", "GlwT", "Ckmt", "blur", "TrnS", "Inpr", "ShdN"],
        IrGl: ["enab", "Md", "Opct", "Nose", "\n", "Clr", "Grad", "----", "GlwT", "glwS", "Ckmt", "blur", "TrnS", "Inpr", "ShdN"],
        ebbl: ["enab", "bvlS", "bvlT", "bvlD", "srgR", "blur", "Sftn", "----", "lagl", "Lald", "uglg", "TrnS", "\n", "hglM", "hglC", "hglO", "sdwM", "sdwC", "sdwO", "useShape", "MpgS", "Inpr", "useTexture", "Ptrn", "Scl", "textureDepth", "InvT", "Algn", "phase"],
        SoFi: ["enab", "Md", "Opct"].concat(b_.vu),
        GrFl: ["enab", "Md", "Opct"].concat(b_.$w),
        patternFill: ["enab", "Md", "Opct"].concat(b_.$F),
        ChFX: "enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),
        FrFX: ["enab", "Sz", "Styl", "\n", "Md", "Opct", "PntT", "\n"].concat(b_.vu.concat(b_.$w.concat(b_.$F)))
    };

    function g6() {
        gz.call(this, [11, 6], "layerstyle");
        this.aiG = -1;
        this.data = {};
        this.xN = null;
        this.AL = null;
        this.Zt = [];
        this.We = [];
        _.Ka(this.body, "flexrow");
        this.rw = _.B("div", "bordered");
        this.rw.setAttribute("style", "min-width:13em;");
        this.body.appendChild(this.rw);
        this.Eh = _.B("div", "");
        this.Eh.setAttribute("style", "width:25em; padding-left: 1em;");
        this.body.appendChild(this.Eh);
        this.Wj = _.B("div", "form");
        this.Wj.setAttribute("style", "padding-left: 1em; width:7em;");
        this.body.appendChild(this.Wj);
        this.Dj = new dQ("OK", !0, null, !0);
        this.Dj.s("click", this.XI, this);
        this.Wj.appendChild(this.Dj.d);
        this.gT = new dQ([12, 87], !0, null, !0);
        this.gT.s("click", this.ad$, this);
        this.Wj.appendChild(this.gT.d);
        this.pq = new aJ;
        this.pq.parent = this;
        this.pq.s(_.E.h, this.amG, this);
        this.Wj.appendChild(this.pq.d);
        this.s("closebtn", this.YP, this);
        this.s("redrawall", this.gf, this)
    }
    g6.prototype = new gz;
    g6.prototype.AO = function() {
        return !0
    };
    g6.prototype.amG = function(w) {
        var o = this.pq.T();
        this.nV({
            e: "setstl",
            F: o.Ze
        });
        this.gf(null)
    };
    g6.prototype.ad$ = function(w) {
        var o = this.xN,
            Q = this.data.p;
        if (Q == null) Q = o.u[0];
        var K = this.xN.t[Q],
            b = eg.JH(K),
            R = new Y(_.E.N, !0);
        R.data = {
            e: _.S.UA,
            q7: "add",
            pO: d5.cD,
            d5: [JSON.parse(JSON.stringify(b))]
        };
        this.A(R)
    };
    g6.prototype.a8m = function(w) {
        this.data.index = w.currentTarget.Dc;
        this.u_(w.currentTarget.Dc)
    };
    g6.prototype.gf = function(w) {
        this.MV(this.xN, this.data)
    };
    g6.prototype.u_ = function(w, o) {
        _.Tk(this.Eh);
        for (var M = 0; M < this.Zt.length; M++) this.Zt[M].adY();
        var Q = w == 0 ? this.Zt[0] : this.We[w[0]][w[1]];
        this.Eh.appendChild(Q.a3R());
        if (o) Q.zv();
        var K = this.xN;
        if (K) {
            var b = K.t[this.data.p];
            this.Zt[0].update(K, cr.xk.tB(K, b));
            var R = b.add.lmfx;
            if (R == null) return;
            for (var M = 0; M < b_.order.length; M++) {
                var X = R[b_.Ix[M]].v;
                for (var h = 0; h < X.length; h++) this.We[M][h].update(K, X[h].v)
            }
        }
        if (o) Q.zv()
    };
    g6.prototype.v = function() {
        gz.prototype.v.call(this);
        this.gT.v();
        this.pq.v();
        for (var M = 0; M < this.Zt.length; M++) this.Zt[M].v()
    };
    g6.prototype.MV = function(w, o) {
        var Q = o.p == null;
        this.data.p = o.p;
        this.data.index = o.index;
        o = this.data;
        this.xN = w;
        if (Q) o.p = w.u.length == 0 ? w.t.length - 1 : w.u[0];
        _.Tk(this.rw);
        var K = w.t[o.p].add.lmfx;
        this.Dt();
        this.Zt = [new aZ("bops", !1, 0)];
        this.We = [];
        for (var M = 0; M < b_.order.length; M++) {
            this.We.push([]);
            var b = K == null ? [] : K[b_.Ix[M]].v;
            for (var R = 0; R < b.length; R++) {
                var X = new aZ(b_.order[M], !1, [M, R]);
                this.Zt.push(X);
                this.We[M].push(X)
            }
            if (b.length == 0) {
                var X = new aZ(b_.order[M], !1, [M, 0]);
                this.Zt.push(X);
                this.We[M].push(X)
            }
        }
        this.v();
        this.TO(this.AL, d5.Dq);
        for (var M = 0; M < this.Zt.length; M++) {
            this.Zt[M].parent = this;
            this.Zt[M].a7v(this.rw);
            this.Zt[M].s("showme", this.a8m, this)
        }
        if (o.index == null || o.index == 0 || !Q && K[b_.Ix[o.index[0]]].v.length == 0) {
            this.u_(0)
        } else this.u_(o.index, Q);
        this.s("afterchange", this.Dt, this)
    };
    g6.prototype.Dt = function(w) {
        var o = this.xN,
            Q = this.data.p;
        if (Q == null) Q = o.u[0];
        var K = this.xN.t[Q],
            b = eg.JH(K);
        this.pq.G(b, o.add.Patt ? o.add.Patt : [], o.BP(), o.Th())
    };
    g6.prototype.yy = function(w, o) {
        this.AL = w;
        this.TO(w, o);
        if (o == d5.cD || o == d5.Dq) {
            this.pq.J$([w.Rb, w.QL])
        }
        if (o == d5.Ru) {}
    };
    g6.prototype.TO = function(w, o) {
        for (var M = 0; M < this.Zt.length; M++) this.Zt[M].yy(w, o)
    };
    g6.prototype.YP = function(w) {
        this.nV({
            e: "cancel"
        })
    };
    g6.prototype.XI = function(w) {
        this.nV({
            e: "confirm"
        });
        this.close()
    };
    g6.prototype.nV = function(w) {
        w.p = this.data.p;
        var o = new Y(_.E.z, !0);
        o.data = w;
        o.f = z.ii;
        o.QZ = !0;
        this.A(o);
        this.Dt()
    };
    g6.YA = function(w) {
        var o = [{
            name: [14, 10],
            S$: !0
        }];
        for (var M = 0; M < b_.names.length; M++) o.push({
            name: b_.names[M]
        });
        if (w) {
            o[o.length - 1].S$ = !0;
            o.push({
                name: "Styles To Separate Layers",
                l: function(Q) {
                    return {
                        l: Q != null && Q.u.length != 0 && Q.t[Q.u[0]].add.lmfx != null
                    }
                }
            })
        }
        return o
    };
    g6.M9 = function(w) {
        var o = [{
            b: _.E.N,
            c: {
                e: _.S.QH,
                hX: "layerstyle"
            }
        }];
        for (var M = 0; M < b_.names.length; M++) o.push({
            b: _.E.N,
            c: {
                e: _.S.QH,
                hX: "layerstyle",
                index: [M, 0]
            }
        });
        if (w) {
            var Q = {
                classID: "Mk",
                null: hX.EX("Lyr"),
                Usng: {
                    t: "obj ",
                    v: [{
                        t: "prop",
                        v: {
                            classID: "Prpr",
                            keyID: "Lefx"
                        }
                    }, {
                        t: "Enmr",
                        v: {
                            classID: "Lyr",
                            typeID: "Ordn",
                            enum: "Trgt"
                        }
                    }]
                }
            };
            o.push({
                b: _.E.e9,
                c: {
                    hj: "make",
                    H8: Q
                }
            })
        }
        return o
    };
    g6.uD = function(w) {
        var o = [];
        if (w) o.push({
            name: [6, 48, 0, 0],
            G4: !0
        }, {
            name: [6, 48, 0, 1],
            G4: !0
        }, {
            name: [6, 48, 0, 2],
            G4: !0,
            S$: !0
        });
        for (var Q in au.names) o.push({
            name: au.names[Q],
            S$: au.yZ.indexOf(Q) != -1,
            G4: m[Q] != null
        });
        return o
    };
    g6.pb = function(w) {
        var o = [];
        if (w)
            for (var M = 0; M < 3; M++) o.push({
                b: _.E.e9,
                c: z.ti.M3(M)
            });
        for (var Q in au.names) {
            var K = bf._R(Q);
            if (K == null) K = {};
            for (var b in au.MP)
                if (au.MP[b] == Q) K.classID = b;
            var R = {
                hj: "make",
                H8: {
                    classID: "Mk",
                    null: hX.EX("AdjL"),
                    Usng: {
                        t: "Objc",
                        v: {
                            classID: "AdjL",
                            Type: {
                                t: "Objc",
                                v: K
                            }
                        }
                    }
                }
            };
            o.push({
                b: _.E.e9,
                c: R
            })
        }
        return o
    };

    function il() {
        gz.call(this, "Merge Channels", "mergechannels");
        this.pn = null;
        var w = _.B("div", "form");
        this.body.appendChild(w);
        this.f6 = [];
        for (var M = 0; M < 3; M++) {
            var o = new bQ(au.kl[M], []);
            this.f6.push(o);
            w.appendChild(o.d);
            _.EV(w)
        }
        this.Dj = new dQ("OK", !0, null, !0);
        this.Dj.s("click", this.XI, this);
        w.appendChild(this.Dj.d)
    }
    il.prototype = new gz;
    il.prototype.v = function() {
        gz.prototype.v.call(this);
        for (var M = 0; M < 3; M++) this.f6[M].v()
    };
    il.prototype.MV = function(w, o, Q, K) {
        this.pn = Q;
        var b = [];
        for (var M = 0; M < Q.length; M++) b.push(Q[M].name);
        for (var M = 0; M < 3; M++) {
            var R = this.f6[M];
            R.dU(b);
            R.G(Math.min(M, Q.length - 1))
        }
    };
    il.prototype.XI = function(w) {
        var o = this.pn,
            Q = o[0],
            K = new Y(_.E.e9, !0);
        K.data = fb.Xy(Q.D, Q.j, Q.cK, "Merged Document", "Wht");
        this.A(K);
        var b = [];
        for (var M = 0; M < 3; M++) b.push(o[this.f6[M].T()].X_());
        var Q = o[o.length - 1],
            R = Q.t[0],
            X = R.buffer;
        for (var M = 0; M < X.length; M += 4) {
            X[M] = b[0][M];
            X[M + 1] = b[1][M];
            X[M + 2] = b[2][M]
        }
        R.C();
        Q.C();
        this.close()
    };

    function g2() {
        gz.call(this, [1, 10], "script");
        var w = _.B("div", "form");
        w.setAttribute("style", "width:44em");
        this.body.appendChild(w);
        this.AL = null;
        this.Jq = [];
        this.y$ = [];
        this.a8u;
        var o = this._c = new dQ([1, 2], !1, null, !0);
        o.s("click", this.te, this);
        w.appendChild(o.d);
        var Q = new dQ("JS Reference", !1, null, !0);
        Q.s("click", this.afo, this);
        w.appendChild(Q.d);
        w.appendChild(new bY("Demos:").d);
        this.a7U = [];
        var K = g2.Hq;
        for (var M = 0; M < K.length; M++) {
            var b = new dQ(K[M].Y$, !1, null, !0);
            this.a7U.push(b);
            w.appendChild(b.d);
            b.s("click", this.amb, this)
        }
        this.Fg = _.B("textarea");
        this.Fg.setAttribute("rows", 16);
        this.Fg.setAttribute("style", "display:block;tab-size:4; font-family:monospace;width:100%;");
        w.appendChild(this.Fg);
        var R = new dQ("Run", !0, null, !0);
        R.s("click", this.XI, this);
        w.appendChild(R.d);
        this.a38 = _.B("div");
        w.appendChild(this.a38)
    }
    g2.prototype = new gz;
    g2.prototype.v = function() {
        this._c.v()
    };
    g2.prototype.te = function() {
        var w = this.a8u;
        if (w == null) w = "script.jsx";
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.QH,
            hX: "namewindow",
            np: w.slice(0, w.length - 4),
            tV: this.a7a.bind(this)
        };
        this.A(o)
    };
    g2.prototype.a7a = function(w) {
        var o = this.Fg.value,
            Q = W.wG(o),
            K = new Y(_.E.N, !0);
        K.data = {
            e: _.S.Ou,
            gH: Q.buffer,
            mN: w + ".jsx",
            ahH: !0
        };
        this.A(K)
    };
    g2.prototype.a19 = function(w) {
        var M = this.Jq.indexOf(w.target),
            o = this.a8u = this.y$[M],
            Q = this.AL.rD.Bp[o],
            K = new Uint8Array(Q),
            b = W.K1(K, 0, K.length);
        this.Fg.value = b
    };
    g2.prototype.MV = function(w, o, Q) {
        this.Fg.value = g2.Hq[0].J0;
        this.yi()
    };
    g2.prototype.yi = function() {
        var w = this.AL.rD,
            o = this.a38;
        _.Tk(o);
        this.Jq = [];
        this.y$ = [];
        o.textContent = "Saved scripts: ";
        for (var Q in w.Bp) {
            if (Q.endsWith(".jsx")) {
                var K = new dQ(Q, !1, null, !0);
                this.Jq.push(K);
                this.y$.push(Q);
                K.s("click", this.a19, this);
                o.appendChild(K.d)
            }
        }
    };
    g2.prototype.yy = function(w, o) {
        this.AL = w;
        if (o == d5.$D) this.yi()
    };
    g2.prototype.afo = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.uq,
            link: "https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"
        };
        this.A(o)
    };
    g2.prototype.XI = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.kw,
            rt: this.Fg.value
        };
        this.A(o)
    };
    g2.prototype.amb = function(w) {
        var o = this.a7U.indexOf(w.currentTarget);
        this.Fg.value = g2.Hq[o].J0
    };
    g2.Hq = [{
        Y$: "Hello",
        J0: "\nalert(\"Hello Photopea!\");\n"
    }, {
        Y$: "Process Layers",
        J0: "\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n" + "\t//lays[i].visible = false;\n" + "\t//lays[i].opacity = 50;\n" + "\tlays[i].name = \"My Layer \"+i;\n}"
    }, {
        Y$: "Clone Layers",
        J0: "\nvar orig = app.activeDocument.activeLayer;\n" + "var cnt = 12;\n" + "var angle = Math.floor(360 / cnt);\n" + "\n" + "for(var i=1; i<cnt; i++)\n" + "{\n" + "\tvar nlay = orig.duplicate();\n" + "\t//nlay.translate(30*i, 20*i);\n" + "\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n" + "}"
    }];

    function e5() {
        gz.call(this, [11, 7], "newproject");
        this.data = null;
        this.pn = null;
        var w = _.B("div", "flexrow");
        this.Vg = w;
        this.body.appendChild(w);
        var o = _.B("div", "form");
        this.nH = o;
        w.appendChild(o);
        this.DV = new g$([12, 48]);
        o.appendChild(this.DV.d);
        _.EV(o);
        this.zV = new aT(!0);
        this.zV.G(new fB(1280, 720), 72);
        this.zV.s(_.E.h, this.eM, this);
        o.appendChild(this.zV.d);
        this.Oq = new bQ([12, 46], [
            [13, 1, 8],
            [13, 1, 9],
            [12, 46]
        ]);
        o.appendChild(this.Oq.d);
        o.appendChild(_.B("hr"));
        this.zg = new dQ([12, 49], !0, null, !0);
        this.zg.s("click", this.XI, this);
        o.appendChild(this.zg.d);
        var Q = e5.cS,
            K = [];
        for (var M = 0; M < Q.length; M++) K.push(Q[M].name);
        this.gd = new b7(null, K);
        this.gd.s(_.E.h, this.l$, this);
        o.appendChild(this.gd.d);
        this.gd.d.style["margin-top"] = "1em";
        this.bh = new i8(!0);
        this.bh.s(_.E.h, this.a8C, this);
        o.appendChild(this.bh.d);
        this.l$();
        this.GY = new gC;
        this.GY.parent = this;
        this.GY.d.setAttribute("style", "margin-left:1em");
        this.GY.s("tempready", this.abP, this)
    }
    e5.prototype = new gz;
    e5.prototype.yy = function(w, o) {
        this.GY.yy(w)
    };
    e5.prototype.DZ = function(w, o) {
        return new fB(Math.max(0, Math.min(70, (w - 690) / 2)), w > o ? Math.max(0, Math.min(50, (o - 400) / 2)) : 0)
    };
    e5.prototype.VJ = function(w, o) {
        this.nH.setAttribute("style", "width:" + Math.min(w, 338) + "px");
        this.bh.d.style.height = o - 260 + "px";
        var Q = this.GY.d,
            K = Q.parentNode;
        if (w < 500) {
            if (K != null) this.Vg.removeChild(Q)
        } else {
            if (K == null) this.Vg.appendChild(Q)
        }
        this.GY.VJ(w - 360, o - 35)
    };
    e5.prototype.eM = function() {
        this.GY.G(this.zV.T())
    };
    e5.prototype.a8C = function(w) {
        var o = this.bh.T(),
            Q = e5.cS[this.gd.T()].QN[o],
            K = Q[4];
        if (K == 0) K = 72;
        var b = Q[1],
            R = Q[2],
            X = ["px", "%", "mm", "in"].indexOf(Q[3]),
            h = [1, 1, 25.4 / K, 1 / K][X];
        b /= h;
        R /= h;
        this.zV.G(new fB(Math.round(b), Math.round(R)), K);
        this.zV.a1P(X);
        this.bh.qO(o);
        this.eM()
    };
    e5.prototype.l$ = function(w) {
        var o = e5.cS[this.gd.T()].QN,
            Q = [],
            K = [],
            b = Math.round(106 * _.J()),
            R = Math.round(106 * _.J()),
            X = 0;
        for (var M = 0; M < o.length; M++) X = Math.max(X, o[M][1], o[M][2]);
        for (var M = 0; M < o.length; M++) {
            var h = o[M],
                e = h[1] + " x " + h[2] + " " + h[3];
            if (h[3] == "in") e = (h[1] * 25.4).toFixed(0) + " x " + (h[2] * 25.4).toFixed(0) + " mm";
            if (h[3] == "mm") e = (h[1] / 25.4).toFixed(1) + " x " + (h[2] / 25.4).toFixed(1) + " in";
            if (h[4]) e = e + " @ " + h[4] + " ppi";
            K.push(e);
            Q.push(e5.Il(h, b, R, X))
        }
        this.bh.lv(Q, K, b, R)
    };
    e5.Il = function(w, o, Q, K) {
        var b = _.B("canvas", ""),
            R = b.getContext("2d");
        b.width = o;
        b.height = Q;
        var X = Math.round(o / 8),
            h = Math.floor(11 * _.J()),
            e = w[1],
            Z = w[2];
        R.fillStyle = "#000000";
        R.font = Math.round(h * .9) + "px \"Open Sans\", Sans-Serif";
        var P = e + " x " + Z + " " + w[3],
            J = R.measureText(P);
        R.fillText(P, Math.round((o - J.width) / 2), Q - Math.round(X / 2));
        if (w[0] != null) {
            R.font = "bold " + h + "px \"Open Sans\", Sans-Serif";
            var P = w[0],
                J = R.measureText(P);
            R.fillText(P, Math.round((o - J.width) / 2), Q - Math.round(X / 2) - Math.round(h * 1.3))
        }
        Q -= Math.round(2.5 * h);
        var i = Math.min((o - X) / e, (Q - X) / Z);
        i *= .5 + .5 * (Math.max(e, Z) / K);
        var k = (o - e * i) / 2,
            $ = (Q - Z * i) / 2;
        R.strokeRect(Math.round(k) + .5, Math.round($) + .5, Math.round(e * i), Math.round(Z * i));
        return b.toDataURL()
    };
    e5.prototype.v = function() {
        gz.prototype.v.call(this);
        this.zV.v();
        this.DV.v();
        this.Oq.v();
        this.zg.v();
        this.DV.G(b6.get([11, 7]));
        this.gd.v();
        this.GY.v()
    };
    e5.prototype.XI = function(w) {
        var o = this.zV.T(),
            Q = o.x,
            K = o.y;
        this.close();
        var b = new Y(_.E.e9, !0);
        b.data = fb.Xy(Q, K, this.zV.My(), this.DV.T(), ["Wht", "Trns", "BckC"][this.Oq.T()]);
        this.A(b);
        this.z6()
    };
    e5.prototype.abP = function(w) {
        var o = w.data.xN;
        o.cK = this.zV.My();
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.fO,
            xN: o
        };
        this.A(Q);
        this.close();
        this.z6()
    };
    e5.prototype.z6 = function() {
        var w = this.pn[this.pn.length - 1],
            o = this.data.a09;
        if (o) ax.EH(function() {
            var Q = new XMLHttpRequest,
                K = "https://www.googleapis.com/drive/v3/files?" + ax._I();
            Q.open("POST", K, !0);
            Q.setRequestHeader("Content-Type", "application/json");
            Q.addEventListener("load", function(b) {
                var R = JSON.parse(b.target.response);
                w.lh = {
                    file: R,
                    WS: "psd"
                };
                alert(w.name + " created in Google Drive")
            });
            Q.send(JSON.stringify({
                name: w.name,
                aie: [o]
            }))
        })
    };
    e5.prototype.MV = function(w, o, Q, K) {
        this.pn = Q;
        if (w != null && w.o != null) {
            var b = new B(0, 0, w.D, w.j).z2(w.o.rect);
            this.zV.G(new fB(b.D, b.j))
        }
        this.data = o;
        this.eM();
        this.DV.LN();
        if (_.Qm()) eP.aem(this.al8.bind(this))
    };
    e5.prototype.al8 = function(w) {
        if (w == "granted") eP.b2(this, this.aas.bind(this))
    };
    e5.prototype.aas = function(w, o) {
        this.zV.G(new fB(o.D, o.j))
    };
    e5.cS = [{
        name: "Social",
        QN: [
            ["FB Page Cover", 1640, 664, "px", 0],
            ["FB Shared Image", 1200, 630, "px", 0],
            ["FB Event Image", 1920, 1080, "px", 0],
            ["FB Group Header", 1640, 856, "px", 0],
            ["Instagram", 1080, 1080, "px", 0],
            ["Insta Story", 1080, 1920, "px", 0],
            ["Youtube Profile", 800, 800, "px", 0],
            ["Youtube Cover", 2560, 1440, "px", 0],
            ["Twitter Profile", 400, 400, "px", 0],
            ["Twitter Header", 1500, 500, "px", 0]
        ]
    }, {
        name: [12, 88, 4],
        QN: [
            ["A3", 297, 420, "mm", 300],
            ["A4", 210, 297, "mm", 300],
            ["A5", 148, 210, "mm", 300],
            ["B3", 353, 500, "mm", 300],
            ["B4", 250, 353, "mm", 300],
            ["B5", 176, 250, "mm", 300],
            ["Letter", 8.5, 11, "in", 300],
            ["Ledger", 11, 17, "in", 300],
            ["Business Card", 3.5, 2, "in", 300]
        ]
    }, {
        name: [12, 88, 0],
        QN: [
            ["Wallet", 2, 3, "in", 300],
            ["Enprint", 3.5, 5, "in", 300],
            [null, 5, 7, "in", 300],
            [null, 8, 12, "in", 300],
            [null, 12, 18, "in", 300],
            [null, 16, 24, "in", 300],
            [null, 20, 30, "in", 300],
            [null, 24, 36, "in", 300]
        ]
    }, {
        name: [12, 88, 1],
        QN: [
            ["VGA", 640, 480, "px", 0],
            ["XGA", 1024, 768, "px", 0],
            ["HD", 1280, 720, "px", 0],
            [null, 1366, 768, "px", 0],
            [null, 1600, 900, "px", 0],
            ["Full HD", 1920, 1080, "px", 0],
            ["2K", 2048, 1080, "px", 0],
            ["UHD", 3840, 2160, "px", 0],
            ["4K", 4096, 2160, "px", 0]
        ]
    }, {
        name: [12, 88, 2],
        QN: [
            ["iPhone 4", 640, 900, "px", 326],
            ["iPhone 5", 640, 1136, "px", 326],
            ["iPhone 6 7 8", 750, 1334, "px", 326],
            ["iPhone 6+ 7+ 8+", 1080, 1920, "px", 401],
            ["iPhone X", 1125, 2436, "px", 458],
            ["Samsung A5", 720, 1280, "px", 0],
            ["Samsung S5", 1080, 1920, "px", 0],
            ["Samsung S6", 1440, 2560, "px", 0],
            ["Samsung S8+", 1440, 2560, "px", 0],
            ["Google Pixel", 1080, 1920, "px", 0],
            ["iPad Mini 4", 1536, 2048, "px", 0],
            ["iPad Air 2", 1536, 2048, "px", 0],
            ["iPad Pro 9.7\"", 1536, 2048, "px", 0],
            ["iPad Pro 10.5\"", 1668, 2224, "px", 0],
            ["iPad Pro 12.9\"", 2048, 2732, "px", 0]
        ]
    }, {
        name: [12, 88, 3],
        QN: [
            ["Small Square", 200, 200, "px", 0],
            ["Square", 250, 250, "px", 0],
            ["Medium Rect", 300, 250, "px", 0],
            ["Large Rect", 336, 280, "px", 0],
            ["Mobile Leaderboard", 320, 50, "px", 0],
            ["Large Mobile", 320, 100, "px", 0],
            ["Banner", 468, 60, "px", 0],
            ["Leaderboard", 728, 90, "px", 0],
            ["Large Leaderboard", 970, 90, "px", 0],
            ["Billboard", 970, 250, "px", 0],
            ["Vertical Rect", 240, 400, "px", 0],
            ["Skyscraper", 120, 600, "px", 0],
            ["Wide Skyscraper", 160, 600, "px", 0],
            ["Half Page", 300, 600, "px", 0],
            ["Portrait", 300, 1050, "px", 0]
        ]
    }, {
        name: "2\u1D3A",
        QN: [
            [null, 16, 16, "px", 0],
            [null, 32, 32, "px", 0],
            [null, 64, 64, "px", 0],
            [null, 128, 128, "px", 0],
            [null, 256, 256, "px", 0],
            [null, 512, 512, "px", 0],
            [null, 1024, 1024, "px", 0],
            [null, 2048, 2048, "px", 0],
            [null, 4096, 4096, "px", 0]
        ]
    }];

    function hq(w, o, Q) {
        gz.call(this, o, "sel_" + w);
        this.e = w;
        var K = _.B("div", "form");
        this.body.appendChild(K);
        this.DV = new fN(o, 0, 255, null, 0, !1, !0);
        K.appendChild(this.DV.d);
        this.DV.G(1);
        var b = _.B("span");
        b.textContent = Q;
        K.appendChild(b);
        _.EV(K);
        this.a9i = new dS("Apply at canvas bounds");
        if (w != "border") K.appendChild(this.a9i.d);
        this.Dj = new dQ("OK", !0, null, !0);
        this.Dj.s("click", this.XI, this);
        K.appendChild(this.Dj.d)
    }
    hq.prototype = new gz;
    hq.prototype.Za = function(w, o) {
        if (w == null) return;
        if (w.o == null) alert("No selection!");
        return w.o != null
    };
    hq.prototype.XI = function(w) {
        var o = new Y(_.E.e9, !0);
        o.data = z.hz.a8V(this.e, this.DV.T(), this.a9i.T());
        o.QZ = !0;
        this.A(o);
        this.close()
    };
    hq.prototype.v = function() {
        gz.prototype.v.call(this);
        if (this.DV) this.DV.v()
    };
    hq.prototype.MV = function(w, o) {};

    function fC(w, o, Q, K) {
        gz.call(this, Q, o);
        this.JV = K;
        this.cS = null;
        this.nH = _.B("div", "form");
        this.body.appendChild(this.nH);
        this.DV = w == 0 ? new g$(Q) : new fN(Q, 0, 500, null, 0, !1, !0);
        this.DV.s(_.E.h, this.V0, this);
        this.nH.appendChild(this.DV.d);
        this.Dj = new dQ("OK", !0, null, !0);
        this.Dj.s("click", this.XI, this);
        this.nH.appendChild(this.Dj.d);
        this.s("closebtn", this.YP, this)
    }
    fC.prototype = new gz;
    fC.prototype.AO = function() {
        return !0
    };
    fC.prototype.V0 = function(w) {
        var o = this.DV.T();
        if (this.JV) this.gP(o)
    };
    fC.prototype.YP = function(w) {
        if (this.JV) this.gP("cancel")
    };
    fC.prototype.XI = function(w) {
        if (this.JV) this.gP("confirm");
        else this.gP(this.DV.T());
        this.close()
    };
    fC.prototype.gP = function(w) {
        if (this.cS.tV) this.cS.tV(w);
        else if (this.cS.t1) {
            var o = this.cS.t1,
                Q = new Y(o.b, !0);
            Q.f = o.f;
            Q.data = o.c;
            Q.data.F = w;
            Q.QZ = !0;
            this.A(Q)
        }
    };
    fC.prototype.v = function() {
        gz.prototype.v.call(this);
        if (this.DV) this.DV.v()
    };
    fC.prototype.MV = function(w, o) {
        this.cS = o;
        this.DV.G(o.np);
        this.DV.LN();
        this.V0(null)
    };

    function cs() {
        gz.call(this, [1, 5], "open_from_url");
        this.qf = null;
        var w = _.B("div", "form");
        this.body.appendChild(w);
        this.Jm = new g$("URL", null, 22);
        w.appendChild(this.Jm.d);
        _.EV(w);
        this.qw = new b7([21, 0], [
            [21, 2],
            [21, 1]
        ]);
        w.appendChild(this.qw.d);
        this.zg = new dQ("OK", !0, null, !0);
        this.zg.s("click", this.XI, this);
        w.appendChild(this.zg.d)
    }
    cs.prototype = new gz;
    cs.prototype.v = function() {
        gz.prototype.v.call(this);
        this.qw.v()
    };
    cs.prototype.MV = function(w, o, Q) {
        this.Jm.LN();
        this.qf = null;
        if (w && Q.indexOf(w) != -1) this.qf = Q.indexOf(w)
    };
    cs.prototype.XI = function(w) {
        var o = new Y(_.E.N, !0),
            Q = this.Jm.T();
        o.data = {
            e: _.S.YU,
            pO: {
                url: Q,
                $x: !0,
                qf: this.qw.T() == 1 ? this.qf : null
            }
        };
        this.A(o);
        this.close()
    };

    function dD() {
        gz.call(this, [12, 79], "preferences");
        this.AL = null;
        var w = _.B("div", "form");
        this.body.appendChild(w);
        this.YR = [new dS([8, 2]), new dS([8, 4]), new bQ([12, 80, 3], [
            [12, 93, 3],
            [12, 80, 4]
        ]), new h4([12, 80, 5], 1, 100, null, 2), new bQ(null, v.JU.j0), new bQ([12, 80, 6], v.JU.j0)];
        for (var M = 0; M < this.YR.length; M++) {
            var o = this.YR[M];
            w.appendChild(o.d);
            if (M != 3) _.EV(w);
            o.s(_.E.h, this.y9, this)
        }
    }
    dD.prototype = new gz;
    dD.prototype.v = function() {
        gz.prototype.v.call(this);
        for (var M = 0; M < this.YR.length; M++) this.YR[M].v()
    };
    dD.prototype.MV = function(w, o, Q) {};
    dD.prototype.yy = function(w, o) {
        this.AL = w;
        this.YR[0].G(w.w1.TH);
        this.YR[1].G(w.w1.kU);
        this.YR[2].G(w.w1.fs);
        this.YR[3].G(w.w1._Q);
        this.YR[4].G(w.w1.X$);
        this.YR[5].G(w.w1.D5)
    };
    dD.prototype.y9 = function(w) {
        var eh = this.YR,
            o = JSON.parse(JSON.stringify(this.AL.w1));
        o.TH = eh[0].T();
        o.kU = eh[1].T();
        o.fs = eh[2].T();
        o._Q = eh[3].T();
        o.X$ = eh[4].T();
        o.D5 = eh[5].T();
        if (o.X$ != 4) o._Q = Math.round(o._Q);
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.UA,
            pO: d5.PO,
            tu: o
        };
        this.A(Q)
    };

    function eL() {
        gz.call(this, [11, 8], "saveforweb");
        this.a6$ = "";
        this.s("closebtn", function() {
            this.Ks.Ub()
        }, this);
        this.n2 = new fB(512, 512);
        this.xN = null;
        this.JC = null;
        this.agG = null;
        this.AL = null;
        _.Ka(this.body, "flexrow");
        var w = _.B("div"),
            o = _.B("div");
        this.body.appendChild(w);
        this.body.appendChild(o);
        this.Ye = _.B("div", "imgcont");
        w.appendChild(this.Ye);
        this.Ks = new i4;
        this.Ks.VJ(this.n2.x, this.n2.y);
        this.zb = _.B("span");
        w.appendChild(this.zb);
        this.nH = _.B("div", "form cell");
        this.nH.setAttribute("style", "width:15em; padding-left:1em;");
        o.appendChild(this.nH);
        this.Jg = new bQ([12, 50], ip.Xe());
        this.nH.appendChild(this.Jg.d);
        this.Jg.s(_.E.h, this._j, this);
        this.zV = new aT(!0, !0, !1, !0);
        this.zV.s(_.E.h, this._j, this);
        this.nH.appendChild(this.zV.d);
        this.uO = new eJ;
        this.uO.s(_.E.h, this._j, this);
        this.nH.appendChild(this.uO.d);
        this.tL = new dQ([1, 2], !0, null, !0);
        this.tL.s("click", this.XI, this);
        this.nH.appendChild(this.tL.d)
    }
    eL.prototype = new gz;
    eL.prototype.Za = function(w, o) {
        return w != null
    };
    eL.prototype.v = function() {
        gz.prototype.v.call(this);
        this.zV.v();
        this.Jg.v();
        this.uO.v();
        this.tL.v()
    };
    eL.prototype.XI = function(w) {
        var o = this.xN.name.split(".")[0],
            Q = ip.Xe()[this.Jg.T()],
            K = this.JC,
            b = o + "." + Q.toLowerCase(),
            R = this.xN,
            X = R.sY;
        if (X.length != 0 && (Q == "JPG" || Q == "PNG" || Q == "GIF") && this.uO.T().pop()) {
            var h = "<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",
                e = [],
                Z = {},
                P = new B(0, 0, R.D, R.j),
                J = R.X_();
            for (var M = 0; M < X.length; M++) e.push(z.Ig.MS(X, M));
            e.reverse();
            var i = v.rect.Hi([0, 0, R.D, R.j], e);
            for (var M = 0; M < i.length; M++) {
                var k = i[M],
                    $ = new B(k[0], k[1], k[2] - k[0], k[3] - k[1]),
                    n = k.length == 5 ? X[k[4]].v : null,
                    j = v.$($.O() * 4);
                v.c1(J, P, j, $);
                var y = "img/img" + (M + 1) + "." + Q.toLowerCase();
                Z[y] = new Uint8Array(ip.pR(Q).nl([
                    [j.buffer, 0]
                ], $.D, $.j, this.uO.T()));
                h += "<div style=\"background-image:url('" + y + "'); left:" + $.x + "px; top:" + $.y + "px; width:" + $.D + "px; height:" + $.j + "px\">";
                if (n && n.url.v != "") h += "\n\t<a href=\"" + n.url.v + "\" target=\"" + n.null.v + "\" style=\"display:block;width:100%;height:100%;\"></a>\n";
                h += "</div>\n"
            }
            h += "</body>\n</html>\n";
            var V = v.$(Math.round(h.length * 1.5)),
                O = W.oi(h, V, 0);
            Z["index.html"] = V.slice(0, O);
            K = UZIP.encode(Z);
            b = o + ".zip"
        }
        if (R.g9) {
            var S = new XMLHttpRequest;
            S.open("GET", "/papi/img/update.php?act=1&id=" + R.g9 + "&rnd=" + Math.random());
            S.send()
        }
        var G = new Y(_.E.N, !0);
        G.data = {
            e: _.S.AS,
            data: K,
            name: b
        };
        this.A(G);
        this.Ks.Ub();
        this.close()
    };
    eL.prototype.MV = function(w, o) {
        if (o.rZ != null) this.Jg.G(o.rZ);
        this.xN = w;
        var Q = w.D + "," + w.j;
        if (Q != this.a6$) {
            this.a6$ = Q;
            this.zV.G(new fB(w.D, w.j), w.cK)
        }
        this.uO.a3M();
        this._j(null, !0)
    };
    eL.prototype.DZ = function(w, o) {
        return new fB(Math.max(0, Math.min(150, (w - 770) / 2)), Math.max(0, Math.min(150, (o - 590) / 2)))
    };
    eL.prototype.VJ = function(w, o) {
        this.i7 = w;
        this.Y7 = o;
        this.n2.x = Math.min(512, w - 26 - 214);
        this.n2.y = Math.min(512, o - 45);
        if (this.xN == null) return;
        var Q = this.zV.T(),
            w = Q.x,
            o = Q.y,
            K = ip.Xe()[this.Jg.T()],
            b = ip.pR(K),
            J = "<span style=\"width:",
            i = "display:inline-block; text-align:right;\">";
        if (b.Jh) {
            var R = w,
                X = o,
                h;
            if (K == "PDF" || b.hd) {
                R = this.n2.x;
                X = this.n2.y
            } else {
                R = Math.min(w + 20, this.n2.x);
                X = Math.min(o + 20, this.n2.y)
            }
            this.Ye.firstChild.setAttribute("style", "display:block; width:" + R + "px; height:" + X + "px;")
        } else {
            if (b.hd) {
                R = this.n2.x;
                X = this.n2.y
            } else {
                var e = this.agG,
                    Z = e[0].Ip,
                    R = Z.D,
                    X = Z.j;
                this.Ks.VJ(Math.max(50, Math.min(R / _.J(), this.n2.x)), Math.max(50, Math.min(X / _.J(), this.n2.y)))
            }
        }
        var P = this.JC.byteLength,
            k = K + ":" + J + 64 + "px;" + i + eL.bw(P) + "</span>";
        if (this.n2.x > 200) k += J + 90 + "px; opacity:" + .5 + ";" + i + P.toLocaleString() + " B</span>";
        this.zb.innerHTML = k
    };
    eL.bw = function(w) {
        var o = 0;
        while (w >>> o + 10 != 0) o += 10;
        var Q = (w / (1 << o)).toFixed(1),
            K = ["B", "KB", "MB", "GB"][Math.floor(o / 10)];
        return Q + " " + K
    };
    eL.prototype.yy = function(w, o) {
        this.AL = w
    };
    eL.prototype._j = function(w, o) {
        var Q = this.xN,
            K = this.zV.T(),
            b = K.x,
            R = K.y,
            X = this.Jg.T(),
            h = ip.Xe()[X],
            e = ip.RF(Q)[0].length,
            Z = ["GIF", "PNG", "WEBP"].indexOf(h) != -1 && e > 1,
            n = "";
        if (Z && o && (e > 4 && b * R > 1024 * 1024 || b * R * e > 800 * 800 * 50)) {
            var P = 1;
            while (Math.max(b >>> P, R >>> P) > 800) P++;
            var J = 1;
            if (J) {
                this.zV.G(new fB(b >>> P, R >>> P), null, !0);
                b = b >>> P;
                R = R >>> P
            }
        }
        var i = Q.add.artd,
            k = i == null || i.Cnt.v == 1;
        this.uO.J3(h, Z, Q.sY.length != 0, k);
        var $ = this.uO.T();
        this.JC = ip.P2(Q, h, b, R, $, this.AL);
        if (this.JC == null) {
            this.xN = null;
            return
        }
        _.Tk(this.Ye);
        this.Ks.Ub();
        var j = ip.pR(h);
        if (j.hd) {
            this.Ye.innerHTML = "<div></div>";
            n += "width:0px"
        } else if (j.Jh) {
            var y = b,
                V = R,
                O;
            if (h == "PDF") {
                O = URL.createObjectURL(new Blob([this.JC], {
                    type: "application/pdf"
                }))
            } else {
                O = URL.createObjectURL(new Blob([this.JC], {
                    type: "image/svg+xml"
                }))
            }
            this.Ye.innerHTML = "<iframe src=\"" + O + "\"></iframe>"
        } else {
            var S = this.agG = j.p5(this.JC),
                G = S[0].Ip,
                y = G.D,
                V = G.j;
            this.Ks.G(S, S.length > 1 ? $[$.length - 2] : 0);
            this.Ye.appendChild(this.Ks.d);
            n = "background: rgba(0,0,0,0);"
        }
        this.Ye.setAttribute("style", "display:block; background-size:" + 16 / _.J() + "px;" + n);
        this.VJ(this.i7, this.Y7)
    };

    function hF() {
        gz.call(this, [11, 13], "shortcuts");
        var w = this.Vg = _.B("div", "scrollable");
        w.setAttribute("style", "min-width:700px; max-height:500px; padding:1.5em");
        this.body.appendChild(w);
        this.kB()
    }
    hF.prototype = new gz;
    hF.prototype.v = function() {
        gz.prototype.v.call(this);
        this.kB()
    };
    hF.prototype.kB = function() {
        var w = "<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",
            o = "",
            Q = E,
            K = Q.HE,
            b = Q.lK,
            R = Q.O4;
        o += "<h2 style=\"margin-top:0;\">Main Menu</h2>";
        o += w;
        o += this.cX([
            [0, 0], "---", [1, 0],
            [K, Q.m$],
            [1, 2],
            [K, Q.rB],
            [1, 3],
            [b, K, Q.rB],
            [1, 8],
            [R, b, K, Q.rB],
            [0, 1], "---", [2, 0],
            [b, K, Q.OS],
            [2, 1],
            [K, Q.OS],
            [5, 0],
            [K, Q.C3],
            [5, 1],
            [K, Q.kS],
            [5, 2],
            [K, Q.fx],
            [2, 2], "Delete", [2, 3],
            [R, Q.OW],
            [10, 16],
            [R, K, Q.R],
            [12, 79],
            [K, Q.tf],
            [3], "---", [4, 1],
            [K, Q.hc],
            [4, 2],
            [K, Q.pB],
            [4, 5],
            [K, Q.Zj],
            [4, 11],
            [K, Q.jr],
            [0, 3], "---", [6, 0],
            [K, Q.yb],
            [6, 6, 0],
            [R, K, Q.PJ],
            [6, 9],
            [K, Q.PJ],
            [6, 10],
            [K, Q.E],
            [0, 5], "---", [7, 0],
            [K, Q.S],
            [7, 1],
            [K, Q.N4],
            [7, 2],
            [b, K, Q.jr],
            [0, 7], "---", [8, 0],
            [K, Q.SO],
            [8, 1],
            [K, Q.oV],
            [8, 3],
            [K, Q.To],
            [8, 2],
            [K, Q.El],
            [8, 4],
            [K, Q.IZ],
            [11, 13], "?"
        ]);
        o += "</div>";
        o += "<h2 style=\"margin-top:1.5em;\">Navigation</h2>";
        o += w;
        o += this.cX(["Vertical scroll", "Wheel", "Horizontal scroll", [K, "Wheel"], "Zooming", [R, "Wheel"]]);
        o += "</div>";
        o += "<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
        o += w;
        o += this.cX([
            [10, 11],
            [K],
            [10, 7], "Space", [10, 17],
            [K, Q.$0]
        ]);
        o += "</div>";
        o += "<h2 style=\"margin-top:1.5em;\">Tools</h2>";
        o += w;
        var X = hF.VW,
            h = [];
        for (var M = 0; M < X.length; M += 3)
            if (X[M + 1]) h.push(X[M], X[M + 1]);
        h = h.concat([
            [24, 16], "---", [22, 7, 1], "D", [22, 7, 0], "X", "Decrease Brush Size", "[", "Increase Brush Size", "]", "Decrease Hardness", "{", "Increase Hardness", "}"
        ]);
        o += this.cX(h);
        o += "</div>";
        this.Vg.innerHTML = o
    };
    hF.prototype.cX = function(w) {
        var o = "",
            Q = !0;
        for (var M = 0; M < w.length; M += 2) {
            var K = w[M],
                b = E.p2(w[M + 1]);
            if (b == null) {
                Q = !1;
                continue
            }
            var R = _.De(b6.get(K));
            if (b == "---") {
                if (!Q) o += "<br/>";
                o += "<div style=\"font-weight:bold; border-bottom: 1px solid;\">" + R + "</div>"
            } else o += "<div>" + R + " <span style=\"float:right; font-weight:bold;\">" + b + "</span> </div>";
            Q = !1
        }
        return o
    };
    hF.VW = [
        [10, 11], "V", 0, [10, 15], "M", 1, [10, 4], "M", 2, [10, 9], "L", 5, [10, 14], "L", 6, [10, 10], "L", 7, [10, 44], "W", 3, [10, 37], "W", 8, [10, 12], "W", 9, [10, 2], "C", 10, [10, 39], "C", 11, [10, 40], "C", 12, [10, 41], "C", 13, [10, 5], "I", 14, [10, 36], "I", 16, [10, 24], "J", 18, [10, 25], "J", 19, [10, 26], "J", 20, [10, 43], "J", 22, [10, 0], "B", 23, [10, 38], "B", 24, [10, 42], "B", 25, [10, 1], "S", 27, [10, 3], "E", 31, [10, 45], "E", 32, [10, 6], "G", 34, [10, 13], "G", 35, [10, 18], null, 36, [10, 19], null, 37, [10, 20], null, 38, [10, 21], "O", 39, [10, 22], "O", 40, [10, 23], "O", 41, [10, 8], "T", 47, [10, 29], "P", 42, [10, 30], "P", 43, [10, 27], "A", 51, [10, 28], "A", 52, [10, 32], "U", 54, [10, 33], "U", 55, [10, 35], "U", 57, [10, 34], "U", 56, [10, 31], "U", 58, [10, 7], "H", 59, [10, 17], "Z", 61
    ];

    function eH() {
        gz.call(this, [8, 11, 1], "soptions");
        this.Nw = null;
        var w = _.B("div", "form");
        w.style.width = "20em";
        this.body.appendChild(w);
        this.uL = {
            Nm: [12, 48],
            url: "URL",
            null: [12, 71]
        };
        this.YR = {};
        for (var o in this.uL) {
            var Q = new g$(this.uL[o], null, 15);
            this.YR[o] = Q;
            w.appendChild(Q.d)
        }
        var K = new dQ("OK", !0, null, !0);
        K.s("click", this.XI, this);
        w.appendChild(K.d)
    }
    eH.prototype = new gz;
    eH.prototype.MV = function(w, o, Q) {
        var K = o.F;
        this.Nw = JSON.stringify(K);
        for (var b in this.uL) {
            if (K[b]) this.YR[b].G(K[b].v)
        }
    };
    eH.prototype.XI = function(w) {
        var o = JSON.parse(this.Nw);
        for (var Q in this.uL) {
            var K = this.YR[Q].T();
            o[Q] = {
                t: "TEXT",
                v: K
            }
        }
        var b = new Y(_.E.z, !0);
        b.f = z.tD;
        b.data = o;
        b.QZ = !0;
        this.A(b);
        this.close()
    };

    function hS() {
        gz.call(this, [2, 3], "fill");
        this.AL = null;
        this.V$ = null;
        var w = _.B("div", "form padded");
        w.style.width = "22em";
        this.body.appendChild(w);
        this.p$ = "FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
        this.jK = new bQ([2, 3], [
            [12, 45],
            [12, 46],
            [12, 47],
            [13, 1, 10],
            [13, 1, 7],
            [13, 1, 8],
            [6, 48, 0, 3]
        ]);
        this.jK.s(_.E.h, this.aeU, this);
        w.appendChild(this.jK.d);
        this.Ye = _.B("span");
        w.appendChild(this.Ye);
        this.cw = new eQ;
        this.cw.parent = this;
        this.cw.sj(0);
        this.Q3 = new bQ([12, 19, 0], hL.gS, !1, hL.fb);
        w.appendChild(this.Q3.d);
        this.Yi = new h4([12, 0], 0, 100, "%", 0, !1);
        this.Yi.G(100);
        w.appendChild(this.Yi.d);
        this.zg = new dQ("OK", !0, null, !0);
        this.zg.s("click", this.XI, this);
        this.body.appendChild(this.zg.d)
    }
    hS.prototype = new gz;
    hS.prototype.Za = function(w, o) {
        return w != null
    };
    hS.prototype.AO = function() {
        return !0
    };
    hS.prototype.aeU = function() {
        var w = this.jK.T() == 2,
            o = this.cw.d,
            Q = this.Ye;
        if (w) Q.appendChild(o);
        else if (Q.contains(o)) Q.removeChild(o)
    };
    hS.prototype.v = function() {
        gz.prototype.v.call(this);
        this.jK.v();
        this.Q3.v();
        this.Yi.v()
    };
    hS.prototype.XI = function(w) {
        if (!this.V$.yD()) return;
        var o = new Y(_.E.e9, !0),
            Q = this.jK.T();
        o.data = z.bA.M3(this.p$[Q], hL.IM[this.Q3.T()], this.Yi.T() / 100, this.cw.T());
        this.close();
        this.A(o)
    };
    hS.prototype.MV = function(w, o) {
        this.V$ = w
    };
    hS.prototype.yy = function(w, o) {
        this.AL = w
    };

    function i5() {
        gz.call(this, [14, 9], "stroke");
        this.AL = null;
        this.nH = _.B("div", "form");
        this.nH.setAttribute("style", "width:24em");
        this.body.appendChild(this.nH);
        this.bS = new aZ("FrFX", !0);
        this.bS.parent = this;
        var w = ["Sz", "Styl", "Md", "Opct"].concat(b_.vu);
        for (var M = 0; M < w.length; M++) {
            var o = this.bS.K9[w[M]].d;
            this.nH.appendChild(o)
        }
        this.a3a = !1;
        this.zg = new dQ("OK", !0, null, !0);
        this.zg.s("click", this.XI, this);
        this.body.appendChild(this.zg.d)
    }
    i5.prototype = new gz;
    i5.prototype.Za = function(w, o) {
        return w != null
    };
    i5.prototype.AO = function() {
        return !0
    };
    i5.prototype.v = function() {
        gz.prototype.v.call(this);
        this.bS.v()
    };
    i5.prototype.XI = function(w) {
        var o = new Y(_.E.z, !0);
        o.f = z.Cg;
        o.data = {
            e: "stroke",
            a73: this.bS.T()
        };
        this.close();
        this.A(o)
    };
    i5.prototype.MV = function(w, o) {
        if (!this.a3a) {
            var Q = b_.l1[b_.order.indexOf("FrFX")];
            Q = JSON.parse(Q);
            this.bS.update(w, Q);
            this.a3a = !0
        }
        var Q = this.bS.T(),
            K = this.AL.x1;
        Q.Clr.v = v.V.Kt({
            W: K >> 16 & 255,
            a: K >> 8 & 255,
            k: K & 255
        });
        this.bS.update(w, Q)
    };
    i5.prototype.yy = function(w, o) {
        this.AL = w
    };

    function aK() {
        gz.call(this, [11, 9], "textwarp");
        this.YR = new dV;
        this.YR.s(_.E.h, this.$s, this);
        this.YR.parent = this;
        this.nH = _.B("div", "form");
        this.nH.setAttribute("style", "width:20em");
        this.body.appendChild(this.nH);
        this.nH.appendChild(this.YR.f1.d);
        this.nH.appendChild(this.YR.Bo.d);
        this.nH.appendChild(this.YR.ua.d);
        this.nH.appendChild(this.YR.Ty.d);
        this.nH.appendChild(this.YR.Z4.d);
        this.zg = new dQ("OK", !0, null, !0);
        this.zg.s("click", this.XI, this);
        this.nH.appendChild(this.zg.d);
        this.s("closebtn", this.YP, this)
    }
    aK.prototype = new gz;
    aK.prototype.AO = function() {
        return !0
    };
    aK.prototype.v = function() {
        gz.prototype.v.call(this);
        this.YR.v()
    };
    aK.prototype.$s = function(w) {
        var o = this.YR.T();
        this.gP({
            e: "warp",
            AD: o
        })
    };
    aK.prototype.gP = function(w) {
        var o = new Y(_.E.z, !0);
        o.f = z.wy;
        o.data = w;
        o.QZ = !0;
        this.A(o)
    };
    aK.prototype.YP = function(w) {
        this.gP({
            e: "warpCancel"
        })
    };
    aK.prototype.XI = function(w) {
        this.gP({
            e: "warpConfirm"
        });
        this.close()
    };
    aK.prototype.MV = function(w, o) {
        var Q = w.t[w.u[0]];
        this.YR.G(Q.add.TySh.OJ)
    };

    function dy() {
        gz.call(this, "Raw Photopea", "rawpea");
        this.NS = null;
        this.Xl = null;
        this.Fx = null;
        this.a9J = 0;
        this.WW = null;
        this.Ci = null;
        this.adf = 500;
        this.a8Q = 500;
        this.s("closebtn", this.Vv, this);
        _.Ka(this.body, "flexrow");
        var w = _.B("div"),
            o = _.B("div"),
            K = "<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
        o.setAttribute("style", "padding-left: 1em");
        this.body.appendChild(w);
        this.body.appendChild(o);
        this.Q8 = _.B("canvas");
        w.appendChild(this.Q8);
        this.IG = new a9(225);
        this.IG.xm(4);
        o.appendChild(this.IG.d);
        this.nH = _.B("div");
        this.nH.setAttribute("style", "width:18em;");
        o.appendChild(this.nH);
        this.ahE = new bY("Hi", !0);
        this.nH.appendChild(this.ahE.d);
        this.ge = [new cI("Temperature", 2e3, 13e3), new cI("Tint", -150, 150), new cI([4, 3], -4, 4, null, !0), new cI([12, 3, 0], -100, 100)];
        for (var M = 0; M < this.ge.length; M++) {
            var Q = this.ge[M];
            Q.G(0);
            Q.s(_.E.h, this.KM, this);
            this.nH.appendChild(Q.d);
            if (M == 1) this.nH.appendChild(_.B("hr"))
        }
        this.zg = new dQ([1, 0], !0, null, !0);
        this.zg.s("click", this.XI, this);
        this.nH.appendChild(this.zg.d);
        this.Bx = new dQ(K + " JPG", !0, null, !0);
        this.Bx.s("click", this.a98, this);
        this.nH.appendChild(this.Bx.d);
        this.Bx.d.style.marginTop = "6px"
    }
    dy.prototype = new gz;
    dy.prototype.DZ = function() {
        return new fB(0, 0)
    };
    dy.prototype.VJ = function(w, o) {
        this.adf = w - 274;
        this.a8Q = o - 32;
        if (this.NS) this.W2()
    };
    dy.prototype.v = function() {
        gz.prototype.v.call(this);
        this.zg.v();
        for (var M = 0; M < this.ge.length; M++) this.ge[M].v()
    };
    dy.prototype.a98 = function(w) {
        var o = this.NS,
            Q = this.Xl,
            K = v.$(o.width * o.height * 4);
        v.Fw(K, 4294967295);
        v.raw.ZF(Q, K, o, this.RP());
        var b = ip.pR("JPG").nl([
                [K.buffer]
            ], Q.Mq, Q.Jk, [85]),
            R = new Y(_.E.N, !0);
        R.data = {
            e: _.S.AS,
            data: b,
            name: "photo.jpg"
        };
        this.A(R)
    };
    dy.prototype.XI = function(w) {
        var o = this.NS,
            Q = this.Xl,
            K = v.$(o.width * o.height * 4);
        v.Fw(K, 4294967295);
        v.raw.ZF(Q, K, o, this.RP());
        var b = d0.Uk(o),
            o = {
                Ip: new B(0, 0, Q.Mq, Q.Jk),
                data: K.buffer,
                _7: b
            },
            R = ip.xX("Raw Photo", [o]),
            X = new Y(_.E.N, !0);
        X.data = {
            e: _.S.fO,
            xN: R
        };
        this.A(X);
        this.Vv();
        this.close()
    };
    dy.prototype.Vv = function() {
        this.NS = null;
        this.Xl = null;
        this.WW = null;
        this.Ci = null
    };
    dy.prototype.MV = function(w, o, Q, K) {
        this.NS = o.Cm;
        this.Xl = v.raw.a4Q(this.NS);
        var b = this.Xl;
        this.ahE.G(b.Mq + " x " + b.Jk + ", " + (b.Mq * b.Jk / 1e6).toFixed(1) + " MPx");
        var R = v.raw.a1W(o.Cm);
        this.Fx = h0.jP(R);
        this.ge[0].G(this.Fx.hB);
        this.ge[1].G(this.Fx.XQ);
        for (var M = 2; M < this.ge.length; M++) this.ge[M].G(0);
        this.W2()
    };
    dy.prototype.yy = function(w, o) {
        this.IG.sj(ab.la[w.wA]["--text-color"])
    };
    dy.prototype.W2 = function() {
        var w = this.Xl,
            o = w.Mq,
            Q = w.Jk,
            K = 1;
        while (o / K > this.adf * _.J() || Q / K > this.a8Q * _.J()) K++;
        var b = Math.floor(o / K),
            R = Math.floor(Q / K);
        this.WW = {
            Sg: new Float32Array(b * R * 3),
            Mq: b,
            Jk: R
        };
        var X = this.Q8.getContext("2d");
        this.Ci = X.createImageData(b, R);
        v.Fw(this.Ci.data, 4294967295);
        var h = 1 / (K * K);
        for (var e = 0; e < R; e++)
            for (var Z = 0; Z < b; Z++) {
                var P = 0,
                    J = 0,
                    i = 0,
                    k = (Z + 1) * K,
                    $ = (e + 1) * K;
                for (var n = e * K; n < $; n++)
                    for (var j = Z * K; j < k; j++) {
                        var y = (n * o + j) * 3;
                        P += this.Xl.Sg[y];
                        J += this.Xl.Sg[y + 1];
                        i += this.Xl.Sg[y + 2]
                    }
                var V = (e * b + Z) * 3;
                this.WW.Sg[V] = P * h;
                this.WW.Sg[V + 1] = J * h;
                this.WW.Sg[V + 2] = i * h
            }
        this.KM()
    };
    dy.prototype.KM = function() {
        var w = this.NS,
            o = this.WW.Mq,
            Q = this.WW.Jk,
            K = o * Q,
            b = this.Q8,
            R = b.getContext("2d");
        b.width = o;
        b.height = Q;
        _.d3(b, o, Q);
        v.raw.ZF(this.WW, new Uint8Array(this.Ci.data.buffer), w, this.RP());
        R.putImageData(this.Ci, 0, 0);
        var X = v.UF(this.Ci.data);
        for (var M = 0; M < 4; M++)
            for (var h = 1; h < 256; h++)
                if (X[M][h] == 0) X[M][h] = X[M][h - 1];
        for (var M = 0; M < 4; M++)
            for (var h = 1; h < 256; h++)
                if (X[M][h] == 0) X[M][h] = X[M][h - 1];
        this.IG.G(X)
    };
    dy.prototype.RP = function() {
        var w = [];
        for (var M = 0; M < this.ge.length; M++) w.push(this.ge[M].T());
        return w
    };

    function f$() {
        gz.call(this, [11, 11], "vbitmap");
        this.cS = null;
        this.PT = null;
        this.bM = null;
        this.u1 = null;
        this.yw = null;
        this.G$ = this.GO.bind(this);
        this.nH = _.B("div", "form hbar");
        this.body.appendChild(this.nH);
        this.QB = new h4([12, 82], 2, 50, null);
        this.QB.s(_.E.h, this.GO, this);
        this.nH.appendChild(this.QB.d);
        this.f6 = "";
        this.Kh = new dS([12, 81]);
        this.Kh.s(_.E.h, this.GO, this);
        this.nH.appendChild(this.Kh.d);
        this.AN = new dS("Segmentize");
        this.AN.s(_.E.h, this.GO, this);
        this.nH.appendChild(this.AN.d);
        this.zg = new dQ("OK", !1, null, !0);
        this.zg.s("click", this.XI, this);
        this.nH.appendChild(this.zg.d);
        var w = _.B("div", "flexrow"),
            o = 16;
        this.body.appendChild(w);
        this.ik = new i4;
        this.ik.s("viewchange", this.tk, this);
        this.UX = _.B("canvas");
        this.UX.setAttribute("style", "margin-left: 1px; cursor:grab;");
        this.Dh = this.UX.getContext("2d");
        var Q = v.$(16 * 16 * 4);
        v.fr(Q, o, o, 8, 0, 0);
        this.BI = v.scale.wd(Q, o, o);
        this.ik.E2(this.UX);
        w.appendChild(this.ik.d);
        w.appendChild(this.UX)
    }
    f$.prototype = new gz;
    f$.prototype.DZ = function() {
        return new fB(0, 0)
    };
    f$.prototype.AO = function() {
        return !0
    };
    f$.prototype.VJ = function(w, o) {
        o = o - 26 - 30;
        w = Math.floor((w - 28) / 2);
        _.E5(this.UX, w, o);
        this.ik.VJ(w, o)
    };
    f$.prototype.Yq = function(w, o, Q, K) {
        this.ik.Yq(K)
    };
    f$.prototype.v = function() {
        gz.prototype.v.call(this);
        this.QB.v();
        this.Kh.v();
        this.AN.v();
        this.zg.v()
    };
    f$.prototype.MV = function(w, o) {
        this.yw = w;
        var Q = w.t[w.u[0]],
            K = v.ic.W_(Q.buffer.buffer, Q.rect.D, Q.rect.j).a3G,
            b = K / ((Q.rect.D - 2) * (Q.rect.j - 2));
        this.Kh.G(b < .75);
        this.AN.G(b < .75);
        var R = Q.rect.clone();
        R.x = R.y = 0;
        this.cS = {
            Ip: R,
            data: Q.buffer.buffer.slice(0)
        };
        this.PT = null;
        this.ik.G([this.cS]);
        this.QB.G(20);
        setTimeout(this.G$, 20)
    };
    f$.prototype.GO = function() {
        var w = !0,
            o = Date.now(),
            Q = this.cS,
            K = this.Kh.T(),
            b = this.AN.T(),
            R = K || b,
            X = K + "," + b;
        if (R && (this.PT == null || this.f6 != X)) {
            this.f6 = X;
            console.log("recomputing");
            var h = new Uint8Array(Q.data.slice(0)),
                e = 15,
                Z = 35,
                P = Q.Ip.D,
                J = Q.Ip.j;
            if (K) {
                bf.no(h, h, P, J, e, v.xt.aj, [Z], 2)
            }
            if (w) {
                console.log("denoise", Date.now() - o);
                o = Date.now()
            }
            if (b) {
                var i = v.ic.op(h, P, J),
                    k = i.tf,
                    $ = new Uint8Array(k * 4);
                for (var M = 0; M < k; M++) {
                    var n = M * 4,
                        j = M * 6,
                        y = 1 / i.Iw[j + 5];
                    $[n] = i.Iw[j] * y;
                    $[n + 1] = i.Iw[j + 1] * y;
                    $[n + 2] = i.Iw[j + 2] * y
                }
                for (var M = 0; M < h.length; M += 4) {
                    var V = i.da[M >>> 2] * 4;
                    h[M] = $[V];
                    h[M + 1] = $[V + 1];
                    h[M + 2] = $[V + 2]
                }
            }
            this.PT = {
                Ip: Q.Ip.clone(),
                data: h.buffer
            };
            if (w) {
                console.log("segm", Date.now() - o);
                o = Date.now()
            }
        }
        if (R) Q = this.PT;
        var h = new Uint8Array(Q.data),
            P = Q.Ip.D,
            J = Q.Ip.j;
        for (var M = 0; M < h.length; M += 4) {
            if (h[M + 3] < 10) h[M] = h[M + 1] = h[M + 2] = h[M + 3] = 0
        }
        var O = v.ic.af9(h, P, J, this.QB.T(), R ? .1 : 2e-4);
        if (w) {
            console.log("doclipart", Date.now() - o);
            o = Date.now()
        }
        var S = O.da.slice(0);
        for (var M = 0; M < S.length; M++) S[M]++;
        var G = new Uint8Array((P + 2) * (J + 2));
        v.Hp(S, new B(1, 1, P, J), G, new B(0, 0, P + 2, J + 2));
        var D = Math.round((P + 2) * (J + 2) / 1e4),
            q = es.SJ(G, P + 2, J + 2, Math.min(12, D)),
            T = es.a$(q),
            L = new dj(1, 0, 0, 1, -1, -1);
        for (var M = 0; M < T.length; M++) v.w.H(T[M].path.X, L, T[M].path.X);
        this.u1 = T;
        this.bM = O;
        if (w) {
            console.log("trace", Date.now() - o);
            o = Date.now()
        }
        for (var M = 0; M < T.length; M++) {
            var N = T[M];
            for (var F = M + 1; F < T.length; F++) {
                var I = T[F];
                if (O.n1[I.color - 1].est.q[3] > .05 || I.parent != M) continue;
                var s = I.path.Y.slice(1);
                s.reverse();
                s = ["M"].concat(s);
                var u = [],
                    q = I.path.X.length;
                for (var g = 0; g < q; g += 2) {
                    u[g] = I.path.X[q - 2 - g];
                    u[g + 1] = I.path.X[q - 2 - g + 1]
                }
                v.w.concat(N.path, {
                    X: u,
                    Y: s
                })
            }
        }
        for (var M = 0; M < T.length; M++) {
            var N = T[M],
                U = O.n1[N.color - 1].est.q;
            if (U[3] <= .05) {
                T.splice(M, 1);
                M--;
                continue
            }
        }
        for (var M = 1; M < T.length; M++) {
            var r = T[M - 1],
                N = T[M];
            if (r.color == N.color) {
                v.w.concat(r.path, N.path);
                T.splice(M, 1);
                M--;
                continue
            }
        }
        this.tk()
    };
    f$.prototype.tk = function(w) {
        if (this.u1 == null) return;
        var o = this.cS.Ip.D,
            Q = this.cS.Ip.j,
            K = this.u1,
            b = this.bM.n1,
            R = this.Dh,
            X = this.ik.hm();
        R.setTransform(1, 0, 0, 1, 0, 0);
        R.clearRect(0, 0, R.canvas.width, R.canvas.height);
        R.translate(R.canvas.width / 2, R.canvas.height / 2);
        R.scale(X.I, X.I);
        R.translate(X.n.x / X.I - o / 2, X.n.y / X.I - Q / 2);
        R.scale(1 / X.I, 1 / X.I);
        R.fillStyle = this.BI;
        R.fillRect(0, 0, o * X.I, Q * X.I);
        R.scale(X.I, X.I);
        var h = [];
        for (var M = 0; M < b.length; M++) {
            var e = b[M].est.q;
            h.push({
                W: Math.round(255 * e[0]),
                a: Math.round(255 * e[1]),
                k: Math.round(255 * e[2]),
                K: Math.round(255 * e[3])
            })
        }
        for (var M = 0; M < K.length; M++) {
            var Z = K[M],
                e = h[Z.color - 1];
            if (e.K == 0) continue;
            R.fillStyle = "rgba(" + e.W + "," + e.a + "," + e.k + "," + e.K / 255 + ")";
            R.beginPath();
            Typr.U.pathToContext({
                crds: Z.path.X,
                cmds: Z.path.Y
            }, R);
            R.fill()
        }
    };
    f$.prototype.XI = function(w) {
        var o = this.u1,
            Q = o.length == 1,
            K = this.yw,
            b = K.u[0],
            R = K.t[b],
            X = K.t.slice(0, b);
        if (!Q) X.push(K.JG());
        for (var M = 0; M < o.length; M++) {
            var h = o[M],
                e = this.bM.n1[h.color - 1].est.q;
            v.w.H(h.path.X, new dj(1, 0, 0, 1, R.rect.x, R.rect.y), h.path.X);
            var Z = K._g();
            Z.jG("Path " + M);
            X.push(Z);
            Z.opacity = Math.round(e[3] * 255);
            Z.a1 |= 16;
            Z.add.SoCo = {
                classID: "null",
                Clr: {
                    t: "Objc",
                    v: v.V.Kt({
                        W: 255 * e[0],
                        a: 255 * e[1],
                        k: 255 * e[2]
                    })
                }
            };
            Z.add.vmsk = new a.Y3;
            Z.add.vstk = JSON.parse(JSON.stringify(b_.fQ.default));
            Z.add.vmsk._ = v.w.IT(h.path, !1);
            Z.add.vogk = [];
            Z.Y1();
            Z.b6(K)
        }
        var P = X[X.length - 1];
        if (!Q) {
            var Z = K._g();
            Z.jG(R.getName());
            Z.add.lsct = bb.SI;
            Z.TC = "pass";
            Z.a1 = 24;
            X.push(Z);
            P = Z
        }
        var J = R.add.lmfx;
        if (J) P.add.lmfx = JSON.parse(JSON.stringify(J));
        for (var M = b + 1; M < K.t.length; M++) X.push(K.t[M]);
        var i = new Y(_.E.z, !0);
        i.QZ = !0;
        i.f = z.lz;
        i.data = {
            e: a.dt,
            pl: X,
            Dr: [b + o.length + (Q ? -1 : 1)],
            Wp: [11, 11]
        };
        this.A(i);
        this.close()
    };

    function iz(w) {
        gz.call(this, [
            [7, 11], "Magic Cut"
        ][w], ["redge", "magiccut"][w]);
        this.Wc = w;
        this.cS = {};
        this.$h = null;
        this.f8 = null;
        this.yw = null;
        this.rq = null;
        this.oO = null;
        this.d_ = [];
        this.zR = -1;
        this.nH = _.B("div", "form hbar");
        this.body.appendChild(this.nH);
        this.Ed = new h8;
        this.Ed.parent = this;
        this.Ed.s(_.E.h, this.Oy, this);
        this.nH.appendChild(this.Ed.d);
        var o = w == 0 ? ["#ffffff", "#888888", "#000000"] : ["#00dd00", "#888888", "#ff0000"];
        o = o.concat(PIMG["tools/hand"], PIMG.zoomIn, PIMG.zoomOut);
        var Q = w == 0 ? [
            [12, 45], "Unknown", [12, 46]
        ] : [
            [12, 45], "Erase", [12, 46]
        ];
        this.wI = new hC(null, o, Q, 28);
        this.wI.s(_.E.h, this.Yq, this);
        this.nH.appendChild(this.wI.d);
        this.FC = new fN([7, 9], 0, 50, null);
        this.FC.parent = this;
        this.FC.s(_.E.h, [this.YE, this.GO][w], this);
        this.nH.appendChild(this.FC.d);
        var K = this.a2t = new dQ([2, 2], !1, null, !0);
        K.s("click", this.Vv, this);
        this.nH.appendChild(K.d);
        var b = this.aeV = new dQ([12, 90], !1, null, !0);
        b.s("click", function(h) {
            alert(w == 0 ? b6.get([15, 7, 1]) : "Mark the object with Green, background with Red.", 5e3)
        }, this);
        this.nH.appendChild(b.d);
        var R = _.B("span", "form");
        this.nH.appendChild(R);
        R.setAttribute("style", "position:absolute;  right:0px");
        this.Ef = new hC([12, 46], ["checker", "#ffffff", "#000000"]);
        this.Ef.s(_.E.h, this.gv, this);
        R.appendChild(this.Ef.d);
        this.pG = new bQ(null, [
            [6, 13],
            [6, 2],
            [17, 2]
        ]);
        R.appendChild(this.pG.d);
        this.zg = new dQ("OK", !1, null, !0);
        this.zg.s("click", this.XI, this);
        R.appendChild(this.zg.d);
        var X = _.B("div", "flexrow");
        this.body.appendChild(X);
        this.Im = new i4(!0);
        this.Jy = new i4;
        this.Im.Gt(this.Jy);
        this.Jy.Gt(this.Im);
        this.Im.s("mousedown", this.MM, this);
        this.Im.s("mousemove", this.Le, this);
        this.Im.s("mouseup", this.Fo, this);
        this.Im.s("zoom", this.Oy, this);
        this.Jy.s("zoom", this.Oy, this);
        X.appendChild(this.Im.d);
        X.appendChild(this.Jy.d)
    }
    iz.prototype = new gz;
    iz.prototype.Za = function(w, o) {
        var Q = w != null && !w.t[w.u[0]].rect.Kx();
        if (!Q) alert("The layer is empty.");
        return Q
    };
    iz.prototype.DZ = function() {
        return new fB(0, 0)
    };
    iz.prototype.AO = function() {
        return !0
    };
    iz.prototype.VJ = function(w, o) {
        o = o - 26 - 33;
        w = Math.floor((w - 28) / 2);
        this.Im.VJ(w, o);
        this.Jy.VJ(w, o)
    };
    iz.prototype.v = function() {
        gz.prototype.v.call(this);
        this.Ed.v();
        this.FC.v();
        this.zg.v();
        this.Ef.v();
        this.pG.v();
        this.a2t.v();
        this.aeV.v()
    };
    iz.prototype.yy = function(w, o) {
        this.f8 = w;
        if (o == d5.IA || o == d5.Dq) {
            this.Ed.J$(w.Yf);
            this.Ed.G(dI.cR(), w.Yf.Pe, w.Yf.dg)
        }
    };
    iz.prototype.Yq = function(w, o, Q, K) {
        var b = this.wI.T();
        if (K == null) {
            var K = new E;
            if (b >= 3) K.Am("Space");
            if (b >= 4) {
                K.Am("ControlLeft");
                if (b == 5) K.Am("AltLeft")
            }
            this.Im.Yq(K);
            return
        }
        this.rq = K;
        var R = z.bA._1(this.Ed.T(), K);
        if (R != null) {
            this.Ed.G(R);
            this.Oy()
        } else if (K.i(E.HE) && K.i(E.OS)) {
            var X = this.d_,
                h = 0;
            if (K.i(E.lK)) {
                if (this.zR + 1 < X.length) h = 1
            } else if (this.zR > 0) h = -1;
            if (h != 0) {
                this.zR += h;
                var e = this.zR,
                    Z = this.cS;
                if (h == 1) v.c1(X[e][2], X[e][0], Z.cs, Z.rect);
                else v.c1(X[e + 1][1], X[e + 1][0], Z.cs, Z.rect);
                Z.U9 = Z.rect;
                this.GO()
            }
        } else if (b < 3) this.Im.Yq(K)
    };
    iz.prototype.V6 = function(w) {
        var o = this.cS,
            Q = this.d_,
            K = v.$(w.O() * 4);
        v.c1(o.Bh, o.rect, K, w);
        o.Bh = null;
        var b = v.$(w.O() * 4);
        v.c1(o.cs, o.rect, b, w);
        this.zR++;
        Q[this.zR] = [w.clone(), K, b];
        while (Q.length > this.zR + 1) Q.pop();
        while (Q.length > 50) {
            Q = Q.slice(1);
            this.zR--
        }
    };
    iz.prototype.Oy = function() {
        var w = this.f8,
            o = dR.VV(this.Ed.T(), w.Yf.Pe, this.Im.hm().I);
        this.Im.AB(o)
    };
    iz.prototype.MM = function(w) {
        var o = this.f8,
            Q = this.cS,
            K = this.rq,
            b = this.Ed.T(),
            R = this.Im.nY(),
            X = [16777215, 8421504, 0][this.wI.T()];
        this.$h = new dR(b, o.Yf.list[0].Pe, o.Yf.list[0].dg, {
            FV: 1,
            Vl: !0
        }, X, o.TT, Q.rect);
        Q.Bh = Q.cs.slice(0);
        if (K != null && K.i(E.lK) && this.oO) {
            this.$h.moveTo(this.oO.x, this.oO.y);
            this.$h.lineTo(R.x, R.y)
        } else this.$h.moveTo(R.x, R.y);
        this.uv()
    };
    iz.prototype.Le = function(w) {
        var o = this.cS,
            Q = this.Im.nY();
        this.$h.lineTo(Q.x, Q.y);
        this.uv()
    };
    iz.prototype.Fo = function(w) {
        this.oO = this.Im.nY();
        this.V6(this.$h.Tj());
        this.GO()
    };
    iz.prototype.uv = function() {
        var w = this.cS,
            o = this.$h,
            Q = o.x8();
        if (Q.Kx()) return;
        w.U9 = Q;
        v.M.M$("norm", o.bK(), o.vG(), w.cs, w.rect, Q, 1);
        this.Au()
    };
    iz.prototype.Vv = function(w) {
        var o = this.cS;
        o.Bh = o.cs.slice(0);
        o.U9 = o.rect;
        v.Fw(o.cs, [4278190080, 4292730333][this.Wc]);
        this.V6(o.rect);
        this.GO()
    };
    iz.prototype.MV = function(w, o) {
        this.yw = w;
        var Q = w.t[w.u[0]],
            K = Q.rect.clone(),
            b = K.D,
            R = K.j;
        this.FC.G(this.Wc == 0 ? 3 : b * R < 3e6 ? 3 : 0);
        this.wI.G(w.o == null ? 0 : 1);
        this.FC.fz();
        if (this.Wc == 0 && w.o != null || this.Wc == 1) this.FC.Lh();
        var X = this.Wc,
            h = v.$(K.O()),
            e = new Float32Array(K.O());
        if (X == 0 && w.o) {
            v.Hp(w.o.channel, w.o.rect, h, K);
            var Z = v.$(K.O());
            for (var P = 0; P < R; P++)
                for (var J = 0; J < b; J++) {
                    var M = P * b + J,
                        i = h[M];
                    if (J > 0 && h[M - 1] != i || J < b - 1 && h[M + 1] != i || P > 0 && h[M - b] != i || P < R - 1 && h[M + b] != i) Z[M] = 255
                }
            v.style.LR(Z, e, b, R)
        } else e.fill(1e9);
        K.x = K.y = 0;
        this.cS = {
            rect: K,
            Sg: Q.buffer,
            Ab: h,
            pM: e,
            bs: v.$(K.O() * 4),
            ZK: v.$(K.O() * 4),
            cs: v.$(K.O() * 4),
            Bh: null,
            aX: null,
            U9: K,
            a0f: {}
        };
        if (X == 0) this.YE();
        else {
            this.cS.a0f = z.VE.IW(w);
            var k = this.cS.cs;
            v.Fw(k, 4287137928);
            var $ = v.jv.getSelection(Q.buffer, b, R),
                n = Math.round(b / 60),
                j = Math.round(.7 * R);
            for (var P = 0; P < R; P++)
                for (var J = 0; J < b; J++) {
                    var y = (P * b + J) * 4,
                        V = $[y >>> 2];
                    V = V > 128 ? 255 : 128;
                    if (P < n || P < j && (J < n || J > b - 1 - n)) V = 0;
                    k[y] = k[y + 1] = k[y + 2] = V
                }
            this.GO()
        }
        this.d_ = [1];
        this.zR = 0;
        this.Im.aew();
        var O = this.Ed.T();
        O.Brsh.v.Dmtr.v.val = Math.round(K.D / (X == 0 ? 10 : 20));
        this.Ed.G(O);
        this.Oy()
    };
    iz.prototype.YE = function() {
        var w = this.cS,
            o = w.rect.O(),
            Q = this.FC.T(),
            K = w.Ab.slice(0);
        for (var M = 0; M < o; M++)
            if (w.pM[M] < Q) K[M] = 128;
        v.Fw(w.cs, 4294967295);
        v.qh(K, w.cs, 0);
        v.qh(K, w.cs, 1);
        v.qh(K, w.cs, 2);
        w.U9 = w.rect;
        this.GO()
    };
    iz.prototype.GO = function() {
        var w = this.cS,
            b, R = 0,
            X = 0,
            h = 0;
        this.Au();
        var o = w.rect,
            Q = v.$(o.O()),
            K = w.Sg;
        v.KU(w.cs, Q, 0);
        for (var M = 0; M < Q.length; M++) {
            var e = Q[M];
            if (e == 0) R++;
            else if (e == 255) X++;
            else h++
        }
        if (R * X * h != 0) {
            if (this.Wc == 0) b = v.DR.DR(o, K, Q);
            else {
                var Z = Date.now(),
                    P = this.cS.a0f;
                v.gb(Q, P.eQ);
                z.VE.Cq(P, !0);
                var J = Math.ceil(this.FC.T() / 2);
                if (J == 0) {
                    b = K.slice(0);
                    v.qh(P.o, b, 3)
                } else {
                    var i = P.o.slice(0),
                        k = P.o.slice(0),
                        $ = o.D,
                        n = o.j;
                    for (var j = 0; j < J; j++) {
                        for (var y = 1; y < n - 1; y++)
                            for (var V = 1; V < $ - 1; V++) {
                                var M = y * o.D + V,
                                    O = i[M];
                                if (i[M - $] != O || i[M - 1] != O || i[M + 1] != O || i[M + $] != O) k[M] = 128;
                                else k[M] = O
                            }
                        var S = i;
                        i = k;
                        k = S
                    }
                    b = v.DR.DR(o, K, i, 20, !1)
                }
            }
        } else {
            b = K.slice(0);
            v.qh(Q, b, 3)
        }
        if (o.Lb(w.rect)) w.aX = b;
        else v.c1(b, o, w.aX, w.rect);
        this.gv()
    };
    iz.prototype.Au = function(w) {
        var o = this.cS,
            Q = o.U9;
        v.c1(o.Sg, o.rect, o.bs, o.rect, Q, !0);
        var K = o.cs;
        if (this.Wc == 1) {
            var b = new Uint32Array(256);
            b[0] = 4278190335;
            b[255] = 4278255360;
            var R = o.rect.O();
            K = K.slice(0);
            var X = new Uint32Array(K.buffer);
            for (var M = 0; M < R; M += 2) {
                X[M] = b[X[M] & 255];
                X[M + 1] = b[X[M + 1] & 255]
            }
        }
        v.M.M$("norm", K, o.rect, o.bs, o.rect, Q, .3);
        this.Im.G([{
            Ip: o.rect,
            data: o.bs.buffer
        }])
    };
    iz.prototype.gv = function(w) {
        var o = this.cS;
        v.Fw(o.ZK, [0, 4294967295, 4278190080][this.Ef.T()]);
        v.M.M$("norm", o.aX, o.rect, o.ZK, o.rect, o.rect, 1);
        this.Jy.G([{
            Ip: o.rect,
            data: o.ZK.buffer
        }])
    };
    iz.prototype.XI = function(w) {
        var o = this.yw,
            Q = this.cS,
            K = this.pG.T(),
            b = o.t[o.u[0]],
            R = new Y(_.E.z, !0);
        R.QZ = !0;
        var X = b.rect.clone();
        if (K == 0 && b.HY() || K != 0 && !b.HY()) {
            R.f = z.lz;
            R.data = {
                e: a.k7,
                p: o.u[0]
            };
            this.A(R)
        }
        if (o.o != null) {
            R.f = z.By;
            R.data = {
                e: "fromAction",
                Nl: z.hz.RL()
            };
            this.A(R)
        }
        if (K == 0) {
            var h = o.t.slice(0),
                e = o._g();
            e.jG(b.getName());
            h.splice(o.u[0] + 1, 0, e);
            e.rect = X;
            e.buffer = Q.aX;
            e.C();
            R.f = z.lz;
            R.data = {
                e: a.dt,
                pl: h,
                Dr: [o.u[0] + 1],
                Wp: [7, 11]
            };
            this.A(R)
        }
        if (K == 1) {
            var Z = b._f();
            R.f = z.lz;
            R.data = {
                e: a.vF,
                a4q: !0
            };
            this.A(R);
            var P = b._f();
            P.channel = v.$(X.O());
            P.rect = X;
            P.color = 0;
            P.eT = !0;
            v.KU(Q.aX, P.channel, 3);
            if (Z) {
                var J = P.A0(Z);
                P.rect = J.rect;
                P.channel = J.channel;
                P.color = J.color
            }
            P.ei();
            b.b6()
        }
        if (K == 2) {
            var i = {
                rect: X,
                channel: v.$(X.O())
            };
            v.KU(Q.aX, i.channel, 3);
            R.f = z.By;
            R.data = {
                e: "setsel",
                o: i,
                Wp: this.Pk
            };
            this.A(R)
        }
        this.close()
    };

    function gw() {
        gz.call(this, [1, 13], "locstor");
        this.AL = null;
        this.WR = [];
        var w = this.body,
            o = _.B("p");
        o.textContent = "These files are loaded every time you start Photopea.";
        w.appendChild(o);
        this.ag1 = 0;
        this.vz = _.B("span");
        w.appendChild(this.vz);
        this.vz.setAttribute("style", "display:inline-block;  width:12em;  font-weight:bold;");
        var Q = _.B("span", "form");
        w.appendChild(Q);
        this.iu = new dQ([5, 4], !1, null, !0);
        this.iu.s("click", this.aiP, this);
        Q.appendChild(this.iu.d);
        this.a93 = new dQ("Get all as ZIP", !1, null, !0);
        this.a93.s("click", this.te, this);
        Q.appendChild(this.a93.d);
        this.Cx = new i8(!0);
        this.Cx.parent = this;
        this.Cx.xm(1);
        this.Cx.s(_.E.h, this.a8w, this);
        w.appendChild(this.Cx.d);
        this.Cx.d.setAttribute("style", "width: 40em; height: 25em")
    }
    gw.prototype = new gz;
    gw.prototype.v = function() {
        gz.prototype.v.call(this);
        this.vz.textContent = b6.get([13, 2]) + ": " + eL.bw(this.ag1);
        this.iu.v()
    };
    gw.prototype.yy = function(w, o) {
        this.AL = w;
        if (o == d5.$D) this.MV()
    };
    gw.prototype.MV = function(w, o) {
        var Q = this.AL.rD.Bp,
            e = 0;
        this.WR = [];
        for (var K in Q) this.WR.push(K);
        this.WR.sort(function(P, J) {
            P = P.split(".");
            J = J.split(".");
            return P[1] == J[1] ? P[0] < J[0] ? -1 : 1 : P[1] < J[1] ? -1 : 1
        });
        var b = Math.floor(100 * _.J()),
            R = Math.floor(16 * _.J()),
            X = [],
            h = [];
        for (var M = 0; M < this.WR.length; M++) {
            var K = this.WR[M],
                Z = gw.Il(K, Q[K], b, R);
            X.push(Z);
            h.push(K);
            e += Q[K].byteLength
        }
        this.Cx.lv(X, h, b, R);
        this.ag1 = e;
        this.v()
    };
    gw.prototype.a8w = function(w) {
        this.Cx.qO(this.Cx.T())
    };
    gw.prototype.aiP = function(w) {
        var M = this.Cx.T();
        if (M == -1) {
            alert("Select a file first.");
            return
        }
        this.Cx.G(-1);
        var o = this.AL.rD.Bp;
        delete o[this.WR[M]];
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.UA,
            pO: d5.$D
        };
        this.A(Q)
    };
    gw.prototype.te = function(w) {
        var o = this.AL.rD.Bp,
            Q = {};
        for (var K in o) Q[K] = new Uint8Array(o[K]);
        var b = UZIP.encode(Q);
        eP.save(b, "resources.zip")
    };
    gw.Il = function(w, o, Q, K) {
        var b = _.B("canvas"),
            h = 0;
        b.width = Q;
        b.height = K;
        var R = b.getContext("2d"),
            X = w.split(".").pop().toLowerCase();
        for (var M = 0; M < X.length; M++) h += X.charCodeAt(M) * 613 << 8 * M;
        R.fillStyle = "#" + v.u9(h & 16777215);
        R.fillRect(0, 0, 20, K);
        var e = Math.floor(14 * _.J());
        R.fillStyle = "#000000";
        R.font = "bold " + e + "px sans-serif";
        var Z = (K - e) / 2,
            P = eL.bw(o.byteLength),
            J = R.measureText(P);
        R.fillText(P, Q - 12 - J.width, K - Z);
        return b.toDataURL()
    };

    function bI(w, o, Q) {
        gz.call(this, o, "cwindow");
        this.aek = new fB(Q[0], Q[1] - 33);
        this.nH = _.B("div", "form");
        this.nH.setAttribute("style", "width:" + (Q[2] - Q[0]) + "px; height:" + (Q[3] - Q[1]) + "px");
        this.body.appendChild(this.nH)
    }
    bI.prototype = new gz;
    bI.prototype.DZ = function(w, o) {
        return this.aek.clone()
    };

    function hJ() {
        gz.call(this, [25, 0], "templates");
        this.PZ = null;
        this._5 = 0;
        this.s0 = null;
        this.body.setAttribute("style", "padding:0");
        this.nW = new dQ("Add Templates", null, null, !0);
        this.body.appendChild(this.nW.d);
        this.nW.s("click", this.SD, this);
        this.nW.d.setAttribute("style", "position:absolute; margin-top: -28px;  margin-left:110px");
        this.a1_ = new dQ("New Template", null, null, !0);
        this.a1_.s("click", this.a2A, this);
        this.E7 = _.B("iframe", "scrollable");
        this.E7.setAttribute("style", "border:none; margin:0; padding:0;");
        this.ha = _.B("div", "form scrollable padded");
        this.Ob = _.B("div", "form scrollable padded label12");
        var w = [],
            o = hJ.y0;
        this.ZR = [];
        for (var Q in o) {
            var K = parseInt(Q.slice(1)),
                b = K % 10 == 0 ? "" : "\u2800\u2800- ";
            w.push(b + o[Q]);
            this.ZR.push(K)
        }
        this.FP = [new g$("Name", null, 30), new g$("Description", null, 30, 4), new g$("File", " www.Photopea.com#i...", 17), new g$("Thumbnail URL", "* Use Imgur.com etc., ratio 3:2", 17), new bQ("Category", w), new dQ("<< Back", null, null, !0), new dQ("Save", null, null, !0), new bY("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."), new bY("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
        for (var M = 0; M < this.FP.length; M++) {
            var R = this.FP[M];
            this.Ob.appendChild(R.d);
            R.parent = this;
            if (M != 5) _.EV(this.Ob);
            if (R instanceof dQ) R.s("click", this.a0L, this)
        }
        this.body.appendChild(this.E7)
    }
    hJ.prototype = new gz;
    hJ.prototype.DZ = function(w, o) {
        return new fB(0, 0)
    };
    hJ.prototype.VJ = function(w, o) {
        o = o - 4;
        w = w;
        var Q = this.ha;
        Q.style.width = w - 12 + "px";
        Q.style.height = o - 12 + "px";
        var Q = this.Ob;
        Q.style.width = w - 12 + "px";
        Q.style.height = o - 12 + "px";
        var Q = this.E7;
        Q.style.width = w + "px";
        Q.style.height = o + "px"
    };
    hJ.prototype.v = function() {
        gz.prototype.v.call(this)
    };
    hJ.prototype.MV = function(w, o, Q, K) {
        this.SD(null, !1)
    };
    hJ.prototype.SD = function(w, o) {
        var Q = o != null ? o : _.wH(this.E7);
        if (Q) {
            if (!hi.cW()) {
                alert("You need to log in first!");
                return
            }
            var K = hi.QI();
            this.PZ = K.tpl ? K.tpl.list : [];
            this.bm()
        } else {
            this.E7.setAttribute("src", "");
            this.E7.setAttribute("src", "plugins/templates.html")
        }
        this.body.removeChild(this.body.children[this.body.children.length - 1]);
        this.body.appendChild(Q ? this.ha : this.E7);
        this.nW.vg(Q ? "All Templates" : "Add Templates")
    };
    hJ.prototype.bm = function() {
        var w = this.PZ,
            o = this.ha;
        _.Tk(o);
        var Q = _.B("h1");
        Q.textContent = "Share your PSD templates with the world!";
        var K = _.B("h3");
        K.textContent = "Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
        o.appendChild(Q);
        o.appendChild(K);
        o.appendChild(this.a1_.d);
        for (var M = 0; M < w.length; M++) {
            var b = w[M],
                R = _.B("div");
            o.appendChild(R);
            R.setAttribute("style", "clear:both;");
            var X = _.B("img");
            R.appendChild(X);
            X.setAttribute("src", b.thmb);
            X.setAttribute("style", "height:10em; float:left; margin-right: 1em; margin-bottom:1em;");
            var h = _.B("h3");
            R.appendChild(h);
            h.textContent = b.name;
            var e = _.B("p");
            R.appendChild(e);
            e.textContent = b.desc;
            for (var Z = 0; Z < 2; Z++) {
                var P = new dQ(Z == 0 ? "Edit" : "Delete", null, null, !0);
                P.a04 = M;
                P.ps = Z == 0;
                P.s("click", this.a2E, this);
                R.appendChild(P.d)
            }
        }
    };
    hJ.prototype.a2A = function(w) {
        this.s0 = {
            catg: 0,
            desc: "",
            file: "",
            name: "",
            thmb: "",
            utme: ""
        };
        this.ps()
    };
    hJ.prototype.a2E = function(w) {
        this._5 = w.target.a04;
        if (!w.target.ps) {
            this.PZ.splice(this._5, 1);
            this.te();
            this.bm();
            return
        }
        this.ps()
    };
    hJ.prototype.ps = function() {
        this.body.removeChild(this.ha);
        this.body.appendChild(this.Ob);
        var w = ["name", "desc", "file", "thmb"],
            o = this.s0 ? this.s0 : this.PZ[this._5];
        for (var M = 0; M < 4; M++) {
            var Q = o[w[M]];
            if (Q != "" && M == 2) Q = "https://photopea.com#i" + Q;
            this.FP[M].G(Q)
        }
        this.FP[4].G(this.ZR.indexOf(o.catg))
    };
    hJ.prototype.a0L = function(w) {
        if (this.FP.indexOf(w.target) == 6) {
            var o = ["name", "desc", "file", "thmb"],
                Q = this.s0 ? this.s0 : this.PZ[this._5];
            for (var M = 0; M < 4; M++) {
                var K = this.FP[M].T().trim();
                if (K.length == 0) {
                    alert("One of values is empty.");
                    return
                }
                if (M == 2) {
                    var b = K.split("#i");
                    if (b.length != 2 || b[1].length != 8) {
                        alert("File ID is incorrect.");
                        return
                    }
                    K = b.pop()
                }
                if (M == 3 && (!K.startsWith("http") || !K.endsWith(".jpg") && !K.endsWith(".png"))) {
                    alert("Thumbnail URL is incorrect.");
                    return
                }
                Q[o[M]] = K
            }
            Q.catg = this.ZR[this.FP[4].T()];
            Q.utme = "" + Math.round(Date.now() / 1e3);
            if (this.s0) this.PZ.push(this.s0);
            this.te()
        }
        this.s0 = null;
        this.body.removeChild(this.Ob);
        this.body.appendChild(this.ha);
        this.bm()
    };
    hJ.prototype.te = function() {
        var w = hi.QI();
        if (this.PZ.length == 0) delete w.tpl;
        else w.tpl = {
            list: JSON.parse(JSON.stringify(this.PZ))
        };
        hi.fK(w, function() {
            alert("Saved.")
        })
    };
    hJ.y0 = {
        c0: "Mockups",
        c1: "Mobile & Web",
        c2: "Print",
        c3: "Product",
        c10: "Social Media",
        c11: "Youtube",
        c12: "Instagram",
        c13: "Facebook",
        c20: "Print",
        c21: "Cards",
        c22: "Invitations",
        c23: "Brochures",
        c30: "Mobile",
        c40: "Websites",
        c50: "Presentations",
        c60: "Other"
    };

    function ev() {
        gz.call(this, "Make Selection", "makesel");
        this.AL = null;
        var w = _.B("div", "form");
        this.body.appendChild(w);
        this.e0 = new dS("Anti-Alias");
        this.e0.G(!0);
        w.appendChild(this.e0.d);
        _.EV(w);
        this.AX = new a0(!0);
        w.appendChild(this.AX.d);
        this.zg = new dQ("OK", !0, null, !0);
        this.zg.s("click", this.XI, this);
        this.body.appendChild(this.zg.d)
    }
    ev.prototype = new gz;
    ev.prototype.v = function() {
        gz.prototype.v.call(this);
        this.AX.v()
    };
    ev.prototype.XI = function(w) {
        var o = new Y(_.E.z, !0);
        o.f = z.By;
        o.data = {
            e: "frompath",
            EG: [null, 0, this.AX.al4(), !this.e0.T()]
        };
        this.close();
        this.A(o)
    };

    function fs(w, o, Q, K) {
        cv.call(this);
        this.name = w;
        this.afl = Q;
        this.QF = K;
        this.u8 = _.B("div", "");
        this.u8.setAttribute("draggable", "true");
        this.aO = _.B("div", "pbody");
        this.HI = new dQ("", !1, "");
        this.HI.parent = this;
        this.ahf = _.B("span", "cross");
        this.L9 = _.B("span", "label");
        var b = this.a8L.bind(this);
        this.u8.addEventListener("mousedown", this.a17.bind(this), !1);
        this.u8.addEventListener("contextmenu", b, !1);
        this.HI.d.addEventListener("contextmenu", b, !1);
        this.ahf.addEventListener("mousedown", this.by.bind(this), !1);
        this.u8.appendChild(this.L9);
        if (o) this.u8.appendChild(this.ahf);
        this.sr = !1;
        this.j7 = new ag([{
            name: [1, 12]
        }]);
        this.j7.s("select", this.by, this);
        this.L9.textContent = w
    }
    fs.prototype = new cv;
    fs.prototype.i5 = function() {
        return null
    };
    fs.prototype.OY = function() {
        return new fB(0, 0)
    };
    fs.prototype.v = function() {
        var w = b6.get(this.name),
            o = this.i7 == 0 ? 22 : Math.round(2 + this.i7 / 50),
            Q = w.length > o;
        this.L9.textContent = Q ? w.slice(0, o - 2) : w;
        if (Q)
            for (var K = 0; K < 2; K++) {
                var b = _.B("span");
                b.textContent = w.charAt(o - 2 + K);
                b.setAttribute("style", "opacity:" + (.6 - K * .4));
                this.L9.appendChild(b)
            }
        var R = w.split(" "),
            X = R.length == 2 ? R[0].substring(0, 2) + R[1][0] : w.substring(0, 3);
        if (X.charCodeAt(0) >= 11776) X = X.substring(0, 1);
        var h = this.afl;
        if (h == null) this.HI.vg(X, w);
        else {
            if (h.indexOf("\"") == -1) this.HI.vg("<img src=\"" + h + "\" alt=\"" + w + "\" height=\"20\" />", w)
        }
    };
    fs.prototype.enable = function() {
        this.aO.setAttribute("class", "pbody")
    };
    fs.prototype.disable = function() {
        this.aO.setAttribute("class", "pbody disabled")
    };
    fs.prototype.yy = function(w, o) {};
    fs.prototype.MV = function(w, o, Q) {};
    fs.prototype.S8 = function(w) {};
    fs.prototype.VJ = function(w, o) {};
    fs.prototype.Pc = function(w) {
        this.name = w;
        this.v()
    };
    fs.prototype.ek = function() {};
    fs.prototype.a17 = function(w) {
        if (w.button == 0) this.A(new Y("select", !1))
    };
    fs.prototype.a8L = function(w) {
        _.Cr(w);
        if (this.QF != null && isNaN(this.QF)) return;
        var o = _.m5(w, document.body),
            Q = this.j7;
        Q.update(null);
        Q.v();
        Q.parent = this;
        var K = new Y(_.E.N, !0);
        K.data = {
            e: _.S.Gj,
            wh: Q,
            x: o.x + 1,
            y: o.y + 1
        };
        this.A(K)
    };
    fs.prototype.zZ = function() {
        this.by({})
    };
    fs.prototype.by = function(w) {
        if (w.stopPropagation) w.stopPropagation();
        if (this.QF != null && !isNaN(this.QF)) {
            var o = new Y(_.E.N, !0);
            o.data = {
                e: _.S.HW,
                wh: this.j7
            };
            this.A(o);
            o.data = {
                e: _.S.UA,
                pO: d5.No,
                F: parseFloat(this.QF),
                q7: "del"
            };
            this.A(o)
        } else if (this.D0()) this.A(new Y(_.E.PD, !1))
    };
    fs.prototype.D0 = function(w) {
        return !0
    };
    fs.prototype.Br = function(w, o, Q, K, b) {};
    fs.prototype.$z = function(w, o, Q, K, b) {};
    fs.prototype.IN = function(w, o, Q, K, b) {};
    fs.$l = function(w, o) {
        if (w.childElementCount != 0) return;
        var Q = w.textContent;
        this.rE = this.aj2.bind(this);
        this.acf = this.a3u.bind(this);
        this.Xi = o;
        this.z9 = w;
        this.a1o = Q;
        var K = _.B("input", "");
        K.setAttribute("type", "text");
        K.setAttribute("size", "10");
        K.setAttribute("value", Q);
        _.Tk(w);
        w.appendChild(K);
        K.select();
        K.focus();
        w.addEventListener("keyup", this.rE, !1);
        document.body.addEventListener("mousedown", this.acf, !1)
    };
    fs.$l.prototype.aj2 = function(w) {
        var o = E.Cn,
            Q = o(w.code, E.$g);
        if (o(w.code, E.EI) || Q) this.c7(Q)
    };
    fs.$l.prototype.a3u = function(w) {
        var o = w.target;
        if (o.tagName && o.tagName.toLowerCase() == "input") return;
        this.c7(!0)
    };
    fs.$l.prototype.c7 = function(w) {
        var o = this.z9;
        o.removeEventListener("keyup", this.rE);
        document.body.removeEventListener("mousedown", this.acf);
        if (w) {
            var Q = o.firstChild.value;
            this.Xi(Q)
        } else {
            _.Tk(o);
            o.textContent = this.a1o
        }
    };
    fs.To = {
        Rq: "0",
        ama: "1",
        lz: "2",
        abG: "3",
        alz: "4",
        HM: "5",
        CSS: "6",
        IA: "7",
        a12: "8",
        aig: "9",
        ad_: "10",
        aba: "11",
        aji: "12",
        Ba: "13",
        Y8: "14",
        abb: "15",
        al2: "16",
        _o: "17",
        a6O: "19"
    };

    function cz() {
        fs.call(this, [9, 9], !1, null, fs.To.aba);
        this.AL = null;
        this.St = [0, 0];
        this.zG = _.B("div", "padded scrollable");
        this.zG.setAttribute("style", "width:260px;  height:260px");
        this.aO.appendChild(this.zG);
        this.s(_.E.h, this.V0, this);
        this.dG = _.B("div", "lpfoot");
        this.aO.appendChild(this.dG);
        this.Jq = [];
        var w = "<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",
            o = "</svg>",
            Q = w + "<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />" + o,
            K = w + "<path d=\"M0,2 L14,9 L0,16 Z\" />" + o;
        this.aep = w + "<circle cx=\"7\" cy=\"9\" r=\"6\" />" + o;
        this.ajR = w + "<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />" + o;
        var b = [this.aep, K, "lrs/folder", "lrs/newlayer", "lrs/bin", Q],
            R = [
                [15, 8, 0],
                [5, 8],
                [15, 8, 1],
                [15, 8, 2],
                [5, 4],
                [1, 2]
            ];
        for (var M = 0; M < b.length; M++) {
            var X = b[M];
            if (1 < M && M != b.length - 1) X = "<img src=\"" + PIMG[b[M]] + "\" class=\"gsicon\" />";
            var h = new dQ(X, !1, R[M]);
            h.s("click", this.Mb, this);
            this.dG.appendChild(h.d);
            this.Jq.push(h)
        }
    }
    cz.prototype = new fs("");
    cz.prototype.v = function() {
        fs.prototype.v.call(this);
        for (var M = 0; M < this.Jq.length; M++) this.Jq[M].v()
    };
    cz.prototype.Mb = function(w) {
        var M = this.Jq.indexOf(w.currentTarget),
            o = this.St,
            Q = this.AL,
            K = Q.lt;
        if (M == 0) {
            var b, R = Q.l5;
            if (K.length == 0) {
                alert("Create an Action Set first.");
                return
            }
            if (o.length < 2) {
                alert("Select a target action first.");
                return
            }
            if (R == null) {
                b = this.ajR;
                R = this.St
            } else {
                b = this.aep;
                R = null
            }
            this.Jq[0].vg(b);
            Q.l5 = R
        } else if (M == 1) this.a0M();
        else if (M == 2 || M == 3) {
            var X = {
                Wp: "Action Set " + K.length,
                yG: [],
                exp: !0
            };
            if (M == 2 || K.length == 0) {
                o = [K.length];
                K.push(X)
            }
            if (M == 3) {
                var h = K[o[0]].yG;
                o = [o[0], h.length];
                h.push({
                    Wp: "Action " + h.length,
                    color: 0,
                    yG: [],
                    ahc: !1,
                    shift: !1,
                    exp: !0,
                    qX: h.length
                })
            }
            this.St = o;
            this.KM()
        } else if (M == 4) {
            var e;
            if (o.length == 1) e = K;
            else if (o.length == 2) e = K[o[0]].yG;
            else e = K[o[0]].yG[o[1]].yG;
            var Z = o.length - 1;
            e.splice(o[Z], 1);
            if (e.length == 0) o.pop();
            else
                while (o[Z] >= e.length) o[Z]--;
            if (o.length == 0) o.push(0);
            this.KM()
        } else if (M == 5) {
            if (K.length == 0) {
                alert("No Actions Present.");
                return
            }
            var P = new Y(_.E.N, !0);
            P.data = {
                e: _.S.zt,
                a8l: d5.z,
                Ey: o[0]
            };
            this.A(P)
        }
    };
    cz.prototype.V0 = function(w) {
        var o = this.AL.lt,
            Q = w.data.e,
            K = w.data.Ot;
        if (Q == "sel") this.St = K;
        if (Q == "fold") {
            if (K.length == 1) o[K[0]].exp = !o[K[0]].exp;
            else o[K[0]].yG[K[1]].exp = !o[K[0]].yG[K[1]].exp
        }
        if (Q == "enab") {
            var b = o[K[0]].yG[K[1]].yG[K[2]];
            b.l = !b.l
        }
        if (Q == "nchange") {
            if (K.length == 1) o[K[0]].Wp = w.data.jg;
            else o[K[0]].yG[K[1]].Wp = w.data.jg
        }
        this.KM()
    };
    cz.prototype.yy = function(w, o) {
        this.AL = w;
        if (o == d5.z || o == d5.Dq) this.KM()
    };
    cz.prototype.KM = function() {
        if (this.AL == null) return;
        _.Tk(this.zG);
        var w = this.AL.lt;
        if (w.length == 0) return;
        var o = JSON.stringify(this.St);
        for (var M = 0; M < w.length; M++) {
            var Q = w[M],
                K = new cz.HP([M], o, Q.exp, Q.Wp.split("=").pop());
            K.parent = this;
            this.zG.appendChild(K.d);
            if (!Q.exp) continue;
            for (var b = 0; b < Q.yG.length; b++) {
                var R = Q.yG[b],
                    K = new cz.HP([M, b], o, R.exp, R.Wp.split("=").pop());
                K.parent = this;
                this.zG.appendChild(K.d);
                if (!R.exp) continue;
                for (var X = 0; X < R.yG.length; X++) {
                    var h = R.yG[X],
                        K = new cz.HP([M, b, X], o, null, b6.get(hX.acI(h)), h.l);
                    K.parent = this;
                    this.zG.appendChild(K.d)
                }
            }
        }
    };
    cz.prototype.a0M = function() {
        var w = this.AL.lt,
            o = this.St;
        if (w.length == 0) {
            alert("No Actions Present");
            return
        }
        if (o.length == 1) {
            alert("Select an Action first");
            return
        }
        if (this.AL.l5 != null) {
            alert("You can not apply actions while recording actions");
            return
        }
        if (o.length == 1) o.push(0);
        var Q = w[o[0]],
            K = Q.yG[o[1]],
            b = new Y(_.E.N, !0);
        b.data = {
            e: _.S.n6,
            EG: [K.Wp, Q.Wp]
        };
        this.A(b)
    };
    cz.HP = function(w, o, Q, K, b) {
        cv.call(this);
        this.Ot = w;
        var R = this.Ot.length - 1;
        this.d = _.B("div", "layeritem" + (JSON.stringify(w) == o ? " selected" : ""));
        this.fZ = _.B("div", "head");
        this.d.appendChild(this.fZ);
        this.fZ.setAttribute("style", "height:24px");
        this.ul = _.B("div", "headL");
        this.fZ.appendChild(this.ul);
        if (R != 0) {
            var X = _.B("div");
            X.style.width = R * 20 + "px";
            this.ul.appendChild(X)
        }
        if (Q != null) {
            var h = this.amZ = _.B("div", Q ? "open" : "closed");
            this.ul.appendChild(h)
        } else {
            var e = this.afe = _.B("div", "cmark");
            e.setAttribute("style", "background-size:12px 12px; opacity:" + (b ? 1 : .3));
            this.ul.appendChild(e)
        }
        if (R == 0) {
            var Z = _.B("div", "folder");
            this.ul.appendChild(Z)
        }
        var P = this.L9 = _.B("div", "label");
        P.textContent = K;
        this.ul.appendChild(P);
        this.d.addEventListener("mouseup", this.vC.bind(this), !1)
    };
    cz.HP.prototype = new cv;
    cz.HP.prototype.vC = function(w) {
        if (w.detail == 1 && w.target.tagName.toLowerCase() != "input") {
            var o = "sel";
            if (w.target == this.amZ) o = "fold";
            if (w.target == this.afe) o = "enab";
            var Q = new Y(_.E.h, !0);
            Q.data = {
                e: o,
                Ot: this.Ot
            };
            this.A(Q)
        } else if (this.Ot.length < 3) var K = new fs.$l(this.L9, this.Xi.bind(this))
    };
    cz.HP.prototype.Xi = function(w) {
        var o = new Y(_.E.h, !0);
        o.data = {
            e: "nchange",
            jg: w,
            Ot: this.Ot
        };
        this.A(o)
    };

    function ed() {
        fs.call(this, [9, 3], !1, null, fs.To.IA);
        this.Yl = null;
        this.L4 = null;
        this.AL = null
    }
    ed.prototype = new fs("");
    ed.prototype.jL = function() {
        var w = _.B("div", "");
        this.aO.appendChild(w);
        this.rw = _.B("div", "bordered cell");
        this.rw.setAttribute("style", "width:10em; height:28.5em;");
        w.appendChild(this.rw);
        this.YR = [];
        this.p7 = null;
        this.Su = [];
        var o = this.a5i.bind(this);
        this.Zt = [new ed.XN, new ed.AQ, new ed.an, new ed.hG];
        for (var M = 0; M < this.Zt.length; M++) {
            var Q = _.B("div", "listitem"),
                K = this.Zt[M].xv,
                b = null;
            if (M == 0) {
                this.p7 = new bY(K);
                Q.appendChild(this.p7.d)
            } else {
                b = new dS(K, !1);
                b.s(_.E.h, this.agH, this);
                Q.appendChild(b.d)
            }
            this.Su.push(b);
            this.rw.appendChild(Q);
            this.YR.push(Q);
            Q.addEventListener("click", o, !1)
        }
        this.Eh = _.B("div", "cell padded");
        w.appendChild(this.Eh);
        for (var M = 0; M < this.Zt.length; M++) this.Zt[M].s("brushchange", this.a8J, this);
        this.setItem(0);
        this.Wd = _.B("canvas", "");
        this.Wd.width = Math.floor(380 * _.J());
        this.Wd.height = Math.floor(80 * _.J());
        _.d3(this.Wd, this.Wd.width, this.Wd.height);
        w.appendChild(this.Wd);
        this.Dh = this.Wd.getContext("2d");
        this.GO()
    };
    ed.prototype.ek = function() {
        if (!_.wH(this.aO)) return;
        if (this.rw) {
            this.GO();
            return
        }
        this.jL();
        this.v();
        this.yy(this.AL, d5.Dq)
    };
    ed.prototype.v = function() {
        fs.prototype.v.call(this);
        if (this.rw == null) return;
        this.p7.v();
        for (var M = 1; M < this.Su.length; M++) this.Su[M].v();
        for (var M = 0; M < this.Zt.length; M++) this.Zt[M].v()
    };
    ed.prototype.a8J = function(w) {
        var o = this.Zt.indexOf(w.currentTarget),
            Q = JSON.parse(JSON.stringify(this.Zt[o].L4)),
            K = new Y(_.E.N, !0);
        K.data = {
            e: _.S.UA,
            pO: d5.mO,
            L4: Q
        };
        this.A(K)
    };
    ed.prototype.agH = function(w) {
        this.jR(this.Su.indexOf(w.currentTarget), w.currentTarget.m0())
    };
    ed.prototype.a5i = function(w) {
        var M = this.YR.indexOf(w.currentTarget);
        if (w.target.tagName.toLowerCase() == "input") return;
        if (this.Su[M] && !this.Su[M].m0()) {
            this.Su[M].En();
            this.jR(M, !0)
        }
        this.setItem(M)
    };
    ed.prototype.jR = function(w, o) {
        this.Zt[w].Ae(o)
    };
    ed.prototype.setItem = function(w) {
        for (var M = 0; M < this.Zt.length; M++) this.YR[M].setAttribute("class", "listitem");
        if (this.Eh.firstChild) this.Eh.removeChild(this.Eh.firstChild);
        this.YR[w].setAttribute("class", "listitem selected");
        this.Eh.appendChild(this.Zt[w].d)
    };
    ed.prototype.yy = function(w, o) {
        this.AL = w;
        if (this.rw == null) return;
        if (o == d5.IA || o == d5.Dq) {
            this.Yl = w.Yf;
            for (var M = 0; M < this.Zt.length; M++) this.Zt[M].J$(this.Yl)
        }
        if (o == d5.mO || o == d5.Dq) {
            this.L4 = w.Yf.Uw;
            this.GO()
        }
        if (o == d5.Ba) this.GO()
    };
    ed.prototype.GO = function() {
        if (this.L4) this.enable();
        else {
            this.disable();
            return
        }
        if (!_.wH(this.aO)) return;
        var w = this.AL;
        for (var M = 0; M < this.Zt.length; M++) {
            this.Zt[M].G(this.L4);
            if (this.Su[M]) this.Su[M].G(this.Zt[M].m0())
        }
        var o = JSON.parse(JSON.stringify(this.L4));
        o.Brsh.v.Dmtr.v.val = Math.min(o.Brsh.v.Dmtr.v.val, 50);
        var Q = new B(0, 0, this.Wd.width, this.Wd.height),
            K = new dR(o, this.Yl ? this.Yl.Pe : null, this.Yl ? this.Yl.dg : null, {
                FV: 1
            }, w.x1, w.TT, Q),
            b = 40 * _.J(),
            R = 300 * _.J();
        K.moveTo(b, b);
        for (var M = 0; M <= R; M += 10) K.lineTo(b + M, b + 20 * Math.sin(2 * Math.PI * M / R));
        K.finish();
        var X = this.Dh.createImageData(Q.D, Q.j);
        v.c1(K.bK(), K.vG(), X.data, Q);
        this.Dh.putImageData(X, 0, 0)
    };
    ed.Vq = function(w) {
        cv.call(this);
        this.xv = w;
        this.d = _.B("div", "");
        this.L4 = null
    };
    ed.Vq.prototype = new cv;
    ed.Vq.prototype.J$ = function(w) {};
    ed.Vq.prototype.G = function(w) {
        this.L4 = JSON.parse(JSON.stringify(w));
        this.d.setAttribute("class", this.m0() ? "" : "disabled");
        this.GO()
    };
    ed.Vq.prototype.Ae = function(w) {};
    ed.Vq.prototype.m0 = function() {
        return !1
    };
    ed.Vq.prototype.v = function() {};
    ed.Vq.prototype.GO = function() {};
    ed.Vq.prototype.T5 = function() {
        this.A(new Y("brushchange"))
    };
    ed.XN = function() {
        ed.Vq.call(this, [15, 0]);
        this.Yl = null;
        this.a0T = null;
        this.oq = new i8(!0);
        this.d.appendChild(this.oq.d);
        this.oq.s(_.E.h, this.acm, this);
        this.oq.d.style.height = "10.7em";
        this.d9 = new cI([12, 14, 0], 1, 1e3, " px", 0, !0);
        this.d9.s(_.E.h, this.acz, this);
        this.Rm = new cI([12, 15], 0, 359, " \xB0");
        this.Rm.s(_.E.h, this.afj, this);
        this.o3 = new cI([12, 16], 0, 100, " %");
        this.o3.s(_.E.h, this.ab8, this);
        this.b8 = new cI([12, 17], 0, 100, " %");
        this.b8.s(_.E.h, this.a6g, this);
        this.Va = new cI([12, 18], 1, 300, " %");
        this.Va.s(_.E.h, this.a1e, this);
        this.YR = [this.d9, this.Rm, this.o3, this.b8, this.Va]
    };
    ed.XN.prototype = new ed.Vq;
    ed.XN.prototype.v = function() {
        this.d9.v();
        this.Rm.v();
        this.o3.v();
        this.b8.v();
        this.Va.v()
    };
    ed.XN.prototype.m0 = function() {
        return !0
    };
    ed.XN.prototype.J$ = function(w) {
        this.Yl = w;
        var o = [],
            Q = Math.floor(30 * _.J()),
            K = Math.floor(40 * _.J());
        for (var M = 0; M < w.list.length; M++) {
            var b = w.list[M].v,
                R = dR.Il(b, w.Pe, w.dg, Q, K);
            o.push(R)
        }
        this.oq.lv(o, null, Q, K)
    };
    ed.XN.prototype.GO = function() {
        var w = this.L4.Brsh.v,
            o = w.classID != this.a0T;
        this.a0T = w.classID;
        if (o)
            for (var M = 0; M < this.YR.length; M++)
                if (this.d.contains(this.YR[M].d)) this.d.removeChild(this.YR[M].d);
        this.d9.G(w.Dmtr.v.val);
        if (o) this.d.appendChild(this.d9.d);
        this.Rm.G(w.Angl.v.val);
        if (o) this.d.appendChild(this.Rm.d);
        if (w.classID == "computedBrush" || w.classID == "sampledBrush") {
            this.o3.G(w.Rndn.v.val);
            if (o) this.d.appendChild(this.o3.d)
        }
        if (w.classID == "computedBrush") {
            this.b8.G(w.Hrdn.v.val);
            if (o) this.d.appendChild(this.b8.d)
        }
        this.Va.G(w.Spcn.v.val);
        if (o) this.d.appendChild(this.Va.d)
    };
    ed.XN.prototype.acm = function(w) {
        this.L4 = this.Yl.list[this.oq.T()].v;
        this.T5()
    };
    ed.XN.prototype.acz = function(w) {
        this.L4.Brsh.v.Dmtr.v.val = w.target.T();
        this.T5()
    };
    ed.XN.prototype.afj = function(w) {
        this.L4.Brsh.v.Angl.v.val = w.target.T();
        this.T5()
    };
    ed.XN.prototype.ab8 = function(w) {
        this.L4.Brsh.v.Rndn.v.val = w.target.T();
        this.T5()
    };
    ed.XN.prototype.a6g = function(w) {
        this.L4.Brsh.v.Hrdn.v.val = w.target.T();
        this.T5()
    };
    ed.XN.prototype.a1e = function(w) {
        this.L4.Brsh.v.Spcn.v.val = w.target.T();
        this.T5()
    };
    ed.AQ = function() {
        ed.Vq.call(this, [15, 1]);
        this.xC = new cI([15, 4, 0], 0, 100, " %");
        this.xC.s(_.E.h, this.aay, this);
        this.d.appendChild(this.xC.d);
        this.Ox = new cI([15, 4, 1], 0, 100, " %");
        this.Ox.s(_.E.h, this.abl, this);
        this.d.appendChild(this.Ox.d);
        this.NN = new cI([15, 4, 2], 0, 100, " %");
        this.NN.s(_.E.h, this.ae3, this);
        this.d.appendChild(this.NN.d);
        this.BD = new cI([15, 4, 3], 0, 100, " %");
        this.BD.s(_.E.h, this.ai2, this);
        this.d.appendChild(this.BD.d);
        this.Wv = new cI([15, 4, 4], 0, 100, " %");
        this.Wv.s(_.E.h, this.agh, this);
        this.d.appendChild(this.Wv.d)
    };
    ed.AQ.prototype = new ed.Vq;
    ed.AQ.prototype.v = function() {
        this.xC.v();
        this.Ox.v();
        this.NN.v();
        this.BD.v();
        this.Wv.v()
    };
    ed.AQ.prototype.m0 = function() {
        return this.L4.useTipDynamics.v
    };
    ed.AQ.prototype.Ae = function(w) {
        this.L4.useTipDynamics.v = w;
        dI.Kw.i6(this.L4);
        this.T5()
    };
    ed.AQ.prototype.GO = function() {
        var w = this.L4;
        if (w.useTipDynamics.v == !1) return;
        this.xC.G(w.szVr.v.jitter.v.val);
        this.Ox.G(w.minimumDiameter.v.val);
        this.NN.G(w.angleDynamics.v.jitter.v.val);
        this.BD.G(w.roundnessDynamics.v.jitter.v.val);
        this.Wv.G(w.minimumRoundness.v.val)
    };
    ed.AQ.prototype.aay = function(w) {
        this.L4.szVr.v.jitter.v.val = w.target.T();
        this.T5()
    };
    ed.AQ.prototype.abl = function(w) {
        this.L4.minimumDiameter.v.val = w.target.T();
        this.T5()
    };
    ed.AQ.prototype.ae3 = function(w) {
        this.L4.angleDynamics.v.jitter.v.val = w.target.T();
        this.T5()
    };
    ed.AQ.prototype.ai2 = function(w) {
        this.L4.roundnessDynamics.v.jitter.v.val = w.target.T();
        this.T5()
    };
    ed.AQ.prototype.agh = function(w) {
        this.L4.minimumRoundness.v.val = w.target.T();
        this.T5()
    };
    ed.an = function() {
        ed.Vq.call(this, [15, 2]);
        this.xA = new cI([15, 5, 0], 0, 1e3, " %");
        this.xA.s(_.E.h, this.alP, this);
        this.d.appendChild(this.xA.d);
        this.xe = new cI([15, 5, 1], 1, 20);
        this.xe.s(_.E.h, this.agi, this);
        this.d.appendChild(this.xe.d);
        this.o2 = new cI([15, 5, 2], 0, 100, " %");
        this.o2.s(_.E.h, this.ajt, this);
        this.d.appendChild(this.o2.d)
    };
    ed.an.prototype = new ed.Vq;
    ed.an.prototype.v = function() {
        this.xA.v();
        this.xe.v();
        this.o2.v()
    };
    ed.an.prototype.m0 = function() {
        return this.L4.useScatter.v
    };
    ed.an.prototype.Ae = function(w) {
        this.L4.useScatter.v = w;
        dI.Kw.i6(this.L4);
        this.T5()
    };
    ed.an.prototype.GO = function() {
        var w = this.L4;
        if (w.useScatter.v == !1) return;
        this.xA.G(w.scatterDynamics.v.jitter.v.val);
        this.xe.G(w.Cnt.v);
        this.o2.G(w.countDynamics.v.jitter.v.val)
    };
    ed.an.prototype.alP = function(w) {
        this.L4.scatterDynamics.v.jitter.v.val = w.target.T();
        this.T5()
    };
    ed.an.prototype.agi = function(w) {
        this.L4.Cnt.v = w.target.T();
        this.T5()
    };
    ed.an.prototype.ajt = function(w) {
        this.L4.countDynamics.v.jitter.v.val = w.target.T();
        this.T5()
    };
    ed.hG = function() {
        ed.Vq.call(this, [15, 3]);
        this.N8 = new cI([15, 6, 0], 0, 100, " %");
        this.N8.s(_.E.h, this.akS, this);
        this.d.appendChild(this.N8.d);
        this.VU = new cI([15, 6, 1], 0, 100, " %");
        this.VU.s(_.E.h, this.a2$, this);
        this.d.appendChild(this.VU.d);
        this.rC = new cI([15, 6, 2], 0, 100, " %");
        this.rC.s(_.E.h, this.ai6, this);
        this.d.appendChild(this.rC.d);
        this.o0 = new cI([15, 6, 3], 0, 100, " %");
        this.o0.s(_.E.h, this.a0h, this);
        this.d.appendChild(this.o0.d)
    };
    ed.hG.prototype = new ed.Vq;
    ed.hG.prototype.v = function() {
        this.N8.v();
        this.VU.v();
        this.rC.v();
        this.o0.v()
    };
    ed.hG.prototype.m0 = function() {
        return this.L4.useColorDynamics.v
    };
    ed.hG.prototype.Ae = function(w) {
        this.L4.useColorDynamics.v = w;
        dI.Kw.i6(this.L4);
        this.T5()
    };
    ed.hG.prototype.GO = function() {
        var w = this.L4;
        if (w.useColorDynamics.v == !1) return;
        this.N8.G(w.clVr.v.jitter.v.val);
        this.VU.G(w.H.v.val);
        this.rC.G(w.Strt.v.val);
        this.o0.G(w.Brgh.v.val)
    };
    ed.hG.prototype.akS = function(w) {
        this.L4.clVr.v.jitter.v.val = w.target.T();
        this.T5()
    };
    ed.hG.prototype.a2$ = function(w) {
        this.L4.H.v.val = w.target.T();
        this.T5()
    };
    ed.hG.prototype.ai6 = function(w) {
        this.L4.Strt.v.val = w.target.T();
        this.T5()
    };
    ed.hG.prototype.a0h = function(w) {
        this.L4.Brgh.v.val = w.target.T();
        this.T5()
    };

    function aY() {
        fs.call(this, [9, 0], !1, null, fs.To.Rq);
        this.aO.setAttribute("style", "min-width:200px;");
        this.WK = _.B("div", "hpbody scrollable");
        this.WK.style.height = "160px";
        this.aO.appendChild(this.WK);
        this.ab0 = -1;
        this.U8 = [];
        this.TG = ""
    }
    aY.prototype = new fs("");
    aY.prototype.MV = function(w) {
        if (w == null) {
            _.Tk(this.WK);
            this.TG = "";
            return
        }
        _.Tk(this.WK);
        var o = 0;
        for (var M = 0; M < w.history.length; M++)
            if (M <= w.A3 && !w.history[M].Ep) o = M;
        for (var M = 0; M < w.history.length; M++) {
            var Q = w.history[M];
            if (Q.Ep) continue;
            var K = new di(Q, M, o);
            K.parent = this;
            this.WK.appendChild(K.d);
            this.U8.push(K)
        }
        if (w.A3 == w.history.length - 1) this.ek()
    };
    aY.prototype.ek = function() {
        this.WK.scrollTop = this.WK.scrollHeight
    };
    aY.prototype.v = function() {
        fs.prototype.v.call(this);
        for (var M = 0; M < this.U8.length; M++) this.U8[M].v()
    };

    function di(w, M, o) {
        cv.call(this);
        this.index = M;
        this.d = _.B("div", M == o ? "listitem selected" : "listitem");
        this.Ew = w.name;
        this.v();
        if (M > o) this.d.style.opacity = .4;
        this.d.addEventListener("click", this.Br.bind(this), !1)
    }
    di.prototype = new cv;
    di.prototype.v = function() {
        this.d.textContent = b6.get(this.Ew)
    };
    di.prototype.Br = function(w) {
        if (this.index == this.parent.ab0) return;
        this.nV({
            e: "h_itemchange",
            index: this.index
        })
    };
    di.prototype.nV = function(w) {
        var o = new Y(_.E.z, !0);
        o.data = w;
        o.f = z.Rq;
        this.A(o)
    };

    function ga() {
        fs.call(this, [9, 10], !1, null, fs.To.alz);
        var w = _.B("div", "padded");
        this.aO.appendChild(w);
        this.IG = new a9(256, !0);
        w.appendChild(this.IG.d);
        this.V$ = null
    }
    ga.prototype = new fs("");
    ga.prototype.MV = function(w) {
        this.V$ = w;
        this.KM()
    };
    ga.prototype.KM = function() {
        var w = this.V$;
        if (!_.wH(this.aO)) return;
        if (w == null || w.u.length == 0) {
            this.IG.G(v.UF(v.$(4)));
            return
        }
        var o = w.X_(),
            Q = new B(0, 0, w.D, w.j),
            K = Q.O();
        if (w.o) {
            var b = w.o.rect,
                R = v.$(b.O() * 4);
            v.c1(o, Q, R, b);
            v.Xb(w.o.channel, R);
            o = R;
            Q = b;
            var X = w.o.channel;
            K = 0;
            for (var M = 0; M < X.length; M++) K += X[M];
            K = Math.round(K / 255)
        }
        var h = v.UF(o);
        h[0][255] += 3 * (K - h[5]);
        for (var M = 1; M < 4; M++) h[M][255] += K - h[5];
        this.IG.G(h, K)
    };
    ga.prototype.yy = function(w, o) {
        this.IG.sj(ab.la[w.wA]["--text-color"])
    };
    ga.prototype.v = function() {
        fs.prototype.v.call(this);
        this.IG.v()
    };
    ga.prototype.ek = function() {
        this.KM()
    };

    function bl() {
        fs.call(this, [9, 8], !1, null, fs.To.ama);
        this.zG = _.B("div", "padded");
        this.aO.appendChild(this.zG);
        this.eL = new fn(10);
        this.zG.appendChild(this.eL.d);
        this.zG.appendChild(_.B("hr"));
        this.ve = new ew;
        this.ve.parent = this;
        this.zG.appendChild(this.ve.KE);
        this.eL.s(_.E.h, this.cg, this);
        this.ve.s(_.E.h, this.cg, this)
    }
    bl.prototype = new fs("");
    bl.prototype.cg = function(w) {
        var o;
        if (w.target == this.eL) o = this.eL.T();
        else {
            var Q = this.ve.T();
            o = Math.round(Q.W) << 16 | Math.round(Q.a) << 8 | Math.round(Q.k)
        }
        var K = new Y(_.E.N, !0);
        K.data = {
            e: _.S.UA,
            pO: d5.Ba,
            D3: 0,
            F: o
        };
        this.A(K)
    };
    bl.prototype.yy = function(w, o) {
        var Q = w.x1,
            K = o == d5.Dq;
        if (o == d5.Ba || K) {
            this.eL.G(Q);
            this.ve.G({
                W: Q >>> 16 & 255,
                a: Q >>> 8 & 255,
                k: Q >>> 0 & 255,
                YD: "Color #" + v.u9(Q)
            })
        }
        if (o == d5.de || K) {
            var b = w.a6H;
            this.ve.J$(b)
        }
    };

    function dK() {
        fs.call(this, [12, 72], !1, null, fs.To.al2);
        this.Y4 = null;
        this.e_ = null;
        this.WK = _.B("div", "lpbody scrollable");
        this.dG = _.B("div", "lpfoot");
        this.aO.appendChild(this.WK);
        this.aO.appendChild(this.dG);
        this.Cc = [];
        this.s("click", this.OE, this);
        this.kM = [];
        dK.Rr([
            [17, 2], "Save Selection as Channel", [5, 3],
            [5, 4]
        ], this.kM, this.dG, this._B.bind(this), this.HJ.bind(this));
        this.acc = new ag([{
            name: "Merge Channels",
            G4: !0
        }]);
        this.acc.s("select", this.aT, this)
    }
    dK.prototype = new fs("");
    dK.prototype.aT = function(w) {
        if (this.e_ == null) return;
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.QH,
            hX: "mergechannels"
        };
        this.A(o)
    };
    dK.prototype.i5 = function() {
        return this.acc
    };
    dK.Rr = function(w, o, Q, K, b) {
        for (var M = 0; M < w.length; M++) {
            var R = new dQ("W", !1, w[M]);
            o.push(R);
            _._v(R.d, K);
            Q.appendChild(R.d);
            var X = R.d;
            X.addEventListener("drop", b, !1);
            X.addEventListener("dragover", function(h) {
                h.preventDefault()
            }, !1);
            X.addEventListener("dragenter", _.Cr, !1)
        }
    };
    dK.ms = function(w, o) {
        for (var M = 0; M < w.length; M++)
            if (w[M].d == o.currentTarget) return M
    };
    dK.prototype._B = function(w) {
        var o = dK.ms(this.kM, w);
        if (o == 0) this.A(bv.fq(!0, null, w));
        else {
            o--;
            var Q = new Y(_.E.e9, !0),
                K = {
                    classID: "null"
                };
            if (o == 0) K.null = {
                t: "obj ",
                v: [{
                    t: "prop",
                    v: {
                        classID: "Chnl",
                        keyID: "fsel"
                    }
                }]
            };
            else if (o == 1) K.Nw = {
                t: "Objc",
                v: {
                    classID: "Chnl",
                    ClrI: {
                        t: "enum",
                        v: {
                            MskI: "SlcA"
                        }
                    },
                    Opct: {
                        t: "long",
                        v: 50
                    }
                }
            };
            else K.null = hX.EX("Chnl", !0);
            Q.data = {
                hj: ["duplicate", "make", "delete"][o],
                H8: K
            };
            this.A(Q)
        }
    };
    dK.prototype.HJ = function(w) {
        var o = dK.ms(this.kM, w);
        if (o == 2) {
            var Q = new Y(_.E.e9, !0),
                K = {
                    classID: "null"
                };
            K.null = hX.EX("Chnl", !0);
            Q.data = {
                hj: "duplicate",
                H8: K
            };
            this.A(Q)
        } else this._B(w)
    };
    dK.prototype.tt = function(M) {
        var w = this.Cc,
            o = w[M];
        if (o == null) {
            var Q = _.B("canvas");
            o = Q.getContext("2d");
            w.push(o)
        }
        return o
    };
    dK.prototype.OE = function(w) {
        var o = this.Y4.slice(0),
            Q = w.data.qX,
            K = o[0] + o[1] + o[2],
            b = this.e_;
        if (-5 < Q && Q < 0) {
            var R = -Q - 1;
            if (w.data.Nt) {
                if (R == 0) o = K == 3 ? [0, 0, 0] : [1, 1, 1];
                else {
                    if (o[R - 1] == 0) o[R - 1] = 1;
                    else if (!0) o[R - 1] = 0
                }
            } else {
                if (R == 0) o = [1, 1, 1];
                else {
                    o = [0, 0, 0];
                    o[R - 1] = 1
                }
                b.Od = []
            }
            var X = new Y(_.E.z, !0);
            X.f = z.l4;
            X.data = {
                e: "setcls",
                dN: o
            };
            this.A(X);
            return
        }
        if (-1 < Q) {
            var h = b.t[Q],
                e = h.lY == 1 ? h._f() : h.Ca(b).q;
            if (w.data.Nt) e.He = !e.He;
            else {
                for (var M = 0; M < b.SF.length; M++) b.SF[M].He = !1;
                b.Od = []
            }
        } else {
            var Z = -Q - 5,
                e = b.SF[Z];
            if (w.data.Nt) e.He = !e.He;
            else {
                for (var M = 0; M < b.SF.length; M++) b.SF[M].He = !1;
                e.He = !0;
                b.Od = [Z]
            }
        }
        b.n9 = b.rn = !0
    };
    dK.prototype.ek = function() {
        this._j()
    };
    dK.prototype.MV = function(w) {
        this.e_ = w;
        this._j()
    };
    dK.prototype._j = function() {
        var w = this.e_,
            o = this.WK,
            h = 34,
            e = 34,
            k = 4;
        _.Tk(o);
        if (w == null || !_.wH(o)) return;
        var Q = w.D,
            K = w.j,
            b = new B(0, 0, Q, K),
            R = this.Y4 = w.m.dN.slice(0),
            X = R[0] + R[1] + R[2];
        if (Q > K) e = Math.round(e * K / Q);
        else h = Math.round(h * Q / K);
        var Z = ["RGB"].concat(au.kl);
        for (var M = 0; M < 4; M++) {
            var P = this.tt(M);
            v.L0.LM(P, h, e, b, w.X_(), b, !1, M == 0 ? null : M - 1);
            var J = M == 0 ? X == 3 : R[M - 1] == 1,
                i = new bv(-1 - M, !0, !0, P, Z[M], J, J);
            i.parent = this;
            o.appendChild(i.d)
        }
        for (var M = 0; M < w.u.length; M++) {
            var $ = w.t[w.u[M]],
                n = $.lY;
            if (n != 1 && n != 3) continue;
            var j = n == 1 ? $._f() : $.Ca(w).q,
                P = this.tt(k + M);
            k++;
            v.L0.Cy(P, h, e, b, j);
            var i = new bv(w.u[M], !0, !0, P, $.getName() + (n == 1 ? "" : " Filter") + " Mask", !0, j.He);
            i.parent = this;
            o.appendChild(i.d)
        }
        for (var M = 0; M < w.SF.length; M++) {
            var j = w.SF[M],
                P = this.tt(k + M);
            v.L0.Cy(P, h, e, b, j);
            var i = new bv(-5 - M, !0, j.name == "Quick Mask", P, j.name, w.Od.indexOf(M) != -1, j.He, z.lz, {
                e: a.wq,
                D3: "rnm",
                qX: M
            });
            i.parent = this;
            o.appendChild(i.d)
        }
    };
    dK.prototype.VJ = function(w, o) {
        this.WK.style.height = o - 9 - 25 + "px"
    };
    dK.prototype.v = function() {
        fs.prototype.v.call(this);
        this._j();
        dK.tC(this.kM, ["lrs/makesel", "lrs/mask", "lrs/newlayer", "lrs/bin"])
    };
    dK.tC = function(w, o) {
        for (var M = 0; M < w.length; M++) {
            var Q = w[M];
            Q.vg(_.oP(o[M]))
        }
    };

    function bv(w, o, Q, K, b, R, X, h, e) {
        cv.call(this);
        this.d = _.B("div", "layeritem");
        this.am9 = w;
        this.a89 = o;
        this.a5Z = Q;
        this.H3 = K;
        this.a8k = h;
        this.a56 = e;
        this.fZ = _.B("div", R ? "head selected" : "head");
        this.fZ.setAttribute("style", "height: " + 40 + "px");
        var Z = _.B("div", "headL"),
            P = _.B("div", "headR"),
            J = 15;
        this.d.appendChild(this.fZ);
        this.fZ.appendChild(Z);
        this.fZ.appendChild(P);
        this.fB = _.B("div", "eye");
        if (1 < _.J() && _.J() < 1.5) J = J / _.J();
        this.fB.setAttribute("style", "background-size: " + J + "px " + J + "px;");
        this.fB.style.opacity = X ? 1 : .2;
        if (o) Z.appendChild(this.fB);
        this.JF = _.B("div", "thumb");
        if (K) this.JF.appendChild(K.canvas);
        Z.appendChild(this.JF);
        this.gX = _.B("div", "label");
        if (Q) this.gX.style.fontStyle = "italic";
        this.gX.textContent = b6.get(b);
        Z.appendChild(this.gX);
        var i = this.fZ;
        i.setAttribute("draggable", "true");
        this.fZ.addEventListener("mousedown", this.abZ.bind(this), !1);
        this.fZ.addEventListener("mouseup", this.a7$.bind(this), !1)
    }
    bv.prototype = new cv;
    bv.prototype.Xi = function(w) {
        var o = new Y(_.E.z, !0);
        o.f = this.a8k;
        o.data = this.a56;
        o.data.name = w;
        this.A(o)
    };
    bv.prototype.abZ = function(w) {
        var o = w.ctrlKey || w.metaKey,
            Q = this.am9;
        if (o && w.target == this.H3.canvas) {
            this.A(bv.fq(this.a89, Q, w))
        } else {
            var K = new Y("click", !0);
            K.data = {
                qX: Q,
                Nt: w.target == this.fB,
                yv: o
            };
            this.A(K)
        }
    };
    bv.prototype.a7$ = function(w) {
        if (!this.a5Z && w.detail == 2 && w.target == this.gX) {
            var o = new fs.$l(this.gX, this.Xi.bind(this))
        }
    };
    bv.fq = function(w, o, Q) {
        var K = 0;
        if (Q.shiftKey) K++;
        if (Q.altKey) K += 2;
        var b = new Y(_.E.z, !0);
        b.f = z.By;
        if (w) {
            if (-5 < o && o < 0) {
                b = new Y(_.E.e9, !0);
                b.data = z.hz.az(K, ["RGB", "Rd", "Grn", "Bl"][-1 - o])
            } else b.data = {
                e: "fromchannel",
                EG: [o, 0, K]
            }
        } else b.data = {
            e: "frompath",
            EG: [o, 0, K]
        };
        return b
    };

    function ex() {
        fs.call(this, [8, 9], !1, null, fs.To._o);
        this.Y4 = null;
        this.e_ = null;
        this.WK = _.B("div", "lpbody scrollable");
        this.dG = _.B("div", "lpfoot");
        this.aO.appendChild(this.WK);
        this.aO.appendChild(this.dG);
        this.aO.addEventListener("click", this.a0x.bind(this), !1);
        this.Cc = [];
        this.s("click", this.OE, this);
        this.kM = [];
        dK.Rr([
            [17, 2], "Selection to Path", [5, 3],
            [5, 4]
        ], this.kM, this.dG, this._B.bind(this), this.HJ.bind(this))
    }
    ex.prototype = new fs("");
    ex.prototype._B = function(w) {
        var o = dK.ms(this.kM, w),
            Q;
        if (o == 0) Q = bv.fq(!1, null, w);
        else if (o == 1) {
            Q = new Y(_.E.e9, !0);
            Q.data = {
                hj: "make",
                H8: {
                    classID: "null",
                    null: {
                        t: "obj ",
                        v: [{
                            t: "Clss",
                            v: {
                                classID: "Path"
                            }
                        }]
                    },
                    From: {
                        t: "obj ",
                        v: [{
                            t: "prop",
                            v: {
                                classID: "csel",
                                keyID: "fsel"
                            }
                        }]
                    },
                    Tlrn: {
                        t: "UntF",
                        v: {
                            type: "#Pxl",
                            val: 2
                        }
                    }
                }
            }
        } else {
            var Q = new Y(_.E.z, !0);
            Q.f = z.k9;
            Q.data = {
                e: "pathedit",
                D3: ["new", "del"][o - 2]
            }
        }
        this.A(Q)
    };
    ex.prototype.HJ = function(w) {
        this._B(w)
    };
    ex.prototype.tt = function(M) {
        var w = this.Cc,
            o = w[M];
        if (o == null) {
            var Q = _.B("canvas");
            o = Q.getContext("2d");
            w.push(o)
        }
        return o
    };
    ex.prototype.a0x = function(w) {
        if (w.target == this.WK) {
            var o = this.e_;
            o.A6 = [];
            o.Yd = [];
            o.rn = !0;
            o.n9 = !0
        }
    };
    ex.prototype.OE = function(w) {
        var o = w.data.qX,
            Q = this.e_,
            K = w.data.yv,
            b = 0,
            R, X;
        if (o < 0) {
            b = -1 - o;
            R = Q.A6;
            X = Q.Yd
        } else {
            var h = Q.a$()[0];
            for (var M = 0; M < h.length; M++) {
                var e = h[M].qX;
                if (e == o) break;
                if (e >= 0) b++
            }
            R = Q.Yd;
            X = Q.A6
        }
        if (K) {
            var Z = R.indexOf(b);
            if (Z == -1) R.push(b);
            else R.splice(Z, 1)
        } else {
            while (R.length != 0) R.pop();
            while (X.length != 0) X.pop();
            R.push(b)
        }
        Q.rn = !0;
        Q.n9 = !0
    };
    ex.prototype.ek = function() {
        this._j()
    };
    ex.prototype.MV = function(w) {
        this.e_ = w;
        this._j()
    };
    ex.prototype._j = function() {
        var w = this.e_,
            o = this.WK,
            h = 34,
            e = 34;
        _.Tk(o);
        if (w == null || !_.wH(o)) return;
        var Q = w.D,
            K = w.j,
            b = new B(0, 0, Q, K),
            R = this.Y4 = w.m.dN.slice(0),
            X = R[0] + R[1] + R[2];
        if (Q > K) e = Math.round(e * K / Q);
        else h = Math.round(h * Q / K);
        var Z = w.a$(),
            P = Z[0];
        for (var M = 0; M < P.length; M++) {
            var J = P[M],
                i = this.tt(M);
            v.L0.a0A(i, h, e, b, J.add.vmsk);
            var k = new bv(J.qX, !1, J.qX >= -1, i, J.name, Z[1].indexOf(M) != -1, !1, z.k9, {
                e: "pathedit",
                D3: "rnm",
                qX: J.qX
            });
            k.parent = this;
            o.appendChild(k.d)
        }
    };
    ex.prototype.VJ = function(w, o) {
        this.WK.style.height = o - 9 - 25 + "px"
    };
    ex.prototype.v = function() {
        fs.prototype.v.call(this);
        this._j();
        dK.tC(this.kM, ["lrs/makesel", "lrs/makepath", "lrs/newlayer", "lrs/bin"])
    };

    function ct(w) {
        fs.call(this, [9, w ? 4 : 5], !1, null, w ? fs.To.aig : fs.To.ad_);
        this.aO.setAttribute("style", "min-width:240px;");
        this.a2f = w;
        this.d8 = null;
        this.AL = null
    }
    ct.prototype = new fs("");
    ct.prototype.jL = function() {
        this.d8 = new b4;
        var w = this.d8,
            o = this.aO;
        w.parent = this;
        if (this.a2f) {
            var Q = _.B("div", "marged");
            o.appendChild(Q);
            Q.appendChild(w.ax.d);
            o.appendChild(_.B("hr"));
            var K = _.B("div", "marged");
            o.appendChild(K);
            K.appendChild(w.XK.d);
            K.appendChild(w.R_.d);
            var b = _.B("div", "marged");
            o.appendChild(b);
            b.appendChild(w.tY.d);
            b.appendChild(w.Zi.d);
            o.appendChild(_.B("hr"));
            var R = _.B("div", "marged");
            o.appendChild(R);
            R.appendChild(w.io.d);
            R.appendChild(w.LZ.d);
            var X = _.B("div", "marged");
            o.appendChild(X);
            X.appendChild(w.P3.d);
            X.appendChild(w.Nv.d);
            o.appendChild(_.B("hr"));
            var h = _.B("div", "marged");
            o.appendChild(h);
            h.appendChild(w.qV.d);
            h.appendChild(w.Ag.d);
            h.appendChild(w.AV.d);
            h.appendChild(w.Eg.d);
            h.appendChild(w.Zg.d);
            h.appendChild(w.Mk.d);
            h.appendChild(w.aM.d);
            h.appendChild(w.WP.d)
        } else {
            var Q = _.B("div", "marged");
            o.appendChild(Q);
            Q.appendChild(w.sM.d);
            Q.appendChild(w.ON.d);
            Q.appendChild(w.wB.d);
            Q.appendChild(w.aaC.d);
            Q.appendChild(w.a41.d);
            Q.appendChild(w.a5K.d);
            Q.appendChild(w.amK.d);
            o.appendChild(_.B("hr"));
            var K = _.B("div", "marged");
            o.appendChild(K);
            K.appendChild(w.w2.d);
            K.appendChild(w.Lm.d);
            K.appendChild(w.CO.d);
            o.appendChild(_.B("hr"));
            var b = _.B("div", "marged");
            o.appendChild(b);
            b.appendChild(w.oM.d);
            b.appendChild(w.i3.d);
            b.appendChild(w.WO.d)
        }
    };
    ct.prototype.ek = function() {
        if (!_.wH(this.aO)) return;
        if (this.d8 == null) {
            this.jL();
            var w = this.AL;
            if (w) this.d8.G(w.$p, w.md, w.C1);
            this.d8.v()
        }
    };
    ct.prototype.v = function() {
        fs.prototype.v.call(this);
        if (this.d8) this.d8.v()
    };
    ct.prototype.yy = function(w, o) {
        this.AL = w;
        if (o != d5.Dq && o != d5.pQ && o != d5.us && o != d5.gx) return;
        if (this.d8) this.d8.G(w.$p, w.md, w.C1)
    };

    function gt() {
        fs.call(this, "Glyphs", !1, null, fs.To.a6O);
        this.AL = null;
        this.a6z = null;
        this.ai$ = null;
        this.nE = null;
        this.aaH = null;
        this.TQ = Math.round(290 * _.J());
        this.G6 = 8;
        this.a83 = 4;
        this.qe = new bQ(null, ["Hi", "Hello"]);
        this.qe.s(_.E.h, this._A, this);
        var w = this.EY = new dQ("-", null, null, !0);
        w.s("click", this.tr, this);
        var o = this.abT = new dQ("+", null, null, !0);
        o.s("click", this.tr, this);
        this.LE = new i8(!1);
        this.LE.s(_.E.h, this.ak$, this);
        this.LE.d.style.height = 20 + "em";
        var Q = _.B("div", "padded");
        Q.setAttribute("style", "width:" + (this.TQ + 10) / _.J() + "px;");
        this.aO.appendChild(Q);
        var top = _.B("div");
        top.setAttribute("style", "margin-bottom:0.5em");
        Q.appendChild(top);
        top.appendChild(this.qe.d);
        top.appendChild(w.d);
        top.appendChild(o.d);
        Q.appendChild(this.LE.d)
    }
    gt.prototype = new fs("");
    gt.prototype.ak$ = function(w) {
        var o = this.LE.T() * this.G6 * this.a83,
            Q = Math.floor(this.TQ / this.G6) / _.J(),
            K = this.LE.af_();
        o += Math.floor(K.y / Q) * this.G6;
        o += Math.floor(K.x / Q);
        var b = this.nE[this.qe.T()];
        if (o >= b.length) return;
        var R = b[o],
            X = this.aaH[R];
        if (X.dl.length == 0) {
            alert("No known character for this glyph");
            return
        }
        var h = String.fromCodePoint(X.dl[0]),
            e = new Y(_.E.z, !0);
        e.f = z.wy;
        e.data = {
            e: "insertText",
            F: h
        };
        this.A(e)
    };
    gt.prototype.tr = function(w) {
        this.G6 += w.target == this.EY ? 1 : -1;
        this.G6 = Math.max(1, Math.min(20, this.G6));
        this._A()
    };
    gt.prototype.ek = function() {
        this.yy(this.AL)
    };
    gt.prototype.yy = function(w, o) {
        this.AL = w;
        if (!_.wH(this.aO)) return;
        var Q = w.$p,
            K = Q.Bq.Font,
            e = 0;
        if (K == null) return;
        var b = Q.IF[K].Name;
        if (this.a6z == b) return;
        var K = w.md.aS(b);
        if (K == null) return;
        var R = K.maxp.numGlyphs,
            X = this.aaH = new Array(R);
        for (var M = 0; M < R; M++) X[M] = {
            dl: []
        };
        var h = Date.now(),
            Z = new Uint8Array(1048575);
        for (var M = 0; M < 1048575; M++) {
            var P = Typr.U.codeToGlyph(K, M);
            if (P != 0 && P < R) {
                Z[M] = 1;
                if (X[P].dl.length == 0) e++;
                X[P].dl.push(M)
            }
        }
        var J = gt.y0,
            i = [];
        for (var M = 0; M < J.length; M++) i.push([]);
        for (var P = 1; P < R; P++) {
            i[0].push(P);
            var k = X[P].dl[0];
            if (k == null) {
                continue
            }
            for (var $ = 1; $ < J.length; $++) {
                var n = J[$].Yb;
                for (var M = 0; M < n.length; M += 2)
                    if (n[M] <= k && k <= n[M + 1]) {
                        i[$].push(P);
                        break
                    }
            }
        }
        this.nE = i;
        var j = [];
        for (var M = 0; M < J.length; M++) j.push(J[M].Y$ + " (" + i[M].length + ")");
        var y = this.qe.T();
        this.qe.dU(j);
        this.qe.G(y);
        this.a6z = b;
        this.ai$ = K;
        this._A()
    };
    gt.prototype._A = function(w) {
        var o = this.nE[this.qe.T()],
            Q = o.length,
            K = this.ai$,
            b = Typr.U,
            R = Math.floor(this.TQ / this.G6),
            X = R,
            h = X * .8,
            e = X * .8 / K.head.unitsPerEm,
            Z = [],
            P = _.B("canvas"),
            J = P.getContext("2d"),
            i = this.G6,
            k = Math.ceil(Q / i),
            $ = this.a83;
        P.width = R * i;
        P.height = X * $;
        J.strokeStyle = "rgba(0,0,0,0.3)";
        var n = Date.now();
        for (var j = 0; j < k; j += $) {
            J.fillStyle = "white";
            J.fillRect(0, 0, i * R, X * $);
            for (var y = 0; y < $; y++) {
                for (var V = 0; V < i; V++) {
                    var M = o[(j + y) * i + V];
                    if (M == null) break;
                    var O = b.glyphToPath(K, M),
                        S = v.w.QT(O.crds);
                    if (!S.Kx()) {
                        J.fillStyle = "#252525";
                        J.beginPath();
                        var G = V * R + (R - S.D * e) * .5 - S.x * e,
                            D = y * X + h;
                        J.translate(G, D);
                        J.scale(e, -e);
                        b.pathToContext(O, J);
                        J.scale(1 / e, -1 / e);
                        J.translate(-G, -D);
                        J.fill()
                    }
                }
            }
            J.beginPath();
            for (var V = 0; V < i; V++) {
                var q = V * R + R + .5;
                J.moveTo(q, 0);
                J.lineTo(q, X * $)
            }
            for (var y = 0; y < $; y++) {
                var T = y * X + X + .5;
                J.moveTo(0, T);
                J.lineTo(i * R, T)
            }
            J.stroke();
            Z.push(P.toDataURL("image/png"))
        }
        this.LE.lv(Z, null, R * i, X * $)
    };
    gt.y0 = [{
        Y$: "All Glyphs"
    }, {
        Y$: "Basic Latin, Latin 1",
        Yb: [0, 127, 128, 143]
    }, {
        Y$: "Latin Extended-A",
        Yb: [256, 383]
    }, {
        Y$: "Latin Extended-B",
        Yb: [384, 591]
    }, {
        Y$: "Punctuations",
        Yb: [33, 35, 37, 39, 42, 42, 44, 44, 46, 47, 58, 59, 63, 63, 64, 64, 92, 92, 161, 161, 167, 167, 182, 183, 191, 191, 894, 894, 903, 903, 1370, 1375, 1417, 1417, 8192, 8303, 11776, 11903]
    }, {
        Y$: "Greek",
        Yb: [880, 1023]
    }, {
        Y$: "Cyrillic",
        Yb: [1024, 1279]
    }, {
        Y$: "Hebrew",
        Yb: [1424, 1535]
    }, {
        Y$: "Arabic",
        Yb: [1536, 1791]
    }, {
        Y$: "Emoji",
        Yb: [9728, 10095, 127744, 129535]
    }];

    function bu() {
        fs.call(this, [13, 0], !1, null, fs.To.Ba);
        this.pZ = 0;
        this.akZ = 0;
        this.AL = null;
        var w = _.B("div", "flexrow padded");
        this.aO.appendChild(w);
        var o = _.B("div");
        w.appendChild(o);
        this.sC = [];
        for (var M = 0; M < 2; M++) {
            var Q = new eQ;
            this.sC.push(Q);
            Q.s("click", this.a4c, this);
            o.appendChild(Q.d)
        }
        this.ZI = new gg(192);
        this.ZI.s(_.E.h, this.T9, this);
        w.appendChild(this.ZI.d)
    }
    bu.prototype = new fs("");
    bu.prototype.a4c = function(w) {
        this.pZ = this.sC.indexOf(w.currentTarget);
        this.KM()
    };
    bu.prototype.T9 = function(w) {
        var o = this.ZI.T();
        this.ZI.G(o);
        var Q = Math.round(o.W * 255) << 16 | Math.round(o.a * 255) << 8 | Math.round(o.k * 255),
            K = new Y(_.E.N, !0);
        K.data = {
            e: _.S.UA,
            pO: d5.Ba,
            D3: this.pZ,
            F: Q
        };
        this.A(K);
        this.akZ = Date.now()
    };
    bu.prototype.KM = function() {
        var w = this.AL,
            o = this.pZ,
            Q = [w.x1, w.TT];
        for (var M = 0; M < 2; M++) {
            var K = this.sC[M],
                b = K.d.style;
            K.sj(Q[M]);
            if (M == o) delete b.borderColor;
            else b.borderColor = "var(--bg-color)"
        }
        var R = Q[o];
        if (Date.now() - this.akZ > 100) this.ZI.G({
            W: (R >>> 16) / 255,
            a: (R >>> 8 & 255) / 255,
            k: (R & 255) / 255
        })
    };
    bu.prototype.yy = function(w, o) {
        this.AL = w;
        if (o == d5.Dq || o == d5.Ba) this.KM()
    };
    bu.prototype.ek = function() {
        this.KM()
    };

    function hu() {
        fs.call(this, "CSS", !1, null, fs.To.CSS);
        this.V$ = null;
        var w = _.B("div", "padded");
        this.aO.appendChild(w);
        this.Fg = _.B("textarea");
        this.Fg.setAttribute("rows", 16);
        this.Fg.setAttribute("style", "display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
        w.appendChild(this.Fg)
    }
    hu.prototype = new fs("");
    hu.prototype.MV = function(w) {
        this.V$ = w;
        this.KM()
    };
    hu.prototype.yy = function(w, o) {
        if (o == d5.us) this.KM()
    };
    hu.prototype.KM = function() {
        var w = this.V$;
        if (w == null || w.u.length == 0) return;
        if (!_.wH(this.aO)) return;
        var o = w.t[w.u[0]],
            Q = CSS.ahN(o, w);
        if (Q.length != 0) this.Fg.value = Q.join(";\n") + ";";
        else this.Fg.value = ""
    };
    hu.prototype.ek = function() {
        this.KM()
    };

    function c1() {
        fs.call(this, [9, 6], !1, null, fs.To.abG);
        this.aO.setAttribute("style", "min-width:240px;");
        this.V$ = null;
        this.AL = null;
        var w = _.B("div", "marged row");
        this.aO.appendChild(w);
        var o = _.B("div", "cell");
        o.setAttribute("style", "width:10em");
        w.appendChild(o);
        var Q = _.B("div", "cell");
        Q.setAttribute("style", "width:10em");
        w.appendChild(Q);
        this.a7b = [];
        for (var M = 0; M < 4; M++) {
            var K = new bY("");
            this.a7b.push(K);
            o.appendChild(K.d);
            _.EV(o)
        }
        this.aO.appendChild(_.B("hr", ""));
        var b = _.B("div", "marged row");
        this.aO.appendChild(b);
        var o = _.B("div", "cell");
        o.setAttribute("style", "width:10em");
        var Q = _.B("div", "cell");
        Q.setAttribute("style", "width:10em");
        b.appendChild(o);
        b.appendChild(Q);
        this.Hj = new bY("");
        o.appendChild(this.Hj.d);
        _.EV(o);
        this.p8 = new bY("");
        o.appendChild(this.p8.d);
        this.b7 = new bY("");
        Q.appendChild(this.b7.d);
        _.EV(Q);
        this.YH = new bY("");
        Q.appendChild(this.YH.d);
        this.Hj.G("X: 100 px");
        this.p8.G("Y: 100 px");
        this.b7.G("W: 0");
        this.YH.G("H: 0")
    }
    c1.prototype = new fs("");
    c1.prototype.$z = function(w, o, Q, K, b) {
        if (!_.wH(this.aO) || w == null) return;
        var R = w.m.WD(b.x, b.y),
            X = new fB(Math.floor(R.x), Math.floor(R.y));
        if (!b.L8) {
            var h = 0,
                e = 0,
                Z = 0,
                P = 0,
                J = this.a7b;
            if (!b.L8 && !w.afJ() && new B(0, 0, w.D - 1, w.j - 1).V5(X)) {
                var i = w.X_(),
                    M = w.D * X.y + X.x << 2;
                h = i[M + 0];
                e = i[M + 1];
                Z = i[M + 2];
                P = i[M + 3]
            }
            J[0].G("R: " + h);
            J[1].G("G: " + e);
            J[2].G("B: " + Z);
            J[3].G("A: " + P)
        }
        this.Hj.G("X: " + v.JU.IH(X.x, w.cK, Q, w.D));
        this.p8.G("Y: " + v.JU.IH(X.y, w.cK, Q, w.j));
        this.P8()
    };
    c1.prototype.P8 = function() {
        var w = this.V$,
            o = this.AL,
            Q = 0,
            K = 0;
        if (w && o) {
            if (w.m.$G) {
                Q = w.m.$G.D;
                K = w.m.$G.j
            } else if (w.o) {
                Q = w.o.rect.D;
                K = w.o.rect.j
            }
            Q = v.JU.IH(Math.abs(Q), w.cK, o, w.D);
            K = v.JU.IH(Math.abs(K), w.cK, o, w.j)
        }
        this.b7.G(b6.get([12, 41]).charAt(0) + ": " + Q);
        this.YH.G(b6.get([12, 42]).charAt(0) + ": " + K)
    };
    c1.prototype.v = function() {
        fs.prototype.v.call(this);
        this.P8()
    };
    c1.prototype.MV = function(w, o, Q) {
        this.V$ = w;
        this.AL = Q;
        this.P8()
    };

    function aF() {
        fs.call(this, [9, 1], !1, null, fs.To.lz);
        this.z7 = null;
        this.xN = null;
        this.HS = null;
        this.fZ = _.B("div", "lphead");
        this.WK = _.B("div", "lpbody scrollable");
        this.dG = _.B("div", "lpfoot");
        this.NZ = new bQ(null, hL.gS, !1, hL.fb);
        this.NZ.s(_.E.h, this.aax, this);
        this.fZ.appendChild(this.NZ.d);
        this.fk = new fN([12, 0], 0, 100, "%", 0);
        this.fk.s(_.E.h, this.aeb, this);
        this.fk.parent = this;
        this.fZ.appendChild(this.fk.d);
        this.hA = new eO("Lock", ["<img src=\"" + PIMG.trsp3 + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["tools/brush"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.pos + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG["lrs/lock"] + "\" class=\"autoscale gsicon\" />"], !0, ["Transparency", [12, 76, 2],
            [12, 40],
            [7, 0]
        ]);
        this.hA.s(_.E.h, this.abB, this);
        this.fZ.appendChild(this.hA.d);
        this.v6 = new fN([12, 26], 0, 100, "%", 0);
        this.v6.s(_.E.h, this.acE, this);
        this.v6.parent = this;
        this.fZ.appendChild(this.v6.d);
        this.kM = [];
        this.Rr();
        this.aO.appendChild(this.fZ);
        this.aO.appendChild(this.WK);
        this.WK.addEventListener("dragover", function(b) {
            b.preventDefault()
        }, !1);
        this.WK.addEventListener("dragenter", _.Cr, !1);
        this.WK.addEventListener("drop", this.a9d.bind(this), !1);
        this.aO.appendChild(this.dG);
        this.aO.addEventListener("contextmenu", _.Cr, !1);
        var w = {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "scaleeffects",
                    np: 100,
                    t1: {
                        b: _.E.z,
                        f: z.ii,
                        c: {
                            e: "scaleeffects"
                        }
                    }
                }
            },
            o = {
                name: "Scale Effects",
                l: function(b) {
                    return {
                        l: b != null && b.t[b.u[0]].V8()
                    }
                }
            },
            Q = [o],
            K = [w];
        this.a2k = new ag(Q, K);
        var Q = [{
                name: [14, 10]
            }, {
                name: [14, 11],
                S$: !0
            }, {
                name: [6, 0]
            }, {
                name: [11, 4]
            }, {
                name: [5, 4],
                S$: !0
            }, {
                name: [6, 7]
            }, {
                name: "New Smart Obj. via Copy",
                l: function(b) {
                    return {
                        l: b.t[b.u[0]].add.SoLd != null
                    }
                },
                S$: !0
            }, {
                name: [6, 8],
                l: function(b) {
                    var R = b.t[b.u[0]];
                    if (R.add.TySh || R.add.SoLd || R.add.SoCo || R.add.GdFl || R.add.PtFl) return {
                        l: !0
                    };
                    return {
                        l: !1
                    }
                }
            }, {
                name: [6, 34],
                l: function(b) {
                    var R = b.t[b.u[0]];
                    return {
                        l: R.add.lmfx != null && !R.xI()
                    }
                }
            }, {
                name: [6, 40],
                S$: !0,
                l: function(b) {
                    var R = b.t[b.u[0]];
                    return {
                        l: R.add.TySh != null
                    }
                }
            }, {
                name: "",
                S$: !0,
                l: function(b) {
                    var R = b.t[b.u[0]],
                        X = R.add.TySh,
                        h = X ? X.rr : null;
                    return {
                        l: X != null && h.Curve == null,
                        Ow: b6.get(X && fI.bv(h) == 0 ? [16, 3, 1] : [16, 3, 0])
                    }
                }
            }, {
                name: [6, 6, 0],
                S$: !0,
                l: function(b) {
                    return {
                        l: b.dH(b.u[0]),
                        r8: b.t[b.u[0]].xx
                    }
                }
            }, {
                name: [11, 6],
                S$: !0,
                sub: [{
                    name: [5, 1],
                    l: function(b) {
                        var R = b.t[b.u[0]];
                        return {
                            l: R.add.lmfx != null
                        }
                    }
                }, {
                    name: [5, 2]
                }, {
                    name: [2, 2],
                    l: function(b) {
                        var R = b.t[b.u[0]];
                        return {
                            l: R.add.lmfx != null
                        }
                    },
                    S$: !0
                }, o]
            }, {
                name: [6, 10],
                l: function(b) {
                    return {
                        l: b.u.length == 1 && b.u[0] != 0 && !b.t[b.u[0]].xI()
                    }
                }
            }, {
                name: [6, 12, 0],
                l: function(b) {
                    return {
                        l: b.u.length > 1 || b.t[b.u[0]].xI()
                    }
                }
            }, {
                name: [6, 12, 1],
                S$: !0
            }, {
                name: [13, 0],
                sub: function() {
                    var b = [
                            [13, 1, 0],
                            [13, 1, 1],
                            [13, 1, 2],
                            [13, 1, 3],
                            [13, 1, 4],
                            [13, 1, 5],
                            [13, 1, 6],
                            [13, 1, 7]
                        ],
                        R = [];
                    for (var M = 0; M < b.length; M++) R.push({
                        name: b[M]
                    });
                    return R
                }()
            }],
            K = [{
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "layerstyle"
                }
            }, {
                b: _.E.z,
                f: z.By,
                c: {
                    e: "fromlayer",
                    EG: [null, 0, 0]
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.NK
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "duplinto"
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.kG
                }
            }, {
                b: _.E.e9,
                c: {
                    hj: "newPlacedLayer"
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.J6
                }
            }, {
                b: _.E.e9,
                c: {
                    hj: "rasterizeLayer",
                    H8: {
                        classID: "rasterizeLayer",
                        null: hX.EX("Lyr", !0)
                    }
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.bO
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.IE
                }
            }, {
                b: _.E.z,
                f: z.wy,
                c: {
                    e: "switchPntPrgr"
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.nR
                }
            }, {
                sub: [{
                    b: _.E.z,
                    f: z.ii,
                    c: {
                        e: "st_copy"
                    }
                }, {
                    b: _.E.z,
                    f: z.ii,
                    c: {
                        e: "st_paste"
                    }
                }, {
                    b: _.E.z,
                    f: z.ii,
                    c: {
                        e: "st_clear"
                    }
                }, w]
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.NH
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.FS
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.OD
                }
            }, {
                sub: function() {
                    var b = [];
                    for (var M = 0; M < 8; M++) b.push({
                        b: _.E.z,
                        f: z.lz,
                        c: {
                            e: a.Kf,
                            amd: M
                        }
                    });
                    return b
                }()
            }];
        this.Eh = new ag(Q, K);
        var Q = [{
                name: [6, 45],
                l: function(b) {
                    var R = b.t[b.u[0]];
                    return {
                        l: R.Ca(b).q == null
                    }
                }
            }, {
                name: [6, 47]
            }],
            K = [{
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a._N
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.c$
                }
            }];
        this.agP = new ag(Q, K);
        var Q = [{
                name: "enab/disab",
                l: function(b) {
                    return {
                        Ow: b6.get(b.t[b.u[0]]._f().isEnabled ? [6, 15] : [6, 14])
                    }
                }
            }, {
                name: [6, 22]
            }, {
                name: [5, 8],
                l: function(b) {
                    return {
                        l: b.yD(!1, !0)
                    }
                }
            }],
            K = [{
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.FZ
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.n$
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.Hx
                }
            }];
        this.afO = new ag(Q, K);
        var Q = [{
                name: "enab/disab",
                l: function(b) {
                    return {
                        Ow: b6.get(b.t[b.u[0]].Ca(b).q.isEnabled ? [6, 42] : [6, 41])
                    }
                }
            }, {
                name: [6, 46]
            }],
            K = [{
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.qk
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.Hk
                }
            }];
        this.ajU = new ag(Q, K);
        var Q = [{
                name: "enab/disab",
                l: function(b) {
                    return {
                        Ow: b6.get(b.t[b.u[0]].add.vmsk.isEnabled ? [6, 17] : [6, 16])
                    }
                }
            }, {
                name: [6, 24]
            }],
            K = [{
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.wr
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.iA
                }
            }];
        this.akP = new ag(Q, K);
        this.aaD = new ag(g6.uD(!0), g6.pb(!0));
        this.a6f = new ag(g6.YA(), g6.M9());
        this.s("rclick", this.a5k, this)
    }
    aF.prototype = new fs("");
    aF.prototype.a9d = function(w) {
        _.Cr(w);
        var o = w.dataTransfer.getData("Text"),
            Q = 1,
            K = 0;
        if (o == "") {
            _.$k(w, this, this.HS.indexOf(this.xN), K + (Q > .5 ? 0 : 1))
        } else if (o != "--panel") {
            var o = JSON.parse(o),
                b = o.BL;
            if (b == "l") this.nV({
                e: a.o5,
                source: o.Ey,
                target: K,
                zS: Q
            })
        }
    };
    aF.prototype.OY = function() {
        return new fB(253, 0)
    };
    aF.prototype.a5k = function(w) {
        var o = this.xN,
            Q = w.data,
            b;
        if (o.u.indexOf(Q.p) == -1) {
            var K = {
                e: a.Kp,
                p: w.target.z9.index,
                b$: Q.lY
            };
            this.nV(K)
        }
        if (o.u.indexOf(Q.p) == -1) return;
        if (Q.lY == 1) {
            b = this.afO
        } else if (Q.lY == 2) {
            b = this.akP
        } else if (Q.lY == 3) {
            b = this.ajU
        } else if (Q.lY == 4) {
            b = this.agP
        } else if (Q.lY == 5) {
            b = this.a2k
        } else {
            b = this.Eh
        }
        b.v();
        b.update(o);
        b.parent = this;
        var R = new Y(_.E.N, !0);
        R.data = {
            e: _.S.Gj,
            wh: b,
            x: Q.KI.x + 1,
            y: Q.KI.y + 1
        };
        this.A(R)
    };
    aF.prototype.v = function() {
        fs.prototype.v.call(this);
        this.NZ.v();
        this.fk.v();
        this.hA.v();
        this.v6.v();
        if (this.xN) this.MV(this.xN);
        var w = "lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
        for (var M = 0; M < this.kM.length; M++) {
            var o = this.kM[M];
            o.vg(_.oP(w[M]))
        }
    };
    aF.prototype.MV = function(w, o) {
        if (w && !w.ot) return;
        if (w == null) _.Ka(this.aO, "disabled");
        else _.Xt(this.aO, "disabled");
        this.xN = w;
        this.HS = o;
        if (this.z7 != null) {
            this.WK.removeChild(this.z7.WK);
            this.z7 = null
        }
        if (w == null) return;
        this.z7 = new ir(w.root, this, w, {
            vK: 0
        });
        this.WK.appendChild(this.z7.WK);
        if (w.u.length == 0 || w.t[w.u[0]] == null) _.Ka(this.fZ, "disabled");
        else {
            _.Xt(this.fZ, "disabled");
            if (w.u.length == 1 && w.lB) this.z7.lD(w.u);
            var Q = w.t[w.u[0]];
            if (Q.xI()) {
                this.NZ.dU([
                    [15, 10, 27]
                ].concat(hL.gS), [1].concat(hL.fb));
                var K = hL.IM.indexOf(Q.TC);
                this.NZ.G(K + 1)
            } else {
                this.NZ.dU(hL.gS, hL.fb);
                var K = hL.IM.indexOf(Q.TC);
                this.NZ.G(K)
            }
            this.fk.G(Math.round(100 * Q.opacity / 255));
            this.hA.G([Q.cp(0), Q.cp(1), Q.cp(2), Q.cp(31)]);
            this.v6.G(Math.round(100 * (Q.add.iOpa != null ? Q.add.iOpa / 255 : 1)))
        }
    };
    aF.prototype.VJ = function(w, o) {
        var Q = this.fZ.getBoundingClientRect().height,
            K = 59;
        if (Q > 70) K = 84;
        if (Q > 100) K = 108;
        var b = o - (K + 37);
        this.WK.style.height = b + "px"
    };
    aF.prototype.aax = function(w) {
        this.nV({
            e: a._3,
            tu: this.NZ.T()
        })
    };
    aF.prototype.aeb = function(w) {
        this.nV({
            e: a.IL,
            tu: Math.round(255 * this.fk.T() / 100)
        })
    };
    aF.prototype.abB = function(w) {
        this.nV({
            e: a.fp,
            tu: [this.hA.T(), [0, 1, 2, 31]]
        })
    };
    aF.prototype.acE = function(w) {
        this.nV({
            e: a.B5,
            tu: Math.round(255 * this.v6.T() / 100)
        })
    };
    aF.prototype.agD = function(w) {
        this.tm(w, this.aaD)
    };
    aF.prototype.a1S = function(w) {
        this.tm(w, this.a6f)
    };
    aF.prototype.tm = function(w, o) {
        var Q = w.currentTarget;
        if (_.wH(o.d)) return;
        w.stopPropagation();
        var K = Q.getBoundingClientRect();
        o.v();
        o.update(this.xN);
        o.parent = this;
        var b = new Y(_.E.N, !0);
        b.data = {
            e: _.S.Gj,
            wh: o,
            x: K.left,
            y: K.top,
            a1M: !0
        };
        this.A(b)
    };
    aF.prototype.a4L = function(w) {
        this.nV({
            e: a.sF
        })
    };
    aF.prototype.a0y = function(w) {
        this.nV({
            e: this.xN.u.length > 1 ? a.uR : a.Fm
        })
    };
    aF.prototype.agC = function(w) {
        this.nV({
            e: a.Dn
        })
    };
    aF.prototype.aeG = function(w) {
        this.nV({
            e: a.kG
        })
    };
    aF.prototype.a8N = function(w) {
        this.nV({
            e: a.lZ
        })
    };
    aF.prototype.nV = function(w) {
        var o = new Y(_.E.z, !0);
        o.data = w;
        o.f = z.lz;
        this.A(o)
    };
    aF.prototype.Rr = function() {
        var w = [
                [6, 54, 0],
                [11, 6],
                [6, 1],
                [6, 21],
                [6, 20],
                [6, 13],
                [6, 31]
            ],
            o = [this.a8N, this.a1S, this.agD, this.a4L, this.a0y, this.agC, this.aeG],
            Q = this.aaO.bind(this);
        for (var M = 0; M < w.length; M++) {
            var K = new dQ("W", !1, w[M]);
            this.kM.push(K);
            _._v(K.d, o[M].bind(this));
            this.dG.appendChild(K.d);
            if (M >= w.length - 3) {
                var b = K.d;
                b.addEventListener("drop", Q, !1);
                b.addEventListener("dragover", function(R) {
                    R.preventDefault()
                }, !1);
                b.addEventListener("dragenter", _.Cr, !1)
            }
        }
    };
    aF.prototype.aaO = function(w) {
        _.Cr(w);
        var o = 0,
            Q = this.kM;
        while (Q[o].d != w.currentTarget) o++;
        Q[o].zC();
        var K = w.dataTransfer.getData("Text");
        if (K == "") return;
        var K = JSON.parse(K);
        if (K.BL == "l") {
            var b = {
                e: [a.uR, a.NK, a.kG][o - 4]
            };
            if (this.xN.u.indexOf(K.Ey) == -1) b.p = K.Ey;
            this.nV(b)
        }
        if (o != 6) return;
        if (K.BL == "sm" || K.BL == "s") {
            var R = new Y(_.E.z, !0);
            R.f = z.ii;
            R.data = {
                e: K.BL == "sm" ? "st_clear" : "st_delsingle",
                p: K.Ey,
                Ey: K.db
            };
            this.A(R)
        }
        if (K.BL == "fm" || K.BL == "f") {
            this.nV({
                e: K.BL == "fm" ? a.c$ : a.tU,
                src: K.Ey,
                db: K.db
            })
        }
        if (K.BL == "m" || K.BL == "vm") {
            this.nV({
                e: K.BL == "m" ? a.n$ : a.iA,
                p: K.Ey
            })
        }
    };

    function ir(w, o, Q, K) {
        cv.call(this);
        this.parent = o;
        this.z9 = w;
        this.CL = [];
        this.d = _.B("div", "layeritem");
        var b = w.p,
            V = 15,
            c = !1;
        this.fZ = _.B("div", Q.u.indexOf(w.index) != -1 ? "head selected" : "head");
        if (w.p.add.artb != null) _.Ka(this.fZ, "artb");
        this.fZ.setAttribute("style", "height: " + (b.a5H + 10) + "px");
        var R = _.B("div", "headL"),
            X = _.B("div", "headR"),
            h = _.B("div", "lpineck");
        this.WK = _.B("div", "lpibody");
        this.d.appendChild(this.fZ);
        this.fZ.appendChild(R);
        this.fZ.appendChild(X);
        if (b.V8() || b.iD())
            if (b.q8()) this.d.appendChild(h);
        var e = this.fZ;
        e.setAttribute("draggable", "true");
        e.addEventListener("dragstart", this.$d.bind(this), !1);
        e.addEventListener("drop", this.Wh.bind(this), !1);
        e.addEventListener("dragover", this.hh.bind(this), !1);
        e.addEventListener("dragenter", _.Cr, !1);
        e.addEventListener("dragleave", this.G7.bind(this), !1);
        var Z = [],
            P = [],
            J = _.B("div");
        this.fB = _.B("div", "eye");
        J.appendChild(this.fB);
        var i = _.B("div", "space");
        this.gX = _.B("div", "label");
        this.gX.setAttribute("style", "max-width:calc(100% - " + (96 + w.depth * 20) + "px)");
        this.gX.textContent = b.getName();
        this.UI = _.B("div", "lock");
        this.a2U = _.B("div", "lrfx");
        this.Xk = _.B("div", "arfx");
        var k = this.aee.bind(this),
            $ = this.a34.bind(this);
        this.fZ.addEventListener("click", $, !1);
        this.fZ.addEventListener("contextmenu", k, !1);
        var n = [0, 16711680, 16748544, 16763904, 4513024, 22015, 11141375, 7829367],
            j = b.add.lclr == null ? 0 : n[b.add.lclr];
        if (j == 0) j = K.vK;
        var y = [j >> 16, j >> 8 & 255, j & 255];
        for (var M = 0; M < 3; M++) {
            y[M] = Math.round(.5 * y[M] + .5 * 220)
        }
        if (1 < _.J() && _.J() < 1.5) V = V / _.J();
        J.setAttribute("style", "background-color:rgba(" + y.join(",") + "," + (j == 0 ? 0 : 1) + ");");
        this.fB.setAttribute("style", "background-size: " + V + "px " + V + "px;");
        var O = this.a7Y.bind(this);
        J.addEventListener("mousedown", O, !1);
        J.addEventListener("mouseover", O, !1);
        this.gX.addEventListener("pointerup", this.a8p.bind(this), !1);
        this.Xk.addEventListener("click", this.ait.bind(this), !1);
        Z[0] = J;
        Z[1] = i;
        Z[10] = this.gX;
        if (b.xI()) {
            var S = _.B("div", "arrow"),
                G = _.B("div", "folder");
            S.addEventListener("click", this.abc.bind(this), !1);
            Z[2] = S;
            Z[3] = G;
            if (b.add.lsct == bb.SI) {
                for (var M = w.children.length - 1; M >= 0; M--) {
                    var D = new ir(w.children[M], o, Q, {
                        vK: j
                    });
                    this.CL.push(D);
                    this.WK.appendChild(D.d)
                }
                this.d.appendChild(this.WK)
            }
            S.setAttribute("class", b.add.lsct == bb.SI ? "open" : "closed")
        } else {
            this.JF = _.B("div", "thumb");
            Z[5] = this.JF;
            this.JF.appendChild(b.gQ.canvas)
        }
        var q = b._f();
        if (q) {
            this.jJ = _.B("div", "chain");
            this.dJ = _.B("div", "thumb");
            this.dJ.setAttribute("draggable", "true");
            this.dJ.appendChild(w.p.a8n.canvas);
            this.jJ.style.opacity = q.Qu ? 1 : 0;
            this.jJ.addEventListener("click", this.a3L.bind(this), !1)
        }
        var T = b.hK() && b.add.vmsk;
        if (b.add.vmsk && !T) {
            this.XR = _.B("div", "chain");
            this.iv = _.B("div", "thumb");
            this.iv.setAttribute("draggable", "true");
            this.iv.appendChild(w.p.a8h.canvas);
            this.XR.style.opacity = b.add.vmsk.Qu ? 1 : 0;
            this.XR.addEventListener("click", this.aaE.bind(this), !1)
        }
        if (b.iD() && b.Ca(Q).q) {
            this.yR = _.B("div", "thumb");
            this.yR.appendChild(w.p.acg.canvas);
            this.yR.addEventListener("click", $, !1);
            this.yR.addEventListener("contextmenu", k, !1)
        }
        if (b.V8()) {
            h.addEventListener("contextmenu", k, !1);
            var L = new aF.wV(b6.get([12, 1]), "sm", "layerstyle", w.depth, 0, null);
            L.parent = this;
            h.appendChild(L.d);
            var N = b.add.lmfx,
                F = N.masterFXSwitch.v;
            L.BZ(F);
            for (var M = 0; M < b_.order.length; M++) {
                var I = N[b_.Ix[M]].v;
                if (I.length == 0) continue;
                for (var s = 0; s < I.length; s++) {
                    var L = new aF.wV(b6.get(b_.names[M]), "s", "layerstyle", w.depth, 1, [M, s]);
                    L.BZ(F && I[s].v.enab.v);
                    L.parent = this;
                    h.appendChild(L.d)
                }
            }
        }
        if (b.iD()) {
            var L = new aF.wV(b6.get([12, 55]), "fm", null, w.depth, 0, -1, b.Ca(Q).q ? this.yR : null);
            L.parent = this;
            h.appendChild(L.d);
            this.aeg = L.d;
            this.aeg.addEventListener("contextmenu", k, !1);
            var N = b.add.SoLd.filterFX.v,
                u = N.filterFXList.v,
                F = N.enab.v;
            L.BZ(F);
            for (var M = u.length - 1; M >= 0; M--) {
                var g = u[M].v,
                    U = bf.ws(g);
                if (au.gy[U]) U = au.gy[U];
                var r = g.Nm.v;
                if (bf.names[U]) r = b6.get(bf.names[U]);
                if (au.names[U]) r = b6.get(au.names[U]);
                var x = m[U] || bf.VW[U] ? "afw_" + U : null,
                    L = new aF.wV(r, "f", x, w.depth, 1, M);
                L.BZ(F && g.enab.v);
                L.parent = this;
                h.appendChild(L.d)
            }
        }
        if (Q.t.indexOf(b) == Q.u[0]) {
            var C = b.lY,
                p;
            if (C <= 0) p = this.JF;
            else if (C == 1) p = this.dJ;
            else if (C == 3) p = this.yR;
            if (p) p.setAttribute("class", "thumb active");
            if (b.b0 && this.iv) this.iv.setAttribute("class", "thumb active")
        }
        J.style.opacity = b.HY() ? 1 : .25;
        i.setAttribute("style", "width:" + Math.max(0, w.depth - 1) * 18 + "px");
        var l = b.add.lspf != null && b.add.lspf != 0;
        this.UI.style.opacity = b.cp(31) ? 1 : .5;
        Z[4] = b.xx ? _.B("div", "clipp") : null;
        Z[6] = q ? this.jJ : null;
        Z[7] = q ? this.dJ : null;
        Z[8] = b.add.vmsk && !T ? this.XR : null;
        Z[9] = b.add.vmsk && !T ? this.iv : null;
        var t = b.i1,
            H = Q.u;
        if (t != 0)
            for (var M = 0; M < H.length; M++)
                if (Q.t[H[M]].i1 == t) {
                    c = !0;
                    break
                } P[0] = c ? _.B("div", "link") : null;
        P[1] = l ? this.UI : null;
        P[2] = b.V8() ? this.a2U : null;
        P[3] = b.V8() || b.iD() ? this.Xk : null;
        this.Xk.setAttribute("class", b.q8() ? "arfx open  gsicon" : "arfx closed  gsicon");
        var gl = Z;
        for (var M = 0; M < gl.length; M++)
            if (gl[M]) R.appendChild(gl[M]);
        gl = P;
        for (var M = 0; M < gl.length; M++)
            if (gl[M]) X.appendChild(gl[M])
    }
    ir.prototype = new cv;
    ir.prototype.lD = function(w) {
        var o = this.z9.index;
        if (w.indexOf(o) != -1) {
            if (this.d.scrollIntoView) this.d.scrollIntoView({
                block: "nearest"
            })
        }
        for (var M = 0; M < this.CL.length; M++) this.CL[M].lD(w)
    };
    ir.Uf = function(w, o) {
        var Q = o.getBoundingClientRect();
        return (w.clientY - Q.top) / Q.height
    };
    ir.prototype.$d = function(w) {
        w.stopPropagation();
        var o = w.target == this.dJ ? "m" : w.target == this.iv ? "vm" : "l";
        w.dataTransfer.setData("Text", JSON.stringify({
            BL: o,
            Ey: this.z9.index
        }))
    };
    ir.prototype.G7 = function(w) {
        _.Cr(w);
        this.Q5()
    };
    ir.prototype.Wh = function(w) {
        _.Cr(w);
        this.Q5();
        var o = w.dataTransfer.getData("Text"),
            Q = this.parent.xN,
            K = ir.Uf(w, this.fZ),
            b = this.z9.index;
        if (K > .8) {
            var R = !0,
                X = Q.root.o8(b);
            while (X.parent != null) {
                var h = X.parent,
                    e = h.children;
                if (e.indexOf(X) != 0) R = !1;
                X = X.parent
            }
            if (R) {
                b = 0;
                K = 1
            }
        }
        if (o == "") {
            _.$k(w, this, this.parent.HS.indexOf(Q), b + (K > .5 ? 0 : 1))
        } else if (o != "--panel") {
            var o = JSON.parse(o),
                Z = o.BL;
            if (Z == "l") this.nV({
                e: a.o5,
                source: o.Ey,
                target: b,
                zS: K
            });
            else if (Z == "m" || Z == "vm") this.nV({
                e: Z == "m" ? a.Nj : a.Ls,
                src: o.Ey,
                kP: b,
                AK: w.altKey
            });
            else ir.Jv(w, o, this)
        }
    };
    ir.Jv = function(w, o, Q, K) {
        var b = o.BL,
            R = Q.z9.index,
            X = o.Ey;
        if (b == "s" || b == "sm") Q.nV({
            e: a.ls,
            src: X,
            kP: R,
            db: o.db,
            AK: w.altKey
        });
        if (b == "f" || b == "fm") Q.nV({
            e: a.dh,
            src: X,
            kP: R,
            db: o.db,
            IC: K == null ? 0 : K,
            AK: w.altKey
        })
    };
    ir.prototype.hh = function(w) {
        _.Cr(w);
        var o = ir.Uf(w, this.fZ);
        this.Q5();
        var Q = o > .5 ? "-bottom" : "-top";
        if (this.z9.p.xI() && .5 < o && o < .8) Q = "";
        this.fZ.style["border" + Q] = "3px solid rgba(0,0,0,0.5)";
        this.fZ.style.margin = Q == "" ? "-3px 0 -3px 0" : Q == "-top" ? "-3px 0 0 0" : "0 0 -3px 0"
    };
    ir.prototype.Q5 = function(w) {
        this.fZ.style.border = "none";
        this.fZ.style.margin = "0"
    };
    ir.VB = -1;
    ir.Ko = !1;
    ir.F0 = function(w) {
        ir.Ko = !1;
        document.body.removeEventListener("mouseup", ir.F0)
    };
    ir.prototype.a7Y = function(w) {
        if (w.button != 0) return;
        if (w.type == "mousedown") {
            ir.Ko = !0;
            document.body.addEventListener("mouseup", ir.F0, !1)
        }
        if (w.type == "mouseover" && (!ir.Ko || ir.VB == this.z9.index)) return;
        _.Cr(w);
        this.nV({
            e: a.k7,
            p: this.z9.index
        });
        ir.VB = this.z9.index
    };
    ir.prototype.abc = function(w) {
        this.nV({
            e: a.QD,
            p: this.z9.index
        })
    };
    ir.prototype.a3L = function(w) {
        this.nV({
            e: a.EU,
            p: this.z9.index
        })
    };
    ir.prototype.aaE = function(w) {
        this.nV({
            e: a.ZY,
            p: this.z9.index
        })
    };
    ir.Sd = 0;
    ir.prototype.a8p = function(w) {
        var o = ir.Sd;
        ir.Sd = Date.now();
        if (Date.now() - o > 300) return;
        w.preventDefault();
        w.stopPropagation();
        this.fZ.setAttribute("draggable", "false");
        var Q = new fs.$l(this.gX, this.Xi.bind(this))
    };
    ir.prototype.Xi = function(w) {
        this.nV({
            e: a.SX,
            p: this.z9.index,
            name: w
        })
    };
    ir.prototype.ait = function(w) {
        this.nV({
            e: a.Ff,
            p: this.z9.index
        })
    };
    ir.prototype.aee = function(w) {
        if (this.VZ(w, w.target, this.lY(w))) return;
        var o = w.sourceCapabilities;
        if (o) o = o.firesTouchEvents;
        if (w.button != 2 && o != !0) return;
        var Q = this.lY(w);
        console.log(Q);
        if (Q != 3 && w.currentTarget == this.aeg) Q = 4;
        if (w.target == this.a2U) Q = 5;
        var K = new Y("rclick", !0);
        K.data = {
            p: this.z9.index,
            lY: Q,
            KI: _.m5(w, document.body)
        };
        this.A(K)
    };
    ir.prototype.lY = function(w) {
        var o = w.target,
            Q = o.parentNode;
        return Q == this.iv ? 2 : Q == this.dJ ? 1 : Q == this.JF ? 0 : Q == this.yR ? 3 : -1
    };
    ir.prototype.a34 = function(w) {
        var o = w.target,
            Z;
        if (o == this.fB || o == this.Xk || o == this.jJ || o == this.XR || o.tagName && o.tagName.toLowerCase() == "input") return;
        var Q = this.lY(w),
            K = this.parent.xN,
            b = this.z9.index,
            R = K.t[b];
        if (o == this.UI) {
            this.nV({
                e: a.fp,
                p: b,
                tu: [
                    [!1, !1, !1, !1, !1],
                    [0, 1, 2, 3, 31]
                ]
            });
            return
        }
        if (w.button == 0 && w.detail == 2) {
            if (o == this.gX) return;
            var X = new Y(_.E.z, !0),
                h = new Y(_.E.N, !0),
                e = new Y(_.E.e9, !0);
            if (Q == 0 && (au.get(R.add) || R.add.SoCo || R.add.GdFl || R.add.PtFl)) h.data = {
                e: _.S.g3,
                hX: fs.To.HM
            };
            else if (Q != 0 && Q != -1) h.data = {
                e: _.S.g3,
                hX: fs.To.HM
            };
            else if (Q == 0 && R.add.SoLd) e.data = {
                hj: "placedLayerEditContents",
                H8: {
                    classID: "placedLayerEditContents"
                }
            };
            else if (Q == 0 && R.add.TySh) {
                X.f = z.wy;
                X.data = {
                    e: "editCurr",
                    cn: b
                }
            } else h.data = {
                e: _.S.QH,
                hX: "layerstyle",
                p: b
            };
            this.A(e.data ? e : h.data ? h : X);
            return
        }
        if (this.VZ(w, o, Q)) return;
        if (w.button != 0) return;
        if (Q == 1 || Q == 3) {
            var P = Q == 3 ? R.Ca(K).q : R._f();
            Z = P.He ? K.m.dN.join("") == "111" ? 1 : 2 : 0
        }
        var J = {
            e: a.Kp,
            p: b,
            b$: Q
        };
        this.nV(J);
        if (w.altKey) {
            if (Q == 1 || Q == 3) {
                var X = new Y(_.E.z, !0);
                X.f = z.xT;
                X.data = {
                    e: "mskView",
                    F: Z != 0 ? 0 : w.shiftKey ? 1 : 2
                };
                this.A(X)
            } else {
                this.nV({
                    e: a.nR,
                    p: b
                })
            }
            return
        }
    };
    ir.prototype.VZ = function(w, o, Q) {
        if ((w.ctrlKey || w.metaKey) && (Q == 0 || Q == 1 || Q == 2)) {
            var K = 0;
            if (w.shiftKey) K++;
            if (w.altKey) K += 2;
            var b = new Y(_.E.z, !0);
            b.f = z.By;
            b.data = {
                e: "fromlayer",
                EG: [this.z9.index, Q, K]
            };
            this.A(b);
            return !0
        }
        return !1
    };
    ir.prototype.nV = function(w) {
        var o = new Y(_.E.z, !0);
        o.data = w;
        o.f = z.lz;
        this.A(o)
    };
    aF.wV = function(w, o, Q, K, b, R, X) {
        cv.call(this);
        this.al7 = o;
        this.fc = Q;
        this.index = R;
        this.d = _.B("div", "styleitem");
        this.fZ = _.B("div", "head");
        this.aa0 = null;
        if (o == "f") {
            var h = this.aa0 = _.B("div", "headR");
            h.textContent = "\u2699";
            this.fZ.appendChild(h)
        }
        this.sE = _.B("div", "eye gsicon");
        this.gX = _.B("div", "label");
        this.d.appendChild(this.fZ);
        this.fZ.appendChild(this.sE);
        if (X) {
            this.dJ = X;
            this.fZ.appendChild(this.dJ);
            this.fZ.setAttribute("style", "height: " + (X.firstChild.height / _.J() + 10) + "px")
        }
        this.gX.innerHTML = w;
        this.d.setAttribute("style", "margin-left: " + (24 + K * 16 + b * 22) + "px");
        this.fZ.appendChild(this.gX);
        this.sE.addEventListener("click", this.a3l.bind(this), !1);
        var e = this.d;
        e.setAttribute("draggable", "true");
        e.addEventListener("dragstart", this.$d.bind(this), !1);
        if (!0) {
            e.addEventListener("drop", this.Wh.bind(this), !1);
            e.addEventListener("dragover", this.hh.bind(this), !1);
            e.addEventListener("dragenter", _.Cr, !1);
            e.addEventListener("dragleave", this.G7.bind(this), !1)
        }
        this.d.addEventListener("click", this.IN.bind(this), !1)
    };
    aF.wV.prototype = new cv;
    aF.wV.prototype.$d = function(w) {
        w.stopPropagation();
        w.dataTransfer.setData("Text", JSON.stringify({
            BL: this.al7,
            Ey: this.parent.z9.index,
            db: this.index
        }))
    };
    aF.wV.prototype.G7 = function(w) {
        _.Cr(w);
        this.Q5()
    };
    aF.wV.prototype.Wh = function(w) {
        _.Cr(w);
        this.Q5();
        var o = w.dataTransfer.getData("Text");
        if (o == "") return;
        var o = JSON.parse(o);
        ir.Jv(w, o, this.parent, this.index + (ir.Uf(w, this.fZ) > .5 ? 0 : 1))
    };
    aF.wV.prototype.hh = function(w) {
        _.Cr(w);
        var o = ir.Uf(w, this.fZ) > .5;
        this.Q5();
        var Q = "border-" + (o ? "bottom" : "top");
        this.fZ.style[Q] = "0.2em solid rgba(0,0,0,0.5)"
    };
    aF.wV.prototype.Q5 = function(w) {
        this.fZ.style.border = "none"
    };
    aF.wV.prototype.BZ = function(w) {
        var o = 15;
        if (1 < _.J() && _.J() < 1.5) o = o / _.J();
        this.sE.setAttribute("style", "background-size: " + o + "px " + o + "px;");
        this.sE.style.opacity = w ? 1 : .2
    };
    aF.wV.prototype.IN = function(w) {
        if (w.target == this.sE) return;
        if (w.detail != 1 && this.fc != null) {
            var o = this.parent.z9.index,
                Q = new Y(_.E.N, !0);
            if (this.fc.indexOf("afw_") == 0) {
                Q.data = cr.ET.Sp(w.target == this.aa0 ? "blendOptions" : this.fc.slice(4), {
                    p: o,
                    index: this.index
                })
            } else Q.data = {
                e: _.S.QH,
                hX: this.fc,
                p: o,
                index: this.index
            };
            this.A(Q)
        }
    };
    aF.wV.prototype.a3l = function(w) {
        var o = {
            fm: a.cV,
            f: a.EQ,
            sm: a.ZL,
            s: a.Ex
        } [this.al7];
        this.parent.nV({
            e: o,
            p: this.parent.z9.index,
            index: this.index
        })
    };

    function d8() {
        fs.call(this, "Guide Guy", !1, null, fs.To.abb);
        this.V$ = null;
        this.kr = [];
        var w = _.B("div", "form padded");
        this.aO.appendChild(w);
        w.setAttribute("style", "width:200px");
        this.aO.appendChild(w);
        var o = _.B("canvas"),
            Q = o.getContext("2d");
        o.width = o.height = 160;
        var K = [32, 0, 16, 160, 0, 32, 160, 16, 0, 112, 160, 16],
            b = "Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),
            R = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        for (var M = 0; M < 10; M++) {
            Q.clearRect(0, 0, 160, 160);
            Q.setTransform(1, 0, 0, 1, 80, 80);
            Q.rotate((M & 3) * Math.PI / 2);
            Q.translate(-80, -80);
            Q.fillStyle = "rgba(0,0,0,0.3)";
            if (M < 4) {
                for (var X = 0; X < 12; X += 4) {
                    Q.fillStyle = X == 0 ? "#000000" : "rgba(0,0,0,0.3)";
                    Q.fillRect(K[X], K[X + 1], K[X + 2], K[X + 3])
                }
            } else if (M < 6) {
                var h = 8 * 6;
                Q.fillRect(0, 0, h, 160);
                Q.fillRect(8 * 7, 0, h, 160);
                Q.fillStyle = "#000000";
                Q.fillRect(8 * 14, 0, h, 160)
            } else if (M < 8) {
                Q.fillRect(0, 0, 16, 160);
                Q.fillRect(160 - 16, 0, 16, 160);
                Q.fillRect(32, 0, 160 - 64, 160);
                Q.fillStyle = "#000000";
                Q.fillRect(32, 80 - 8, 160 - 64, 8 * 1)
            } else {
                Q.fillRect(0, 0, 8 * 7, 160);
                Q.fillRect(8 * 13, 0, 160, 160);
                Q.fillStyle = "#000000";
                Q.fillRect(8 * 7, 80 - 8, 8 * 6, 8 * 1)
            }
            var e = "<img src=\"" + o.toDataURL() + "\" class=\"autoscale gsicon\" /> ",
                Z = new fN(e, 0, 200, M == 4 || M == 5 ? null : "px", null, null, null, 4, b[M]);
            Z.parent = this;
            Z.s(_.E.h, this.ahV, this);
            Z.G(R[M]);
            Z.v();
            this.kr.push(Z);
            w.appendChild(Z.d)
        }
        var P = ["Add Guides", "Clear Guides"];
        this.Jq = [];
        for (var M = 0; M < P.length; M++) {
            var J = new dQ(P[M], !0, null, !0);
            this.Jq.push(J);
            J.s("click", this.$E, this);
            w.appendChild(J.d)
        }
        for (var M = 0; M < 6; M++) {
            Q.setTransform(1, 0, 0, 1, 80, 80);
            Q.rotate(Math.floor(M / 3) * Math.PI / 2);
            Q.translate(-80, -80);
            Q.clearRect(0, 0, 160, 160);
            Q.fillStyle = "rgba(0,0,0,0.3)";
            Q.fillRect(0, 0, 160, 160);
            Q.clearRect(16, 16, 128, 128);
            Q.fillStyle = "#000000";
            var i = M % 3;
            Q.fillRect([0, 9, 18][i] * 8, 0, 16, 160);
            var e = "<img src=\"" + o.toDataURL() + "\" class=\"autoscale gsicon\" /> ",
                J = new dQ(e, !1, null, !1);
            this.Jq.push(J);
            J.s("click", this.$E, this);
            w.appendChild(J.d)
        }
    }
    d8.prototype = new fs("");
    d8.prototype.ahV = function(w) {
        var o = this.kr,
            Q = o.indexOf(w.target),
            K = Math.floor(Q / 2),
            b = Q & 1,
            R = [];
        for (var M = 0; M < 4; M++) R.push(o[2 * M + b].T());
        var X = -1;
        if (K == 2 && R[2] != 0 && R[3] != 0 && R[4] != 0) X = 4;
        if (K == 3 && R[3] != 0 && R[2] != 0 && R[4] != 0) X = 4;
        if (K == 4 && R[4] != 0 && R[2] != 0 && R[3] != 0) X = 3;
        if (X != -1) o[2 * X + b].G(0)
    };
    d8.prototype.$E = function(w) {
        var o = this.V$,
            Q = this.Jq.indexOf(w.target),
            K = [
                [],
                []
            ];
        if (o == null) return;
        var b = o.o ? o.o.rect : new B(0, 0, o.D, o.j),
            R = b.D,
            X = b.j;
        if (Q == 0) {
            var h = [
                [],
                []
            ];
            for (var M = 0; M < this.kr.length; M++) h[M & 1].push(this.kr[M].T());
            K = [d8.lL(h[0], b.x, b.x + R), d8.lL(h[1], b.y, b.y + X)];
            z.uA.MT(K, o.TH)
        } else if (Q == 1) {} else {
            Q -= 2;
            var e = Math.floor(Q / 3),
                K = [
                    [],
                    []
                ];
            K[e].push([b.x, b.x + R / 2, b.x + R, b.y, b.y + X / 2, b.y + X][Q]);
            z.uA.MT(K, o.TH)
        }
        var Z = function(P, J) {
            return P - J
        };
        K[0].sort(Z);
        K[1].sort(Z);
        this.afW(K)
    };
    d8.prototype.adK = function(w) {
        var o = this.a0E.indexOf(w.target)
    };
    d8.prototype.afW = function(w) {
        var o = new Y(_.E.z, !0);
        o.f = z.sk;
        o.data = {
            e: "gids",
            sV: w
        };
        this.A(o)
    };
    d8.lL = function(w, o, Q) {
        var K = [],
            b = w[2],
            R = w[3],
            X = w[4],
            h = 0;
        if (b == 0) h++;
        if (R == 0) h++;
        if (X == 0) h++;
        if (h > 1 && b == 0 && R == 0) {
            if (w[0] != 0) K.push(o + w[0]);
            if (w[1] != 0) K.push(Q - w[1]);
            return K
        }
        var e = Q - o - w[0] - w[1];
        if (b == 0) {
            if (X == 0) {
                b = Math.floor(e / R);
                X = (e - b * R) / (b - 1)
            } else {
                b = 1;
                while (R * b + X * (b - 1) + R + X <= e) b++
            }
        } else if (b != 0 && R != 0) {
            if (b * R > e) b = Math.floor(e / R);
            X = (e - b * R) / (b - 1)
        }
        K.push(o + w[0], Q - w[1]);
        var R = (e - X * (b - 1)) / b;
        for (var M = 1; M < b; M++) {
            if (X == 0) K.push(o + w[0] + M * R);
            else K.push(o + w[0] + M * R + (M - 1) * X, o + w[0] + M * R + M * X)
        }
        return K
    };
    d8.prototype.MV = function(w) {
        this.V$ = w
    };

    function da() {
        fs.call(this, [9, 2], !1, null, fs.To.HM);
        this.a1q = null;
        this.yw = null;
        this.AL = null;
        this.a65 = -1
    }
    da.prototype = new fs("");
    da.prototype.jL = function() {
        this.zG = _.B("div", "padded");
        this.zG.style.width = "22em";
        this.aO.appendChild(this.zG);
        var w = _.B("span", "fitem");
        this.zG.appendChild(w);
        this.oa = [new dQ([0, 3]), new dQ([12, 73]), new dQ([12, 91, 0])];
        for (var M = 0; M < this.oa.length; M++) {
            var o = this.oa[M];
            o.s("click", this.a26, this);
            w.appendChild(o.d)
        }
        this.zG.appendChild(_.B("hr"));
        this.kE = new da.NX;
        this.kE.parent = this;
        this.WM = new da.rz;
        this.WM.parent = this;
        this.Bf = new da.Ux;
        this.Bf.parent = this;
        this.a4i = [this.kE, this.WM, this.Bf];
        this.zG.appendChild(this.kE.d)
    };
    da.prototype.a26 = function(w) {
        var M = this.oa.indexOf(w.currentTarget);
        this.sq(M);
        this.W3(M == 1 ? this.WM.sQ : -1)
    };
    da.prototype.sq = function(w) {
        for (var M = 0; M < 3; M++) {
            this.oa[M].zC();
            var o = this.a4i[M].d;
            if (o.parentNode == this.zG && M != w) this.zG.removeChild(o);
            if (o.parentNode != this.zG && M == w) this.zG.appendChild(o)
        }
        this.oa[w].En()
    };
    da.prototype.W3 = function(w) {
        var o = this.yw.u[0],
            Q = this.yw.t[o],
            K = w + 1;
        if (w == 1 && Q.b0) return;
        var b = new Y(_.E.z, !0);
        b.f = z.lz;
        if (w != 1 && Q.b0) {
            b.data = {
                e: a.Kp,
                p: o,
                b$: 2
            };
            this.A(b)
        }
        b.data = {
            e: a.Kp,
            p: o,
            b$: K
        };
        this.A(b)
    };
    da.prototype.v = function() {
        fs.prototype.v.call(this);
        if (this.zG == null) return;
        this.MV(this.yw);
        for (var M = 0; M < 3; M++) {
            this.oa[M].v();
            this.a4i[M].v()
        }
    };
    da.prototype.ek = function() {
        if (!_.wH(this.aO)) return;
        if (this.zG == null) {
            this.jL();
            this.yy(this.AL, d5.Dq);
            this.MV(this.a1q);
            this.v()
        }
    };
    da.prototype.MV = function(w) {
        this.a1q = w;
        if (this.zG == null) return;
        this.kE.MV(w);
        this.WM.MV(w);
        this.Bf.MV(w);
        if (w == null || w.u.length == 0 || w.t[w.u[0]] == null) {
            _.Ka(this.aO, "disabled");
            this.yw = null;
            return
        } else _.Xt(this.aO, "disabled");
        var o = w.u[0],
            Q = w.t[o],
            K = w.a$(),
            b = K[0],
            R = K[1];
        if (R.length != 0) {
            var X = b[R[0]],
                h = X.add.vogk,
                e = !1;
            if (h)
                for (var M = 0; M < h.length; M++) {
                    var Z = h[M].v,
                        P = Z.keyShapeInvalidated;
                    if (P && P.v || Z.keyOriginType == null) continue;
                    e = !0;
                    o = X.qX
                }
        }
        if (w != this.yw || this.a65 != o) {
            this.yw = w;
            this.a65 = o;
            if (e) this.sq(2);
            else if (Q.lY < 1 && !Q.b0) this.sq(0);
            else this.sq(1)
        }
        this.oa[1].o9(this.WM.sQ != -1);
        this.oa[2].o9(e)
    };
    da.prototype.yy = function(w, o) {
        this.AL = w;
        if (this.kE) this.kE.yy(w, o)
    };
    da.NX = function() {
        cv.call(this);
        this.d = _.B("div", "form");
        this.ajd = new bY("Hello");
        this.d.appendChild(this.ajd.d);
        this.dq = null;
        this.a9S = null;
        this.yw = null;
        this.amL = -1;
        this.ahp = null;
        this.Zw = new eQ(!0);
        this.Zw.parent = this;
        this.Zw.s(_.E.h, this.aga, this);
        this.e7 = _.B("div", "marged hiline");
        this.e7.appendChild(this.Zw.d);
        this.WH = new aZ("GrFl", !0);
        this.WH.parent = this;
        this.WH.s(_.E.h, this.a9j, this);
        this.Sk = _.B("div", "marged hiline");
        var w = "Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
        for (var M = 0; M < w.length; M++) {
            var o = this.WH.K9[w[M]].d;
            this.Sk.appendChild(o)
        }
        this.zN = new aZ("patternFill", !0);
        this.zN.parent = this;
        this.zN.s(_.E.h, this.aae, this);
        this.Fy = _.B("div", "marged hiline");
        var w = ["Ptrn", "Scl", "Algn", "phase"];
        for (var M = 0; M < w.length; M++) {
            var o = this.zN.K9[w[M]].d;
            this.Fy.appendChild(o)
        }
        this.f3 = {};
        for (var Q in au.names) {
            if (m[Q] == null) continue;
            this.f3[Q] = new m[Q];
            this.f3[Q].s(_.E.h, this.a03, this);
            this.f3[Q].parent = this
        }
        var K = this.am0 = _.B("div", "marged hiline");
        this.Wu = da.eK(["W", "H", "X", "Y"], null, K, this.$r, this);
        this.GI = new bQ([12, 46], [
            [13, 1, 8],
            [13, 1, 10],
            [13, 1, 9],
            [12, 47]
        ]);
        this.GI.s(_.E.h, this.$r, this);
        K.appendChild(this.GI.d);
        this.ac = new eQ(!1);
        this.ac.parent = this;
        this.ac.s(_.E.h, this.$r, this);
        K.appendChild(this.ac.d)
    };
    da.NX.prototype = new cv;
    da.NX.prototype.v = function() {
        for (var w in this.f3) this.f3[w].v();
        this.WH.v();
        this.zN.v();
        this.GI.v();
        for (var M = 0; M < 4; M++) this.Wu[M].v()
    };
    da.NX.prototype.$r = function(w) {
        var o = da.T3(this.Wu),
            Q = a.V9(new B(o[2], o[3], o[0], o[1])),
            K = this.GI.T(),
            b = {
                classID: "artboard",
                artboardRect: {
                    t: "Objc",
                    v: Q
                },
                Clr: {
                    t: "Objc",
                    v: this.ac.T()
                },
                artboardBackgroundType: {
                    t: "long",
                    v: K + 1
                }
            },
            R = new Y(_.E.z, !0);
        R.f = z.lz;
        R.data = {
            e: a.aL,
            FF: b
        };
        this.A(R)
    };
    da.NX.prototype.aga = function(w) {
        var o = this.yw,
            Q = o.u[0];
        if (o.t[Q].add.SoCo == null) return;
        var K = JSON.parse(JSON.stringify(o.t[Q].add.SoCo));
        K.Clr.v = this.Zw.T();
        this.s4({
            o4: 1,
            pE: K
        })
    };
    da.NX.prototype.a9j = function(w) {
        var o = this.yw,
            Q = o.u[0];
        if (o.t[Q].add.GdFl == null) return;
        this.s4({
            o4: 2,
            pE: this.WH.T()
        })
    };
    da.NX.prototype.aae = function(w) {
        this.s4({
            o4: 3,
            pE: this.zN.T()
        })
    };
    da.NX.prototype.s4 = function(w) {
        this.UB(z.lz, {
            e: a.wF,
            $e: [this.yw.u[0]],
            t4: !0,
            F: w
        })
    };
    da.NX.prototype.a03 = function(w) {
        this.UB(z.U1, {
            e: "edit_layer",
            F: this.a9S.T()
        })
    };
    da.NX.prototype.UB = function(w, o) {
        var Q = new Y(_.E.z, !0);
        Q.f = w;
        Q.data = o;
        this.A(Q)
    };
    da.NX.prototype.MV = function(w) {
        var o = b6.get([0, 3]),
            Q = null;
        this.yw = w;
        if (w && w.t.length > 0 && w.u.length != 0 && w.t[w.u[0]]) {
            var K = w.t[w.u[0]],
                b = au.get(K.add);
            if (b != null && this.f3[b] != null) {
                Q = this.f3[b].d;
                this.a9S = this.f3[b];
                this.f3[b].G(K.add[b]);
                if (w.u[0] != this.amL) {
                    var R = w.X_(w.u[0] - 1);
                    this.ahp = v.UF(R)
                }
                this.f3[b].R6(this.ahp);
                o = b6.get(au.names[b])
            }
            if (K.add.SoCo) {
                Q = this.e7;
                this.Zw.G(K.add.SoCo.Clr.v);
                o = b6.get([6, 48, 0, 0])
            }
            if (K.add.GdFl) {
                Q = this.Sk;
                this.WH.update(w, K.add.GdFl);
                o = b6.get([6, 48, 0, 1])
            }
            if (K.add.PtFl) {
                Q = this.Fy;
                this.zN.update(w, K.add.PtFl);
                o = b6.get([6, 48, 0, 2])
            }
            if (K.add.artb) {
                var X = K.add.artb,
                    h = K.xi();
                Q = this.am0;
                this.GI.G(X.artboardBackgroundType.v - 1);
                if (X.Clr) this.ac.G(X.Clr.v);
                da.Mi(this.Wu, [h.D, h.j, h.x, h.y]);
                o = "Artboard"
            }
            this.amL = w.u[0]
        }
        if (Q != this.dq) {
            if (this.dq) this.d.removeChild(this.dq);
            if (Q != null) this.d.appendChild(Q);
            this.dq = Q
        }
        this.ajd.G(o)
    };
    da.NX.prototype.yy = function(w, o) {
        this.WH.yy(w, o);
        this.zN.yy(w, o);
        for (var Q in this.f3) this.f3[Q].yy(w, o)
    };
    da.rz = function() {
        cv.call(this);
        this.d = _.B("div", "form");
        this.yw = null;
        this.sQ = 0;
        var w = _.B("span", "fitem");
        this.d.appendChild(w);
        this.oa = [new dQ([6, 2]), new dQ([6, 3]), new dQ([6, 50])];
        for (var M = 0; M < this.oa.length; M++) {
            var o = this.oa[M];
            o.s("click", this.ajh, this);
            w.appendChild(o.d)
        }
        this.Cu = new cI([12, 74], 0, 255);
        this.Cu.s(_.E.h, this.ak, this);
        this.d.appendChild(this.Cu.d);
        this.Vw = new cI([7, 6], 0, 500, "px", 2, !0);
        this.Vw.s(_.E.h, this.ak, this);
        this.d.appendChild(this.Vw.d)
    };
    da.rz.prototype = new cv;
    da.rz.prototype.ak = function(w) {
        var o = this.Cu.T(),
            Q = this.Vw.T(),
            K = new Y(_.E.z, !0);
        K.f = z.lz;
        K.data = {
            e: a._W,
            BR: this.yw.u[0],
            Nw: {
                hS: this.sQ,
                Cu: o,
                Vw: Q
            }
        };
        this.A(K)
    };
    da.rz.prototype.v = function() {
        for (var M = 0; M < this.oa.length; M++) this.oa[M].v();
        this.Cu.v();
        this.Vw.v()
    };
    da.rz.prototype.MV = function(w) {
        this.yw = w;
        this._j()
    };
    da.rz.prototype.ajh = function(w) {
        this._j(this.oa.indexOf(w.currentTarget));
        this.parent.W3(this.sQ)
    };
    da.rz.prototype._j = function(w) {
        var o = this.yw,
            Q = this.oa;
        for (var M = 0; M < 3; M++) {
            var K = Q[M];
            K.zC();
            K.fz()
        }
        if (o == null || o.t.length == 0 || o.u.length == 0 || o.t[o.u[0]] == null) return;
        var b = -1,
            R = o.t[o.u[0]];
        if (R.iD() && R.Ca(o).q != null) {
            Q[2].Lh();
            b = 2
        }
        if (R.add.vmsk) {
            Q[1].Lh();
            b = 1
        }
        if (R._f()) {
            Q[0].Lh();
            b = 0
        }
        if (w != null) b = w;
        else if (R.b0) b = 1;
        else if (R.lY == 3) b = 2;
        else if (R.lY == 1) b = 0;
        this.sQ = b;
        if (b == -1) {
            this.Cu.fz();
            this.Vw.fz();
            return
        }
        var X = R.Li(b);
        this.Cu.Lh();
        this.Vw.Lh();
        this.Cu.G(X.Cu);
        this.Vw.G(X.Vw);
        Q[b].En()
    };
    da.Ux = function() {
        cv.call(this);
        this.d = _.B("div", "form");
        this.E9 = 1;
        this.qZ = _.B("div");
        this.Ed = da.eK(["W", "H", "X", "Y"], [12, 51], this.qZ, this.uU, this);
        this.H5 = _.B("div");
        var w = ["\u250F", "\u2513", "\u2517", "\u251B"];
        this.Jr = da.eK(w, [12, 91, 2], this.H5, this.uU, this)
    };
    da.Ux.prototype = new cv;
    da.Ux.prototype.v = function() {
        _.sb(this.Ed[0], this.Ed[1]);
        for (var M = 2; M < 5; M++) {
            this.Ed[M].v()
        }
        this.Jr[4].v()
    };
    da.eK = function(w, o, Q, K, b) {
        var R = _.B("div", "numlist");
        Q.appendChild(R);
        var X = [];
        for (var M = 0; M < 4; M++) {
            var h = new fN(w[M], 0, 0, null, 1, !1, !0);
            h.s(_.E.h, K, b);
            R.appendChild(h.d);
            X.push(h);
            if (M == 1 || M == 3) _.EV(R)
        }
        if (o) {
            X[4] = new dS(o);
            X[4].G(!0);
            Q.appendChild(X[4].d)
        }
        return X
    };
    da.Mi = function(w, o) {
        for (var M = 0; M < 4; M++) w[M].G(o[M])
    };
    da.T3 = function(w) {
        var o = [];
        for (var M = 0; M < 4; M++) o[M] = w[M].T();
        return o
    };
    da.Ux.prototype.uU = function(w) {
        var o = this.Ed.indexOf(w.currentTarget),
            Q = this.Jr.indexOf(w.currentTarget),
            K = [null, null, null, null],
            b = [null, null, null, null];
        if (o != -1) {
            var R = da.T3(this.Ed),
                X = this.Ed[4].T();
            R[0] = Math.max(1, R[0]);
            R[1] = Math.max(1, R[1]);
            if (X && o == 0) R[1] = R[0] / this.E9;
            if (X && o == 1) R[0] = R[1] * this.E9;
            K[0] = R[2];
            K[1] = R[3];
            K[2] = K[0] + R[0];
            K[3] = K[1] + R[1]
        }
        if (Q != -1) {
            var R = da.T3(this.Jr);
            b[Q] = Math.max(0, R[Q]);
            if (this.Jr[4].T())
                for (var M = 0; M < 4; M++) b[M] = b[Q];
            var h = b[3];
            b[3] = b[2];
            b[2] = h
        }
        var e = new Y(_.E.z, !0);
        e.f = z.lz;
        e.data = {
            e: a.kd,
            oX: K,
            a3q: b
        };
        this.A(e)
    };
    da.Ux.prototype.MV = function(w) {
        if (w == null) return;
        var o = this.qZ.parentNode != null,
            Q = this.H5.parentNode != null,
            K = v.Wn.RP(w),
            b = K[0],
            R = K[1];
        if (b) {
            if (!o) this.d.appendChild(this.qZ);
            this.E9 = (b[2] - b[0]) / (b[3] - b[1]);
            da.Mi(this.Ed, [b[2] - b[0], b[3] - b[1], b[0], b[1]])
        } else if (o) this.d.removeChild(this.qZ);
        if (R) {
            if (!Q) this.d.appendChild(this.H5);
            var X = R[2];
            R[2] = R[3];
            R[3] = X;
            da.Mi(this.Jr, R)
        } else if (Q) this.d.removeChild(this.H5)
    };

    function fA(w) {
        fs.call(this, w.name, !0);
        this.xN = w;
        this.f8 = null;
        this.Na = [];
        this.m8 = !1;
        this.SH = {
            x: 0,
            y: 0,
            L8: !1
        };
        this.cf = !0;
        this.mr = document.createElement("canvas");
        this.Eu = this.mr.getContext("2d");
        this.UX = document.createElement("canvas");
        this.yG = this.UX.getContext("2d");
        var o = 16,
            Q = v.$(16 * 16 * 4);
        v.fr(Q, o, o, 8, 0, 0);
        this.BI = v.scale.wd(Q, o, o);
        this.ak1 = this.MM.bind(this);
        this.qY = this.Le.bind(this);
        this.a8B = this.Fo.bind(this);
        var K = this.aO;
        _._v(K, this.ak1);
        _.vt(K, this.qY);
        K.addEventListener("wheel", this.xO.bind(this), !1);
        K.addEventListener("contextmenu", this.anI.bind(this), !1);
        this.D9 = 0;
        this.aaY = "";
        this.ZE = 4;
        _.CA(K)
    }
    fA.prototype = new fs;
    fA.prototype.D0 = function() {
        if (this.xN.ED()) return 1;
        return !0
    };
    fA.prototype.ZN = function(w) {
        w.preventDefault()
    };
    fA.prototype.YL = function(w) {
        var o = -1,
            Q = this.Na;
        for (var M = 0; M < Q.length; M++)
            if (Q[M].pointerId == w.pointerId) o = M;
        return o
    };
    fA.prototype.MM = function(w) {
        var o = this.YL(w);
        if (o != -1) this.Na[o] = w;
        else this.Na.push(w);
        if (this.Na.length == 1) {
            var Q = w.button != null && w.button != 0 ? "rdown" : "down",
                K = new Y("mouse", !0);
            K.action = Q;
            this.a4(w, K);
            this.A(K);
            _.Vk(this.aO, this.qY);
            _.vt(window, this.qY);
            _.$y(window, this.a8B)
        }
        if (this.Na.length == 2) {
            this.Dl("multidown");
            this.m8 = !0
        }
    };
    fA.prototype.Le = function(w) {
        var o = this.YL(w);
        if (o != -1) this.Na[o] = w;
        if (this.Na.length > 1) {
            this.Dl("multimove")
        }
        if (this.m8) return;
        var Q = new Y("mouse", !0);
        Q.action = "move";
        this.a4(w, Q);
        this.A(Q)
    };
    fA.prototype.Fo = function(w) {
        var o = this.Na,
            Q = this.YL(w);
        o.splice(Q, 1);
        if (o.length == 0) {
            var K = w.button != null && w.button > 0 ? "rup" : "up",
                b = new Y("mouse", !0);
            b.action = K;
            this.a4(w, b);
            this.A(b);
            _.Vk(window, this.qY);
            _.p_(window, this.a8B);
            _.vt(this.aO, this.qY);
            this.m8 = !1
        }
    };
    fA.prototype.xO = function(w) {
        this.ZN(w);
        if (w.deltaX == 0 && w.deltaY == 0) return;
        var o = new Y("mouse", !0);
        o.action = "scroll";
        o.yv = w.ctrlKey;
        this.a4(w, o);
        this.A(o)
    };
    fA.prototype.anI = function(w) {
        _.Cr(w);
        var o = w.sourceCapabilities;
        if (o) o = o.firesTouchEvents;
        if (o) {
            var Q = new Y("mouse", !0);
            this.a4(w, Q);
            Q.action = "rdown";
            this.A(Q);
            Q.action = "rup";
            this.A(Q)
        }
    };
    fA.prototype.Dl = function(w) {
        var o = this.Na,
            Q = _.J(),
            K = [];
        for (var M = 0; M < o.length; M++) {
            var b = K[M] = _.m5(o[M], this.aO);
            b.x *= Q;
            b.y *= Q
        }
        var R = new Y("mouse", !0);
        R.action = w;
        R.iU = K;
        this.A(R)
    };
    fA.prototype.a4 = function(w, o, Q) {
        var K = this.Na.length != 0;
        if (o.action != "up") {
            var b = _.J();
            if (Q == null) Q = _.m5(w, this.aO);
            this.SH = o.in = {
                x: b * Q.x,
                y: b * Q.y,
                L8: K
            };
            var R = _.m5(w, document.body);
            o.in.qb = R.x;
            o.in.Nh = R.y
        } else this.SH = o.in = {
            x: this.SH.x,
            y: this.SH.y,
            L8: K
        };
        o.in.vi = 1;
        if (w.pressure != null && w.pressure != 0) o.in.vi = w.pressure;
        if (w.pointerType == "mouse") o.in.vi = 1;
        if (w.deltaX != null) {
            var X = w.deltaMode == 0 ? 1 : 40;
            o.iJ = new fB(w.deltaX * X, w.deltaY * X)
        }
    };
    fA.prototype.yy = function(w, o) {
        this.f8 = w
    };
    fA.prototype.MV = function(w) {
        this.ek();
        this.KM()
    };
    fA.prototype.VJ = function(w, o) {
        if (w <= 0 || o <= 0) return;
        this.i7 = w;
        this.Y7 = o;
        var Q = this.xN,
            K = _.J();
        Q.m.yG.D = Math.floor(w * K);
        Q.m.yG.j = Math.floor(o * K);
        _.E5(this.UX, w, o);
        _.E5(this.mr, w, o);
        _.E5(d.Ww(), w, o);
        if (Q.m.I == 0) Q.m.I = z.e$.Hv(Q.D, Q.j, w * K, o * K);
        this.cf = !0;
        this.KM()
    };
    fA.prototype.ek = function() {
        var w = this.aO.firstChild;
        if (!d.cv && w == d.Ww() || d.cv && w == this.UX) this.aO.removeChild(w);
        this.aO.appendChild(d.cv ? d.Ww() : this.UX)
    };
    fA.prototype.KM = function() {
        if (d.cv != this.ZE) {
            this.D9 = 0;
            this.aaY = "";
            this.cf = !0
        }
        this.ZE = d.cv;
        if (this.f8 == null) return;
        if (d.cv) this.ane();
        else this.G$();
        var w = this.xN;
        this.D9 = w.m.I;
        this.aaY = JSON.stringify(w.m.dN);
        this.cf = !1
    };
    fA.prototype.ane = function() {
        if (d.cv && fA.a2V == null) fA.a2V = new fA.QW(!1);
        if (d.cv && fA.a9z == null) fA.a9z = new fA.QW(!0);
        var w = this.xN,
            Z;
        if (w.O3 == null) return;
        var o = w.m,
            Q = o.yG.D,
            K = o.yG.j,
            b = d.H3;
        this.yG.clearRect(0, 0, Q, K);
        var R = this.gn(w);
        if (o.bQ == null) o.bQ = new d.Dz(Q, K);
        if (R) o.bQ.set(this.UX);
        else {
            d.Qy(o.bQ);
            d.V3(0)
        }
        var X = o.BT(0, 0),
            h = new dj;
        h.scale(Q, K);
        h.concat(o.SA());
        h.scale(1 / w.D, 1 / w.j);
        var e = [h.K, h.k, 0, h.Lu, h.TX, 0, h.xy, h.r6, 1],
            P = [0, 0, 0, 0];
        if (w.add.artd) {
            P = fA.Wt(w);
            Z = fA.a9z
        } else Z = fA.a2V;
        d.Kg(Q, K);
        d.V3(0);
        d.Kg(Q, K);
        Z.po();
        Z.u7(o.bQ.$Y, w.O3.$Y, new Float32Array(e), new Float32Array([Q / 8, K / 8, X.x / Q, X.y / K]), w.D, w.j, 1 / w.m.I, Q, K, new Float32Array(P), new Float32Array(v.AU.o6(v.AU.Dm(o.dN))));
        b.drawArrays(b.TRIANGLES, 0, 6)
    };
    fA.Wt = function(w) {
        var o = w.add.artd.canvasColor;
        if (o == null) return [0, 0, 0, 0];
        return fA.a2y(o)
    };
    fA.a2y = function(w) {
        var o = v.V.c2(w.v),
            Q = [o.W / 255, o.a / 255, o.k / 255, 1];
        for (var M = 0; M < 4; M++) Q[M] = Math.min(1, Q[M]);
        return Q
    };
    fA.S2 = function(w, o) {
        var Q = w[2] * 255;
        if (d.cv) Q = o ? 0 : Math.max(1, Q);
        return "rgba(" + w[0] * 255 + "," + w[1] * 255 + "," + Q + "," + w[3] + ")"
    };
    fA.Xs = function(w) {
        if (d.cv)
            for (var M = 0; M < w.length; M += 4) {
                if (w[M + 2] == 0) w[M + 2] = 3
            }
    };
    fA.prototype.G$ = function() {
        var w = this.xN;
        if (w.buffer == null) return;
        var o = w.m,
            Q = o.yG,
            K = Q.D,
            b = Q.j,
            R = new B(0, 0, w.D, w.j);
        this.Eu.clearRect(0, 0, K, b);
        this.yG.clearRect(0, 0, K, b);
        if (w.add.artd == null) {
            this.yG.save();
            var X = o.SA();
            X.MF();
            var h = X.hv(new fB(0, 0));
            X.translate(-h.x, -h.y);
            this.yG.translate(Math.round(h.x), Math.round(h.y));
            this.yG.fillStyle = this.BI;
            this.Lc(v.w.NU(R), X, this.yG);
            this.yG.fill();
            this.yG.restore()
        } else {
            this.yG.fillStyle = fA.S2(fA.Wt(w));
            this.yG.fillRect(0, 0, K, b)
        }
        if (o.QX.length != Q.O()) {
            o.QX = v.$(Q.O());
            o.Fe = v.$(Q.O() * 4)
        }
        o.Fe.fill(0);
        v.scale.a7c(w.buffer, R, o.SA(), o.Fe, Q);
        if (o.dN[0] + o.dN[1] + o.dN[2] != 3) v.AU.mh(o.Fe, o.Fe, v.AU.Dm(o.dN));
        this.Eu.putImageData(new ImageData(new Uint8ClampedArray(o.Fe.buffer), Q.D, Q.j), 0, 0);
        this.yG.drawImage(this.mr, 0, 0);
        this.gn(w)
    };
    fA.prototype.gn = function(w) {
        var o = w.m,
            Q = o.dN[0] + o.dN[1] + o.dN[2],
            K = !1,
            b = [];
        for (var M = 0; M < w.u.length; M++) {
            var R = w.t[w.u[M]];
            if (R == null) continue;
            var X = R.lY;
            if (X != 1 && X != 3) continue;
            var h = X == 1 ? R._f() : R.Ca(w).q;
            if (h.He) b.push(h)
        }
        for (var M = 0; M < w.SF.length; M++)
            if (w.SF[M].He) b.push(w.SF[M]);
        for (var M = 0; M < b.length; M++) {
            var h = b[M];
            this.d6(h, o, b.length == 1 && Q == 0 ? 2 : 1, h.color, h.vK);
            K = !0
        }
        var e = this.f8;
        K = this.ahL(w, this.yG, o) || K;
        if (w.o && e.O2 && e.w1.Rx) {
            this.d6(w.o, o, 0, 0, null);
            K = !0
        }
        return K
    };
    fA.prototype.d6 = function(w, o, Q, K, b) {
        var R = 0,
            i, k;
        if (b) R = Math.round(b.k) << 16 | Math.round(b.a) << 8 | Math.round(b.W);
        var X = o.SA(),
            h = o.yG,
            e = new B(0, 0, o.xN.D, o.xN.j);
        if (o.QX.length != h.O()) {
            o.QX = v.$(h.O());
            o.Fe = v.$(h.O() * 4)
        }
        o.QX.fill(K);
        o.Fe.fill(0);
        var Z = w.channel,
            P = w.rect;
        v.scale.H(Z, P, X, o.QX, h);
        if (Q == 0) v.o.ag3(o.QX, o.Fe, h, h);
        else v.o.abr(o.QX, o.Fe, h, h, Q, R);
        fA.Xs(o.Fe);
        var J = new ImageData(new Uint8ClampedArray(o.Fe.buffer), h.D, h.j);
        this.Eu.putImageData(J, 0, 0);
        this.yG.save();
        if (Q == 0) {
            i = h.clone();
            i.Nn(-1, -1);
            k = new dj
        } else {
            i = new B(0, 0, e.D, e.j);
            k = X.clone();
            k.MF()
        }
        this.Lc(v.w.NU(i), k, this.yG);
        this.yG.clip();
        this.yG.drawImage(this.mr, 0, 0);
        this.yG.restore()
    };
    fA.prototype.ahL = function(w, o, Q) {
        var K = w.r.xs || w.r.Sb || w.r.es || w.r.CT.length != 0 || w.r.aG.length != 0,
            b = this.f8,
            R = b.w1,
            X = ab.la[b.wA],
            h = Math.round(12 * _.J()),
            e = h / w.m.I,
            Z = Q.SA();
        Z.MF();
        o.save();
        o.setTransform(Z.K, Z.k, Z.Lu, Z.TX, Z.xy, Z.r6);
        if (w.add.artd) {
            var P = fA.Wt(w)[0];
            P = P < .5 ? P + .5 : P - .5;
            P = "" + Math.round(P * 255).toString(16);
            while (P.length < 2) P = "0" + P;
            o.fillStyle = "#" + P + P + P;
            o.font = e + "px sans-serif";
            for (var M = 0; M < w.t.length; M++) {
                var J = w.t[M];
                if (J.add.artb == null || !J.HY()) continue;
                var i = J.xi();
                o.fillText(J.getName(), i.x, i.y - 6 / Q.I);
                K = !0
            }
        }
        var k = fA.S2([.1, .5, 1, 1]),
            $ = fA.S2([1, 1, 1, 1]);
        if (b.O2 && R.BY) {
            o.fillStyle = o.strokeStyle = k;
            o.lineWidth = 1.5 / Q.I;
            var n = w.a$(),
                j = n[0],
                y = n[1];
            for (var V = 0; V < y.length; V++) {
                var J = j[y[V]],
                    O = J.add.vmsk,
                    S = O._,
                    G = v.w.Si(S);
                this.Lc(G, null, o);
                o.stroke();
                K = !0;
                var D = 3 * _.J() / Q.I,
                    q = S.length - 3;
                for (var M = 0; M < O.zi.length; M++) {
                    var T = v.P.rM(S, O.zi[M]);
                    if (T == null) continue;
                    var L = T.x,
                        N = T.y;
                    o.beginPath();
                    var F = M == 0;
                    if (O.VS) F = !F;
                    if (F) {
                        o.moveTo(L - D, N - D);
                        o.lineTo(L + D, N + D);
                        o.moveTo(L - D, N + D);
                        o.lineTo(L + D, N - D);
                        o.stroke()
                    } else {
                        o.arc(L, N, D * 1, 0, 2 * Math.PI);
                        o.fill()
                    }
                    K = !0
                }
                if (w.u.length != 1) continue;
                var I = -1;
                for (var M = 0; M < S.length; M++) {
                    if (S[M].type > 5) continue;
                    if (S[M].type == 0 || S[M].type == 3) {
                        if (S[M].ID != -1) I++;
                        continue
                    }
                    if (O.u.indexOf(I) != -1) {
                        var L = S[M].L.x,
                            N = S[M].L.y;
                        o.fillRect(L - D * .8, N - D * .8, 2 * D * .8, 2 * D * .8)
                    }
                    if (O.Ja.indexOf(M) != -1) {
                        var s = [S[M].L];
                        o.beginPath();
                        o.moveTo(S[M].M7.x, S[M].M7.y);
                        o.lineTo(S[M].L.x, S[M].L.y);
                        o.lineTo(S[M].WQ.x, S[M].WQ.y);
                        o.stroke();
                        if (!S[M].L.Lb(S[M].M7)) s.push(S[M].M7);
                        if (!S[M].L.Lb(S[M].WQ)) s.push(S[M].WQ);
                        for (var u = 0; u < s.length; u++) {
                            var T = s[u],
                                L = T.x,
                                N = T.y;
                            if (u == 0 && (S[M].type == 2 || S[M].type == 5)) o.fillRect(L - 1.2 * D, N - 1.2 * D, 2.4 * D, 2.4 * D);
                            else {
                                o.beginPath();
                                o.arc(L, N, D * 1.2, 0, 2 * Math.PI);
                                o.fill();
                                if (u != 0) o.fillStyle = $;
                                o.beginPath();
                                o.arc(L, N, D * .8, 0, 2 * Math.PI);
                                o.fill();
                                o.fillStyle = k
                            }
                        }
                    }
                    K = !0
                }
            }
        }
        o.fillStyle = o.strokeStyle = fA.S2([0, 0, 0, 1], !0);
        o.lineWidth = 1 / Q.I;
        var g = new dj(1, 0, 0, 1, .5 / Q.I, .5 / Q.I);
        if (w.r.xs) {
            this.Lc(w.r.xs, null, o);
            o.fill()
        }
        if (w.r.Sb) {
            this.Lc(w.r.Sb, g, o);
            o.stroke()
        }
        for (var U in w.r.zE)
            if (w.r.zE[U].Sb) {
                this.Lc(w.r.zE[U].Sb, null, o);
                o.stroke();
                K = !0
            } o.beginPath();
        var D = (4 * _.J() + .5) / Q.I,
            r = w.r.Pi;
        for (var M = 0; M < r.length; M += 2) {
            K = !0;
            var L = r[M],
                N = r[M + 1];
            o.rect(L - D, N - D, 2 * D, 2 * D)
        }
        o.stroke();
        var r = w.r.akJ;
        o.beginPath();
        var D = 4 * _.J() / Q.I;
        for (var M = 0; M < r.length; M += 2) {
            K = !0;
            var L = r[M],
                N = r[M + 1];
            o.moveTo(L + D, N);
            o.arc(L, N, D, 0, 2 * Math.PI)
        }
        o.fill();
        var r = w.r.Yp;
        o.fillStyle = fA.S2([1, 1, 1, 1]);
        o.beginPath();
        var D = 6 * _.J() / Q.I;
        for (var M = 0; M < r.length; M += 2) {
            K = !0;
            var L = r[M],
                N = r[M + 1];
            o.moveTo(L + D, N);
            o.arc(L, N, D, 0, 2 * Math.PI)
        }
        o.fill();
        var D = 4 * _.J() / Q.I;
        for (var M = 0; M < r.length; M += 2) {
            K = !0;
            var L = r[M],
                N = r[M + 1];
            o.fillStyle = fA.S2(w.r.MZ.indexOf(M >>> 1) != -1 ? [0, .6, 1, 1] : [.7, .7, .7, 1]);
            o.beginPath();
            o.moveTo(L + D, N);
            o.arc(L, N, D, 0, 2 * Math.PI);
            o.fill()
        }
        if (w.r.CT.length != 0) {
            for (var M = 0; M < w.r.CT.length; M++) {
                var x = w.r.CT[M],
                    C = x[1];
                o.putImageData(new ImageData(new Uint8ClampedArray(x[0].buffer), C.D, C.j), C.x, C.y)
            }
        }
        var p = .5 / Q.I;
        o.lineWidth = 1 / Q.I;
        if (w.r.pM) {
            K = !0;
            var l = w.r.pM,
                c = l.hV,
                G = {
                    Y: [],
                    X: []
                };
            for (var M = 0; M < l.GP.length; M++) v.w.concat(G, v.w.NU(l.GP[M]));
            G.X = G.X.concat(c);
            for (var M = 0; M < c.length; M += 4) {
                G.Y.push("M", "L")
            }
            for (var M = 0; M < G.X.length; M++) {
                G.X[M] += p
            }
            o.strokeStyle = fA.S2([.9, .2, .2, 1]);
            this.Lc(G, null, o);
            o.stroke();
            var t = _.J();
            o.font = e * .9 + "px sans-serif";
            var H = 2 / Q.I,
                gl = 2 * H;
            for (var M = 0; M < c.length; M += 4) {
                var L = c[M],
                    N = c[M + 1],
                    ie = c[M + 2],
                    fk = c[M + 3],
                    h5 = Math.sqrt((fk - N) * (fk - N) + (ie - L) * (ie - L));
                h5 = v.JU.IH(h5, w.cK, b, N == fk ? w.D : w.j);
                var cf = new fB((L + ie) / 2, (N + fk) / 2);
                o.fillStyle = fA.S2([.9, .2, .2, 1]);
                var f = o.measureText(h5).width;
                o.fillRect(cf.x - f / 2 - H * t, cf.y - 3.5 * H * t, f + 2 * H * t, 7 * H * t);
                o.fillStyle = fA.S2([1, 1, 1, 1]);
                o.fillText(h5, cf.x - f / 2, cf.y + 2 * H * t)
            }
        }
        if (b.O2) {
            if (R.kU) {
                var aH = v.JU.cr(R._Q, w, R.X$),
                    gY = aH;
                if (R.X$ == 4) gY *= w.j / w.D;
                this.Zp(w, o, aH, gY, 1, R.fs);
                K = !0
            }
            if (R.ai && w.m.I > 7) {
                this.Zp(w, o, 1, 1, .5, R.fs);
                K = !0
            }
            if (R.TH) {
                var cC = Math.max(w.m.yG.D, w.m.yG.j) / w.m.I;
                cC = Math.max(Math.max(w.D, w.j) * 2, cC);
                o.beginPath();
                o.strokeStyle = fA.S2([0, 1, 1, 1]);
                for (var M = 0; M < w.TH[0].length; M++) {
                    var cY = Math.round(w.TH[0][M]) + p;
                    o.moveTo(cY, -cC);
                    o.lineTo(cY, cC)
                }
                for (var M = 0; M < w.TH[1].length; M++) {
                    var gJ = Math.round(w.TH[1][M]) + p;
                    o.moveTo(-cC, gJ);
                    o.lineTo(cC, gJ)
                }
                o.stroke()
            }
            var bM = w.sY;
            if (R.sY && bM.length != 0) {
                o.font = e * .8 + "px sans-serif";
                var cN = [],
                    cU = [];
                for (var M = 0; M < bM.length; M++) {
                    var h7 = z.Ig.MS(bM, M);
                    cN.push(h7);
                    if (w.mQ.indexOf(M) != -1) cU.push(h7)
                }
                cN.reverse();
                var hn = Date.now();
                cN = v.rect.Hi([0, 0, w.D, w.j], cN);
                for (var u = 0; u < 2; u++)
                    for (var M = 0; M < cN.length; M++) {
                        var gS = cN[M],
                            I = gS[4],
                            aq = I != null ? bM[I] : null;
                        if (aq && u == 0 || aq == null && u == 1) continue;
                        var L = Math.round(gS[0]),
                            N = Math.round(gS[1]),
                            ie = Math.round(gS[2]),
                            fk = Math.round(gS[3]);
                        o.strokeStyle = o.fillStyle = fA.S2(aq ? [0, .7, .7, 1] : [.8, .8, .8, 1]);
                        o.strokeRect(L + p, N + p, ie - L, fk - N);
                        var ef = M + 1,
                            dU = o.measureText(ef),
                            f = dU.width;
                        o.fillRect(L, N, f + e / 2, e);
                        o.fillStyle = fA.S2([1, 1, 1, 1]);
                        o.fillText(ef, L + e / 4, N + e * .8)
                    }
                var H = 2 / w.m.I,
                    gl = 2 * H;
                for (var M = 0; M < cU.length; M++) {
                    var gS = cU[M],
                        L = Math.round(gS[0]),
                        N = Math.round(gS[1]),
                        ie = Math.round(gS[2]),
                        fk = Math.round(gS[3]);
                    o.strokeStyle = o.fillStyle = fA.S2([0, .7, .7, 1]);
                    o.strokeRect(L + p, N + p, ie - L, fk - N);
                    var hO = [L, N, ie, N, ie, fk, L, fk];
                    for (var ao = 0; ao < hO.length; ao += 2) {
                        var cY = hO[ao],
                            gJ = hO[ao + 1],
                            hI = hO[ao + 2 & 7],
                            a$ = hO[ao + 3 & 7];
                        o.fillRect(cY - H, gJ - H, gl, gl);
                        o.fillRect(Math.round((cY + hI) / 2) - H, Math.round((gJ + a$) / 2) - H, gl, gl)
                    }
                }
                K = !0
            }
        }
        o.strokeStyle = fA.S2([1, 0, 0, 1]);
        if (w.r.es) {
            this.Lc(w.r.es, g, o);
            o.stroke()
        }
        o.restore();
        if (b.Xh) {
            if (w.m.S9 == null || w.m.S9.width != w.m.yG.D || w.m.q0.height != w.m.yG.j) {
                w.m.S9 = o.createImageData(w.m.yG.D, v.JU.bk);
                w.m.q0 = o.createImageData(v.JU.bk, w.m.yG.j)
            }
            var X = ab.la[b.wA],
                Q = w.m,
                hH = Q.I * w.D / 2,
                bq = Q.I * w.j / 2,
                dq = [1, w.cK, w.cK / 2.54, w.cK / 25.4, w.D / 100][R.D5],
                g9 = Q.I,
                cx = Q.n.clone(),
                hp = Q.im;
            Q.I *= dq;
            Q.n.x += hH * dq - hH;
            Q.n.y += bq * dq - bq;
            Q.im = 0;
            v.JU.anq(Q, X["--text-color"], X["--bg-input"]);
            Q.I = g9;
            Q.n = cx;
            Q.im = hp;
            var b0 = i4.NL(Q.I, fA.S2([1, 1, 1, 1]));
            fA.Xs(w.m.q0.data);
            fA.Xs(w.m.S9.data);
            o.putImageData(w.m.q0, 0, 0);
            o.putImageData(w.m.S9, 0, 0);
            o.putImageData(b0, 0, w.m.yG.j - b0.height)
        }
        if (w.r.aG.length != 0) {
            for (var M = 0; M < w.r.aG.length; M++) {
                var x = w.r.aG[M],
                    C = x[1];
                o.putImageData(new ImageData(new Uint8ClampedArray(x[0].buffer), C.D, C.j), C.x, C.y)
            }
        }
        return K || b.Xh || w.TH[0].length + w.TH[1].length > 0
    };
    fA.prototype.Zp = function(w, o, Q, K, b, R) {
        while (Q * w.m.I < 4) {
            Q *= 2;
            K *= 2
        }
        var X = w.D,
            h = w.j,
            e = .5 / w.m.I;
        o.strokeStyle = fA.S2([.5, .5, .5, b], !0);
        o.save();
        o.rect(0, 0, X, h);
        o.clip();
        o.beginPath();
        for (var Z = 0; Z <= X; Z += Q) {
            o.moveTo(Z + e, 0);
            o.lineTo(Z + e, h)
        }
        if (R == 0) {
            for (var P = 0; P <= h; P += K) {
                o.moveTo(0, P + e);
                o.lineTo(X, P + e)
            }
        } else {
            K *= Math.sqrt(4 / 3);
            var J = K * Math.floor(X / K),
                i = X * (K / (2 * Q));
            for (var P = -J; P <= h + J; P += K) {
                o.moveTo(0, P);
                o.lineTo(X, P - i);
                o.moveTo(0, P);
                o.lineTo(X, P + i)
            }
        }
        o.stroke();
        o.restore()
    };
    fA.prototype.Lc = function(w, o, Q) {
        Q.beginPath();
        var K = v.w.clone(w);
        if (o) v.w.H(K.X, o, K.X);
        Typr.U.pathToContext({
            cmds: K.Y,
            crds: K.X
        }, Q)
    };
    fA.QW = function(w) {
        d.RZ.call(this);
        this.afR = w;
        var o = "\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t" + (w ? "uniform vec4 bgClr;" : "") + "\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t" + d.oR.Bl + "\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); " + (w ? "vec4 BG = bgClr;" : "\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t") + "\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",
            Q = "\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
        this.c6(o, Q)
    };
    fA.QW.prototype = new d.RZ;
    fA.QW.prototype.u7 = function(w, o, Q, K, b, R, X, h, e, Z, P) {
        this.VP("tmat gsize source target contSizeZoom cnvSize bgClr ctrn".split(" "));
        var J = d.H3,
            i = this.Zj;
        J.uniformMatrix3fv(i.tmat, !1, Q);
        J.uniform4fv(i.gsize, K);
        J.uniform3f(i.contSizeZoom, b, R, X);
        J.uniform2f(i.cnvSize, h, e);
        J.uniformMatrix4fv(i.ctrn, !1, P);
        if (this.afR) {
            J.uniform4fv(i.bgClr, Z)
        }
        J.uniform1i(i.source, 0);
        J.uniform1i(i.target, 1);
        J.activeTexture(J.TEXTURE0);
        J.bindTexture(J.TEXTURE_2D, w);
        J.activeTexture(J.TEXTURE1);
        J.bindTexture(J.TEXTURE_2D, o);
        J.activeTexture(J.TEXTURE0)
    };

    function gs() {
        fs.call(this, [9, 7], !1, null, fs.To.a12);
        this.aO.setAttribute("style", "min-width:240px;");
        this.yw = null;
        this.px = -1;
        this.a6t = [];
        this.WK = _.B("div", "scrollable");
        this.WK.style.height = "160px";
        this.aO.appendChild(this.WK);
        this.dG = _.B("div", "lpfoot");
        this.aO.appendChild(this.dG);
        this.Jq = [];
        var w = ["reload", "lrs/newlayer", "lrs/bin"],
            o = [
                [5, 10],
                [5, 3],
                [5, 4]
            ];
        for (var M = 0; M < w.length; M++) {
            var Q = new dQ("<img src=\"" + PIMG[w[M]] + "\" class=\"gsicon\" />", !1, o[M]);
            Q.s("click", this.a8r, this);
            this.dG.appendChild(Q.d);
            this.Jq.push(Q)
        }
    }
    gs.prototype = new fs("");
    gs.prototype.nV = function(w) {
        var o = new Y(_.E.z, !0);
        o.data = w;
        o.f = z.fG;
        this.A(o)
    };
    gs.prototype.a8r = function(w) {
        var M = this.Jq.indexOf(w.currentTarget);
        if (M != 1)
            if (this.px == -1) return;
        this.nV({
            e: ["updLC", "addLC", "delLC"][M],
            qX: this.px
        });
        if (M == 2) this.px = -1
    };
    gs.prototype.v = function() {
        fs.prototype.v.call(this);
        for (var M = 0; M < this.Jq.length; M++) this.Jq[M].v()
    };
    gs.prototype.MV = function(w) {
        if (w == null) _.Ka(this.aO, "disabled");
        else _.Xt(this.aO, "disabled");
        this.yw = w;
        _.Tk(this.WK);
        if (w == null) return;
        var o = w.M2.lastAppliedComp ? w.M2.lastAppliedComp.v : 0,
            Q = w.M2.list.v.slice(0);
        Q.unshift({
            v: {
                Nm: {
                    v: "Last Document State"
                },
                compID: {
                    v: 0
                },
                capturedInfo: {
                    v: 0
                }
            }
        });
        for (var M = 0; M < Q.length; M++) {
            var K = Q[M].v,
                b = new eK(K.Nm.v, K.compID.v, K.capturedInfo.v, o, this.px);
            b.s("activate", this.vC, this);
            b.parent = this;
            this.WK.appendChild(b.d);
            this.a6t.push(b)
        }
    };
    gs.prototype.vC = function(w) {
        this.px = w.currentTarget.qX;
        this.MV(this.yw)
    };

    function eK(w, M, o, Q, K) {
        cv.call(this);
        this.qX = M;
        this.d = _.B("div", "head listitem" + (M == K ? " selected" : ""));
        var b = M == Q,
            R = new dQ(b ? "\u2713" : "\u2014");
        if (b) R.En();
        this.d.appendChild(R.d);
        R.s("click", this.YQ, this);
        var X = this.L9 = _.B("span");
        X.textContent = w;
        this.d.appendChild(X);
        this.Jq = [];
        if (M != 0) {
            this.d.addEventListener("mouseup", this.vC.bind(this), !1);
            this.a2v = _.B("span", "headR");
            this.d.appendChild(this.a2v);
            var h = ["lrs/eye", "pos", "lrs/fx"],
                e = ["Visibility", "Position", "Appearance"];
            for (var Z = 0; Z < h.length; Z++) {
                var P = new dQ("<img src=\"" + PIMG[h[Z]] + "\" class=\"autoscale gsicon\" />", !1, e[Z]);
                if ((o >> Z & 1) == 0) P.d.setAttribute("style", "opacity:0.3");
                P.s("click", this.a7r, this);
                this.a2v.appendChild(P.d);
                this.Jq.push(P)
            }
        }
    }
    eK.prototype = new cv;
    eK.prototype.vC = function(w) {
        if (w.target != this.L9 && w.target != this.d) return;
        if (w.detail == 1) this.A(new Y("activate", !1));
        else {
            var o = new fs.$l(this.L9, this.Xi.bind(this))
        }
    };
    eK.prototype.a7r = function(w) {
        var M = this.Jq.indexOf(w.currentTarget);
        this.nV({
            e: "editLC",
            a5P: M,
            qX: this.qX
        })
    };
    eK.prototype.Xi = function(w) {
        this.nV({
            e: "editLC",
            jg: w,
            qX: this.qX
        })
    };
    eK.prototype.YQ = function(w) {
        this.nV({
            e: "setLC",
            qX: this.qX
        })
    };
    eK.prototype.nV = function(w) {
        var o = new Y(_.E.z, !0);
        o.data = w;
        o.f = z.fG;
        this.A(o)
    };

    function fu() {
        fs.call(this, [9, 11], !1, null, fs.To.aji);
        var w = _.B("div", "padded");
        w.setAttribute("style", "min-width:15em");
        this.aO.appendChild(w);
        var o = _.B("div");
        w.appendChild(o);
        o.setAttribute("style", "cursor:grab;");
        this.Q8 = _.B("canvas");
        this.Q8.width = 100;
        o.appendChild(this.Q8);
        _.CA(this.Q8);
        _._v(this.Q8, this.Rd.bind(this));
        this.D6 = new h4(null, 0, z.e$.Ke.length - 1);
        this.D6.s(_.E.h, this.a3w, this);
        w.appendChild(this.D6.d);
        this.ac$ = this.eV.bind(this);
        this.a2w = this.li.bind(this);
        this.V$ = null
    }
    fu.prototype = new fs("");
    fu.prototype.VJ = function(w, o) {
        this.KM()
    };
    fu.prototype.a3w = function(w) {
        var o = this.D6.T(),
            Q = this.V$,
            K = z.e$.Ke[z.e$.Ke.length - 1 - o],
            b = new Y(_.E.z, !0);
        b.f = z.xT;
        b.data = {
            e: "zoom",
            I: K
        };
        this.A(b)
    };
    fu.prototype.Rd = function(w) {
        if (this.V$ == null) return;
        _.vt(window, this.ac$);
        _.$y(window, this.a2w)
    };
    fu.prototype.eV = function(w) {
        var o = _.m5(w, this.Q8),
            Q = this.V$,
            K = this.Q8.width,
            b = this.Q8.height,
            R = (o.x * _.J() - K / 2) / K,
            X = (o.y * _.J() - b / 2) / b,
            h = _.J() * Q.m.I,
            e = Math.round(-Q.m.I * Q.D * R),
            Z = Math.round(-Q.m.I * Q.j * X);
        z.Ry.Cw(Q, e, Z)
    };
    fu.prototype.li = function(w) {
        _.Vk(window, this.ac$);
        _.p_(window, this.a2w)
    };
    fu.prototype.MV = function(w) {
        if (w == null && this.V$ != null) this.Q8.width = 100;
        this.V$ = w;
        this.KM()
    };
    fu.prototype.KM = function() {
        var w = this.V$,
            K = 0;
        if (w == null || w.m.I == 0) return;
        var o = w.m;
        if (!_.wH(this.aO)) return;
        this.D6.G(z.e$.Ke.length - 1 - z.e$.kb(o.I));
        var Q = 300 * _.J(),
            b = [w.X_(), new B(0, 0, w.D, w.j)];
        v.st(b);
        while (Math.max(b[K + 1].D, b[K + 1].j) > Q) {
            K += 2
        }
        var R = b[K],
            X = b[K + 1],
            h = X.D,
            e = X.j,
            Z = this.Q8;
        Z.width = h;
        Z.height = e;
        _.d3(Z, h, e);
        var P = Z.getContext("2d"),
            J = P.createImageData(h, e);
        v.gb(R, J.data);
        P.putImageData(J, 0, 0);
        var i = o.yG,
            k = o.WD(i.x, i.y),
            $ = o.WD(i.x + i.D, i.y + i.j),
            n = h / w.D;
        P.scale(n, n);
        P.lineWidth = 4 / n;
        P.strokeStyle = "#ff0000";
        P.strokeRect(k.x, k.y, $.x - k.x, $.y - k.y)
    };
    fu.prototype.yy = function(w, o) {};
    fu.prototype.ek = function() {
        this.KM()
    };

    function at(w, o) {
        if (w == null) {
            fs.call(this);
            return
        }
        fs.call(this, w.name, !1, w.icon, o);
        var Q = this.a0R = _.B("iframe", "padded");
        Q.setAttribute("src", w.url);
        Q.setAttribute("style", "width:" + w.width + "px; height:" + w.height + "px");
        this.aO.appendChild(Q)
    }
    at.prototype = new fs("");
    at.prototype.S8 = function(w) {
        if (_.wH(this.a0R)) this.a0R.contentWindow.postMessage(w, "*")
    };

    function dv() {
        fs.call(this, [9, 12], !1, null, fs.To.Y8);
        this.AL = null;
        this.bI = new g7(z.IA);
        this.bI.parent = this;
        var w = _.B("div", "padded");
        w.setAttribute("style", "width:20em");
        this.aO.appendChild(w);
        w.appendChild(this.bI.KE)
    }
    dv.prototype = new fs("");
    dv.prototype.ek = function() {
        this.bI.J$(this.AL.AE)
    };
    dv.prototype.yy = function(w, o) {
        this.AL = w;
        if (o == d5.Dq || o == d5.Y8) this.bI.J$(w.AE)
    };
    dv.prototype.VJ = function(w, o) {
        this.bI.a1H(this.AL.jM)
    };
    dv.prototype.v = function() {
        fs.prototype.v.call(this);
        this.bI.v()
    };

    function cQ() {
        cv.call(this);
        this.f = 0;
        this.dR = null;
        this.d = _.B("div", "toolconf");
        this.bI = null;
        this.uz = null;
        this.body = new _.B("div", "body")
    }
    cQ.prototype = new cv;
    cQ.prototype.a7z = function(w, o) {
        this.f = w;
        this.dR = o;
        if (z.Qf[w]) {
            var Q = this.bI = new g7(w);
            this.d.appendChild(Q.d);
            Q.parent = this
        } else {
            this.uz = _.B("div");
            this.d.appendChild(this.uz)
        }
        this.d.appendChild(this.body);
        this.v()
    };
    cQ.prototype.T7 = function(w, o) {};
    cQ.prototype.OA = function(w) {};
    cQ.prototype.yy = function(w, o) {
        if (o == d5.Dq || o == d5.Y8)
            if (this.bI) this.bI.J$(w.AE)
    };
    cQ.prototype.f5 = function(w) {};
    cQ.prototype.v = function() {
        if (this.bI) this.bI.v();
        else this.uz.innerHTML = _.oP(this.dR, null, "toolicon");
        this.ag()
    };
    cQ.prototype.ag = function() {};

    function cM(w) {
        cQ.call(this);
        if (w == null) return;
        this.AL = null;
        this.kr = {};
        for (var M = 0; M < w.length; M++) {
            var o = w[M],
                Q = null;
            if (o == "brush") {
                Q = new h8
            }
            if (o == "bmode") {
                Q = new bQ([12, 19, 0], hL.gS, !1, hL.fb)
            }
            if (o == "bmode0") {
                Q = new bQ([12, 19, 0], hL.gS.slice(23), !1)
            }
            if (o == "emode") {
                Q = new bQ([12, 36], [
                    [9, 3],
                    [10, 38]
                ])
            }
            if (o == "opacity") {
                Q = new fN([12, 0], 0, 100, "%");
                Q.G(100)
            }
            if (o == "flow") {
                Q = new fN([12, 63], 0, 100, "%");
                Q.G(100)
            }
            if (o == "smth") {
                Q = new fN([19, 3, 0], 0, 100, "%");
                Q.G(0)
            }
            if (o == "samp") {
                Q = new bQ("Sampling", ["Brush Center", "Start of Stroke", "Background Color"])
            }
            if (o == "wconf") {
                Q = new bW;
                Q.G([40, !0, !0])
            }
            if (o == "strn") {
                Q = new fN([12, 64], 1, 100, "%");
                Q.G(50)
            }
            if (o == "smode") {
                Q = new bQ([12, 36], [
                    [19, 7, 0],
                    [19, 7, 1]
                ]);
                Q.G(1)
            }
            if (o == "pdetail") {
                Q = new dS([12, 65]);
                Q.En()
            }
            if (o == "rng") {
                Q = new bQ([12, 12], [
                    [19, 6, 0],
                    [19, 6, 1],
                    [19, 6, 2]
                ]);
                Q.G(1)
            }
            if (o == "expo") {
                Q = new fN([12, 5], 0, 100, "%");
                Q.G(50)
            }
            if (o == "algnd") {
                Q = new dS([12, 75]);
                Q.G(!1)
            }
            if (o == "sfrom") {
                Q = new bQ([12, 70], [
                    [17, 1],
                    [17, 3],
                    [17, 0]
                ])
            }
            if (o == "alt") {
                Q = new eO(null, ["Alt"], !0, ["Select Source"])
            }
            if (o == "qsmode") {
                Q = new b7([12, 36], ["<img src=\"" + PIMG["set/front"] + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.zoomIn + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.zoomOut + "\" class=\"autoscale gsicon\" />"], [
                    [5, 3],
                    [18, 1],
                    [18, 2]
                ])
            }
            if (o == "redge") {
                Q = new dQ([7, 11], !1, null, !0)
            }
            if (o == "setop") {
                Q = new a0
            }
            if (o == "patch") {
                Q = new b7(null, [
                    [12, 70],
                    [12, 71]
                ])
            }
            if (o == "prsr") {
                Q = new eO(null, ["<img src=\"" + PIMG.prsO + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.prsS + "\" class=\"autoscale gsicon\" />"], !0, [
                    [15, 9, 0],
                    [15, 9, 1]
                ]);
                Q.G([!1, !0])
            }
            Q.parent = this;
            this.body.appendChild(Q.d);
            this.kr[o] = Q;
            if (o == "brush") Q.s(_.E.h, this.Ny, this);
            else if (o == "redge") Q.s("click", this.aN, this);
            else Q.s(_.E.h, this.OV, this)
        }
    }
    cM.prototype = new cQ;
    cM.prototype.T7 = function(w, o) {
        w = w[1];
        var Q = this.kr;
        if (w.Md) Q.bmode.G(hL.ja.indexOf(w.Md.v.BlnM));
        if (w.Opct) Q.opacity.G(w.Opct.v);
        if (w.flow) Q.flow.G(w.flow.v);
        if (w.Brsh) Q.brush.G(w, o.Yf.Pe, o.Yf.dg);
        if (w.FrgC) {
            var K = v.V.c2(w.FrgC.v),
                b = new Y(_.E.N, !0);
            b.data = {
                e: _.S.UA,
                pO: d5.Ba,
                D3: 0,
                F: K.W << 16 | K.a << 8 | K.k
            };
            this.A(b)
        }
        this.Ny();
        this.OV()
    };
    cM.prototype.OA = function() {
        if (z.Qf[this.f] == null) return null;
        var w = this.kr,
            o = JSON.parse(JSON.stringify(w.brush.T()));
        o.classID = z.Qf[this.f][1][0];
        if (w.bmode) o.Md = {
            t: "enum",
            v: {
                BlnM: hL.ja[w.bmode.T()]
            }
        };
        if (w.opacity) o.Opct = {
            t: "long",
            v: w.opacity.T()
        };
        if (w.flow) o.flow = {
            t: "long",
            v: w.flow.T()
        };
        var Q = this.AL.x1;
        Q = {
            W: Q >>> 16,
            a: Q >>> 8 & 255,
            k: Q & 255
        };
        o.FrgC = {
            t: "Objc",
            v: v.V.Kt(Q)
        };
        return ["Brush Preset " + o.Brsh.v.Dmtr.v.val, o]
    };
    cM.prototype.aN = function() {
        var w = new Y(_.E.N, !0);
        w.data = {
            e: _.S.QH,
            hX: "redge"
        };
        this.A(w)
    };
    cM.prototype.ag = function() {
        for (var w in this.kr) this.kr[w].v()
    };
    cM.prototype.f5 = function(w) {
        if (w.afg == "showBrushOpts") {
            this.kr.brush.ky(w.KI.x, w.KI.y)
        }
        for (var o in w.l_) {
            var Q = w.l_[o];
            if (o != "qsmode") Q *= 100;
            if (this.kr[o]) this.kr[o].G(Q)
        }
    };
    cM.prototype.yy = function(w, o) {
        cQ.prototype.yy.call(this, w, o);
        this.AL = w;
        var Q = this.kr.brush;
        if (Q == null) return;
        if (o == d5.Dq || o == d5.IA) Q.J$(w.Yf);
        if (o == d5.mO) {
            Q.G(w.Yf.Uw, w.Yf.Pe, w.Yf.dg)
        }
    };
    cM.prototype.Ny = function() {
        var w = new Y(_.E.N, !0);
        w.data = {
            e: _.S.UA,
            pO: d5.mO,
            L4: this.kr.brush.T()
        };
        this.A(w)
    };
    cM.prototype.OV = function() {
        var w = new Y(_.E.N, !0);
        w.data = {
            e: _.S.mD,
            f: this.f
        };
        for (var o in this.kr) {
            if (o == "brush" || o == "redge") continue;
            var Q = this.kr[o].T();
            if (["opacity", "flow", "smth", "strn", "expo"].indexOf(o) != -1) w.data[o] = Q / 100;
            else if (o == "bmode") w.data.bmode = hL.IM[Q];
            else if (o == "bmode0") w.data.bmode = hL.IM[23 + Q];
            else w.data[o] = Q
        }
        this.A(w)
    };

    function cD(w) {
        cQ.call(this);
        if (w) return;
        this.data = {
            e: _.S.mD,
            Xm: "front",
            YF: 0,
            rx: [16, !0, !0],
            pe: {
                Ve: 0,
                x: 1,
                y: 1
            }
        };
        this.AX = new a0;
        this.body.appendChild(this.AX.d);
        this.AX.s(_.E.h, this.u4, this);
        this.ZG = new fN([7, 6], 0, 100, " px");
        this.ZG.parent = this;
        this.ZG.G(0);
        this.body.appendChild(this.ZG.d);
        this.ZG.s(_.E.h, this.u4, this);
        this.yj = new dQ([7, 11], !1, null, !0);
        this.body.appendChild(this.yj.d);
        this.yj.s("click", this.aN, this)
    }
    cD.prototype = new cQ;
    cD.prototype.f5 = function(w) {
        if (w.Xm != null) this.AX.G(w.Xm);
        else if (w.NC) {
            var o = this.data;
            o.Xm = w.NC.Xm;
            this.AX.G(o.Xm);
            o.YF = w.NC.YF;
            this.ZG.G(o.YF);
            o.rx = w.NC.rx;
            if (this.iO) this.iO.G(o.rx)
        } else {
            var Q = cD.ui;
            if (Q == null) {
                var K = fo.Lr(!0);
                Q = cD.ui = new ag(K.items, K.Cz)
            }
            Q.v();
            Q.parent = this;
            Q.update(w.AZ, w.f8);
            var b = new Y(_.E.N, !0);
            b.data = {
                e: _.S.Gj,
                wh: Q,
                x: w.GF.qb + 2,
                y: w.GF.Nh + 1
            };
            this.A(b)
        }
    };
    cD.prototype.ag = function() {
        this.ZG.v();
        this.AX.v();
        this.yj.v()
    };
    cD.prototype.aN = function() {
        var w = new Y(_.E.N, !0);
        w.data = {
            e: _.S.QH,
            hX: "redge"
        };
        this.A(w)
    };
    cD.prototype.u4 = function() {
        var w = new Y(_.E.N, !0);
        this.data.f = this.f;
        this.data.Xm = this.AX.T();
        this.data.YF = this.ZG.T();
        w.data = this.data;
        this.A(w)
    };

    function ai() {
        cM.call(this, ["brush", "strn"])
    }
    ai.prototype = new cM;

    function ei() {
        cM.call(this, "brush bmode opacity flow smth prsr".split(" "))
    }
    ei.prototype = new cM;

    function bZ() {
        cM.call(this, ["brush", "bmode0", "samp", "wconf"])
    }
    bZ.prototype = new cM;

    function iq() {
        cM.call(this, ["brush"])
    }
    iq.prototype = new cM;

    function hU() {
        cM.call(this, ["brush", "bmode", "opacity", "smth", "prsr"])
    }
    hU.prototype = new cM;

    function aO() {
        cM.call(this, ["brush", "rng", "expo"])
    }
    aO.prototype = new cM;

    function fW() {
        cM.call(this, "brush bmode opacity algnd sfrom alt".split(" "))
    }
    fW.prototype = new cM;

    function gZ(w) {
        cQ.call(this);
        if (w == null) return;
        var o = _.B("span", "fitem");
        this.body.appendChild(o);
        var Q = [
            [17, 0],
            [17, 1],
            [11, 12, 0],
            [17, 2]
        ];
        this.oa = [];
        for (var M = 0; M < Q.length; M++) {
            var K = new dQ(Q[M], !1, null, !0);
            this.oa.push(K);
            K.s("click", this.a7o, this);
            if (!w || M == 1) o.appendChild(K.d)
        }
        this.pe = new c5;
        this.pe.s(_.E.h, this.DU, this);
        if (!w) this.body.appendChild(this.pe.d);
        this.Xq = new dS("Delete Cropped Pixels");
        this.Xq.s(_.E.h, this.DU, this);
        if (!w) this.body.appendChild(this.Xq.d);
        this.wD = new dJ;
        this.wD.s("click", this.rs, this)
    }
    gZ.prototype = new cQ;
    gZ.prototype.ag = function() {
        this.wD.v();
        for (var M = 0; M < this.oa.length; M++) this.oa[M].v();
        this.pe.v();
        this.Xq.v()
    };
    gZ.prototype.f5 = function(w) {
        var o = this.wD.d;
        if (w.co) this.body.appendChild(o);
        else if (this.body.contains(o)) this.body.removeChild(o);
        if (w.pe) this.pe.G(w.pe)
    };
    gZ.prototype.rs = function(w) {
        var o = {
                e: _.S.mD,
                f: this.f,
                qv: this.wD.T() ? "commit" : "cancel"
            },
            Q = new Y(_.E.N, !0);
        Q.data = o;
        this.A(Q)
    };
    gZ.prototype.a7o = function(w) {
        w.target.d.blur();
        var o = {
                e: _.S.mD,
                f: this.f,
                qv: "cropby",
                a6N: this.oa.indexOf(w.target)
            },
            Q = new Y(_.E.N, !0);
        Q.data = o;
        this.A(Q)
    };
    gZ.prototype.DU = function(w) {
        var o = {
            e: _.S.mD,
            f: this.f,
            qv: "config",
            h2: {
                dj: this.pe.T()
            }
        };
        if (w.target == this.Xq) o.h2.HV = this.Xq.T();
        var Q = new Y(_.E.N, !0);
        Q.data = o;
        this.A(Q)
    };

    function dz() {
        gZ.call(this, !1)
    }
    dz.prototype = new gZ;

    function bD() {
        gZ.call(this, !0)
    }
    bD.prototype = new gZ;

    function dX() {
        cM.call(this, ["brush", "rng", "expo"])
    }
    dX.prototype = new cM;

    function ht() {
        cM.call(this, "brush emode opacity flow smth prsr".split(" "))
    }
    ht.prototype = new cM;

    function cP() {
        cM.call(this, ["brush", "samp", "wconf"])
    }
    cP.prototype = new cM;

    function cc() {
        cD.call(this);
        this.pe = new c5;
        this.pe.s(_.E.h, this.qo, this);
        this.body.appendChild(this.pe.d)
    }
    cc.prototype = new cD(!0);
    cc.prototype.qo = function(w) {
        this.data.pe = this.pe.T();
        this.u4()
    };
    cc.prototype.ag = function() {
        cD.prototype.ag.call(this);
        this.pe.v()
    };

    function ij() {
        cQ.call(this);
        this.WC = new bQ([12, 20], ["1x1", "3x3", "5x5", "11x11", "31x31"]);
        this.WC.s(_.E.h, this.OV, this);
        this.body.appendChild(this.WC.d)
    }
    ij.prototype = new cQ;
    ij.prototype.OV = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.mD,
            f: this.f,
            pY: [1, 3, 5, 11, 31][this.WC.T()]
        };
        this.A(o)
    };
    ij.prototype.ag = function() {
        this.WC.v()
    };

    function d7() {
        cQ.call(this);
        this.U6 = new dn(!1);
        this.U6.parent = this;
        this.U6.s(_.E.h, this.ak, this);
        this.body.appendChild(this.U6.d);
        this.U6.G(JSON.parse(b_.pA.un).v);
        this.Iq = new bQ(null, b_.V.names.slice(0, 5));
        this.Iq.s(_.E.h, this.ak, this);
        this.body.appendChild(this.Iq.d);
        this.$W = new bQ([12, 19, 0], hL.gS, null, hL.fb);
        this.$W.s(_.E.h, this.ak, this);
        this.body.appendChild(this.$W.d);
        this.KC = new fN([12, 0], 0, 100, "%");
        this.KC.parent = this;
        this.KC.s(_.E.h, this.ak, this);
        this.body.appendChild(this.KC.d);
        this.KC.G(100);
        this.yd = new dS([12, 23, 0]);
        this.yd.s(_.E.h, this.ak, this);
        this.body.appendChild(this.yd.d);
        this.Az = new dS("Dither");
        this.Az.s(_.E.h, this.ak, this);
        this.body.appendChild(this.Az.d)
    }
    d7.prototype = new cQ;
    d7.prototype.ag = function() {
        this.Iq.v();
        this.$W.v();
        this.KC.v();
        this.yd.v();
        this.Az.v()
    };
    d7.prototype.yy = function(w, o) {
        cQ.prototype.yy.call(this, w, o);
        var Q = o == d5.Ba;
        this.U6.vO(w.x1, w.TT);
        if (Q || o == d5.zM || o == d5.Dq) this.U6.J$(w.yH)
    };
    d7.prototype.ak = function() {
        var w = new Y(_.E.N, !0);
        w.data = {
            e: _.S.mD,
            f: this.f
        };
        w.data.pO = {
            V: this.U6.T(),
            Ze: b_.V.types[this.Iq.T()],
            VS: this.yd.m0(),
            a4Z: this.Az.m0(),
            a3h: hL.IM[this.$W.T()],
            FV: this.KC.T() / 100
        };
        this.A(w)
    };

    function hP() {
        cQ.call(this)
    }
    hP.prototype = new cQ;

    function bR() {
        cQ.call(this);
        var w = _.B("span", "fitem");
        this.body.appendChild(w);
        this.Wf = [new fN([12, 15], 0, 0, "\xB0"), new dQ("Reset", null, null, !0)];
        for (var M = 0; M < this.Wf.length; M++) {
            var o = this.Wf[M];
            o.parent = this;
            w.appendChild(o.d);
            o.s(M == 1 ? "click" : _.E.h, this.V0, this)
        }
    }
    bR.prototype = new cQ;
    bR.prototype.ag = function() {
        for (var M = 0; M < this.Wf.length; M++) this.Wf[M].v()
    };
    bR.prototype.f5 = function(w) {
        this.Wf[0].G(w.aa * 180 / Math.PI)
    };
    bR.prototype.V0 = function(w) {
        var o = this.Wf.indexOf(w.target),
            Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.mD,
            f: this.f,
            aa: o == 1 ? 0 : w.target.T() * Math.PI / 180
        };
        this.A(Q)
    };

    function bc() {
        cM.call(this, ["brush", "algnd", "sfrom", "alt"])
    }
    bc.prototype = new cM;

    function cK() {
        cQ.call(this);
        this.pH = new b4;
        this.pH.parent = this;
        this.body.appendChild(this.pH.ax.d);
        this.body.appendChild(this.pH.XK.d);
        this.body.appendChild(this.pH.Nv.d);
        var w = _.B("span", "fitem");
        this.body.appendChild(w);
        w.appendChild(this.pH.sM.d);
        w.appendChild(this.pH.ON.d);
        w.appendChild(this.pH.wB.d);
        this.EW = new bQ("Aa", [
            [22, 5, 0], "Sharp", "Crisp", "Strong", "Smooth"
        ]);
        this.EW.s(_.E.h, this.rs, this);
        this.body.appendChild(this.EW.d);
        this.wQ = new dQ([11, 9], !1, null, !0);
        this.wQ.s("click", this.a5X, this);
        this.body.appendChild(this.wQ.d);
        this.wD = new dJ;
        this.wD.s("click", this.rs, this)
    }
    cK.prototype = new cQ;
    cK.prototype.ag = function() {
        this.wD.v();
        this.pH.v();
        this.wQ.v()
    };
    cK.prototype.a5X = function(w) {
        var o = {
                e: _.S.mD,
                f: this.f,
                qv: "showwarp"
            },
            Q = new Y(_.E.N, !0);
        Q.data = o;
        this.A(Q)
    };
    cK.prototype.f5 = function(w) {
        if (w.qv == "showactive") this.body.appendChild(this.wD.d);
        if (w.qv == "hideactive") this.body.removeChild(this.wD.d);
        if (w.qv == "changeAA") this.EW.G(w.tu)
    };
    cK.prototype.yy = function(w, o) {
        cQ.prototype.yy.call(this, w, o);
        if (o != d5.Dq && o != d5.pQ && o != d5.us && o != d5.gx) return;
        this.pH.G(w.$p, w.md, w.C1)
    };
    cK.prototype.rs = function(w) {
        var o = {
            e: _.S.mD,
            f: this.f,
            qv: this.wD.T() ? "commit" : "cancel"
        };
        if (w.target == this.EW) {
            o.qv = "changeAA";
            o.tu = this.EW.T()
        }
        var Q = new Y(_.E.N, !0);
        Q.data = o;
        this.A(Q)
    };

    function bK() {
        cD.call(this)
    }
    bK.prototype = new cD(!0);

    function e_() {
        cQ.call(this);
        var w = [],
            Q = "<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
        this.P1 = new dS([12, 85]);
        this.P1.s(_.E.h, this.OV, this);
        w.push(this.P1.d);
        this.L1 = new dS([20, 1]);
        this.L1.s(_.E.h, this.OV, this);
        w.push(this.L1.d);
        this.xp = new dS([12, 83]);
        this.xp.s(_.E.h, this.OV, this);
        w.push(this.xp.d);
        var o = _.B("span", "fitem");
        w.push(o);
        this.akM = new bQ("Scale for exported files", ["1x", "2x", "3x", "4x"], !0);
        o.appendChild(this.akM.d);
        this.y3 = new dQ(Q + " PNG", !1, "Save selected layers as PNG", !0);
        o.appendChild(this.y3.d);
        this.y3.s("click", this._p, this);
        this.ajg = new dQ(Q + " SVG", !1, "Save selected layers as SVG", !0);
        o.appendChild(this.ajg.d);
        this.ajg.s("click", this._p, this);
        var K = _.B("span", "fitem");
        w.push(K);
        var b = _.B("span", "fitem");
        w.push(b);
        this.Jq = [];
        for (var M = 0; M < 8; M++) {
            var R = M == 3 || M == 7 ? [20, 4, 6] : [20, 4, M < 3 ? M : M - 1],
                X = new dQ("Hi", !1, R);
            (M < 4 ? K : b).appendChild(X.d);
            X.s("click", this._p, this);
            this.Jq.push(X)
        }
        for (var M = 0; M < w.length; M++) this.body.appendChild(w[M]);
        this.akO = w
    }
    e_.prototype = new cQ;
    e_.prototype.f5 = function(w) {
        var o = w.NC,
            Q = w.a1G;
        this.P1.G(o.A$);
        this.L1.G(o.GV);
        this.xp.G(o.pM);
        if (Q) {
            _.Tk(this.body);
            for (var M = 0; M < Q.length; M++)
                if (Q[M] == 1 && this.akO[M]) this.body.appendChild(this.akO[M])
        }
    };
    e_.prototype._p = function(w) {
        var o = this.Jq.indexOf(w.target),
            Q;
        if (o == -1) {
            Q = new Y(_.E.N, !0);
            Q.data = {
                e: _.S.mD,
                f: this.f,
                D3: w.target == this.y3 ? "getPNG" : "getSVG",
                QU: this.akM.T() + 1
            }
        } else {
            Q = new Y(_.E.z, !0);
            Q.f = z.sk;
            Q.data = {
                e: "algn",
                F: o
            }
        }
        this.A(Q)
    };
    e_.prototype.OV = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.mD,
            f: this.f,
            D3: "prms",
            A$: this.P1.m0(),
            GV: this.L1.m0(),
            pM: this.xp.m0()
        };
        this.A(o)
    };
    e_.prototype.ag = function() {
        this.P1.v();
        this.L1.v();
        this.xp.v();
        var w = "h0 h1 h2 hG v0 v1 v2 vG".split(" ");
        for (var M = 0; M < 8; M++) {
            this.Jq[M].vg(_.oP("align/" + w[M], null, "autoscale"))
        }
    };

    function d6() {
        cD.call(this);
        var w = this.iO = new bW;
        w.parent = this;
        w.s(_.E.h, this.a0$, this);
        this.body.appendChild(w.d)
    }
    d6.prototype = new cD(!0);
    d6.prototype.a0$ = function(w) {
        this.data.rx = this.iO.T();
        this.u4()
    };
    d6.prototype.ag = function() {
        cD.prototype.ag.call(this);
        this.iO.v()
    };

    function h3() {
        cM.call(this, ["setop", "patch"])
    }
    h3.prototype = new cM;

    function dT() {
        cM.call(this, ["setop"])
    }
    dT.prototype = new cM;

    function fD() {
        cM.call(this, ["bmode", "opacity", "wconf"])
    }
    fD.prototype = new cM;

    function cV() {
        cD.call(this)
    }
    cV.prototype = new cD(!0);

    function a5() {
        cD.call(this)
    }
    a5.prototype = new cD(!0);

    function aE() {
        cD.call(this);
        this.pe = new c5;
        this.pe.s(_.E.h, this.qo, this);
        this.body.appendChild(this.pe.d)
    }
    aE.prototype = new cD(!0);
    aE.prototype.qo = function(w) {
        this.data.pe = this.pe.T();
        this.u4()
    };
    aE.prototype.ag = function() {
        cD.prototype.ag.call(this);
        this.pe.v()
    };

    function hB() {
        cQ.call(this);
        this.AL = null;
        this.U4 = null;
        this.I_ = [new g$("X", null, 3), new g$("Y", null, 3), new g$("W", null, 3), new g$("H", null, 3), new g$([12, 15], null, 4), new g$([12, 80, 0], null, 4), new dQ([15, 7, 6], !1, null, !0)];
        for (var M = 0; M < this.I_.length; M++) {
            var w = this.I_[M];
            this.body.appendChild(w.d)
        }
        this.I_[6].s("click", this.a77, this);
        this.gL = 0
    }
    hB.prototype = new cQ;
    hB.prototype.a77 = function(w) {
        if (this.gL == 0) {
            return
        }
        var o = new Y(_.E.z, !0);
        o.f = z.Go;
        o.data = {
            e: "rot",
            Wp: [2, 5],
            F: -this.gL
        };
        this.A(o)
    };
    hB.prototype.f5 = function(w) {
        if (w == null) return;
        this.U4 = w;
        var o = w.akw,
            Q = w.Sr,
            K = Q.x - o.x,
            b = Q.y - o.y,
            R = this.I_;
        this.gL = -Math.atan2(b, K);
        R[0].G(o.x);
        R[1].G(o.y);
        R[2].G(K);
        R[3].G(b);
        R[4].G((this.gL * 180 / Math.PI).toFixed(2));
        var X = Math.sqrt(K * K + b * b);
        X = v.JU.IH(X, w.cK, this.AL, w.acG, !1);
        R[5].G(parseFloat(X).toFixed(2))
    };
    hB.prototype.yy = function(w, o) {
        this.AL = w;
        this.f5(this.U4)
    };
    hB.prototype.ag = function() {
        var w = this.I_;
        for (var M = 0; M < w.length; M++) w[M].v();
        _.sb(w[2], w[3])
    };

    function g4() {
        cM.call(this, ["brush", "strn", "pdetail"])
    }
    g4.prototype = new cM;

    function a7() {
        cM.call(this, ["brush"]);
        this.a8U = [];
        var w = [
            [7, 12]
        ];
        for (var M = 0; M < w.length; M++) {
            var o = new dQ(w[M], !1, null, !0);
            this.a8U.push(o);
            o.parent = this;
            this.body.appendChild(o.d);
            o.s("click", this.afQ, this)
        }
    }
    a7.prototype = new cM;
    a7.prototype.afQ = function(w) {
        var o = this.a8U.indexOf(w.currentTarget),
            Q = new Y(_.E.e9, !0);
        Q.data = z.bA.M3("contentAware");
        this.A(Q)
    };

    function dc() {
        cM.call(this, ["brush", "strn"])
    }
    dc.prototype = new cM;

    function fZ() {
        cM.call(this, ["brush", "flow", "smode"])
    }
    fZ.prototype = new cM;

    function c2() {
        cQ.call(this);
        this.MF = !1;
        var w = _.B("span", "fitem");
        this.body.appendChild(w);
        this.$C = new b7(null, ["<img src=\"" + PIMG.zoomIn + "\" class=\"autoscale gsicon\" />", "<img src=\"" + PIMG.zoomOut + "\" class=\"autoscale gsicon\" />"]);
        w.appendChild(this.$C.d);
        this.$C.s(_.E.h, this.OV, this);
        this.XV = new dQ([20, 2]);
        this.body.appendChild(this.XV.d);
        this.XV.s("click", this.mu, this);
        this.OI = new dQ([20, 3]);
        this.body.appendChild(this.OI.d);
        this.OI.s("click", this.mu, this)
    }
    c2.prototype = new cQ;
    c2.prototype.ag = function() {
        this.XV.v();
        this.OI.v()
    };
    c2.prototype.OV = function() {
        var w = {
                e: _.S.mD,
                f: this.f,
                w8: this.$C.T() == 0
            },
            o = new Y(_.E.N, !0);
        o.data = w;
        this.A(o)
    };
    c2.prototype.f5 = function(w) {
        if (this.MF != w.MF) this.$C.G(1 - this.$C.T());
        this.MF = w.MF
    };
    c2.prototype.mu = function(w) {
        var o = new Y(_.E.z, !0);
        o.f = z.xT;
        o.data = {
            e: "adapt",
            F: w.target == this.XV ? "pixel" : "fitscr"
        };
        this.A(o)
    };

    function f6(w, o) {
        cQ.call(this);
        if (w == null) return;
        this.kr = {};
        var Q = [
            [12, 76, 0],
            [12, 76, 1]
        ];
        if (o == null) Q.push([12, 76, 2]);
        for (var M = 0; M < w.length; M++) {
            var K = w[M],
                b = null;
            if (K == "tmode") {
                b = new bQ(null, Q);
                b.G(1)
            }
            if (K == "make") {
                b = new dQ("Make Selection", null, null, !0);
                b.fz()
            }
            if (K == "binop") {
                b = new bQ(null, [
                    [18, 1],
                    [18, 2],
                    [18, 3],
                    [18, 4]
                ]);
                b.fz()
            }
            if (K == "pshape") b = new bQ(null, [
                [12, 93, 0],
                [12, 93, 1], "Arrow", [12, 93, 2]
            ]);
            if (K == "shape") b = new hQ([12, 76, 1]);
            if (K == "crad") {
                b = new fN([12, 94, 0], 0, 50, "px");
                b.G(0)
            }
            if (K == "cstr") {
                b = new c5
            }
            if (K == "irad") {
                b = new fN([12, 94, 1], 0, 100, "%");
                b.G(40)
            }
            if (K == "length") {
                b = new fN([12, 80, 0], 4, 40);
                b.G(4)
            }
            if (K == "sides") {
                b = new fN([12, 78], 3, 30);
                b.G(5)
            }
            if (K == "width") {
                b = new fN([12, 41], 1, 100, "px");
                b.G(5)
            }
            if (K == "tsiz") {
                b = new fN("Tip Size", 100, 500, "%");
                b.G(300)
            }
            if (K == "tolr") {
                b = new fN([12, 24], 0, 100);
                b.G(5)
            }
            if (K == "fstyle") {
                b = new hZ([12, 26])
            }
            if (K == "sstyle") {
                b = new fP
            }
            if (K == "psnap") {
                b = new dS([8, 10])
            }
            if (K == "crnr") {
                b = new dQ("\u2312", !1, [12, 94, 0], !0)
            }
            b.parent = this;
            this.body.appendChild(b.d);
            this.kr[K] = b;
            b.s(K == "crnr" || K == "make" ? "click" : _.E.h, this.OV, this)
        }
    }
    f6.prototype = new cQ;
    f6.prototype.f5 = function(w) {
        var o = f6.ui;
        if (o == null) o = f6.ui = new ag([{
            name: "Make Selection"
        }], [{
            b: _.E.N,
            c: {
                e: _.S.QH,
                hX: "makesel"
            }
        }]);
        o.parent = this;
        o.update(w.AZ, w.f8);
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.Gj,
            wh: o,
            x: w.GF.qb + 2,
            y: w.GF.Nh + 1
        };
        this.A(Q)
    };
    f6.prototype.PR = function(M) {
        return null
    };
    f6.prototype.gI = function() {
        if (this.kr.pshape == null) return;
        var w = this.PR(this.kr.pshape.T());
        if (w == null) return;
        _.Tk(this.body);
        for (var M = 0; M < w.length; M++) {
            var o = w[M];
            this.body.appendChild(this.kr[o].d)
        }
    };
    f6.prototype.ag = function() {
        for (var w in this.kr) {
            this.kr[w].v()
        }
    };
    f6.prototype.OV = function(w) {
        if (w.target == this.kr.crnr) {
            var o = new Y(_.E.z, !0);
            o.f = z.aD;
            o.data = {
                e: "crnr"
            };
            this.A(o);
            return
        }
        if (w.target == this.kr.make) {
            var o = new Y(_.E.N, !0);
            o.data = {
                e: _.S.QH,
                hX: "makesel"
            };
            this.A(o);
            return
        }
        var o = new Y(_.E.N, !0);
        if (w.target == this.kr.fstyle) {
            o.data = {
                e: _.S.UA,
                pO: d5.mP,
                F: this.kr.fstyle.T()
            };
            this.A(o);
            return
        }
        if (w.target == this.kr.sstyle) {
            o.data = {
                e: _.S.UA,
                pO: d5.ef,
                F: this.kr.sstyle.T()
            };
            this.A(o);
            return
        }
        if (this.kr.tmode && this.kr.binop) {
            var Q = this.kr.tmode.T() == 0,
                K = this.kr.binop,
                b = this.kr.make;
            if (K) K.o9(Q);
            if (b) b.o9(Q)
        }
        o.data = {
            e: _.S.mD,
            f: this.f
        };
        for (var R in this.kr)
            if (R != "sstyle") o.data[R] = this.kr[R].T();
        this.A(o);
        if (w.target == this.kr.pshape) this.gI()
    };
    f6.prototype.yy = function(w, o) {
        cQ.prototype.yy.call(this, w, o);
        var Q = this.kr.fstyle,
            K = this.kr.sstyle;
        if (Q) Q.yy(w, o);
        if (K) K.yy(w, o);
        if (o == d5.Dq || o == d5.Ru)
            if (w.aB.length != 0 && this.kr.shape) {
                this.kr.shape.J$(w.aB)
            } if (o == d5.Dq || o == d5.mP)
            if (Q) Q.G(null, w.n4, w.a6M);
        if (o == d5.Dq || o == d5.ef)
            if (K) K.G(null, w.pw, w.and)
    };

    function gn() {
        f6.call(this, ["tmode", "make", "fstyle", "sstyle", "binop"], !0)
    }
    gn.prototype = new f6;

    function db() {
        f6.call(this, ["tmode", "fstyle", "sstyle", "binop", "tolr"])
    }
    db.prototype = new f6;

    function fz() {
        f6.call(this, ["fstyle", "sstyle"]);
        this.a9f = null;
        this.a0t = null;
        this.aik = null;
        this.eY = new bQ("Path", [
            [18, 1],
            [18, 2],
            [18, 3],
            [18, 4],
            [18, 5]
        ], !1, [4]);
        this.YS = new dQ("\u25BC");
        this.YS.En();
        this.bl = new dQ("\u25B2");
        this.bl.En();
        this.a_ = [this.eY, this.YS, this.bl];
        for (var M = 0; M < this.a_.length; M++) {
            var w = this.a_[M];
            this.body.appendChild(w.d);
            w.parent = this;
            w.s(M == 0 ? _.E.h : "click", this.Rp, this)
        }
    }
    fz.prototype = new f6;
    fz.prototype.f5 = function(w) {
        if (w.qv == "main") {
            var o = this.a_,
                Q = w.gM;
            if (Q && Q.u.length == 1) {
                this.a0t = Q.clone();
                this.aik = JSON.stringify(w.Wn);
                var K = Q.u[0],
                    b = v.P.S3(Q._);
                this.eY.Lh();
                if (K > 0) this.YS.Lh();
                else this.YS.fz();
                if (K < b - 1) this.bl.Lh();
                else this.bl.fz();
                var R = v.P.xJ(Q._, K),
                    X = Q._[R];
                this.eY.vg("Path " + (K + 1));
                this.eY.G([3, 0, 1, 2][X.ID])
            } else {
                for (var M = 0; M < o.length; M++) o[M].fz()
            }
        } else f6.prototype.f5.call(this, w)
    };
    fz.prototype.ag = function() {
        f6.prototype.ag.call(this);
        this.eY.v()
    };
    fz.prototype.Rp = function(w) {
        if (w.target == this.eY || w.target == this.YS || w.target == this.bl) {
            var o = {},
                Q = this.a0t,
                K = Q._,
                b = JSON.parse(this.aik),
                R = Q.u[0],
                X = v.P.xJ(K, R),
                h = K[X];
            if (w.target == this.eY) {
                var e = this.eY.T();
                if (e < 4) h.ID = [1, 2, 3, 0][e];
                else {
                    if (v.P.S3(K) <= 1) return;
                    Q._ = v.P.jk(K);
                    Q.u = Q._.length == 2 ? [] : [0];
                    Q.Ja = [];
                    b = [v.Wn.pa()]
                }
            } else {
                var Z = w.target == this.YS ? -1 : 1,
                    P = Math.min(R, R + Z),
                    J = Math.max(R, R + Z),
                    i = v.P.xJ(K, P),
                    k = v.P.xJ(K, J);
                if (i == -1 || k == -1) return;
                var $ = k + v.P.U2(K, J),
                    n = b[P];
                b[P] = b[J];
                b[J] = n;
                var j = K.slice(0, i),
                    y = K.slice(i, k),
                    V = K.slice(k, $),
                    O = K.slice($);
                Q._ = j.concat(V.concat(y.concat(O)));
                Q.u[0] += Z
            }
            o.gM = Q;
            o.Wn = b;
            var S = new Y(_.E.N, !0);
            S.data = {
                e: _.S.mD,
                f: this.f,
                EG: o
            };
            this.A(S)
        }
    };

    function bS() {
        f6.call(this, ["fstyle", "sstyle", "crnr", "psnap"])
    }
    bS.prototype = new f6;

    function b9() {
        f6.call(this, "tmode fstyle sstyle binop cstr crad".split(" "))
    }
    b9.prototype = new f6;

    function ig() {
        f6.call(this, ["tmode", "fstyle", "sstyle", "binop", "cstr"])
    }
    ig.prototype = new f6;

    function c9() {
        f6.call(this, "tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
        this.ab5 = [
            ["sides", "crad"],
            ["sides", "irad", "crad"],
            ["width", "tsiz"],
            ["length"]
        ];
        this.gI()
    }
    c9.prototype = new f6;
    c9.prototype.PR = function(M) {
        return ["tmode", "fstyle", "sstyle", "binop", "pshape"].concat(this.ab5[M])
    };

    function dW() {
        f6.call(this, ["tmode", "fstyle", "sstyle", "binop", "width"])
    }
    dW.prototype = new f6;

    function gy() {
        f6.call(this, "tmode fstyle sstyle binop cstr shape".split(" "))
    }
    gy.prototype = new f6;

    function gB() {
        cD.call(this)
    }
    gB.prototype = new cD(!0);

    function hg() {
        cM.call(this, ["brush", "qsmode", "redge"])
    }
    hg.prototype = new cM;

    function aW() {
        cQ.call(this)
    }
    aW.prototype = new cQ;

    function eS() {
        cQ.call(this);
        this.YS = new dQ("\u25BC");
        this.YS.En();
        this.bl = new dQ("\u25B2");
        this.bl.En();
        var eh = [this.YS, this.bl];
        for (var M = 0; M < 2; M++) {
            var w = eh[M];
            this.body.appendChild(w.d);
            w.s("click", this.Rp, this)
        }
    }
    eS.prototype = new cQ;
    eS.prototype.Rp = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.mD,
            f: this.f,
            D3: "reorder",
            dir: w.target == this.YS ? -1 : 1
        };
        this.A(o)
    };

    function ix(w, o) {
        cQ.call(this);
        if (window.Typr == null || w) return;
        this.a7P = o;
        this.vB = null;
        this.ahG = _.B("span", "");
        this.a43 = _.B("span", "");
        var Q = 1;
        this.PE = {
            Qg: new ac(null, 24),
            Hj: new fN("X", 0, 0, "px", 0, !1, !0, 4),
            p8: new fN("Y", 0, 0, "px", 0, !1, !0, 4),
            b7: new fN("W", 0, 0, ["%", "px"], 2, !1, !0, 5),
            zg: new dQ("\u2261", null, [12, 51], null),
            YH: new fN("H", 0, 0, ["%", "px"], 2, !1, !0, 5),
            a6y: new fN("\u2221", 0, 0, "\xB0", Q, !1, !0),
            a8g: new fN("\u25B1 X", -85, 85, "\xB0", Q, !1, !0),
            aey: new fN("\u25B1 Y", -85, 85, "\xB0", Q, !1, !0),
            Oj: new bQ(null, [
                [12, 14, 2],
                [12, 14, 3], "Bicubic Sharper"
            ])
        };
        this.PE.Oj.G(1);
        for (var K in this.PE) {
            var b = this.PE[K];
            if (o && (b == this.PE.a6y || b == this.PE.a8g || b == this.PE.aey || b == this.PE.Oj)) {} else this.ahG.appendChild(b.d);
            var R = b == this.PE.zg ? "click" : _.E.h;
            b.s(R, this.af$, this)
        }
        this.iO = new dV(!0, !0, !0);
        this.iO.s(_.E.h, this.a0m, this);
        this.iO.parent = this;
        var X = this.a43,
            h = this.iO;
        X.appendChild(h.f1.d);
        X.appendChild(h.Bo.d);
        X.appendChild(h.ua.d);
        X.appendChild(h.Ty.d);
        X.appendChild(h.Z4.d);
        this.wQ = new dQ([11, 9]);
        this.wQ.s("click", this.a5a, this);
        this.wD = new dJ;
        this.wD.s("click", this.rs, this)
    }
    ix.prototype = new cQ;
    ix.prototype.f5 = function(w) {
        if (w.GF) {
            var o = ix,
                Q = o.ui;
            if (Q == null) Q = o.ui = new ag(o.Xv(), o.ty(this.f));
            Q.v();
            Q.parent = this;
            Q.update(w.AZ, w.f8);
            var K = new Y(_.E.N, !0);
            K.data = {
                e: _.S.Gj,
                wh: Q,
                x: w.GF.qb + 2,
                y: w.GF.Nh + 1
            };
            this.A(K);
            return
        }
        _.Tk(this.body);
        this.vB = w;
        if (w.PE) {
            var b = w.PE.U,
                R = w.PE.M1.clone(),
                X = Math.atan2(-R.k, R.K),
                h = new dj;
            h.rotate(-X);
            R.concat(h);
            var e = this.PE;
            e.Qg.G(w.PE.aV);
            e.Hj.G(w.PE.Ut.x);
            e.p8.G(w.PE.Ut.y);
            e.b7.G(R.K * (e.b7.C7() == "%" ? 100 : b.D));
            e.YH.G(R.TX * (e.YH.C7() == "%" ? 100 : b.j));
            e.a6y.G(-X * 180 / Math.PI);
            e.a8g.G(0 * 180 / Math.PI);
            e.aey.G(Math.atan(R.Lu) * 180 / Math.PI);
            this.body.appendChild(this.ahG);
            this.wQ.zC()
        }
        if (w.W1) {
            this.iO.G(w.W1);
            this.body.appendChild(this.a43);
            this.wQ.En()
        }
        this.body.appendChild(this.wD.d);
        if (w.a0i && !this.a7P) this.body.appendChild(this.wQ.d)
    };
    ix.prototype.af$ = function(w) {
        var o = this.PE,
            Q = this.vB.PE.U;
        if (w.target == o.zg) o.zg.G(!o.zg.T());
        if (o.zg.m0()) {
            var K = o.YH,
                b = o.b7,
                R = Q.j,
                X = Q.D;
            if (w.target == o.b7) {
                K = o.b7;
                b = o.YH;
                R = Q.D;
                X = Q.j
            }
            var h = K.T() / (K.C7() == "%" ? 100 : R);
            h *= b.C7() == "%" ? 100 : X;
            b.G(h)
        }
        var e = [];
        for (var Z in o)
            if (o[Z] != o.zg && o[Z] != o.Qg) {
                var h = o[Z].T();
                if ((o[Z] == o.b7 || o[Z] == o.YH) && h == 0) {
                    h = .1;
                    o[Z].G(h)
                }
                if (o[Z] == o.b7 && o[Z].C7() == "px") h /= Q.D / 100;
                if (o[Z] == o.YH && o[Z].C7() == "px") h /= Q.j / 100;
                e.push(h)
            } var P = new fB(e[0], e[1]);
        if (w.target == o.Qg) {
            this.Aa({
                qv: "ctyp",
                aV: o.Qg.T()
            })
        } else if (w.target == o.Hj || w.target == o.p8) {
            this.Aa({
                qv: "cen",
                Ut: P
            })
        } else {
            var J = this.vB.PE.M1.clone(),
                i = J.clone(),
                k = Math.atan2(-J.k, J.K);
            i.translate(-P.x, -P.y);
            i.rotate(-k);
            var $ = new dj(i.K, i.k, i.Lu, i.TX, 0, 0);
            $.MF();
            i.concat($);
            i.concat(new dj(e[2] / 100, Math.tan(e[5] * Math.PI / 180), Math.tan(e[6] * Math.PI / 180), e[3] / 100, 0, 0));
            i.rotate(-e[4] * Math.PI / 180);
            i.translate(P.x, P.y);
            this.vB.PE.M1 = i;
            this.Aa({
                qv: "trn",
                PE: i,
                Jd: this.PE.Oj.T()
            })
        }
    };
    ix.prototype.a0m = function(w) {
        this.Aa({
            qv: "wrp",
            W1: this.iO.T()
        })
    };
    ix.prototype.a5a = function(w) {
        this.Aa({
            qv: "switchWarp"
        })
    };
    ix.prototype.rs = function(w) {
        this.Aa({
            qv: this.wD.T() ? "commit" : "cancel"
        })
    };
    ix.prototype.Aa = function(w) {
        w.e = _.S.mD;
        w.f = this.f;
        var o = new Y(_.E.N, !0);
        o.data = w;
        this.A(o)
    };
    ix.prototype.ag = function() {
        var w = this.PE;
        for (var o in w) w[o].v();
        _.sb(w.b7, w.YH);
        this.wD.v();
        this.iO.v();
        this.wQ.v()
    };
    ix.Xv = function() {
        return [{
            name: [5, 9],
            qB: "Shift+Alt+Ctrl + T",
            S$: !0
        }, {
            name: [12, 38]
        }, {
            name: [2, 5]
        }, {
            name: [24, 4]
        }, {
            name: [2, 9]
        }, {
            name: [11, 9],
            l: function(w) {
                if (w == null || w.u.length != 1) return {
                    l: !1
                };
                var o = w.t[w.u[0]];
                return {
                    l: o.add.TySh == null && !o.xI()
                }
            },
            S$: !0
        }, {
            name: ["VAR0 90\xB0 \u21BB", [2, 5]]
        }, {
            name: ["VAR0 90\xB0 \u21BA", [2, 5]]
        }, {
            name: ["VAR0 180\xB0", [2, 5]]
        }, {
            name: [
                [2, 6],
                [22, 4, 2]
            ]
        }, {
            name: [
                [2, 6],
                [22, 4, 3]
            ]
        }]
    };
    ix.ty = function(w) {
        if (w == null) w = z.Go;
        return [{
            b: _.E.z,
            f: w,
            c: {
                e: "again"
            }
        }, {
            b: _.E.N,
            c: {
                e: _.S.Lz,
                f: w,
                NC: {
                    mK: 3
                }
            }
        }, {
            b: _.E.N,
            c: {
                e: _.S.Lz,
                f: w,
                NC: {
                    mK: 4
                }
            }
        }, {
            b: _.E.N,
            c: {
                e: _.S.Lz,
                f: w,
                NC: {
                    mK: 2
                }
            }
        }, {
            b: _.E.N,
            c: {
                e: _.S.Lz,
                f: w,
                NC: {
                    mK: 1
                }
            }
        }, {
            b: _.E.N,
            c: {
                e: _.S.Lz,
                f: w,
                NC: {
                    mK: -1
                }
            }
        }, {
            b: _.E.z,
            f: w,
            c: {
                e: "rot",
                Wp: [2, 5],
                F: -Math.PI / 2
            }
        }, {
            b: _.E.z,
            f: w,
            c: {
                e: "rot",
                Wp: [2, 5],
                F: -3 * Math.PI / 2
            }
        }, {
            b: _.E.z,
            f: w,
            c: {
                e: "rot",
                Wp: [2, 5],
                F: Math.PI
            }
        }, {
            b: _.E.z,
            f: w,
            c: {
                e: "scl",
                Wp: [
                    [2, 6],
                    [22, 4, 2]
                ],
                F: new fB(-1, 1)
            }
        }, {
            b: _.E.z,
            f: w,
            c: {
                e: "scl",
                Wp: [
                    [2, 6],
                    [22, 4, 3]
                ],
                F: new fB(1, -1)
            }
        }]
    };

    function eC() {
        ix.call(this)
    }
    eC.prototype = new ix(!0);

    function et() {
        ix.call(this)
    }
    et.prototype = new ix(!0);

    function dL() {
        ix.call(this, !1, !0)
    }
    dL.prototype = new ix(!0);

    function e9() {
        cQ.call(this);
        var w = this.f6 = [new bQ([12, 36], ["Rigid", [15, 10, 0],
            [24, 4]
        ]), new bQ([12, 74], [
            [19, 8, 0],
            [19, 8, 1],
            [19, 8, 2]
        ]), new fN([7, 4], 0, 100, "px"), new dS("Show Mesh"), new dQ("\u25BC", null, null, !0), new dQ("\u25B2", null, null, !0)];
        for (var M = 0; M < w.length; M++) {
            var o = w[M];
            o.parent = this;
            this.body.appendChild(o.d);
            o.s(M < 4 ? _.E.h : "click", this.aff, this)
        }
        this.wD = new dJ;
        this.wD.s("click", this.rs, this);
        this.body.appendChild(this.wD.d)
    }
    e9.prototype = new cQ;
    e9.prototype.ag = function() {
        var w = this.f6;
        for (var M = 0; M < 4; M++) w[M].v();
        this.wD.v()
    };
    e9.prototype.f5 = function(w) {
        var w = w.pO;
        for (var M = 0; M < 4; M++) this.f6[M].G(w[M])
    };
    e9.prototype.aff = function(w) {
        var o = [];
        for (var M = 0; M < 4; M++) o[M] = this.f6[M].T();
        var Q = this.f6.indexOf(w.target);
        if (Q < 4) this.Aa({
            qv: "prm",
            pO: o
        });
        else this.Aa({
            qv: "moveDepth",
            aeY: Q == 5
        })
    };
    e9.prototype.rs = function(w) {
        this.Aa({
            qv: this.wD.T() ? "commit" : "cancel"
        })
    };
    e9.prototype.Aa = function(w) {
        w.e = _.S.mD;
        w.f = this.f;
        var o = new Y(_.E.N, !0);
        o.data = w;
        this.A(o)
    };

    function iu() {
        cv.call(this);
        this.d = _.B("div", "cmanager");
        window.alert = function(K, b) {
            this.Hl(K, b);
            console.log("Alert: " + K)
        }.bind(this);
        window.onblur = function(K) {
            var b = this;
            b.QJ()
        }.bind(this);
        this.i7 = 0;
        this.Y7 = 0;
        this.vS = [];
        this.fW = {};
        this.tT = _.B("div", "alertcont");
        this.d.appendChild(this.tT);
        this.aj9 = _.B("div", "alertcont");
        this.d.appendChild(this.aj9);
        this.UY = _.B("div", "alertcont");
        this.a9W = 0;
        this.sR = -1;
        this.akd = null;
        this.Fu = null;
        var w = this.al$ = _.B("div", "alertpanel");
        w.setAttribute("style", "padding:0.7em 1em 0.1em 1em;");
        this.UY.appendChild(w);
        var o = this.Q0 = _.B("input");
        o.setAttribute("type", "text");
        o.setAttribute("style", "background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
        o.addEventListener("input", this.al5.bind(this), !1);
        o.addEventListener("keydown", this.a4f.bind(this), !1);
        w.appendChild(o);
        var Q = this.a0b = _.B("div", "contextpanel scrollable");
        Q.setAttribute("style", "text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
        Q.addEventListener("click", this.a6i.bind(this), !1);
        w.appendChild(Q);
        _._v(document.body, this.aiz.bind(this))
    }
    iu.prototype = new cv;
    iu.prototype.jf = function() {
        if (_.wH(this.UY)) this.d.removeChild(this.UY)
    };
    iu.prototype.amo = function(w, o) {
        var Q = this.akd = [];
        for (var M = 0; M < fo.data.length; M++) {
            var K = fo.data[M],
                b = [b6.get(K.name)],
                R = [M];
            iu.kc(K.items, b, R, Q, w, o)
        }
        var X = hF.VW;
        for (var M = 0; M < X.length; M += 3) {
            Q.push([
                ["Tools", b6.get(X[M])],
                [-1, X[M + 2]]
            ])
        }
        this.d.appendChild(this.UY);
        var h = this.Q0;
        h.focus();
        h.select();
        this.KM()
    };
    iu.prototype.al5 = function(w) {
        this.sR = -1;
        this.KM()
    };
    iu.prototype.KM = function() {
        var w = this.Q0.value.toLowerCase().trim().replace(/  +/g, " "),
            o = this.akd,
            Q = [],
            K = [],
            b = w.split(" ");
        if (w != "")
            for (var M = 0; M < o.length; M++) {
                var R = o[M][0],
                    X = [],
                    h = 0;
                for (var e = 0; e < R.length; e++) X[e] = -1;
                for (var Z = 0; Z < b.length; Z++)
                    for (var e = 0; e < R.length; e++) {
                        var P = R[e].toLowerCase().indexOf(b[Z]);
                        if (P != -1) {
                            X[e] = [P, P + b[Z].length];
                            h++;
                            break
                        }
                    }
                if (h == b.length) {
                    Q.push(o[M]);
                    K.push(X)
                }
            }
        var J = [],
            i = this.a0b;
        _.Tk(i);
        for (var M = 0; M < Q.length; M++) {
            var k = Q[M][0],
                P = K[M],
                $ = "enab",
                j = "";
            if (M == this.sR) $ += " active";
            var n = _.B("div", $);
            J.push(n);
            i.appendChild(n);
            for (var e = 0; e < k.length; e++) {
                var y = P[e],
                    V = b[e],
                    O = k[e];
                if (y != -1) O = O.slice(0, y[0]) + "<span style=\"color:black\">" + O.slice(y[0], y[1]) + "</span>" + O.slice(y[1]);
                j += O;
                if (e < k.length - 1) j += " \uFE65 "
            }
            n.innerHTML = j
        }
        this.Fu = [Q, J]
    };
    iu.prototype.a4f = function(w) {
        var o = E.Cn,
            Q = w.code;
        if (o(Q, E.EI)) this.jf();
        var K = o(Q, E.Vy),
            b = o(Q, E.lW),
            R = o(Q, E.$g);
        if (K || b) {
            this.sR = Math.max(0, Math.min(this.Fu[0].length - 1, this.sR + (K ? -1 : 1)));
            this.KM()
        }
        if (R && this.sR != -1) this.u5(this.sR)
    };
    iu.kc = function(w, o, Q, K, b, R) {
        for (var M = 0; M < w.length; M++) {
            var X = w[M],
                h = o.slice(0),
                e = Q.slice(0),
                Z = b6.get(X.name);
            if (X.l) {
                var P = X.l(b, R, M);
                if (P.Ow) Z = P.Ow;
                if (P.l == !1) continue
            }
            h.push(Z);
            e.push(M);
            if (X.sub) iu.kc(X.sub, h, e, K, b, R);
            else K.push([h, e])
        }
    };
    iu.prototype.a6i = function(w) {
        var o = w.target;
        if (o.tagName.toLowerCase() == "span") o = o.parentNode;
        var Q = this.Fu[1].indexOf(o);
        if (Q != -1) this.u5(Q)
    };
    iu.prototype.u5 = function(w) {
        var o = this.Fu[0][w][1];
        if (o[0] == -1) {
            var Q = new Y(_.E.N, !0);
            Q.data = {
                e: _.S.Lz,
                f: o[1]
            };
            this.A(Q)
        } else {
            var K = fo.data[o[0]].Cz[o[1]];
            for (var M = 2; M < o.length; M++) K = K.sub[o[M]];
            var b = new Y(K.b, !0);
            b.f = K.f;
            b.data = K.c;
            this.A(b)
        }
        this.jf()
    };
    iu.prototype.VJ = function(w, o) {
        this.i7 = w;
        this.Y7 = o;
        this.a0b.style["max-height"] = o - 120 + "px"
    };
    iu.prototype.amv = function(w) {
        var o = _.B("div", "alertpanel");
        o.textContent = b6.get(w);
        this.tT.appendChild(o);
        this.fW[JSON.stringify(w)] = o
    };
    iu.prototype.a0_ = function(w) {
        var o = this.fW[JSON.stringify(w)];
        this.tT.removeChild(o);
        delete this.fW[JSON.stringify(w)]
    };
    iu.prototype.Hl = function(w, o) {
        var Q = this.aj9;
        for (var M = 0; M < Q.children.length; M++)
            if (Q.children[M].textContent == w) return;
        var K = _.B("div", "alertpanel tpanel");
        K.textContent = w;
        K.setAttribute("style", "opacity:0.5; transform:scale(0.9)\t");
        Q.appendChild(K);
        if (o == null) o = 1500;
        var b = o,
            R = Math.max(Date.now() + b, this.a9W + b);
        setTimeout(function() {
            K.setAttribute("style", "transform:scale(1); opacity:1;")
        }, 10);
        setTimeout(function() {
            Q.setAttribute("style", "margin-top: -3.6em; transform: translateY(3.6em);")
        }, R - Date.now() - 30);
        setTimeout(function() {
            Q.removeChild(Q.firstChild);
            Q.setAttribute("style", "transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")
        }, R - Date.now());
        this.a9W = R
    };
    iu.prototype.aiz = function(w) {
        var o = this.vS;
        for (var M = o.length - 1; M >= 0; M--) {
            var Q = o[M],
                K = w.target;
            while (K != null) {
                if (K == Q.d) {
                    this.QJ(Q);
                    return
                }
                K = K.parentNode
            }
        }
        this.QJ();
        var b = w.target;
        while (b != this.UY && b != document.body) b = b.parentNode;
        if (b != this.UY) this.jf()
    };
    iu.prototype.QJ = function(w) {
        var o = this.vS;
        for (var M = 0; M < o.length; M++) {
            if (w && w.a6a(o[M])) continue;
            var Q = o[M].d;
            Q.style.height = "auto";
            _.Xt(Q, "scrollable");
            this.d.removeChild(Q);
            o.splice(M, 1);
            M--
        }
    };
    iu.prototype.a3A = function(w) {
        this.QJ(w.wh);
        var o = w.wh,
            Q = o.d;
        if (this.vS.indexOf(o) != -1) return;
        this.vS.push(o);
        this.d.appendChild(o.d);
        var K = this.i7,
            b = this.Y7,
            R = w.x,
            X = w.y,
            h = this.d.getBoundingClientRect(),
            e = o instanceof ag;
        if (e || w.yk) {
            var Z = o.JP(),
                P = o.f$();
            if (e) Z = Math.min(Z, 200);
            if (X + P < b) {
                R = Math.min(R, K - Z - 5)
            } else {
                if (R + Z < K) {
                    X = Math.min(X, b - P - 5)
                } else if (P < X) {
                    X = X - P - 2;
                    R = Math.min(R, K - Z - 5)
                } else {
                    R = R - Z;
                    X = Math.min(X, b - P - 5)
                }
            }
            if (w.a1M) X = Math.max(2, w.y - P - 2);
            if (w.agj) X = w.y
        }
        X = Math.max(2, X);
        var top = Math.round(X - h.y + this.d.offsetTop);
        Q.style.position = "absolute";
        Q.style["z-index"] = 10;
        Q.style.left = Math.round(R) + "px";
        Q.style.top = top + "px";
        if (X + o.f$() > b - 3) {
            Q.style.height = b - 3 - X + "px";
            _.Ka(Q, "scrollable")
        }
    };
    iu.prototype.Jf = function(w) {
        var o = w.wh,
            Q = this.vS.indexOf(o);
        if (Q == -1) return;
        this.vS.splice(Q, 1);
        var K = o.d;
        this.d.removeChild(o.d)
    };
    iu.prototype.au = function() {
        var w = this.vS;
        return w.length == 0 ? null : w[w.length - 1]
    };
    iu.prototype.a9H = function() {
        this.Jf({
            wh: this.au()
        })
    };

    function c7() {
        cv.call(this);
        this.d = _.B("div", "confbar")
    }
    c7.prototype = new cv;
    c7.prototype.ad9 = function(w) {
        w.parent = this;
        _.Tk(this.d);
        this.d.appendChild(w.d)
    };

    function eP(w) {
        cv.call(this);
        eP.fh = w;
        this.AL = null;
        this.dp = _.B("input", "");
        this.dp.setAttribute("type", "file");
        this.dp.setAttribute("multiple", "");
        this.dp.addEventListener("change", function(o) {
            this.ny(o.target.files, null, this.$K, null);
            this.$K = null
        }.bind(this), !1);
        document.body.appendChild(this.dp);
        this.dp.setAttribute("style", "display:none");
        this.abW = [];
        this.wL = !1;
        this.a1n = {};
        this.$K = null
    }
    eP.prototype = new cv;
    eP.fh = null;
    eP.alp = function(w) {
        try {
            navigator.clipboard.write([new ClipboardItem(Object.defineProperty({}, w.type, {
                value: w,
                enumerable: !0
            }))])
        } catch (b6) {
            console.error(b6, b6.message)
        }
    };
    eP.b2 = function(w, o) {
        navigator.clipboard.read().then(function(Q) {
            for (var M = 0; M < Q.length; M++) {
                try {
                    var K = Q[M];
                    for (var b = 0; b < K.types.length; b++) {
                        var R = K.types[b];
                        if (R != "image/png") continue;
                        K.getType(R).then(function(X) {
                            new Response(X).arrayBuffer().then(function(h) {
                                eP.fh({
                                    name: "image.png"
                                }, h, w, o)
                            })
                        })
                    }
                } catch (b6) {
                    console.error(b6, b6.message)
                }
            }
        }).catch(function(Q) {
            alert("You did not give Photopea permissions to access the clibpoard. (" + Q.message + ")")
        })
    };
    eP.aem = function(w) {
        navigator.permissions.query({
            name: "clipboard-read"
        }).then(function(o) {
            w(o.state)
        })
    };
    eP.prototype.kC = function(w) {
        if (w == null) w = [23, 5];
        var o = JSON.stringify(w),
            Q = this.a1n;
        if (Q[o] == null) Q[o] = 0;
        if (Q[o] == 0) {
            var K = new Y(_.E.N, !0);
            K.data = {
                e: _.S.JI,
                Gx: w
            };
            this.A(K)
        }
        Q[o]++
    };
    eP.prototype.kX = function(w) {
        if (w == null) w = [23, 5];
        var o = JSON.stringify(w),
            Q = this.a1n;
        if (Q[o] == null) Q[o] = 0;
        Q[o]--;
        if (Q[o] == 0) {
            var K = new Y(_.E.N, !0);
            K.data = {
                e: _.S.cP,
                Gx: w
            };
            this.A(K)
        }
    };
    eP.prototype.a7M = function(w, o) {
        var Q = this.dp;
        if (o) Q.setAttribute("accept", o);
        else Q.removeAttribute("accept");
        var K = document.createEvent("MouseEvents");
        K.initMouseEvent("click", !0, !0, document.defaultView, 1, 0, 0, 0, 0, !1, !1, !1, !1, 0, null);
        Q.dispatchEvent(K);
        this.$K = w
    };
    eP.prototype.gC = function(w) {
        if (w.url.indexOf("photopea.com#i") != -1 || w.url.indexOf("photopea.com/#i") != -1) {
            this.cq(w.url.split("#i").pop());
            return
        }
        this.abW.push(w);
        this.NA()
    };
    eP.prototype.NA = function() {
        var w = this.abW;
        if (w.length == 0 || this.wL) return;
        this.wL = !0;
        var o = w.shift();
        this.kC();
        if (o.q7 == null) o.q7 = {};
        var Q = new XMLHttpRequest;
        Q.X2 = o;
        var K = o.url;
        if (o.$x) K = "mirror.php?url=" + encodeURIComponent(K);
        Q.open("GET", K);
        if (o.ij)
            for (var b in o.ij) Q.setRequestHeader(b, o.ij[b]);
        Q.responseType = "arraybuffer";
        Q.onload = this.W7.bind(this);
        Q.send()
    };
    eP.prototype.ny = function(w, o, Q, K) {
        for (var M = 0; M < w.length; M++) {
            this.kC();
            var b = w[M],
                R = new FileReader;
            R.X2 = b;
            R.X2.qf = Q;
            R.X2.E_ = K;
            R.akA = o;
            R.onload = this.W7.bind(this);
            R.onerror = function(X) {
                this.kX()
            }.bind(this);
            R.readAsArrayBuffer(b)
        }
        this.dp.value = null
    };
    eP.prototype.abA = function(w, o, Q) {
        this.kC("Saving ...");
        this.AL = o;
        setTimeout(Q.bind({
            qj: w,
            caller: this
        }), 50)
    };
    eP.MI = function(w) {
        var o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
            Q = new Uint8Array(w),
            K = Q.length,
            b = K % 3,
            R = K - b,
            X = [],
            h = 0,
            e = 0,
            Z = 0;
        for (var M = 0; M < R; M += 3) {
            h = Q[M];
            e = Q[M + 1];
            Z = Q[M + 2];
            X.push(o[h >> 2] + o[(h & 3) << 4 | e >> 4] + o[(e & 15) << 2 | Z >> 6] + o[Z & 63])
        }
        if (b == 1) {
            h = Q[R];
            X.push(o[h >> 2] + o[(h & 3) << 4] + "==")
        }
        if (b == 2) {
            h = Q[R];
            e = Q[R + 1];
            X.push(o[h >> 2] + o[(h & 3) << 4 | e >> 4] + o[(e & 15) << 2] + "=")
        }
        var P = X.join("");
        return P
    };
    eP.amJ = function(w, o) {
        var Q = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
            K = new Uint8Array(64),
            h = 0,
            e = 0,
            Z = 0,
            J = 0;
        for (var M = 0; M < 64; M++) K[M] = Q.charCodeAt(M);
        var b = new Uint8Array(w),
            R = o % 3,
            X = o - R,
            P = new Uint8Array(Math.floor(o / 3) * 4 + (R == 0 ? 0 : 4));
        for (var M = 0; M < X; M += 3) {
            h = b[M];
            e = b[M + 1];
            Z = b[M + 2];
            P[J] = K[h >>> 2];
            P[J + 1] = K[(h & 3) << 4 | e >>> 4];
            P[J + 2] = K[(e & 15) << 2 | Z >>> 6];
            P[J + 3] = K[Z & 63];
            J += 4
        }
        if (R == 1) {
            h = b[X];
            P[J] = K[h >> 2];
            P[J + 1] = K[(h & 3) << 4];
            P[J + 2] = 61;
            P[J + 3] = 61
        }
        if (R == 2) {
            h = b[X];
            e = b[X + 1];
            P[J] = K[h >> 2];
            P[J + 1] = K[(h & 3) << 4 | e >> 4];
            P[J + 2] = K[(e & 15) << 2];
            P[J + 3] = 61
        }
        return P
    };
    eP.prototype.W7 = function(w) {
        var o, Q = w.target.X2;
        if (w.target instanceof XMLHttpRequest) o = w.target.response;
        else o = w.target.result;
        eP.fh(Q, o, this, w.target.akA);
        this.kX();
        if (w.target instanceof XMLHttpRequest) {
            this.wL = !1;
            this.NA()
        }
    };
    eP.a7q = function(w) {
        var o = new XMLHttpRequest;
        o.open("POST", "https://api.imgur.com/3/image", !0);
        o.setRequestHeader("Authorization", "Client-ID 3ad80d2d9969219");
        o.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        o.setRequestHeader("Accept", "application/json");
        o.addEventListener("load", eP.a3V);
        o.send("type=base64&image=" + encodeURIComponent(eP.MI(w)));
        alert("Saving to Imgur ...", 4e3)
    };
    eP.a3V = function(w) {
        var o = JSON.parse(w.target.response);
        if (o.success) window.open(o.data.link, "Imgur")
    };
    eP.prototype.cq = function(w, o) {
        this.kC("Loading ...");
        var Q = new XMLHttpRequest;
        Q.responseType = "arraybuffer";
        Q.open("GET", "https://f000.backblazeb2.com/file/psdshared/" + w);
        Q.onload = this.a9b.bind(this);
        Q.send();
        eP.a7_ = Date.now();
        eP.aiZ = w;
        eP.aij = o ? w : null
    };
    eP.prototype.a9b = function(w) {
        var o = new Uint8Array(w.target.response);
        console.log(o.length, Date.now() - eP.a7_);
        for (var M = 0; M < o.length; M++) o[M] = 255 - o[M];
        o = pako.inflateRaw(o);
        var Q = JSON.parse(W.K1(o, 0, 2e3));
        eP.fh({
            name: Q.name,
            g9: eP.aij
        }, o.slice(2e3).buffer, this);
        this.kX("Loading ...");
        var K = new XMLHttpRequest;
        K.open("GET", "/papi/img/update.php?act=0&id=" + eP.aiZ + "&rnd=" + Math.random());
        K.send()
    };
    eP.prototype.anj = function(w, o) {
        if (!(w instanceof ArrayBuffer)) throw "e";
        w = new Uint8Array(w);
        var Q = new Uint8Array(w.length + 2e3),
            h = "";
        for (var M = 0; M < 2e3; M++) Q[M] = 32;
        W.oi(JSON.stringify({
            name: o
        }), Q, 0);
        Q.set(w, 2e3);
        w = Q;
        w = pako.deflateRaw(w);
        for (var M = 0; M < w.length; M++) w[M] = 255 - w[M];
        w = w.buffer;
        var K = w.byteLength,
            b = ~~(209e5 / 2);
        if (K > b) {
            return
        }
        var R = sha1(w),
            X = [];
        for (var M = 0; M < 20; M++) {
            var e = parseInt(R.slice(M * 2, M * 2 + 2), 16);
            X.push(e);
            h += String.fromCharCode(e)
        }
        var Z = btoa(h).replace(/\+/g, "-").replace(/\//g, "_").slice(0, 8);
        if (eP.a3Y(Z)) {
            console.log("file already exists");
            window.open("https://www.photopea.com#i" + Z);
            return
        }
        this.kC("Publishing ...");
        var P = new XMLHttpRequest;
        P.U4 = [w, R, Z];
        P.open("GET", "/papi/img/publish.php?rnd=" + Math.random());
        P.onload = this.aiO.bind(this);
        P.send()
    };
    eP.a3Y = function(w) {
        try {
            var o = new XMLHttpRequest;
            o.open("HEAD", "https://f000.backblazeb2.com/file/psdshared/" + w, !1);
            o.send();
            if (o.status == 200) return !0
        } catch (b6) {
            return !1
        }
        return !1
    };
    eP.prototype.aiO = function(w) {
        var o = JSON.parse(w.target.response),
            Q = w.target.U4,
            K = new XMLHttpRequest;
        K.open("POST", o.uploadUrl);
        K.setRequestHeader("Authorization", o.authorizationToken);
        K.setRequestHeader("X-Bz-File-Name", Q[2]);
        K.setRequestHeader("Content-Type", "b2/x-auto");
        K.setRequestHeader("X-Bz-Content-Sha1", Q[1]);
        K.send(new Blob([Q[0]]));
        K.onload = this.ah9.bind({
            hf: this,
            U4: Q
        })
    };
    eP.prototype.ah9 = function(w) {
        this.hf.kX("Publishing ...");
        window.open("https://www.photopea.com#i" + this.U4[2])
    };
    eP.save = function(w, o) {
        var Q = new Uint8Array(w),
            K = document.createElement("a");
        if (typeof K.download == "string") {
            var b = new Blob([Q]),
                R = window.URL.createObjectURL(b);
            K.href = R;
            K.download = o;
            document.body.appendChild(K);
            K.click();
            document.body.removeChild(K)
        } else {
            var X = "data:application/octet-stream;base64," + eP.MI(w);
            window.open(X)
        }
    };

    function fY() {
        this.size = 16;
        this.data = v.$(16)
    }
    fY.prototype.JL = function(w, o) {
        if (w + o <= this.size) return;
        var Q = this.size;
        while (w + o > this.size) this.size *= 2;
        var K = v.$(this.size);
        for (var M = 0; M < Q; M++) K[M] = this.data[M];
        this.data = K
    };
    var fm = {};
    fm.z3 = function(w, o, Q) {
        var K = o.split(":"),
            b = K[0],
            R = null;
        if (K.length == 2) {
            if (b == "jpg" || b == "webp") R = [Math.round(100 * parseFloat(K[1]))];
            if (b == "psd") R = [!0, !0]
        }
        var X = ip.P2(w, b.toUpperCase(), null, null, R, Q);
        return X
    };
    fm.an9 = function(w, o, Q) {
        var K = w.X_(),
            b = o[0];
        return fm.z3(w, b, Q)
    };
    fm.aav = function() {
        var w = this.qj,
            o = this.caller,
            Q = w.q7.hi,
            K = Q.formats,
            b, R;
        w.X_();
        var X = Date.now();
        if (Q.version == 1) {
            var h = [],
                e = 0,
                P = 0;
            for (var M = 0; M < K.length; M++) {
                var Z = fm.z3(w, K[M], o.AL);
                h.push(Z);
                e += Z.byteLength
            }
            b = new Uint8Array(2e3 + e);
            var J = "{ \"source\": " + JSON.stringify(w.PU) + ", \"versions\": [\n";
            for (var M = 0; M < K.length; M++) {
                var i = new Uint8Array(h[M]);
                J += "\t{\"format\": \"" + K[M].split(":")[0] + "\", \"start\": " + P + ", \"size\": " + i.length + " }" + (M + 1 < K.length ? ", " : "") + "\n";
                b.set(i, 2e3 + P);
                P += h[M].byteLength
            }
            J += "] }";
            var k = W.oi(J, b, 0);
            for (var M = k; M < 2e3; M++) b[M] = 32;
            R = "application/octet-stream"
        } else {
            var $ = new fY,
                n = 0,
                j = "",
                y = encodeURIComponent;
            j = "p=" + y("{ \"source\": " + JSON.stringify(w.PU) + ", \"versions\": [");
            W.qH($, n, j);
            n += j.length;
            for (var M = 0; M < K.length; M++) {
                j = y(" {\"format\": \"" + K[M].split(":")[0] + "\", \"data\": \"");
                W.qH($, n, j);
                n += j.length;
                var Z = fm.z3(w, K[M], o.AL),
                    V = eP.amJ(Z, Z.byteLength),
                    k = V.length;
                $.JL(n, k);
                for (var O = 0; O < k; O++) {
                    $.JL(n, 3);
                    var S = V[O];
                    if (S == 43) {
                        $.data[n] = 37;
                        $.data[n + 1] = 50;
                        $.data[n + 2] = 66;
                        n += 3
                    } else if (S == 47) {
                        $.data[n] = 37;
                        $.data[n + 1] = 50;
                        $.data[n + 2] = 70;
                        n += 3
                    } else if (S == 61) {
                        $.data[n] = 37;
                        $.data[n + 1] = 51;
                        $.data[n + 2] = 68;
                        n += 3
                    } else {
                        $.data[n] = S;
                        n++
                    }
                }
                j = y("\" }" + (M + 1 < K.length ? ", " : ""));
                W.qH($, n, j);
                n += j.length
            }
            j = y("] }");
            W.qH($, n, j);
            n += j.length;
            b = $.data.slice(0, n);
            R = "application/x-www-form-urlencoded"
        }
        var G = new XMLHttpRequest;
        G.open("POST", Q.url, !0);
        if (R) G.setRequestHeader("Content-Type", R);
        G.addEventListener("load", fm.acv.bind(this));
        G.send(new Blob([b.buffer]))
    };
    fm.acv = function(w) {
        this.caller.kX("Saving ...");
        var o = w.target.response;
        if (o.charAt(0) == "{") {
            o = JSON.parse(o);
            if (o.newSource) this.qj.PU = o.newSource;
            if (o.message) alert(o.message, 2e3);
            if (o.script) {
                var Q = new Y(_.E.N, !0);
                Q.data = {
                    e: _.S.kw,
                    rt: o.script
                };
                this.caller.A(Q)
            }
        } else alert("Saved. Response: " + o, 1500)
    };
    fm.a3z = function(w) {
        var o = w.lh.WS,
            Q = fm.z3(w, o);
        ax.EH(function() {
            var K = new XMLHttpRequest,
                b = "https://www.googleapis.com/upload/drive/v3/files/" + w.lh.file.id + "?uploadType=media" + "&" + ax._I();
            K.open("PATCH", b, !0);
            K.addEventListener("load", function(R) {
                var X = JSON.parse(R.target.response);
                alert(X.name + " updated")
            });
            K.send(Q);
            alert("Saving \"" + w.lh.file.name + "\" to Google Drive ...")
        })
    };
    fm.fh = function(w, o, Q, K) {
        if (window.location.href.indexOf("photopea.com") == -1) fm.Dk(w, o, Q, K);
        else {
            try {
                fm.Dk(w, o, Q, K)
            } catch (b6) {
                if (b6 == "low_ram") {} else {
                    var b = "Error. Please, send your file to support@photopea.com and we will solve it.";
                    if (ip.jF(o) == "eps") b = "We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
                    _.Hl(b, 1e4)
                }
            }
        }
    };
    fm.Dk = function(w, o, Q, K) {
        var b;
        if (w.name) b = w.name.split(".")[0];
        else {
            if (w.url.substring(0, 5) == "data:" || w.url.indexOf("googleapis") != -1) b = "image";
            else b = w.url.substring(w.url.lastIndexOf("/") + 1).split(".")[0];
            b = b.slice(0, 50)
        }
        var R = w.name ? w.name : w.url,
            X = new Uint8Array(o),
            h = ip.jF(o),
            e = window.ga;
        if (Math.random() < .25 && e && h != null && ip.pR(h)) e("send", "event", "Formats", h);
        if (h == null) h = W.Ui(X, 0, 4);
        if (R && R.toLowerCase().endsWith(".raw")) {
            var Z = new Y(_.E.N, !0);
            Z.data = {
                e: _.S.QH,
                hX: "importraw",
                gH: o,
                YG: R.split("/").pop()
            };
            Q.A(Z);
            return
        } else if (h == "json") {
            var P = "";
            for (var M = 0; M < X.length; M++) P += String.fromCharCode(X[M]);
            P = decodeURIComponent(escape(P));
            alert("Unknown JSON file opened. See the content in the console.", 5e3);
            console.log(JSON.parse(P));
            return
        }
        if (h == "html") {
            var P = W.K1(X, 0, X.length),
                J = new DOMParser,
                i = J.parseFromString(P, "text/html"),
                k = i.getElementsByTagName("meta");
            for (var M = 0; M < k.length; M++) {
                var $ = k[M],
                    n = $.getAttribute("property"),
                    j = $.getAttribute("content"),
                    y = null;
                if (n == "og:image") y = j;
                if (n == null && j && j.startsWith("0;url=/imgres?")) {
                    var V = j.slice(14).split("&");
                    for (var O = 0; O < V.length; O++)
                        if (V[O].startsWith("imgurl")) y = decodeURIComponent(V[O].slice(7))
                }
                if (y == null) continue;
                var Z = new Y(_.E.N, !0);
                Z.data = {
                    e: _.S.YU,
                    pO: {
                        url: y,
                        $x: !0,
                        qf: w.qf
                    }
                };
                Q.A(Z)
            }
            return
        }
        if (ip.pR(h)) {
            var S, G = ip.pR(h);
            if (w.qf != null && "jpg png gif pdf svg psd".split(" ").indexOf(h) != -1) {
                var Z = new Y(_.E.N, !0);
                Z.data = {
                    e: _.S.Pb,
                    target: w.qf,
                    cn: w.E_,
                    xN: o,
                    xv: b
                };
                Q.A(Z);
                return
            }
            if (G.Jh) {
                S = new fb(b + (h == "psd" ? "" : "-" + h) + ".psd");
                S._M = h;
                S.g9 = w.g9;
                G.p5(o, S)
            } else {
                var D = G.p5(o);
                if (D[0].t33421 || D[0].t50706) {
                    v.raw.normalize(D[0], o);
                    console.log(D[0]);
                    var Z = new Y(_.E.N, !0);
                    Z.data = {
                        e: _.S.QH,
                        hX: "rawpea",
                        Cm: D[0]
                    };
                    Q.A(Z);
                    return
                }
                if (K) {
                    K(new Uint8Array(D[0].data), D[0].Ip);
                    return
                }
                S = ip.xX(b, D)
            }
            S.q7 = w.q7;
            S.PU = w.url;
            S.oJ = w.oJ;
            S.lh = w.lh;
            if (S.lh) S.lh.WS = h;
            if (S.t.length != 0) {
                var Z = new Y(_.E.N, !0);
                Z.data = {
                    e: w.qf == null ? _.S.fO : _.S.Pb,
                    target: w.qf,
                    cn: w.E_,
                    xN: S
                };
                Q.A(Z)
            }
            return
        }
        var q = new Y(_.E.N, !0);
        q.data = {
            e: _.S.Ou,
            gH: o,
            mN: w.name
        };
        var T = w instanceof File && w.anE != !0,
            Z = new Y(_.E.N, !0);
        Z.data = {
            e: _.S.UA,
            q7: "add",
            pO: null,
            d5: null,
            ak0: w.anE
        };
        if (h == "zip") {
            var L = Date.now(),
                N = UZIP.parse(o),
                F = "xml rels plist iwa db ds_store txt rtf".split(" ");
            for (var I in N) {
                var s = !1;
                for (var M = 0; M < F.length; M++)
                    if (I.toLowerCase().endsWith("." + F[M])) s = !0;
                if (I.startsWith("__MACOSX/") || N[I].length == 0) s = !0;
                if (s) continue;
                var u = I.split("/").pop();
                fm.fh({
                    name: u
                }, N[I].buffer, Q, K)
            }
        } else if (h == "jsx") {
            var P = W.K1(new Uint8Array(o));
            Z.data = {
                e: _.S.kw,
                rt: P
            };
            Q.A(Z)
        } else if (h == "otf") {
            if (T) Q.A(q);
            var g = Typr.parse(o);
            Z.data.pO = d5.us;
            for (var M = 0; M < g.length; M++) {
                Z.data.d5 = g[M];
                Q.A(Z)
            }
        } else if (h == "asl") {
            if (T) Q.A(q);
            var g = bA.DG(o);
            Z.data.pO = d5.$V;
            Z.data.d5 = g.EO;
            Q.A(Z);
            Z.data.pO = d5.cD;
            Z.data.d5 = g.Gz;
            Q.A(Z)
        } else if (h == "tpl") {
            var g = fw.DG(o);
            Z.data.pO = d5.IA;
            Z.data.d5 = {
                Pe: g.Pe,
                dg: g.dg,
                list: []
            };
            Q.A(Z);
            if (g.agg.length != 0) {
                Z.data.pO = d5.Ru;
                Z.data.d5 = g.agg;
                Q.A(Z)
            }
            if (g.Gz.length != 0) {
                Z.data.pO = d5.cD;
                Z.data.d5 = g.Gz;
                Q.A(Z)
            }
            Z.data.pO = d5.Y8;
            Z.data.d5 = g.list;
            Q.A(Z)
        } else {
            var U = "";
            for (var r in d5.ro)
                if (d5.ro[r][0] == h) U = r;
            if (U != "") {
                if (T) Q.A(q);
                Z.data.d5 = d5.ro[U][2].DG(o, R);
                Z.data.pO = U;
                Q.A(Z)
            } else alert("Unknown file format: " + JSON.stringify(h))
        }
    };

    function gK(w) {
        cv.call(this);
        this.K3 = gK.K3++;
        this.G8 = w;
        this.amf = this.ank.bind(this);
        this.a8t = this.ajI.bind(this);
        this.ajr = this.Yh.bind(this);
        this.a3I = this.afL.bind(this);
        this.a2O = this.amx.bind(this);
        this.ag7 = this.acx.bind(this);
        this.nw = 0;
        this.aeK = 0;
        this.xH = 0;
        this.d = _.B("div", "panelblock");
        this.$M = _.B("div", "block");
        this.ad = _.B("div", "collapsed");
        this.d.appendChild(this.$M);
        this.sr = -1;
        this.ko = !0;
        this.G0 = _.B("div", "panelhead");
        this.$M.appendChild(this.G0);
        this.mq(this.G0);
        this.mc = new dQ("\u2261");
        this.mc.d.setAttribute("style", "position:absolute; right:0;");
        this.mc.s("click", this.aap, this);
        this.WK = _.B("div", "");
        this.$M.appendChild(this.WK);
        this.YR = [];
        this.B$ = null;
        this.yr = null
    }
    gK.K3 = 0;
    gK.prototype = new cv;
    gK.prototype.aap = function(w) {
        var o = this.YR[this.sr].i5(),
            Q = w.currentTarget.d.getBoundingClientRect();
        o.v();
        o.parent = this;
        var K = new Y(_.E.N, !0);
        K.data = {
            e: _.S.Gj,
            wh: o,
            x: Q.left,
            y: Q.top + Q.height + 2
        };
        this.A(K)
    };
    gK.prototype.uM = function(w) {
        var o = this.$M,
            Q = this.G0,
            K = this.WK;
        if (_.wH(Q)) o.removeChild(Q);
        if (_.wH(K)) o.removeChild(K);
        if (w == 0) o.appendChild(Q);
        o.appendChild(K);
        this.xH = w
    };
    gK.Cr = function(w) {
        w.stopPropagation();
        w.preventDefault()
    };
    gK.prototype.ank = function(w) {
        var o = w.dataTransfer.types;
        if (o[1] != null && o[1] != this.K3 + "") return;
        gK.Cr(w);
        var A = w.currentTarget;
        if (w.target == A) _.Ka(A, "highlight")
    };
    gK.prototype.ajI = function(w) {
        gK.Cr(w);
        var A = w.currentTarget;
        if (w.target == A) _.Xt(A, "highlight")
    };
    gK.prototype.mq = function(w) {
        w.addEventListener("dragenter", this.amf, !1);
        w.addEventListener("dragleave", this.a8t, !1);
        w.addEventListener("dragover", gK.Cr, !1);
        w.addEventListener("drop", this.ajr, !1);
        w.addEventListener("dragstart", function(o) {
            o.dataTransfer.setData("Text", "--panel");
            o.dataTransfer.setData(this.K3 + "", "")
        }.bind(this), !1)
    };
    gK.prototype.Yh = function(w) {
        this.a8t(w);
        var o = null,
            A = w.currentTarget,
            Q = this.yM(A);
        if (A == this.WK && this.sr != -1) o = this.sr;
        else if (A == this.G0) o = null;
        else if (Q != -1) o = Q;
        var K = w.dataTransfer.getData("Text");
        if (K == "" || K.startsWith("http")) _.$k(w, this, o);
        else if (K == "--panel") {
            var b = _.m5(w, A),
                eh = this.YR,
                R = eh.slice(0),
                M = this.sr,
                X = Q == -1 ? eh.length : b.x < A.getBoundingClientRect().width / 2 ? Q : Q + 1;
            if (M == X || M + 1 == X || A == this.WK) return;
            var h = M < X ? X - 1 : X,
                e = eh[M];
            eh.splice(M, 1);
            eh.splice(h, 0, e);
            _.Tk(this.G0);
            for (var Z = 0; Z < eh.length; Z++) this.G0.appendChild(eh[Z].u8);
            this.pS(h);
            var P = [];
            for (var M = 0; M < eh.length; M++) P[M] = R.indexOf(eh[M]);
            var J = new Y("shuffleItems", !1);
            J.data = {
                a7Q: P
            };
            this.A(J)
        } else if (o != null && this instanceof hV) {
            var J = new Y(_.E.N, !0);
            J.data = {
                e: _.S.eC,
                abd: o
            };
            this.A(J)
        }
    };
    gK.prototype.R0 = function() {
        return null
    };
    gK.prototype.Y0 = function() {
        if (this.R0()) {
            this.yr = this.R0();
            this.WK.appendChild(this.yr)
        }
    };
    gK.prototype.ako = function() {
        if (this.yr) {
            this.WK.removeChild(this.yr);
            this.yr = null
        }
    };
    gK.prototype.yM = function(w) {
        var o = this.YR;
        for (var M = 0; M < o.length; M++)
            if (o[M].u8 == w) return M;
        return -1
    };
    gK.prototype.MN = function() {
        for (var M = 0; M < this.YR.length; M++) this.YR[M].HI.zC()
    };
    gK.prototype.OY = function() {
        var w = new fB(0, 0);
        for (var M = 0; M < this.YR.length; M++) {
            var o = this.YR[M].OY();
            w.x = Math.max(w.x, o.x);
            w.y = Math.max(w.y, o.y)
        }
        return w
    };
    gK.prototype.Sy = function() {
        return this.sr
    };
    gK.prototype.DH = function() {
        if (this.ko) return;
        this.ko = !0;
        this.d.removeChild(this.ad);
        this.d.appendChild(this.$M)
    };
    gK.prototype.collapse = function() {
        if (!this.ko) return;
        this.ko = !1;
        this.d.appendChild(this.ad);
        this.d.removeChild(this.$M)
    };
    gK.prototype.ac8 = function() {
        return 26 + this.WK.getBoundingClientRect().height
    };
    gK.prototype.VJ = function(w, o) {
        this.G0.setAttribute("style", "max-width: " + w + "px");
        var Q = 0;
        if (this.xH == 0) {
            Q = this.G0.getBoundingClientRect().height;
            Q = Math.max(Q, 26)
        }
        if (this.sr != -1) this.YR[this.sr].VJ(w, o - Q);
        return o - Q
    };
    gK.prototype.yy = function(w, o) {
        if (this.sr != -1) this.YR[this.sr].yy(w, o)
    };
    gK.prototype.MV = function(w, o, Q) {
        this.YR[this.sr].MV(w, o, Q)
    };
    gK.prototype.LK = function(w) {
        this.ako();
        if (this.YR.indexOf(w) != -1) {
            this.pS(this.YR.indexOf(w));
            return
        }
        w.parent = this;
        this.YR.push(w);
        this.G0.appendChild(w.u8);
        w.u8.addEventListener("mouseover", this.a3I, !1);
        this.mq(w.u8);
        this.ad.appendChild(w.HI.d);
        w.HI.s("click", this.Ek, this);
        w.s("select", this.OF, this);
        w.s(_.E.PD, this.KT, this);
        this.pS(this.YR.length - 1)
    };
    gK.prototype.afL = function(w) {
        if (w.buttons == 0) return;
        var o = w.currentTarget,
            Q = o,
            M = 0;
        while ((Q = Q.previousSibling) != null) M++;
        this.aeK = M;
        o.addEventListener("mouseout", this.a2O, !1);
        this.nw = setTimeout(this.ag7, 700)
    };
    gK.prototype.amx = function(w) {
        var o = w.currentTarget,
            Q = o,
            M = 0;
        while ((Q = Q.previousSibling) != null) M++;
        o.removeEventListener("mouseout", this.a2O);
        clearTimeout(this.nw)
    };
    gK.prototype.acx = function(w) {
        this.A(new Y(_.E.HH, !1))
    };
    gK.prototype.anp = function(w) {
        return this.aeK
    };
    gK.prototype.Ha = function(M) {
        var w = new Y(_.E.PD, !1);
        w.data = {
            MU: M
        };
        this.A(w);
        var o = this.YR[M];
        this.YR.splice(M, 1);
        this.G0.removeChild(o.u8);
        this.ad.removeChild(o.HI.d);
        o.u8.setAttribute("class", "");
        o.HI.removeEventListener("click", this.Ek, this);
        o.HI.zC();
        o.removeEventListener("activate", this.OF);
        o.removeEventListener(_.E.PD, this.KT);
        var Q = this.sr;
        if (M < Q) Q--;
        else if (M == Q && M == this.YR.length) Q--;
        this.pS(Q);
        if (this.YR.length == 0) this.Y0()
    };
    gK.prototype.a33 = function() {
        return this.YR.length
    };
    gK.prototype.zZ = function() {
        if (this.YR.length != 0) this.YR[this.sr].zZ()
    };
    gK.prototype.pS = function(w, o) {
        if (o == null) o = !0;
        for (var M = 0; M < this.YR.length; M++) this.YR[M].u8.setAttribute("class", "");
        if (this.B$) this.WK.removeChild(this.B$);
        this.B$ = null;
        this.sr = w;
        if (w == -1) return;
        var Q = this.YR[this.sr];
        this.B$ = Q.aO;
        this.WK.appendChild(Q.aO);
        Q.u8.setAttribute("class", "active");
        if (!this.ko) {
            this.A(new Y("showFloat"));
            this.YR[w].HI.En()
        }
        if (o) this.A(new Y(_.E.h, !1));
        Q.ek();
        var K = this.mc.d;
        if (K.parentNode) this.G0.removeChild(K);
        if (Q.i5()) this.G0.appendChild(K);
        var b = new Y(_.E.N, !0);
        b.data = {
            e: _.S.WN
        };
        this.A(b)
    };
    gK.prototype.OF = function(w) {
        if (this.G8 && !this.G8.oT()) return;
        var M = this.YR.indexOf(w.currentTarget);
        this.pS(M)
    };
    gK.prototype.KT = function(w) {
        if (this.G8 && !this.G8.oT()) return;
        var M = this.YR.indexOf(w.currentTarget);
        this.Ha(M)
    };
    gK.prototype.Ek = function(w) {
        var o = this.YR.indexOf(w.currentTarget.parent);
        if (this.YR[o].HI.m0()) this.A(new Y("hideFloat"));
        else this.pS(o)
    };
    gK.prototype.af0 = function(w) {
        this.A(w)
    };

    function hV(w) {
        gK.call(this, w);
        this.i7 = 0;
        this.Y7 = 0;
        this.pt = null;
        this.Gm = _.B("div");
        this.Gm[_.LY("$y+[145/+AC7")](_.LY("$(0&\""), _.LY("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
        _.$y(this.G0, this.abE.bind(this));
        this.A4 = 0;
        this.afP = this.aja.bind(this);
        this.mq(this.WK);
        this.v1 = _.B("div", "intro");
        this.o7 = ["default;"];
        this.Wq = new _.Pj(this.WK);
        var o = _.B("ul");
        o.setAttribute("style", "margin:0;  padding:146px 0px 0 113px; font-size:1.8em;");
        this.v1.appendChild(o);
        this.Jq = [];
        var Q = [
            [11, 7],
            [1, 6], "Free Templates", "pea.psd", "milk.sketch"
        ];
        if (new Date().getDate() == 1 && new Date().getMonth() == 3) Q.push("Go to 2013");
        var K = _.B("li");
        for (var M = 0; M < Q.length; M++) {
            if (M == 3) {
                var b = new dQ("Demo: ");
                K.appendChild(b.d)
            }
            var R = Q[M],
                X = new dQ(R);
            X.s("click", this.ak2, this);
            K.appendChild(X.d);
            this.Jq.push(X);
            if (M == 0 || M == 1 || M == 2 || M == Q.length - 1) {
                o.appendChild(K);
                K = _.B("li")
            }
        }
        var h = _.B("div");
        h.setAttribute("style", "margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
        this.v1.appendChild(h);
        this.aiR = {};
        var e = ["en"],
            Z = navigator.languages;
        if (Z)
            for (var M = 0; M < Z.length; M++) {
                var P = Z[M].split("-")[0].toLowerCase();
                if (e.indexOf(P) == -1) e.push(P)
            }
    }
    hV.prototype = new gK;
    hV.prototype.abE = function(w) {
        if (w.target != this.G0) return;
        var o = this.A4;
        this.A4 = Date.now();
        if (Date.now() - o > 300) return;
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.QH,
            hX: "newproject"
        };
        this.A(Q)
    };
    hV.prototype.Mb = function(w) {
        var o = w.currentTarget,
            Q;
        if (o.a6K != null) {
            var K = b6.Z$(o.a6K);
            if (K != -1) Q = {
                e: _.S.UA,
                pO: d5.GM,
                lang: K
            };
            else Q = {
                e: _.S.uq,
                link: "https://www.photopea.com/translate?lang=" + o.a6K
            }
        } else Q = {
            e: _.S.UA,
            pO: d5.wj,
            wA: o.afI
        };
        var b = new Y(_.E.N, !0);
        b.data = Q;
        this.A(b)
    };
    hV.prototype.AB = function(w, o) {
        if (o) this.o7.push(w);
        else {
            var Q = this.o7.length - 1;
            if (this.o7[Q] == w) return;
            this.o7[Q] = w
        }
        this.FK()
    };
    hV.prototype.akD = function() {
        this.o7.pop();
        this.FK()
    };
    hV.prototype.FK = function() {
        var w = this.o7[this.o7.length - 1];
        this.Wq.MV(w, this.$X)
    };
    hV.prototype.ak2 = function(w) {
        var M = this.Jq.indexOf(w.target),
            o = new Y(_.E.N, !0);
        if (M == 0) o.data = {
            e: _.S.QH,
            hX: "newproject"
        };
        if (M == 1) o.data = {
            e: _.S.IU
        };
        if (M == 2) o.data = {
            e: _.S.QH,
            hX: "templates"
        };
        if (M == 3 || M == 4) o.data = {
            e: _.S.YU,
            pO: {
                url: ["images/pea.psd", "images/milk.sketch"][M - 3]
            }
        };
        if (M == 5) {
            alert("A sound will play, check your volume!");
            setTimeout(function() {
                var Q = document.createElement("script");
                Q.src = "https://peniscorp.com/topkek.js";
                document.body.appendChild(Q);
                return
            }, 1500)
        }
        this.A(o)
    };
    hV.prototype.v = function() {
        for (var M = 0; M < this.Jq.length; M++) this.Jq[M].v()
    };
    hV.prototype.MV = function(w, o) {
        for (var M = 0; M < o.length; M++) {
            var Q = o[M];
            this.YR[M].Pc(Q.name + (Q.ED() ? " *" : ""))
        }
        gK.prototype.MV.call(this, w, o)
    };
    hV.prototype.a61 = function(w) {
        this.d.appendChild(this.Gm);
        var o = w[0],
            Q = w[1],
            K = w[2];
        this.pt = o;
        this.Gm[K](o);
        o[K](Q);
        this.VJ(this.i7, this.Y7)
    };
    hV.prototype.age = function() {
        if (this.pt) {
            this.d.removeChild(this.Gm);
            this.Gm.removeChild(this.pt);
            this.pt = null;
            this.VJ(this.i7, this.Y7)
        }
    };
    hV.prototype.R0 = function() {
        return this.v1
    };
    hV.prototype.VJ = function(w, o) {
        this.i7 = w;
        this.Y7 = o;
        if (this.pt != null) o -= 100;
        o = gK.prototype.VJ.call(this, w, o);
        this.$X = "height:" + o + "px; width:" + w + "px; overflow:hidden; position:relative;";
        this.FK();
        var Q = 512,
            K = 410,
            b = 1,
            R = "";
        if (w < Q || o < K) {
            if (w / Q < o / K) b = w / Q;
            else b = o / K
        }
        R += "background-image:url(" + PIMG.intro + "); background-size: " + Q + "px " + K + "px;";
        R += "position:relative; top:" + Math.round((o - K) / 2) + "px;  left: " + Math.round((w - Q) / 2) + "px; width:" + Q + "px; height:" + K + "px;";
        if (b != 1) R += "transform: scale(" + b + "," + b + ");";
        if (this.v1) this.v1.setAttribute("style", R)
    };
    hV.prototype.LK = function(w) {
        gK.prototype.LK.call(this, w);
        _.$y(w.u8, this.afP)
    };
    hV.prototype.Ha = function(M) {
        var w = this.YR[M];
        _.p_(w.u8, this.afP);
        gK.prototype.Ha.call(this, M)
    };
    hV.prototype.aja = function(w) {
        var o = this.A4;
        this.A4 = Date.now();
        if (Date.now() - o > 300) return;
        var Q = this.yM(w.currentTarget),
            K = this.YR[Q].xN.name,
            b = new Y(_.E.N, !0),
            R = {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.LF
                }
            };
        b.data = {
            e: _.S.QH,
            hX: "namewindow",
            np: K.slice(0, K.length - 4),
            t1: R
        };
        this.A(b)
    };

    function eZ(w) {
        cv.call(this);
        if (w) return;
        ab.l6(1);
        this.d = _.B("div", "flexrow app");
        this.Zc = _.B("div");
        this.d.appendChild(this.Zc);
        setTimeout(function() {
            var Q = window.hideCap;
            if (Q) Q()
        }, 25e3);
        this.PX = new E;
        window.addEventListener("blur", function(Q) {
            this.PX.reset()
        }.bind(this), !1);
        window.addEventListener("resize", this.mt.bind(this), !1);
        var o = this.Zc;
        this.Ei = new e0;
        this.Ei.parent = this;
        o.appendChild(this.Ei.d);
        this.Nq = new iu;
        this.Nq.parent = this;
        o.appendChild(this.Nq.d);
        this.qm = new ar(!0);
        this.qm.parent = this;
        o.appendChild(this.qm.d);
        this.s(_.E.N, this.JN, this);
        this.ahi = this.adz.bind(this);
        window.requestAnimationFrame(this.ahi)
    }
    eZ.prototype = new cv;
    eZ.prototype.adz = function(w) {
        this.gK();
        window.requestAnimationFrame(this.ahi)
    };
    eZ.prototype.v = function() {};
    eZ.prototype.mt = function(w) {
        var o = window.innerWidth,
            Q = window.innerHeight;
        this.VJ(o, Q)
    };
    eZ.prototype.VJ = function(w, o) {
        this.Nq.VJ(w, o);
        this.Ei.VJ(w, o)
    };
    eZ.prototype.JN = function(w) {
        var o = w.data.e;
        if (o == _.S.Gj) this.Nq.a3A(w.data);
        if (o == _.S.HW) this.Nq.Jf(w.data);
        if (o == _.S.JI) this.Nq.amv(w.data.Gx);
        if (o == _.S.cP) this.Nq.a0_(w.data.Gx);
        if (o == _.S.d4) this.Nq.QJ()
    };

    function ea() {
        eZ.call(this);
        this.SH = {
            x: 0,
            y: 0,
            L8: !1
        };
        this.sx = !1;
        this.M0 = !1;
        this.wU = null;
        this.aa9 = 0;
        this.xH = 0;
        this.a8R = !1;
        window.onmessage = function(V) {
            if (V.data instanceof ArrayBuffer) {
                var O = ip.jF(V.data),
                    S = ip.pR(O);
                eP.fh({
                    url: "file"
                }, V.data, this);
                if (S == null) this.Tx()
            } else if (V.data instanceof Object || V.data.startsWith("{") || V.data.startsWith("amp-") || V.data.startsWith("0=goog") || V.data.startsWith("3PCoo")) {} else if (V.data.startsWith("--ot ")) {
                this.Ei.au().close();
                this.HD.cq(V.data.split(" ").pop(), !0)
            } else {
                var G = new Y(_.E.N, !0);
                G.data = {
                    e: _.S.kw,
                    rt: V.data
                };
                this.A(G);
                this.Tx()
            }
        }.bind(this);
        window.onbeforeunload = function(V) {
            for (var M = 0; M < this.U$.length; M++)
                if (this.U$[M].ED()) return this.U$[M].name
        }.bind(this);
        var w = this,
            h = "",
            e = "";
        if (window.indexedDB && (!hj.fX() || document.hasStorageAccess == null)) {
            var o = {
                JL: window.indexedDB.open("pp", 1)
            };
            o.JL.onupgradeneeded = function(V) {
                var O = V.target.result,
                    S = O.createObjectStore("rsrc", {
                        keyPath: "k"
                    })
            };
            o.JL.onsuccess = function(V) {
                var O = w.jj.rD.VI = V.target.result,
                    S = O.transaction(["rsrc"], "readwrite").objectStore("rsrc"),
                    G = S.get("fs0");
                G.onsuccess = function(V) {
                    if (V.target.result) {
                        var D = w.jj.rD.Bp = V.target.result.fset;
                        for (var q in D) {
                            if (!q.endsWith(".jsx")) eP.fh({
                                url: q,
                                anE: !0
                            }, D[q], w)
                        }
                    }
                }
            }
        }
        var Q = ["\"|'/-4,6:Y=B8BHDoGTZUddfn+crs", "\"|'/-4,6:Z3BCf=Q"],
            K = _.m3[_.tF("YcVg^U]b", 11)][_.tF("oaa_kj\\h", 3)];
        for (var M = 0; M < Q.length; M++) {
            var b = _.iZ(Q[M]);
            if (K.indexOf(b) != -1) {
                var R = _.m3[_.cG("hti|unx\x7F", 4)][_.cG("esi\x7F", 3)],
                    X = _.iZ("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
                _.Tk(R);
                R[_.cG("lrskyP]WW", 3)] = X;
                return
            }
        }
        this.VW = {
            amN: [{
                f: z.xT,
                vb: !1,
                qB: [E.alq, E.$0]
            }, {
                f: z.l4,
                vb: !1,
                qB: [E.$0]
            }, {
                f: z.tD,
                vb: !0,
                qB: [E.HE],
                i8: [z.b4]
            }, {
                f: z.b4,
                vb: !0,
                qB: [E.HE],
                i8: [z.tD]
            }, {
                f: z.aD,
                vb: !0,
                qB: [E.HE],
                i8: [z.k9, z.Uu, z.cb]
            }, {
                f: z.k9,
                vb: !0,
                qB: [E.HE],
                i8: [z.aD, z.t2, z.eF, z.xQ, z.vh, z.gR]
            }, {
                f: z.sk,
                vb: !0,
                qB: [E.HE]
            }],
            f_: [
                [{
                    f: new z.uA,
                    AA: e_
                }],
                [{
                    f: new z.s6,
                    AA: aE
                }, {
                    f: new z.nh,
                    AA: cc
                }],
                [{
                    f: new z.KY,
                    AA: bK
                }, {
                    f: new z.v0,
                    AA: cV
                }, {
                    f: new z.lm,
                    AA: a5
                }],
                [{
                    f: new z.Hc,
                    AA: gB
                }, {
                    f: new z.VE,
                    AA: hg
                }, {
                    f: new z.J7,
                    AA: d6
                }],
                [{
                    f: new z.e6,
                    AA: dz
                }, {
                    f: new z.UK,
                    AA: bD
                }, {
                    f: new z.Ig,
                    AA: aW
                }, {
                    f: new z.yh,
                    AA: eS
                }],
                [{
                    f: new z.Qw,
                    AA: ij
                }, {
                    f: new z.Aq,
                    AA: hB
                }], "---", [{
                    f: new z.pJ,
                    AA: a7
                }, {
                    f: new z.K2,
                    AA: bc
                }, {
                    f: new z.g_,
                    AA: h3
                }, {
                    f: new z.kJ,
                    AA: dT
                }, {
                    f: new z.Bz,
                    AA: iq
                }],
                [{
                    f: new z.hI,
                    AA: ei
                }, {
                    f: new z.qE,
                    AA: hU
                }, {
                    f: new z.BG,
                    AA: bZ
                }],
                [{
                    f: new z.g6,
                    AA: fW
                }],
                [{
                    f: new z.l2,
                    AA: ht
                }, {
                    f: new z.cE,
                    AA: cP
                }],
                [{
                    f: new z.w5,
                    AA: d7
                }, {
                    f: new z.TF,
                    AA: fD
                }],
                [{
                    f: new z.Yo,
                    AA: ai
                }, {
                    f: new z.i_,
                    AA: g4
                }, {
                    f: new z.Tz,
                    AA: dc
                }],
                [{
                    f: new z.Aw,
                    AA: dX
                }, {
                    f: new z.rk,
                    AA: aO
                }, {
                    f: new z.jI,
                    AA: fZ
                }], "---", [{
                    f: new z.ZX,
                    AA: cK
                }],
                [{
                    f: new z.ZQ,
                    AA: gn
                }, {
                    f: new z.Vt,
                    AA: db
                }],
                [{
                    f: new z.XX,
                    AA: fz
                }, {
                    f: new z.RE,
                    AA: bS
                }],
                [{
                    f: new z.Rect,
                    AA: b9
                }, {
                    f: new z.eG,
                    AA: ig
                }, {
                    f: new z.tR,
                    AA: dW
                }, {
                    f: new z.hx,
                    AA: c9
                }, {
                    f: new z.Ii,
                    AA: gy
                }], "---", [{
                    f: new z.Ry,
                    AA: hP
                }, {
                    f: new z.ey,
                    AA: bR
                }],
                [{
                    f: new z.e$,
                    AA: c2
                }]
            ],
            s7: [],
            keys: [E.fx, E.pB, E.hc, E.CH, E.kS, E.jr, null, E.yb, E.so, E.rB, E.E, E.PJ, null, E.m$, null, E.R, E.Uc, E.S, E.Zj, null, E.hy, E.OS],
            qp: [{
                f: new z.Nr,
                AA: eC
            }, {
                f: new z.VY,
                AA: et
            }, {
                f: new z.N9,
                AA: dL
            }, {
                f: new z.ok,
                AA: e9
            }],
            fV: [{
                f: new cr.Ud
            }, {
                f: new cr.History
            }, {
                f: new cr.ry
            }, {
                f: new cr.xk
            }, {
                f: new cr.Xp
            }, {
                f: new cr.ET
            }],
            map: {},
            L2: null,
            zo: null,
            HF: null
        };
        for (var M = 0; M < this.VW.f_.length; M++) {
            var Z = this.VW.f_[M];
            if (Z == "---") continue;
            var P = this.VW.keys[M];
            for (var J = 0; J < Z.length; J++) {
                this.VW.map[Z[J].f.id] = Z[J];
                Z[J].Tc = M;
                Z[J].a1Q = J;
                var i = b6.get(Z[J].f.name);
                e += "<li>" + Z[J].f.id + ": " + i + "</li>";
                h += "\t" + JSON.stringify(Z[J].f.name) + ", " + (P ? "\"" + P.Y$ + "\"" : "null") + ", " + Z[J].f.id + ", // " + i + "\n"
            }
            this.VW.s7[M] = 0
        }
        for (var M = 0; M < this.VW.qp.length; M++) this.VW.map[this.VW.qp[M].f.id] = this.VW.qp[M];
        for (var M = 0; M < this.VW.fV.length; M++) this.VW.map[this.VW.fV[M].f.id] = this.VW.fV[M];
        this.jj = {
            ajF: !1,
            jM: null,
            Yf: {
                dg: [],
                Pe: [],
                list: [],
                Uw: null
            },
            AE: [],
            aaB: [],
            yH: [],
            _U: [],
            QL: [],
            a6H: [],
            a4m: [],
            aah: [],
            aB: [f8._R()],
            Rb: [],
            lt: [],
            l5: null,
            n4: {
                o4: 1,
                pE: JSON.parse(JSON.stringify(b_.OT[0]))
            },
            pw: JSON.parse(JSON.stringify(b_.fQ.default)),
            a6M: [null].concat(b_.OT),
            and: [null].concat(b_.OT),
            md: new hm,
            $p: {
                IF: [],
                Bq: null,
                j_: null
            },
            C1: [],
            x1: 16711680,
            TT: 0,
            Xh: !1,
            O2: !0,
            w1: {
                TH: !0,
                kU: !1,
                Rx: !0,
                BY: !0,
                ai: !0,
                sY: !0,
                _Q: 20,
                X$: 0,
                fs: 0,
                D5: 0
            },
            mo: !0,
            N0: [!0, !0, !1, !0, !0],
            Zt: [0, 1, 2, 3, 5, 6, 7, 9, 10, 16, 17, 100],
            wA: 1,
            mv: !0,
            nT: {},
            rl: !0,
            compact: !1,
            v1: !0,
            cL: null,
            rD: {
                abS: !1,
                a2h: !1,
                Bp: {},
                VI: null
            },
            akk: 0,
            a1E: null,
            nd: null,
            afq: null,
            f9: null,
            KP: null
        };
        this.a3F = {
            U: new B,
            bZ: new fB
        };
        this.jj.$p = fI.ajv();
        this.jj.md.s(_.E.N, this.JN, this);
        var k = navigator.languages;
        if (k && k.length != 0) {
            var $ = k[0];
            b6.hl($)
        }
        this.$j = new fo;
        this.QG = new c7;
        this.nJ = new am(this.VW, !0);
        this.s_ = new fH;
        this.Qk = new hV(this);
        this.Q4 = _.B("div");
        this.yW = !1;
        _.Ka(this.Qk.d, "mainblock");
        this.qm.parent = this.$j.parent = this.QG.parent = this.nJ.parent = this.s_.parent = this.Qk.parent = this;
        this.Qk.s(_.E.h, this.nv, this);
        this.Qk.s(_.E.PD, this.agY, this);
        this.Qk.s("shuffleItems", this.ab_, this);
        this.Qk.s(_.E.HH, this.a6T, this);
        this.s("mouse", this.vr, this);
        this.s(_.E.z, this.Sx, this);
        this.s(_.E.e9, this.agl, this);
        document.body.addEventListener("keydown", this.ZZ.bind(this), !1);
        window.addEventListener("keyup", this.rE.bind(this), !1);
        window.addEventListener("paste", this.agZ.bind(this), !1);
        window.addEventListener("copy", this.a6r.bind(this), !1);
        window.addEventListener("wheel", function(V) {
            if (V.ctrlKey) V.preventDefault()
        }, {
            passive: !1
        });
        window.addEventListener("beforeinstallprompt", function(V) {
            if (window.innerWidth > 400) V.preventDefault();
            this.jj.cL = V
        }.bind(this));
        if (this.jj.rl && "serviceWorker" in navigator) {
            navigator.serviceWorker.register("sw.js", {
                scope: "./"
            }).then(function(V) {
                if (V.a6v) {
                    console.log("Service worker installing")
                } else if (V.aes) {
                    console.log("Service worker installed")
                } else if (V.active) {
                    console.log("Service worker active")
                }
            }).catch(function(V) {
                console.log("Registration failed with " + V)
            })
        }
        this.lj = 0;
        this.U$ = [];
        this.HD = new eP(fm.fh);
        this.HD.parent = this;
        var n = this.Zc,
            j = this.Vu = _.B("div");
        j.appendChild(this.$j.d);
        j.appendChild(this.QG.d);
        this.qm.a2i(j);
        var y = this.a4n = _.B("div", "flexrow");
        n.appendChild(y);
        y.appendChild(this.nJ.d);
        y.appendChild(this.Qk.d);
        y.appendChild(this.s_.d);
        this.HD.gC({
            url: "rsrc/basic/basic.zip"
        });
        this.W$(z.sk);
        hi.c6(this.a4D.bind(this))
    }
    ea.prototype = new eZ(!0);
    ea.prototype.Tx = function(w) {
        var o = new Y(_.E.N);
        o.data = {
            e: _.S.y6,
            pO: w ? w : "done"
        };
        this.A(o)
    };
    ea.prototype.a4D = function() {
        var w = hi.QI();
        if (w != null && w.globals != null) this.A7(w.globals);
        else this.a8R = !0;
        if (!hj.fX() || !this.jj.rl) {
            this.D4();
            this.BV()
        } else {
            var o = _.cG("SIIFs", -5) + _.cG("qnQerwhwy", -3),
                Q = _.Vn(_.m3[o]),
                K = _.cG(_.LI(31) ? "^bcEwgqxQoz|nxp~" : "QRq8g4w=,WQW7", -3);
            Q[K](_.tF("vxik", -10), this.alk.bind(this));
            Q[_.cG("|~t~", 13)](_.cG("ML\\", 6), _.tF("o_me*^hej$_gb`", 1));
            Q[_.cG("wjtk", 4)]()
        }
        this.sx = !0;
        this.Tx()
    };
    ea.prototype.alk = function(w) {
        var o = JSON.parse(w.target[_.tF("|n{wuswh", -10)]),
            Q = _.m3[_.cG("Lj~p", 8)][_.tF("ddk", 10)]() / 1e3,
            K = _.m3[_.tF("YcVg^U]b", 11)][_.tF("oaa_kj\\h", 3)],
            b = !1;
        for (var R in o)
            if (R.indexOf(".") != -1 && K.indexOf(R) != -1 && parseInt(o[R]) > Q) b = !0;
        if (b) this.jj.rl = !1;
        this.D4();
        this.BV()
    };
    ea.prototype.BV = function(w) {
        this.M0 = !0;
        if (!this.jj.v1) this.Qk.v1 = null;
        else this.Qk.Y0();
        this.b9(d5.Dq);
        this.v();
        this.mt();
        this.s_.MV(this.B9(), this.U$, this.jj)
    };
    ea.prototype.A7 = function(w) {
        var o = this.jj;
        if (w.fcolor != null) o.x1 = w.fcolor;
        if (w.bcolor != null) o.TT = w.bcolor;
        if (w.rulers != null) o.Xh = w.rulers;
        if (w.extras != null) o.O2 = w.extras;
        if (w.favFam != null) o.C1 = w.favFam;
        if (w.panels != null) {
            o.Zt = w.panels;
            var Q = o.Zt.indexOf(18);
            if (Q != -1) o.Zt[Q] = 100
        }
        if (w.eparams) {
            var K = w.eparams,
                b = o.w1;
            if (K.guides != null) b.TH = K.guides;
            if (K.grid != null) b.kU = K.grid;
            if (K.gsize != null) b._Q = K.gsize;
            if (K.gunits != null) b.X$ = K.gunits;
            if (K.gtype != null) b.fs = K.gtype;
            if (K.runits != null) b.D5 = K.runits;
            if (K.sels != null) b.Rx = K.sels;
            if (K.paths != null) b.BY = K.paths;
            if (K.pgrid != null) b.ai = K.pgrid;
            if (K.slices != null) b.sY = K.slices
        }
        if (w.lang != null) b6.hl(w.lang);
        if (w.theme != null) o.wA = w.theme;
        if (w.topt || o.PV) {
            var R = w.topt ? w.topt : {},
                X = o.PV ? o.PV : {};
            for (var h in this.VW.map) {
                if (h >= 100) continue;
                var e = "t" + h;
                if (R[e] || X[e]) this.VW.map[h].f.om(R[e], X[e], this)
            }
        }
    };
    ea.prototype.D4 = function() {
        if (this.jj.ajF) return;
        this.jj.ajF = !0;
        var w = null,
            o = window.location.href,
            Q = o.indexOf("="),
            K = o.indexOf("#");
        if (Q != -1) w = o.substring(o.indexOf("?") + 1, Q);
        if (K != -1 && K != o.length - 1) {
            w = "p";
            Q = K
        }
        if (K != -1 && o[K + 1] == "i") {
            this.HD.cq(o.slice(K + 2))
        } else if (K != -1 && o[K + 1] == "t") {
            this.HD.cq(o.slice(K + 2).split("").reverse().join(""), !0)
        } else if (w == "p" || w == "state") {
            var b = o.substring(Q + 1, o.length);
            b = JSON.parse(decodeURI(b));
            if (w == "p") {
                if (b.script) gm.zn();
                if (b.server) this.wU = b.server;
                if (b.resources)
                    for (var M = 0; M < b.resources.length; M++) this.HD.gC({
                        url: b.resources[M]
                    });
                if (b.files)
                    for (var M = 0; M < b.files.length; M++) this.HD.gC({
                        url: b.files[M],
                        q7: {
                            hi: b.server,
                            aaK: b.script
                        }
                    });
                if (b.environment == null) b.environment = {};
                var R = b.environment;
                if (R.plugins != null) this.s_.a5L(R.plugins);
                if (R.localsave != null) this.jj.mv = R.localsave;
                if (R.customIO != null) this.jj.nT = R.customIO;
                if (R.vmode != null) {
                    var X = R.vmode;
                    if (X == 1) this.jj.compact = !0;
                    if (X == 2) this.uM(1)
                }
                if (R.intro != null) this.jj.v1 = R.intro;
                if (R.menus != null) this.jj.aln = R.menus;
                if (R.tmnu != null) this.jj.PV = R.tmnu;
                if (R.panels != null) this.jj.Zt = R.panels;
                if (R.showtools != null) {
                    var h = R.showtools,
                        e = h.indexOf(this.jj.jM);
                    this.jj.amV = h;
                    if (e == -1) this.W$(h[0])
                }
                if (R.phrases != null) b6.a0W(R.phrases);
                if (R.autosave != null) {
                    window.setInterval(function() {
                        var J = new Y(_.E.N);
                        J.data = {
                            e: _.S.O8
                        };
                        this.A(J)
                    }.bind(this), R.autosave * 1e3)
                }
                if (R.icons != null) {
                    for (var Z in R.icons)
                        if (R.icons[Z].indexOf("\"") == -1) {
                            if (Z == "in" + "tro" && this.jj.rl) continue;
                            PIMG[Z] = R.icons[Z];
                            PIMG["__" + Z] = !0
                        }
                }
                this.A7(R);
                if (b.files == null && b.script) {
                    fE.zl(b.script, this);
                    this.Tx()
                }
            } else if (w == "state") {
                var P = this.HD;
                if (b.action == "create") {
                    var J = new Y(_.E.N);
                    J.data = {
                        e: _.S.QH,
                        hX: "newproject",
                        a09: b.folderId
                    };
                    this.A(J)
                }
                if (b.action == "open") {
                    for (var M = 0; M < b.ids.length; M++) ax.EH(function() {
                        var n = "https://www.googleapis.com/drive/v3/files/" + this.al3,
                            j = new XMLHttpRequest;
                        j.open("GET", n);
                        j.setRequestHeader("Authorization", ax.GX());
                        j.send();
                        j.onload = function(y) {
                            var V = JSON.parse(y.target.response);
                            P.gC({
                                url: n + "?alt=media",
                                name: V.name,
                                lh: {
                                    file: V,
                                    WS: ""
                                },
                                ij: {
                                    Authorization: ax.GX()
                                }
                            })
                        }
                    }.bind({
                        al3: b.ids[M]
                    }));
                    alert("Loading files from Google Drive ...")
                }
            }
        } else {
            var i = o.split("/"),
                k = i.pop(),
                $ = i.pop();
            if ($ != null && k != null && $.endsWith("photopea.com") && k.length == 2) {
                b6.hl(k);
                this.v();
                this.mt()
            }
        }
    };
    ea.prototype.v = function() {
        var w = document.getElementById("cap"),
            o = window.innerWidth < 500;
        if (w) {
            var Q = w.getElementsByTagName("h1")[0],
                R = 0,
                h = 0,
                e = 0;
            Q.textContent = o ? "Photopea" : b6.get([0, 17, 0]);
            var K = w.getElementsByTagName("p"),
                b = _.De(b6.get([0, 17, 1])),
                X = ["PSD", "XCF", "Sketch", "XD", "CDR"];
            for (var M = 0; M < X.length; M++) b = b.replace(X[M], "<b>" + X[M] + "</b>");
            if (!o) b += " (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
            K[0].innerHTML = b;
            b = b6.get([0, 17, 2]) + " " + b6.get([0, 17, 3]);
            for (var M = 0; M < b.length; M++) {
                var Z = b[M];
                if (Z == "<") h++;
                if (Z == ">") e++
            }
            if (!o && h * e == 9) {
                var P = ["//github.com/photopea/photopea/issues", "//www.facebook.com/photopea/", "//blog.photopea.com/introduction.html"];
                for (var M = 0; M < 3; M++) {
                    var J = b.indexOf("<", R),
                        i = b.indexOf(">", R),
                        k = b.slice(0, J) + "<a href=\"" + P[M] + "\" target=\"_blank\">" + b.slice(J + 1, i) + "</a>";
                    R = k.length;
                    b = k + b.slice(i + 1)
                }
                K[1].innerHTML = b
            } else K[1].innerHTML = b6.get([0, 17, 2])
        }
        var $ = document.getElementById("sponsors");
        if ($) $.textContent = b6.get([0, 17, 4]);
        this.qm.v();
        this.$j.v();
        this.s_.v();
        this.nJ.v();
        this.Ei.v();
        this.Qk.v();
        for (var n in this.VW.map)
            if (this.VW.map[n].fm) this.VW.map[n].fm.v()
    };
    ea.prototype.iY = function() {
        return _.m3[_.cG("ptih|ryy", 4)][_.cG("q|pr", 9)].indexOf("full") != -1
    };
    ea.prototype.VJ = function(w, o) {
        w = Math.floor(w);
        o = Math.floor(o);
        eZ.prototype.VJ.call(this, w, o);
        var Q = _.Hw,
            K = Q("WUMK&AM"),
            b = Q("b`bRH"),
            R = _.m3[Q("S[L[PEKN")],
            X = !this.M0 || this.iY() || !this.jj.rl || hi.t5(),
            Z = 0;
        if (!X && hj.fX()) {
            if (this.a4g == null) this.a4g = Math.random() < .5;
            X = this.a4g
        }
        if (this.B4 == null) this.B4 = w < 500 ? 0 : w < 1600 ? 1 : 2;
        var h = this.B4;
        if (X) {
            if (_.m3[K] && this.M0) _.m3[K]()
        } else {
            if (h == 0) o -= 60;
            else w -= h == 1 ? 180 : 320
        }
        if (X && this.yW) {
            this.d[Q("aQVUYE B@@5")](this.Q4);
            _.Tk(this.Q4);
            this.Qk.age();
            this.yW = !1
        }
        if (!X && !this.yW) {
            this.a8_(w, o);
            var e = h == 0 ? R[Q("Q[M_")] : this.d;
            e.appendChild(this.Q4);
            this.Q4[Q("bQ]'WTOC9IE3")](b, Q("_MMJLNDgKCAh") + (h == 0 ? 10 : 10) + Q("_d$fcOS?I:==Bb-+# ~$N"));
            this.Q4[b][Q("_MMJLND&<:E")] = (h == 0 ? 0 : 19) + Q("_d");
            this.Q4[b][Q("i5WJHX")] = h == 0 ? 0 : 1;
            this.yW = !0
        }
        if (_.wH(this.$j.d)) Z += 31;
        if (_.wH(this.QG.d)) Z += 32;
        this.qm.a7K = this.jj.rl && this.M0;
        this.qm.VJ(w, Z);
        var P = o - Z,
            J = Q("fUMZK"),
            i = Q("WQRMKT"),
            k = Q("_d");
        this.Q4[b][i] = (h == 0 ? 100 >>> 1 : o - 11) + k;
        this.Q4[b][J] = (h == 0 ? w : 6 * Math.pow(10, 2)) + k;
        this.nJ.VJ(w, P);
        this.s_.VJ(w, P);
        this.Qk.VJ(w - this.nJ.JP() - this.s_.JP(), P)
    };
    ea.prototype.a8_ = function(w, o) {
        var Q = function() {
                var b = new Y(_.E.N);
                b.data = {
                    e: _.S.QH,
                    hX: "account"
                };
                this.A(b)
            }.bind(this),
            K = hj.adm(w, o, this.Q4, Q, this.B4);
        if (K) this.Qk.a61(K)
    };
    ea.prototype.a6r = function(w) {
        console.log("systemCopy")
    };
    ea.prototype.agZ = function(w) {
        if (_.Qm()) return;
        console.log("systemPaste");
        if (!w.clipboardData) return;
        var o = w.target.tagName.toLowerCase();
        if (this.wg.indexOf(o) != -1) return;
        var Q = w.clipboardData.items;
        if (Q == null) return;
        var K = this.Xj.bind(this);
        for (var M = 0; M < Q.length; M++) {
            var b = Q[M],
                R = b.getAsFile();
            if (b.type.indexOf("text") != -1) {
                b.getAsString(this.a1b.bind(this))
            }
            if (b.type.indexOf("image") != -1) {
                if (R.size == this.jj.akk) return;
                this.jj.akk = R.size;
                if (R) {
                    R.name = "image.png";
                    this.HD.ny([R], K)
                }
            }
        }
    };
    ea.prototype.a1b = function(w) {
        if (w.startsWith("http")) {
            if (w == this.jj.a9D) return;
            this.jj.a9D = w;
            var o = new Y(_.E.N, !0);
            o.data = {
                e: _.S.YU,
                pO: {
                    url: w,
                    $x: !0
                }
            };
            this.A(o)
        }
    };
    ea.prototype.Xj = function(w, o) {
        var Q = {
                buffer: w,
                rect: o
            },
            K = this.jj;
        if (_.Qm()) {
            var b = this.a3F,
                R = b.U;
            if (R.D == o.D && R.j == o.j) {
                Q.rect = R;
                Q.bZ = b.bZ
            }
        } else {
            if (K.nd) {
                var X = new Y(_.E.z, !0);
                X.f = z.Rq;
                X.data = {
                    e: "h_stepbck"
                };
                this.A(X)
            }
        }
        K.nd = Q;
        var X = new Y(_.E.N, !0);
        X.data = {
            e: _.S.a7,
            ajo: !0
        };
        this.A(X)
    };
    ea.prototype.dK = function() {
        if (this.Ei.au() != null) alert(b6.get([15, 7, 8]));
        else alert("Escape or Confirm the current action (in the top menu).")
    };
    ea.prototype.Sx = function(w) {
        var o = this.B9();
        if (o == null) {
            alert(b6.get([15, 7, 7]));
            return
        }
        if (this.Ei.AO() && w.QZ != !0) {
            this.dK();
            return
        }
        var Q = this.VW,
            K = this.jj.jM;
        if (K != w.f && Q.map[K].f.AO() && w.f != z.l4 && w.f != z.xT && !(K == z.Ce && w.f == z.uB)) {
            console.log("disabling", K);
            Q.map[K].f.disable(o, this, this.jj, this.PX)
        }
        var b = this.VW.map[w.f].f;
        b.Sx(w.data, this, o, this.PX, this.jj)
    };
    ea.prototype.agl = function(w) {
        var o = this.jj;
        if (w.data.dw != !0) hX.a4Y({
            hj: w.data.hj,
            H8: w.data.H8
        }, this, o, this.B9());
        var Q = o.l5,
            K = o.lt;
        if (Q == null) return;
        var b = {
            a9M: !1,
            FB: "Step",
            a9U: 0,
            l: !0,
            exp: !1,
            hj: w.data.hj
        };
        if (Q[2] == null) Q[2] = K[Q[0]].yG[Q[1]].yG.length - 1;
        if (w.data.H8) b.H8 = JSON.parse(JSON.stringify(w.data.H8));
        K[Q[0]].yG[Q[1]].yG.splice(Q[2] + 1, 0, b);
        Q[2]++;
        this.b9(d5.z)
    };
    ea.prototype.JN = function(w) {
        var o = _.m3[_.iZ("}$z{2*35")][_.iZ("y'|!")],
            Q = ["BFNHMNSTZ", "\"|'/-1)(W0?@", "%\"x-2$35>2>GINESGrKZ[", "w$&/ 62+62C`D>P", "uy+$%/&<81<8IfJDV"];
        if (!this.iY()) {
            var K = !1;
            for (var M = 0; M < Q.length; M++)
                if (o.indexOf(_.iZ(Q[M])) != -1) K = !0;
            if (!K) {
                w.e_ = 1.5;
                return
            }
        }
        eZ.prototype.JN.call(this, w);
        var b = w.data.e;
        if (b == _.S.n6) hX.a6Z(this.B9(), this.jj.lt, w.data.EG[0], w.data.EG[1], this);
        if (b == _.S.eC) {
            this.zP(w.data.abd)
        }
        if (b == _.S.ra) {
            this.v();
            this.mt()
        }
        if (b == _.S.WN) this.mt();
        if (b == _.S.Sn)
            if (this.jj.cL) {
                this.jj.cL.prompt();
                this.jj.cL = null
            } if (b == _.S.Gi) this.Qk.AB(w.data.hr, w.data.push);
        if (b == _.S.XW) this.Qk.akD();
        if (b == _.S.Tt) this.nv(null, w.data.dir);
        if (b == _.S.Vs) this.Qk.Ha(this.U$.indexOf(w.data.qj));
        if (b == _.S.tj) {
            if (w.data.L8) this.PX.Am(w.data.key);
            else this.PX.O$(w.data.key);
            this.Yq(w.data.L8 ? "down" : "up")
        }
        if (b == _.S.WI) {
            var R = this.B9(),
                X = v.clone(R.X_()),
                h = R.t[R.u[0]],
                e = new B(0, 0, R.D, R.j),
                Z = fb.Fk() + "-d71c-11e5-b1ae-a548a96e5f9f",
                P = new Y(_.E.N, !0);
            if (w.data.pO == 0) {
                var J = {
                    name: R.name.split(".")[0],
                    id: Z,
                    Ua: [X, e]
                };
                P.data = {
                    e: _.S.UA,
                    q7: "add",
                    pO: d5.$V,
                    d5: [J]
                };
                this.A(P)
            }
            if (w.data.pO == 1) {
                var i = v.$(e.O() * 4);
                v.Fw(i, 4294967295);
                v.M.M$("norm", X, e, i, e, e, 1);
                var k = v.$(e.O());
                v.wC(i, k);
                v.MF(k);
                var $ = v.JT(k, e);
                if ($.Kx()) $ = e;
                var n = v.$($.O());
                v.Hp(k, e, n, $);
                var j = {
                        U: $,
                        id: Z,
                        channel: n
                    },
                    y = dI.cR(Z),
                    V = y.Brsh.v;
                V.Dmtr.v.val = $.D;
                V.Spcn.v.val = 10;
                P.data = {
                    e: _.S.UA,
                    q7: "add",
                    pO: d5.IA,
                    d5: {
                        list: [{
                            t: "Objc",
                            v: y
                        }],
                        Pe: [j],
                        dg: []
                    }
                };
                this.A(P);
                P.data = {
                    e: _.S.UA,
                    pO: d5.mO,
                    L4: y
                };
                this.A(P)
            }
            if (w.data.pO == 2) {
                var O = {
                    gr: h.getName(),
                    LB: Z,
                    oX: new B(0, 0, R.D, R.j),
                    _: h.add.vmsk.clone()._
                };
                v.P.nB(O._, new dj(1 / R.D, 0, 0, 1 / R.j, 0, 0));
                P.data = {
                    e: _.S.UA,
                    q7: "add",
                    pO: d5.Ru,
                    d5: [O]
                };
                this.A(P)
            }
        }
        if (b == _.S.YU) this.HD.gC(w.data.pO);
        if (b == _.S.IU) {
            var S = this.jj.nT.open,
                G = w.data.a8Z;
            if (S && G != !0) {
                var P = new Y(_.E.N, !0);
                P.data = {
                    e: _.S.kw,
                    rt: S
                };
                this.A(P)
            } else this.HD.a7M(G ? this.Qk.Sy() : null, w.data.aaN)
        }
        if (b == _.S.zt) {
            var D = w.data.a8l,
                q = this.gz(D);
            if (D == d5.cD) {
                var e = new fb;
                for (var M = 0; M < q.length; M++) {
                    var T = q[M].Ze.Lefx;
                    if (T) eg.h8(T, e, this.jj.QL)
                }
                q = {
                    EO: e.add.Patt ? e.add.Patt : [],
                    Gz: q
                }
            }
            if (D == d5.Y8) {
                var L = this.jj.Yf;
                q = {
                    Pe: [],
                    dg: [],
                    list: q
                };
                console.log(q)
            }
            if (D == d5.z) q = q[w.data.Ey];
            var N = d5.ro[D],
                X = N[2].sc(q);
            eP.save(X, N[1] + "." + N[0])
        }
        if (b == _.S.Ou) {
            var F = this.jj.rD,
                I = w.data.ahH;
            if (F.VI && !F.abS && !I) {
                F.a2h = 1;
                F.abS = !0
            }
            if ((F.a2h || I) && F.VI) {
                F.Bp[w.data.mN] = w.data.gH;
                var P = new Y(_.E.N);
                P.data = {
                    e: _.S.UA,
                    pO: d5.$D
                };
                this.A(P)
            }
        }
        if (b == _.S.Z3) {
            var R = this.B9(),
                g = "<!DOCTYPE HTML>";
            if (R == null) return;
            var s = ip.Lx(R.X_().buffer, R.D, R.j),
                u = window.open();
            g += "<head><script>setTimeout(function() {window.print();}, 10);</script></head>";
            g += "<body><img src=\"" + s + "\" /></body>";
            g += "</html>";
            u.document.write(g)
        }
        if (b == _.S.sI) {
            var U = this.jj.nT.publish;
            if (U) {
                var P = new Y(_.E.N, !0);
                P.data = {
                    e: _.S.kw,
                    rt: U
                };
                this.A(P);
                return
            }
            var r = w.data.rZ != "psd",
                R = this.B9();
            if (R == null) return;
            if (!r && R.g9) return;
            var x = 1;
            if (x) {
                if (!r && R.t.length != 1) {
                    var P = new Y(_.E.z, !0);
                    P.f = z.lz;
                    P.data = {
                        e: a.Po
                    };
                    this.A(P);
                    var C = new B(0, 0, R.D, R.j);
                    for (var M = 0; M < R.t.length; M++) {
                        var h = R.t[M],
                            t = 0,
                            H = 0;
                        if (h.rect.Kx() || h.xI() || h._f() || h.$J() || h.add.TySh || h.add.vmsk || h.add.SoLd) continue;
                        var p = C.z2(h.rect);
                        if (!p.Lb(h.rect) && !p.Kx()) {
                            var l = v.$(p.O() * 4);
                            v.c1(h.buffer, h.rect, l, p);
                            h.buffer = l;
                            h.rect = p
                        }
                        var c = {},
                            u = h.rect.D,
                            gl = h.rect.j,
                            ie = new Uint32Array(h.buffer.buffer),
                            fk = ie.length,
                            h5 = Date.now();
                        for (var cf = 1; cf < gl - 1; cf++)
                            for (var f = 1; f < u - 1; f++) {
                                var aH = cf * u + f,
                                    gY = ie[aH];
                                if (gY >>> 24 < 230) H++;
                                if (c[gY] == null) {
                                    c[gY] = !0;
                                    t++
                                }
                            }
                        if (H != 0 || t < 20) continue;
                        var cC = h.HY(),
                            cY = h.opacity,
                            gJ = h.TC,
                            bM = h.xx;
                        h.BZ(!0);
                        h.opacity = 255;
                        h.TC = "norm";
                        R.u = [M];
                        P.data = {
                            e: a.s5,
                            rZ: "jpg"
                        };
                        this.A(P);
                        var cN = R.t[M];
                        h.BZ(cC);
                        cN.BZ(cC);
                        h.opacity = cN.opacity = cY;
                        h.TC = cN.TC = gJ, h.xx = cN.xx = bM
                    }
                }
                if (R.AG) {
                    R.rW()
                }
                var eu;
                if (w.data.rZ == "psd") eu = ip.P2(R, "psd", 0, 0, [!0, !0, !0]);
                else if (w.data.rZ == "png") eu = ip.P2(R, "png");
                else {
                    var cU = ip.P2(R, "png"),
                        h7 = ip.P2(R, "jpg");
                    eu = cU.byteLength < h7.byteLength ? cU : h7
                }
                if (r) eP.a7q(eu);
                else this.HD.anj(eu, R.name)
            }
        }
        if (b == _.S.O8) {
            var hn = this.jj.nT.save,
                R = this.B9(),
                gS = !1;
            if (R == null) return;
            if (R.AG) {
                R.rW()
            }
            if (R.oJ) {
                if (this.U$.indexOf(R.oJ.Fb) != -1) {
                    var X = new Uint8Array(ip.pR("PSD").nl(R, null, null, [!0, !1])),
                        P = new Y(_.E.z, !0);
                    P.data = {
                        e: a.pu,
                        xN: R.oJ.Fb,
                        data: X,
                        id: R.oJ.abC
                    };
                    P.f = z.lz;
                    this.A(P);
                    alert("Smart Object updated")
                }
                gS = !0
            } else if (w.data.am5) {
                if (!this.sA(R)) return;
                var X = fm.an9(R, w.data.am5, this.jj);
                this.Tx(X);
                gS = !0
            } else if (hn) {
                var P = new Y(_.E.N, !0);
                P.data = {
                    e: _.S.kw,
                    rt: hn
                };
                this.A(P);
                gS = !0
            } else if (R.lh) {
                fm.a3z(R);
                gS = !0
            } else if (R.q7 && R.q7.hi) {
                if (!this.sA(R)) return;
                this.HD.abA(R, this.jj, fm.aav);
                gS = !0
            }
            if (gS) {
                R.Vj = R.A3;
                R.n9 = !0
            } else {
                var P = new Y(_.E.N, !0);
                P.data = {
                    e: _.S.SU
                };
                this.A(P)
            }
        }
        if (b == _.S.SU) {
            if (!this.jj.mv) {
                alert("function is disabled");
                return
            }
            var hn = this.jj.nT.saveAs;
            if (hn) {
                var P = new Y(_.E.N, !0);
                P.data = {
                    e: _.S.kw,
                    rt: hn
                };
                this.A(P);
                return
            }
            var P = new Y(_.E.z, !0);
            P.data = {
                e: a.Po
            };
            P.f = z.lz;
            this.A(P);
            var R = this.B9();
            if (R == null || R.g9) return;
            if (R.AG) {
                R.rW()
            }
            if (R.t.length > 8e3 && 1) return;
            var aq = {
                O_: []
            };
            R.root.Vr([], aq);
            var dU = aq.O_;
            if (dU.length > 11 && 1) return;
            if (!this.sA(R)) return;
            var hO = window.ga,
                ao = _.iZ("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
            if (R.nt() && hO) hO(ao[0], ao[1], ao[2], R._M + ":" + _.iZ(hi.t5() ? "\"'|('61" : "w'| "));
            var X = ip.pR("PSD").nl(R);
            eP.save(X, R.name);
            R.Vj = R.A3;
            R.n9 = !0
        }
        if (b == _.S.uq) window.open(w.data.link, "_blank");
        if (b == _.S.qT) {
            if (this.Ei.AO()) {
                this.dK();
                return
            }
            var R = this.B9(),
                h = R.t[R.u[0]],
                hI = R.Ph(h.add.SoLd.Idnt.v);
            for (var M = 0; M < this.U$.length; M++) {
                var a$ = this.U$[M].oJ;
                if (a$ != null && a$.abC == hI.eo && a$.Fb == R) {
                    this.Qk.pS(M);
                    return
                }
            }
            eP.fh({
                name: hI.YG,
                oJ: {
                    abC: h.add.SoLd.Idnt.v,
                    Fb: R
                }
            }, hI.raw.buffer, this)
        }
        if (b == _.S.qD) {
            this.afD()
        }
        if (b == _.S.Gy) {
            this.gm(w.data.fI, w.data.zd)
        }
        if (b == _.S.a7) {
            this.akV(w.data.ajo)
        }
        if (b == _.S.kw) {
            fE.zl(w.data.rt, this)
        }
        if (b == _.S.y6) {
            if (window.parent != window) window.parent.postMessage(w.data.pO, "*");
            this.s_.S8(w.data.pO)
        }
        if (b == _.S.g3) {
            var hH = parseFloat(w.data.hX);
            if (this.jj.Zt.indexOf(hH) == -1) {
                var P = new Y(_.E.N, !0);
                P.data = {
                    e: _.S.UA,
                    pO: d5.No,
                    F: hH,
                    q7: "add"
                };
                this.A(P)
            }
            this.s_.a2g(w.data.hX)
        }
        if (b == _.S.UE) {
            this.Nq.amo(this.B9(), this.jj)
        }
        if (b == _.S.QH) {
            var hn = this.jj.nT.takePic;
            if (w.data.hX == "camera" && hn) {
                var P = new Y(_.E.N, !0);
                P.data = {
                    e: _.S.kw,
                    rt: hn
                };
                this.A(P);
                return
            }
            if (!this.jj.mv && w.data.window == "saveforweb") {
                alert("function is disabled");
                return
            }
            this.Ei.aaV(w.data.hX, this.B9(), w.data, this.U$, this.PX)
        }
        if (b == _.S.AS) eP.save(w.data.data, w.data.name);
        if (b == _.S.fO) {
            if (!this.Ei.AO() || w.QZ) this.aje(w.data.xN)
        }
        if (b == _.S.Pb) {
            this.Qk.pS(w.data.target);
            var P = new Y(_.E.z, !0);
            P.data = {
                e: a.yO,
                xN: w.data.xN,
                xv: w.data.xv,
                cn: w.data.cn
            };
            P.f = z.lz;
            this.A(P);
            this.W$(z.Go)
        }
        if (b == _.S.R3) {
            d.cv = !d.cv;
            if (this.U$.length > 0) this.B9().C()
        }
        if (b == _.S.a3J) {
            var bq = hi.QI();
            if (bq != null && bq.globals != null) this.A7(bq.globals);
            this.BV()
        }
        if (b == _.S.$P) {
            this.HD.ny(w.data.data, null, w.data.qf, w.data.E_)
        }
        if (b == _.S.Lz) {
            if (!this.Ei.au() != null) this.W$(w.data.f, w.data.NC)
        }
        if (b == _.S.sh) {
            if (this.VW.L2) this.W$(this.VW.L2)
        }
        if (b == _.S.mD) {
            var dq = this.VW.map[w.data.f].f,
                R = this.B9();
            dq.wx(w.data, this, R, this.PX, this.jj);
            if (R) R.ot = !0;
            this.Iu()
        }
        if (b == _.S.X3) {
            var g9 = this.VW.map[w.data.f];
            this.UT(g9);
            g9.fm.f5(w.data)
        }
        if (b == _.S.UA) {
            var R = this.B9(),
                cx = w.data.pO,
                hp = w.data.d5,
                b0 = this.jj;
            if (w.data.q7 == "set") {
                var bh = z.Cs(hp);
                if (b0.jM != bh) this.W$(bh);
                this.VW.map[bh].fm.T7(hp, b0)
            }
            if (w.data.q7 == "add") {
                var N = d5.ro[cx];
                if (cx == d5.No) {
                    b0.Zt.push(w.data.F);
                    b0.Zt.sort(function(ih, fa) {
                        return ih - fa
                    })
                } else if (N == null) {
                    if (hp) b0.md.ahK(hp, w.data.ak0)
                } else {
                    var hA = this.gz(cx);
                    if (cx == d5.IA) {
                        hA.Pe = hA.Pe.concat(hp.Pe);
                        hA.dg = hA.dg.concat(hp.dg);
                        hA = hA.list;
                        hp = hp.list
                    }
                    if (cx == d5.cD && R) {
                        for (var M = 0; M < hp.length; M++) {
                            var T = hp[M].Ze.Lefx;
                            if (T) eg.acy(T, R, b0.QL)
                        }
                    }
                    if (cx == d5.Y8 && hp == null) {
                        var e = this.VW.map[b0.jM].fm.OA();
                        if (e == null) return;
                        hp = [e]
                    }
                    for (var M = 0; M < hp.length; M++) hA.push(hp[M]);
                    if (w.data.ak0 != !0)
                        if (hA.length != hp.length || cx == d5.de || cx == d5.cD || cx == d5.z) alert(b6.get(N[3]) + " " + b6.get([23, 1]) + ".")
                }
            }
            if (w.data.q7 == "del") {
                if (cx == d5.No) {
                    b0.Zt.splice(b0.Zt.indexOf(w.data.F), 1)
                } else {
                    var N = d5.ro[cx],
                        ft = w.data.da,
                        hA = this.gz(cx);
                    if (cx == d5.IA) hA = hA.list;
                    for (var M = 0; M < ft.length; M++) hA[ft[M]] = null;
                    for (var M = 0; M < hA.length; M++)
                        if (hA[M] == null) {
                            hA.splice(M, 1);
                            M--
                        } alert(b6.get(N[3]) + " deleted.")
                }
            }
            if (w.data.q7 == "rnm") {
                var N = d5.ro[cx],
                    hA = this.gz(cx);
                if (cx == d5.IA) hA = hA.list;
                if (hA[w.data.da[0]] == null) return;
                N[2].Pc(hA[w.data.da[0]], w.data.F)
            }
            if (cx == d5.mP) {
                var c6 = w.data.F;
                b0.n4 = c6;
                b0.a6M[c6.o4] = c6.pE
            }
            if (cx == d5.ef) {
                var c6 = w.data.F;
                b0.pw = c6;
                var ba = c6.strokeEnabled.v,
                    f7 = c6.strokeStyleContent.v,
                    an = ba ? {
                        o4: 1 + b_.fQ.xM.indexOf(f7.classID),
                        pE: f7
                    } : {
                        o4: 0
                    };
                b0.and[an.o4] = an.pE
            }
            if (cx == d5.pQ) {
                b0.$p = w.data.$p
            }
            if (cx == d5.mO) {
                b0.Yf.Uw = w.data.L4
            }
            if (cx == d5.gx) {
                b0.C1 = w.data.tu
            }
            if (cx == d5.Ba) {
                var b5, hG = "Clrs";
                if (w.data.D3 < 2) {
                    var eE = w.data.F,
                        aV = w.data.D3 == 0,
                        dp = v.V.Kt({
                            W: eE >>> 16,
                            a: eE >>> 8 & 255,
                            k: eE & 255
                        });
                    if (aV) b0.x1 = eE;
                    else b0.TT = eE;
                    hG = aV ? "FrgC" : "BckC";
                    b5 = {
                        hj: "set",
                        H8: {
                            __name: "Set",
                            classID: "setd",
                            T: {
                                t: "Objc",
                                v: dp
                            }
                        }
                    }
                }
                if (w.data.D3 == 2) {
                    var en = b0.x1;
                    b0.x1 = b0.TT;
                    b0.TT = en;
                    b5 = {
                        hj: "exchange",
                        H8: {
                            __name: "Exchange",
                            classID: "Exch"
                        }
                    }
                }
                if (w.data.D3 == 3) {
                    b0.x1 = 0;
                    b0.TT = 16777215;
                    if (R != null && R.u.length != 0 && R.t[R.u[0]].lY == 1) {
                        var en = b0.x1;
                        b0.x1 = b0.TT;
                        b0.TT = en
                    }
                    b5 = {
                        hj: "reset",
                        H8: {
                            __name: "Reset",
                            classID: "Rset"
                        }
                    }
                }
                if (b5) {
                    b5.H8.null = {
                        t: "obj ",
                        v: [{
                            t: "prop",
                            v: {
                                classID: "Clr",
                                keyID: hG
                            }
                        }]
                    };
                    var g9 = this.Kd();
                    g9.hf = this;
                    g9.track(b5)
                }
            }
            if (cx == d5.cu) {
                b0.Xh = !b0.Xh;
                this.mt()
            }
            if (cx == d5.Nc) {
                b0.O2 = !b0.O2;
                this.mt()
            }
            var f1 = b0.w1;
            if (cx == d5.r1) {
                f1.Rx = !f1.Rx;
                this.mt()
            }
            if (cx == d5._o) {
                f1.BY = !f1.BY;
                this.mt()
            }
            if (cx == d5.Sm) {
                f1.TH = !f1.TH;
                this.mt()
            }
            if (cx == d5.lr) {
                f1.kU = !f1.kU;
                this.mt()
            }
            if (cx == d5.WF) {
                f1.ai = !f1.ai;
                this.mt()
            }
            if (cx == d5.wt) {
                f1.sY = !f1.sY;
                this.mt()
            }
            if (cx == d5.PO) {
                b0.w1 = w.data.tu;
                this.mt()
            }
            if (cx == d5.nQ) {
                b0.mo = !b0.mo;
                this.mt()
            }
            if (cx == d5.ar) {
                b0.N0[w.data.DB] = !b0.N0[w.data.DB];
                this.mt()
            }
            if (cx == d5.GM) {
                b6.ab7(w.data.lang);
                this.v();
                this.mt()
            }
            if (cx == d5.wj) {
                b0.wA = w.data.wA;
                this.v()
            }
            if (cx == d5.$D && b0.rD.VI) {
                var de = b0.rD.VI.transaction(["rsrc"], "readwrite").objectStore("rsrc"),
                    dM = de.put({
                        k: "fs0",
                        fset: b0.rD.Bp
                    });
                dM.onerror = function(w) {
                    console.log(w);
                    alert("Storing failed. Browser says: " + w.target.error.message, 7e3)
                }
            }
            this.b9(cx)
        }
    };
    ea.prototype.sA = function(w) {
        var o = w.nt() || w.oJ && w.oJ.Fb.nt(),
            b = 15;
        if (this.iY()) o = !1;
        var Q = new _.m3[(_.tF("Gc" + (_.LI(31) ? "ue" : "ve"), -3))],
            K = (Q[_.iZ("xy,b-66:")]() & 1) * 60 + Q[_.cG("edtNkqyykz", -2)]();
        if (o && !hi.t5() && K > b) {
            var R = _.m3[_.iZ("}$z{2*35")][_.iZ("y'|!")],
                X = _.mj("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
            X += "\n\n" + _.mj("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"") + (-K + 120) + _.mj("nYRTXTBMd");
            if (R.indexOf(_.iZ("\"|'/-1)(W0?@")) == -1) X = b6.get([0, 11 + 6, 3 + 2]);
            _.m3[_.EA("clh]]c[", 3)](X);
            return !1
        }
        return !0
    };
    ea.prototype.gz = function(w) {
        var o = this.jj,
            Q = [d5.IA, d5.zM, d5._L, d5.$V, d5.Ru, d5.cD, d5.de, d5.z, d5.Y8, d5._G],
            K = [o.Yf, o.yH, o._U, o.QL, o.aB, o.Rb, o.a6H, o.lt, o.AE, o.aaB];
        return K[Q.indexOf(w)]
    };
    ea.prototype.afD = function() {
        var w = this.gm(),
            o = this.B9();
        if (o == null || o.u.length == 0) return;
        var Q = o.t[o.u[0]],
            K = new Y(_.E.z);
        if (w == 1) {
            K.f = z.k9;
            K.data = {
                e: "remove",
                Wp: "Cut Paths"
            }
        } else {
            K = new Y(_.E.e9);
            K.data = {
                hj: "delete"
            }
        }
        this.A(K)
    };
    ea.prototype.gm = function(w, o) {
        if (w == null) w = !1;
        var Q = this.jj;
        console.log("doCopy", w, o);
        var K = this.B9();
        if (K == null || K.u.length == 0) return;
        var b = K.t[o == null ? K.u[0] : o],
            R = K.a$(),
            X = R[0],
            h = R[1],
            e = X[h[0]];
        if (!w && e != null && e.add.vmsk.u.length != 0) {
            Q.f9 = z.EJ.X1(e.add.vmsk, e.add.vogk);
            return 1
        } else if (K.o == null) {} else {
            var Z, P;
            if (w) {
                var J = new B(0, 0, K.D, K.j);
                P = J.z2(K.o.rect);
                Z = v.$(P.O() * 4);
                v.c1(K.X_(), J, Z, P);
                v.BQ(K.o.channel, K.o.rect, Z, P)
            } else if (K.Od.length != 0) {
                P = K.o.rect.clone();
                Z = v.$(P.O() * 4);
                var i = K.SF[K.Od[0]],
                    k = i.Qj(P);
                v.nP(k, Z);
                v.qh(K.o.channel, Z, 3)
            } else {
                var $ = b._J(K, K.o);
                if ($ == null) {
                    alert("Copied area is empty");
                    return
                }
                Z = $.Hb;
                P = $.rect
            }
            var n = K.m.dN,
                j = n[0] + n[1] + n[2];
            if (j == 1) {
                var y = n.indexOf(1);
                for (var M = 0; M < Z.length; M += 4) Z[M] = Z[M + 1] = Z[M + 2] = Z[M + y]
            }
            var V = new fB(K.D, K.j);
            if (_.Qm()) {
                var O = ip.pR("PNG").a4r(Z.buffer, P.D, P.j);
                eP.alp(new Blob([new Uint8Array(O)], {
                    type: "image/png"
                }));
                this.a3F = {
                    U: P,
                    bZ: V
                }
            } else Q.nd = {
                buffer: Z,
                rect: P,
                bZ: V
            };
            Q.a1E = P.clone();
            Q.f9 = null;
            Q.KP = null
        }
    };
    ea.prototype.akV = function(w) {
        console.log("doPaste");
        var o = this.jj,
            Q = o.nd,
            X;
        if (this.U$.length == 0) {
            if (!w && _.Qm()) {
                eP.b2(this, null);
                return
            }
            if (Q) {
                var K = ip.xX("image.psd", [{
                        data: Q.buffer.buffer,
                        Ip: Q.rect
                    }]),
                    b = new Y(_.E.N);
                b.data = {
                    e: _.S.fO,
                    xN: K
                };
                this.A(b)
            }
            return
        }
        var K = this.B9(),
            R = K.t[K.u.length == 0 ? K.t.length - 1 : K.u[0]];
        if (o.f9) {
            var h = K.a$(!0),
                e = h[0],
                Z = h[1];
            X = e[Z[0]]
        }
        var b = new Y(_.E.z, !0);
        if (o.f9 != null && X != null) {
            b.f = z.k9;
            b.data = {
                e: "append",
                Wp: "Paste Paths",
                agM: o.f9
            }
        } else if (!w && _.Qm()) {
            eP.b2(this, this.Xj.bind(this));
            return
        } else if (o.KP != null) {
            b.data = {
                e: a.NK
            };
            b.f = z.lz;
            if (JSON.stringify(o.KP) != JSON.stringify(K.u)) b.data.p = o.KP[0]
        } else {
            if (Q == null) return;
            if (K.yD(!1) && (K.Od.length != 0 || R.lY > 0 || R.rect.Kx())) {
                b.f = z.IA;
                b.data = {
                    e: "draw",
                    a7O: !0,
                    Wp: [5, 2]
                }
            } else {
                b.f = z.lz;
                b.data = {
                    e: a.Wa
                }
            }
            b.data.nd = Q
        }
        this.A(b)
    };
    ea.prototype.US = function() {
        for (var M = 0; M < this.U$.length; M++) {
            var w = this.U$[M],
                o = !0;
            for (var Q = 0; Q < w.t.length; Q++) {
                var K = w.t[Q],
                    b = K.add.TySh;
                if (b != null && !g1.Yk(b, this.jj.md)) o = !1
            }
            if (!o) continue;
            if (w.DF)
                for (var Q = 0; Q < w.t.length; Q++) {
                    var K = w.t[Q],
                        b = K.add.TySh;
                    if (b != null && g1.Yk(b, this.jj.md)) {
                        var R = new gm(b.rr, this.jj.md),
                            X = g1.Ez(R, b);
                        K.rect = X.U;
                        K.buffer = X.Sg;
                        K.C();
                        w.C()
                    }
                }
            if (w.alo) continue;
            w.alo = !0;
            if (w.q7 && w.q7.aaK) fE.zl(w.q7.aaK, this);
            this.Tx();
            var h = new Y(_.E.z);
            h.f = z.uB;
            h.data = {
                e: "start",
                AP: "GEfc"
            };
            var e = new Y(_.E.N)
        }
    };
    ea.prototype.b9 = function(w) {
        var o = this.jj.jM;
        if (w == d5.mO) {
            if (this.VW.map[o].fm) this.VW.map[o].fm.yy(this.jj, w)
        } else
            for (var Q in this.VW.map)
                if (this.VW.map[Q].fm) this.VW.map[Q].fm.yy(this.jj, w);
        if (w == d5.us) {
            if (o != z.wy) this.VW.map[z.wy].f.yy(this.jj, w);
            this.US()
        }
        this.nJ.yy(this.jj, w);
        this.Ei.yy(this.jj, w);
        this.Kd().yy(this.jj, w);
        this.s_.yy(this.jj, w);
        this.$j.yy(this.jj, w);
        if (w == d5.wj || w == d5.Dq) {
            ab.l6(this.jj.wA);
            this.update(!0)
        }
        if ([d5.No, d5.gx, d5.Ba, d5.cu, d5.Nc, d5.PO, d5.Sm, d5.lr, d5.r1, d5._o, d5.WF, d5.wt, d5.GM, d5.wj].indexOf(w) != -1) this.Iu()
    };
    ea.prototype.Iu = function() {
        if (!this.sx) return;
        var w = {},
            o = this.VW.map;
        for (var Q in o) {
            var K = o[Q].f;
            if (K.Pl && K.Pl() != null) w["t" + Q] = K.Pl()
        }
        var b = this.jj,
            R = b.w1,
            X = {
                fcolor: b.x1,
                bcolor: b.TT,
                rulers: b.Xh,
                extras: b.O2,
                favFam: b.C1,
                panels: b.Zt,
                eparams: {
                    guides: R.TH,
                    grid: R.kU,
                    sels: R.Rx,
                    paths: R.BY,
                    pgrid: R.ai,
                    slices: R.sY,
                    gsize: R._Q,
                    gunits: R.X$,
                    gtype: R.fs,
                    runits: R.D5
                },
                lang: b6.vx(),
                theme: b.wA,
                topt: w
            },
            h = hi.QI();
        if (h == null) h = {};
        h.globals = X;
        hi.fK(h)
    };
    ea.prototype.C9 = function() {
        var w = this.PX,
            o = this.SH,
            Q = this.jj.jM,
            K = this.VW.map[Q].f,
            b = null,
            R = !1;
        for (var M = 0; M < this.VW.amN.length; M++) {
            var X = this.VW.amN[M],
                h = !0;
            for (var e = 0; e < X.qB.length; e++) {
                var Z = X.qB[e];
                if (!w.i(Z)) h = !1
            }
            if (h && (!X.vb || !K.AO()) && (X.i8 == null || X.i8.indexOf(Q) != -1)) {
                b = X.f;
                R = X.vb;
                break
            }
        }
        if ((!o.L8 || Q == z.RM) && this.VW.zo != b && (b != Q || !R)) {
            var P = this.B9();
            if (this.VW.zo != null && b == null) this.Kd().disable(P, this, this.jj, w, !0);
            this.VW.zo = b;
            this.Kd().enable(P, this, this.jj, w, b != null && b != Q)
        }
    };
    ea.prototype.CN = function(w) {
        var o = this.jj.jM,
            Q = this.B9();
        if (o != null) {
            this.VW.map[o].f.disable(Q, this, this.jj, this.PX)
        }
    };
    ea.prototype.UT = function(w) {
        if (w.fm == null) {
            w.fm = new w.AA;
            w.fm.a7z(w.f.id, w.f.dR);
            w.fm.yy(this.jj, d5.Dq);
            w.fm.v()
        }
    };
    ea.prototype.W$ = function(w, o) {
        if (w == z.Go && this.Ei.au()) return;
        var Q = this.B9(),
            K = this.jj;
        if (this.VW.map[w].f.Td(Q, K)) {
            this.CN();
            var b = [z.Uu, z.cb, z.t2, z.eF, z.vh, z.xQ, z.gR, z.k9, z.aD].indexOf(K.jM) != -1;
            this.VW.L2 = K.jM ? K.jM : z.sk;
            K.jM = w;
            this.nJ.MV(this.VW, this.jj);
            var R = this.VW.map[w];
            this.VW.s7[R.Tc] = R.a1Q;
            this.UT(R);
            this.QG.ad9(R.fm);
            var X = R.f;
            X.enable(Q, this, this.jj, this.PX, !1, o, b);
            if (Q) Q.ot = !0;
            this.mt()
        }
    };
    ea.prototype.Kd = function(w) {
        var o = this.VW,
            Q = o.HF,
            K = o.zo,
            b = this.jj.jM;
        if (Q) b = Q;
        else if (K && w == null) b = K;
        return o.map[b].f
    };
    ea.prototype.aje = function(w) {
        var o = this.U$.indexOf(w);
        if (o != -1) {
            this.Qk.pS(o);
            return
        }
        if (this.wU && (w.q7 == null || w.q7.hi == null)) {
            w.q7 = {
                hi: this.wU
            }
        }
        if (w.PU == null) {
            w.PU = "local," + this.aa9 + "," + w.name;
            this.aa9++
        }
        if (hj.Z1() != 0 && !this.a8R && _.m3[_.iZ("t$&!'31")].toString().indexOf(_.iZ(" u,$4&")) == -1) {
            alert(_.iZ("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
            return
        }
        for (var M = 0; M < w.t.length; M++) {
            var Q = w.t[M];
            if (Q.add.TySh != null) g1.Yk(w.t[M].add.TySh, this.jj.md)
        }
        var K = _.m3[_.tF("Hd" + (_.LI(26) ? "vf" : "uf"), -4)];
        K = K[_.tF("uu" + (!_.LI(28) ? "-" : "|"), -7)];
        var b = Math.floor(K() / 1e3),
            R = Math.PI * (8036 << 13) + (_.LI(31) ? 20 : 10) * 7e7;
        if (b > R) {
            var X = w.t.length;
            w.t = [];
            return X
        }
        if (d.cv) d.abK(Math.max(w.D, w.j));
        w.tE();
        w.gp();
        w.C();
        this.U$.push(w);
        this.Qk.LK(new fA(w));
        w.ot = !0;
        w.n9 = !0;
        this.US();
        var h = new Y(_.E.z);
        h.f = z.U1;
        h.data = {
            e: "auto",
            ds: 2
        }
    };
    ea.prototype.B9 = function() {
        return this.U$[this.lj]
    };
    ea.prototype.oT = function() {
        return this.Ei.au() == null
    };
    ea.prototype.nv = function(w, o) {
        this.CN();
        var Q = this.U$.length;
        if (o != null) this.Qk.pS((this.Qk.Sy() + o + Q) % Q);
        this.lj = this.Qk.Sy();
        var K = this.B9();
        this.$j.ahD(K, this.jj);
        this.s_.MV(K, this.U$, this.jj);
        this.mt();
        if (K) K.ot = !0
    };
    ea.prototype.agY = function(w) {
        this.CN();
        this.U$.splice(w.data.MU, 1);
        if (this.U$.length == 0) {
            this.nv(w);
            if (d.cv) d.Ww().parentNode.removeChild(d.Ww())
        }
    };
    ea.prototype.ab_ = function(w) {
        var o = [],
            Q = w.data.a7Q;
        for (var M = 0; M < Q.length; M++) o[M] = this.U$[Q[M]];
        this.U$ = o;
        this.lj = this.Qk.Sy()
    };
    ea.prototype.a6T = function(w) {
        var o = this.Qk,
            Q = o.anp(),
            K = this.Kd(),
            b = this.B9();
        if (Q == o.Sy() || !K.aF()) return;
        this.zP(Q, K)
    };
    ea.prototype.zP = function(w, o) {
        var Q = this.jj,
            K = this.Qk,
            b = this.B9(),
            R = this.U$[w],
            X = new Y(_.E.z, !0);
        X.f = z.lz;
        X.data = {
            e: a.s9,
            t: b.ff(null, !0),
            Fb: b,
            Mc: R
        };
        this.A(X);
        var h = this.SH,
            e = Q.Xh;
        Q.Xh = !1;
        h = b.m.WD(h.x, h.y);
        if (o) o.mm(b, this, Q, this.PX);
        K.pS(w);
        h = R.m.BT(h.x, h.y);
        h.x += 49;
        h.y += 112;
        if (o) o.Br(R, this, Q, this.PX, h);
        Q.Xh = e
    };
    ea.prototype.vr = function(w) {
        var o = this.B9(),
            Q = this.PX,
            K = this.jj,
            b = w.in;
        if (b) this.SH = b;
        if (w.action.startsWith("multi")) {
            var R = new Y(_.E.z, !0);
            R.data = {
                e: w.action,
                iU: w.iU
            };
            R.f = z.xT;
            this.A(R);
            return
        }
        var X = this.VW.map[z.sk].f;
        if ((w.action == "down" || w.action == "rdown") && K.jM != z.sk && this.VW.zo != z.sk && X.H4(o, this, K, Q, b)) {
            this.VW.HF = z.sk;
            X.enable(o, this, K, Q, !0)
        }
        var h = this.Ei.au(),
            e = h != null && h.Ov() && this.VW.zo == null ? h : this.Kd();
        if (h != null && e != h && this.Ei.AO() && e.id != z.l4 && e.id != z.xT) return;
        if (w.action == "down") e.Br(o, this, K, Q, b);
        if (w.action == "rdown") e.iM(o, this, K, Q, b);
        if (w.action == "move") e.$z(o, this, K, Q, b);
        if (w.action == "up") e.IN(o, this, K, Q, b);
        if (w.action == "rup") e.ml(o, this, K, Q, b);
        var Z = this.s_;
        if (w.action == "down") Z.Br(o, this, K, Q, b);
        if (w.action == "move") Z.$z(o, this, K, Q, b);
        if (w.action == "up") Z.IN(o, this, K, Q, b);
        if (w.action == "down" || w.action == "up") {
            this.C9()
        }
        if (w.action == "down" || w.action == "up" || w.action == "ctx") {
            o.ot = !0
        }
        if ((w.action == "up" || w.action == "rup") && this.VW.HF) {
            this.VW.HF = null;
            X.disable(o, this, K, Q)
        }
        if (w.action == "scroll") {
            var P = !Q.i(E.HE) && w.yv,
                R = new Y(_.E.z, !0);
            R.data = {
                e: "scroll",
                iJ: w.iJ.clone(),
                in: b
            };
            R.f = Q.i(E.O4) || P ? z.xT : z.l4;
            this.A(R)
        }
    };
    ea.prototype.gK = function(w) {
        var o = this.B9(),
            Q = this.SH;
        if (o && this.Kd().sT(Q, this.PX)) {
            var K = o.m,
                b = K.yG.D,
                R = K.yG.j,
                X = 0,
                h = 0,
                e = 16;
            if (Q.x < e) X = e - Q.x;
            if (Q.x > b - e) X = Q.x - (b - e);
            if (Q.y < e) h = e - Q.y;
            if (Q.y > R - e) h = Q.y - (R - e);
            if ((X != 0 || h != 0) && (o.D * K.I > b || o.j * K.I > R)) {
                X = Math.min(5, X * .5);
                h = Math.min(5, h * .5);
                if (!(Q.x < e || Q.y < e)) {
                    X = -X;
                    h = -h
                }
                K.n.x += X;
                K.n.y += h;
                this.vr({
                    in: this.SH,
                    action: "move"
                });
                o.rn = !0
            }
        }
        this.update()
    };
    ea.prototype.update = function(w) {
        var o = this.B9();
        if (o == null) return;
        if (o.ot) {
            var Q = this.VW.map;
            for (var K in Q) {
                if (Q[K].f.iI) Q[K].f.iI(o, this, this.jj, this.PX)
            }
        }
        if (o.AG) {
            o.rW()
        }
        if (o.AG || o.Yr || o.n9 || o.rn || w) {
            this.Qk.yy(this.jj, null);
            this.Qk.MV(o, this.U$)
        }
        if ((o.AG || o.rn || o.ot) && (!this.SH.L8 || o.Q9)) {
            if (o.ot) o.gp();
            this.s_.MV(o, this.U$, this.jj);
            this.nJ.acL(o, this.PX);
            o.lB = !1
        }
        o.Q9 = !1;
        o.ot = !1;
        o.AG = null;
        o.Yr = o.n9 = o.rn = !1
    };
    ea.prototype.wg = ["input", "textarea", "select"];
    ea.prototype.ys = function(w) {
        var o = w.code,
            Q = E,
            K = Q.Cn;
        return !K(o, Q.EI) && !K(o, Q.HE) && !K(o, Q.O4)
    };
    ea.prototype.ZZ = function(w) {
        var o = w.target.tagName.toLowerCase(),
            Q = w.target.getAttribute("type"),
            K = E,
            b = K.Cn(w.code, K.$g);
        if (this.wg.indexOf(o) != -1 && this.ys(w) && !(b && o == "input" && Q == "range") && !(o == "input" && Q == "checkbox") && !(w.ctrlKey && (K.Cn(w.code, K.SO) || K.Cn(w.code, K.oV))) || o == "button" && (b || K.Cn(w.code, K.YT))) {
            return
        }
        if (K.Jp(w)) {
            w.preventDefault()
        }
        this.PX.Am(K.gY(w));
        this.Yq("down")
    };
    ea.prototype.rE = function(w) {
        if (w.key == " ") this.PX.bq();
        if (E.Cn(w.code, E.Ik)) this.PX.reset();
        this.PX.O$(E.gY(w));
        var o = w.target.tagName.toLowerCase();
        if (this.wg.indexOf(o) != -1 && this.ys(w)) return;
        if (E.Jp(w)) {
            w.preventDefault()
        }
        this.Yq("up")
    };
    ea.prototype.Yq = function(w) {
        var o = this.PX,
            Q = this.B9(),
            K = Q != null && Q.u.length != 0;
        if (this.Nq.au() != null) {
            if (o.i(E.EI)) {
                this.Nq.a9H()
            }
            return
        }
        this.C9();
        var b = this.Aj(E.HE),
            R = o.i(E.O4),
            X = o.i(E.lK);
        if (b && o.i(E.OS) && w == "down") {
            var h = new Y(_.E.z),
                e = new Y(_.E.N);
            h.f = z.Rq;
            if (X) {
                h.data = {
                    e: "h_stepfwd"
                }
            } else {
                h.data = {
                    e: "h_stepbck"
                }
            }
            if (this.Ei.au() != null && this.Ei.au().AO()) {} else this.A(h)
        }
        if (b) {
            var h = new Y(_.E.z),
                Z = new Y(_.E.e9),
                e = new Y(_.E.N);
            if (!R && w == "down")
                for (var P in au.keys) {
                    var J = au.keys[P],
                        i = !0;
                    for (var M = 0; M < J.length; M++)
                        if (!o.i(J[M])) i = !1;
                    if (i) {
                        h.f = z.U1;
                        if (P == "hue2" && X) h.data = {
                            e: "auto",
                            ds: 3
                        };
                        else h.data = {
                            e: "start",
                            uQ: P
                        }
                    }
                }
            if (o.i(E.S)) {
                Z.data = z.hz.RL(!0)
            }
            if (o.i(E.kS)) {
                if (R) e.data = {
                    e: _.S.QH,
                    hX: "csize"
                };
                else e.data = {
                    e: _.S.Gy,
                    fI: X
                }
            }
            if (o.i(E.N4)) {
                Z.data = z.hz.RL()
            }
            if (o.i(E.E) && w == "down") {
                h.f = z.lz;
                if (X) h.data = {
                    e: a.rv
                };
                else {
                    if (Q && Q.u.length == 1 && Q.u[0] != 0 && !Q.t[Q.u[0]].xI()) h.data = {
                        e: a.NH
                    };
                    else h.data = {
                        e: a.FS
                    }
                }
            }
            if (o.i(E.Jx)) {
                if (X && this.jj.jM != z.Go) e.data = {
                    e: _.S.QH,
                    hX: "afw_fade"
                };
                else if (R) {
                    h.f = z.uB;
                    h.data = {
                        e: "applylast"
                    }
                } else e.data = {
                    e: _.S.UE
                }
            }
            if (o.i(E.PJ)) {
                if (R && Q && Q.dH(Q.u[0])) {
                    h.f = z.lz;
                    h.data = {
                        e: a.nR
                    }
                } else {
                    h.f = z.lz;
                    h.data = {
                        e: a.uR
                    }
                }
            }
            if (o.i(E.hy)) {
                e.data = {
                    e: _.S.UA,
                    pO: d5.Nc
                }
            }
            if (o.i(E.jr)) {
                if (X) {
                    h.data = null;
                    if (R) e.data = {
                        e: _.S.QH,
                        hX: "finfo"
                    };
                    else Z.data = {
                        hj: "inverse"
                    }
                } else if (R) e.data = {
                    e: _.S.QH,
                    hX: "isize"
                }
            }
            if (o.i(E.yb)) {
                h.f = z.lz;
                h.data = {
                    e: a.CU
                }
            }
            if (o.i(E.tf)) {
                e.data = {
                    e: _.S.QH,
                    hX: "preferences"
                }
            }
            if (o.i(E.f2)) {
                if (X) {
                    h.f = z.lz;
                    h.data = {
                        e: a.Dn
                    }
                } else e.data = {
                    e: _.S.QH,
                    hX: "newproject"
                }
            }
            if (o.i(E.m$)) {
                e.data = {
                    e: _.S.IU
                };
                o.reset()
            }
            if (o.i(E.Uc)) {
                e.data = {
                    e: _.S.Z3
                };
                o.reset()
            }
            if (o.i(E.To)) {
                e.data = {
                    e: _.S.UA,
                    pO: d5.cu
                }
            }
            if (o.i(E.rB) && w == "down") {
                if (X) {
                    if (R) e.data = {
                        e: _.S.QH,
                        hX: "saveforweb"
                    };
                    else e.data = {
                        e: _.S.SU
                    }
                } else e.data = {
                    e: _.S.O8
                }
            }
            if (o.i(E.R)) {
                if (X) {
                    h.f = z.Go;
                    h.data = {
                        e: "again"
                    }
                } else e.data = {
                    e: _.S.Lz,
                    f: z.Go
                }
            }
            if (o.i(E.fx)) {
                e.data = {
                    e: _.S.a7
                }
            }
            if (o.i(E.CH)) {
                this.Qk.zZ()
            }
            if (o.i(E.C3)) {
                e.data = {
                    e: _.S.qD
                }
            }
            if (o.i(E.dr) || o.i(E.OB)) {
                h.f = z.lz;
                h.data = {
                    e: a.aH,
                    D3: 0
                };
                if (o.i(E.dr)) h.data.D3 = X ? 3 : 2;
                else h.data.D3 = X ? 0 : 1
            }
            if (o.i(E.$g) && Q) {
                var k = 0;
                if (X) k++;
                if (R) k += 2;
                h.f = z.By;
                h.data = {
                    e: "frompath",
                    EG: [null, 0, k]
                }
            }
            if (o.i(E.JO)) {
                Z.data = z.U0.FJ(0)
            }
            if (o.i(E.YT)) {
                var $ = this.U$.length;
                if ($ > 1) this.Qk.pS((this.Qk.Sy() + 1) % $)
            }
            if (o.i(E.El)) {
                e.data = {
                    e: _.S.UA,
                    pO: d5.Sm
                }
            }
            if (o.i(E.IZ)) {
                e.data = {
                    e: _.S.UA,
                    pO: d5.lr
                }
            }
            if (o.i(E.SO) || o.i(E.ahY)) {
                h.f = z.xT;
                h.data = {
                    e: "zoom",
                    w8: !0
                }
            }
            if (o.i(E.oV)) {
                h.f = z.xT;
                h.data = {
                    e: "zoom",
                    w8: !1
                }
            }
            if (o.i(E.yI)) {
                h.f = z.xT;
                h.data = {
                    e: "adapt",
                    F: "fitscr"
                }
            }
            if (o.i(E.oF)) {
                h.f = z.xT;
                h.data = {
                    e: "adapt",
                    F: "pixel"
                }
            }
            if (this.Ei.au() != null && this.Ei.au().AO()) {} else {
                if (h.data) this.A(h);
                if (Z.data) this.A(Z);
                if (e.data) this.A(e)
            }
        }
        if (!o.i(E.HE) && !R && !X && w == "down") {
            var h = new Y(_.E.z),
                e = new Y(_.E.N),
                n = this.VW.map[this.jj.jM],
                j = -1;
            for (var M = 0; M < this.VW.keys.length; M++)
                if (this.VW.keys[M] && this.Aj(this.VW.keys[M])) j = M;
            if (j != -1) {
                var y;
                if (n.Tc != j) y = this.VW.s7[j];
                if (n.Tc == j) y = (n.a1Q + 1) % this.VW.f_[j].length;
                var V = this.VW.f_[j][y].f.id,
                    O = this.jj.amV;
                if ((O == null || O.indexOf(parseInt(V)) != -1) && !this.SH.L8) e.data = {
                    e: _.S.Lz,
                    f: V
                }
            }
            if (o.i(E.C3)) e.data = {
                e: _.S.UA,
                pO: d5.Ba,
                D3: 2
            };
            if (o.i(E.N4)) e.data = {
                e: _.S.UA,
                pO: d5.Ba,
                D3: 3
            };
            if (e.data) this.A(e);
            if (Q && Q.u.length != 0) {
                var S = Q.t[Q.u[0]],
                    G = S.lY;
                if (G == 1 || G == 3) {
                    var D = G == 3 ? S.Ca(Q).q : S._f(),
                        q = D.He ? Q.m.dN.join("") == "111" ? 1 : 2 : 0;
                    h.f = z.xT;
                    if (D && o.i(E.EI) && q != 0) {
                        h.data = {
                            e: "mskView",
                            F: 0
                        }
                    }
                    if (D && o.i(E.abt)) {
                        h.data = {
                            e: "mskView",
                            F: q == 1 ? 0 : 1
                        }
                    }
                    if (D && o.i(E.agx)) {
                        h.data = {
                            e: "mskView",
                            F: q == 2 ? 0 : 2
                        }
                    }
                    if (h.data) this.A(h)
                }
            }
            var T = o.I8();
            if (K && T != -1 && this.Aj(E.bz[T])) {
                var L = Q.u[0],
                    S = Q.t[L],
                    N = _.Ht(Math.round(100 * S.opacity / 255), T);
                h.f = z.lz;
                h.data = {
                    e: a.IL,
                    tu: Math.round(255 * N / 100)
                };
                this.A(h)
            }
            if (o.i(E.YT)) this.uM(this.xH == 0 ? 1 : 0);
            if (o.i(E.Jx) || o.i(E.EI) && this.xH == 2) this.uM(this.xH == 0 ? 2 : 0);
            if (o.i(E.amu) && !this.SH.L8) {
                h.f = z.By;
                h.data = {
                    e: "qmask"
                };
                this.A(h)
            }
        }
        if (!o.i(E.HE) && !R && X) {
            var h = new Y(_.E.z),
                e = new Y(_.E.N);
            if (o.i(E.amh)) e.data = {
                e: _.S.QH,
                hX: "shortcuts"
            };
            if (o.i(E.g5)) e.data = {
                e: _.S.QH,
                hX: "fill"
            };
            if (o.i(E.afi)) e.data = {
                e: _.S.QH,
                hX: "sel_feather"
            };
            if (K && (o.i(E.SO) || o.i(E.oV))) {
                var L = Q.u[0],
                    S = Q.t[L],
                    F = hL.IM,
                    I = F.length,
                    s = F.indexOf(S.TC);
                h.f = z.lz;
                h.data = {
                    e: a._3,
                    tu: (s + I + (o.i(E.SO) ? 1 : -1)) % I
                };
                this.A(h)
            }
            if (e.data) this.A(e)
        }
        var h = new Y(_.E.z),
            u = w == "down" && (this.Aj(E.U_) || this.Aj(E.OW));
        if ((b || R) && u) {
            h = new Y(_.E.e9);
            h.data = z.bA.M3(b ? "BckC" : "FrgC");
            this.A(h)
        } else if (Q && u && !this.SH.L8) {
            if (Q.o != null) {
                h = new Y(_.E.e9);
                h.data = {
                    hj: "delete"
                }
            } else {
                h.f = z.lz;
                h.data = {
                    e: a.kG
                }
            }
            this.A(h)
        }
        if (this.Ei.au() != null) {
            if (o.i(E.EI)) {
                this.Ei.au().cH()
            } else {
                this.Ei.au().Yq(Q, this, this.jj, o)
            }
        }
        if (this.jj.jM == null) return;
        var n = this.Kd();
        if (this.Ei.au() == null || this.VW.zo) n.Yq(Q, this, this.jj, o)
    };
    ea.prototype.Aj = function(w) {
        var o = this.PX,
            Q = this.VW.map[this.jj.jM].f,
            top = this.Ei.au(),
            K = this.B9();
        return o.i(w) && !Q.jy(w, K) && (top == null || !top.jy(w, K))
    };
    ea.a8i = function() {
        if (!document.mozFullScreen && !document.amC) {
            var w = document.body;
            if (w.mozRequestFullScreen) {
                w.mozRequestFullScreen()
            } else {
                w.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)
            }
        } else {
            if (document.mozCancelFullScreen) {
                document.mozCancelFullScreen()
            } else {
                document.webkitCancelFullScreen()
            }
        }
    };
    ea.prototype.uM = function(w) {
        var o = this.a4n,
            Q = this.Zc;
        this.xH = w;
        var K = _.wH,
            b = this.$j.d;
        if (K(b)) this.Vu.removeChild(b);
        var R = this.QG.d;
        if (K(R)) this.Vu.removeChild(R);
        var X = this.nJ.d;
        if (K(X)) o.removeChild(X);
        var h = this.Qk.d;
        if (K(h)) o.removeChild(h);
        var e = this.s_.d;
        if (K(e)) o.removeChild(e);
        if (w == 0) {
            this.Vu.appendChild(b);
            this.Vu.appendChild(R);
            Q.appendChild(o);
            o.appendChild(X);
            o.appendChild(h);
            o.appendChild(e)
        }
        if (w == 1) {
            this.Vu.appendChild(b);
            o.appendChild(h)
        }
        if (w == 2) {
            o.appendChild(h)
        }
        this.Qk.uM(w == 2 ? 1 : 0);
        if (document.fullscreenEnabled) {
            if (w == 2) document.body.requestFullscreen();
            else if (document.fullscreenElement) document.exitFullscreen()
        }
        this.mt()
    };

    function g0(w) {
        cv.call(this);
        if (w == null) return;
        this.i7 = null;
        this.Y7 = null;
        this.d = _.B("div", "sbar" + " " + w);
        this.nI = new _.B("div", "top");
        this.nI.innerHTML = "> <";
        this.d.appendChild(this.nI);
        this.zp = 1;
        this.nI.addEventListener("click", this.aiC.bind(this), !1)
    }
    g0.prototype = new cv;
    g0.prototype.aiC = function(w) {
        if (this.i7 != null && this.i7 < 500 && this.zp == 0) return;
        if (this.zp == 0) this.DH(!0);
        else this.collapse(!0)
    };
    g0.prototype.br = function(w) {
        this.zp = w;
        this.nI.innerHTML = this.zp == 0 ? "< >" : "> <"
    };
    g0.prototype.Jc = function() {
        var w = new Y(_.E.N, !0);
        w.data = {
            e: _.S.WN
        };
        this.A(w)
    };
    g0.prototype.DH = function(w) {
        this.br(1);
        if (w) this.Jc()
    };
    g0.prototype.collapse = function(w) {
        this.br(0);
        if (w) this.Jc()
    };
    g0.prototype.h$ = function() {
        return this.zp == 1
    };

    function fF(w) {
        g0.call(this, "vcolumn");
        this.qM = w;
        this.TW();
        this.Vg = _.B("div");
        this.Vg.setAttribute("style", "cursor:default;");
        this.ak4 = this.ala.bind(this);
        this.ak5 = this.anG.bind(this);
        this.akT = this.a8H.bind(this);
        _._v(this.d, this.ak4);
        this.d.appendChild(this.Vg);
        this.GS = _.B("div", "");
        this.Vg.appendChild(this.GS);
        this.tZ = null;
        this.ZV = _.B("div", "float");
        this.se = [];
        this.acd = null;
        this.akf = 0
    }
    fF.prototype = new g0;
    fF.prototype.ala = function(w) {
        if (w.target != this.d) return;
        if (!this.h$()) return;
        this.acd = _.m5(w, document.body);
        this.akf = this.qM;
        _.vt(document, this.ak5);
        _.$y(document, this.akT)
    };
    fF.prototype.anG = function(w) {
        var o = _.m5(w, document.body);
        this.qM = this.akf + this.acd.x - o.x;
        this.TW();
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.WN
        };
        this.A(Q)
    };
    fF.prototype.a8H = function(w) {
        _.Vk(document, this.ak5);
        _.p_(document, this.akT)
    };
    fF.prototype.ae2 = function(w) {
        w.s("showFloat", this.nn, this);
        w.s("hideFloat", this.Ne, this);
        this.se.push(w);
        w.parent = this;
        this.Vg.appendChild(w.d)
    };
    fF.prototype.ajV = function(M) {
        var w = this.se[M];
        w.removeEventListener("showFloat", this.nn, this);
        w.removeEventListener("hideFloat", this.Ne, this);
        this.se.splice(M, 1);
        w.parent = null;
        this.Vg.removeChild(w.d)
    };
    fF.prototype.a7A = function() {
        return this.se.length
    };
    fF.prototype.MN = function() {
        for (var M = 0; M < this.se.length; M++) this.se[M].MN()
    };
    fF.prototype.nn = function(w) {
        this.Ne(w);
        this.GS.appendChild(this.ZV);
        this.tZ = w.currentTarget.$M;
        this.ZV.appendChild(this.tZ);
        var o = w.currentTarget.OY(),
            Q = "";
        if (o.x != 0) Q += "width : " + o.x + "px;";
        if (o.y != 0) Q += "height: " + o.y + "px;";
        this.ZV.setAttribute("style", Q);
        this.VJ(this.i7, this.Y7)
    };
    fF.prototype.Ne = function(w) {
        this.MN();
        if (this.tZ) {
            this.GS.removeChild(this.ZV);
            this.ZV.removeChild(this.tZ);
            this.tZ = null
        }
    };
    fF.prototype.TW = function() {
        this.d.setAttribute("style", "width: " + this.qM + "px; padding-left:3px; cursor:ew-resize;")
    };
    fF.prototype.DH = function(w) {
        this.TW();
        this.Ne();
        for (var M = 0; M < this.se.length; M++) this.se[M].DH();
        g0.prototype.DH.call(this, w)
    };
    fF.prototype.collapse = function(w) {
        this.d.removeAttribute("style");
        for (var M = 0; M < this.se.length; M++) this.se[M].collapse();
        g0.prototype.collapse.call(this, w)
    };
    fF.prototype.VJ = function(w, o) {
        this.i7 = w;
        this.Y7 = o;
        var Q = this.se.length,
            K = this.h$();
        o -= 6;
        if (Q == 0) return;
        w = this.qM;
        var b = o;
        for (var M = 0; M < Q - 1; M++) {
            var R = this.se[M],
                X = R.ac8();
            R.VJ(w, K ? X : o);
            b -= X
        }
        this.se[Q - 1].VJ(w, K ? b : o)
    };

    function ar(w) {
        cv.call(this);
        this.d = _.B("div");
        this.Vg = null;
        this.$B = 0;
        this.IP = 0;
        this.aka = w;
        this.alX = this.MM.bind(this);
        this.agz = this.Le.bind(this);
        this.ajX = this.Fo.bind(this);
        this.Os = null;
        this.yo = null;
        this.zU = null;
        _._v(this.d, this.alX);
        var o = this.d,
            K = "<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
        o.addEventListener("touchmove", _.ZN, !1);
        this.a7K = !0;
        this.Jq = [];
        var Q = this.aiK = _.B("div");
        Q.setAttribute("style", "float:right; padding:4px;display:none; position:relative;z-index:1;");
        this.d.appendChild(Q);
        var b = ["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />", [0, 13, 3],
            [0, 13, 4],
            [0, 13, 5], "Blog", "API", K + "<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>", K + "<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"
        ];
        for (var M = 0; M < b.length; M++) {
            var R = new dQ(b[M]);
            this.Jq.push(R);
            R.d.setAttribute("style", "margin-left:4px;cursor:pointer;");
            R.s("click", this.$E, this)
        }
    }
    ar.prototype = new cv;
    ar.prototype.v = function() {
        var w = this.aiK;
        _.Tk(w);
        for (var M = 0; M < this.Jq.length; M++) {
            var o = this.Jq[M];
            o.v();
            var Q = Date.now() < 1595058192822 && !hi.t5();
            if (M != 0 || Q) w.appendChild(o.d)
        }
    };
    ar.prototype.$E = function(w) {
        var M = this.Jq.indexOf(w.currentTarget);
        if (M == 1) {
            if (window.showCap) window.showCap();
            return
        }
        var o = "CTA  issues learn blog api twitter facebook".split(" "),
            Q = "//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //twitter.com/photopeacom //www.facebook.com/photopea/".split(" "),
            K = window.ga;
        if (K) K("send", "event", "Links", o[M]);
        var b = new Y(_.E.N, !0);
        b.data = {
            e: _.S.uq,
            link: Q[M]
        };
        this.A(b)
    };
    ar.prototype.MM = function(w) {
        if (w.a91) {
            w.preventDefault();
            w.stopPropagation()
        }
        var o = window;
        _.vt(o, this.agz);
        _.$y(o, this.ajX);
        o = this.Vg;
        this.Os = new fB(parseInt(o.style.left), parseInt(o.style.top));
        this.yo = _.m5(w, this.d);
        this.zU = o.getBoundingClientRect()
    };
    ar.prototype.Le = function(w) {
        var o = _.m5(w, this.d),
            Q = this.Os.x + o.x - this.yo.x,
            K = this.Os.y + o.y - this.yo.y,
            b = this.$B - this.zU.width,
            R = this.IP - this.zU.height;
        if (this.aka) this.Vg.style.left = Math.min(0, Math.max(b, Q)) + "px";
        else this.Vg.style.top = Math.min(0, Math.max(R, K)) + "px";
        if (Q - 10 > 0) {
            this.yo.x = o.x - 10;
            this.Os.x = 0
        }
        if (Q + 10 < b) {
            this.yo.x = o.x + 10;
            this.Os.x = b
        }
    };
    ar.prototype.Fo = function(w) {
        var o = window;
        _.Vk(o, this.agz);
        _.p_(o, this.ajX)
    };
    ar.prototype.a2i = function(w) {
        if (this.Vg) {
            this.d.removeChild(this.Vg)
        }
        this.Vg = w;
        this.d.appendChild(w);
        w.style.position = "absolute";
        if (this.aka) w.style.left = 0;
        else w.style.top = 0
    };
    ar.prototype.VJ = function(w, o) {
        this.$B = w;
        this.IP = o;
        this.d.setAttribute("style", "width: " + w + "px; height: " + o + "px; overflow:hidden; white-space: nowrap;");
        var Q = this.Vg.firstChild,
            K = this.aiK,
            b = Q ? Q.firstChild.getBoundingClientRect().width + 80 : 1e9,
            R = 450,
            X = this.a7K && w > b + R,
            h = _.Hw,
            e = h("b`bRH"),
            Z = h("SU\\VOAV");
        K[e][Z] = X ? "" : h("][WK")
    };

    function fH() {
        cv.call(this);
        this.AL = null;
        this.t0 = fH.Uc;
        this.a4F = "";
        this.d = _.B("div", "rightbar");
        this.p0 = [new fF(380), new fF(265)];
        this.se = [new gK, new gK, new gK, new gK, new gK, new gK];
        this.aj4 = []
    }
    fH.prototype = new cv;
    fH.prototype.v = function() {
        var w = this.t0;
        for (var M = 0; M < w.length; M++) w[M].wh.v()
    };
    fH.Uc = [{
        wh: new cz,
        bx: 2
    }, {
        wh: new ed,
        bx: 3
    }, {
        wh: new dK,
        bx: 1
    }, {
        wh: new ct(!0),
        bx: 4
    }, {
        wh: new bu,
        bx: 0
    }, {
        wh: new gt,
        bx: 4
    }, {
        wh: new ga,
        bx: 2
    }, {
        wh: new aY,
        bx: 0
    }, {
        wh: new c1,
        bx: 2
    }, {
        wh: new aF,
        bx: 1
    }, {
        wh: new gs,
        bx: 3
    }, {
        wh: new fu,
        bx: 2
    }, {
        wh: new ct(!1),
        bx: 4
    }, {
        wh: new ex,
        bx: 1
    }, {
        wh: new dv,
        bx: 4
    }, {
        wh: new da,
        bx: 2
    }, {
        wh: new bl,
        bx: 0
    }, {
        wh: new hu,
        bx: 5,
        AM: !0
    }, {
        wh: new d8,
        bx: 5,
        AM: !0
    }];
    (function() {
        var w = [{
            id: fs.To.a0Y,
            name: "Gallery",
            url: "plugins/gallery.html",
            width: 400,
            height: 400,
            icon: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"
        }, {
            name: "Emoji",
            url: "https://hxim.github.io/TwemojiPlugin/twemoji3.html",
            width: 400,
            height: 400,
            icon: "https://hxim.github.io/TwemojiPlugin/icon.svg"
        }];
        for (var M = 0; M < w.length; M++) fH.Uc.push({
            wh: new at(w[M], 100 + M),
            bx: 5,
            AM: !0
        })
    }());
    fH.prototype.a5L = function(w) {
        for (var M = 0; M < w.length; M++) {
            var o = w[M],
                Q = new at(o, "plg_" + o.name);
            this.t0.push({
                wh: Q,
                bx: 5
            });
            this.aj4.push(Q.QF)
        }
        this.KM()
    };
    fH.prototype.yy = function(w, o) {
        this.AL = w;
        var Q = this.t0;
        for (var M = 0; M < Q.length; M++) Q[M].wh.yy(w, o);
        if (o == d5.No || o == d5.Dq) this.KM()
    };
    fH.prototype.S8 = function(w) {
        var o = this.t0;
        for (var M = 0; M < o.length; M++) o[M].wh.S8(w)
    };
    fH.prototype.VJ = function(w, o) {
        this.i7 = w;
        this.Y7 = o;
        this.p0[0].VJ(w, o);
        this.p0[1].VJ(w, o)
    };
    fH.prototype.KM = function() {
        var w = this.AL,
            o = this.i7;
        if (w == null || o == 0) return;
        var Q = w.Zt.concat(this.aj4);
        if (JSON.stringify(Q) != this.a4F) {
            this.a4F = JSON.stringify(Q);
            _.Tk(this.d);
            var K = [];
            for (var M = 0; M < this.p0.length; M++) {
                var b = this.p0[M];
                K[M] = b.h$();
                while (b.a7A() != 0) b.ajV(0);
                b.DH()
            }
            var R = [];
            for (var M = 0; M < this.se.length; M++) {
                var X = this.se[M];
                X.DH();
                while (X.a33() != 0) X.Ha(0);
                R.push(0)
            }
            for (var M = 0; M < Q.length; M++) {
                var h = this.Us(Q[M].toString());
                this.se[h.bx].LK(h.wh);
                this.se[h.bx].pS(0);
                R[h.bx]++
            }
            var e = [];
            for (var M = 0; M < R.length; M++) {
                if (R[M] == 0) continue;
                var Z = M < 2 || o < 500 ? 1 : 0,
                    b = this.p0[Z];
                b.parent = this;
                b.ae2(this.se[M]);
                e[Z] = !0
            }
            for (var M = 0; M < this.p0.length; M++)
                if (e[M]) this.d.appendChild(this.p0[M].d);
            this.p0[0].collapse();
            if (o < 600 || this.AL.compact || !K[1]) {
                this.p0[1].collapse()
            }
            var P = new Y(_.E.N, !0);
            P.data = {
                e: _.S.WN
            };
            this.A(P)
        }
    };
    fH.prototype.Us = function(w) {
        for (var M = 0; M < this.t0.length; M++)
            if (this.t0[M].wh.QF == w) return this.t0[M]
    };
    fH.prototype.a2g = function(w) {
        var o = this.Us(w);
        this.se[o.bx].LK(o.wh)
    };
    fH.prototype.MV = function(w, o, Q) {
        var K = this.t0;
        for (var M = 0; M < K.length; M++) K[M].wh.MV(w, o, Q)
    };
    fH.prototype.Br = function(w, o, Q, K, b) {
        var R = this.t0;
        for (var M = 0; M < R.length; M++) R[M].wh.Br(w, o, Q, K, b)
    };
    fH.prototype.$z = function(w, o, Q, K, b) {
        var R = this.t0;
        for (var M = 0; M < R.length; M++) R[M].wh.$z(w, o, Q, K, b)
    };
    fH.prototype.IN = function(w, o, Q, K, b) {
        var R = this.t0;
        for (var M = 0; M < R.length; M++) R[M].wh.IN(w, o, Q, K, b)
    };

    function am(w, o) {
        g0.call(this, "toolbar");
        this.a6A = null;
        this.di = _.B("div", "tools");
        this.d.appendChild(this.di);
        this.GJ = null;
        this.a6j = o;
        this.rq = null;
        this.VW = null;
        this.YR = null;
        this.LU = null;
        this.yt = null;
        this.Np(w);
        this.x1 = new eQ;
        this.x1.s(_.E.h, this.$b, this);
        this.x1.parent = this;
        this.TT = new eQ;
        this.TT.s(_.E.h, this.$b, this);
        this.TT.parent = this;
        this.q2 = new dQ(_.oP("lrs/mask"), !1, [6, 6, 1]);
        this.q2.d.style.marginTop = "6px";
        this.q2.s("click", function(X) {
            var h = new Y(_.E.z, !0);
            h.f = z.By;
            h.data = {
                e: "qmask"
            };
            this.A(h)
        }, this);
        var Q = new eO(null, ["Ctrl", "Alt", "Shift"], !0);
        Q.s(_.E.h, this.aeN, this);
        var K = _.B("span", "rangecont form");
        K.appendChild(Q.d);
        var b = new cv;
        b.d = K;
        this.ahh = [!1, !1, !1];
        this.pk = new dQ("\u2328", !1, "Virtual Keys");
        this.pk.s("click", function(X) {
            var h = this.pk.d.getBoundingClientRect(),
                e = new Y(_.E.N, !0);
            e.data = {
                e: _.S.Gj,
                wh: b,
                x: h.left,
                y: h.top - 30
            };
            this.A(e)
        }, this);
        this.GL = _.B("span", "scont");
        this.BM = _.B("button", "switch");
        this.BM.textContent = "\u21F5";
        this.Iy = _.B("button", "switch");
        this.Iy.textContent = "D";
        var R = this.a8q.bind(this);
        this.BM.addEventListener("click", R, !1);
        this.Iy.addEventListener("click", R, !1);
        this.GL.appendChild(this.BM);
        this.GL.appendChild(this.Iy)
    }
    am.prototype = new g0;
    am.prototype.aeN = function(w) {
        var o = w.target.T();
        this.pk.G(o[0] || o[1] || o[2]);
        var Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.d4
        };
        this.A(Q);
        for (var M = 0; M < 3; M++) {
            if (o[M] != this.ahh[M]) {
                Q.data = {
                    e: _.S.tj,
                    L8: o[M],
                    key: ["ControlLeft", "AltLeft", "ShiftLeft"][M]
                };
                this.A(Q)
            }
        }
        this.ahh = o.slice(0)
    };
    am.prototype.acL = function(w, o) {
        this.rq = o;
        if (w == null || w.u.length == 0 || w.t[w.u[0]] == null) return;
        var Q = w.q2() != null,
            K = w.m.dN,
            b = w.t[w.u[0]].lY,
            R = b == 1 || b == 3 || Q || K[0] + K[1] + K[2] == 1;
        this.x1.u0(R);
        this.TT.u0(R);
        this.q2.G(Q)
    };
    am.prototype.Np = function(w) {
        this.a6A = w;
        this.YR = [];
        this.LU = [];
        this.yt = [];
        this.VW = [];
        var o = w.f_;
        if (this.GJ) {
            var Q = [],
                K = this.GJ.amV;
            for (var M = 0; M < o.length; M++) {
                if (o[M] == "---") {
                    Q.push("---");
                    continue
                }
                var b = [];
                for (var R = 0; R < o[M].length; R++) {
                    var X = o[M][R];
                    if (K == null || K.indexOf(parseInt(X.f.id)) != -1) b.push(X)
                }
                if (b.length > 0) Q.push(b)
            }
            o = Q
        }
        for (var M = 0; M < o.length; M++) {
            if (o[M] == "---") {
                this.yt.push(null);
                this.LU.push("---");
                continue
            }
            var h = [],
                e = this.YR.length;
            for (var R = 0; R < o[M].length; R++) {
                var X = o[M][R].f;
                this.VW.push(X);
                var Z = new hh(X.name, w.keys[M], X.dR, this.YR.length, M, o[M].length > 1);
                this.YR.push(Z);
                if (R == 0) this.LU.push(Z);
                Z.s(_.E.h, this.u4, this);
                Z.s("mover", this.Ym, this);
                h.push({
                    name: X.name,
                    L0: X.dR,
                    qB: w.keys[M] ? w.keys[M].Y$ : ""
                })
            }
            if (h.length == 1) this.yt.push(null);
            else {
                var P = new ag(h);
                P.ac1 = e;
                P.Tc = M;
                this.yt.push(P);
                P.s("select", this.a4T, this);
                P.parent = this
            }
        }
    };
    am.prototype.VJ = function(w, o) {
        var Q = o - 11,
            K = 32;
        if (1 < _.J() && _.J() < 1.5) K = 18 + 14 * (1 / _.J());
        var b = (this.LU.length - 3) * K + 3 * 5 + 61 + 18 + 24,
            R = Math.min(1, Q / b);
        if (.75 <= R) {
            this.di.setAttribute("style", "width:34px; transform-origin: top left; transform: scale(" + R + "," + R + ");");
            this.d.setAttribute("style", "height:" + (o - 2) + "px; overflow:hidden")
        } else {
            Q -= 4;
            this.di.setAttribute("style", "height: " + Q + "px;  width:" + Math.ceil(b / Q) * 34 + "px");
            this.d.setAttribute("style", "")
        }
    };
    am.prototype.v = function() {
        for (var M = 0; M < this.YR.length; M++) this.YR[M].v();
        for (var M = 0; M < this.yt.length; M++)
            if (this.yt[M]) this.yt[M].v();
        this.BM.setAttribute("title", b6.get([22, 7, 0]) + " (X)");
        this.Iy.setAttribute("title", b6.get([22, 7, 1]) + " (D)")
    };
    am.prototype.u4 = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.Lz,
            f: this.VW[w.id].id
        };
        this.A(o)
    };
    am.prototype.a4T = function(w) {
        var o = w.target.ac1 + w.target.ud()[0];
        this.YR[o].Fo(null)
    };
    am.prototype.Ym = function(w) {
        var o = this.rq,
            Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.d4
        };
        this.A(Q);
        var K = w.target,
            b = this.yt[K.Tc];
        if (b == null) return;
        var R = K.d.getBoundingClientRect(),
            Q = new Y(_.E.N, !0);
        Q.data = {
            e: _.S.Gj,
            wh: b,
            x: R.left + R.width + 8,
            y: R.top
        };
        if (o == null || !(o.i(E.$0) || o.i(E.HE))) this.A(Q)
    };
    am.prototype.$b = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.UA,
            pO: d5.Ba,
            D3: w.target == this.x1 ? 0 : 1,
            F: w.target.f0()
        };
        this.A(o)
    };
    am.prototype.a8q = function(w) {
        var o = new Y(_.E.N, !0);
        o.data = {
            e: _.S.UA,
            pO: d5.Ba,
            D3: w.currentTarget == this.BM ? 2 : 3
        };
        this.A(o)
    };
    am.prototype.W$ = function(w) {
        var o = -1;
        for (var M = 0; M < this.VW.length; M++)
            if (this.VW[M].id == w) o = M;
        for (var M = 0; M < this.YR.length; M++) {
            var Q = this.YR[M];
            Q.aco(o == M)
        }
        if (o == -1) return;
        this.LU[this.YR[o].Tc] = this.YR[o];
        _.Tk(this.di);
        var K = this.LU;
        for (var M = 0; M < K.length; M++) {
            if (K[M] == "---") this.di.appendChild(_.B("hr"));
            else this.di.appendChild(K[M].d)
        }
        if (!this.a6j) return;
        this.di.appendChild(this.x1.d);
        this.di.appendChild(this.GL);
        this.di.appendChild(this.TT.d);
        this.di.appendChild(this.q2.d);
        this.di.appendChild(this.pk.d)
    };
    am.prototype.MV = function(w, o) {
        this.W$(o.jM)
    };
    am.prototype.yy = function(w, o) {
        this.GJ = w;
        if (o == d5.Dq) {
            this.Np(this.a6A);
            this.W$(w.jM)
        }
        this.x1.sj(w.x1);
        this.TT.sj(w.TT)
    };

    function hh(w, o, Q, K, b, R) {
        cv.call(this);
        this.nw = 0;
        this.a0J = this.aac.bind(this);
        this.Tc = b;
        this.Ot = K;
        this.Ew = w;
        this.a0k = o;
        this.a1g = R;
        this.dR = Q;
        this.d = _.B("button", "");
        this.d.innerHTML = _.oP(this.dR);
        if (this.a1g) {
            var X = _.B("img", "gsicon");
            X.setAttribute("src", PIMG["tools/corner"]);
            X.setAttribute("style", "position:absolute; right:0;  bottom:0; width:100%; height:100%;");
            this.d.appendChild(X)
        }
        this.v();
        _._v(this.d, this.MM.bind(this));
        this.d.addEventListener("click", this.Fo.bind(this), !1);
        this.d.addEventListener("contextmenu", hh.Cr, !1)
    }
    hh.prototype = new cv;
    hh.Cr = function(w) {
        w.stopPropagation();
        w.preventDefault();
        return !1
    };
    hh.prototype.v = function() {
        var w = this.a0k ? " (" + this.a0k.Y$ + ")" : "";
        this.d.setAttribute("title", b6.get(this.Ew) + w)
    };
    hh.prototype.MM = function(w) {
        this.nw = setTimeout(this.a0J, 160)
    };
    hh.prototype.Fo = function(w) {
        clearTimeout(this.nw);
        var o = new Y(_.E.h, !1);
        o.target = this;
        o.id = this.Ot;
        this.A(o)
    };
    hh.prototype.aac = function(w) {
        var o = new Y("mover", !1);
        o.target = this;
        o.id = this.Ot;
        this.A(o)
    };
    hh.prototype.aco = function(w) {
        this.d.setAttribute("class", w ? "toolbtn active" : "toolbtn")
    };

    function fo() {
        cv.call(this);
        this.d = _.B("div", "topbar");
        this.GK = _.B("span", "");
        this.abY = 0;
        this.d.appendChild(this.GK);
        this.e_ = null;
        this.SG = null;
        this.nD = [];
        this.Zt = [];
        var w = this.MM.bind(this);
        for (var M = 0; M < fo.data.length; M++) {
            var o = _.B("button");
            this.nD.push(o);
            this.GK.appendChild(o);
            o.addEventListener("mouseover", w, !1);
            _._v(o, w)
        }
        this.x6 = new dQ([0, 13, 0], !1, null, !0);
        this.x6.s("click", this._P, this);
        this.d.appendChild(this.x6.d);
        this.fA = new dQ(_.oP("tools/zoom", null, "autoscale"), !1, [12, 86]);
        this.fA.s("click", this._P, this);
        this.d.appendChild(this.fA.d)
    }
    fo.prototype = new cv;
    fo.prototype.AI = function() {
        if (this.Zt.length != 0) return;
        for (var M = 0; M < fo.data.length; M++) {
            var w = fo.data[M],
                o = new ag(w.items, w.Cz);
            o.parent = this;
            this.Zt.push(o)
        }
        this.v()
    };
    fo.prototype.v = function() {
        this.x6.v();
        this.fA.v();
        for (var M = 0; M < this.nD.length; M++) this.nD[M].textContent = b6.get(fo.data[M].name);
        this.p6();
        for (var M = 0; M < this.Zt.length; M++) this.Zt[M].v()
    };
    fo.prototype._P = function(w) {
        var o = new Y(_.E.N, !0);
        if (w.target == this.x6) o.data = {
            e: _.S.QH,
            hX: "account"
        };
        else o.data = {
            e: _.S.UE
        };
        this.A(o)
    };
    fo.prototype.ahD = function(w, o) {
        this.e_ = w;
        this.SG = o
    };
    fo.prototype.yy = function(w, o) {
        this.SG = w;
        if (o == d5.Dq) {
            var Q = w.aln;
            _.Tk(this.GK);
            for (var M = 0; M < this.nD.length; M++) {
                if (Q == null || Q[M] == 1 || Q[M] instanceof Array) this.GK.appendChild(this.nD[M]);
                if (Q != null && Q[M] instanceof Array) {
                    this.AI();
                    this.Zt[M].TM(Q[M])
                }
            }
            this.d.removeChild(this.x6.d);
            this.d.removeChild(this.fA.d);
            if (w.rl) this.d.appendChild(this.x6.d);
            this.d.appendChild(this.fA.d)
        }
        this.p6()
    };
    fo.prototype.p6 = function(w, o) {
        var Q = this.x6,
            K = 12255232;
        if (hi.wu()) K = hi.t5() ? 43520 : 16755200;
        Q.d.setAttribute("style", "color:#ffffff; background-color:#" + v.u9(K))
    };
    fo.prototype.MM = function(w) {
        this.AI();
        var M = this.nD.indexOf(w.currentTarget),
            o = this.Zt[M];
        if (w.type == "mouseover" && !_.wH(this.Zt[this.abY].d)) return;
        if (_.wH(o.d)) return;
        w.a91 = !0;
        this.abY = M;
        for (var M = 0; M < fo.data.length; M++) this.Zt[M].update(this.e_, this.SG);
        var Q = w.target.getBoundingClientRect(),
            K = new Y(_.E.N, !0);
        K.data = {
            e: _.S.Gj,
            wh: o,
            x: Q.left,
            y: Q.top + Q.height + 2,
            agj: !0
        };
        this.A(K)
    };
    fo.Lr = function(w) {
        var o = E,
            Q = o.HE,
            K = o.lK,
            b = o.O4,
            R = {
                name: [0, 5],
                items: [{
                    name: [7, 0],
                    qB: [Q, o.S]
                }, {
                    name: [7, 1],
                    qB: [Q, o.N4],
                    l: function(h) {
                        return {
                            l: h != null && h.o != null
                        }
                    }
                }, {
                    name: [7, 2],
                    qB: [K, Q, o.jr],
                    l: function(h) {
                        return {
                            l: h != null && h.o != null
                        }
                    },
                    S$: !0
                }, {
                    name: [7, 11],
                    G4: !0,
                    l: function(h) {
                        return {
                            l: h != null && h.u.length != 0 && !h.t[h.u[0]].rect.Kx()
                        }
                    }
                }, {
                    name: "Magic Cut",
                    G4: !0,
                    l: function(h) {
                        return {
                            l: h != null && h.u.length != 0 && !h.t[h.u[0]].rect.Kx()
                        }
                    },
                    S$: !0
                }, {
                    name: [7, 8],
                    G4: !0
                }, {
                    name: [7, 3],
                    S$: !0,
                    sub: [{
                        name: [7, 9],
                        G4: !0,
                        l: function(h) {
                            return {
                                l: h != null && h.o != null
                            }
                        }
                    }, {
                        name: [19, 3, 0],
                        G4: !0,
                        l: function(h) {
                            return {
                                l: h != null && h.o != null
                            }
                        }
                    }, {
                        name: [7, 4],
                        G4: !0,
                        l: function(h) {
                            return {
                                l: h != null && h.o != null
                            }
                        }
                    }, {
                        name: [7, 5],
                        G4: !0,
                        l: function(h) {
                            return {
                                l: h != null && h.o != null
                            }
                        }
                    }, {
                        name: [7, 6],
                        G4: !0,
                        l: function(h) {
                            return {
                                l: h != null && h.o != null
                            }
                        },
                        qB: "Shift+F6"
                    }]
                }, {
                    name: [7, 10],
                    l: function(h) {
                        return {
                            l: h != null && h.o != null
                        }
                    }
                }],
                Cz: [{
                    b: _.E.e9,
                    c: z.hz.RL(!0)
                }, {
                    b: _.E.e9,
                    c: z.hz.RL()
                }, {
                    b: _.E.e9,
                    c: {
                        hj: "inverse"
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.QH,
                        hX: "redge"
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.QH,
                        hX: "magiccut"
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.QH,
                        hX: "crange"
                    }
                }, {
                    sub: [{
                        b: _.E.N,
                        c: {
                            e: _.S.QH,
                            hX: "sel_border"
                        }
                    }, {
                        b: _.E.N,
                        c: {
                            e: _.S.QH,
                            hX: "sel_smoothness"
                        }
                    }, {
                        b: _.E.N,
                        c: {
                            e: _.S.QH,
                            hX: "sel_expand"
                        }
                    }, {
                        b: _.E.N,
                        c: {
                            e: _.S.QH,
                            hX: "sel_contract"
                        }
                    }, {
                        b: _.E.N,
                        c: {
                            e: _.S.QH,
                            hX: "sel_feather"
                        }
                    }]
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.Lz,
                        f: z.CK
                    }
                }]
            };
        if (w) {
            var X = R.items.length - 1;
            R.items.splice(X, 0, {
                name: [10, 16],
                qB: [b, Q, o.R]
            });
            R.Cz.splice(X, 0, {
                b: _.E.N,
                c: {
                    e: _.S.Lz,
                    f: z.Go
                }
            })
        }
        return R
    };
    fo.data = function() {
        var w = E,
            o = w.HE,
            Q = w.lK,
            K = w.O4,
            b = function(P) {
                return {
                    l: P != null && P.u.length != 0
                }
            },
            R = function(P) {
                return {
                    l: P != null && P.u.length != 0 && P.t[P.u[0]].add.SoLd != null
                }
            },
            X = [],
            h = [],
            e = "none maxx avrg medn minn rang stdv summ vari".split(" "),
            Z = [
                [22, 5, 0],
                [24, 17, 2],
                [24, 3, 0],
                [24, 7, 3],
                [24, 17, 3],
                [12, 12], "Standard Deviation", "Summation", "Variance"
            ];
        for (var M = 0; M < e.length; M++) {
            X.push({
                name: Z[M]
            });
            h.push({
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.ME,
                    tu: e[M]
                }
            })
        }
        return [{
            name: [0, 0],
            items: [{
                name: [5, 3],
                qB: [K, o, w.f2],
                title: [11, 7],
                G4: !0
            }, {
                name: [1, 0],
                qB: [o, w.m$],
                G4: !0
            }, {
                name: [1, 11],
                G4: !0,
                l: function(P, J) {
                    return {
                        l: P != null
                    }
                }
            }, {
                name: [1, 5],
                G4: !0,
                S$: !0
            }, {
                name: [11, 0]
            }, {
                name: [1, 1],
                S$: !0,
                sub: [{
                    name: "PNG",
                    qB: "Imgur.com",
                    l: function(P, J) {
                        return {
                            l: P != null && J.mv
                        }
                    }
                }, {
                    name: "JPG",
                    qB: "Imgur.com",
                    l: function(P, J) {
                        return {
                            l: P != null && J.mv
                        }
                    }
                }, {
                    name: "PSD",
                    qB: "Photopea.com",
                    l: function(P, J) {
                        return {
                            l: P != null && J.mv && !P.g9
                        }
                    }
                }]
            }, {
                name: "Save ...",
                qB: [o, w.rB],
                l: function(P, J) {
                    var i = b6.get([1, 2]) + (P == null ? "" : P.oJ ? " (Smart Object)" : P.lh ? " (Google Drive)" : "");
                    return {
                        l: P != null && (P.oJ != null || P.q7 != null && P.q7.hi != null || P.lh != null || J.nT.save != null),
                        Ow: i
                    }
                }
            }, {
                name: [1, 3],
                l: function(P, J) {
                    return {
                        l: P != null && !P.g9 && J.mv
                    }
                }
            }, {
                name: [1, 8],
                S$: !0,
                sub: function() {
                    var P = ip.Xe(0),
                        J = [];
                    for (var M = 0; M < P.length; M++) J.push({
                        name: P[M],
                        qB: "." + P[M].toLowerCase()
                    });
                    J.push({
                        name: [0, 14],
                        sub: function() {
                            var P = ip.Xe(1),
                                J = [];
                            for (var M = 0; M < P.length; M++) J.push({
                                name: P[M],
                                qB: "." + P[M].toLowerCase()
                            });
                            return J
                        }()
                    });
                    return J
                }()
            }, {
                name: [1, 9],
                G4: !0,
                l: function(P, J) {
                    return {
                        l: P != null
                    }
                }
            }, {
                name: "Export Color Lookup",
                G4: !0,
                l: function(P, J) {
                    return {
                        l: P != null
                    }
                },
                S$: !0
            }, {
                name: "File Info",
                G4: !0,
                l: function(P, J) {
                    return {
                        l: P != null
                    }
                },
                S$: !0
            }, {
                name: [1, 10]
            }],
            Cz: [{
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "newproject"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.IU
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.IU,
                    a8Z: !0
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "open_from_url"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "camera"
                }
            }, {
                sub: [{
                    b: _.E.N,
                    c: {
                        e: _.S.sI,
                        rZ: "png"
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.sI,
                        rZ: "jpg"
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.sI,
                        rZ: "psd"
                    }
                }]
            }, {
                b: _.E.N,
                c: {
                    e: _.S.O8
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.SU
                }
            }, {
                sub: function() {
                    var P = ip.Xe(0),
                        J = [];
                    for (var M = 0; M < P.length; M++) J.push({
                        b: _.E.N,
                        c: {
                            e: _.S.QH,
                            hX: "saveforweb",
                            rZ: M
                        }
                    });
                    J.push({
                        sub: function() {
                            var i = ip.Xe(0).length,
                                P = ip.Xe(1),
                                J = [];
                            for (var M = 0; M < P.length; M++) J.push({
                                b: _.E.N,
                                c: {
                                    e: _.S.QH,
                                    hX: "saveforweb",
                                    rZ: i + M
                                }
                            });
                            return J
                        }()
                    });
                    return J
                }()
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "eassets"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "exlut"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "finfo"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "script"
                }
            }]
        }, {
            name: [0, 1],
            items: [{
                name: [2, 8]
            }, {
                name: [2, 0],
                qB: [Q, o, w.OS]
            }, {
                name: [2, 1],
                qB: [o, w.OS],
                S$: !0
            }, {
                name: [2, 11],
                qB: [Q, o, w.Jx],
                S$: !0,
                G4: !0,
                l: function(P, J) {
                    return {
                        l: i9.vo(P) && J.jM != z.Go
                    }
                }
            }, {
                name: [5, 0],
                qB: [o, w.C3]
            }, {
                name: [5, 1],
                qB: [o, w.kS]
            }, {
                name: [5, 7],
                qB: [Q, o, w.kS]
            }, {
                name: [5, 2],
                qB: [o, w.fx],
                l: function(P, J) {
                    return {
                        l: _.Qm() || J.nd != null || J.f9 != null || J.a9D != null
                    }
                }
            }, {
                name: [2, 2],
                l: function(P) {
                    return {
                        l: P != null && P.o != null
                    }
                },
                qB: "Delete",
                S$: !0
            }, {
                name: [2, 3],
                l: function(P) {
                    return {
                        l: P != null
                    }
                },
                G4: !0,
                qB: [Q, w.g5]
            }, {
                name: [14, 9],
                l: function(P) {
                    return {
                        l: P != null
                    }
                },
                G4: !0,
                S$: !0
            }, {
                name: [10, 48],
                l: function(P) {
                    return {
                        l: P != null && P.yD(!1)
                    }
                }
            }, {
                name: [10, 46],
                l: function(P) {
                    return {
                        l: z.ok.DN(P)
                    }
                }
            }, {
                name: [10, 16],
                qB: [K, o, w.R]
            }, {
                name: [2, 4],
                sub: ix.Xv()
            }, {
                name: [2, 10, 1]
            }, {
                name: [2, 10, 0],
                S$: !0
            }, {
                name: [12, 87],
                sub: [{
                    name: [12, 62],
                    l: function(P) {
                        return {
                            l: P != null
                        }
                    }
                }, {
                    name: [9, 3],
                    l: function(P) {
                        return {
                            l: P != null
                        }
                    }
                }, {
                    name: [10, 31],
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]].add.vmsk != null
                        }
                    }
                }]
            }, {
                name: [12, 79],
                G4: !0,
                qB: [o, w.tf]
            }, {
                name: [1, 13],
                G4: !0
            }],
            Cz: [{
                b: _.E.z,
                f: z.Rq,
                c: {
                    e: "h_undoredo"
                }
            }, {
                b: _.E.z,
                f: z.Rq,
                c: {
                    e: "h_stepfwd"
                }
            }, {
                b: _.E.z,
                f: z.Rq,
                c: {
                    e: "h_stepbck"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "afw_fade"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.qD
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.Gy
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.Gy,
                    fI: !0
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.a7
                }
            }, {
                b: _.E.e9,
                c: {
                    hj: "delete"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "fill"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "stroke"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.Lz,
                    f: z.Vz
                }
            }, {
                b: _.E.z,
                f: z.uB,
                c: {
                    e: "start",
                    AP: "rigidTransform"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.Lz,
                    f: z.Go
                }
            }, {
                sub: ix.ty()
            }, {
                b: _.E.e9,
                c: {
                    hj: "align",
                    H8: {
                        classID: "null",
                        null: {
                            t: "obj ",
                            v: [{
                                t: "Enmr",
                                v: {
                                    classID: "Lyr",
                                    typeID: "Ordn",
                                    enum: "Trgt"
                                }
                            }]
                        },
                        Usng: {
                            t: "enum",
                            v: {
                                ADSt: "ADSContent"
                            }
                        },
                        alignToCanvas: {
                            t: "bool",
                            v: !1
                        },
                        Aply: {
                            t: "enum",
                            v: {
                                projection: "Auto"
                            }
                        },
                        vignette: {
                            t: "bool",
                            v: !1
                        },
                        radialDistort: {
                            t: "bool",
                            v: !1
                        }
                    }
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.FN
                }
            }, {
                sub: [{
                    b: _.E.N,
                    c: {
                        e: _.S.WI,
                        pO: 0
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.WI,
                        pO: 1
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.WI,
                        pO: 2
                    }
                }]
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "preferences"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "locstor"
                }
            }]
        }, {
            name: [0, 2],
            items: [{
                name: [3],
                sub: function() {
                    var P = [];
                    for (var J in au.names) {
                        P.push({
                            name: au.names[J],
                            G4: m[J] != null,
                            qB: E.p2(au.keys[J]),
                            S$: au.yZ.indexOf(J) != -1
                        });
                        if (J == "selc") {
                            P.push({
                                name: ["VAR0/VAR1", [19, 6, 0],
                                    [19, 6, 2]
                                ],
                                G4: !0,
                                S$: !0
                            });
                            P.push({
                                name: [19, 7, 0],
                                qB: [o, Q, w.Zj],
                                l: function(J) {
                                    return {
                                        l: J && J.u.length != 0 && J.t[J.u[0]].add.SoLd == null
                                    }
                                }
                            })
                        }
                    }
                    return P
                }()
            }, {
                name: [4, 16, 0],
                l: function(P) {
                    return {
                        l: P != null && P.yD(!1)
                    }
                }
            }, {
                name: [4, 16, 1],
                l: function(P) {
                    return {
                        l: P != null && P.yD(!1)
                    }
                }
            }, {
                name: [4, 16, 2],
                l: function(P) {
                    return {
                        l: P != null && P.yD(!1)
                    }
                },
                S$: !0
            }, {
                name: [11, 11],
                l: function(P) {
                    return {
                        l: P != null && P.yD(!1)
                    }
                },
                S$: !0
            }, {
                name: [11, 3],
                G4: !0,
                qB: [K, o, w.kS]
            }, {
                name: [11, 10],
                G4: !0,
                qB: [K, o, w.jr]
            }, {
                name: [2, 4],
                sub: [{
                    name: ["VAR0 90\xB0 \u21BB", [2, 5]]
                }, {
                    name: ["VAR0 90\xB0 \u21BA", [2, 5]]
                }, {
                    name: ["VAR0 180\xB0", [2, 5]]
                }, {
                    name: [
                        [2, 6],
                        [22, 4, 2]
                    ]
                }, {
                    name: [
                        [2, 6],
                        [22, 4, 3]
                    ]
                }]
            }, {
                name: [11, 12, 1],
                l: function(P) {
                    return {
                        l: P != null && P.o != null
                    }
                }
            }, {
                name: [11, 12, 0],
                l: function(P) {
                    return {
                        l: P != null
                    }
                },
                qB: [o, w.JO]
            }, {
                name: [11, 12, 2],
                l: function(P) {
                    return {
                        l: P != null
                    }
                },
                S$: !0
            }, {
                name: [2, 12],
                l: function(P) {
                    return {
                        l: P != null && P.yD(!1)
                    }
                },
                G4: !0
            }],
            Cz: [{
                sub: function() {
                    var P = [];
                    for (var J in au.names) {
                        P.push({
                            b: _.E.z,
                            f: z.U1,
                            c: {
                                e: "start",
                                uQ: J
                            }
                        });
                        if (J == "selc") {
                            P.push({
                                b: _.E.z,
                                f: z.uB,
                                c: {
                                    e: "start",
                                    AP: "adaptCorrect"
                                }
                            });
                            P.push({
                                b: _.E.e9,
                                c: {
                                    hj: "desaturate"
                                }
                            })
                        }
                    }
                    return P
                }()
            }, {
                b: _.E.e9,
                c: {
                    hj: "levels",
                    H8: {
                        classID: "Lvls",
                        Auto: {
                            t: "bool",
                            v: !0
                        }
                    }
                }
            }, {
                b: _.E.e9,
                c: {
                    hj: "levels",
                    H8: {
                        classID: "Lvls",
                        AuCo: {
                            t: "bool",
                            v: !0
                        }
                    }
                }
            }, {
                b: _.E.e9,
                c: {
                    hj: "levels",
                    H8: {
                        classID: "Lvls",
                        autoBlackWhite: {
                            t: "bool",
                            v: !0
                        },
                        autoNeutrals: {
                            t: "bool",
                            v: !0
                        }
                    }
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "vbitmap"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "csize"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "isize"
                }
            }, {
                sub: [{
                    b: _.E.e9,
                    c: z.Z.TS(!0, 90)
                }, {
                    b: _.E.e9,
                    c: z.Z.TS(!0, -90)
                }, {
                    b: _.E.e9,
                    c: z.Z.TS(!0, -180)
                }, {
                    b: _.E.e9,
                    c: z.Z.TS(!1, "Hrzn")
                }, {
                    b: _.E.e9,
                    c: z.Z.TS(!1, "Vrtc")
                }]
            }, {
                b: _.E.z,
                f: z.V_,
                c: {
                    e: "cropbysel",
                    a4z: 0
                }
            }, {
                b: _.E.e9,
                c: z.U0.FJ(0)
            }, {
                b: _.E.e9,
                c: {
                    hj: "revealAll",
                    H8: {
                        classID: "RvlA"
                    }
                }
            }, {
                b: _.E.z,
                f: z.U1,
                c: {
                    e: "start",
                    uQ: "aply"
                }
            }]
        }, {
            name: [0, 3],
            items: [{
                name: [5, 3],
                sub: [{
                    name: [0, 3]
                }, {
                    name: [0, 4]
                }, {
                    name: [6, 49],
                    qB: [o, w.yb]
                }]
            }, {
                name: [6, 0],
                l: b,
                qB: [o, w.yb]
            }, {
                name: [11, 4],
                l: b
            }, {
                name: [5, 4],
                l: b,
                S$: !0
            }, {
                name: [11, 6],
                S$: !0,
                l: b,
                sub: g6.YA(!0)
            }, {
                name: [6, 48, 1],
                sub: [{
                    name: [6, 48, 0, 0]
                }, {
                    name: [6, 48, 0, 1]
                }, {
                    name: [6, 48, 0, 2]
                }]
            }, {
                name: [6, 1],
                S$: !0,
                sub: g6.uD()
            }, {
                name: [6, 2],
                sub: [{
                    name: [6, 4],
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]]._f() == null
                        }
                    }
                }, {
                    name: [6, 5, 0],
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]]._f() == null
                        }
                    }
                }, {
                    name: [6, 5, 1],
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]]._f() == null && P.o != null
                        }
                    }
                }, {
                    name: [6, 5, 2],
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]]._f() == null && P.o != null
                        }
                    }
                }, {
                    name: [6, 5, 3],
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]]._f() == null
                        }
                    },
                    S$: !0
                }, {
                    name: [5, 4],
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]]._f() != null
                        }
                    }
                }, {
                    name: [5, 8],
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]]._f() != null && P.yD(!1, !0)
                        }
                    }
                }, {
                    name: ["VAR0/VAR1", [5, 5],
                        [5, 6]
                    ],
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]]._f() != null
                        }
                    }
                }]
            }, {
                name: [6, 3],
                sub: [{
                    name: [6, 4],
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]].add.vmsk == null
                        }
                    }
                }, {
                    name: [6, 5, 0],
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]].add.vmsk == null
                        }
                    }
                }, {
                    name: "Current Path",
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]].add.vmsk == null
                        }
                    },
                    S$: !0
                }, {
                    name: [5, 4],
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]].add.vmsk != null
                        }
                    }
                }, {
                    name: ["VAR0/VAR1", [5, 5],
                        [5, 6]
                    ],
                    l: function(P) {
                        return {
                            l: P != null && P.u.length != 0 && P.t[P.u[0]].add.vmsk != null
                        }
                    }
                }]
            }, {
                name: [6, 6, 0],
                qB: [K, o, w.PJ],
                S$: !0,
                l: function(P) {
                    return {
                        r8: P != null && P.u.length != 0 && P.t[P.u[0]].xx,
                        l: P != null && P.dH(P.u[0])
                    }
                }
            }, {
                name: "Smart Object",
                S$: !0,
                sub: [{
                    name: [6, 7]
                }, {
                    name: [6, 36, 4],
                    l: R,
                    sub: X
                }, {
                    name: [1, 0],
                    l: R,
                    S$: !0
                }, {
                    name: "Turn into JPG"
                }]
            }, {
                name: [6, 8],
                l: function(P) {
                    if (P == null || P.u.length == 0) return {
                        l: !1
                    };
                    var J = P.t[P.u[0]];
                    if (J.add.TySh || J.add.SoLd || J.add.SoCo || J.add.GdFl || J.add.PtFl) return {
                        l: !0
                    };
                    return {
                        l: !1
                    }
                }
            }, {
                name: [6, 34],
                S$: !0,
                l: function(P) {
                    if (P == null || P.u.length == 0) return {
                        l: !1
                    };
                    var J = P.t[P.u[0]];
                    return {
                        l: J.add.lmfx != null && !J.xI()
                    }
                }
            }, {
                name: [6, 9],
                S$: !0,
                qB: [o, w.PJ]
            }, {
                name: [6, 55],
                S$: !0,
                sub: [{
                    name: [6, 56, 0],
                    qB: [Q, o, w.OB]
                }, {
                    name: [6, 56, 1],
                    qB: [o, w.OB]
                }, {
                    name: [6, 56, 2],
                    qB: [o, w.dr]
                }, {
                    name: [6, 56, 3],
                    qB: [Q, o, w.dr]
                }]
            }, {
                name: "Animation",
                sub: [{
                    name: [18, 5]
                }]
            }, {
                name: [6, 10],
                l: function(P) {
                    return {
                        l: P != null && P.u.length == 1 && P.u[0] != 0 && !P.t[P.u[0]].xI()
                    }
                },
                qB: [o, w.E]
            }, {
                name: [6, 12, 0],
                l: function(P) {
                    return {
                        l: P != null && P.u.length != 0 && (P.u.length > 1 || P.t[P.u[0]].xI())
                    }
                }
            }, {
                name: [6, 12, 1]
            }],
            Cz: [{
                sub: [{
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.Dn
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.Fm
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.CU
                    }
                }]
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.NK
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "duplinto"
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.kG
                }
            }, {
                sub: g6.M9(!0)
            }, {
                sub: [{
                    b: _.E.z,
                    f: z.t2,
                    c: {
                        e: "newfill",
                        BL: 0
                    }
                }, {
                    b: _.E.e9,
                    c: z.ti.M3(1)
                }, {
                    b: _.E.e9,
                    c: z.ti.M3(2)
                }]
            }, {
                sub: g6.pb()
            }, {
                sub: [{
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.vF,
                        mK: "RvlA"
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.vF,
                        mK: "HdAl"
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.vF,
                        mK: "RvlS"
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.vF,
                        mK: "HdSl"
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.vF,
                        mK: "Trns"
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.n$
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.Hx
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.FZ
                    }
                }]
            }, {
                sub: [{
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.s2,
                        a8o: !1
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.s2,
                        a8o: !0
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.s2,
                        afS: !0
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.iA
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.wr
                    }
                }]
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.nR
                }
            }, {
                sub: [{
                    b: _.E.e9,
                    c: {
                        hj: "newPlacedLayer"
                    }
                }, {
                    sub: h
                }, {
                    b: _.E.e9,
                    c: {
                        hj: "placedLayerEditContents",
                        H8: {
                            classID: "placedLayerEditContents"
                        }
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.CR
                    }
                }]
            }, {
                b: _.E.e9,
                c: {
                    hj: "rasterizeLayer",
                    H8: {
                        classID: "rasterizeLayer",
                        null: hX.EX("Lyr", !0)
                    }
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.bO
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.uR
                }
            }, {
                sub: [{
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.aH,
                        D3: 0
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.aH,
                        D3: 1
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.aH,
                        D3: 2
                    }
                }, {
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.aH,
                        D3: 3
                    }
                }]
            }, {
                sub: [{
                    b: _.E.z,
                    f: z.lz,
                    c: {
                        e: a.xn
                    }
                }]
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.NH
                }
            }, {
                b: _.E.z,
                f: z.lz,
                c: {
                    e: a.FS
                }
            }, {
                b: _.E.e9,
                c: {
                    hj: "flattenImage"
                }
            }]
        }, fo.Lr(!1), function() {
            var P = {
                name: [0, 6],
                items: [{
                    name: [24, 18, 4],
                    qB: [K, o, w.Jx],
                    S$: !0
                }],
                Cz: [{
                    b: _.E.z,
                    f: z.uB,
                    c: {
                        e: "applylast"
                    }
                }]
            };
            for (var M = 0; M < bf.y0.length; M++) {
                var J = bf.y0[M];
                if (J.pE != null) {
                    P.items.push({
                        name: bf.names[J.pE],
                        G4: !0,
                        S$: J.S$
                    });
                    P.Cz.push({
                        b: _.E.z,
                        f: z.uB,
                        c: {
                            e: "start",
                            AP: J.pE
                        }
                    });
                    continue
                }
                var i = {
                    name: J.YD,
                    sub: []
                };
                P.items.push(i);
                var k = {
                    sub: []
                };
                P.Cz.push(k);
                for (var $ = 0; $ < J.Qa.length; $++) {
                    var n = {
                        name: bf.names[J.Qa[$]],
                        G4: bf._R(J.Qa[$]) != null
                    };
                    i.sub.push(n);
                    var j = {
                        b: _.E.z,
                        f: z.uB,
                        c: {
                            e: "start",
                            AP: J.Qa[$]
                        }
                    };
                    k.sub.push(j)
                }
            }
            return P
        }(), {
            name: [0, 7],
            items: [{
                name: [8, 0],
                qB: [o, w.SO]
            }, {
                name: [8, 1],
                qB: [o, w.oV]
            }, {
                name: [20, 3],
                qB: [o, w.yI]
            }, {
                name: [20, 2],
                qB: [o, w.oF],
                S$: !0
            }, {
                name: "Extras",
                qB: [o, w.hy],
                l: function(P, J) {
                    return {
                        r8: J.O2
                    }
                }
            }, {
                name: [8, 12],
                S$: !0,
                sub: [{
                    name: [17, 2],
                    l: function(P, J) {
                        return {
                            l: J.O2,
                            r8: J.w1.Rx
                        }
                    }
                }, {
                    name: [8, 9],
                    l: function(P, J) {
                        return {
                            l: J.O2,
                            r8: J.w1.BY
                        }
                    }
                }, {
                    name: [8, 2],
                    l: function(P, J) {
                        return {
                            l: J.O2,
                            r8: J.w1.TH
                        }
                    },
                    qB: [o, w.El]
                }, {
                    name: [8, 4],
                    l: function(P, J) {
                        return {
                            l: J.O2,
                            r8: J.w1.kU
                        }
                    },
                    qB: [o, w.IZ]
                }, {
                    name: [8, 8],
                    l: function(P, J) {
                        return {
                            l: J.O2,
                            r8: J.w1.ai
                        }
                    }
                }, {
                    name: [8, 11, 0],
                    l: function(P, J) {
                        return {
                            l: J.O2,
                            r8: J.w1.sY
                        }
                    }
                }]
            }, {
                name: [8, 3],
                l: function(P, J) {
                    return {
                        r8: J.Xh
                    }
                },
                qB: [o, w.To],
                S$: !0
            }, {
                name: [8, 5],
                l: function(P, J) {
                    return {
                        r8: J.mo
                    }
                }
            }, {
                name: [8, 6],
                S$: !0,
                sub: [{
                    name: [8, 2],
                    l: function(P, J) {
                        return {
                            r8: J.N0[0]
                        }
                    }
                }, {
                    name: [8, 4],
                    l: function(P, J) {
                        return {
                            r8: J.N0[1]
                        }
                    }
                }, {
                    name: [9, 1],
                    l: function(P, J) {
                        return {
                            r8: J.N0[2]
                        }
                    }
                }, {
                    name: [8, 11, 0],
                    l: function(P, J) {
                        return {
                            r8: J.N0[3]
                        }
                    }
                }, {
                    name: [8, 7],
                    l: function(P, J) {
                        return {
                            r8: J.N0[4]
                        }
                    }
                }]
            }, {
                name: [11, 15, 0],
                l: function(P, J) {
                    return {
                        l: P != null
                    }
                }
            }, {
                name: [11, 14],
                l: function(P, J) {
                    return {
                        l: P != null
                    }
                },
                G4: !0
            }, {
                name: [11, 15, 1],
                l: function(P, J) {
                    return {
                        l: P != null && P.u.length != 0
                    }
                }
            }],
            Cz: [{
                b: _.E.z,
                f: z.xT,
                c: {
                    e: "zoom",
                    w8: !0
                }
            }, {
                b: _.E.z,
                f: z.xT,
                c: {
                    e: "zoom",
                    w8: !1
                }
            }, {
                b: _.E.z,
                f: z.xT,
                c: {
                    e: "adapt",
                    F: "fitscr"
                }
            }, {
                b: _.E.z,
                f: z.xT,
                c: {
                    e: "adapt",
                    F: "pixel"
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.UA,
                    pO: d5.Nc
                }
            }, {
                sub: [{
                    b: _.E.N,
                    c: {
                        e: _.S.UA,
                        pO: d5.r1
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.UA,
                        pO: d5._o
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.UA,
                        pO: d5.Sm
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.UA,
                        pO: d5.lr
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.UA,
                        pO: d5.WF
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.UA,
                        pO: d5.wt
                    }
                }]
            }, {
                b: _.E.N,
                c: {
                    e: _.S.UA,
                    pO: d5.cu
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.UA,
                    pO: d5.nQ
                }
            }, {
                sub: [{
                    b: _.E.N,
                    c: {
                        e: _.S.UA,
                        pO: d5.ar,
                        DB: 0
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.UA,
                        pO: d5.ar,
                        DB: 1
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.UA,
                        pO: d5.ar,
                        DB: 2
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.UA,
                        pO: d5.ar,
                        DB: 3
                    }
                }, {
                    b: _.E.N,
                    c: {
                        e: _.S.UA,
                        pO: d5.ar,
                        DB: 4
                    }
                }]
            }, {
                b: _.E.z,
                f: z.sk,
                c: {
                    e: "gids",
                    sV: [
                        [],
                        []
                    ]
                }
            }, {
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "addguides"
                }
            }, {
                b: _.E.z,
                f: z.sk,
                c: {
                    e: "gidsFromLayer"
                }
            }]
        }, function() {
            var P = {
                name: [0, 8],
                items: [{
                    name: [0, 14],
                    S$: !0,
                    sub: []
                }],
                Cz: [{
                    sub: []
                }]
            };
            for (var M = 0; M < fH.Uc.length; M++) {
                var J = fH.Uc[M];
                (J.AM ? P.items[0].sub : P.items).push({
                    name: J.wh.name
                });
                (J.AM ? P.Cz[0].sub : P.Cz).push({
                    b: _.E.N,
                    c: {
                        e: _.S.g3,
                        hX: J.wh.QF
                    }
                })
            }
            return P
        }(), function() {
            var P = {
                    name: [0, 14],
                    items: [],
                    Cz: []
                },
                J = {
                    name: [0, 9],
                    sub: []
                };
            P.items.push(J);
            var i = {
                sub: []
            };
            P.Cz.push(i);
            var k = b6.ahe();
            for (var M = 0; M < k.length; M++) {
                var $ = k[M],
                    n = $.code,
                    j = b6.Z$(n);
                J.sub.push({
                    name: $.name,
                    qB: n,
                    l: function(y, V) {
                        return {
                            r8: this.qB == b6.vx()
                        }
                    }
                });
                i.sub.push({
                    b: _.E.N,
                    c: {
                        e: _.S.UA,
                        pO: d5.GM,
                        lang: j
                    }
                })
            }
            J.sub.push({
                name: [0, 12]
            });
            i.sub.push({
                b: _.E.N,
                c: {
                    e: _.S.uq,
                    link: "https://www.photopea.com/translate/"
                }
            });
            var J = {
                name: [0, 15],
                sub: []
            };
            P.items.push(J);
            var i = {
                sub: []
            };
            P.Cz.push(i);
            for (var M = 0; M < ab.la.length; M++) {
                J.sub.push({
                    name: ab.la[M].name,
                    l: function(y, V) {
                        return {
                            r8: this.name == ab.la[V.wA].name
                        }
                    }
                });
                i.sub.push({
                    b: _.E.N,
                    c: {
                        e: _.S.UA,
                        pO: d5.wj,
                        wA: M
                    }
                })
            }
            P.items.push({
                name: "Install Photopea",
                l: function(y, V) {
                    return {
                        l: V.cL != null
                    }
                }
            });
            P.Cz.push({
                b: _.E.N,
                c: {
                    e: _.S.Sn
                }
            });
            P.items.push({
                name: [11, 13]
            });
            P.Cz.push({
                b: _.E.N,
                c: {
                    e: _.S.QH,
                    hX: "shortcuts"
                }
            });
            P.items.push({
                name: [0, 16],
                l: function(y) {
                    return {
                        r8: d.cv,
                        l: d.uy
                    }
                }
            });
            P.Cz.push({
                b: _.E.N,
                c: {
                    e: _.S.R3
                }
            });
            return P
        }()]
    }();

    function e0() {
        cv.call(this);
        this.d = _.B("div", "");
        this.$B = 0;
        this.IP = 0;
        this.AL = null;
        this.bx = _.B("div", "");
        this.bx.setAttribute("style", "width:200em; height:100em; position:absolute;");
        this.DA = [];
        this.cZ = []
    }
    e0.prototype = new cv;
    e0.prototype.jL = function() {
        this.cZ = [new eG, new hc, new cp, new il, new eL, new eH, new e5, new cs, new g2, new hW, new dD, new hF, new e3, new iD, new e1, new g6, new ek, new bF, new fq, new gr, new aK, new dC, new dy, new hS, new i5, new f$, new iz(0), new iz(1), new c3, new gd, new aB, new gw, new hJ, new ev, new hq("border", [7, 9], "px"), new hq("smoothness", [19, 3, 0], "px"), new hq("expand", [7, 4], "px"), new hq("contract", [7, 5], "px"), new hq("feather", [7, 6], "px"), new fC(0, "namewindow", [12, 48]), new fC(1, "cornerradius", [12, 94, 0], !0), new fC(1, "scaleeffects", "Scale Effects", !0)];
        for (var w in m) this.cZ.push(new i9(w));
        for (var M = 0; M < this.cZ.length; M++) {
            var o = this.cZ[M];
            o.s(_.E.PD, this.df, this);
            o.parent = this
        }
    };
    e0.prototype.VJ = function(w, o) {
        this.$B = w;
        this.IP = o;
        for (var M = 0; M < this.cZ.length; M++) this.re(this.cZ[M])
    };
    e0.prototype.v = function() {
        for (var M = 0; M < this.cZ.length; M++) this.cZ[M].v()
    };
    e0.prototype.au = function() {
        return this.DA.length == 0 ? null : this.DA[this.DA.length - 1]
    };
    e0.prototype.AO = function() {
        for (var M = 0; M < this.DA.length; M++)
            if (this.DA[M].AO()) return !0;
        return !1
    };
    e0.prototype.aaV = function(w, o, Q, K, b) {
        if (this.cZ.length == 0) {
            this.jL();
            this.VJ(this.$B, this.IP);
            this.v();
            if (this.AL) this.yy(this.AL, d5.Dq)
        }
        var R = null;
        if (typeof w == "object") {
            R = w;
            if (!R.jn(_.E.PD, this.df)) R.s(_.E.PD, this.df, this);
            R.parent = this
        } else
            for (var M = 0; M < this.cZ.length; M++)
                if (this.cZ[M].id == w) R = this.cZ[M];
        if (this.AO() && R.AO()) {
            alert("Finish the current action first");
            return
        }
        if (!R.Za(o)) return;
        if (this.DA.indexOf(R) != -1) {
            if (w == "colorpicker") R.MV(o, Q, K, b);
            return
        }
        var X = this.DA.length - 1;
        if (X >= 0) _.Ka(this.DA[X].d, "wdisabled");
        this.d.appendChild(R.d);
        this.DA.push(R);
        this.re(R);
        R.MV(o, Q, K, b)
    };
    e0.prototype.re = function(w) {
        var o = this.$B,
            Q = this.IP,
            K = w.DZ(o, Q),
            b;
        if (K != null) {
            b = K
        } else {
            K = new fB(0, 0);
            b = w.a6L();
            if (b == null) {
                var R = this.DA.indexOf(w) + 1;
                if (o < 450 || Q < 450) b = new fB(0, 0);
                else b = new fB(R * 150, R * 150)
            }
        }
        w.d.style.left = b.x + "px";
        w.d.style.top = this.d.offsetTop + b.y + "px";
        w.VJ(this.$B - K.x * 2, this.IP - K.y * 2 - 34)
    };
    e0.prototype.yy = function(w, o) {
        this.AL = w;
        for (var M = 0; M < this.cZ.length; M++) this.cZ[M].yy(w, o)
    };
    e0.prototype.df = function(w) {
        var o = this.DA.pop();
        this.d.removeChild(o.d);
        var Q = this.DA.length - 1;
        if (Q >= 0) _.Xt(this.DA[Q].d, "wdisabled");
        if (this.bx.parentNode == this.d) this.d.removeChild(this.bx)
    };
    window.onload = function() {
        var w = new ea;
        document.body.appendChild(w.d)
    }
}())